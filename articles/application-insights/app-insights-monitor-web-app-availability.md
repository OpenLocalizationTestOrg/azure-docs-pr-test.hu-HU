---
title: "Webhelyek rendelkezésre állásának és válaszkészségének megfigyelése | Microsoft Docs"
description: "Webes teszteket állíthat be az Application Insightsban. Riasztásokat kaphat, ha egy webhely elérhetetlenné válik vagy lassan válaszol."
services: application-insights
documentationcenter: 
author: SoubhagyaDash
manager: carmonm
ms.assetid: 46dc13b4-eb2e-4142-a21c-94a156f760ee
ms.service: application-insights
ms.workload: tbd
ms.tgt_pltfrm: ibiza
ms.devlang: na
ms.topic: get-started-article
ms.date: 05/25/2017
ms.author: bwren
ms.openlocfilehash: 6c7f52fc3998b0b29301206ffbc6a5a0c4134f6a
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 08/18/2017
---
# <a name="monitor-availability-and-responsiveness-of-any-web-site"></a><span data-ttu-id="11938-104">Webhelyek rendelkezésre állásának és válaszkészségének megfigyelése</span><span class="sxs-lookup"><span data-stu-id="11938-104">Monitor availability and responsiveness of any web site</span></span>
<span data-ttu-id="11938-105">Miután telepítette a webappot vagy a webhelyet bármely kiszolgálóra, webes teszteket állíthat be az alkalmazás rendelkezésre állásának és válaszkészségének megfigyeléséhez.</span><span class="sxs-lookup"><span data-stu-id="11938-105">After you've deployed your web app or web site to any server, you can set up tests to monitor its availability and responsiveness.</span></span> <span data-ttu-id="11938-106">Az [Azure Application Insights](app-insights-overview.md) rendszeres időközönként, világszerte különböző helyekről webes kéréseket küld az alkalmazására.</span><span class="sxs-lookup"><span data-stu-id="11938-106">[Azure Application Insights](app-insights-overview.md) sends web requests to your application at regular intervals from points around the world.</span></span> <span data-ttu-id="11938-107">Riasztást jelenít meg, ha az alkalmazás nem válaszol, vagy lassan válaszol.</span><span class="sxs-lookup"><span data-stu-id="11938-107">It alerts you if your application doesn't respond, or responds slowly.</span></span>

<span data-ttu-id="11938-108">Rendelkezésre állási teszteket állíthat be bármely olyan HTTP- vagy HTTPS-végponthoz, amely a nyilvános internetről érhető el.</span><span class="sxs-lookup"><span data-stu-id="11938-108">You can set up availability tests for any HTTP or HTTPS endpoint that is accessible from the public internet.</span></span> <span data-ttu-id="11938-109">Nem kell semmit hozzáadnia a tesztelt webhelyhez.</span><span class="sxs-lookup"><span data-stu-id="11938-109">You don't have to add anything to the web site you're testing.</span></span> <span data-ttu-id="11938-110">Még csak arra sincs szükség, hogy a saját webhelye legyen: tesztelhet egy olyan REST API-t is, amelyet használni szokott.</span><span class="sxs-lookup"><span data-stu-id="11938-110">It doesn't even have to be your site: you could test a REST API service on which you depend.</span></span>

<span data-ttu-id="11938-111">A rendelkezésre állási teszteknek két típusuk van:</span><span class="sxs-lookup"><span data-stu-id="11938-111">There are two types of availability tests:</span></span>

* <span data-ttu-id="11938-112">[URL-ping teszt](#create): egyszerű teszt, amelyet az Azure Portalon hozhat létre.</span><span class="sxs-lookup"><span data-stu-id="11938-112">[URL ping test](#create): a simple test that you can create in the Azure portal.</span></span>
* <span data-ttu-id="11938-113">[Többlépéses webes teszt](#multi-step-web-tests): ezt a Visual Studio Enterprise segítségével hozhatja létre és feltöltheti a portálra.</span><span class="sxs-lookup"><span data-stu-id="11938-113">[Multi-step web test](#multi-step-web-tests): which you create in Visual Studio Enterprise and upload to the portal.</span></span>

<span data-ttu-id="11938-114">Alkalmazás-erőforrásonként legfeljebb 25 rendelkezésre állási tesztet hozhat létre.</span><span class="sxs-lookup"><span data-stu-id="11938-114">You can create up to 25 availability tests per application resource.</span></span>

## <span data-ttu-id="11938-115"><a name="create"></a>1. Erőforrás megnyitása a rendelkezésre állási tesztek jelentéseihez</span><span class="sxs-lookup"><span data-stu-id="11938-115"><a name="create"></a>1. Open a resource for your availability test reports</span></span>

<span data-ttu-id="11938-116">**Ha már konfigurálta az Application Insights szolgáltatást** a webapphoz, nyissa meg a hozzá tartozó Application Insights-erőforrást [az Azure Portalon](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="11938-116">**If you have already configured Application Insights** for your web app, open its Application Insights resource in the [Azure portal](https://portal.azure.com).</span></span>

<span data-ttu-id="11938-117">**Vagy ha a jelentéseket új erőforrásban szeretné megtekinteni,** regisztráljon a [Microsoft Azure](http://azure.com)-ba, lépjen az [Azure Portalra](https://portal.azure.com), és hozzon létre egy Application Insights-erőforrást.</span><span class="sxs-lookup"><span data-stu-id="11938-117">**Or, if you want to see your reports in a new resource,** sign up to [Microsoft Azure](http://azure.com), go to the [Azure portal](https://portal.azure.com), and create an Application Insights resource.</span></span>

![Új > Application Insights](./media/app-insights-monitor-web-app-availability/11-new-app.png)

<span data-ttu-id="11938-119">Az új erőforrás Áttekintés paneljének megnyitásához kattintson az **Összes erőforrás** lehetőségre.</span><span class="sxs-lookup"><span data-stu-id="11938-119">Click **All resources** to open the Overview blade for the new resource.</span></span>

## <span data-ttu-id="11938-120"><a name="setup"></a>2. URL-ping teszt létrehozása</span><span class="sxs-lookup"><span data-stu-id="11938-120"><a name="setup"></a>2. Create a URL ping test</span></span>
<span data-ttu-id="11938-121">Nyissa meg a Rendelkezésre állás panelt, és adjon hozzá egy tesztet.</span><span class="sxs-lookup"><span data-stu-id="11938-121">Open the Availability blade and add a test.</span></span>

![Töltse ki legalább a webhelye URL-címét](./media/app-insights-monitor-web-app-availability/13-availability.png)

* <span data-ttu-id="11938-123">**Az URL-cím** bármilyen tesztelni kívánt weblap lehet, de láthatónak kell lennie a nyilvános internetről.</span><span class="sxs-lookup"><span data-stu-id="11938-123">**The URL** can be any web page you want to test, but it must be visible from the public internet.</span></span> <span data-ttu-id="11938-124">Az URL-cím tartalmazhat lekérdezési karakterláncot.</span><span class="sxs-lookup"><span data-stu-id="11938-124">The URL can include a query string.</span></span> <span data-ttu-id="11938-125">Tehát például kísérletezhet egy kicsit az adatbázissal.</span><span class="sxs-lookup"><span data-stu-id="11938-125">So, for example, you can exercise your database a little.</span></span> <span data-ttu-id="11938-126">Ha az URL feloldása egy átirányítást eredményez, legfeljebb 10 átirányításig követjük.</span><span class="sxs-lookup"><span data-stu-id="11938-126">If the URL resolves to a redirect, we follow it up to 10 redirects.</span></span>
* <span data-ttu-id="11938-127">**Függő kérelmek elemzése**: Ha a beállítás be van jelölve, a teszt lekéri a tesztelt weblap képeit, szkriptjeit, stílusfájljait és más erőforrásait.</span><span class="sxs-lookup"><span data-stu-id="11938-127">**Parse dependent requests**: If this option is checked, the test requests images, scripts, style files, and other files that are part of the web page under test.</span></span> <span data-ttu-id="11938-128">A rögzített válaszidőbe a fájlok lekérése is beleszámít.</span><span class="sxs-lookup"><span data-stu-id="11938-128">The recorded response time includes the time taken to get these files.</span></span> <span data-ttu-id="11938-129">A teszt meghiúsul, ha nem tölthető le sikeresen az összes erőforrás a teljes teszt időtúllépése előtt.</span><span class="sxs-lookup"><span data-stu-id="11938-129">The test fails if all these resources cannot be successfully downloaded within the timeout for the whole test.</span></span> 

    <span data-ttu-id="11938-130">Ha a beállítás nincs bejelölve, a teszt csak a fájlt és a megadott URL-címet kéri le.</span><span class="sxs-lookup"><span data-stu-id="11938-130">If the option is not checked, the test only requests the file at the URL you specified.</span></span>
* <span data-ttu-id="11938-131">**Újrapróbálkozások engedélyezése**: Ha ez a beállítás be van jelölve, és a teszt meghiúsul, a rendszer rövid idő után újrapróbálkozik.</span><span class="sxs-lookup"><span data-stu-id="11938-131">**Enable retries**:  If this option is checked, when the test fails, it is retried after a short interval.</span></span> <span data-ttu-id="11938-132">Csak akkor jelent hibát, ha három egymást követő kísérlet meghiúsul.</span><span class="sxs-lookup"><span data-stu-id="11938-132">A failure is reported only if three successive attempts fail.</span></span> <span data-ttu-id="11938-133">Ezután a rendszer a teszteket a szokásos tesztelési gyakorisággal végzi el.</span><span class="sxs-lookup"><span data-stu-id="11938-133">Subsequent tests are then performed at the usual test frequency.</span></span> <span data-ttu-id="11938-134">Az újrapróbálkozás ideiglenesen fel van függesztve a következő sikeres műveletig.</span><span class="sxs-lookup"><span data-stu-id="11938-134">Retry is temporarily suspended until the next success.</span></span> <span data-ttu-id="11938-135">Ez a szabály függetlenül van alkalmazva minden egyes teszthelyen.</span><span class="sxs-lookup"><span data-stu-id="11938-135">This rule is applied independently at each test location.</span></span> <span data-ttu-id="11938-136">Ezt a beállítást javasoljuk.</span><span class="sxs-lookup"><span data-stu-id="11938-136">We recommend this option.</span></span> <span data-ttu-id="11938-137">Átlagosan körülbelül a hibák 80%-a megszűnik az újrapróbálkozáskor.</span><span class="sxs-lookup"><span data-stu-id="11938-137">On average, about 80% of failures disappear on retry.</span></span>
* <span data-ttu-id="11938-138">**Teszt gyakorisága**: Beállítja, hogy milyen gyakran fut a teszt mindegyik teszthelyen.</span><span class="sxs-lookup"><span data-stu-id="11938-138">**Test frequency**: Sets how often the test is run from each test location.</span></span> <span data-ttu-id="11938-139">Öt perces gyakorisággal és öt teszthellyel a helyén átlagosan percenként egy teszt történik.</span><span class="sxs-lookup"><span data-stu-id="11938-139">With a frequency of five minutes and five test locations, your site is tested on average every minute.</span></span>
* <span data-ttu-id="11938-140">A **Teszthelyek** olyan helyek, ahonnan a kiszolgálóink webes kérelmeket küldenek az Ön URL-címére.</span><span class="sxs-lookup"><span data-stu-id="11938-140">**Test locations** are the places from where our servers send web requests to your URL.</span></span> <span data-ttu-id="11938-141">Többet válasszon, hogy megkülönböztethesse webhelye problémáit a hálózati hibáktól.</span><span class="sxs-lookup"><span data-stu-id="11938-141">Choose more than one so that you can distinguish problems in your website from network issues.</span></span> <span data-ttu-id="11938-142">Legfeljebb 16 hely választható ki.</span><span class="sxs-lookup"><span data-stu-id="11938-142">You can select up to 16 locations.</span></span>
* <span data-ttu-id="11938-143">**Sikeresség feltétele**:</span><span class="sxs-lookup"><span data-stu-id="11938-143">**Success criteria**:</span></span>

    <span data-ttu-id="11938-144">**Teszt időkorlátja:** Ha csökkenti az értéket, riasztást kap a lassú válaszokról.</span><span class="sxs-lookup"><span data-stu-id="11938-144">**Test timeout**: Decrease this value to be alerted about slow responses.</span></span> <span data-ttu-id="11938-145">A teszt akkor sikertelen, ha nem érkeznek meg a webhely válaszai ezen az időtartamon belül.</span><span class="sxs-lookup"><span data-stu-id="11938-145">The test is counted as a failure if the responses from your site have not been received within this period.</span></span> <span data-ttu-id="11938-146">Ha bejelölte a **Függő kérelmek elemzése** lehetőséget, akkor az összes képnek, stílusfájlnak, szkriptnek és más függő erőforrásnak meg kell érkeznie ezen az időn belül.</span><span class="sxs-lookup"><span data-stu-id="11938-146">If you selected **Parse dependent requests**, then all the images, style files, scripts, and other dependent resources must have been received within this period.</span></span>

    <span data-ttu-id="11938-147">**HTTP-válasz**: A visszaadott, sikert jelző állapotkód.</span><span class="sxs-lookup"><span data-stu-id="11938-147">**HTTP response**: The returned status code that is counted as a success.</span></span> <span data-ttu-id="11938-148">A 200-as kód jelzi, hogy normál weblap lett visszaküldve.</span><span class="sxs-lookup"><span data-stu-id="11938-148">200 is the code that indicates that a normal web page has been returned.</span></span>

    <span data-ttu-id="11938-149">**Tartalmi egyezés**: egy karakterlánc, például „Üdvözöljük!”</span><span class="sxs-lookup"><span data-stu-id="11938-149">**Content match**: a string, like "Welcome!"</span></span> <span data-ttu-id="11938-150">Teszteljük, hogy minden válaszban előfordul-e a kis- és nagybetűket figyelembe véve is pontos egyezés.</span><span class="sxs-lookup"><span data-stu-id="11938-150">We test that an exact case-sensitive match occurs in every response.</span></span> <span data-ttu-id="11938-151">Egyszerű karakterláncnak kell lennie helyettesítő karakterek nélkül.</span><span class="sxs-lookup"><span data-stu-id="11938-151">It must be a plain string, without wildcards.</span></span> <span data-ttu-id="11938-152">Ne feledje, hogy ha a laptartalom megváltozik, lehet, hogy ezt is frissíteni kell.</span><span class="sxs-lookup"><span data-stu-id="11938-152">Don't forget that if your page content changes you might have to update it.</span></span>
* <span data-ttu-id="11938-153">Alapértelmezés szerint akkor kap **riasztásokat**, ha öt perc alatt három helyen fordulnak elő hibák.</span><span class="sxs-lookup"><span data-stu-id="11938-153">**Alerts** are, by default, sent to you if there are failures in three locations over five minutes.</span></span> <span data-ttu-id="11938-154">Ha egy helyen fordul elő a hiba, azt valószínűleg hálózati probléma okozza, és nem a hellyel van probléma.</span><span class="sxs-lookup"><span data-stu-id="11938-154">A failure in one location is likely to be a network problem, and not a problem with your site.</span></span> <span data-ttu-id="11938-155">A küszöbérték érzékenységét állítani lehet, és azt is módosíthatja, hogy kinek küldje a rendszer az e-maileket.</span><span class="sxs-lookup"><span data-stu-id="11938-155">But you can change the threshold to be more or less sensitive, and you can also change who the emails should be sent to.</span></span>

    <span data-ttu-id="11938-156">Be lehet állítani egy [webhookot](../monitoring-and-diagnostics/insights-webhooks-alerts.md), amelyet a rendszer egy riasztás megjelenésekor hív meg.</span><span class="sxs-lookup"><span data-stu-id="11938-156">You can set up a [webhook](../monitoring-and-diagnostics/insights-webhooks-alerts.md) that is called when an alert is raised.</span></span> <span data-ttu-id="11938-157">(Vegye figyelembe, hogy jelenleg a lekérdezési paraméterek nem továbbítódnak Tulajdonságokként.)</span><span class="sxs-lookup"><span data-stu-id="11938-157">(But note that, at present, query parameters are not passed through as Properties.)</span></span>

### <a name="test-more-urls"></a><span data-ttu-id="11938-158">További URL-címek tesztelése</span><span class="sxs-lookup"><span data-stu-id="11938-158">Test more URLs</span></span>
<span data-ttu-id="11938-159">Adjon hozzá további teszteket.</span><span class="sxs-lookup"><span data-stu-id="11938-159">Add more tests.</span></span> <span data-ttu-id="11938-160">Például a kezdőlap tesztelése mellett egy keresés URL-címének tesztelésével ellenőrizni lehet, hogy az adatbázis működik-e.</span><span class="sxs-lookup"><span data-stu-id="11938-160">For example, In addition to testing your home page, you can make sure your database is running by testing the URL for a search.</span></span>


## <span data-ttu-id="11938-161"><a name="monitor"></a>3. A rendelkezésre állási teszt eredményeinek megtekintése</span><span class="sxs-lookup"><span data-stu-id="11938-161"><a name="monitor"></a>3. See your availability test results</span></span>

<span data-ttu-id="11938-162">Néhány perc elteltével kattintson a **Frissítés** elemre a teszteredmények megtekintéséhez.</span><span class="sxs-lookup"><span data-stu-id="11938-162">After a few minutes, click **Refresh** to see test results.</span></span> 

![Az összegzés eredményei a kezdőpanelen](./media/app-insights-monitor-web-app-availability/14-availSummary-3.png)

<span data-ttu-id="11938-164">A pontdiagram mintákat mutat be azokból a teszteredményekből, amelyek adatokat tartalmaznak a diagnosztikai teszt lépéseiről.</span><span class="sxs-lookup"><span data-stu-id="11938-164">The scatterplot shows samples of the test results that have diagnostic test-step detail in them.</span></span> <span data-ttu-id="11938-165">A tesztmotor tárolja a hibákat tartalmazó tesztek diagnosztikai adatait.</span><span class="sxs-lookup"><span data-stu-id="11938-165">The test engine stores diagnostic detail for tests that have failures.</span></span> <span data-ttu-id="11938-166">A sikeres tesztek esetében a végrehajtások részhalmazainak diagnosztikai adatait is tárolja.</span><span class="sxs-lookup"><span data-stu-id="11938-166">For successful tests, diagnostic details are stored for a subset of the executions.</span></span> <span data-ttu-id="11938-167">Vigye a mutatót a zöld vagy a piros pontokra a teszt időbélyegzőjének, időtartamának, helyének és nevének megjelenítéséhez.</span><span class="sxs-lookup"><span data-stu-id="11938-167">Hover over any of the green/red dots to see the test timestamp, test duration, location, and test name.</span></span> <span data-ttu-id="11938-168">Kattintson a pontdiagram bármelyik pontjára a részletes teszteredmények megtekintéséhez.</span><span class="sxs-lookup"><span data-stu-id="11938-168">Click through any dot in the scatter plot to see the details of the test result.</span></span>  

<span data-ttu-id="11938-169">Ha további adatokat szeretne látni egy konkrét időszakról, válassza ki a megfelelő tesztet vagy helyet, illetve állítsa rövidebbre az időszakot.</span><span class="sxs-lookup"><span data-stu-id="11938-169">Select a particular test, location, or reduce the time period to see more results around the time period of interest.</span></span> <span data-ttu-id="11938-170">A Keresési ablak használatával megtekintheti az összes végrehajtás eredményét, vagy az Analytics lekérdezéseinek használatával egyéni jelentéseket hozhat létre ezen adatok alapján.</span><span class="sxs-lookup"><span data-stu-id="11938-170">Use Search Explorer to see results from all executions, or use Analytics queries to run custom reports on this data.</span></span>

<span data-ttu-id="11938-171">A nyers eredményeken kívül két rendelkezésre állási metrika is elérhető a Metrikaböngészőben:</span><span class="sxs-lookup"><span data-stu-id="11938-171">In addition to the raw results, there are two Availability metrics in Metrics Explorer:</span></span> 

1. <span data-ttu-id="11938-172">Rendelkezésre állás: Az összes végrehajtott teszt közül a sikeresen végrehajtott tesztek százalékos aránya.</span><span class="sxs-lookup"><span data-stu-id="11938-172">Availability: Percentage of the tests that were successful, across all test executions.</span></span> 
2. <span data-ttu-id="11938-173">Tesztek időtartama: A tesztek átlagos időtartama az összes végrehajtás alapján.</span><span class="sxs-lookup"><span data-stu-id="11938-173">Test Duration: Average test duration across all test executions.</span></span>

<span data-ttu-id="11938-174">Az eredményeket szűrheti a teszt neve vagy a hely alapján adott tesztek és/vagy helyek trendjeinek elemzéséhez.</span><span class="sxs-lookup"><span data-stu-id="11938-174">You can apply filters on the test name, location to analyze trends of a particular test and/or location.</span></span>

## <span data-ttu-id="11938-175"><a name="edit"></a> Tesztek megtekintése és szerkesztése</span><span class="sxs-lookup"><span data-stu-id="11938-175"><a name="edit"></a> Inspect and edit tests</span></span>

<span data-ttu-id="11938-176">Az összegzés lapon válasszon ki egy tesztet.</span><span class="sxs-lookup"><span data-stu-id="11938-176">From the summary page, select a specific test.</span></span> <span data-ttu-id="11938-177">Itt megtekintheti a teszt eredményeit, és szerkesztheti vagy átmenetileg letilthatja a tesztet.</span><span class="sxs-lookup"><span data-stu-id="11938-177">There, you can see its specific results, and edit or temporarily disable it.</span></span>

![Webes teszt szerkesztése vagy letiltása](./media/app-insights-monitor-web-app-availability/19-availEdit-3.png)

<span data-ttu-id="11938-179">Amikor karbantartást végez a szolgáltatáson, célszerű kikapcsolni a rendelkezésre állási teszteket és az azokhoz kapcsolódó riasztási szabályokat.</span><span class="sxs-lookup"><span data-stu-id="11938-179">You might want to disable availability tests or the alert rules associated with them while you are performing maintenance on your service.</span></span> 

## <span data-ttu-id="11938-180"><a name="failures"></a>Ha hibákat lát</span><span class="sxs-lookup"><span data-stu-id="11938-180"><a name="failures"></a>If you see failures</span></span>
<span data-ttu-id="11938-181">Kattintson egy piros pontra.</span><span class="sxs-lookup"><span data-stu-id="11938-181">Click a red dot.</span></span>

![Kattintson egy piros pontra](./media/app-insights-monitor-web-app-availability/open-instance-3.png)


<span data-ttu-id="11938-183">A rendelkezésre állási tesztek eredményei alapján a következőket teheti:</span><span class="sxs-lookup"><span data-stu-id="11938-183">From an availability test result, you can:</span></span>

* <span data-ttu-id="11938-184">Megvizsgálhatja a kiszolgálótól érkezett választ.</span><span class="sxs-lookup"><span data-stu-id="11938-184">Inspect the response received from your server.</span></span>
* <span data-ttu-id="11938-185">Megnyithatja a kiszolgálóalkalmazás által a sikertelen kéréspéldány feldolgozása közben küldött telemetriát.</span><span class="sxs-lookup"><span data-stu-id="11938-185">Open the telemetry sent by your server app while processing the failed request instance.</span></span>
* <span data-ttu-id="11938-186">Naplózhat egy problémát vagy munkaelemet a Git vagy a VSTS segítségével a probléma nyomon követéséhez.</span><span class="sxs-lookup"><span data-stu-id="11938-186">Log an issue or work item in Git or VSTS to track the problem.</span></span> <span data-ttu-id="11938-187">A hiba tartalmazni fog egy hivatkozást erre az eseményre.</span><span class="sxs-lookup"><span data-stu-id="11938-187">The bug will contain a link to this event.</span></span>
* <span data-ttu-id="11938-188">Megnyithatja a webes teszt eredményét a Visual Studióban.</span><span class="sxs-lookup"><span data-stu-id="11938-188">Open the web test result in Visual Studio.</span></span>


<span data-ttu-id="11938-189">*Úgy tűnik, hogy rendben van, mégis sikertelenként lett jelentve?*</span><span class="sxs-lookup"><span data-stu-id="11938-189">*Looks OK but reported as a failure?*</span></span> <span data-ttu-id="11938-190">Ellenőrizze az összes képet, szkriptet, stíluslapot és a lap által betöltött többi fájlt.</span><span class="sxs-lookup"><span data-stu-id="11938-190">Check all the images, scripts, style sheets, and any other files loaded by the page.</span></span> <span data-ttu-id="11938-191">Ha ezek közül bármelyik hibás, a teszt sikertelenként lesz jelentve, még akkor is, ha a fő HTML-oldal megfelelően töltődik be.</span><span class="sxs-lookup"><span data-stu-id="11938-191">If any of them fails, the test is reported as failed, even if the main html page loads OK.</span></span>

<span data-ttu-id="11938-192">*Nem találhatók kapcsolódó elemek?*</span><span class="sxs-lookup"><span data-stu-id="11938-192">*No related items?*</span></span> <span data-ttu-id="11938-193">Ha a kiszolgálóoldali alkalmazásához be van állítva az Application Insights, akkor ezt okozhatja az, hogy [mintavételezés](app-insights-sampling.md) van folyamatban.</span><span class="sxs-lookup"><span data-stu-id="11938-193">If you have Application Insights set up for your server-side application, that may be because [sampling](app-insights-sampling.md) is in operation.</span></span> 

## <a name="multi-step-web-tests"></a><span data-ttu-id="11938-194">Többlépéses webes tesztek</span><span class="sxs-lookup"><span data-stu-id="11938-194">Multi-step web tests</span></span>
<span data-ttu-id="11938-195">Olyan forgatókönyveket is figyelhet, amelyek egy URL-címek sorozatából állnak.</span><span class="sxs-lookup"><span data-stu-id="11938-195">You can monitor a scenario that involves a sequence of URLs.</span></span> <span data-ttu-id="11938-196">Ha például egy értékesítési webhelyet figyel, tesztelheti, hogy megfelelően működik-e a termékek kosárba helyezése.</span><span class="sxs-lookup"><span data-stu-id="11938-196">For example, if you are monitoring a sales website, you can test that adding items to the shopping cart works correctly.</span></span>

> [!NOTE] 
> <span data-ttu-id="11938-197">A többlépéses webes tesztek díjkötelesek.</span><span class="sxs-lookup"><span data-stu-id="11938-197">There is a charge for multi-step web tests.</span></span> <span data-ttu-id="11938-198">[Díjszabási séma](http://azure.microsoft.com/pricing/details/application-insights/)</span><span class="sxs-lookup"><span data-stu-id="11938-198">[Pricing scheme](http://azure.microsoft.com/pricing/details/application-insights/).</span></span>
> 

<span data-ttu-id="11938-199">Többlépéses teszt létrehozásához rögzíteni kell a forgatókönyvet a Visual Studio Enterprise segítségével, majd fel kell tölteni a felvételt az Application Insights-ba.</span><span class="sxs-lookup"><span data-stu-id="11938-199">To create a multi-step test, you record the scenario by using Visual Studio Enterprise, and then upload the recording to Application Insights.</span></span> <span data-ttu-id="11938-200">Az Application Insights időközönként visszajátssza a forgatókönyvet, és ellenőrzi a válaszokat.</span><span class="sxs-lookup"><span data-stu-id="11938-200">Application Insights replays the scenario at intervals and verifies the responses.</span></span>

> [!NOTE]
> <span data-ttu-id="11938-201">A tesztekben nem használhat kódolt függvényeket vagy hurkokat.</span><span class="sxs-lookup"><span data-stu-id="11938-201">You can't use coded functions or loops in your tests.</span></span> <span data-ttu-id="11938-202">A .webtest szkriptnek teljes egészében tartalmaznia kell a tesztet.</span><span class="sxs-lookup"><span data-stu-id="11938-202">The test must be contained completely in the .webtest script.</span></span> <span data-ttu-id="11938-203">Ehelyett azonban standard beépülő modulok is használhatók.</span><span class="sxs-lookup"><span data-stu-id="11938-203">However, you can use standard plugins.</span></span>
>

#### <a name="1-record-a-scenario"></a><span data-ttu-id="11938-204">1. Forgatókönyv rögzítése</span><span class="sxs-lookup"><span data-stu-id="11938-204">1. Record a scenario</span></span>
<span data-ttu-id="11938-205">A webes munkamenet rögzítéséhez használja a Visual Studio Enterprise-t.</span><span class="sxs-lookup"><span data-stu-id="11938-205">Use Visual Studio Enterprise to record a web session.</span></span>

1. <span data-ttu-id="11938-206">Hozzon létre egy webes teljesítményt tesztelő projektet.</span><span class="sxs-lookup"><span data-stu-id="11938-206">Create a Web performance test project.</span></span>

    ![A Visual Studio Enterprise kiadásban hozzon létre egy projektet a webes teljesítmény és a terheléstesztelés sablonjából.](./media/app-insights-monitor-web-app-availability/appinsights-71webtest-multi-vs-create.png)

 * <span data-ttu-id="11938-208">*Nem jelenik meg a webes teljesítmény- és terheléstesztelés sablonja?*</span><span class="sxs-lookup"><span data-stu-id="11938-208">*Don't see the Web Performance and Load Test template?*</span></span> <span data-ttu-id="11938-209">– Zárja be a Visual Studio Enterprise-t.</span><span class="sxs-lookup"><span data-stu-id="11938-209">- Close Visual Studio Enterprise.</span></span> <span data-ttu-id="11938-210">Nyissa meg a **Visual Studio telepítőjét** a Visual Studio Enterprise-telepítés módosításához.</span><span class="sxs-lookup"><span data-stu-id="11938-210">Open **Visual Studio Installer** to modify your Visual Studio Enterprise installation.</span></span> <span data-ttu-id="11938-211">Az **Individual Components** (Egyedi összetevők) területen válassza a **Web Performance and load testing tools** (Webes teljesítmény- és terheléstesztelési eszközök) lehetőséget.</span><span class="sxs-lookup"><span data-stu-id="11938-211">Under **Individual Components**, select **Web Performance and load testing tools**.</span></span>

2. <span data-ttu-id="11938-212">Nyissa meg a .webtest fájlt, és kezdje meg a rögzítést.</span><span class="sxs-lookup"><span data-stu-id="11938-212">Open the .webtest file and start recording.</span></span>

    ![Nyissa meg a .webtest fájlt, és kattintson a Record (Rögzítés) gombra.](./media/app-insights-monitor-web-app-availability/appinsights-71webtest-multi-vs-start.png)
3. <span data-ttu-id="11938-214">Végezze el a felhasználói műveleteket, amelyeket a teszt során szimulálni kíván: nyissa meg a webhelyet, tegyen a kosárba egy terméket stb.</span><span class="sxs-lookup"><span data-stu-id="11938-214">Do the user actions you want to simulate in your test: open your website, add a product to the cart, and so on.</span></span> <span data-ttu-id="11938-215">Ezután állítsa le a tesztet.</span><span class="sxs-lookup"><span data-stu-id="11938-215">Then stop your test.</span></span>

    ![A webes teszt rögzítője az Internet Explorerben fut.](./media/app-insights-monitor-web-app-availability/appinsights-71webtest-multi-vs-record.png)

    <span data-ttu-id="11938-217">A forgatókönyv ne legyen hosszú.</span><span class="sxs-lookup"><span data-stu-id="11938-217">Don't make a long scenario.</span></span> <span data-ttu-id="11938-218">Legfeljebb 100 lépésből állhat, és 2 percig tarthat.</span><span class="sxs-lookup"><span data-stu-id="11938-218">There's a limit of 100 steps and 2 minutes.</span></span>
4. <span data-ttu-id="11938-219">Szerkessze a tesztet:</span><span class="sxs-lookup"><span data-stu-id="11938-219">Edit the test to:</span></span>

   * <span data-ttu-id="11938-220">Adjon hozzá ellenőrzéseket a kapott szöveg- és válaszkódok ellenőrzéséhez.</span><span class="sxs-lookup"><span data-stu-id="11938-220">Add validations to check the received text and response codes.</span></span>
   * <span data-ttu-id="11938-221">Távolítson el minden felesleges interakciót.</span><span class="sxs-lookup"><span data-stu-id="11938-221">Remove any superfluous interactions.</span></span> <span data-ttu-id="11938-222">A képekhez, illetve a hirdető vagy nyomkövetési webhelyekhez tartozó függő kérelmeket is el lehet távolítani.</span><span class="sxs-lookup"><span data-stu-id="11938-222">You could also remove dependent requests for pictures or to ad or tracking sites.</span></span>

     <span data-ttu-id="11938-223">Ne feledje, hogy csak a teszt szkriptjét szerkesztheti, tehát nem adhat hozzá egyéni kódot, és nem hívhat meg más webes teszteket.</span><span class="sxs-lookup"><span data-stu-id="11938-223">Remember that you can only edit the test script - you can't add custom code or call other web tests.</span></span> <span data-ttu-id="11938-224">Ne szúrjon be hurkokat a tesztbe.</span><span class="sxs-lookup"><span data-stu-id="11938-224">Don't insert loops in the test.</span></span> <span data-ttu-id="11938-225">Használhatja a normál webes teszt beépülő modulokat.</span><span class="sxs-lookup"><span data-stu-id="11938-225">You can use standard web test plug-ins.</span></span>
5. <span data-ttu-id="11938-226">A működés ellenőrzéséhez futtassa a tesztet a Visual Studióban.</span><span class="sxs-lookup"><span data-stu-id="11938-226">Run the test in Visual Studio to make sure it works.</span></span>

    <span data-ttu-id="11938-227">A webes teszt futtatója megnyit egy webböngészőt, és megismétli a rögzített műveleteket.</span><span class="sxs-lookup"><span data-stu-id="11938-227">The web test runner opens a web browser and repeats the actions you recorded.</span></span> <span data-ttu-id="11938-228">Győződjön meg arról, hogy a várakozásainak megfelelően működik.</span><span class="sxs-lookup"><span data-stu-id="11938-228">Make sure it works as you expect.</span></span>

    ![A Visual Studióban nyissa meg a .webtest fájlt, majd kattintson a Run (Futtatás) gombra.](./media/app-insights-monitor-web-app-availability/appinsights-71webtest-multi-vs-run.png)

#### <a name="2-upload-the-web-test-to-application-insights"></a><span data-ttu-id="11938-230">2. A webes teszt feltöltése az Application Insightsba</span><span class="sxs-lookup"><span data-stu-id="11938-230">2. Upload the web test to Application Insights</span></span>
1. <span data-ttu-id="11938-231">Az Application Insights portálon hozzon létre egy webes tesztet.</span><span class="sxs-lookup"><span data-stu-id="11938-231">In the Application Insights portal, create a web test.</span></span>

    ![A webes teszt panelen válassza a Hozzáadás elemet.](./media/app-insights-monitor-web-app-availability/16-another-test.png)
2. <span data-ttu-id="11938-233">Válassza ki a többlépéses tesztet, majd töltse fel a .webtest fájlt.</span><span class="sxs-lookup"><span data-stu-id="11938-233">Select multi-step test, and upload the .webtest file.</span></span>

    ![Válassza ki a többlépéses webtesztet.](./media/app-insights-monitor-web-app-availability/appinsights-71webtestUpload.png)

    <span data-ttu-id="11938-235">Válassza ki a tesztelési helyeket, a tesztelés gyakoriságát és riasztási paramétereit ugyanúgy, mint a ping teszteknél.</span><span class="sxs-lookup"><span data-stu-id="11938-235">Set the test locations, frequency, and alert parameters in the same way as for ping tests.</span></span>

#### <a name="3-see-the-results"></a><span data-ttu-id="11938-236">3. Az eredmények megtekintése</span><span class="sxs-lookup"><span data-stu-id="11938-236">3. See the results</span></span>

<span data-ttu-id="11938-237">Tekintse meg a teszt eredményeit és a hibákat ugyanúgy, mint az egyetlen URL-címre kiterjedő teszteknél.</span><span class="sxs-lookup"><span data-stu-id="11938-237">View your test results and any failures in the same way as single-url tests.</span></span>

<span data-ttu-id="11938-238">Emellett le is töltheti és megtekintheti a teszteredményeket a Visual Studióban.</span><span class="sxs-lookup"><span data-stu-id="11938-238">In addition, you can download the test results to view them in Visual Studio.</span></span>

#### <a name="too-many-failures"></a><span data-ttu-id="11938-239">Túl sok a hiba?</span><span class="sxs-lookup"><span data-stu-id="11938-239">Too many failures?</span></span>

* <span data-ttu-id="11938-240">A hibák gyakori oka, hogy a teszt túl hosszú ideig fut.</span><span class="sxs-lookup"><span data-stu-id="11938-240">A common reason for failure is that the test runs too long.</span></span> <span data-ttu-id="11938-241">A teszt nem tarthat tovább két percnél.</span><span class="sxs-lookup"><span data-stu-id="11938-241">It mustn't run longer than two minutes.</span></span>

* <span data-ttu-id="11938-242">Ne feledje, hogy az oldal összes erőforrásának megfelelően kell betöltődnie ahhoz, hogy a teszt sikeres legyen, beleértve a szkripteket, stíluslapokat, képeket stb.</span><span class="sxs-lookup"><span data-stu-id="11938-242">Don't forget that all the resources of a page must load correctly for the test to succeed, including scripts, style sheets, images, and so forth.</span></span>

* <span data-ttu-id="11938-243">A .webtest szkriptnek a teljes webes tesztet tartalmaznia kell: a tesztben nem használhat kódolt függvényeket.</span><span class="sxs-lookup"><span data-stu-id="11938-243">The web test must be entirely contained in the .webtest script: you can't use coded functions in the test.</span></span>

### <a name="plugging-time-and-random-numbers-into-your-multi-step-test"></a><span data-ttu-id="11938-244">Idő és véletlenszerű számok beiktatása a többlépéses tesztbe</span><span class="sxs-lookup"><span data-stu-id="11938-244">Plugging time and random numbers into your multi-step test</span></span>
<span data-ttu-id="11938-245">Tegyük fel, hogy egy olyan eszközt tesztel, amely időfüggő adatokat fogad, például részvényeket egy külső adatcsatornától.</span><span class="sxs-lookup"><span data-stu-id="11938-245">Suppose you're testing a tool that gets time-dependent data such as stocks from an external feed.</span></span> <span data-ttu-id="11938-246">A webes teszt rögzítésekor meghatározott időpontokat kell használni, de ezeket a teszt StartTime és EndTime paramétereiként kell beállítani.</span><span class="sxs-lookup"><span data-stu-id="11938-246">When you record your web test, you have to use specific times, but you set them as parameters of the test, StartTime and EndTime.</span></span>

![Egy webes teszt paraméterekkel.](./media/app-insights-monitor-web-app-availability/appinsights-72webtest-parameters.png)

<span data-ttu-id="11938-248">A teszt futtatásakor az EndTime paraméternek mindig az aktuális időnek kell lennie, a StartTime paraméternek pedig a 15 perccel korábbi időnek.</span><span class="sxs-lookup"><span data-stu-id="11938-248">When you run the test, you'd like EndTime always to be the present time, and StartTime should be 15 minutes ago.</span></span>

<span data-ttu-id="11938-249">A webes teszt beépülő modulok lehetővé teszik az idő paraméterezését.</span><span class="sxs-lookup"><span data-stu-id="11938-249">Web Test Plug-ins provide the way to do parameterize times.</span></span>

1. <span data-ttu-id="11938-250">Adjon hozzá egy webes teszt beépülő modult minden kívánt változóparaméter-értékhez.</span><span class="sxs-lookup"><span data-stu-id="11938-250">Add a web test plug-in for each variable parameter value you want.</span></span> <span data-ttu-id="11938-251">A webes teszt eszköztárában válassza ki a **Webes teszt beépülő modul hozzáadása** elemet.</span><span class="sxs-lookup"><span data-stu-id="11938-251">In the web test toolbar, choose **Add Web Test Plugin**.</span></span>

    ![Válassza ki a Webes teszt beépülő modul hozzáadása elemet, majd válasszon egy típust.](./media/app-insights-monitor-web-app-availability/appinsights-72webtest-plugins.png)

    <span data-ttu-id="11938-253">Ebben a példában a Dátum és idő beépülő modul két példányát használjuk.</span><span class="sxs-lookup"><span data-stu-id="11938-253">In this example, we use two instances of the Date Time Plug-in.</span></span> <span data-ttu-id="11938-254">Az egyik példány a „15 perccel ezelőtt” a másik pedig a „most” paraméterértékhez tartozik.</span><span class="sxs-lookup"><span data-stu-id="11938-254">One instance is for "15 minutes ago" and another for "now."</span></span>
2. <span data-ttu-id="11938-255">Nyissa meg a beépülő modulok tulajdonságait.</span><span class="sxs-lookup"><span data-stu-id="11938-255">Open the properties of each plug-in.</span></span> <span data-ttu-id="11938-256">Adjon meg egy nevet, és állítsa be úgy, hogy az aktuális időt használja.</span><span class="sxs-lookup"><span data-stu-id="11938-256">Give it a name and set it to use the current time.</span></span> <span data-ttu-id="11938-257">Az egyiknél állítsa be a következőt: Add Minutes = -15.</span><span class="sxs-lookup"><span data-stu-id="11938-257">For one of them, set Add Minutes = -15.</span></span>

    ![Beállított Name, Use Current Time, és Add Minutes.](./media/app-insights-monitor-web-app-availability/appinsights-72webtest-plugin-parameters.png)
3. <span data-ttu-id="11938-259">A webes teszt paramétereiben a beépülő modulok nevére a {{plug-in name}} segítségével hivatkozzon.</span><span class="sxs-lookup"><span data-stu-id="11938-259">In the web test parameters, use {{plug-in name}} to reference a plug-in name.</span></span>

    ![A tesztparaméterében használja a {{plug-in name}} elemet.](./media/app-insights-monitor-web-app-availability/appinsights-72webtest-plugin-name.png)

<span data-ttu-id="11938-261">Ezután töltse fel a tesztet a portálra.</span><span class="sxs-lookup"><span data-stu-id="11938-261">Now, upload your test to the portal.</span></span> <span data-ttu-id="11938-262">Ez a teszt minden futtatásánál a dinamikus értékeket használja.</span><span class="sxs-lookup"><span data-stu-id="11938-262">It uses the dynamic values on every run of the test.</span></span>

## <a name="dealing-with-sign-in"></a><span data-ttu-id="11938-263">A bejelentkezés kezelése</span><span class="sxs-lookup"><span data-stu-id="11938-263">Dealing with sign-in</span></span>
<span data-ttu-id="11938-264">Ha a felhasználók bejelentkeznek az alkalmazásába, számos lehetősége van a bejelentkezés szimulálására a bejelentkezés után megjelenő lapok teszteléséhez.</span><span class="sxs-lookup"><span data-stu-id="11938-264">If your users sign in to your app, you have various options for simulating sign-in so that you can test pages behind the sign-in.</span></span> <span data-ttu-id="11938-265">A használt megközelítés az alkalmazás által kínált biztonság típusától függ.</span><span class="sxs-lookup"><span data-stu-id="11938-265">The approach you use depends on the type of security provided by the app.</span></span>

<span data-ttu-id="11938-266">Minden esetben ajánlott létrehozni egy fiókot az alkalmazásában tesztelési célra.</span><span class="sxs-lookup"><span data-stu-id="11938-266">In all cases, you should create an account in your application just for the purpose of testing.</span></span> <span data-ttu-id="11938-267">Ha lehetséges, korlátozza az engedélyt ezen a tesztfiókon, így elkerülheti, hogy a webes tesztek hatással legyenek a tényleges felhasználókra.</span><span class="sxs-lookup"><span data-stu-id="11938-267">If possible, restrict the permissions of this test account so that there's no possibility of the web tests affecting real users.</span></span>

### <a name="simple-username-and-password"></a><span data-ttu-id="11938-268">Egyszerű felhasználónév és jelszó</span><span class="sxs-lookup"><span data-stu-id="11938-268">Simple username and password</span></span>
<span data-ttu-id="11938-269">Rögzítsen egy webes tesztet a szokásos módon.</span><span class="sxs-lookup"><span data-stu-id="11938-269">Record a web test in the usual way.</span></span> <span data-ttu-id="11938-270">Először törölje a cookie-kat.</span><span class="sxs-lookup"><span data-stu-id="11938-270">Delete cookies first.</span></span>

### <a name="saml-authentication"></a><span data-ttu-id="11938-271">SAML-hitelesítés</span><span class="sxs-lookup"><span data-stu-id="11938-271">SAML authentication</span></span>
<span data-ttu-id="11938-272">Használhatja a webes tesztek számára elérhető SAML beépülő modult.</span><span class="sxs-lookup"><span data-stu-id="11938-272">Use the SAML plugin that is available for web tests.</span></span>

### <a name="client-secret"></a><span data-ttu-id="11938-273">Titkos ügyfélkulcs</span><span class="sxs-lookup"><span data-stu-id="11938-273">Client secret</span></span>
<span data-ttu-id="11938-274">Ha az alkalmazás bejelentkezési módja titkos ügyfélkódot igényel, használja azt a módot.</span><span class="sxs-lookup"><span data-stu-id="11938-274">If your app has a sign-in route that involves a client secret, use that route.</span></span> <span data-ttu-id="11938-275">Az Azure Active Directory (AAD) mint egy példa olyan szolgáltatásra, amely titkos ügyfélkulccsal történő bejelentkezést biztosít.</span><span class="sxs-lookup"><span data-stu-id="11938-275">Azure Active Directory (AAD) is an example of a service that provides a client secret sign-in.</span></span> <span data-ttu-id="11938-276">Az AAD-ben a titkos ügyfélkulcs az alkalmazáskulcs.</span><span class="sxs-lookup"><span data-stu-id="11938-276">In AAD, the client secret is the App Key.</span></span>

<span data-ttu-id="11938-277">Itt egy alkalmazáskulcsot használó Azure-webalkalmazás webes tesztelésre találhat példát:</span><span class="sxs-lookup"><span data-stu-id="11938-277">Here's a sample web test of an Azure web app using an app key:</span></span>

![Titkos ügyfélkulcs-minta](./media/app-insights-monitor-web-app-availability/110.png)

1. <span data-ttu-id="11938-279">Szerezze be a tokent az AAD-ből a titkos ügyfélkulcs használatával (AppKey).</span><span class="sxs-lookup"><span data-stu-id="11938-279">Get token from AAD using client secret (AppKey).</span></span>
2. <span data-ttu-id="11938-280">Nyerje ki a tulajdonosi jogkivonatot a válaszból.</span><span class="sxs-lookup"><span data-stu-id="11938-280">Extract bearer token from response.</span></span>
3. <span data-ttu-id="11938-281">Az engedélyezési fejléc tulajdonosi jogkivonatával hívja meg az API-t.</span><span class="sxs-lookup"><span data-stu-id="11938-281">Call API using bearer token in the authorization header.</span></span>

<span data-ttu-id="11938-282">Győződjön meg róla, hogy a webes teszt egy tényleges ügyfél – saját alkalmazása van az AAD-ben –, valamint használja a clientId + appkey értékét.</span><span class="sxs-lookup"><span data-stu-id="11938-282">Make sure that the web test is an actual client - that is, it has its own app in AAD - and use its clientId + appkey.</span></span> <span data-ttu-id="11938-283">A teszt alatt álló szolgáltatása is rendelkezik saját alkalmazással az AAD-ben: az alkalmazás appID URI-ja a webes teszt „resource” mezőjében látható.</span><span class="sxs-lookup"><span data-stu-id="11938-283">Your service under test also has its own app in AAD: the appID URI of this app is reflected in the web test in the “resource” field.</span></span>

### <a name="open-authentication"></a><span data-ttu-id="11938-284">Nyílt hitelesítés</span><span class="sxs-lookup"><span data-stu-id="11938-284">Open Authentication</span></span>
<span data-ttu-id="11938-285">Nyílt hitelesítés például a Microsoft- vagy Google-fiókkal történő bejelentkezés.</span><span class="sxs-lookup"><span data-stu-id="11938-285">An example of open authentication is signing in with your Microsoft or Google account.</span></span> <span data-ttu-id="11938-286">Számos OAuth protokollt használó alkalmazás biztosítja a titkos ügyfélkódos alternatívát, így az első feladat ennek a lehetőségnek a megvizsgálása.</span><span class="sxs-lookup"><span data-stu-id="11938-286">Many apps that use OAuth provide the client secret alternative, so your first tactic should be to investigate that possibility.</span></span>

<span data-ttu-id="11938-287">Ha a tesztnek az OAuth protokollal kell bejelentkeznie, az általános megközelítés a következő:</span><span class="sxs-lookup"><span data-stu-id="11938-287">If your test must sign in using OAuth, the general approach is:</span></span>

* <span data-ttu-id="11938-288">Használjon egy eszközt, például a Fiddlert a webböngésző, a hitelesítési hely és az alkalmazás közötti forgalom vizsgálatához.</span><span class="sxs-lookup"><span data-stu-id="11938-288">Use a tool such as Fiddler to examine the traffic between your web browser, the authentication site, and your app.</span></span>
* <span data-ttu-id="11938-289">Jelentkezzen be legalább két alkalommal különböző gépek vagy böngészők használatával, illetve hosszú időközönként (hogy a tokennek legyen ideje lejárni).</span><span class="sxs-lookup"><span data-stu-id="11938-289">Perform two or more sign-ins using different machines or browsers, or at long intervals (to allow tokens to expire).</span></span>
* <span data-ttu-id="11938-290">A különböző munkamenetek összehasonlításával azonosítsa a hitelesítési helyről visszaadott tokent, amelyet a rendszer a bejelentkezést követően továbbad az alkalmazáskiszolgálónak.</span><span class="sxs-lookup"><span data-stu-id="11938-290">By comparing different sessions, identify the token passed back from the authenticating site, that is then passed to your app server after sign-in.</span></span>
* <span data-ttu-id="11938-291">Rögzítsen egy webes tesztet a Visual Studióval.</span><span class="sxs-lookup"><span data-stu-id="11938-291">Record a web test using Visual Studio.</span></span>
* <span data-ttu-id="11938-292">Paraméterezze a tokeneket. Ehhez állítsa be a paramétereket, amikor a hitelesítő visszaküldi a tokent, és használja a webhely felé indított lekérdezésben.</span><span class="sxs-lookup"><span data-stu-id="11938-292">Parameterize the tokens, setting the parameter when the token is returned from the authenticator, and using it in the query to the site.</span></span>
  <span data-ttu-id="11938-293">(A Visual Studio megpróbálja paraméterezni a tesztet, de a tokeneket nem paraméterezi megfelelően.)</span><span class="sxs-lookup"><span data-stu-id="11938-293">(Visual Studio attempts to parameterize the test, but does not correctly parameterize the tokens.)</span></span>


## <a name="performance-tests"></a><span data-ttu-id="11938-294">Teljesítménytesztek</span><span class="sxs-lookup"><span data-stu-id="11938-294">Performance tests</span></span>
<span data-ttu-id="11938-295">Terheléstesztelést futtathat a webhelyén.</span><span class="sxs-lookup"><span data-stu-id="11938-295">You can run a load test on your website.</span></span> <span data-ttu-id="11938-296">Csakúgy, mint a rendelkezésre állási teszt esetében, egyszerű vagy több lépésből álló kéréseket küldhet a világ minden táján található helyekről.</span><span class="sxs-lookup"><span data-stu-id="11938-296">Like the availability test, you can send either simple requests or multi-step requests from our points around the world.</span></span> <span data-ttu-id="11938-297">A rendelkezésre állási teszttől eltérően sok kérés lesz elküldve, több párhuzamos felhasználót szimulálva.</span><span class="sxs-lookup"><span data-stu-id="11938-297">Unlike an availability test, many requests are sent, simulating multiple simultaneous users.</span></span>

<span data-ttu-id="11938-298">Az Áttekintés panelről nyissa meg a **Beállítások**, **Teljesítménytesztek** elemet.</span><span class="sxs-lookup"><span data-stu-id="11938-298">From the Overview blade, open **Settings**, **Performance Tests**.</span></span> <span data-ttu-id="11938-299">Teszt létrehozásakor egy kérést kap arra, hogy csatlakozzon a Visual Studio Team Services-fiókhoz, vagy hozzon létre egyet.</span><span class="sxs-lookup"><span data-stu-id="11938-299">When you create a test, you are invited to connect to or create a Visual Studio Team Services account.</span></span>

<span data-ttu-id="11938-300">A teszt befejezése után a válaszidők és a sikerességi arány jelenik meg.</span><span class="sxs-lookup"><span data-stu-id="11938-300">When the test is complete, you are shown response times and success rates.</span></span>


![Teljesítményteszt](./media/app-insights-monitor-web-app-availability/perf-test.png)

> [!TIP]
> <span data-ttu-id="11938-302">A teljesítményteszt hatásainak megfigyelésére használja az [Élő streamet](app-insights-live-stream.md) és a [Profilkészítőt](app-insights-profiler.md).</span><span class="sxs-lookup"><span data-stu-id="11938-302">To observe the effects of a performance test, use [Live Stream](app-insights-live-stream.md) and [Profiler](app-insights-profiler.md).</span></span>
>

## <a name="automation"></a><span data-ttu-id="11938-303">Automatizálás</span><span class="sxs-lookup"><span data-stu-id="11938-303">Automation</span></span>
* <span data-ttu-id="11938-304">[Használjon PowerShell-szkripteket a rendelkezésre állási teszt automatikus beállításához](app-insights-powershell.md#add-an-availability-test).</span><span class="sxs-lookup"><span data-stu-id="11938-304">[Use PowerShell scripts to set up an availability test](app-insights-powershell.md#add-an-availability-test) automatically.</span></span>
* <span data-ttu-id="11938-305">Állítson be egy [webhookot](../monitoring-and-diagnostics/insights-webhooks-alerts.md), amelyet a rendszer riasztás esetén hív meg.</span><span class="sxs-lookup"><span data-stu-id="11938-305">Set up a [webhook](../monitoring-and-diagnostics/insights-webhooks-alerts.md) that is called when an alert is raised.</span></span>

## <span data-ttu-id="11938-306"><a name="qna"></a>Kérdése van?</span><span class="sxs-lookup"><span data-stu-id="11938-306"><a name="qna"></a>Questions?</span></span> <span data-ttu-id="11938-307">Problémákat tapasztal?</span><span class="sxs-lookup"><span data-stu-id="11938-307">Problems?</span></span>
* <span data-ttu-id="11938-308">*Meghívhatok egy kódot a webes tesztből?*</span><span class="sxs-lookup"><span data-stu-id="11938-308">*Can I call code from my web test?*</span></span>

    <span data-ttu-id="11938-309">Nem.</span><span class="sxs-lookup"><span data-stu-id="11938-309">No.</span></span> <span data-ttu-id="11938-310">A .webtest fájlnak tartalmaznia kell a teszt lépéseit.</span><span class="sxs-lookup"><span data-stu-id="11938-310">The steps of the test must be in the .webtest file.</span></span> <span data-ttu-id="11938-311">Nem hívhat meg más teszteket, és nem használhat hurkokat.</span><span class="sxs-lookup"><span data-stu-id="11938-311">And you can't call other web tests or use loops.</span></span> <span data-ttu-id="11938-312">Azonban számos beépülő modul van, amely hasznos lehet.</span><span class="sxs-lookup"><span data-stu-id="11938-312">But there are several plug-ins that you might find helpful.</span></span>
* <span data-ttu-id="11938-313">*Támogatott a HTTPS?*</span><span class="sxs-lookup"><span data-stu-id="11938-313">*Is HTTPS supported?*</span></span>

    <span data-ttu-id="11938-314">A TLS 1.1 és a TLS 1.2 támogatott.</span><span class="sxs-lookup"><span data-stu-id="11938-314">We support TLS 1.1 and TLS 1.2.</span></span>
* <span data-ttu-id="11938-315">*Van különbség a „webes tesztek” és a „rendelkezésre állási tesztek” között?*</span><span class="sxs-lookup"><span data-stu-id="11938-315">*Is there a difference between "web tests" and "availability tests"?*</span></span>

    <span data-ttu-id="11938-316">A két kifejezés hasonló értelmű, felcserélhető.</span><span class="sxs-lookup"><span data-stu-id="11938-316">The two terms may be referenced interchangeably.</span></span> <span data-ttu-id="11938-317">A „rendelkezésre állási teszt” általánosabb fogalom, amely az URL-ping tesztek mellett a többlépéses webes teszteket is magában foglalja.</span><span class="sxs-lookup"><span data-stu-id="11938-317">Availability tests is a more generic term that includes the single URL ping tests in addition to the multi-step web tests.</span></span>
* <span data-ttu-id="11938-318">*Rendelkezésre állási teszteket szeretnék használni a tűzfal mögött futó belső kiszolgálón.*</span><span class="sxs-lookup"><span data-stu-id="11938-318">*I'd like to use availability tests on our internal server that runs behind a firewall.*</span></span>

    <span data-ttu-id="11938-319">Két lehetséges megoldás létezik:</span><span class="sxs-lookup"><span data-stu-id="11938-319">There are two possible solutions:</span></span>
    
    * <span data-ttu-id="11938-320">Konfigurálhatja úgy a tűzfalat, hogy az engedélyezze a [webes tesztügynökök IP-címeiről](app-insights-ip-addresses.md) érkező bejövő kéréseket.</span><span class="sxs-lookup"><span data-stu-id="11938-320">Configure your firewall to permit incoming requests from the [IP addresses of our web test agents](app-insights-ip-addresses.md).</span></span>
    * <span data-ttu-id="11938-321">Saját kód megírásával rendszeresen ellenőrizheti a belső kiszolgálót.</span><span class="sxs-lookup"><span data-stu-id="11938-321">Write your own code to periodically test your internal server.</span></span> <span data-ttu-id="11938-322">Futtassa a kódot a tűzfal mögötti tesztkiszolgáló háttérfolyamataként.</span><span class="sxs-lookup"><span data-stu-id="11938-322">Run the code as a background process on a test server behind your firewall.</span></span> <span data-ttu-id="11938-323">A tesztelési folyamat az eredményeket a Core SDK-csomag [TrackAvailability()](https://docs.microsoft.com/dotnet/api/microsoft.applicationinsights.telemetryclient.trackavailability) API-jával küldheti el az Application Insightsba.</span><span class="sxs-lookup"><span data-stu-id="11938-323">Your test process can send its results to Application Insights by using [TrackAvailability()](https://docs.microsoft.com/dotnet/api/microsoft.applicationinsights.telemetryclient.trackavailability) API in the core SDK package.</span></span> <span data-ttu-id="11938-324">Ehhez szükség van arra, hogy a tesztkiszolgáló kimenő hozzáféréssel rendelkezzen az Application Insights betöltési végpontjához, de ez jóval kisebb biztonsági kockázatot jelent a bejövő kérések engedélyezéséhez képest.</span><span class="sxs-lookup"><span data-stu-id="11938-324">This requires your test server to have outgoing access to the Application Insights ingestion endpoint, but that is a much smaller security risk than the alternative of permitting incoming requests.</span></span> <span data-ttu-id="11938-325">Az eredmények nem jelennek meg a rendelkezésre állási webes tesztek paneljein, de rendelkezésre állási eredményként megtekinthetők az Elemzés, a Keresés és a Metrikaböngésző panelen.</span><span class="sxs-lookup"><span data-stu-id="11938-325">The results will not appear in the availability web tests blades, but appears as availability results in Analytics, Search, and Metric Explorer.</span></span>
* <span data-ttu-id="11938-326">*A többlépéses teszt feltöltése sikertelen*</span><span class="sxs-lookup"><span data-stu-id="11938-326">*Uploading a multi-step web test fails*</span></span>

    <span data-ttu-id="11938-327">A méretkorlát: 300 KB.</span><span class="sxs-lookup"><span data-stu-id="11938-327">There's a size limit of 300 K.</span></span>

    <span data-ttu-id="11938-328">A hurkok nem támogatottak.</span><span class="sxs-lookup"><span data-stu-id="11938-328">Loops aren't supported.</span></span>

    <span data-ttu-id="11938-329">A más webes tesztekre mutató hivatkozások nem támogatottak.</span><span class="sxs-lookup"><span data-stu-id="11938-329">References to other web tests aren't supported.</span></span>

    <span data-ttu-id="11938-330">Az adatforrások nem támogatottak.</span><span class="sxs-lookup"><span data-stu-id="11938-330">Data sources aren't supported.</span></span>
* <span data-ttu-id="11938-331">*A többlépéses teszt nem fejeződik be*</span><span class="sxs-lookup"><span data-stu-id="11938-331">*My multi-step test doesn't complete*</span></span>

    <span data-ttu-id="11938-332">Egy teszt legfeljebb 100 kérelemből állhat.</span><span class="sxs-lookup"><span data-stu-id="11938-332">There's a limit of 100 requests per test.</span></span>

    <span data-ttu-id="11938-333">A teszt leáll, ha két percnél tovább fut.</span><span class="sxs-lookup"><span data-stu-id="11938-333">The test is stopped if it runs longer than two minutes.</span></span>
* <span data-ttu-id="11938-334">*Hogyan futtathatok tesztet ügyféltanúsítványokkal?*</span><span class="sxs-lookup"><span data-stu-id="11938-334">*How can I run a test with client certificates?*</span></span>

    <span data-ttu-id="11938-335">Sajnos azt nem támogatjuk.</span><span class="sxs-lookup"><span data-stu-id="11938-335">We don't support that, sorry.</span></span>


## <span data-ttu-id="11938-336"><a name="next"></a>Következő lépések</span><span class="sxs-lookup"><span data-stu-id="11938-336"><a name="next"></a>Next steps</span></span>
<span data-ttu-id="11938-337">[Diagnosztikai naplók keresése][diagnostic]</span><span class="sxs-lookup"><span data-stu-id="11938-337">[Search diagnostic logs][diagnostic]</span></span>

<span data-ttu-id="11938-338">[Hibaelhárítás][qna]</span><span class="sxs-lookup"><span data-stu-id="11938-338">[Troubleshooting][qna]</span></span>

[<span data-ttu-id="11938-339">A webes tesztügynökök IP-címei</span><span class="sxs-lookup"><span data-stu-id="11938-339">IP addresses of web test agents</span></span>](app-insights-ip-addresses.md)

<!--Link references-->

[azure-availability]: ../insights-create-web-tests.md
[diagnostic]: app-insights-diagnostic-search.md
[qna]: app-insights-troubleshoot-faq.md
[start]: app-insights-overview.md
