---
title: "Application Insights Telemetria korrelációs aaaAzure |} Microsoft Docs"
description: "Application Insights telemetria korrelációs"
services: application-insights
documentationcenter: .net
author: SergeyKanzhelev
manager: carmonm
ms.service: application-insights
ms.workload: TBD
ms.tgt_pltfrm: ibiza
ms.devlang: multiple
ms.topic: article
ms.date: 04/25/2017
ms.author: bwren
ms.openlocfilehash: 3ed8c589d237cac5daceac939ca893b7d81a2967
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="telemetry-correlation-in-application-insights"></a><span data-ttu-id="02663-103">Az Application Insights telemetria korrelációs</span><span class="sxs-lookup"><span data-stu-id="02663-103">Telemetry correlation in Application Insights</span></span>

<span data-ttu-id="02663-104">Hello world micro szolgáltatások, az összes logikai művelethez hello szolgáltatás különböző összetevői végzett munkát.</span><span class="sxs-lookup"><span data-stu-id="02663-104">In hello world of micro services, every logical operation requires work done in various components of hello service.</span></span> <span data-ttu-id="02663-105">Ezeket az összetevőket külön felügyelhesse [Application Insights](app-insights-overview.md).</span><span class="sxs-lookup"><span data-stu-id="02663-105">Each of these components can be separately monitored by [Application Insights](app-insights-overview.md).</span></span> <span data-ttu-id="02663-106">hello web app összetevő hitelesítési szolgáltató összetevő toovalidate felhasználói hitelesítő adatokkal, és adatokkal hello API összetevő tooget a képi megjelenítéshez tartozó kommunikál.</span><span class="sxs-lookup"><span data-stu-id="02663-106">hello web app component communicates with authentication provider component toovalidate user credentials, and with hello API component tooget data for visualization.</span></span> <span data-ttu-id="02663-107">hello API összetevő a kapcsolja más szolgáltatások adatok lekérdezése és gyorsítótár-szolgáltató összetevőket használnak és hello számlázási összetevő a hívás kapcsolatos értesítés.</span><span class="sxs-lookup"><span data-stu-id="02663-107">hello API component in its turn can query data from other services and use cache-provider components and notify hello billing component about this call.</span></span> <span data-ttu-id="02663-108">Application Insights által támogatott elosztott telemetriai korrelációs.</span><span class="sxs-lookup"><span data-stu-id="02663-108">Application Insights supports distributed telemetry correlation.</span></span> <span data-ttu-id="02663-109">Melyik összetevő felelős a hibák vagy a teljesítmény romlását toodetect lehetővé teszi.</span><span class="sxs-lookup"><span data-stu-id="02663-109">It allows you toodetect which component is responsible for failures or performance degradation.</span></span>

<span data-ttu-id="02663-110">Ez a cikk ismerteti, hogy több összetevő által küldött hello használják az Application Insights toocorrelate telemetriai adatokat az adatmodellbe.</span><span class="sxs-lookup"><span data-stu-id="02663-110">This article explains hello data model used by Application Insights toocorrelate telemetry sent by multiple components.</span></span> <span data-ttu-id="02663-111">Hello környezetben propagálás módszerek és protokollok magában foglalja.</span><span class="sxs-lookup"><span data-stu-id="02663-111">It covers hello context propagation techniques and protocols.</span></span> <span data-ttu-id="02663-112">Hello korrelációs fogalmak a különböző nyelvekhez és platformokhoz hello végrehajtását is magában foglalja.</span><span class="sxs-lookup"><span data-stu-id="02663-112">It also covers hello implementation of hello correlation concepts on different languages and platforms.</span></span>

## <a name="telemetry-correlation-data-model"></a><span data-ttu-id="02663-113">Telemetria korrelációs adatmodell</span><span class="sxs-lookup"><span data-stu-id="02663-113">Telemetry correlation data model</span></span>

<span data-ttu-id="02663-114">Az Application Insights definiál egy [adatmodell](application-insights-data-model.md) elosztott telemetriai korrelációhoz.</span><span class="sxs-lookup"><span data-stu-id="02663-114">Application Insights defines a [data model](application-insights-data-model.md) for distributed telemetry correlation.</span></span> <span data-ttu-id="02663-115">tooassociate telemetriai hello logikai művelettel, minden telemetriai elemnek egy nevű környezet mező `operation_Id`.</span><span class="sxs-lookup"><span data-stu-id="02663-115">tooassociate telemetry with hello logical operation, every telemetry item has a context field called `operation_Id`.</span></span> <span data-ttu-id="02663-116">Ez az azonosító az elosztott hello nyomkövetési minden telemetriai elem által közösen.</span><span class="sxs-lookup"><span data-stu-id="02663-116">This identifier is shared by every telemetry item in hello distributed trace.</span></span> <span data-ttu-id="02663-117">Egy rétegben a telemetriai adatok elvesztését használatát, így még továbbra is társíthat más összetevők által küldött telemetriai adatokat.</span><span class="sxs-lookup"><span data-stu-id="02663-117">So even with loss of telemetry from a single layer you still can associate telemetry reported by other components.</span></span>

<span data-ttu-id="02663-118">Elosztott logikai műveletet rendszerint kisebb műveletkészlet - hello összetevői által feldolgozott kérelmek áll.</span><span class="sxs-lookup"><span data-stu-id="02663-118">Distributed logical operation typically consists of a set of smaller operations - requests processed by one of hello components.</span></span> <span data-ttu-id="02663-119">Ezek a műveletek által meghatározott [telemetriai kérelem](application-insights-data-model-request-telemetry.md).</span><span class="sxs-lookup"><span data-stu-id="02663-119">Those operations are defined by [request telemetry](application-insights-data-model-request-telemetry.md).</span></span> <span data-ttu-id="02663-120">Minden – kéréstelemetria rendelkezik saját `id` , amely globálisan egyedi módon azonosítja.</span><span class="sxs-lookup"><span data-stu-id="02663-120">Every request telemetry has its own `id` that uniquely globally identifies it.</span></span> <span data-ttu-id="02663-121">Minden telemetriai adat - nyomkövetéseket, kivételek, stb. Ehhez a kérelemhez társított hello kell beállítania és `operation_parentId` toohello érték hello kérelem `id`.</span><span class="sxs-lookup"><span data-stu-id="02663-121">And all telemetry - traces, exceptions, etc. associated with this request should set hello `operation_parentId` toohello value of hello request `id`.</span></span>

<span data-ttu-id="02663-122">Minden kimenő művelet, például http hívás tooanother összetevő által képviselt [– függőségi telemetria](application-insights-data-model-dependency-telemetry.md).</span><span class="sxs-lookup"><span data-stu-id="02663-122">Every outgoing operation like http call tooanother component represented by [dependency telemetry](application-insights-data-model-dependency-telemetry.md).</span></span> <span data-ttu-id="02663-123">– Függőségi telemetria is határozza meg a saját `id` globálisan egyedi.</span><span class="sxs-lookup"><span data-stu-id="02663-123">Dependency telemetry also defines its own `id` that is globally unique.</span></span> <span data-ttu-id="02663-124">– Kéréstelemetria, ez a függőségi hívás által kezdeményezett használja ezt a szolgáltatást, `operation_parentId`.</span><span class="sxs-lookup"><span data-stu-id="02663-124">Request telemetry, initiated by this dependency call, uses it as `operation_parentId`.</span></span>

<span data-ttu-id="02663-125">Hello nézet elosztott logikai művelet használatával hozhat létre `operation_Id`, `operation_parentId`, és `request.id` rendelkező `dependency.id`.</span><span class="sxs-lookup"><span data-stu-id="02663-125">You can build hello view of distributed logical operation using `operation_Id`, `operation_parentId`, and `request.id` with `dependency.id`.</span></span> <span data-ttu-id="02663-126">Ezek a mezők telemetriai hívások sorrendjét hello okozatiság is meghatározhat.</span><span class="sxs-lookup"><span data-stu-id="02663-126">Those fields also define hello causality order of telemetry calls.</span></span>

<span data-ttu-id="02663-127">Összetevők nyomkövetéseit micro szolgáltatások környezetben előfordulhat, hogy nyissa meg a toohello különböző tárolók.</span><span class="sxs-lookup"><span data-stu-id="02663-127">In micro services environment, traces from components may go toohello different storages.</span></span> <span data-ttu-id="02663-128">Minden összetevő saját instrumentation kulcs lehet az Application Insights.</span><span class="sxs-lookup"><span data-stu-id="02663-128">Every component may have its own instrumentation key in Application Insights.</span></span> <span data-ttu-id="02663-129">tooget telemetriai logikai hello a művelethez, kell minden egyes tárolási tooquery adatait.</span><span class="sxs-lookup"><span data-stu-id="02663-129">tooget telemetry for hello logical operation, you need tooquery data from every storage.</span></span> <span data-ttu-id="02663-130">Ha a tárolók száma túl nagy, végre kell toohave mutató hol toolook tovább.</span><span class="sxs-lookup"><span data-stu-id="02663-130">When number of storages is huge, you need toohave a hint on where toolook next.</span></span>

<span data-ttu-id="02663-131">Az Application Insights adatmodell határozza meg két mezők toosolve probléma: `request.source` és `dependency.target`.</span><span class="sxs-lookup"><span data-stu-id="02663-131">Application Insights data model defines two fields toosolve this problem: `request.source` and `dependency.target`.</span></span> <span data-ttu-id="02663-132">hello első mező azonosítja, hello függőségi kérelmet kezdeményeztek hello összetevő, és hello második azonosító melyik összetevőnél hello függőségi hívás hello választ adott vissza.</span><span class="sxs-lookup"><span data-stu-id="02663-132">hello first field identifies hello component that initiated hello dependency request, and hello second identifies which component returned hello response of hello dependency call.</span></span>


## <a name="example"></a><span data-ttu-id="02663-133">Példa</span><span class="sxs-lookup"><span data-stu-id="02663-133">Example</span></span>

<span data-ttu-id="02663-134">Vegyünk például egy alkalmazás készlet árak hello aktuális piaci ár egy készlet hello külső API hívása készletek API használatával.</span><span class="sxs-lookup"><span data-stu-id="02663-134">Let's take an example of an application STOCK PRICES showing hello current market price of a stock using hello external API called STOCKS API.</span></span> <span data-ttu-id="02663-135">hello készlet árak alkalmazás is rendelkezik `Stock page` hello ügyfél webes böngésző használni `GET /Home/Stock`.</span><span class="sxs-lookup"><span data-stu-id="02663-135">hello STOCK PRICES application has a page `Stock page` opened by hello client web browser using `GET /Home/Stock`.</span></span> <span data-ttu-id="02663-136">hello alkalmazás lekérdezések hello készlet API használatával egy HTTP-hívás `GET /api/stock/value`.</span><span class="sxs-lookup"><span data-stu-id="02663-136">hello application queries hello STOCK API by using an HTTP call `GET /api/stock/value`.</span></span>

<span data-ttu-id="02663-137">Lekérdezés eredményeként kapott telemetriai elemezheti:</span><span class="sxs-lookup"><span data-stu-id="02663-137">You can analyze resulting telemetry running a query:</span></span>

```
(requests | union dependencies | union pageViews) 
| where operation_Id == "STYz"
| project timestamp, itemType, name, id, operation_ParentId, operation_Id
```

<span data-ttu-id="02663-138">A hello eredmény nézet vegye figyelembe, hogy az összes telemetriai elemet közös hello legfelső szintű `operation_Id`.</span><span class="sxs-lookup"><span data-stu-id="02663-138">In hello result view note that all telemetry items share hello root `operation_Id`.</span></span> <span data-ttu-id="02663-139">Ajax hívás esetén készült hello lap – új egyedi azonosító `qJSXU` hozzárendelt toohello – függőségi telemetria és pageView tartozó azonosító használt `operation_ParentId`.</span><span class="sxs-lookup"><span data-stu-id="02663-139">When ajax call made from hello page - new unique id `qJSXU` is assigned toohello dependency telemetry and pageView's id is used as `operation_ParentId`.</span></span> <span data-ttu-id="02663-140">Viszont a kiszolgálói kérelem használja ajax tartozó azonosítója `operation_ParentId`stb.</span><span class="sxs-lookup"><span data-stu-id="02663-140">In turn server request uses ajax's id as `operation_ParentId`, etc.</span></span>

| <span data-ttu-id="02663-141">ItemType</span><span class="sxs-lookup"><span data-stu-id="02663-141">itemType</span></span>   | <span data-ttu-id="02663-142">név</span><span class="sxs-lookup"><span data-stu-id="02663-142">name</span></span>                      | <span data-ttu-id="02663-143">id</span><span class="sxs-lookup"><span data-stu-id="02663-143">id</span></span>           | <span data-ttu-id="02663-144">operation_ParentId</span><span class="sxs-lookup"><span data-stu-id="02663-144">operation_ParentId</span></span> | <span data-ttu-id="02663-145">operation_Id</span><span class="sxs-lookup"><span data-stu-id="02663-145">operation_Id</span></span> |
|------------|---------------------------|--------------|--------------------|--------------|
| <span data-ttu-id="02663-146">pageView</span><span class="sxs-lookup"><span data-stu-id="02663-146">pageView</span></span>   | <span data-ttu-id="02663-147">A rendszer lap</span><span class="sxs-lookup"><span data-stu-id="02663-147">Stock page</span></span>                |              | <span data-ttu-id="02663-148">STYz</span><span class="sxs-lookup"><span data-stu-id="02663-148">STYz</span></span>               | <span data-ttu-id="02663-149">STYz</span><span class="sxs-lookup"><span data-stu-id="02663-149">STYz</span></span>         |
| <span data-ttu-id="02663-150">függőség</span><span class="sxs-lookup"><span data-stu-id="02663-150">dependency</span></span> | <span data-ttu-id="02663-151">GET/Home/Stock</span><span class="sxs-lookup"><span data-stu-id="02663-151">GET /Home/Stock</span></span>           | <span data-ttu-id="02663-152">qJSXU</span><span class="sxs-lookup"><span data-stu-id="02663-152">qJSXU</span></span>        | <span data-ttu-id="02663-153">STYz</span><span class="sxs-lookup"><span data-stu-id="02663-153">STYz</span></span>               | <span data-ttu-id="02663-154">STYz</span><span class="sxs-lookup"><span data-stu-id="02663-154">STYz</span></span>         |
| <span data-ttu-id="02663-155">Kérelem</span><span class="sxs-lookup"><span data-stu-id="02663-155">request</span></span>    | <span data-ttu-id="02663-156">GET otthoni/Stock</span><span class="sxs-lookup"><span data-stu-id="02663-156">GET Home/Stock</span></span>            | <span data-ttu-id="02663-157">KqKwlrSt9PA =</span><span class="sxs-lookup"><span data-stu-id="02663-157">KqKwlrSt9PA=</span></span> | <span data-ttu-id="02663-158">qJSXU</span><span class="sxs-lookup"><span data-stu-id="02663-158">qJSXU</span></span>              | <span data-ttu-id="02663-159">STYz</span><span class="sxs-lookup"><span data-stu-id="02663-159">STYz</span></span>         |
| <span data-ttu-id="02663-160">függőség</span><span class="sxs-lookup"><span data-stu-id="02663-160">dependency</span></span> | <span data-ttu-id="02663-161">/Api/stock/value beolvasása</span><span class="sxs-lookup"><span data-stu-id="02663-161">GET /api/stock/value</span></span>      | <span data-ttu-id="02663-162">bBrf2L7mm2g =</span><span class="sxs-lookup"><span data-stu-id="02663-162">bBrf2L7mm2g=</span></span> | <span data-ttu-id="02663-163">KqKwlrSt9PA =</span><span class="sxs-lookup"><span data-stu-id="02663-163">KqKwlrSt9PA=</span></span>       | <span data-ttu-id="02663-164">STYz</span><span class="sxs-lookup"><span data-stu-id="02663-164">STYz</span></span>         |

<span data-ttu-id="02663-165">Ha most hello hívás `GET /api/stock/value` tooan külső szolgáltatás végrehajtott azt szeretné, hogy a kiszolgáló tooknow hello identitásának.</span><span class="sxs-lookup"><span data-stu-id="02663-165">Now when hello call `GET /api/stock/value` made tooan external service you want tooknow hello identity of that server.</span></span> <span data-ttu-id="02663-166">Amelyen beállíthatja `dependency.target` megfelelően mezőben.</span><span class="sxs-lookup"><span data-stu-id="02663-166">So you can set `dependency.target` field appropriately.</span></span> <span data-ttu-id="02663-167">Ha a külső hello szolgáltatás nem támogatja a figyelési - `target` toohello állomásnév például hello szolgáltatás beállítása `stock-prices-api.com`.</span><span class="sxs-lookup"><span data-stu-id="02663-167">When hello external service does not support monitoring - `target` is set toohello host name of hello service like `stock-prices-api.com`.</span></span> <span data-ttu-id="02663-168">Azonban ha a szolgáltatás azonosítja magát vissza egy előre meghatározott HTTP-fejléc - `target` hello szolgáltatás identitást, amely lehetővé teszi, hogy az Application Insights elosztott toobuild nyomkövetési telemetria, hogy a szolgáltatás lekérdezésével tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="02663-168">However if that service identifies itself by returning a predefined HTTP header - `target` contains hello service identity that allows Application Insights toobuild distributed trace by querying telemetry from that service.</span></span> 

## <a name="correlation-headers"></a><span data-ttu-id="02663-169">Korrelációs fejlécek</span><span class="sxs-lookup"><span data-stu-id="02663-169">Correlation headers</span></span>

<span data-ttu-id="02663-170">Jelenleg is dolgozunk hello RFC javaslatot [korrelációs HTTP protokollt](https://github.com/lmolkova/correlation/blob/master/http_protocol_proposal_v1.md).</span><span class="sxs-lookup"><span data-stu-id="02663-170">We are working on RFC proposal for hello [correlation HTTP protocol](https://github.com/lmolkova/correlation/blob/master/http_protocol_proposal_v1.md).</span></span> <span data-ttu-id="02663-171">Ez a javaslat meghatározza, hogy két fejléc:</span><span class="sxs-lookup"><span data-stu-id="02663-171">This proposal defines two headers:</span></span>

- <span data-ttu-id="02663-172">`Request-Id`hello globálisan egyedi azonosító hello hívás végrehajtása</span><span class="sxs-lookup"><span data-stu-id="02663-172">`Request-Id` carry hello globally unique id of hello call</span></span>
- <span data-ttu-id="02663-173">`Correlation-Context`-portprofil hello name érték párok gyűjteménye elosztott hello nyomkövetési tulajdonságai</span><span class="sxs-lookup"><span data-stu-id="02663-173">`Correlation-Context` - carry hello name value pairs collection of hello distributed trace properties</span></span>

<span data-ttu-id="02663-174">hello standard is meghatároz két sémái `Request-Id` generációs - és a hierarchikus.</span><span class="sxs-lookup"><span data-stu-id="02663-174">hello standard also defines two schemas of `Request-Id` generation - flat and hierarchical.</span></span> <span data-ttu-id="02663-175">Hello strukturálatlan sémával, nincs jól ismert `Id` hello definiálva kulcs `Correlation-Context` gyűjtemény.</span><span class="sxs-lookup"><span data-stu-id="02663-175">With hello flat schema, there is a well-known `Id` key defined for hello `Correlation-Context` collection.</span></span>

<span data-ttu-id="02663-176">Az Application Insights meghatározása hello [bővítmény](https://github.com/lmolkova/correlation/blob/master/http_protocol_proposal_v2.md) hello korreláció HTTP protokollt.</span><span class="sxs-lookup"><span data-stu-id="02663-176">Application Insights defines hello [extension](https://github.com/lmolkova/correlation/blob/master/http_protocol_proposal_v2.md) for hello correlation HTTP protocol.</span></span> <span data-ttu-id="02663-177">Használja `Request-Context` name érték párok hello közvetlen hívónak vagy a hívott fél által használt tulajdonságok toopropagate hello gyűjteménye.</span><span class="sxs-lookup"><span data-stu-id="02663-177">It uses `Request-Context` name value pairs toopropagate hello collection of properties used by hello immediate caller or callee.</span></span> <span data-ttu-id="02663-178">Application Insights SDK használja a fejléc tooset `dependency.target` és `request.source` mezőket.</span><span class="sxs-lookup"><span data-stu-id="02663-178">Application Insights SDK uses this header tooset `dependency.target` and `request.source` fields.</span></span>

## <a name="open-tracing-and-application-insights"></a><span data-ttu-id="02663-179">Nyissa meg a nyomkövetés és az Application Insights</span><span class="sxs-lookup"><span data-stu-id="02663-179">Open tracing and Application Insights</span></span>

<span data-ttu-id="02663-180">[Nyissa meg a nyomkövetési](http://opentracing.io/) és az Application Insights adatok modellek keresi</span><span class="sxs-lookup"><span data-stu-id="02663-180">[Open Tracing](http://opentracing.io/) and Application Insights data models looks</span></span> 

- <span data-ttu-id="02663-181">`request`, `pageView` túl leképezhető**Span** rendelkező`span.kind = server`</span><span class="sxs-lookup"><span data-stu-id="02663-181">`request`, `pageView` maps too**Span** with `span.kind = server`</span></span>
- <span data-ttu-id="02663-182">`dependency`túl leképezhető**Span** rendelkező`span.kind = client`</span><span class="sxs-lookup"><span data-stu-id="02663-182">`dependency` maps too**Span** with `span.kind = client`</span></span>
- <span data-ttu-id="02663-183">`id`az egy `request` és `dependency` túl leképezhető**Span.Id**</span><span class="sxs-lookup"><span data-stu-id="02663-183">`id` of a `request` and `dependency` maps too**Span.Id**</span></span>
- <span data-ttu-id="02663-184">`operation_Id`túl leképezhető**TraceId**</span><span class="sxs-lookup"><span data-stu-id="02663-184">`operation_Id` maps too**TraceId**</span></span>
- <span data-ttu-id="02663-185">`operation_ParentId`túl leképezhető**hivatkozás** típusa`ChileOf`</span><span class="sxs-lookup"><span data-stu-id="02663-185">`operation_ParentId` maps too**Reference** of type `ChileOf`</span></span>

<span data-ttu-id="02663-186">Lásd: [adatmodell](application-insights-data-model.md) Application Insights-típusok és az adatok modell.</span><span class="sxs-lookup"><span data-stu-id="02663-186">See [data model](application-insights-data-model.md) for Application Insights types and data model.</span></span>

<span data-ttu-id="02663-187">Lásd: [specification](https://github.com/opentracing/specification/blob/master/specification.md) és [semantic_conventions](https://github.com/opentracing/specification/blob/master/semantic_conventions.md) nyitott nyomkövetés fogalmak definícióját.</span><span class="sxs-lookup"><span data-stu-id="02663-187">See [specification](https://github.com/opentracing/specification/blob/master/specification.md) and [semantic_conventions](https://github.com/opentracing/specification/blob/master/semantic_conventions.md) for definitions of Open Tracing concepts.</span></span>


## <a name="telemetry-correlation-in-net"></a><span data-ttu-id="02663-188">A .NET telemetriai korrelációs</span><span class="sxs-lookup"><span data-stu-id="02663-188">Telemetry correlation in .NET</span></span>

<span data-ttu-id="02663-189">Időbeli .NET meghatározott módon toocorrelate telemetriai és diagnosztikai naplókat.</span><span class="sxs-lookup"><span data-stu-id="02663-189">Over time .NET defined number of ways toocorrelate telemetry and diagnostics logs.</span></span> <span data-ttu-id="02663-190">Nincs `System.Diagnostics.CorrelationManager` tootrack így [LogicalOperationStack és ActivityId](https://msdn.microsoft.com/library/system.diagnostics.correlationmanager.aspx).</span><span class="sxs-lookup"><span data-stu-id="02663-190">There is `System.Diagnostics.CorrelationManager` allowing tootrack [LogicalOperationStack and ActivityId](https://msdn.microsoft.com/library/system.diagnostics.correlationmanager.aspx).</span></span> <span data-ttu-id="02663-191">`System.Diagnostics.Tracing.EventSource`Windows ETW hello módszer meghatározásához és [SetCurrentThreadActivityId](https://msdn.microsoft.com/library/system.diagnostics.tracing.eventsource.setcurrentthreadactivityid.aspx).</span><span class="sxs-lookup"><span data-stu-id="02663-191">`System.Diagnostics.Tracing.EventSource` and Windows ETW define hello method [SetCurrentThreadActivityId](https://msdn.microsoft.com/library/system.diagnostics.tracing.eventsource.setcurrentthreadactivityid.aspx).</span></span> <span data-ttu-id="02663-192">`ILogger`használja a [napló hatókörök](https://docs.microsoft.com/aspnet/core/fundamentals/logging#log-scopes).</span><span class="sxs-lookup"><span data-stu-id="02663-192">`ILogger` uses [Log Scopes](https://docs.microsoft.com/aspnet/core/fundamentals/logging#log-scopes).</span></span> <span data-ttu-id="02663-193">WCF és a Http átvitel közbeni "aktuális" környezetben propagálás fel.</span><span class="sxs-lookup"><span data-stu-id="02663-193">WCF and Http wire up "current" context propagation.</span></span>

<span data-ttu-id="02663-194">Azokat a módszereket azonban automatikus elosztott nyomkövetés támogatásának engedélyezése nem.</span><span class="sxs-lookup"><span data-stu-id="02663-194">However those methods didn't enable automatic distributed tracing support.</span></span> <span data-ttu-id="02663-195">`DiagnosticsSource`van olyan módon toosupport gép korrelációs közötti automatikus.</span><span class="sxs-lookup"><span data-stu-id="02663-195">`DiagnosticsSource` is a way toosupport automatic cross machine correlation.</span></span> <span data-ttu-id="02663-196">.NET-kódtárakra diagnosztika forrás támogatja, és lehetővé teszi az alhálózatok közötti gépek automatikus propagálás hello korrelációs környezet keresztül hello átviteli például a http.</span><span class="sxs-lookup"><span data-stu-id="02663-196">.NET libraries support Diagnostics Source and allow automatic cross machine propagation of hello correlation context via hello transport like http.</span></span>

<span data-ttu-id="02663-197">Hello [tooActivities útmutató](https://github.com/dotnet/corefx/blob/master/src/System.Diagnostics.DiagnosticSource/src/ActivityUserGuide.md) diagnosztika forrás tevékenységek nyomon követése hello alapjait ismerteti.</span><span class="sxs-lookup"><span data-stu-id="02663-197">hello [guide tooActivities](https://github.com/dotnet/corefx/blob/master/src/System.Diagnostics.DiagnosticSource/src/ActivityUserGuide.md) in Diagnostics Source explains hello basics of tracking Activities.</span></span> 

<span data-ttu-id="02663-198">Az ASP.NET Core 2.0 támogatja a HTTP-fejlécek kinyerési, és új tevékenység kezdési hello.</span><span class="sxs-lookup"><span data-stu-id="02663-198">ASP.NET Core 2.0 supports extraction of Http Headers and starting hello new Activity.</span></span> 

<span data-ttu-id="02663-199">`System.Net.HttpClient`Kezdő verzió `<fill in>` hello korrelációs HTTP-fejlécek és követési hello http hívás tevékenységként automatikus injektálási támogatja.</span><span class="sxs-lookup"><span data-stu-id="02663-199">`System.Net.HttpClient` starting version `<fill in>` supports automatic injection of hello correlation Http Headers and tracking hello http call as an Activity.</span></span>

<span data-ttu-id="02663-200">Nincs új Http-modulja [Microsoft.AspNet.TelemetryCorrelation](https://www.nuget.org/packages/Microsoft.AspNet.TelemetryCorrelation/) a hello ASP.NET klasszikus.</span><span class="sxs-lookup"><span data-stu-id="02663-200">There is a new Http Module [Microsoft.AspNet.TelemetryCorrelation](https://www.nuget.org/packages/Microsoft.AspNet.TelemetryCorrelation/) for hello ASP.NET Classic.</span></span> <span data-ttu-id="02663-201">Ebben a modulban telemetriai korrelációs DiagnosticsSource használatával.</span><span class="sxs-lookup"><span data-stu-id="02663-201">This module implements telemetry correlation using DiagnosticsSource.</span></span> <span data-ttu-id="02663-202">A bejövő kérelem fejlécek alapján tevékenység elindul.</span><span class="sxs-lookup"><span data-stu-id="02663-202">It starts activity based on incoming request headers.</span></span> <span data-ttu-id="02663-203">Emellett a hello különböző szakaszaiban a kérelem feldolgozása telemetriai ad eredményül.</span><span class="sxs-lookup"><span data-stu-id="02663-203">It also correlates telemetry from hello different stages of request processing.</span></span> <span data-ttu-id="02663-204">Még a hello esetekben, amikor fut az IIS feldolgozó minden szakasza egy másik kezelése szálak.</span><span class="sxs-lookup"><span data-stu-id="02663-204">Even for hello cases when every stage of IIS processing runs on a different manage threads.</span></span>

<span data-ttu-id="02663-205">Application Insights SDK kezdési verzió `2.4.0-beta1` DiagnosticsSource és tevékenység toocollect telemetriai adatokat használ, és társítsa azt az aktuális tevékenység hello.</span><span class="sxs-lookup"><span data-stu-id="02663-205">Application Insights SDK starting version `2.4.0-beta1` uses DiagnosticsSource and Activity toocollect telemetry and associate it with hello current activity.</span></span> 

## <a name="next-steps"></a><span data-ttu-id="02663-206">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="02663-206">Next steps</span></span>

- [<span data-ttu-id="02663-207">Egyéni telemetriai adatok írása</span><span class="sxs-lookup"><span data-stu-id="02663-207">Write custom telemetry</span></span>](app-insights-api-custom-events-metrics.md)
- <span data-ttu-id="02663-208">A bevezetni a micro Application Insights szolgáltatás összetevők.</span><span class="sxs-lookup"><span data-stu-id="02663-208">Onboard all components of your micro service on Application Insights.</span></span> <span data-ttu-id="02663-209">Tekintse meg [által támogatott platformok](app-insights-platforms.md).</span><span class="sxs-lookup"><span data-stu-id="02663-209">Check out [supported platforms](app-insights-platforms.md).</span></span>
- <span data-ttu-id="02663-210">Lásd: [adatmodell](application-insights-data-model.md) Application Insights-típusok és az adatok modell.</span><span class="sxs-lookup"><span data-stu-id="02663-210">See [data model](application-insights-data-model.md) for Application Insights types and data model.</span></span>
- <span data-ttu-id="02663-211">Ismerje meg, hogyan túl[kiterjesztése és a telemetriai adatok szűrése](app-insights-api-filtering-sampling.md).</span><span class="sxs-lookup"><span data-stu-id="02663-211">Learn how too[extend and filter telemetry](app-insights-api-filtering-sampling.md).</span></span>
