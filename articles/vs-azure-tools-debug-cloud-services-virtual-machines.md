---
title: "aaaDebugging az Azure cloud service vagy a virtuális gép a Visual Studio |} Microsoft Docs"
description: "Egy felhőalapú szolgáltatás, vagy a virtuális gép a Visual Studio hibakereső"
services: visual-studio-online
documentationcenter: na
author: kraigb
manager: ghogen
editor: 
ms.assetid: 945e06e0-2100-41af-b218-72347367ddab
ms.service: visual-studio-online
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: multiple
ms.workload: na
ms.date: 11/11/2016
ms.author: kraigb
ms.openlocfilehash: 32a326430021ba2ea9317a6a71fa005d4b87c273
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="debugging-an-azure-cloud-service-or-virtual-machine-in-visual-studio"></a><span data-ttu-id="64761-103">Egy Azure-felhőszolgáltatásban vagy a virtuális gép a Visual Studio hibakereső</span><span class="sxs-lookup"><span data-stu-id="64761-103">Debugging an Azure cloud service or virtual machine in Visual Studio</span></span>
<span data-ttu-id="64761-104">A Visual Studio hibakeresési Azure felhőszolgáltatások és virtuális gépek különböző lehetőséget biztosít.</span><span class="sxs-lookup"><span data-stu-id="64761-104">Visual Studio gives you different options for debugging Azure cloud services and virtual machines.</span></span>

## <a name="debug-your-cloud-service-on-your-local-computer"></a><span data-ttu-id="64761-105">A felhőalapú szolgáltatás a helyi számítógépen hibakeresése</span><span class="sxs-lookup"><span data-stu-id="64761-105">Debug your cloud service on your local computer</span></span>
<span data-ttu-id="64761-106">Mentheti időt és pénzt hello Azure compute emulator toodebug használatával a felhőalapú szolgáltatás a helyi számítógépen.</span><span class="sxs-lookup"><span data-stu-id="64761-106">You can save time and money by using hello Azure compute emulator toodebug your cloud service on a local machine.</span></span> <span data-ttu-id="64761-107">Által a szolgáltatás telepítése előtt helyileg hibakeresés, akkor is megbízhatóságának és teljesítményének javítása számítási alkalommal fizető nélkül.</span><span class="sxs-lookup"><span data-stu-id="64761-107">By debugging a service locally before you deploy it, you can improve reliability and performance without paying for compute time.</span></span> <span data-ttu-id="64761-108">Azonban néhány hiba is felléphet csak futtatásakor egy felhőalapú szolgáltatás az Azure-ban magát.</span><span class="sxs-lookup"><span data-stu-id="64761-108">However, some errors might occur only when you run a cloud service in Azure itself.</span></span> <span data-ttu-id="64761-109">Ezek a hibák megoldhassuk, ha engedélyezi a távoli hibakeresés, majd csatolja a hello hibakereső tooa szerepkör példánya és a szolgáltatást teszik közzé.</span><span class="sxs-lookup"><span data-stu-id="64761-109">You can debug these errors if you enable remote debugging when you publish your service and then attach hello debugger tooa role instance.</span></span>

<span data-ttu-id="64761-110">hello emulátor szimulál hello Azure számítási szolgáltatás, és a helyi környezetben fut, így tesztelése és hibakeresése a felhőalapú szolgáltatás telepítése előtt.</span><span class="sxs-lookup"><span data-stu-id="64761-110">hello emulator simulates hello Azure Compute service and runs in your local environment so that you can test and debug your cloud service before you deploy it.</span></span> <span data-ttu-id="64761-111">hello emulátor leírók hello a szerepkörpéldányok életciklusát, és hozzáférést biztosít a toosimulated erőforrások, például a helyi tároló.</span><span class="sxs-lookup"><span data-stu-id="64761-111">hello emulator handles hello lifecycle of your role instances and provides access toosimulated resources, such as local storage.</span></span> <span data-ttu-id="64761-112">Hibakeresési, illetve a szolgáltatás futtatásához a Visual Studio automatikusan elindul az emulátor hello a háttér-alkalmazásként, és ezután telepíti a szolgáltatás toohello emulátor.</span><span class="sxs-lookup"><span data-stu-id="64761-112">When you debug or run your service from Visual Studio, it automatically starts hello emulator as a background application and then deploys your service toohello emulator.</span></span> <span data-ttu-id="64761-113">Használhat hello emulátor tooview a szolgáltatás helyi környezetben hello futtatásakor.</span><span class="sxs-lookup"><span data-stu-id="64761-113">You can use hello emulator tooview your service when it runs in hello local environment.</span></span> <span data-ttu-id="64761-114">Hello teljes vagy hello hello emulator express verziója is futtathatja.</span><span class="sxs-lookup"><span data-stu-id="64761-114">You can run hello full version or hello express version of hello emulator.</span></span> <span data-ttu-id="64761-115">(Azure 2.3 verziótól kezdődően hello expressz hello emulator verziószáma hello alapértelmezett.) Lásd: [tooRun Emulator Express használatával és egy felhőalapú szolgáltatás helyileg hibakeresési](https://msdn.microsoft.com/library/dn339018.aspx).</span><span class="sxs-lookup"><span data-stu-id="64761-115">(Starting with Azure 2.3, hello express version of hello emulator is hello default.) See [Using Emulator Express tooRun and Debug a Cloud Service Locally](https://msdn.microsoft.com/library/dn339018.aspx).</span></span>

### <a name="toodebug-your-cloud-service-on-your-local-computer"></a><span data-ttu-id="64761-116">a felhőalapú szolgáltatás a helyi számítógépen toodebug</span><span class="sxs-lookup"><span data-stu-id="64761-116">toodebug your cloud service on your local computer</span></span>
1. <span data-ttu-id="64761-117">Hello menüsávban válassza **Debug**, **Start Debugging** toorun az Azure-felhőszolgáltatás-projekt.</span><span class="sxs-lookup"><span data-stu-id="64761-117">On hello menu bar, choose **Debug**, **Start Debugging** toorun your Azure cloud service project.</span></span> <span data-ttu-id="64761-118">Alternatív megoldásként nyomja le az F5 billentyűt.</span><span class="sxs-lookup"><span data-stu-id="64761-118">As an alternative, you can press F5.</span></span> <span data-ttu-id="64761-119">Megjelenik egy üzenet, miszerint a Compute Emulator hello indul.</span><span class="sxs-lookup"><span data-stu-id="64761-119">You’ll see a message that hello Compute Emulator is starting.</span></span> <span data-ttu-id="64761-120">Hello emulátor indításakor hello tálcaikonjára megerősíti, hogy azt.</span><span class="sxs-lookup"><span data-stu-id="64761-120">When hello emulator starts, hello system tray icon confirms it.</span></span>

    ![A tálcán hello Azure emulátorban](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC783828.png)
2. <span data-ttu-id="64761-122">Hello felhasználói felület megjelenítése hello compute Emulator hello értesítési területen hello helyi menüje hello Azure ikon megnyitásával, majd válassza ki **Show Compute Emulator felhasználói felületén**.</span><span class="sxs-lookup"><span data-stu-id="64761-122">Display hello user interface for hello compute emulator by opening hello shortcut menu for hello Azure icon in hello notification area, and then select **Show Compute Emulator UI**.</span></span>

    <span data-ttu-id="64761-123">hello bal oldali ablaktáblájában hello felhasználói felület látható hello szolgáltatások, amelyek jelenleg telepített toohello compute emulator és hello szerepkörpéldányokat fut-e minden szolgáltatás.</span><span class="sxs-lookup"><span data-stu-id="64761-123">hello left pane of hello UI shows hello services that are currently deployed toohello compute emulator and hello role instances that each service is running.</span></span> <span data-ttu-id="64761-124">Választhat hello szolgáltatást vagy szerepkörök toodisplay életciklusát, naplózási és diagnosztikai információk hello jobb oldali ablaktáblán.</span><span class="sxs-lookup"><span data-stu-id="64761-124">You can choose hello service or roles toodisplay lifecycle, logging, and diagnostic information in hello right pane.</span></span> <span data-ttu-id="64761-125">Ha a felső margó hello egy befoglalt ablak hello fókusz be, bővíti toofill hello jobb oldali ablaktáblán.</span><span class="sxs-lookup"><span data-stu-id="64761-125">If you put hello focus in hello top margin of an included window, it expands toofill hello right pane.</span></span>
3. <span data-ttu-id="64761-126">Hello található parancsokkal hello alkalmazáson keresztül lépés **Debug** menü és beállítása a töréspontokat a kódban.</span><span class="sxs-lookup"><span data-stu-id="64761-126">Step through hello application by selecting commands on hello **Debug** menu and setting breakpoints in your code.</span></span> <span data-ttu-id="64761-127">Hello hibakereső alkalmazást hello lépéseit, mert hello ablak hello alkalmazás hello az aktuális állapota is frissül.</span><span class="sxs-lookup"><span data-stu-id="64761-127">As you step through hello application in hello debugger, hello panes are updated with hello current status of hello application.</span></span> <span data-ttu-id="64761-128">Ha kikapcsolja a hibakeresést, hello alkalmazástelepítés törlődik.</span><span class="sxs-lookup"><span data-stu-id="64761-128">When you stop debugging, hello application deployment is deleted.</span></span> <span data-ttu-id="64761-129">Ha az alkalmazás tartalmaz a webes szerepkör, és beállította a hello indítási műveletet tulajdonság toostart hello webböngésző, Visual Studio elindítja a webes alkalmazás hello böngészőben.</span><span class="sxs-lookup"><span data-stu-id="64761-129">If your application includes a web role and you've set hello Startup action property toostart hello web browser, Visual Studio starts your web application in hello browser.</span></span> <span data-ttu-id="64761-130">Ha megváltoztatja hello hello szolgáltatás konfigurációját a szerepkör-példányok száma, kell a felhőalapú szolgáltatás leállítása és majd indítsa újra a hibakeresést, hogy ezek a új példányok hello szerepkör is hibakeresése.</span><span class="sxs-lookup"><span data-stu-id="64761-130">If you change hello number of instances of a role in hello service configuration, you must stop your cloud service and then restart debugging so that you can debug these new instances of hello role.</span></span>

    <span data-ttu-id="64761-131">**Megjegyzés:** fut, vagy amikor a hibakeresést a service hello helyi a compute emulator és a storage emulator nem leállt.</span><span class="sxs-lookup"><span data-stu-id="64761-131">**Note:** When you stop running or debugging your service, hello local compute emulator and storage emulator aren't stopped.</span></span> <span data-ttu-id="64761-132">Le kell állítani azokat explicit módon a hello értesítési területen.</span><span class="sxs-lookup"><span data-stu-id="64761-132">You must stop them explicitly from hello notification area.</span></span>

## <a name="debug-a-cloud-service-in-azure"></a><span data-ttu-id="64761-133">Hibakeresése az Azure-felhőszolgáltatás</span><span class="sxs-lookup"><span data-stu-id="64761-133">Debug a cloud service in Azure</span></span>
<span data-ttu-id="64761-134">toodebug egy távoli számítógépről egy felhőalapú szolgáltatás, engedélyeznie kell, hogy a funkció explicit módon, hogy a szükséges szolgáltatások (például msvsmon.exe) telepítve legyen a szerepkörpéldányok futó virtuális gépek hello a felhőalapú szolgáltatás telepítésekor.</span><span class="sxs-lookup"><span data-stu-id="64761-134">toodebug a cloud service from a remote machine, you must enable that functionality explicitly when you deploy your cloud service so that required services (msvsmon.exe, for example) are installed on hello virtual machines that run your role instances.</span></span> <span data-ttu-id="64761-135">Ha nem engedélyezi a távoli hibakeresés közzé a hello szolgáltatást, hogy toorepublish hello szolgáltatás távoli hibakeresés engedélyezésével.</span><span class="sxs-lookup"><span data-stu-id="64761-135">If you didn't enable remote debugging when you published hello service, you have toorepublish hello service with remote debugging enabled.</span></span>

<span data-ttu-id="64761-136">Ha engedélyezi a távoli hibakeresés egy felhőalapú szolgáltatás, ez nem csökkent teljesítményt mutat, vagy további költségek.</span><span class="sxs-lookup"><span data-stu-id="64761-136">If you enable remote debugging for a cloud service, it doesn't exhibit degraded performance or incur additional charges.</span></span> <span data-ttu-id="64761-137">Ne használja termelési szolgáltatás, a távoli hibakeresés mert hello szolgáltatást használó ügyfeleket negatív hatással lehet.</span><span class="sxs-lookup"><span data-stu-id="64761-137">You shouldn't use remote debugging on a production service, because clients who use hello service might be adversely affected.</span></span>

> [!NOTE]
> <span data-ttu-id="64761-138">Ha közzéteszi a Visual Studio felhőszolgáltatás, engedélyezheti a **IntelliTrace** szerepköröket, amelyek a szolgáltatás a cél hello .NET-keretrendszer 4 vagy hello .NET-keretrendszer 4.5.</span><span class="sxs-lookup"><span data-stu-id="64761-138">When you publish a cloud service from Visual Studio, you can enable **IntelliTrace** for any roles in that service that target hello .NET Framework 4 or hello .NET Framework 4.5.</span></span> <span data-ttu-id="64761-139">A **IntelliTrace**, vizsgálja meg az eseményeket, amelyek a következő fordult elő az elmúlt hello olyan szerepkörpéldányt, és Reprodukálja hello környezetben kezdve.</span><span class="sxs-lookup"><span data-stu-id="64761-139">By using **IntelliTrace**, you can examine events that occurred in a role instance in hello past and reproduce hello context from that time.</span></span> <span data-ttu-id="64761-140">Lásd: [egy közzétett felhőszolgáltatás IntelliTrace és a Visual Studio hibakeresési](http://go.microsoft.com/fwlink/?LinkID=623016) és [használatával IntelliTrace](https://msdn.microsoft.com/library/dd264915.aspx).</span><span class="sxs-lookup"><span data-stu-id="64761-140">See [Debugging a published cloud service with IntelliTrace and Visual Studio](http://go.microsoft.com/fwlink/?LinkID=623016) and [Using IntelliTrace](https://msdn.microsoft.com/library/dd264915.aspx).</span></span>
>
>

### <a name="tooenable-remote-debugging-for-a-cloud-service"></a><span data-ttu-id="64761-141">távoli hibakeresés egy felhőszolgáltatásra tooenable</span><span class="sxs-lookup"><span data-stu-id="64761-141">tooenable remote debugging for a cloud service</span></span>
1. <span data-ttu-id="64761-142">Hello hello Azure-projekt helyi menüjének megnyitásához, majd válassza ki **közzététel**.</span><span class="sxs-lookup"><span data-stu-id="64761-142">Open hello shortcut menu for hello Azure project, and then select **Publish**.</span></span>
2. <span data-ttu-id="64761-143">Jelölje be hello **átmeneti** környezet és hello **Debug** konfigurációs.</span><span class="sxs-lookup"><span data-stu-id="64761-143">Select hello **Staging** environment and hello **Debug** configuration.</span></span>

    <span data-ttu-id="64761-144">Ez az útmutató csak.</span><span class="sxs-lookup"><span data-stu-id="64761-144">This is only a guideline.</span></span> <span data-ttu-id="64761-145">Dönthet úgy is toorun a tesztkörnyezetben az éles környezetben.</span><span class="sxs-lookup"><span data-stu-id="64761-145">You can opt toorun your test environments in a Production environment.</span></span> <span data-ttu-id="64761-146">Azonban ez káros hatással lehet felhasználók hello éles környezetben a távoli hibakeresés engedélyezésével.</span><span class="sxs-lookup"><span data-stu-id="64761-146">However, you may adversely affect users if you enable remote debugging on hello Production environment.</span></span> <span data-ttu-id="64761-147">Kiválaszthatja a hello kiadás konfigurációs, de hello hibakeresési konfiguráció esetén könnyebb hibakeresést.</span><span class="sxs-lookup"><span data-stu-id="64761-147">You can choose hello Release configuration, but hello Debug configuration makes debugging easier.</span></span>

    ![Hello hibakeresési konfiguráció](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746717.gif)
3. <span data-ttu-id="64761-149">Hajtsa végre az hello szokásos lépéseket, de válassza hello **távoli hibakereső engedélyezése az összes szerepkör** hello jelölőnégyzetet **speciális beállítások** lapon.</span><span class="sxs-lookup"><span data-stu-id="64761-149">Follow hello usual steps, but select hello **Enable Remote Debugger for all roles** check box on hello **Advanced Settings** tab.</span></span>

    ![Konfigurációs hibakeresése](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746718.gif)

### <a name="tooattach-hello-debugger-tooa-cloud-service-in-azure"></a><span data-ttu-id="64761-151">tooattach hello hibakereső tooa felhőalapú szolgáltatás az Azure-ban</span><span class="sxs-lookup"><span data-stu-id="64761-151">tooattach hello debugger tooa cloud service in Azure</span></span>
1. <span data-ttu-id="64761-152">A Server Explorer eszközben bontsa ki a felhőalapú szolgáltatás hello csomópont.</span><span class="sxs-lookup"><span data-stu-id="64761-152">In Server Explorer, expand hello node for your cloud service.</span></span>
2. <span data-ttu-id="64761-153">Nyissa meg hello helyi menü hello szerepkör vagy a szerepkör példánya toowhich tooattach szeretne, és válassza a **csatolása hibakereső**.</span><span class="sxs-lookup"><span data-stu-id="64761-153">Open hello shortcut menu for hello role or role instance toowhich you want tooattach, and then select **Attach Debugger**.</span></span>

    <span data-ttu-id="64761-154">Ha hibakeresési szerepkör, hello Visual Studio hibakereső csatol az adott szerepkör tooeach példány.</span><span class="sxs-lookup"><span data-stu-id="64761-154">If you debug a role, hello Visual Studio debugger attaches tooeach instance of that role.</span></span> <span data-ttu-id="64761-155">hello hibakereső megszakítja a hello első szerepkörpéldányt, amely futtatja a sort, és azokat a feltételeket, hogy az megfelel a töréspont.</span><span class="sxs-lookup"><span data-stu-id="64761-155">hello debugger will break on a breakpoint for hello first role instance that runs that line of code and meets any conditions of that breakpoint.</span></span> <span data-ttu-id="64761-156">Ha hibakeresési egy példányát, hello hibakereső csatol, hogy a példány és a töréspont csak akkor, ha az adott példány fut a sort, és megfelel-e oldaltörések hello töréspont tartozó feltételek tooonly.</span><span class="sxs-lookup"><span data-stu-id="64761-156">If you debug an instance, hello debugger attaches tooonly that instance and breaks on a breakpoint only when that specific instance runs that line of code and meets hello breakpoint's conditions.</span></span>

    ![Hibakereső csatlakoztatása](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746719.gif)
3. <span data-ttu-id="64761-158">Miután hello hibakereső tooan példányhoz csatolja, hibakeresési a szokásos módon.</span><span class="sxs-lookup"><span data-stu-id="64761-158">After hello debugger attaches tooan instance, debug as usual.</span></span> <span data-ttu-id="64761-159">hello hibakereső automatikusan csatolja a toohello megfelelő gazdafolyamat a szerepkörhöz.</span><span class="sxs-lookup"><span data-stu-id="64761-159">hello debugger automatically attaches toohello appropriate host process for your role.</span></span> <span data-ttu-id="64761-160">Attól függően, hogy milyen hello szerepköre, hello hibakereső rendeli toow3wp.exe, WaWorkerHost.exe vagy WaIISHost.exe.</span><span class="sxs-lookup"><span data-stu-id="64761-160">Depending on what hello role is, hello debugger attaches toow3wp.exe, WaWorkerHost.exe, or WaIISHost.exe.</span></span> <span data-ttu-id="64761-161">tooverify hello folyamat toowhich hello hibakereső van csatolva, bontsa ki a Server Explorer hello példány csomópontot.</span><span class="sxs-lookup"><span data-stu-id="64761-161">tooverify hello process toowhich hello debugger is attached, expand hello instance node in Server Explorer.</span></span> <span data-ttu-id="64761-162">Lásd: [Azure szerepkör architektúra](http://blogs.msdn.com/b/kwill/archive/2011/05/05/windows-azure-role-architecture.aspx) Azure folyamatokkal kapcsolatos további információkat.</span><span class="sxs-lookup"><span data-stu-id="64761-162">See [Azure Role Architecture](http://blogs.msdn.com/b/kwill/archive/2011/05/05/windows-azure-role-architecture.aspx) for more information about Azure processes.</span></span>

    ![Válassza ki a kód párbeszédpanel](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC718346.png)
4. <span data-ttu-id="64761-164">tooidentify hello folyamatok toowhich hello hibakereső van csatlakoztatva, hello folyamatok párbeszédpanel megnyitásához, hello menüsoron, hibakeresési, a Windows, a folyamatok kiválasztása.</span><span class="sxs-lookup"><span data-stu-id="64761-164">tooidentify hello processes toowhich hello debugger is attached, open hello Processes dialog box by, on hello menu bar, choosing Debug, Windows, Processes.</span></span> <span data-ttu-id="64761-165">(Billentyűzet: Ctrl + Alt + Z) toodetach megadott folyamatáról, nyissa meg a helyi menüt, és válassza **leválasztani folyamat**.</span><span class="sxs-lookup"><span data-stu-id="64761-165">(Keyboard: Ctrl+Alt+Z)toodetach a specific process, open its shortcut menu, and then select **Detach Process**.</span></span> <span data-ttu-id="64761-166">Vagy, hello példány csomópont található a Server Explorer, hello folyamat található, a helyi menü megnyitásához, és válassza **leválasztani folyamat**.</span><span class="sxs-lookup"><span data-stu-id="64761-166">Or, locate hello instance node in Server Explorer, find hello process, open its shortcut menu, and then select **Detach Process**.</span></span>

    ![Folyamatok hibakeresése](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC690787.gif)

> [!WARNING]
> <span data-ttu-id="64761-168">Hosszú leáll, amikor távoli töréspontok elkerülése hibakeresést.</span><span class="sxs-lookup"><span data-stu-id="64761-168">Avoid long stops at breakpoints when remote debugging.</span></span> <span data-ttu-id="64761-169">Azure értékként kezelje-e a folyamat, amely válaszol néhány percnél hosszabb ideig leáll, és leállítja a forgalom toothat példány küldésekor.</span><span class="sxs-lookup"><span data-stu-id="64761-169">Azure treats a process that's stopped for longer than a few minutes as unresponsive and stops sending traffic toothat instance.</span></span> <span data-ttu-id="64761-170">Ha túl sokáig megszakítja, msvsmon.exe leválik hello folyamat.</span><span class="sxs-lookup"><span data-stu-id="64761-170">If you stop for too long, msvsmon.exe detaches from hello process.</span></span>
>
>

<span data-ttu-id="64761-171">a példány vagy szerepkör, nyissa meg hello helyi menü hello szerepkör vagy a példány hibakeresése, és válassza ki az összes folyamatok toodetach hello hibakereső **leválasztani hibakereső**.</span><span class="sxs-lookup"><span data-stu-id="64761-171">toodetach hello debugger from all processes in your instance or role, open hello shortcut menu for hello role or instance that you're debugging, and then select **Detach Debugger**.</span></span>

## <a name="limitations-of-remote-debugging-in-azure"></a><span data-ttu-id="64761-172">Korlátozások a távoli hibakeresés az Azure-ban</span><span class="sxs-lookup"><span data-stu-id="64761-172">Limitations of remote debugging in Azure</span></span>
<span data-ttu-id="64761-173">Az Azure SDK 2.3 távoli hibakeresés rendelkezik hello a következő korlátozások vonatkoznak.</span><span class="sxs-lookup"><span data-stu-id="64761-173">From Azure SDK 2.3, remote debugging has hello following limitations.</span></span>

* <span data-ttu-id="64761-174">Távoli hibakeresés engedélyezésével, egy felhőalapú szolgáltatás, amelyben minden olyan szerepkört 25-nél több példánya van nem tehető közzé.</span><span class="sxs-lookup"><span data-stu-id="64761-174">With remote debugging enabled, you can't publish a cloud service in which any role has more than 25 instances.</span></span>
* <span data-ttu-id="64761-175">hello hibakereső portok 30400 too30424, 31400 too31424 és 32400 too32424 használja.</span><span class="sxs-lookup"><span data-stu-id="64761-175">hello debugger uses ports 30400 too30424, 31400 too31424 and 32400 too32424.</span></span> <span data-ttu-id="64761-176">Ha toouse valamelyik portot, akkor a szolgáltatáshoz, és a következő hibaüzenetek hello közül fog megjelenni hello tevékenységnapló Azure képes toopublish:</span><span class="sxs-lookup"><span data-stu-id="64761-176">If you try toouse any of these ports, you won't be able toopublish your service, and one of hello following error messages will appear in hello activity log for Azure:</span></span>

  * <span data-ttu-id="64761-177">Hiba történt a hello .cscfg fájl .csdef fájl hello ellenőrzése.</span><span class="sxs-lookup"><span data-stu-id="64761-177">Error validating hello .cscfg file against hello .csdef file.</span></span>
    <span data-ttu-id="64761-178">hello porttartomány "tartomány" szerepkör "szerepkör" Microsoft.WindowsAzure.Plugins.RemoteDebugger.Connector átfedésben van egy már definiált portot vagy porttartományt végpont fenntartva.</span><span class="sxs-lookup"><span data-stu-id="64761-178">hello reserved port range 'range' for endpoint Microsoft.WindowsAzure.Plugins.RemoteDebugger.Connector of role 'role' overlaps with an already defined port or range.</span></span>
  * <span data-ttu-id="64761-179">A lefoglalás sikertelen.</span><span class="sxs-lookup"><span data-stu-id="64761-179">Allocation failed.</span></span> <span data-ttu-id="64761-180">Próbálkozzon újra később, próbálja meg csökkenteni a hello Virtuálisgép-méretet vagy a szerepkörpéldányok számát, vagy próbálja tooa más régióban üzembe helyezni.</span><span class="sxs-lookup"><span data-stu-id="64761-180">Please retry later, try reducing hello VM size or number of role instances, or try deploying tooa different region.</span></span>

## <a name="debugging-azure-virtual-machines"></a><span data-ttu-id="64761-181">Az Azure virtuális gépek hibakeresés</span><span class="sxs-lookup"><span data-stu-id="64761-181">Debugging Azure virtual machines</span></span>
<span data-ttu-id="64761-182">A Visual Studio Server Explorer használatával az Azure virtuális gépeken futó programok megoldhassuk.</span><span class="sxs-lookup"><span data-stu-id="64761-182">You can debug programs that run on Azure virtual machines by using Server Explorer in Visual Studio.</span></span> <span data-ttu-id="64761-183">Ha engedélyezi az Azure virtuális géphez távoli hibakeresés, az Azure hello távoli hibakeresési bővítmény telepítését hello virtuális gépen.</span><span class="sxs-lookup"><span data-stu-id="64761-183">When you enable remote debugging on an Azure virtual machine, Azure installs hello remote debugging extension on hello virtual machine.</span></span> <span data-ttu-id="64761-184">Majd amellyel tooprocesses hello virtuális gépen, és hibakeresése a szokásos módon.</span><span class="sxs-lookup"><span data-stu-id="64761-184">Then, you can attach tooprocesses on hello virtual machine and debug as you normally would.</span></span>

> [!NOTE]
> <span data-ttu-id="64761-185">Hello Azure resource manager-készletben használatával létrehozott virtuális gépeket a Visual Studio 2015 Cloud Explorer használatával távolról indítja is.</span><span class="sxs-lookup"><span data-stu-id="64761-185">Virtual machines created through hello Azure resource manager stack can be remotely debugged by using Cloud Explorer in Visual Studio 2015.</span></span> <span data-ttu-id="64761-186">További információkért lásd: [Azure-erőforrások kezelése Cloud Explorer](http://go.microsoft.com/fwlink/?LinkId=623031).</span><span class="sxs-lookup"><span data-stu-id="64761-186">For more information, see [Managing Azure Resources with Cloud Explorer](http://go.microsoft.com/fwlink/?LinkId=623031).</span></span>
>
>

### <a name="toodebug-an-azure-virtual-machine"></a><span data-ttu-id="64761-187">egy Azure virtuális gép toodebug</span><span class="sxs-lookup"><span data-stu-id="64761-187">toodebug an Azure virtual machine</span></span>
1. <span data-ttu-id="64761-188">A Server Explorer eszközben bontsa ki a hello virtuális gépek csomópontnak, illetve hello virtuális gép, amelyet az toodebug válassza hello csomópontnak.</span><span class="sxs-lookup"><span data-stu-id="64761-188">In Server Explorer, expand hello Virtual Machines node and select hello node of hello virtual machine that you want toodebug.</span></span>
2. <span data-ttu-id="64761-189">Hello helyi menü megnyitásához, és válassza ki **hibakeresés engedélyezése**.</span><span class="sxs-lookup"><span data-stu-id="64761-189">Open hello context menu and select **Enable Debugging**.</span></span> <span data-ttu-id="64761-190">Amikor a rendszer kéri, ha megbizonyosodott arról, hogy, ha azt szeretné, hogy a tooenable hello virtuális gépet, jelölje be a hibakeresés **Igen**.</span><span class="sxs-lookup"><span data-stu-id="64761-190">When asked if you're sure if you want tooenable debugging on hello virtual machine, select **Yes**.</span></span>

    <span data-ttu-id="64761-191">Azure hello távoli hibakeresési bővítmény telepítése hello virtuális gép tooenable hibakeresést.</span><span class="sxs-lookup"><span data-stu-id="64761-191">Azure installs hello remote debugging extension on hello virtual machine tooenable debugging.</span></span>

    ![Virtuális gép hibakeresési parancs engedélyezése](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746720.png)

    ![Azure tevékenységnapló](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746721.png)
3. <span data-ttu-id="64761-194">Hello távoli hibakeresési bővítmény befejezése telepítése után nyissa meg a hello virtuális gép helyi menüt, majd válassza **csatolása hibakereső...**</span><span class="sxs-lookup"><span data-stu-id="64761-194">After hello remote debugging extension finishes installing, open hello virtual machine's context menu and select **Attach Debugger...**</span></span>

    <span data-ttu-id="64761-195">Azure hello folyamatok listájának lekérése hello virtuális gépen, és azt is hello Attach tooProcess párbeszédpanelen.</span><span class="sxs-lookup"><span data-stu-id="64761-195">Azure gets a list of hello processes on hello virtual machine and shows them in hello Attach tooProcess dialog box.</span></span>

    ![A hibakereső parancs csatolása](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746722.png)
4. <span data-ttu-id="64761-197">A hello **tooProcess csatolása** párbeszédpanelen jelölje ki **kiválasztása** toolimit hello eredmények Típuslista tooshow csak hello kód toodebug kívánt.</span><span class="sxs-lookup"><span data-stu-id="64761-197">In hello **Attach tooProcess** dialog box, select **Select** toolimit hello results list tooshow only hello types of code you want toodebug.</span></span> <span data-ttu-id="64761-198">32 vagy 64-bites felügyelt kódot, natív kóddal vagy mindkettő megoldhassuk.</span><span class="sxs-lookup"><span data-stu-id="64761-198">You can debug 32- or 64-bit managed code, native code, or both.</span></span>

    ![Válassza ki a kód párbeszédpanel](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC718346.png)
5. <span data-ttu-id="64761-200">Válassza ki a kívánt toodebug hello virtuális gépen, és válassza ki a hello folyamatok **Attach**.</span><span class="sxs-lookup"><span data-stu-id="64761-200">Select hello processes you want toodebug on hello virtual machine and then select **Attach**.</span></span> <span data-ttu-id="64761-201">Például hello w3wp.exe folyamat célszerű használni, ha a keresett toodebug a webes alkalmazás hello virtuális gépen.</span><span class="sxs-lookup"><span data-stu-id="64761-201">For example, you might choose hello w3wp.exe process if you wanted toodebug a web app on hello virtual machine.</span></span> <span data-ttu-id="64761-202">Lásd: [Debug egy vagy több folyamatot, a Visual Studio](https://msdn.microsoft.com/library/jj919165.aspx) és [Azure szerepkör architektúra](http://blogs.msdn.com/b/kwill/archive/2011/05/05/windows-azure-role-architecture.aspx) további információt.</span><span class="sxs-lookup"><span data-stu-id="64761-202">See [Debug One or More Processes in Visual Studio](https://msdn.microsoft.com/library/jj919165.aspx) and [Azure Role Architecture](http://blogs.msdn.com/b/kwill/archive/2011/05/05/windows-azure-role-architecture.aspx) for more information.</span></span>

## <a name="create-a-web-project-and-a-virtual-machine-for-debugging"></a><span data-ttu-id="64761-203">Webes projektet és a hibakereséshez a virtuális gép létrehozása</span><span class="sxs-lookup"><span data-stu-id="64761-203">Create a web project and a virtual machine for debugging</span></span>
<span data-ttu-id="64761-204">Az Azure-projekt közzététele, előfordulhat, hogy hasznos tootest tartalmazott környezetben, amely támogatja a Hibakeresés és tesztelési forgatókönyvek, és ahol tesztelése és programok figyelése telepítheti azt.</span><span class="sxs-lookup"><span data-stu-id="64761-204">Before publishing your Azure project, you might find it useful tootest it in a contained environment that supports debugging and testing scenarios, and where you can install testing and monitoring programs.</span></span> <span data-ttu-id="64761-205">Egyirányú toodo Ez az tooremotely alkalmazás hibakeresése a virtuális gépen.</span><span class="sxs-lookup"><span data-stu-id="64761-205">One way toodo this is tooremotely debug your app on a virtual machine.</span></span>

<span data-ttu-id="64761-206">A Visual Studio ASP.NET projektek ajánlatot egy beállítás toocreate alkalmazás teszteléséhez használható virtuális gép lesz szüksége.</span><span class="sxs-lookup"><span data-stu-id="64761-206">Visual Studio ASP.NET projects offer an option toocreate a handy virtual machine that you can use for app testing.</span></span> <span data-ttu-id="64761-207">hello virtuális gép végpontok általában szükség például PowerShell, a távoli asztal és a WebDeploy tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="64761-207">hello virtual machine includes commonly-needed endpoints such as PowerShell, remote desktop, and WebDeploy.</span></span>

### <a name="toocreate-a-web-project-and-a-virtual-machine-for-debugging"></a><span data-ttu-id="64761-208">toocreate webes projektet és a hibakereséshez a virtuális gép</span><span class="sxs-lookup"><span data-stu-id="64761-208">toocreate a web project and a virtual machine for debugging</span></span>
1. <span data-ttu-id="64761-209">A Visual Studióban hozzon létre egy új ASP.NET Webalkalmazásként való kezelése.</span><span class="sxs-lookup"><span data-stu-id="64761-209">In Visual Studio, create a new ASP.NET Web Application.</span></span>
2. <span data-ttu-id="64761-210">Hello új ASP.NET projekt párbeszédpanelje, hello Azure területen válassza a **virtuális gép** hello legördülő listában.</span><span class="sxs-lookup"><span data-stu-id="64761-210">In hello New ASP.NET Project dialog, in hello Azure section, choose **Virtual Machine** in hello dropdown list box.</span></span> <span data-ttu-id="64761-211">Hagyja hello **távoli erőforrások létrehozása** jelölőnégyzet be van jelölve.</span><span class="sxs-lookup"><span data-stu-id="64761-211">Leave hello **Create remote resources** check box selected.</span></span> <span data-ttu-id="64761-212">Válassza ki **OK** tooproceed.</span><span class="sxs-lookup"><span data-stu-id="64761-212">Select **OK** tooproceed.</span></span>

    <span data-ttu-id="64761-213">Hello **virtuális gép létrehozása az Azure** párbeszédpanel jelenik meg.</span><span class="sxs-lookup"><span data-stu-id="64761-213">hello **Create virtual machine on Azure** dialog box appears.</span></span>

    ![ASP.NET webes projekt párbeszédpanel létrehozása](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746723.png)

    <span data-ttu-id="64761-215">**Megjegyzés:** meg kell adnia az Azure-fiók tooyour toosign ha van már nincs bejelentkezve.</span><span class="sxs-lookup"><span data-stu-id="64761-215">**Note:** You'll be asked toosign in tooyour Azure account if you're not already signed in.</span></span>

1. <span data-ttu-id="64761-216">Válassza ki a hello hello virtuális gép különböző beállításait, és válassza ki **OK**.</span><span class="sxs-lookup"><span data-stu-id="64761-216">Select hello various settings for hello virtual machine and then select **OK**.</span></span> <span data-ttu-id="64761-217">Lásd: [virtuális gépek](http://go.microsoft.com/fwlink/?LinkId=623033) további információt.</span><span class="sxs-lookup"><span data-stu-id="64761-217">See [Virtual Machines](http://go.microsoft.com/fwlink/?LinkId=623033) for more information.</span></span>

    <span data-ttu-id="64761-218">hello név DNS-név lesz hello hello virtuális gép nevét.</span><span class="sxs-lookup"><span data-stu-id="64761-218">hello name you enter for DNS name will be hello name of hello virtual machine.</span></span>

    ![Virtuális gép létrehozása Azure párbeszédpanel](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746724.png)

    <span data-ttu-id="64761-220">Azure hello virtuális gépet, majd a rendelkezések hoz létre, és konfigurálja a hello végpontok, például a távoli asztal és a Web Deploy</span><span class="sxs-lookup"><span data-stu-id="64761-220">Azure creates hello virtual machine and then provisions and configures hello endpoints, such as Remote Desktop and Web Deploy</span></span>
2. <span data-ttu-id="64761-221">Hello virtuális gép teljes konfigurálása után válassza ki a Server Explorer hello virtuális gép csomópontját.</span><span class="sxs-lookup"><span data-stu-id="64761-221">After hello virtual machine is fully configured, select hello virtual machine’s node in Server Explorer.</span></span>
3. <span data-ttu-id="64761-222">Hello helyi menü megnyitásához, és válassza ki **hibakeresés engedélyezése**.</span><span class="sxs-lookup"><span data-stu-id="64761-222">Open hello context menu and select **Enable Debugging**.</span></span> <span data-ttu-id="64761-223">Amikor a rendszer kéri, ha megbizonyosodott arról, hogy, ha azt szeretné, hogy a tooenable hello virtuális gépet, jelölje be a hibakeresés **Igen**.</span><span class="sxs-lookup"><span data-stu-id="64761-223">When asked if you're sure if you want tooenable debugging on hello virtual machine, select **Yes**.</span></span>

    <span data-ttu-id="64761-224">Azure telepíti hello távoli hibakeresési bővítmény toohello virtuális gép tooenable hibakeresést.</span><span class="sxs-lookup"><span data-stu-id="64761-224">Azure installs hello remote debugging extension toohello virtual machine tooenable debugging.</span></span>

    ![Virtuális gép hibakeresési parancs engedélyezése](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746720.png)

    ![Azure tevékenységnapló](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746721.png)
4. <span data-ttu-id="64761-227">A projekt közzététele a [Útmutató: a webes projekt használ egy kattintással közzététele a Visual Studio telepítése](https://msdn.microsoft.com/library/dd465337.aspx).</span><span class="sxs-lookup"><span data-stu-id="64761-227">Publish your project as outlined in [How to: Deploy a Web Project Using One-Click Publish in Visual Studio](https://msdn.microsoft.com/library/dd465337.aspx).</span></span> <span data-ttu-id="64761-228">Mivel toodebug hello virtuális gépen, a hello **beállítások** hello oldalán **webhely közzététele** varázslóban válassza **Debug** hello beállításként.</span><span class="sxs-lookup"><span data-stu-id="64761-228">Because you want toodebug on hello virtual machine, on hello **Settings** page of hello **Publish Web** wizard, select **Debug** as hello configuration.</span></span> <span data-ttu-id="64761-229">Ez biztosítja, hogy kód szimbólumok hibakeresés során rendelkezésre álló is.</span><span class="sxs-lookup"><span data-stu-id="64761-229">This makes sure that code symbols are available while debugging.</span></span>

    ![Közzétételi beállítások](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC718349.png)
5. <span data-ttu-id="64761-231">A hello **Fájlközzétételi beállítás**, jelölje be **célhelyen további fájlok eltávolítása** Ha hello projekt korábban már telepítve lett.</span><span class="sxs-lookup"><span data-stu-id="64761-231">In hello **File Publish Options**, select **Remove additional files at destination** if hello project was already deployed at an earlier time.</span></span>
6. <span data-ttu-id="64761-232">Miután közzéteszi hello projekt hello virtuális gép helyi menüben a Server Explorer eszközben válassza **csatolása hibakereső...**</span><span class="sxs-lookup"><span data-stu-id="64761-232">After hello project publishes, on hello virtual machine's context menu in Server Explorer, select **Attach Debugger...**</span></span>

    <span data-ttu-id="64761-233">Azure hello folyamatok listájának lekérése hello virtuális gépen, és azt is hello Attach tooProcess párbeszédpanelen.</span><span class="sxs-lookup"><span data-stu-id="64761-233">Azure gets a list of hello processes on hello virtual machine and shows them in hello Attach tooProcess dialog box.</span></span>

    ![A hibakereső parancs csatolása](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC746722.png)
7. <span data-ttu-id="64761-235">A hello **tooProcess csatolása** párbeszédpanelen jelölje ki **kiválasztása** toolimit hello eredmények Típuslista tooshow csak hello kód toodebug kívánt.</span><span class="sxs-lookup"><span data-stu-id="64761-235">In hello **Attach tooProcess** dialog box, select **Select** toolimit hello results list tooshow only hello types of code you want toodebug.</span></span> <span data-ttu-id="64761-236">32 vagy 64-bites felügyelt kódot, natív kóddal vagy mindkettő megoldhassuk.</span><span class="sxs-lookup"><span data-stu-id="64761-236">You can debug 32- or 64-bit managed code, native code, or both.</span></span>

    ![Válassza ki a kód párbeszédpanel](./media/vs-azure-tools-debug-cloud-services-virtual-machines/IC718346.png)
8. <span data-ttu-id="64761-238">Válassza ki a kívánt toodebug hello virtuális gépen, és válassza ki a hello folyamatok **Attach**.</span><span class="sxs-lookup"><span data-stu-id="64761-238">Select hello processes you want toodebug on hello virtual machine and then select **Attach**.</span></span> <span data-ttu-id="64761-239">Például hello w3wp.exe folyamat célszerű használni, ha a keresett toodebug a webes alkalmazás hello virtuális gépen.</span><span class="sxs-lookup"><span data-stu-id="64761-239">For example, you might choose hello w3wp.exe process if you wanted toodebug a web app on hello virtual machine.</span></span> <span data-ttu-id="64761-240">Lásd: [Debug egy vagy több folyamatot, a Visual Studio](https://msdn.microsoft.com/library/jj919165.aspx) további információt.</span><span class="sxs-lookup"><span data-stu-id="64761-240">See [Debug One or More Processes in Visual Studio](https://msdn.microsoft.com/library/jj919165.aspx) for more information.</span></span>

## <a name="next-steps"></a><span data-ttu-id="64761-241">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="64761-241">Next steps</span></span>
* <span data-ttu-id="64761-242">Használjon **Intellitrace** toocollect hívások és a kiadási kiszolgálótól érkező események naplózása.</span><span class="sxs-lookup"><span data-stu-id="64761-242">Use **Intellitrace** toocollect a log of calls and events from a release server.</span></span> <span data-ttu-id="64761-243">Lásd: [egy közzétett Felhőszolgáltatás IntelliTrace és a Visual Studio hibakeresési](http://go.microsoft.com/fwlink/?LinkID=623016).</span><span class="sxs-lookup"><span data-stu-id="64761-243">See [Debugging a Published Cloud Service with IntelliTrace and Visual Studio](http://go.microsoft.com/fwlink/?LinkID=623016).</span></span>
* <span data-ttu-id="64761-244">Használjon **Azure Diagnostics** toolog részletes kód futását szerepköröket, az adatokat, hogy hello szerepkörök hello fejlesztői környezetben vagy az Azure-ban futtatja.</span><span class="sxs-lookup"><span data-stu-id="64761-244">Use **Azure Diagnostics** toolog detailed information from code running within roles, whether hello roles are running in hello development environment or in Azure.</span></span> <span data-ttu-id="64761-245">Lásd: [naplózási adatok gyűjtése az Azure Diagnostics használatával](http://go.microsoft.com/fwlink/p/?LinkId=400450).</span><span class="sxs-lookup"><span data-stu-id="64761-245">See [Collecting logging data by using Azure Diagnostics](http://go.microsoft.com/fwlink/p/?LinkId=400450).</span></span>
