---
title: "Több-bérlős háttérrendszerek áttekintése az Azure Application Gatewayjel | Microsoft Docs"
description: "Ez az oldal áttekintést nyújt az Application Gateway több-bérlős háttérrendszerekhez elérhető támogatásáról."
documentationcenter: na
services: application-gateway
author: georgewallace
manager: timlt
editor: 
ms.service: application-gateway
ms.devlang: na
ms.topic: hero-article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 07/26/2017
ms.author: gwallace
ms.openlocfilehash: d944904db5b0bf176b214249ad59611e2b794ae0
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 08/29/2017
---
# <a name="application-gateway-support-for-multi-tenant-back-ends"></a><span data-ttu-id="4b19d-103">Az Application Gateway támogatása több-bérlős háttérrendszerekhez</span><span class="sxs-lookup"><span data-stu-id="4b19d-103">Application Gateway support for multi-tenant back ends</span></span>

<span data-ttu-id="4b19d-104">Az Azure Application Gateway háttérkészleteiben virtuálisgép-méretezési csoportok, hálózati adapterek, nyilvános vagy magánhálózati IP-címek, illetve teljes tartománynevek (FQDN) szerepelhetnek.</span><span class="sxs-lookup"><span data-stu-id="4b19d-104">Azure Application Gateway supports virtual machine scale sets, network interfaces, public/private IP, or fully qualified domain name (FQDN) as part of its back end pools.</span></span> <span data-ttu-id="4b19d-105">Alapértelmezés szerint az Application Gateway nem módosítja az ügyféltől származó bejövő HTTP-állomásfejlécet, és így küldi tovább a háttérrendszernek.</span><span class="sxs-lookup"><span data-stu-id="4b19d-105">By default, application gateway does not change the incoming HTTP host header from the client and sends the header unaltered to the back end.</span></span> <span data-ttu-id="4b19d-106">Számos olyan szolgáltatás létezik, mint az [Azure Web Apps](../app-service-web/app-service-web-overview.md) és az [API Management](../api-management/api-management-key-concepts.md), amelyek eredendően több-bérlős szolgáltatások, és a megfelelő végpontra való feloldáshoz egy adott állomásfejlécet vagy SNI-bővítményt használnak.</span><span class="sxs-lookup"><span data-stu-id="4b19d-106">There are many services like [Azure Web Apps](../app-service-web/app-service-web-overview.md) and [API Management](../api-management/api-management-key-concepts.md) that are multi-tenant in nature and rely on a specific host header or SNI extension to resolve to the correct endpoint.</span></span> <span data-ttu-id="4b19d-107">Az Application Gateway mostantól támogatja a bejövő HTTP-állomásfejlécek felhasználói felülírásának lehetőségét a háttérrendszer HTTP-beállításai alapján.</span><span class="sxs-lookup"><span data-stu-id="4b19d-107">Application Gateway now supports the ability for users to overwrite the incoming HTTP host header based on the back end HTTP settings.</span></span> <span data-ttu-id="4b19d-108">Ez a képesség teszi lehetővé a több-bérlős háttérrendszerek Azure Web Apps és API Management szolgáltatásának támogatását.</span><span class="sxs-lookup"><span data-stu-id="4b19d-108">This capability enables support for multi-tenant back ends Azure web apps and API management.</span></span> <span data-ttu-id="4b19d-109">Ez a képesség a standard és a WAF termékváltozat esetében is elérhető.</span><span class="sxs-lookup"><span data-stu-id="4b19d-109">This capability is available for both the standard and WAF SKU.</span></span> <span data-ttu-id="4b19d-110">A több-bérlős háttérrendszerek támogatása SSL-lezárások és teljes körű SSL-forgatókönyvek esetében is működik.</span><span class="sxs-lookup"><span data-stu-id="4b19d-110">Multi-tenant back end support also works with SSL termination and end to end SSL scenarios.</span></span>

![webalkalmazás-forgatókönyv](./media/application-gateway-web-app-overview/scenario.png)

<span data-ttu-id="4b19d-112">A gazdagép-felülbírálás meghatározása a HTTP-beállítások megadása során történik, és a szabálylétrehozás során bármely háttérkészletre alkalmazható.</span><span class="sxs-lookup"><span data-stu-id="4b19d-112">The ability to specify a host override is defined at the HTTP settings and can be applied to any back end pool during rule creation.</span></span> <span data-ttu-id="4b19d-113">A több-bérlős háttérrendszerek az állomásfejlécek és az SNI-bővítmények alábbi két felülbírálási módját támogatják.</span><span class="sxs-lookup"><span data-stu-id="4b19d-113">Multi-tenant back ends support the following two ways of overriding host header and SNI extension.</span></span>

1. <span data-ttu-id="4b19d-114">A gazdanév rögzített értékre történő beállítása a HTTP-beállítások megadása során.</span><span class="sxs-lookup"><span data-stu-id="4b19d-114">The ability to set the host name to a fixed value in the HTTP settings.</span></span> <span data-ttu-id="4b19d-115">Ez a képesség biztosítja, hogy az állomásfejléc minden olyan háttérkészlet felé irányuló adatforgalom esetében erre az értékre legyen felülírva, amelyre a HTTP-beállítások vonatkoznak.</span><span class="sxs-lookup"><span data-stu-id="4b19d-115">This capability ensures that the host header is overridden to this value for all traffic to the back end pool where the HTTP settings are applied.</span></span> <span data-ttu-id="4b19d-116">Végpontok közötti SSL alkalmazása esetén az SNI-bővítményben a rendszer a felülírt gazdanevet használja.</span><span class="sxs-lookup"><span data-stu-id="4b19d-116">When using end to end SSL, this overridden host name is used in the SNI extension.</span></span> <span data-ttu-id="4b19d-117">Ez a képesség lehetővé teszi olyan forgatókönyvek megvalósítását, ahol egy háttérkészletfarm a bejövő ügyfél állomásfejlécétől eltérő állomásfejlécet vár.</span><span class="sxs-lookup"><span data-stu-id="4b19d-117">This capability enables scenarios where a back end pool farm expects a host header that is different from the incoming customer host header.</span></span>

2. <span data-ttu-id="4b19d-118">A gazdanév származtatása a háttérkészlettagok IP-címéből vagy teljes tartománynevéből.</span><span class="sxs-lookup"><span data-stu-id="4b19d-118">The ability to derive the host name from the IP or FQDN of the back end pool members.</span></span> <span data-ttu-id="4b19d-119">A HTTP-beállítások megadása során lehetőség van a gazdanév egy háttérkészlettag teljes tartománynevéből való kiválasztására, ha az úgy lett konfigurálva, hogy a gazdanév származtatása egy egyedi háttérkészlettagból történjen.</span><span class="sxs-lookup"><span data-stu-id="4b19d-119">HTTP settings also provide an option to pick the host name from a back end pool member's FQDN if configured with the option to derive host name from an individual back end pool member.</span></span> <span data-ttu-id="4b19d-120">Végpontok közötti SSL alkalmazása esetén az SNI-bővítményben a rendszer a teljes tartománynévből származtatott gazdanevet használja.</span><span class="sxs-lookup"><span data-stu-id="4b19d-120">When using end to end SSL, this host name is derived from the FQDN and is used in the SNI extension.</span></span> <span data-ttu-id="4b19d-121">Ez a képesség lehetővé teszi olyan forgatókönyvek megvalósítását, ahol a háttérkészlet kettő vagy több több-bérlős PaaS szolgáltatással is rendelkezhet. Ilyenek például az Azure Web Apps és a teljes tartománynévből származtatott gazdanevet tartalmazó tagokra irányuló kérések állomásfejlécei.</span><span class="sxs-lookup"><span data-stu-id="4b19d-121">This capability enables scenarios where a back end pool can have two or more multi-tenant PaaS services like Azure web apps and the request's host header to each member contains the host name derived from its FQDN.</span></span>

> [!NOTE]
> <span data-ttu-id="4b19d-122">Mindkét előző esetben a beállítások csak az élő adatforgalomra vannak hatással, az állapotminta viselkedésére nem.</span><span class="sxs-lookup"><span data-stu-id="4b19d-122">In both of the preceding cases the settings only affect the live traffic behavior and not the health probe behavior.</span></span> <span data-ttu-id="4b19d-123">Az egyéni minták már korábban is támogatták az állomásfejléc megadásának lehetőségét a mintavételi konfigurációban.</span><span class="sxs-lookup"><span data-stu-id="4b19d-123">Custom probes already support the ability to specify a host header in the probe configuration.</span></span> <span data-ttu-id="4b19d-124">Az egyéni minták mostantól támogatják az állomásfejléc viselkedésének az aktuálisan konfigurált HTTP-beállításokból történő származtatását is.</span><span class="sxs-lookup"><span data-stu-id="4b19d-124">Custom probes now also support the ability to derive the host header behavior from the currently configured HTTP settings.</span></span> <span data-ttu-id="4b19d-125">Ezt a konfigurációt a mintavételi konfigurációban a `PickHostNameFromback endAddress` paraméterrel is megadhatjuk.</span><span class="sxs-lookup"><span data-stu-id="4b19d-125">This configuration can be specified by using the `PickHostNameFromback endAddress` parameter in the probe configuration.</span></span> <span data-ttu-id="4b19d-126">A végpontok közötti funkciók működéséhez a mintavételi és a HTTP-beállításokat is úgy kell módosítani, hogy azok a megfelelő konfigurációt tükrözzék.</span><span class="sxs-lookup"><span data-stu-id="4b19d-126">For end to end functionality to work, both the probe and the HTTP settings must be modified to reflect the correct configuration.</span></span>

<span data-ttu-id="4b19d-127">Ezzel a képességgel az ügyfelek megadhatják a HTTP-beállítások és az egyéni mintavételek beállítási lehetőségeit a megfelelő konfigurációhoz.</span><span class="sxs-lookup"><span data-stu-id="4b19d-127">With this capability, customers specify the options in the HTTP settings and custom probes to the appropriate configuration.</span></span> <span data-ttu-id="4b19d-128">Ezt a beállítást ezután a rendszer egy szabállyal egy adott figyelőhöz és háttérkészlethez köti.</span><span class="sxs-lookup"><span data-stu-id="4b19d-128">This setting is then tied to a listener and a back end pool by using a rule.</span></span>

## <a name="next-steps"></a><span data-ttu-id="4b19d-129">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="4b19d-129">Next steps</span></span>

<span data-ttu-id="4b19d-130">Az Application Gateway háttérkészlet tagjaként funkcionáló webalkalmazással való beállításával kapcsolatban lásd [az App Service Web Apps Application Gatewayjel való beállításáról](application-gateway-web-app-powershell.md) szóló témakört.</span><span class="sxs-lookup"><span data-stu-id="4b19d-130">Learn how to set up an application gateway with a web app as a back end pool member by visiting: [Configure App Service web apps with Application Gateway](application-gateway-web-app-powershell.md)</span></span>
