---
title: "egyéni aaaCreate mintavételi - Azure Application Gateway - Azure portálon |} Microsoft Docs"
description: "Ismerje meg, hogyan toocreate egyéni mintavételi az Alkalmazásátjáró hello portál használatával"
services: application-gateway
documentationcenter: na
author: georgewallace
manager: timlt
editor: 
tags: azure-resource-manager
ms.assetid: 33fd5564-43a7-4c54-a9ec-b1235f661f97
ms.service: application-gateway
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 04/26/2017
ms.author: gwallace
ms.openlocfilehash: 9e9309045ef33ba1010868783949b4fde31619ec
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="create-a-custom-probe-for-application-gateway-by-using-hello-portal"></a><span data-ttu-id="b4abb-103">Hozzon létre egy egyéni mintavétel az Alkalmazásátjáró hello portál használatával</span><span class="sxs-lookup"><span data-stu-id="b4abb-103">Create a custom probe for Application Gateway by using hello portal</span></span>

> [!div class="op_single_selector"]
> * [<span data-ttu-id="b4abb-104">Azure Portal</span><span class="sxs-lookup"><span data-stu-id="b4abb-104">Azure portal</span></span>](application-gateway-create-probe-portal.md)
> * [<span data-ttu-id="b4abb-105">Azure Resource Manager PowerShell</span><span class="sxs-lookup"><span data-stu-id="b4abb-105">Azure Resource Manager PowerShell</span></span>](application-gateway-create-probe-ps.md)
> * [<span data-ttu-id="b4abb-106">Klasszikus Azure PowerShell</span><span class="sxs-lookup"><span data-stu-id="b4abb-106">Azure Classic PowerShell</span></span>](application-gateway-create-probe-classic-ps.md)

<span data-ttu-id="b4abb-107">Ebben a cikkben hozzáadhat egy egyéni mintavételi tooan meglévő Alkalmazásátjáró hello Azure-portálon keresztül.</span><span class="sxs-lookup"><span data-stu-id="b4abb-107">In this article, you add a custom probe tooan existing application gateway through hello Azure portal.</span></span> <span data-ttu-id="b4abb-108">Egyéni mintavételt hasznosak, az alkalmazásokat, amelyek egy adott állapotának ellenőrzése lapon vagy az alkalmazásokat, amelyek nem a sikeres válasz hello alapértelmezett webalkalmazáshoz.</span><span class="sxs-lookup"><span data-stu-id="b4abb-108">Custom probes are useful for applications that have a specific health check page or for applications that do not provide a successful response on hello default web application.</span></span>

## <a name="before-you-begin"></a><span data-ttu-id="b4abb-109">Előkészületek</span><span class="sxs-lookup"><span data-stu-id="b4abb-109">Before you begin</span></span>

<span data-ttu-id="b4abb-110">Ha még nem rendelkezik olyan átjárót, látogasson el [Alkalmazásátjáró létrehozása](application-gateway-create-gateway-portal.md) toocreate egy alkalmazás átjáró toowork együtt.</span><span class="sxs-lookup"><span data-stu-id="b4abb-110">If you do not already have an application gateway, visit [Create an Application Gateway](application-gateway-create-gateway-portal.md) toocreate an application gateway toowork with.</span></span>

## <span data-ttu-id="b4abb-111"><a name="createprobe"></a>Hello mintavétel létrehozása</span><span class="sxs-lookup"><span data-stu-id="b4abb-111"><a name="createprobe"></a>Create hello probe</span></span>

<span data-ttu-id="b4abb-112">Mintavételt egy kétlépéses folyamat hello portálon keresztül lehet konfigurálni.</span><span class="sxs-lookup"><span data-stu-id="b4abb-112">Probes are configured in a two-step process through hello portal.</span></span> <span data-ttu-id="b4abb-113">első lépés hello toocreate hello mintavételi.</span><span class="sxs-lookup"><span data-stu-id="b4abb-113">hello first step is toocreate hello probe.</span></span> <span data-ttu-id="b4abb-114">Hello a második lépésben hello mintavételi toohello backendhttpsettings osztályhoz hello Alkalmazásátjáró adja hozzá.</span><span class="sxs-lookup"><span data-stu-id="b4abb-114">In hello second step, you add hello probe toohello backend http settings of hello application gateway.</span></span>

1. <span data-ttu-id="b4abb-115">Jelentkezzen be toohello [Azure-portálon](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="b4abb-115">Log in toohello [Azure portal](https://portal.azure.com).</span></span> <span data-ttu-id="b4abb-116">Ha már nincs fiókja, regisztrálhat az egy [ingyenes egy hónapos próbaverzió](https://azure.microsoft.com/free)</span><span class="sxs-lookup"><span data-stu-id="b4abb-116">If you don't already have an account, you can sign up for a [free one-month trial](https://azure.microsoft.com/free)</span></span>

1. <span data-ttu-id="b4abb-117">A hello Azure-portálon Kedvencek ablak kattintson az összes erőforrást.</span><span class="sxs-lookup"><span data-stu-id="b4abb-117">In hello Azure portal Favorites pane, click All resources.</span></span> <span data-ttu-id="b4abb-118">Kattintson a hello hello Alkalmazásátjáró összes erőforrás panel.</span><span class="sxs-lookup"><span data-stu-id="b4abb-118">Click hello application gateway in hello All resources blade.</span></span> <span data-ttu-id="b4abb-119">Hello előfizetés már kiválasztott több erőforrást tartalmaz, a név szerint a szűrőt hello partners.contoso.net írhatja...</span><span class="sxs-lookup"><span data-stu-id="b4abb-119">If hello subscription you selected already has several resources in it, you can enter partners.contoso.net in hello Filter by name…</span></span> <span data-ttu-id="b4abb-120">mezőbe tooeasily hozzáférés hello Alkalmazásátjáró.</span><span class="sxs-lookup"><span data-stu-id="b4abb-120">box tooeasily access hello application gateway.</span></span>

1. <span data-ttu-id="b4abb-121">Kattintson a **vizsgálat** hello kattintson **Hozzáadás** gomb tooadd vizsgálatok.</span><span class="sxs-lookup"><span data-stu-id="b4abb-121">Click **Probes** and click hello **Add** button tooadd a probe.</span></span>

  ![Adja hozzá a mintavételi panel tölti ki adatokkal][1]

1. <span data-ttu-id="b4abb-123">A hello **Hozzáadás állapotmintáihoz** panelen hello mintavétel hello szükséges adatok, és kattintson teljes **OK**.</span><span class="sxs-lookup"><span data-stu-id="b4abb-123">On hello **Add health probe** blade, fill out hello required information for hello probe, and when complete click **OK**.</span></span>

  |<span data-ttu-id="b4abb-124">**Beállítás**</span><span class="sxs-lookup"><span data-stu-id="b4abb-124">**Setting**</span></span> | <span data-ttu-id="b4abb-125">**Érték**</span><span class="sxs-lookup"><span data-stu-id="b4abb-125">**Value**</span></span> | <span data-ttu-id="b4abb-126">**Részletek**</span><span class="sxs-lookup"><span data-stu-id="b4abb-126">**Details**</span></span>|
  |---|---|---|
  |<span data-ttu-id="b4abb-127">**Name (Név)**</span><span class="sxs-lookup"><span data-stu-id="b4abb-127">**Name**</span></span>|<span data-ttu-id="b4abb-128">customProbe</span><span class="sxs-lookup"><span data-stu-id="b4abb-128">customProbe</span></span>|<span data-ttu-id="b4abb-129">Ez az érték egy rövid nevet toohello mintavételt hello portálon elérhető.</span><span class="sxs-lookup"><span data-stu-id="b4abb-129">This value is a friendly name toohello probe that is accessible in hello portal.</span></span>|
  |<span data-ttu-id="b4abb-130">**Protocol (Protokoll)**</span><span class="sxs-lookup"><span data-stu-id="b4abb-130">**Protocol**</span></span>|<span data-ttu-id="b4abb-131">HTTP vagy HTTPS</span><span class="sxs-lookup"><span data-stu-id="b4abb-131">HTTP or HTTPS</span></span> | <span data-ttu-id="b4abb-132">hello állapotmintáihoz hello protokollt használ.</span><span class="sxs-lookup"><span data-stu-id="b4abb-132">hello protocol that hello health probe uses.</span></span>|
  |<span data-ttu-id="b4abb-133">**Állomás**</span><span class="sxs-lookup"><span data-stu-id="b4abb-133">**Host**</span></span>|<span data-ttu-id="b4abb-134">Egytényezős</span><span class="sxs-lookup"><span data-stu-id="b4abb-134">i.e</span></span> <span data-ttu-id="b4abb-135">contoso.com</span><span class="sxs-lookup"><span data-stu-id="b4abb-135">contoso.com</span></span>|<span data-ttu-id="b4abb-136">Ez az érték hello mintavételhez használt hello állomás nevét.</span><span class="sxs-lookup"><span data-stu-id="b4abb-136">This value is hello host name that is used for hello probe.</span></span> <span data-ttu-id="b4abb-137">Alkalmazandó csak akkor, ha több hely van beállítva az alkalmazás-átjárón, ellenkező esetben használja a "127.0.0.1".</span><span class="sxs-lookup"><span data-stu-id="b4abb-137">Applicable only when multi-site is configured on Application Gateway, otherwise use '127.0.0.1'.</span></span> <span data-ttu-id="b4abb-138">Ez az érték eltér hello virtuális gép állomásnevét.</span><span class="sxs-lookup"><span data-stu-id="b4abb-138">This value is different from hello VM host name.</span></span>|
  |<span data-ttu-id="b4abb-139">**Elérési út**</span><span class="sxs-lookup"><span data-stu-id="b4abb-139">**Path**</span></span>|<span data-ttu-id="b4abb-140">/ vagy egy másik elérési utat</span><span class="sxs-lookup"><span data-stu-id="b4abb-140">/ or another path</span></span>|<span data-ttu-id="b4abb-141">hello teljes URL-címet hello egyéni mintavétel hello maradéka.</span><span class="sxs-lookup"><span data-stu-id="b4abb-141">hello remainder of hello full url for hello custom probe.</span></span> <span data-ttu-id="b4abb-142">Érvényes elérési utat kezdődik "/".</span><span class="sxs-lookup"><span data-stu-id="b4abb-142">A valid path starts with '/'.</span></span> <span data-ttu-id="b4abb-143">Hello alapértelmezett elérési útja pedig csak http://contoso.com használja a "/"</span><span class="sxs-lookup"><span data-stu-id="b4abb-143">For hello default path of http://contoso.com just use '/'</span></span> |
  |<span data-ttu-id="b4abb-144">**Időtartam (másodperc)**</span><span class="sxs-lookup"><span data-stu-id="b4abb-144">**Interval (secs)**</span></span>|<span data-ttu-id="b4abb-145">30</span><span class="sxs-lookup"><span data-stu-id="b4abb-145">30</span></span>|<span data-ttu-id="b4abb-146">Milyen gyakran hello mintavételi fut az állapotfigyelő toocheck.</span><span class="sxs-lookup"><span data-stu-id="b4abb-146">How often hello probe is run toocheck for health.</span></span> <span data-ttu-id="b4abb-147">Nem ajánlott tooset hello alacsonyabb, mint 30 másodperc.</span><span class="sxs-lookup"><span data-stu-id="b4abb-147">It is not recommended tooset hello lower than 30 seconds.</span></span>|
  |<span data-ttu-id="b4abb-148">**Időkorlátja (másodperc)**</span><span class="sxs-lookup"><span data-stu-id="b4abb-148">**Timeout (secs)**</span></span>|<span data-ttu-id="b4abb-149">30</span><span class="sxs-lookup"><span data-stu-id="b4abb-149">30</span></span>|<span data-ttu-id="b4abb-150">hello mennyi idő hello mintavétel időkorlátját vár. hello időtúllépési időköz igények toobe elég nagy, hogy egy http lehet hívni tooensure hello háttér health vonatkozó lapján érhető el.</span><span class="sxs-lookup"><span data-stu-id="b4abb-150">hello amount of time hello probe waits before timing out. hello timeout interval needs toobe high enough that an http call can be made tooensure hello backend health page is available.</span></span>|
  |<span data-ttu-id="b4abb-151">**Sérült küszöbérték**</span><span class="sxs-lookup"><span data-stu-id="b4abb-151">**Unhealthy threshold**</span></span>|<span data-ttu-id="b4abb-152">3</span><span class="sxs-lookup"><span data-stu-id="b4abb-152">3</span></span>|<span data-ttu-id="b4abb-153">A sikertelen kísérletek toobe megfelelő állapotúnak számít száma.</span><span class="sxs-lookup"><span data-stu-id="b4abb-153">Number of failed attempts toobe considered unhealthy.</span></span> <span data-ttu-id="b4abb-154">0, akkor a küszöbérték, ha a rendszerállapot-ellenőrzés sikertelen hello háttér-határozza meg. a nem megfelelő azonnal.</span><span class="sxs-lookup"><span data-stu-id="b4abb-154">A threshold of 0 means that if a health check fails hello back-end is determined unhealthy immediately.</span></span>|

  > [!IMPORTANT]
  > <span data-ttu-id="b4abb-155">hello állomásnév nem hello ugyanaz, mint a kiszolgáló nevét.</span><span class="sxs-lookup"><span data-stu-id="b4abb-155">hello host name is not hello same as server name.</span></span> <span data-ttu-id="b4abb-156">Ez az érték hello hello alkalmazás kiszolgálón futó virtuális állomás hello neve.</span><span class="sxs-lookup"><span data-stu-id="b4abb-156">This value is hello name of hello virtual host running on hello application server.</span></span> <span data-ttu-id="b4abb-157">hello mintavételi küldött toohttp: / /(host name):(port from httpsetting)/urlPath</span><span class="sxs-lookup"><span data-stu-id="b4abb-157">hello probe is sent toohttp://(host name):(port from httpsetting)/urlPath</span></span>

## <a name="add-probe-toohello-gateway"></a><span data-ttu-id="b4abb-158">Mintavételi toohello átjáró hozzáadása</span><span class="sxs-lookup"><span data-stu-id="b4abb-158">Add probe toohello gateway</span></span>

<span data-ttu-id="b4abb-159">Most, hogy hello mintavétel létrehozása után a rendszer idő tooadd azt toohello átjáró.</span><span class="sxs-lookup"><span data-stu-id="b4abb-159">Now that hello probe has been created, it is time tooadd it toohello gateway.</span></span> <span data-ttu-id="b4abb-160">Mintavételi beállítást a hello backendhttpsettings osztályhoz hello Alkalmazásátjáró.</span><span class="sxs-lookup"><span data-stu-id="b4abb-160">Probe settings are set on hello backend http settings of hello application gateway.</span></span>

1. <span data-ttu-id="b4abb-161">Kattintson a **HTTP-beállítások** hello Alkalmazásátjáró, toobring mentése hello konfigurációs panelen kattintson hello aktuális háttér http-beállítások hello ablakban.</span><span class="sxs-lookup"><span data-stu-id="b4abb-161">Click **HTTP settings** on hello application gateway, toobring up hello configuration blade click hello current backend http settings listed in hello window.</span></span>

  ![HTTPS-beállítások ablak][2]

1. <span data-ttu-id="b4abb-163">A hello **appGatewayBackEndHttpSettings** beállítások panelen, a jelölőnégyzet hello **használata egyéni tesztműveleti** jelölőnégyzetet, és válassza ki a létrehozott hello hello mintavételi [létrehozás hello mintavételi](#createprobe) szakasz a hello **egyéni mintavételi** legördülő...</span><span class="sxs-lookup"><span data-stu-id="b4abb-163">On hello **appGatewayBackEndHttpSettings** settings blade, check hello **Use custom probe** checkbox and choose hello probe created in hello [Create hello probe](#createprobe) section on hello **Custom probe** drop-down..</span></span>
<span data-ttu-id="b4abb-164">Amikor végzett, kattintson **mentése** és hello-beállítások alkalmazása.</span><span class="sxs-lookup"><span data-stu-id="b4abb-164">When complete, click **Save** and hello settings are applied.</span></span>

<span data-ttu-id="b4abb-165">hello alapértelmezett mintavétel hello alapértelmezett hozzáférési toohello webalkalmazás ellenőrzi.</span><span class="sxs-lookup"><span data-stu-id="b4abb-165">hello default probe checks hello default access toohello web application.</span></span> <span data-ttu-id="b4abb-166">Most, hogy egy egyéni mintavétel létrehozása után hello Alkalmazásátjáró hello definiált egyéni elérési út toomonitor állapotfigyelő hello háttérkiszolgálók használ.</span><span class="sxs-lookup"><span data-stu-id="b4abb-166">Now that a custom probe has been created, hello application gateway uses hello custom path defined toomonitor health for hello backend servers.</span></span> <span data-ttu-id="b4abb-167">Definiált hello feltétel alapján, hello Alkalmazásátjáró hello elérési út van megadva a hello mintavételi ellenőrzi.</span><span class="sxs-lookup"><span data-stu-id="b4abb-167">Based on hello criteria that was defined, hello application gateway checks hello path specified in hello probe.</span></span> <span data-ttu-id="b4abb-168">Ha hello hívás toohost:Port / elérési út nem ad vissza egy HTTP 200-399 állapotválasz, hello server szükséges kívül Elforgatás hello sérült küszöbérték elérése után.</span><span class="sxs-lookup"><span data-stu-id="b4abb-168">If hello call toohost:Port/path does not return an HTTP 200-399 status response, hello server is taken out of rotation after hello unhealthy threshold is reached.</span></span> <span data-ttu-id="b4abb-169">A nem megfelelő állapotú példány toodetermine hello probing folytatódik, amikor a megfelelő válik újra.</span><span class="sxs-lookup"><span data-stu-id="b4abb-169">Probing continues on hello unhealthy instance toodetermine when it becomes healthy again.</span></span> <span data-ttu-id="b4abb-170">Hello példány hátsó toohealthy kiszolgálókészlethez hozzáadott, a forgalom kezdődik újra szereplő tooit és a vizsgálathoz használt toohello példány továbbra is fennáll, mint a normál felhasználói megadott időközönként.</span><span class="sxs-lookup"><span data-stu-id="b4abb-170">Once hello instance is added back toohealthy server pool, traffic begins flowing tooit again and probing toohello instance continues at user specified interval as normal.</span></span>

## <a name="next-steps"></a><span data-ttu-id="b4abb-171">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="b4abb-171">Next steps</span></span>

<span data-ttu-id="b4abb-172">Hogyan SSL kiszervezésével az Azure Application Gateway, tooconfigure: toolearn [SSL-kiszervezés konfigurálása](application-gateway-ssl-portal.md)</span><span class="sxs-lookup"><span data-stu-id="b4abb-172">toolearn how tooconfigure SSL Offloading with Azure Application Gateway, see [Configure SSL Offload](application-gateway-ssl-portal.md)</span></span>

[1]: ./media/application-gateway-create-probe-portal/figure1.png
[2]: ./media/application-gateway-create-probe-portal/figure2.png

