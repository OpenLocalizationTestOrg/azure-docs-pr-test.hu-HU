---
title: "aaaIntroduction tooweb alkalmazás tűzfalat (waf-ot) az Azure Application Gateway |} Microsoft Docs"
description: "Ez az oldal áttekintést nyújt az Application Gateway webalkalmazási tűzfalának (WAF) működéséről"
documentationcenter: na
services: application-gateway
author: amsriva
manager: rossort
editor: amsriva
ms.assetid: 04b362bc-6653-4765-86f6-55ee8ec2a0ff
ms.service: application-gateway
ms.devlang: na
ms.topic: hero-article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 05/03/2017
ms.author: amsriva
ms.openlocfilehash: 5a42ce0fb2bd12a391844099e2de8fa2571195e6
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="web-application-firewall-waf"></a><span data-ttu-id="9a627-103">Webalkalmazási tűzfal (WAF)</span><span class="sxs-lookup"><span data-stu-id="9a627-103">Web application firewall (WAF)</span></span>

<span data-ttu-id="9a627-104">A webalkalmazási tűzfal (WAF) az Application Gateway egyik szolgáltatása, amely központi védelmet nyújt a webalkalmazásoknak a gyakori biztonsági rések ellen.</span><span class="sxs-lookup"><span data-stu-id="9a627-104">Web application firewall (WAF) is a feature of Application Gateway that provides centralized protection of your web applications from common exploits and vulnerabilities.</span></span> 

<span data-ttu-id="9a627-105">Webalkalmazási tűzfal hello szabályok alapján [OWASP core szabálykészletek](https://www.owasp.org/index.php/Category:OWASP_ModSecurity_Core_Rule_Set_Project) 3.0 vagy a program 2.2.9-es.</span><span class="sxs-lookup"><span data-stu-id="9a627-105">Web application firewall is based on rules from hello [OWASP core rule sets](https://www.owasp.org/index.php/Category:OWASP_ModSecurity_Core_Rule_Set_Project) 3.0 or 2.2.9.</span></span> <span data-ttu-id="9a627-106">A webalkalmazások egyre inkább ki vannak téve rosszindulatú támadásoknak, amelyek az ismert biztonsági réseket használják ki.</span><span class="sxs-lookup"><span data-stu-id="9a627-106">Web applications are increasingly targets of malicious attacks that exploit common known vulnerabilities.</span></span> <span data-ttu-id="9a627-107">A biztonsági rések között közös SQL injektálási támadások, helyközi scripting támadások tooname néhány.</span><span class="sxs-lookup"><span data-stu-id="9a627-107">Common among these exploits are SQL injection attacks, cross site scripting attacks tooname a few.</span></span> <span data-ttu-id="9a627-108">Megakadályozza az ilyen jellegű támadások alkalmazáskód kihívást jelenthet, és előfordulhat, hogy szigorú karbantartása, javítását és ellenőrzés hello alkalmazás topológia több réteget.</span><span class="sxs-lookup"><span data-stu-id="9a627-108">Preventing such attacks in application code can be challenging and may require rigorous maintenance, patching and monitoring at multiple layers of hello application topology.</span></span> <span data-ttu-id="9a627-109">Központosított webalkalmazási tűzfal segít tisztázni biztonságkezelés jóval egyszerűbb, és lehetővé teszi a nagyobb megbízhatósági tooapplication rendszergazdák fenyegetések és a behatolás elleni.</span><span class="sxs-lookup"><span data-stu-id="9a627-109">A centralized web application firewall helps make security management much simpler and gives better assurance tooapplication administrators against threats or intrusions.</span></span> <span data-ttu-id="9a627-110">WAF megoldás is reagálhasson tooa biztonsági kockázatot jelentenek gyorsabb által egy ismert biztonsági rések egy központi helyen, és minden egyes webalkalmazás biztonságossá tétele érdekében.</span><span class="sxs-lookup"><span data-stu-id="9a627-110">A WAF solution can also react tooa security threat faster by patching a known vulnerability at a central location versus securing each of individual web applications.</span></span> <span data-ttu-id="9a627-111">Meglévő alkalmazásátjárót könnyen lehet konvertált tooa webes alkalmazás engedélyezve van a tűzfal Alkalmazásátjáró.</span><span class="sxs-lookup"><span data-stu-id="9a627-111">Existing application gateways can be converted tooa web application firewall enabled application gateway easily.</span></span>

![imageURLroute](./media/application-gateway-web-application-firewall-overview/WAF1.png)

<span data-ttu-id="9a627-113">Alkalmazásátjáró csúszóablakszerűen történik, az alkalmazás kézbesítési vezérlő és ajánlatok SSL-lezárást, munkamenet cookie-alapú kapcsolat, ciklikus multiplexelés terheléselosztási, tartalomalapú útválasztás, képes toohost több webhelyeket és biztonsági javításokat.</span><span class="sxs-lookup"><span data-stu-id="9a627-113">Application Gateway operates as an application delivery controller and offers SSL termination, cookie-based session affinity, round-robin load distribution, content-based routing, ability toohost multiple websites and security enhancements.</span></span> <span data-ttu-id="9a627-114">Alkalmazásátjáró által kínált biztonsági fejlesztések közé tartozik a SSL házirendkezelés, záró tooend SSL támogatja.</span><span class="sxs-lookup"><span data-stu-id="9a627-114">Security enhancements offered by Application Gateway include SSL policy management, end tooend SSL support.</span></span> <span data-ttu-id="9a627-115">Az alkalmazásbiztonság most fokozni WAF (webalkalmazási tűzfal) közvetlenül hello LÉPETT ajánlat történő integrálását.</span><span class="sxs-lookup"><span data-stu-id="9a627-115">Application security is now strengthened by WAF (web application firewall) being directly integrated into hello ADC offering.</span></span> <span data-ttu-id="9a627-116">Ez egy egyszerű tooconfigure központi helyen toomanage biztosít, és a webes alkalmazások közös webes biztonsági rések elleni védelmét.</span><span class="sxs-lookup"><span data-stu-id="9a627-116">This provides an easy tooconfigure central location toomanage and protect your web applications against common web vulnerabilities.</span></span>

## <a name="benefits"></a><span data-ttu-id="9a627-117">Előnyök</span><span class="sxs-lookup"><span data-stu-id="9a627-117">Benefits</span></span>

<span data-ttu-id="9a627-118">Az alábbiakban hello Application Gateway és a webes alkalmazás tűzfal biztosító hello core előnyei:</span><span class="sxs-lookup"><span data-stu-id="9a627-118">hello following are hello core benefits that Application Gateway and web application firewall provide:</span></span>

### <a name="protection"></a><span data-ttu-id="9a627-119">Védelem</span><span class="sxs-lookup"><span data-stu-id="9a627-119">Protection</span></span>

* <span data-ttu-id="9a627-120">A webes alkalmazás webes biztonsági rések és toobackend kód módosítása nélkül támadások védelméhez.</span><span class="sxs-lookup"><span data-stu-id="9a627-120">Protect your web application from web vulnerabilities and attacks without modification toobackend code.</span></span>

* <span data-ttu-id="9a627-121">Több webkiszolgáló védelme hello alkalmazásokat azonos időben Alkalmazásátjáró mögött.</span><span class="sxs-lookup"><span data-stu-id="9a627-121">Protect multiple web applications at hello same time behind an application gateway.</span></span> <span data-ttu-id="9a627-122">Alkalmazásátjáró támogatja az üzemeltető too20 webhelyek mögött csak egyetlen átjáró, amely sikerült az összes védeni webes támadások ellen, és WAF fel.</span><span class="sxs-lookup"><span data-stu-id="9a627-122">Application gateway supports hosting up too20 websites behind a single gateway that could all be protected against web attacks with WAF.</span></span>

### <a name="monitoring"></a><span data-ttu-id="9a627-123">Figyelés</span><span class="sxs-lookup"><span data-stu-id="9a627-123">Monitoring</span></span>

* <span data-ttu-id="9a627-124">Valós idejű WAF-naplók segítségével követheti nyomon a webalkalmazást fenyegető támadásokat.</span><span class="sxs-lookup"><span data-stu-id="9a627-124">Monitor your web application against attacks using a real-time WAF log.</span></span> <span data-ttu-id="9a627-125">Ez a napló integrálva van [Azure figyelő](../monitoring-and-diagnostics/monitoring-overview.md) tootrack WAF riasztást, és naplózza, és könnyedén figyelheti a trendeket.</span><span class="sxs-lookup"><span data-stu-id="9a627-125">This log is integrated with [Azure Monitor](../monitoring-and-diagnostics/monitoring-overview.md) tootrack WAF alerts and logs and easily monitor trends.</span></span>

* <span data-ttu-id="9a627-126">A WAF hamarosan az Azure Security Centerrel is integrálva lesz.</span><span class="sxs-lookup"><span data-stu-id="9a627-126">WAF will be integrated with Azure Security Center soon.</span></span> <span data-ttu-id="9a627-127">Az Azure Security Center lehetővé teszi, hogy az összes Azure-erőforrások biztonsági állapotának hello központi nézet.</span><span class="sxs-lookup"><span data-stu-id="9a627-127">Azure Security Center allows for a central view of hello security state of all your Azure resources.</span></span>

### <a name="customization"></a><span data-ttu-id="9a627-128">Testreszabás</span><span class="sxs-lookup"><span data-stu-id="9a627-128">Customization</span></span>

* <span data-ttu-id="9a627-129">hello képességét toocustomize WAF szabályok és a szabály toosuit alkalmazás igényeinek csoportnak, és hogy a vakriasztások megszüntetéséhez.</span><span class="sxs-lookup"><span data-stu-id="9a627-129">hello ability toocustomize WAF rules and rule groups toosuit your application requirements and eliminate false positives.</span></span>

## <a name="features"></a><span data-ttu-id="9a627-130">Szolgáltatások</span><span class="sxs-lookup"><span data-stu-id="9a627-130">Features</span></span>

<span data-ttu-id="9a627-131">Webalkalmazási tűzfal rendelkezik előre beállított CRS 3.0 alapértelmezés szerint, vagy dönthet úgy toouse program 2.2.9-es.</span><span class="sxs-lookup"><span data-stu-id="9a627-131">Web application firewall comes preconfigured with CRS 3.0 by default or you can choose toouse 2.2.9.</span></span> <span data-ttu-id="9a627-132">A CRS 3.0-s verziója esetén kevesebb hibás riasztással kell számolnia, mint a 2.2.9-es verziónál.</span><span class="sxs-lookup"><span data-stu-id="9a627-132">CRS 3.0 offers reduced false positives over 2.2.9.</span></span> <span data-ttu-id="9a627-133">képes túl hello[testreszabása szabályok toosuit igényeinek](application-gateway-customize-waf-rules-portal.md) valósul meg.</span><span class="sxs-lookup"><span data-stu-id="9a627-133">hello ability too[customize rules toosuit your needs](application-gateway-customize-waf-rules-portal.md) is provided.</span></span> <span data-ttu-id="9a627-134">Néhány hello közös webes biztonsági rések mely webalkalmazási tűzfal véd tartalmazza:</span><span class="sxs-lookup"><span data-stu-id="9a627-134">Some of hello common web vulnerabilities which web application firewall protects against includes:</span></span>

* <span data-ttu-id="9a627-135">SQL-injektálás elleni védelem</span><span class="sxs-lookup"><span data-stu-id="9a627-135">SQL injection protection</span></span>
* <span data-ttu-id="9a627-136">Webhelyek közötti, parancsprogramot alkalmazó támadások elleni védelem</span><span class="sxs-lookup"><span data-stu-id="9a627-136">Cross site scripting protection</span></span>
* <span data-ttu-id="9a627-137">Gyakori webes támadások (például parancsinjektálás, HTTP-kéréscsempészet, HTTP-válaszfelosztás és távolifájl-beszúrásos támadás) elleni védelem</span><span class="sxs-lookup"><span data-stu-id="9a627-137">Common Web Attacks Protection such as command injection, HTTP request smuggling, HTTP response splitting, and remote file inclusion attack</span></span>
* <span data-ttu-id="9a627-138">HTTP protokoll megsértése elleni védelem</span><span class="sxs-lookup"><span data-stu-id="9a627-138">Protection against HTTP protocol violations</span></span>
* <span data-ttu-id="9a627-139">HTTP protokollanomáliák (például hiányzó gazdagép-felhasználói ügynök és Accept (Elfogadás) fejlécek) elleni védelem</span><span class="sxs-lookup"><span data-stu-id="9a627-139">Protection against HTTP protocol anomalies such as missing host user-agent and accept headers</span></span>
* <span data-ttu-id="9a627-140">Robotprogramok, webbejárók és képolvasók elleni védelem</span><span class="sxs-lookup"><span data-stu-id="9a627-140">Prevention against bots, crawlers, and scanners</span></span>
* <span data-ttu-id="9a627-141">Alkalmazások (vagyis Apache, IIS stb.) gyakori konfigurációs hibáinak észlelése</span><span class="sxs-lookup"><span data-stu-id="9a627-141">Detection of common application misconfigurations (i.e. Apache, IIS, etc.)</span></span>

<span data-ttu-id="9a627-142">További szabályok részletes listáját és azok védelmét: hello következő [szabálykészletek alapvető](#core-rule-sets).</span><span class="sxs-lookup"><span data-stu-id="9a627-142">For a more detailed list of rules and their protections see hello following [Core rule sets](#core-rule-sets).</span></span>

### <a name="core-rule-sets"></a><span data-ttu-id="9a627-143">Alapvető szabálykészletek</span><span class="sxs-lookup"><span data-stu-id="9a627-143">Core rule sets</span></span>

<span data-ttu-id="9a627-144">Az Application Gateway a következő két szabálykészletet támogatja: CRS 3.0 és CRS 2.2.9.</span><span class="sxs-lookup"><span data-stu-id="9a627-144">Application Gateway supports two rule sets, CRS 3.0, and CRS 2.2.9.</span></span> <span data-ttu-id="9a627-145">Ezek az alapvető szabálykészletek olyan szabályok gyűjteményei, amelyek megvédik a webalkalmazásokat a kártékony tevékenységek ellen.</span><span class="sxs-lookup"><span data-stu-id="9a627-145">These core rules sets are collections of rules that protect your web applications for malicious activity.</span></span>

#### <a name="owasp30"></a><span data-ttu-id="9a627-146">OWASP_3.0</span><span class="sxs-lookup"><span data-stu-id="9a627-146">OWASP_3.0</span></span>

<span data-ttu-id="9a627-147">hello 3.0 core szabálykészlet megadott van 13 szabály hello a következő táblázatban ismertetett módon.</span><span class="sxs-lookup"><span data-stu-id="9a627-147">hello 3.0 core rule set provided has 13 rule groups as shown in hello following table.</span></span> <span data-ttu-id="9a627-148">Ezen szabálycsoportok mindegyike több, egyenként letiltható szabályt tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="9a627-148">Each of these rule groups contains multiple rules, which can be disabled.</span></span>

|<span data-ttu-id="9a627-149">Szabálycsoport</span><span class="sxs-lookup"><span data-stu-id="9a627-149">RuleGroup</span></span>|<span data-ttu-id="9a627-150">Leírás</span><span class="sxs-lookup"><span data-stu-id="9a627-150">Description</span></span>|
|---|---|
|<span data-ttu-id="9a627-151">**[REQUEST-910-IP-REPUTATION](application-gateway-crs-rulegroups-rules.md#crs910)**</span><span class="sxs-lookup"><span data-stu-id="9a627-151">**[REQUEST-910-IP-REPUTATION](application-gateway-crs-rulegroups-rules.md#crs910)**</span></span>|<span data-ttu-id="9a627-152">Szabályok tooprotect ismert levélszemétküldők vagy rosszindulatú tevékenységet tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="9a627-152">Contains rules tooprotect against known spammers or malicious activity.</span></span>|
|<span data-ttu-id="9a627-153">**[REQUEST-911-METHOD-ENFORCEMENT](application-gateway-crs-rulegroups-rules.md#crs911)**</span><span class="sxs-lookup"><span data-stu-id="9a627-153">**[REQUEST-911-METHOD-ENFORCEMENT](application-gateway-crs-rulegroups-rules.md#crs911)**</span></span>|<span data-ttu-id="9a627-154">Szabályok toolock módszereket tartalmazza (PUT, javítás <...)</span><span class="sxs-lookup"><span data-stu-id="9a627-154">Contains rules toolock down methods (PUT, PATCH< ..)</span></span>|
|<span data-ttu-id="9a627-155">**[REQUEST-912-DOS-PROTECTION](application-gateway-crs-rulegroups-rules.md#crs912)**</span><span class="sxs-lookup"><span data-stu-id="9a627-155">**[REQUEST-912-DOS-PROTECTION](application-gateway-crs-rulegroups-rules.md#crs912)**</span></span>| <span data-ttu-id="9a627-156">Tartalmazza a szabályok tooprotect szolgáltatásmegtagadásos (DoS) támadásokkal szemben.</span><span class="sxs-lookup"><span data-stu-id="9a627-156">Contains rules tooprotect against Denial of Service (DoS) attacks.</span></span>|
|<span data-ttu-id="9a627-157">**[REQUEST-913-SCANNER-DETECTION](application-gateway-crs-rulegroups-rules.md#crs913)**</span><span class="sxs-lookup"><span data-stu-id="9a627-157">**[REQUEST-913-SCANNER-DETECTION](application-gateway-crs-rulegroups-rules.md#crs913)**</span></span>| <span data-ttu-id="9a627-158">Port és a környezet képolvasók elleni szabályok tooprotect tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="9a627-158">Contains rules tooprotect against port and environment scanners.</span></span>|
|<span data-ttu-id="9a627-159">**[REQUEST-920-PROTOCOL-ENFORCEMENT](application-gateway-crs-rulegroups-rules.md#crs920)**</span><span class="sxs-lookup"><span data-stu-id="9a627-159">**[REQUEST-920-PROTOCOL-ENFORCEMENT](application-gateway-crs-rulegroups-rules.md#crs920)**</span></span>|<span data-ttu-id="9a627-160">Protokoll és a kódolás problémák elleni szabályok tooprotect tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="9a627-160">Contains rules tooprotect against protocol and encoding issues.</span></span>|
|<span data-ttu-id="9a627-161">**[REQUEST-921-PROTOCOL-ATTACK](application-gateway-crs-rulegroups-rules.md#crs921)**</span><span class="sxs-lookup"><span data-stu-id="9a627-161">**[REQUEST-921-PROTOCOL-ATTACK](application-gateway-crs-rulegroups-rules.md#crs921)**</span></span>|<span data-ttu-id="9a627-162">Szabályok tooprotect fejléc injektálási, kérelmek és a felosztás válasz tartalmazza</span><span class="sxs-lookup"><span data-stu-id="9a627-162">Contains rules tooprotect against header injection, request smuggling, and response splitting</span></span>|
|<span data-ttu-id="9a627-163">**[REQUEST-930-APPLICATION-ATTACK-LFI](application-gateway-crs-rulegroups-rules.md#crs930)**</span><span class="sxs-lookup"><span data-stu-id="9a627-163">**[REQUEST-930-APPLICATION-ATTACK-LFI](application-gateway-crs-rulegroups-rules.md#crs930)**</span></span>|<span data-ttu-id="9a627-164">Fájl- és elérési útja támadások elleni szabályok tooprotect tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="9a627-164">Contains rules tooprotect against file and path attacks.</span></span>|
|<span data-ttu-id="9a627-165">**[REQUEST-931-APPLICATION-ATTACK-RFI](application-gateway-crs-rulegroups-rules.md#crs931)**</span><span class="sxs-lookup"><span data-stu-id="9a627-165">**[REQUEST-931-APPLICATION-ATTACK-RFI](application-gateway-crs-rulegroups-rules.md#crs931)**</span></span>|<span data-ttu-id="9a627-166">Szabályok tooprotect szemben a távoli fájl befoglalási (RFI) tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="9a627-166">Contains rules tooprotect against Remote File Inclusion (RFI)</span></span>|
|<span data-ttu-id="9a627-167">**[REQUEST-932-APPLICATION-ATTACK-RCE](application-gateway-crs-rulegroups-rules.md#crs932)**</span><span class="sxs-lookup"><span data-stu-id="9a627-167">**[REQUEST-932-APPLICATION-ATTACK-RCE](application-gateway-crs-rulegroups-rules.md#crs932)**</span></span>|<span data-ttu-id="9a627-168">Szabályok tooprotect tartalmaz újra távoli kód végrehajtása.</span><span class="sxs-lookup"><span data-stu-id="9a627-168">Contains rules tooprotect again Remote Code Execution.</span></span>|
|<span data-ttu-id="9a627-169">**[REQUEST-933-APPLICATION-ATTACK-PHP](application-gateway-crs-rulegroups-rules.md#crs933)**</span><span class="sxs-lookup"><span data-stu-id="9a627-169">**[REQUEST-933-APPLICATION-ATTACK-PHP](application-gateway-crs-rulegroups-rules.md#crs933)**</span></span>|<span data-ttu-id="9a627-170">Szabályok tooprotect PHP injektálási támadások elleni tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="9a627-170">Contains rules tooprotect against PHP injection attacks.</span></span>|
|<span data-ttu-id="9a627-171">**[REQUEST-941-APPLICATION-ATTACK-XSS](application-gateway-crs-rulegroups-rules.md#crs941)**</span><span class="sxs-lookup"><span data-stu-id="9a627-171">**[REQUEST-941-APPLICATION-ATTACK-XSS](application-gateway-crs-rulegroups-rules.md#crs941)**</span></span>|<span data-ttu-id="9a627-172">A helyközi, parancsfájlt alkalmazó támadások ellen védelmet biztosító szabályokat tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="9a627-172">Contains rules for protecting against cross site scripting.</span></span>|
|<span data-ttu-id="9a627-173">**[REQUEST-942-APPLICATION-ATTACK-SQLI](application-gateway-crs-rulegroups-rules.md#crs942)**</span><span class="sxs-lookup"><span data-stu-id="9a627-173">**[REQUEST-942-APPLICATION-ATTACK-SQLI](application-gateway-crs-rulegroups-rules.md#crs942)**</span></span>|<span data-ttu-id="9a627-174">Az SQL-injektálási támadások ellen védelmet biztosító szabályokat tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="9a627-174">Contains rules for protecting against SQL injection attacks.</span></span>|
|<span data-ttu-id="9a627-175">**[REQUEST-943-APPLICATION-ATTACK-SESSION-FIXATION](application-gateway-crs-rulegroups-rules.md#crs943)**</span><span class="sxs-lookup"><span data-stu-id="9a627-175">**[REQUEST-943-APPLICATION-ATTACK-SESSION-FIXATION](application-gateway-crs-rulegroups-rules.md#crs943)**</span></span>|<span data-ttu-id="9a627-176">Szabályok tooprotect munkamenet rögzítés támadások elleni tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="9a627-176">Contains rules tooprotect against Session Fixation Attacks.</span></span>|

#### <a name="owasp229"></a><span data-ttu-id="9a627-177">OWASP_2.2.9</span><span class="sxs-lookup"><span data-stu-id="9a627-177">OWASP_2.2.9</span></span>

<span data-ttu-id="9a627-178">hello program 2.2.9-es core szabálykészlet megadott van 10 szabály hello a következő táblázatban ismertetett módon.</span><span class="sxs-lookup"><span data-stu-id="9a627-178">hello 2.2.9 core rule set provided has 10 rule groups as shown in hello following table.</span></span> <span data-ttu-id="9a627-179">Ezen szabálycsoportok mindegyike több, egyenként letiltható szabályt tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="9a627-179">Each of these rule groups contains multiple rules, which can be disabled.</span></span>

|<span data-ttu-id="9a627-180">Szabálycsoport</span><span class="sxs-lookup"><span data-stu-id="9a627-180">RuleGroup</span></span>|<span data-ttu-id="9a627-181">Leírás</span><span class="sxs-lookup"><span data-stu-id="9a627-181">Description</span></span>|
|---|---|
|<span data-ttu-id="9a627-182">**[crs_20_protocol_violations](application-gateway-crs-rulegroups-rules.md#crs20)**</span><span class="sxs-lookup"><span data-stu-id="9a627-182">**[crs_20_protocol_violations](application-gateway-crs-rulegroups-rules.md#crs20)**</span></span>|<span data-ttu-id="9a627-183">Tartalmazza a szabályok tooprotect elleni protokoll megsértése (érvénytelen karaktereket, GET egy kérelemtörzset, stb.)</span><span class="sxs-lookup"><span data-stu-id="9a627-183">Contains rules tooprotect against protocol violations (invalid characters, GET with a request body, etc.)</span></span>|
|<span data-ttu-id="9a627-184">**[crs_21_protocol_anomalies](application-gateway-crs-rulegroups-rules.md#crs21)**</span><span class="sxs-lookup"><span data-stu-id="9a627-184">**[crs_21_protocol_anomalies](application-gateway-crs-rulegroups-rules.md#crs21)**</span></span>|<span data-ttu-id="9a627-185">Szabályok tooprotect elleni helytelen fejléc-információ tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="9a627-185">Contains rules tooprotect against incorrect header information.</span></span>|
|<span data-ttu-id="9a627-186">**[crs_23_request_limits](application-gateway-crs-rulegroups-rules.md#crs23)**</span><span class="sxs-lookup"><span data-stu-id="9a627-186">**[crs_23_request_limits](application-gateway-crs-rulegroups-rules.md#crs23)**</span></span>|<span data-ttu-id="9a627-187">Szabályok tooprotect argumentumok vagy fájlokat, amelyek mérete meghaladja a korlátozások tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="9a627-187">Contains rules tooprotect against arguments or files that exceed limitations.</span></span>|
|<span data-ttu-id="9a627-188">**[crs_30_http_policy](application-gateway-crs-rulegroups-rules.md#crs30)**</span><span class="sxs-lookup"><span data-stu-id="9a627-188">**[crs_30_http_policy](application-gateway-crs-rulegroups-rules.md#crs30)**</span></span>|<span data-ttu-id="9a627-189">Szabályok tooprotect korlátozott módszerek, fejlécek és fájltípusokat tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="9a627-189">Contains rules tooprotect against restricted methods, headers, and file types.</span></span> |
|<span data-ttu-id="9a627-190">**[crs_35_bad_robots](application-gateway-crs-rulegroups-rules.md#crs35)**</span><span class="sxs-lookup"><span data-stu-id="9a627-190">**[crs_35_bad_robots](application-gateway-crs-rulegroups-rules.md#crs35)**</span></span>|<span data-ttu-id="9a627-191">Szabályok tooprotect szemben a szabványos és -képolvasók tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="9a627-191">Contains rules tooprotect against web crawlers and scanners.</span></span>|
|<span data-ttu-id="9a627-192">**[crs_40_generic_attacks](application-gateway-crs-rulegroups-rules.md#crs40)**</span><span class="sxs-lookup"><span data-stu-id="9a627-192">**[crs_40_generic_attacks](application-gateway-crs-rulegroups-rules.md#crs40)**</span></span>|<span data-ttu-id="9a627-193">Tartalmazza a szabályok tooprotect általános támadások (munkamenet rögzítés távoli fájl befoglalási, PHP injektálási, stb.)</span><span class="sxs-lookup"><span data-stu-id="9a627-193">Contains rules tooprotect against generic attacks (session fixation, remote file inclusion, PHP injection, etc.)</span></span>|
|<span data-ttu-id="9a627-194">**[crs_41_sql_injection_attacks](application-gateway-crs-rulegroups-rules.md#crs41sql)**</span><span class="sxs-lookup"><span data-stu-id="9a627-194">**[crs_41_sql_injection_attacks](application-gateway-crs-rulegroups-rules.md#crs41sql)**</span></span>|<span data-ttu-id="9a627-195">Tartalmazza a szabályok tooprotect SQL injektálási támadások ellen</span><span class="sxs-lookup"><span data-stu-id="9a627-195">Contains rules tooprotect against SQL injection attacks</span></span>|
|<span data-ttu-id="9a627-196">**[crs_41_xss_attacks](application-gateway-crs-rulegroups-rules.md#crs41xss)**</span><span class="sxs-lookup"><span data-stu-id="9a627-196">**[crs_41_xss_attacks](application-gateway-crs-rulegroups-rules.md#crs41xss)**</span></span>|<span data-ttu-id="9a627-197">Szabályok tooprotect elleni közötti helyközi tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="9a627-197">Contains rules tooprotect against cross site scripting.</span></span>|
|<span data-ttu-id="9a627-198">**[crs_42_tight_security](application-gateway-crs-rulegroups-rules.md#crs42)**</span><span class="sxs-lookup"><span data-stu-id="9a627-198">**[crs_42_tight_security](application-gateway-crs-rulegroups-rules.md#crs42)**</span></span>|<span data-ttu-id="9a627-199">Tartalmaz egy szabály tooprotect elérési átjárás támadások ellen</span><span class="sxs-lookup"><span data-stu-id="9a627-199">Contains a rule tooprotect against path traversal attacks</span></span>|
|<span data-ttu-id="9a627-200">**[crs_45_trojans](application-gateway-crs-rulegroups-rules.md#crs45)**</span><span class="sxs-lookup"><span data-stu-id="9a627-200">**[crs_45_trojans](application-gateway-crs-rulegroups-rules.md#crs45)**</span></span>|<span data-ttu-id="9a627-201">Szabályok tooprotect backdoor trójai programok ellen tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="9a627-201">Contains rules tooprotect against backdoor Trojans.</span></span>|

### <a name="waf-modes"></a><span data-ttu-id="9a627-202">WAF-üzemmódok</span><span class="sxs-lookup"><span data-stu-id="9a627-202">WAF Modes</span></span>

<span data-ttu-id="9a627-203">Alkalmazás átjáró WAF lehet a következő két mód hello konfigurált toorun:</span><span class="sxs-lookup"><span data-stu-id="9a627-203">Application Gateway WAF can be configured toorun in hello following two modes:</span></span>

* <span data-ttu-id="9a627-204">**Észlelési mód** – Ha az alkalmazás átjáró WAF észlelési módban konfigurált toorun figyeli, és az összes fenyegetés riasztás jelentkezik be tooa naplófájl.</span><span class="sxs-lookup"><span data-stu-id="9a627-204">**Detection mode** – When configured toorun in detection mode, Application Gateway WAF monitors and logs all threat alerts in tooa log file.</span></span> <span data-ttu-id="9a627-205">Az Alkalmazásátjáró naplózási diagnosztika kell bekapcsolni hello segítségével **diagnosztika** szakasz.</span><span class="sxs-lookup"><span data-stu-id="9a627-205">Logging diagnostics for Application Gateway should be turned on using hello **Diagnostics** section.</span></span> <span data-ttu-id="9a627-206">Emellett szükség van, amely hello WAF tooensure napló be van jelölve, és kapcsolja be.</span><span class="sxs-lookup"><span data-stu-id="9a627-206">You also need tooensure that hello WAF log is selected and turned on.</span></span> <span data-ttu-id="9a627-207">Az észlelési üzemmódban futtatott webalkalmazási tűzfal nem blokkolja a bejövő kéréseket.</span><span class="sxs-lookup"><span data-stu-id="9a627-207">When running in detection mode web application firewall does not block incoming requests.</span></span>
* <span data-ttu-id="9a627-208">**Megelőző módja** – Ha a beállított toorun megelőzési módban Application Gateway aktívan letiltja a szabályok által észlelt támadásokkal szemben.</span><span class="sxs-lookup"><span data-stu-id="9a627-208">**Prevention mode** – When configured toorun in prevention mode, Application Gateway actively blocks intrusions and attacks detected by its rules.</span></span> <span data-ttu-id="9a627-209">hello támadó megkapja a 403-as jogosulatlan hozzáférési kivétel és hello kapcsolat megszakad.</span><span class="sxs-lookup"><span data-stu-id="9a627-209">hello attacker receives a 403 unauthorized access exception and hello connection is terminated.</span></span> <span data-ttu-id="9a627-210">Megelőző módja folytatódik toolog ilyen jellegű támadások hello WAF naplókat.</span><span class="sxs-lookup"><span data-stu-id="9a627-210">Prevention mode continues toolog such attacks in hello WAF logs.</span></span>

### <span data-ttu-id="9a627-211"><a name="application-gateway-waf-reports"></a>WAF-figyelés</span><span class="sxs-lookup"><span data-stu-id="9a627-211"><a name="application-gateway-waf-reports"></a>WAF Monitoring</span></span>

<span data-ttu-id="9a627-212">Az Alkalmazásátjáró hello állapotának figyelése fontos.</span><span class="sxs-lookup"><span data-stu-id="9a627-212">Monitoring hello health of your application gateway is important.</span></span> <span data-ttu-id="9a627-213">A webes alkalmazás tűzfal és hello alkalmazások, amelyek az általa védett hello állapotának figyelése szolgáltatáson keresztül naplózása és az Azure figyelő, az Azure Security Center (hamarosan elérhető) és Log Analyticshez való integráció.</span><span class="sxs-lookup"><span data-stu-id="9a627-213">Monitoring hello health of your web application firewall and hello applications that it protects are provided through logging and integration with Azure Monitor, Azure Security Center (coming soon), and Log Analytics.</span></span>

![diagnosztika](./media/application-gateway-web-application-firewall-overview/diagnostics.png)

#### <a name="azure-monitor"></a><span data-ttu-id="9a627-215">Azure Monitor</span><span class="sxs-lookup"><span data-stu-id="9a627-215">Azure Monitor</span></span>

<span data-ttu-id="9a627-216">Az Application Gateway-naplók integrálva vannak az [Azure Monitorral](../monitoring-and-diagnostics/monitoring-overview.md),</span><span class="sxs-lookup"><span data-stu-id="9a627-216">Each application gateway log is integrated with [Azure Monitor](../monitoring-and-diagnostics/monitoring-overview.md).</span></span>  <span data-ttu-id="9a627-217">Ez lehetővé teszi tootrack diagnosztikai adatokat – például WAF riasztások és a naplók.</span><span class="sxs-lookup"><span data-stu-id="9a627-217">This allows you tootrack diagnostic information including WAF alerts and logs.</span></span>  <span data-ttu-id="9a627-218">Ez a funkció hello Alkalmazásátjáró erőforrás hello hello portál belül megadott **diagnosztika** lapon vagy keresztül hello Azure-figyelő szolgáltatás közvetlenül.</span><span class="sxs-lookup"><span data-stu-id="9a627-218">This capability is provided within hello Application Gateway resource in hello portal under hello **Diagnostics** tab or through hello Azure Monitor service directly.</span></span> <span data-ttu-id="9a627-219">az Alkalmazásátjáró diagnosztikai naplók engedélyezése olvashat toolearn [Alkalmazásátjáró diagnosztika](application-gateway-diagnostics.md)</span><span class="sxs-lookup"><span data-stu-id="9a627-219">toolearn more about enabling diagnostic logs for application gateway visit [Application Gateway diagnostics](application-gateway-diagnostics.md)</span></span>

#### <a name="azure-security-center"></a><span data-ttu-id="9a627-220">Azure Security Center</span><span class="sxs-lookup"><span data-stu-id="9a627-220">Azure Security Center</span></span>

<span data-ttu-id="9a627-221">[Az Azure Security Center](../security-center/security-center-intro.md) és nyújt segítséget megakadályozása, észleli, és a láthatóság növelésével toothreats válaszolni vezérlése hello Azure-erőforrások biztonsági.</span><span class="sxs-lookup"><span data-stu-id="9a627-221">[Azure Security Center](../security-center/security-center-intro.md) helps you prevent, detect, and respond toothreats with increased visibility into and control over hello security of your Azure resources.</span></span> <span data-ttu-id="9a627-222">Az alkalmazásátjáró most már [integrálható az Azure Security Centerbe](application-gateway-integration-security-center.md).</span><span class="sxs-lookup"><span data-stu-id="9a627-222">Application gateway now [integrates into Azure Security Center](application-gateway-integration-security-center.md).</span></span> <span data-ttu-id="9a627-223">Az Azure Security Center ellenőrzése a környezetben nem védett toodetect webes alkalmazások.</span><span class="sxs-lookup"><span data-stu-id="9a627-223">Azure Security Center scans your environment toodetect unprotected web applications.</span></span> <span data-ttu-id="9a627-224">Azt is most ajánlott alkalmazás átjáró WAF tooprotect sebezhető erőforrásokról.</span><span class="sxs-lookup"><span data-stu-id="9a627-224">It can now recommend application gateway WAF tooprotect these vulnerable resources.</span></span> <span data-ttu-id="9a627-225">Alkalmazás átjáró WAF közvetlenül az Azure Security Center hello hozhat létre.</span><span class="sxs-lookup"><span data-stu-id="9a627-225">You can directly create application gateway WAF from hello Azure Security Center.</span></span>  <span data-ttu-id="9a627-226">Ezek a példányok WAF az Azure Security Center integrálva vannak, és elküldi a riasztásokat és állapotadatokat tooAzure Security Center biztonsági jelentéskészítéshez.</span><span class="sxs-lookup"><span data-stu-id="9a627-226">These WAF instances are integrated with Azure Security Center and will send alerts and health information back tooAzure Security Center for reporting.</span></span>

![1. ábra](./media/application-gateway-web-application-firewall-overview/figure1.png)

#### <a name="logging"></a><span data-ttu-id="9a627-228">Naplózás</span><span class="sxs-lookup"><span data-stu-id="9a627-228">Logging</span></span>

<span data-ttu-id="9a627-229">Az Application Gateway WAF részletes jelentéseket biztosít az összes észlelt fenyegetésről.</span><span class="sxs-lookup"><span data-stu-id="9a627-229">Application Gateway WAF provides detailed reporting on each threat it detects.</span></span> <span data-ttu-id="9a627-230">A naplózás integrálva van az Azure Diagnostics naplóival, a riasztások pedig JSON formátumban vannak rögzítve.</span><span class="sxs-lookup"><span data-stu-id="9a627-230">Logging is integrated with Azure Diagnostics logs and alerts are recorded in a json format.</span></span> <span data-ttu-id="9a627-231">Ezek a naplók integrálhatók a [Log Analytics-be](../log-analytics/log-analytics-azure-networking-analytics.md).</span><span class="sxs-lookup"><span data-stu-id="9a627-231">These logs can be integrated with [Log Analytics](../log-analytics/log-analytics-azure-networking-analytics.md).</span></span>

![imageURLroute](./media/application-gateway-web-application-firewall-overview/waf2.png)

```json
{
  "resourceId": "/SUBSCRIPTIONS/{subscriptionId}/RESOURCEGROUPS/{resourceGroupId}/PROVIDERS/MICROSOFT.NETWORK/APPLICATIONGATEWAYS/{appGatewayName}",
  "operationName": "ApplicationGatewayFirewall",
  "time": "2017-03-20T15:52:09.1494499Z",
  "category": "ApplicationGatewayFirewallLog",
  "properties": {
    "instanceId": "ApplicationGatewayRole_IN_0",
    "clientIp": "104.210.252.3",
    "clientPort": "4835",
    "requestUri": "/?a=%3Cscript%3Ealert(%22Hello%22);%3C/script%3E",
    "ruleSetType": "OWASP",
    "ruleSetVersion": "3.0",
    "ruleId": "941320",
    "message": "Possible XSS Attack Detected - HTML Tag Handler",
    "action": "Blocked",
    "site": "Global",
    "details": {
      "message": "Warning. Pattern match \"<(a|abbr|acronym|address|applet|area|audioscope|b|base|basefront|bdo|bgsound|big|blackface|blink|blockquote|body|bq|br|button|caption|center|cite|code|col|colgroup|comment|dd|del|dfn|dir|div|dl|dt|em|embed|fieldset|fn|font|form|frame|frameset|h1|head|h ...\" at ARGS:a.",
      "data": "Matched Data: <script> found within ARGS:a: <script>alert(\\x22hello\\x22);</script>",
      "file": "rules/REQUEST-941-APPLICATION-ATTACK-XSS.conf",
      "line": "865"
    }
  }
} 

```

## <a name="application-gateway-waf-sku-pricing"></a><span data-ttu-id="9a627-233">Application Gateway WAF – A termékváltozat díjszabása</span><span class="sxs-lookup"><span data-stu-id="9a627-233">Application Gateway WAF SKU pricing</span></span>

<span data-ttu-id="9a627-234">A webalkalmazási tűzfal az új WAF termékváltozatban érhető el.</span><span class="sxs-lookup"><span data-stu-id="9a627-234">Web application firewall is available under a new a WAF SKU.</span></span> <span data-ttu-id="9a627-235">A Termékváltozat csak Azure Resource Manager üzembe helyezési modell és hello klasszikus telepítési modell mellett nem érhető el.</span><span class="sxs-lookup"><span data-stu-id="9a627-235">This SKU is available only in Azure Resource Manager provisioning model and not under hello classic deployment model.</span></span> <span data-ttu-id="9a627-236">A WAF termékváltozat csak közepes és nagy méretű alkalmazásátjáró-példányokhoz használható.</span><span class="sxs-lookup"><span data-stu-id="9a627-236">Additionally WAF SKU comes only in medium and large application gateway instance sizes.</span></span> <span data-ttu-id="9a627-237">Az Alkalmazásátjáró összes hello korlátok toohello WAF SKU is érvényesek.</span><span class="sxs-lookup"><span data-stu-id="9a627-237">All hello limits for application gateway also apply toohello WAF SKU.</span></span> <span data-ttu-id="9a627-238">A díjszabás az átjárópéldányok óránkénti díján és az adatfeldolgozási díjon alapul.</span><span class="sxs-lookup"><span data-stu-id="9a627-238">Pricing is based on per hour gateway instance charge and data processing charge.</span></span> <span data-ttu-id="9a627-239">A WAF termékváltozathoz tartozó óránkénti átjáródíj eltér a normál termékváltozat díjaitól, és az [Application Gateway díjszabását](https://azure.microsoft.com/pricing/details/application-gateway/) ismertető webhelyen tekinthető meg.</span><span class="sxs-lookup"><span data-stu-id="9a627-239">Per hour gateway pricing for WAF SKU is different from Standard SKU charges and can be found at [Application Gateway pricing details](https://azure.microsoft.com/pricing/details/application-gateway/).</span></span> <span data-ttu-id="9a627-240">Az adatfeldolgozás díjakat továbbra is hello azonos.</span><span class="sxs-lookup"><span data-stu-id="9a627-240">Data processing charges remain hello same.</span></span> <span data-ttu-id="9a627-241">Nincsenek szabályonként vagy szabálycsoportonként kiszabott díjak.</span><span class="sxs-lookup"><span data-stu-id="9a627-241">There is no per rule or rule group charges.</span></span> <span data-ttu-id="9a627-242">Több webalkalmazás megvédheti mögött hello azonos webalkalmazási tűzfal, és nincs további díjakat támogatásához több alkalmazás van.</span><span class="sxs-lookup"><span data-stu-id="9a627-242">You can protect multiple web applications behind hello same web application firewall and there are no additional charges for supporting multiple applications.</span></span> 

<span data-ttu-id="9a627-243">A számlázás WAF a indul hatékonyan 5/5/2017, amíg WAF SKU átjárók továbbra is a normál díjszabás díjakon toobe majd hello.</span><span class="sxs-lookup"><span data-stu-id="9a627-243">Billing for WAF starts effectively 5/5/2017, until then hello WAF SKU gateways continues toobe charged at standard rates.</span></span>

## <a name="next-steps"></a><span data-ttu-id="9a627-244">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="9a627-244">Next steps</span></span>

<span data-ttu-id="9a627-245">Után további információk a WAF hello képességeit, látogasson el a [hogyan tooconfigure web Application Gateway alkalmazás tűzfala](application-gateway-web-application-firewall-portal.md).</span><span class="sxs-lookup"><span data-stu-id="9a627-245">After learning more about hello capabilities of WAF, visit [How tooconfigure web application firewall on Application Gateway](application-gateway-web-application-firewall-portal.md).</span></span>

