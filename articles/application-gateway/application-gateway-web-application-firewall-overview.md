---
title: "Bevezetés az Azure Application Gateway webalkalmazási tűzfalának (WAF) használatába | Microsoft Docs"
description: "Ez az oldal áttekintést nyújt az Application Gateway webalkalmazási tűzfalának (WAF) működéséről"
documentationcenter: na
services: application-gateway
author: amsriva
manager: rossort
editor: amsriva
ms.assetid: 04b362bc-6653-4765-86f6-55ee8ec2a0ff
ms.service: application-gateway
ms.devlang: na
ms.topic: hero-article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 05/03/2017
ms.author: amsriva
ms.openlocfilehash: 50863b60f2843f033bdb07f4564d937cd6f0b7be
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 07/11/2017
---
# <a name="web-application-firewall-waf"></a><span data-ttu-id="392b9-103">Webalkalmazási tűzfal (WAF)</span><span class="sxs-lookup"><span data-stu-id="392b9-103">Web application firewall (WAF)</span></span>

<span data-ttu-id="392b9-104">A webalkalmazási tűzfal (WAF) az Application Gateway egyik szolgáltatása, amely központi védelmet nyújt a webalkalmazásoknak a gyakori biztonsági rések ellen.</span><span class="sxs-lookup"><span data-stu-id="392b9-104">Web application firewall (WAF) is a feature of Application Gateway that provides centralized protection of your web applications from common exploits and vulnerabilities.</span></span> 

<span data-ttu-id="392b9-105">A webalkalmazási tűzfal az [alapvető OWASP-szabálykészletek](https://www.owasp.org/index.php/Category:OWASP_ModSecurity_Core_Rule_Set_Project) 3.0-s vagy 2.2.9-es verzióinak szabályai alapján működik.</span><span class="sxs-lookup"><span data-stu-id="392b9-105">Web application firewall is based on rules from the [OWASP core rule sets](https://www.owasp.org/index.php/Category:OWASP_ModSecurity_Core_Rule_Set_Project) 3.0 or 2.2.9.</span></span> <span data-ttu-id="392b9-106">A webalkalmazások egyre inkább ki vannak téve rosszindulatú támadásoknak, amelyek az ismert biztonsági réseket használják ki.</span><span class="sxs-lookup"><span data-stu-id="392b9-106">Web applications are increasingly targets of malicious attacks that exploit common known vulnerabilities.</span></span> <span data-ttu-id="392b9-107">Az ilyen jellegű támadások között például gyakoriak az SQL-injektálásos és a webhelyek közötti, parancsprogramot alkalmazó támadások.</span><span class="sxs-lookup"><span data-stu-id="392b9-107">Common among these exploits are SQL injection attacks, cross site scripting attacks to name a few.</span></span> <span data-ttu-id="392b9-108">Az ilyen támadások megakadályozása az alkalmazás kódjában kihívást jelenthet, és szigorú felügyeletet, javítást és megfigyelést igényelhet az alkalmazás topológiájának több rétegén.</span><span class="sxs-lookup"><span data-stu-id="392b9-108">Preventing such attacks in application code can be challenging and may require rigorous maintenance, patching and monitoring at multiple layers of the application topology.</span></span> <span data-ttu-id="392b9-109">A központosított webalkalmazási tűzfal egyszerűbbé teszi a biztonságfelügyeletet, és segít az alkalmazás-rendszergazdáknak a fenyegetések vagy a behatolások elleni védekezésben.</span><span class="sxs-lookup"><span data-stu-id="392b9-109">A centralized web application firewall helps make security management much simpler and gives better assurance to application administrators against threats or intrusions.</span></span> <span data-ttu-id="392b9-110">Emellett a WAF-megoldás gyorsabban képes kezelni a biztonsági fenyegetéseket azáltal, hogy kijavítja az ismert biztonsági réseket egy központi helyen, ahelyett hogy az egyes webalkalmazások védelmét biztosítaná.</span><span class="sxs-lookup"><span data-stu-id="392b9-110">A WAF solution can also react to a security threat faster by patching a known vulnerability at a central location versus securing each of individual web applications.</span></span> <span data-ttu-id="392b9-111">A meglévő alkalmazásátjárókat egyszerűen át lehet alakítani webalkalmazási tűzfallal rendelkező alkalmazásátjárókká.</span><span class="sxs-lookup"><span data-stu-id="392b9-111">Existing application gateways can be converted to a web application firewall enabled application gateway easily.</span></span>

![imageURLroute](./media/application-gateway-web-application-firewall-overview/WAF1.png)

<span data-ttu-id="392b9-113">Az Application Gateway egy alkalmazáskézbesítési vezérlőként működik, és SSL-lezárást, cookie-alapú munkamenet-affinitást, ciklikus időszeleteléses terheléselosztást, tartalomalapú útválasztást, valamint több webhely és biztonsági fejlesztés üzemeltetésének képességét kínálja.</span><span class="sxs-lookup"><span data-stu-id="392b9-113">Application Gateway operates as an application delivery controller and offers SSL termination, cookie-based session affinity, round-robin load distribution, content-based routing, ability to host multiple websites and security enhancements.</span></span> <span data-ttu-id="392b9-114">Az Application Gateway által kínált biztonsági fejlesztések között szerepel az SSL-házirend kezelése és a végpontok közötti SSL-támogatás.</span><span class="sxs-lookup"><span data-stu-id="392b9-114">Security enhancements offered by Application Gateway include SSL policy management, end to end SSL support.</span></span> <span data-ttu-id="392b9-115">Az ADC-ajánlatba közvetlenül integrált WAF (webalkalmazási tűzfal) tovább erősíti az alkalmazásbiztonságot.</span><span class="sxs-lookup"><span data-stu-id="392b9-115">Application security is now strengthened by WAF (web application firewall) being directly integrated into the ADC offering.</span></span> <span data-ttu-id="392b9-116">Ez egy könnyen konfigurálható központi helyet biztosít a webalkalmazások kezeléséhez és a gyakori webes biztonsági rések elleni védelemhez.</span><span class="sxs-lookup"><span data-stu-id="392b9-116">This provides an easy to configure central location to manage and protect your web applications against common web vulnerabilities.</span></span>

## <a name="benefits"></a><span data-ttu-id="392b9-117">Előnyök</span><span class="sxs-lookup"><span data-stu-id="392b9-117">Benefits</span></span>

<span data-ttu-id="392b9-118">Az alábbiak az Application Gateway és a webalkalmazási tűzfal használatának legfontosabb előnyei:</span><span class="sxs-lookup"><span data-stu-id="392b9-118">The following are the core benefits that Application Gateway and web application firewall provide:</span></span>

### <a name="protection"></a><span data-ttu-id="392b9-119">Védelem</span><span class="sxs-lookup"><span data-stu-id="392b9-119">Protection</span></span>

* <span data-ttu-id="392b9-120">A háttérkód módosítása nélkül védheti a webalkalmazásokat a webes biztonsági résektől és támadásoktól.</span><span class="sxs-lookup"><span data-stu-id="392b9-120">Protect your web application from web vulnerabilities and attacks without modification to backend code.</span></span>

* <span data-ttu-id="392b9-121">Egyszerre több webalkalmazást védhet egy Application Gateway mögött.</span><span class="sxs-lookup"><span data-stu-id="392b9-121">Protect multiple web applications at the same time behind an application gateway.</span></span> <span data-ttu-id="392b9-122">Az Application Gateway akár 20 webhely üzemeltetését is támogatja egyetlen átjáró mögött, amelyek a WAF segítségével mind védhetők a webes támadásokkal szemben.</span><span class="sxs-lookup"><span data-stu-id="392b9-122">Application gateway supports hosting up to 20 websites behind a single gateway that could all be protected against web attacks with WAF.</span></span>

### <a name="monitoring"></a><span data-ttu-id="392b9-123">Figyelés</span><span class="sxs-lookup"><span data-stu-id="392b9-123">Monitoring</span></span>

* <span data-ttu-id="392b9-124">Valós idejű WAF-naplók segítségével követheti nyomon a webalkalmazást fenyegető támadásokat.</span><span class="sxs-lookup"><span data-stu-id="392b9-124">Monitor your web application against attacks using a real-time WAF log.</span></span> <span data-ttu-id="392b9-125">A WAF-riasztások és -naplók nyomon követése, illetve a tendenciák kimutatása érdekében ezek a naplók integrálva vannak az [Azure Monitorral](../monitoring-and-diagnostics/monitoring-overview.md).</span><span class="sxs-lookup"><span data-stu-id="392b9-125">This log is integrated with [Azure Monitor](../monitoring-and-diagnostics/monitoring-overview.md) to track WAF alerts and logs and easily monitor trends.</span></span>

* <span data-ttu-id="392b9-126">A WAF hamarosan az Azure Security Centerrel is integrálva lesz.</span><span class="sxs-lookup"><span data-stu-id="392b9-126">WAF will be integrated with Azure Security Center soon.</span></span> <span data-ttu-id="392b9-127">Az Azure Security Center egyetlen központi helyen jeleníti meg minden Azure-erőforrás biztonsági állapotát.</span><span class="sxs-lookup"><span data-stu-id="392b9-127">Azure Security Center allows for a central view of the security state of all your Azure resources.</span></span>

### <a name="customization"></a><span data-ttu-id="392b9-128">Testreszabás</span><span class="sxs-lookup"><span data-stu-id="392b9-128">Customization</span></span>

* <span data-ttu-id="392b9-129">A WAF-szabályok és -szabálycsoportok testreszabhatók az alkalmazás követelményeinek való megfelelés, illetve a téves riasztások kiszűrése érdekében.</span><span class="sxs-lookup"><span data-stu-id="392b9-129">The ability to customize WAF rules and rule groups to suit your application requirements and eliminate false positives.</span></span>

## <a name="features"></a><span data-ttu-id="392b9-130">Szolgáltatások</span><span class="sxs-lookup"><span data-stu-id="392b9-130">Features</span></span>

<span data-ttu-id="392b9-131">A webalkalmazási tűzfal alapértelmezés szerint a CRS 3.0-s verziójával van előre konfigurálva, de a 2.2.9-es verzió használata mellett is dönthet.</span><span class="sxs-lookup"><span data-stu-id="392b9-131">Web application firewall comes preconfigured with CRS 3.0 by default or you can choose to use 2.2.9.</span></span> <span data-ttu-id="392b9-132">A CRS 3.0-s verziója esetén kevesebb hibás riasztással kell számolnia, mint a 2.2.9-es verziónál.</span><span class="sxs-lookup"><span data-stu-id="392b9-132">CRS 3.0 offers reduced false positives over 2.2.9.</span></span> <span data-ttu-id="392b9-133">A [szabályok igény szerinti testreszabására](application-gateway-customize-waf-rules-portal.md) is lehetősége van.</span><span class="sxs-lookup"><span data-stu-id="392b9-133">The ability to [customize rules to suit your needs](application-gateway-customize-waf-rules-portal.md) is provided.</span></span> <span data-ttu-id="392b9-134">A webalkalmazási tűzfal többek között a következő gyakori internetes biztonsági rések ellen nyújt védelmet:</span><span class="sxs-lookup"><span data-stu-id="392b9-134">Some of the common web vulnerabilities which web application firewall protects against includes:</span></span>

* <span data-ttu-id="392b9-135">SQL-injektálás elleni védelem</span><span class="sxs-lookup"><span data-stu-id="392b9-135">SQL injection protection</span></span>
* <span data-ttu-id="392b9-136">Webhelyek közötti, parancsprogramot alkalmazó támadások elleni védelem</span><span class="sxs-lookup"><span data-stu-id="392b9-136">Cross site scripting protection</span></span>
* <span data-ttu-id="392b9-137">Gyakori webes támadások (például parancsinjektálás, HTTP-kéréscsempészet, HTTP-válaszfelosztás és távolifájl-beszúrásos támadás) elleni védelem</span><span class="sxs-lookup"><span data-stu-id="392b9-137">Common Web Attacks Protection such as command injection, HTTP request smuggling, HTTP response splitting, and remote file inclusion attack</span></span>
* <span data-ttu-id="392b9-138">HTTP protokoll megsértése elleni védelem</span><span class="sxs-lookup"><span data-stu-id="392b9-138">Protection against HTTP protocol violations</span></span>
* <span data-ttu-id="392b9-139">HTTP protokollanomáliák (például hiányzó gazdagép-felhasználói ügynök és Accept (Elfogadás) fejlécek) elleni védelem</span><span class="sxs-lookup"><span data-stu-id="392b9-139">Protection against HTTP protocol anomalies such as missing host user-agent and accept headers</span></span>
* <span data-ttu-id="392b9-140">Robotprogramok, webbejárók és képolvasók elleni védelem</span><span class="sxs-lookup"><span data-stu-id="392b9-140">Prevention against bots, crawlers, and scanners</span></span>
* <span data-ttu-id="392b9-141">Alkalmazások (vagyis Apache, IIS stb.) gyakori konfigurációs hibáinak észlelése</span><span class="sxs-lookup"><span data-stu-id="392b9-141">Detection of common application misconfigurations (i.e. Apache, IIS, etc.)</span></span>

<span data-ttu-id="392b9-142">A szabályok és a hozzájuk tartozó védelmi megoldások részletesebb listáját az [Alapvető szabálykészletek](#core-rule-sets) című szakasz tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="392b9-142">For a more detailed list of rules and their protections see the following [Core rule sets](#core-rule-sets).</span></span>

### <a name="core-rule-sets"></a><span data-ttu-id="392b9-143">Alapvető szabálykészletek</span><span class="sxs-lookup"><span data-stu-id="392b9-143">Core rule sets</span></span>

<span data-ttu-id="392b9-144">Az Application Gateway a következő két szabálykészletet támogatja: CRS 3.0 és CRS 2.2.9.</span><span class="sxs-lookup"><span data-stu-id="392b9-144">Application Gateway supports two rule sets, CRS 3.0, and CRS 2.2.9.</span></span> <span data-ttu-id="392b9-145">Ezek az alapvető szabálykészletek olyan szabályok gyűjteményei, amelyek megvédik a webalkalmazásokat a kártékony tevékenységek ellen.</span><span class="sxs-lookup"><span data-stu-id="392b9-145">These core rules sets are collections of rules that protect your web applications for malicious activity.</span></span>

#### <a name="owasp30"></a><span data-ttu-id="392b9-146">OWASP_3.0</span><span class="sxs-lookup"><span data-stu-id="392b9-146">OWASP_3.0</span></span>

<span data-ttu-id="392b9-147">A mellékelt 3.0-s alapvető szabálykészlet 13 szabálycsoportot tartalmaz, ahogy a következő táblázatban is látható.</span><span class="sxs-lookup"><span data-stu-id="392b9-147">The 3.0 core rule set provided has 13 rule groups as shown in the following table.</span></span> <span data-ttu-id="392b9-148">Ezen szabálycsoportok mindegyike több, egyenként letiltható szabályt tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="392b9-148">Each of these rule groups contains multiple rules, which can be disabled.</span></span>

|<span data-ttu-id="392b9-149">Szabálycsoport</span><span class="sxs-lookup"><span data-stu-id="392b9-149">RuleGroup</span></span>|<span data-ttu-id="392b9-150">Leírás</span><span class="sxs-lookup"><span data-stu-id="392b9-150">Description</span></span>|
|---|---|
|<span data-ttu-id="392b9-151">**[REQUEST-910-IP-REPUTATION](application-gateway-crs-rulegroups-rules.md#crs910)**</span><span class="sxs-lookup"><span data-stu-id="392b9-151">**[REQUEST-910-IP-REPUTATION](application-gateway-crs-rulegroups-rules.md#crs910)**</span></span>|<span data-ttu-id="392b9-152">Az ismert levélszemétküldők és kártékony tevékenységek ellen védelmet biztosító szabályokat tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="392b9-152">Contains rules to protect against known spammers or malicious activity.</span></span>|
|<span data-ttu-id="392b9-153">**[REQUEST-911-METHOD-ENFORCEMENT](application-gateway-crs-rulegroups-rules.md#crs911)**</span><span class="sxs-lookup"><span data-stu-id="392b9-153">**[REQUEST-911-METHOD-ENFORCEMENT](application-gateway-crs-rulegroups-rules.md#crs911)**</span></span>|<span data-ttu-id="392b9-154">Egyes metódusok (például PUT, PATCH< stb.) zárolásához tartalmaz szabályokat.</span><span class="sxs-lookup"><span data-stu-id="392b9-154">Contains rules to lock down methods (PUT, PATCH< ..)</span></span>|
|<span data-ttu-id="392b9-155">**[REQUEST-912-DOS-PROTECTION](application-gateway-crs-rulegroups-rules.md#crs912)**</span><span class="sxs-lookup"><span data-stu-id="392b9-155">**[REQUEST-912-DOS-PROTECTION](application-gateway-crs-rulegroups-rules.md#crs912)**</span></span>| <span data-ttu-id="392b9-156">A szolgáltatásmegtagadási támadások ellen védelmet biztosító szabályokat tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="392b9-156">Contains rules to protect against Denial of Service (DoS) attacks.</span></span>|
|<span data-ttu-id="392b9-157">**[REQUEST-913-SCANNER-DETECTION](application-gateway-crs-rulegroups-rules.md#crs913)**</span><span class="sxs-lookup"><span data-stu-id="392b9-157">**[REQUEST-913-SCANNER-DETECTION](application-gateway-crs-rulegroups-rules.md#crs913)**</span></span>| <span data-ttu-id="392b9-158">A port- és környezetleolvasók ellen védelmet biztosító szabályokat tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="392b9-158">Contains rules to protect against port and environment scanners.</span></span>|
|<span data-ttu-id="392b9-159">**[REQUEST-920-PROTOCOL-ENFORCEMENT](application-gateway-crs-rulegroups-rules.md#crs920)**</span><span class="sxs-lookup"><span data-stu-id="392b9-159">**[REQUEST-920-PROTOCOL-ENFORCEMENT](application-gateway-crs-rulegroups-rules.md#crs920)**</span></span>|<span data-ttu-id="392b9-160">A protokoll- és a kódolási problémák ellen védelmet biztosító szabályokat tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="392b9-160">Contains rules to protect against protocol and encoding issues.</span></span>|
|<span data-ttu-id="392b9-161">**[REQUEST-921-PROTOCOL-ATTACK](application-gateway-crs-rulegroups-rules.md#crs921)**</span><span class="sxs-lookup"><span data-stu-id="392b9-161">**[REQUEST-921-PROTOCOL-ATTACK](application-gateway-crs-rulegroups-rules.md#crs921)**</span></span>|<span data-ttu-id="392b9-162">A fejlécinjektálás, a kéréscsempészet és a válaszfelosztás ellen védelmet biztosító szabályokat tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="392b9-162">Contains rules to protect against header injection, request smuggling, and response splitting</span></span>|
|<span data-ttu-id="392b9-163">**[REQUEST-930-APPLICATION-ATTACK-LFI](application-gateway-crs-rulegroups-rules.md#crs930)**</span><span class="sxs-lookup"><span data-stu-id="392b9-163">**[REQUEST-930-APPLICATION-ATTACK-LFI](application-gateway-crs-rulegroups-rules.md#crs930)**</span></span>|<span data-ttu-id="392b9-164">A fájlok és elérési utak elleni támadásoktól védelmet biztosító szabályokat tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="392b9-164">Contains rules to protect against file and path attacks.</span></span>|
|<span data-ttu-id="392b9-165">**[REQUEST-931-APPLICATION-ATTACK-RFI](application-gateway-crs-rulegroups-rules.md#crs931)**</span><span class="sxs-lookup"><span data-stu-id="392b9-165">**[REQUEST-931-APPLICATION-ATTACK-RFI](application-gateway-crs-rulegroups-rules.md#crs931)**</span></span>|<span data-ttu-id="392b9-166">A távolifájl-beszúrásos (RFI) támadások ellen védelmet biztosító szabályokat tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="392b9-166">Contains rules to protect against Remote File Inclusion (RFI)</span></span>|
|<span data-ttu-id="392b9-167">**[REQUEST-932-APPLICATION-ATTACK-RCE](application-gateway-crs-rulegroups-rules.md#crs932)**</span><span class="sxs-lookup"><span data-stu-id="392b9-167">**[REQUEST-932-APPLICATION-ATTACK-RCE](application-gateway-crs-rulegroups-rules.md#crs932)**</span></span>|<span data-ttu-id="392b9-168">A távolikód-futtatásos támadások ellen védelmet biztosító szabályokat tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="392b9-168">Contains rules to protect again Remote Code Execution.</span></span>|
|<span data-ttu-id="392b9-169">**[REQUEST-933-APPLICATION-ATTACK-PHP](application-gateway-crs-rulegroups-rules.md#crs933)**</span><span class="sxs-lookup"><span data-stu-id="392b9-169">**[REQUEST-933-APPLICATION-ATTACK-PHP](application-gateway-crs-rulegroups-rules.md#crs933)**</span></span>|<span data-ttu-id="392b9-170">A PHP-injektálási támadások ellen védelmet biztosító szabályokat tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="392b9-170">Contains rules to protect against PHP injection attacks.</span></span>|
|<span data-ttu-id="392b9-171">**[REQUEST-941-APPLICATION-ATTACK-XSS](application-gateway-crs-rulegroups-rules.md#crs941)**</span><span class="sxs-lookup"><span data-stu-id="392b9-171">**[REQUEST-941-APPLICATION-ATTACK-XSS](application-gateway-crs-rulegroups-rules.md#crs941)**</span></span>|<span data-ttu-id="392b9-172">A helyközi, parancsfájlt alkalmazó támadások ellen védelmet biztosító szabályokat tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="392b9-172">Contains rules for protecting against cross site scripting.</span></span>|
|<span data-ttu-id="392b9-173">**[REQUEST-942-APPLICATION-ATTACK-SQLI](application-gateway-crs-rulegroups-rules.md#crs942)**</span><span class="sxs-lookup"><span data-stu-id="392b9-173">**[REQUEST-942-APPLICATION-ATTACK-SQLI](application-gateway-crs-rulegroups-rules.md#crs942)**</span></span>|<span data-ttu-id="392b9-174">Az SQL-injektálási támadások ellen védelmet biztosító szabályokat tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="392b9-174">Contains rules for protecting against SQL injection attacks.</span></span>|
|<span data-ttu-id="392b9-175">**[REQUEST-943-APPLICATION-ATTACK-SESSION-FIXATION](application-gateway-crs-rulegroups-rules.md#crs943)**</span><span class="sxs-lookup"><span data-stu-id="392b9-175">**[REQUEST-943-APPLICATION-ATTACK-SESSION-FIXATION](application-gateway-crs-rulegroups-rules.md#crs943)**</span></span>|<span data-ttu-id="392b9-176">A munkamenet-rögzítési támadások ellen védelmet biztosító szabályokat tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="392b9-176">Contains rules to protect against Session Fixation Attacks.</span></span>|

#### <a name="owasp229"></a><span data-ttu-id="392b9-177">OWASP_2.2.9</span><span class="sxs-lookup"><span data-stu-id="392b9-177">OWASP_2.2.9</span></span>

<span data-ttu-id="392b9-178">A mellékelt 2.2.9-es alapvető szabálykészlet 10 szabálycsoportot tartalmaz, ahogy a következő táblázatban is látható.</span><span class="sxs-lookup"><span data-stu-id="392b9-178">The 2.2.9 core rule set provided has 10 rule groups as shown in the following table.</span></span> <span data-ttu-id="392b9-179">Ezen szabálycsoportok mindegyike több, egyenként letiltható szabályt tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="392b9-179">Each of these rule groups contains multiple rules, which can be disabled.</span></span>

|<span data-ttu-id="392b9-180">Szabálycsoport</span><span class="sxs-lookup"><span data-stu-id="392b9-180">RuleGroup</span></span>|<span data-ttu-id="392b9-181">Leírás</span><span class="sxs-lookup"><span data-stu-id="392b9-181">Description</span></span>|
|---|---|
|<span data-ttu-id="392b9-182">**[crs_20_protocol_violations](application-gateway-crs-rulegroups-rules.md#crs20)**</span><span class="sxs-lookup"><span data-stu-id="392b9-182">**[crs_20_protocol_violations](application-gateway-crs-rulegroups-rules.md#crs20)**</span></span>|<span data-ttu-id="392b9-183">A protokollsértések (például érvénytelen karakterek, GET parancs egy kéréstörzzsel stb.) ellen védelmet biztosító szabályokat tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="392b9-183">Contains rules to protect against protocol violations (invalid characters, GET with a request body, etc.)</span></span>|
|<span data-ttu-id="392b9-184">**[crs_21_protocol_anomalies](application-gateway-crs-rulegroups-rules.md#crs21)**</span><span class="sxs-lookup"><span data-stu-id="392b9-184">**[crs_21_protocol_anomalies](application-gateway-crs-rulegroups-rules.md#crs21)**</span></span>|<span data-ttu-id="392b9-185">A helytelen fejléc-információk ellen védelmet biztosító szabályokat tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="392b9-185">Contains rules to protect against incorrect header information.</span></span>|
|<span data-ttu-id="392b9-186">**[crs_23_request_limits](application-gateway-crs-rulegroups-rules.md#crs23)**</span><span class="sxs-lookup"><span data-stu-id="392b9-186">**[crs_23_request_limits](application-gateway-crs-rulegroups-rules.md#crs23)**</span></span>|<span data-ttu-id="392b9-187">A korlátozásokat meghaladó argumentumok vagy fájlok ellen védelmet biztosító szabályokat tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="392b9-187">Contains rules to protect against arguments or files that exceed limitations.</span></span>|
|<span data-ttu-id="392b9-188">**[crs_30_http_policy](application-gateway-crs-rulegroups-rules.md#crs30)**</span><span class="sxs-lookup"><span data-stu-id="392b9-188">**[crs_30_http_policy](application-gateway-crs-rulegroups-rules.md#crs30)**</span></span>|<span data-ttu-id="392b9-189">A korlátozott metódusok, fejlécek és fájltípusok ellen védelmet biztosító szabályokat tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="392b9-189">Contains rules to protect against restricted methods, headers, and file types.</span></span> |
|<span data-ttu-id="392b9-190">**[crs_35_bad_robots](application-gateway-crs-rulegroups-rules.md#crs35)**</span><span class="sxs-lookup"><span data-stu-id="392b9-190">**[crs_35_bad_robots](application-gateway-crs-rulegroups-rules.md#crs35)**</span></span>|<span data-ttu-id="392b9-191">Az internetes webbejárók és keresők ellen védelmet biztosító szabályokat tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="392b9-191">Contains rules to protect against web crawlers and scanners.</span></span>|
|<span data-ttu-id="392b9-192">**[crs_40_generic_attacks](application-gateway-crs-rulegroups-rules.md#crs40)**</span><span class="sxs-lookup"><span data-stu-id="392b9-192">**[crs_40_generic_attacks](application-gateway-crs-rulegroups-rules.md#crs40)**</span></span>|<span data-ttu-id="392b9-193">Általános támadások (például munkamenet-rögzítés, távolifájl-beszúrás, PHP-injektálás) ellen védelmet biztosító szabályokat tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="392b9-193">Contains rules to protect against generic attacks (session fixation, remote file inclusion, PHP injection, etc.)</span></span>|
|<span data-ttu-id="392b9-194">**[crs_41_sql_injection_attacks](application-gateway-crs-rulegroups-rules.md#crs41sql)**</span><span class="sxs-lookup"><span data-stu-id="392b9-194">**[crs_41_sql_injection_attacks](application-gateway-crs-rulegroups-rules.md#crs41sql)**</span></span>|<span data-ttu-id="392b9-195">Az SQL-injektálási támadások ellen védelmet biztosító szabályokat tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="392b9-195">Contains rules to protect against SQL injection attacks</span></span>|
|<span data-ttu-id="392b9-196">**[crs_41_xss_attacks](application-gateway-crs-rulegroups-rules.md#crs41xss)**</span><span class="sxs-lookup"><span data-stu-id="392b9-196">**[crs_41_xss_attacks](application-gateway-crs-rulegroups-rules.md#crs41xss)**</span></span>|<span data-ttu-id="392b9-197">A helyközi, parancsfájlt alkalmazó támadások ellen védelmet biztosító szabályokat tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="392b9-197">Contains rules to protect against cross site scripting.</span></span>|
|<span data-ttu-id="392b9-198">**[crs_42_tight_security](application-gateway-crs-rulegroups-rules.md#crs42)**</span><span class="sxs-lookup"><span data-stu-id="392b9-198">**[crs_42_tight_security](application-gateway-crs-rulegroups-rules.md#crs42)**</span></span>|<span data-ttu-id="392b9-199">Az elérésiút-átjárási támadások ellen védelmet biztosító szabályokat tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="392b9-199">Contains a rule to protect against path traversal attacks</span></span>|
|<span data-ttu-id="392b9-200">**[crs_45_trojans](application-gateway-crs-rulegroups-rules.md#crs45)**</span><span class="sxs-lookup"><span data-stu-id="392b9-200">**[crs_45_trojans](application-gateway-crs-rulegroups-rules.md#crs45)**</span></span>|<span data-ttu-id="392b9-201">A backdoor trójai programok ellen védelmet biztosító szabályokat tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="392b9-201">Contains rules to protect against backdoor Trojans.</span></span>|

### <a name="waf-modes"></a><span data-ttu-id="392b9-202">WAF-üzemmódok</span><span class="sxs-lookup"><span data-stu-id="392b9-202">WAF Modes</span></span>

<span data-ttu-id="392b9-203">Az Application Gateway WAF az alábbi két üzemmódban való futtatásra konfigurálható:</span><span class="sxs-lookup"><span data-stu-id="392b9-203">Application Gateway WAF can be configured to run in the following two modes:</span></span>

* <span data-ttu-id="392b9-204">**Észlelés üzemmód** – Amikor az Application Gateway WAF észlelés üzemmódban való futtatásra van konfigurálva, figyel és egy naplófájlba naplóz minden veszélyforrás-riasztást.</span><span class="sxs-lookup"><span data-stu-id="392b9-204">**Detection mode** – When configured to run in detection mode, Application Gateway WAF monitors and logs all threat alerts in to a log file.</span></span> <span data-ttu-id="392b9-205">A **Diagnosztika** szakaszban be kell kapcsolni az Application Gateway naplózási diagnosztikáját.</span><span class="sxs-lookup"><span data-stu-id="392b9-205">Logging diagnostics for Application Gateway should be turned on using the **Diagnostics** section.</span></span> <span data-ttu-id="392b9-206">Emellett ellenőrizze, hogy a WAF-napló ki van-e választva és be van-e kapcsolva.</span><span class="sxs-lookup"><span data-stu-id="392b9-206">You also need to ensure that the WAF log is selected and turned on.</span></span> <span data-ttu-id="392b9-207">Az észlelési üzemmódban futtatott webalkalmazási tűzfal nem blokkolja a bejövő kéréseket.</span><span class="sxs-lookup"><span data-stu-id="392b9-207">When running in detection mode web application firewall does not block incoming requests.</span></span>
* <span data-ttu-id="392b9-208">**Megelőzés üzemmód** – Amikor az Application Gateway WAF megelőzés üzemmódban való futtatásra van konfigurálva, aktívan blokkolja a szabályok által észlelt behatolásokat és támadásokat.</span><span class="sxs-lookup"><span data-stu-id="392b9-208">**Prevention mode** – When configured to run in prevention mode, Application Gateway actively blocks intrusions and attacks detected by its rules.</span></span> <span data-ttu-id="392b9-209">A támadó egy 403-as jogosulatlan hozzáférési kivételt kap, és a kapcsolat megszakad.</span><span class="sxs-lookup"><span data-stu-id="392b9-209">The attacker receives a 403 unauthorized access exception and the connection is terminated.</span></span> <span data-ttu-id="392b9-210">A megelőzés üzemmód továbbra is naplózza az ilyen támadásokat a WAF-naplókban.</span><span class="sxs-lookup"><span data-stu-id="392b9-210">Prevention mode continues to log such attacks in the WAF logs.</span></span>

### <span data-ttu-id="392b9-211"><a name="application-gateway-waf-reports"></a>WAF-figyelés</span><span class="sxs-lookup"><span data-stu-id="392b9-211"><a name="application-gateway-waf-reports"></a>WAF Monitoring</span></span>

<span data-ttu-id="392b9-212">Fontos az alkalmazásátjáró állapotának folyamatos figyelése.</span><span class="sxs-lookup"><span data-stu-id="392b9-212">Monitoring the health of your application gateway is important.</span></span> <span data-ttu-id="392b9-213">A webalkalmazási tűzfal és az általa védett alkalmazások állapotát az Azure Monitorral, az Azure Security Centerrel (hamarosan elérhető) és a Log Analytics naplózási és integrációs szolgáltatásaival figyelheti meg.</span><span class="sxs-lookup"><span data-stu-id="392b9-213">Monitoring the health of your web application firewall and the applications that it protects are provided through logging and integration with Azure Monitor, Azure Security Center (coming soon), and Log Analytics.</span></span>

![diagnosztika](./media/application-gateway-web-application-firewall-overview/diagnostics.png)

#### <a name="azure-monitor"></a><span data-ttu-id="392b9-215">Azure Monitor</span><span class="sxs-lookup"><span data-stu-id="392b9-215">Azure Monitor</span></span>

<span data-ttu-id="392b9-216">Az Application Gateway-naplók integrálva vannak az [Azure Monitorral](../monitoring-and-diagnostics/monitoring-overview.md),</span><span class="sxs-lookup"><span data-stu-id="392b9-216">Each application gateway log is integrated with [Azure Monitor](../monitoring-and-diagnostics/monitoring-overview.md).</span></span>  <span data-ttu-id="392b9-217">ami lehetővé teszi a diagnosztikai információk (például a WAF-riasztások és -naplók) nyomon követését.</span><span class="sxs-lookup"><span data-stu-id="392b9-217">This allows you to track diagnostic information including WAF alerts and logs.</span></span>  <span data-ttu-id="392b9-218">Ez a képesség a portál Application Gateway-erőforrásának **Diagnosztika** lapján vagy közvetlenül az Azure Monitor szolgáltatáson keresztül érhető el.</span><span class="sxs-lookup"><span data-stu-id="392b9-218">This capability is provided within the Application Gateway resource in the portal under the **Diagnostics** tab or through the Azure Monitor service directly.</span></span> <span data-ttu-id="392b9-219">További információk az Application Gateway diagnosztikai naplóinak engedélyezéséről: [Application Gateway-diagnosztika](application-gateway-diagnostics.md)</span><span class="sxs-lookup"><span data-stu-id="392b9-219">To learn more about enabling diagnostic logs for application gateway visit [Application Gateway diagnostics](application-gateway-diagnostics.md)</span></span>

#### <a name="azure-security-center"></a><span data-ttu-id="392b9-220">Azure Security Center</span><span class="sxs-lookup"><span data-stu-id="392b9-220">Azure Security Center</span></span>

<span data-ttu-id="392b9-221">[Az Azure Security Center](../security-center/security-center-intro.md) az Azure-erőforrások biztonsági felügyeletének átláthatóbbá és szabályozhatóbbá tételével megkönnyíti a fenyegetések megelőzését, észlelését és elhárítását.</span><span class="sxs-lookup"><span data-stu-id="392b9-221">[Azure Security Center](../security-center/security-center-intro.md) helps you prevent, detect, and respond to threats with increased visibility into and control over the security of your Azure resources.</span></span> <span data-ttu-id="392b9-222">Az alkalmazásátjáró most már [integrálható az Azure Security Centerbe](application-gateway-integration-security-center.md).</span><span class="sxs-lookup"><span data-stu-id="392b9-222">Application gateway now [integrates into Azure Security Center](application-gateway-integration-security-center.md).</span></span> <span data-ttu-id="392b9-223">Az Azure Security Center átvizsgálja a környezetet védelem nélküli webalkalmazásokat keresve.</span><span class="sxs-lookup"><span data-stu-id="392b9-223">Azure Security Center scans your environment to detect unprotected web applications.</span></span> <span data-ttu-id="392b9-224">Ezek után javasolhatja az alkalmazásátjáró WAF-nak a sebezhető erőforrások védelmét.</span><span class="sxs-lookup"><span data-stu-id="392b9-224">It can now recommend application gateway WAF to protect these vulnerable resources.</span></span> <span data-ttu-id="392b9-225">Közvetlenül létrehozhat alkalmazásátjáró WAF-ot az Azure Security Centerből.</span><span class="sxs-lookup"><span data-stu-id="392b9-225">You can directly create application gateway WAF from the Azure Security Center.</span></span>  <span data-ttu-id="392b9-226">Ezek a WAF-példányok az Azure Security Centerbe integrálódnak, és a jelentésekhez használható riasztásokat, valamint állapotinformációkat fognak visszaküldeni az Azure Security Centerbe.</span><span class="sxs-lookup"><span data-stu-id="392b9-226">These WAF instances are integrated with Azure Security Center and will send alerts and health information back to Azure Security Center for reporting.</span></span>

![1. ábra](./media/application-gateway-web-application-firewall-overview/figure1.png)

#### <a name="logging"></a><span data-ttu-id="392b9-228">Naplózás</span><span class="sxs-lookup"><span data-stu-id="392b9-228">Logging</span></span>

<span data-ttu-id="392b9-229">Az Application Gateway WAF részletes jelentéseket biztosít az összes észlelt fenyegetésről.</span><span class="sxs-lookup"><span data-stu-id="392b9-229">Application Gateway WAF provides detailed reporting on each threat it detects.</span></span> <span data-ttu-id="392b9-230">A naplózás integrálva van az Azure Diagnostics naplóival, a riasztások pedig JSON formátumban vannak rögzítve.</span><span class="sxs-lookup"><span data-stu-id="392b9-230">Logging is integrated with Azure Diagnostics logs and alerts are recorded in a json format.</span></span> <span data-ttu-id="392b9-231">Ezek a naplók integrálhatók a [Log Analytics-be](../log-analytics/log-analytics-azure-networking-analytics.md).</span><span class="sxs-lookup"><span data-stu-id="392b9-231">These logs can be integrated with [Log Analytics](../log-analytics/log-analytics-azure-networking-analytics.md).</span></span>

![imageURLroute](./media/application-gateway-web-application-firewall-overview/waf2.png)

```json
{
  "resourceId": "/SUBSCRIPTIONS/{subscriptionId}/RESOURCEGROUPS/{resourceGroupId}/PROVIDERS/MICROSOFT.NETWORK/APPLICATIONGATEWAYS/{appGatewayName}",
  "operationName": "ApplicationGatewayFirewall",
  "time": "2017-03-20T15:52:09.1494499Z",
  "category": "ApplicationGatewayFirewallLog",
  "properties": {
    "instanceId": "ApplicationGatewayRole_IN_0",
    "clientIp": "104.210.252.3",
    "clientPort": "4835",
    "requestUri": "/?a=%3Cscript%3Ealert(%22Hello%22);%3C/script%3E",
    "ruleSetType": "OWASP",
    "ruleSetVersion": "3.0",
    "ruleId": "941320",
    "message": "Possible XSS Attack Detected - HTML Tag Handler",
    "action": "Blocked",
    "site": "Global",
    "details": {
      "message": "Warning. Pattern match \"<(a|abbr|acronym|address|applet|area|audioscope|b|base|basefront|bdo|bgsound|big|blackface|blink|blockquote|body|bq|br|button|caption|center|cite|code|col|colgroup|comment|dd|del|dfn|dir|div|dl|dt|em|embed|fieldset|fn|font|form|frame|frameset|h1|head|h ...\" at ARGS:a.",
      "data": "Matched Data: <script> found within ARGS:a: <script>alert(\\x22hello\\x22);</script>",
      "file": "rules/REQUEST-941-APPLICATION-ATTACK-XSS.conf",
      "line": "865"
    }
  }
} 

```

## <a name="application-gateway-waf-sku-pricing"></a><span data-ttu-id="392b9-233">Application Gateway WAF – A termékváltozat díjszabása</span><span class="sxs-lookup"><span data-stu-id="392b9-233">Application Gateway WAF SKU pricing</span></span>

<span data-ttu-id="392b9-234">A webalkalmazási tűzfal az új WAF termékváltozatban érhető el.</span><span class="sxs-lookup"><span data-stu-id="392b9-234">Web application firewall is available under a new a WAF SKU.</span></span> <span data-ttu-id="392b9-235">Ez a termékváltozat kizárólag az Azure Resource Manager üzembe helyezési modelljében érhető el, a klasszikus üzemi modellben nem.</span><span class="sxs-lookup"><span data-stu-id="392b9-235">This SKU is available only in Azure Resource Manager provisioning model and not under the classic deployment model.</span></span> <span data-ttu-id="392b9-236">A WAF termékváltozat csak közepes és nagy méretű alkalmazásátjáró-példányokhoz használható.</span><span class="sxs-lookup"><span data-stu-id="392b9-236">Additionally WAF SKU comes only in medium and large application gateway instance sizes.</span></span> <span data-ttu-id="392b9-237">Az alkalmazásátjárókra vonatkozó összes korlátozás a WAF termékváltozatra is érvényes.</span><span class="sxs-lookup"><span data-stu-id="392b9-237">All the limits for application gateway also apply to the WAF SKU.</span></span> <span data-ttu-id="392b9-238">A díjszabás az átjárópéldányok óránkénti díján és az adatfeldolgozási díjon alapul.</span><span class="sxs-lookup"><span data-stu-id="392b9-238">Pricing is based on per hour gateway instance charge and data processing charge.</span></span> <span data-ttu-id="392b9-239">A WAF termékváltozathoz tartozó óránkénti átjáródíj eltér a normál termékváltozat díjaitól, és az [Application Gateway díjszabását](https://azure.microsoft.com/pricing/details/application-gateway/) ismertető webhelyen tekinthető meg.</span><span class="sxs-lookup"><span data-stu-id="392b9-239">Per hour gateway pricing for WAF SKU is different from Standard SKU charges and can be found at [Application Gateway pricing details](https://azure.microsoft.com/pricing/details/application-gateway/).</span></span> <span data-ttu-id="392b9-240">Az adatfeldolgozási díjak nem változnak.</span><span class="sxs-lookup"><span data-stu-id="392b9-240">Data processing charges remain the same.</span></span> <span data-ttu-id="392b9-241">Nincsenek szabályonként vagy szabálycsoportonként kiszabott díjak.</span><span class="sxs-lookup"><span data-stu-id="392b9-241">There is no per rule or rule group charges.</span></span> <span data-ttu-id="392b9-242">Ugyanazzal a webalkalmazási tűzfallal több webalkalmazást is elláthat védelemmel, többletköltség nélkül.</span><span class="sxs-lookup"><span data-stu-id="392b9-242">You can protect multiple web applications behind the same web application firewall and there are no additional charges for supporting multiple applications.</span></span> 

<span data-ttu-id="392b9-243">A WAF számlázási időszaka 2017. május 5-től indul, addig a WAF termékváltozathoz tartozó átjárók esetében is a normál díjszabás lesz érvényben.</span><span class="sxs-lookup"><span data-stu-id="392b9-243">Billing for WAF starts effectively 5/5/2017, until then the WAF SKU gateways continues to be charged at standard rates.</span></span>

## <a name="next-steps"></a><span data-ttu-id="392b9-244">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="392b9-244">Next steps</span></span>

<span data-ttu-id="392b9-245">Miután részletesebben megismerkedett a WAF képességeivel, tekintse meg a [webalkalmazási tűzfal Application Gatewayen történő konfigurálását](application-gateway-web-application-firewall-portal.md) ismertető cikket.</span><span class="sxs-lookup"><span data-stu-id="392b9-245">After learning more about the capabilities of WAF, visit [How to configure web application firewall on Application Gateway](application-gateway-web-application-firewall-portal.md).</span></span>

