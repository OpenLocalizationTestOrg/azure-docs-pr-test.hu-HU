---
title: "Folyamatos integrációt, a Visual STUDIO Team Services használatával Azure erőforráscsoport-projektek |} Microsoft Docs"
description: "Ismerteti, hogyan lehet a Visual Studio Team Services folyamatos integráció beállítása a Visual Studio használatával Azure erőforráscsoport-telepítési projektek alapján."
services: visual-studio-online
documentationcenter: na
author: mlearned
manager: erickson-doug
editor: 
ms.assetid: b81c172a-be87-4adc-861e-d20b94be9e38
ms.service: azure-resource-manager
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/01/2016
ms.author: mlearned
ms.openlocfilehash: e7d98ca3fa281a136595c37ed9b7e71de0cf7bff
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 07/11/2017
---
# <a name="continuous-integration-in-visual-studio-team-services-using-azure-resource-group-deployment-projects"></a><span data-ttu-id="84888-103">A Visual Studio Team Services használatával Azure erőforráscsoport-telepítési projektek folyamatos integrációt</span><span class="sxs-lookup"><span data-stu-id="84888-103">Continuous integration in Visual Studio Team Services using Azure Resource Group deployment projects</span></span>
<span data-ttu-id="84888-104">Központi telepítése egy Azure-sablon alapján, hogy feladatokat különböző szakaszaiban: Build, tesztelési, másolása az Azure-ba (más néven "Tesztelés"), és a sablon telepítéséhez.</span><span class="sxs-lookup"><span data-stu-id="84888-104">To deploy an Azure template, you perform tasks in various stages: Build, Test, Copy to Azure (also called "Staging"), and Deploy Template.</span></span> <span data-ttu-id="84888-105">Sablonok telepíteni a Visual Studio Team Services (Visual STUDIO Team Services) két különböző módja van.</span><span class="sxs-lookup"><span data-stu-id="84888-105">There are two different ways to deploy templates to Visual Studio Team Services (VS Team Services).</span></span> <span data-ttu-id="84888-106">Mindkét módszer adja meg ugyanazokat az eredményeket, tehát azt, amelyik a legjobban megfelel a munkafolyamat.</span><span class="sxs-lookup"><span data-stu-id="84888-106">Both methods provide the same results, so choose the one that best fits your workflow.</span></span>

1. <span data-ttu-id="84888-107">Egyetlen lépésben hozzáadása a build-definíciót, amely futtatja a PowerShell-parancsfájlt, amely az Azure-erőforráscsoport telepítési projekt (telepítés-AzureResourceGroup.ps1) szerepel.</span><span class="sxs-lookup"><span data-stu-id="84888-107">Add a single step to your build definition that runs the PowerShell script that’s included in the Azure Resource Group deployment project (Deploy-AzureResourceGroup.ps1).</span></span> <span data-ttu-id="84888-108">A parancsfájl összetevők másolja, és ezután telepíti a sablon.</span><span class="sxs-lookup"><span data-stu-id="84888-108">The script copies artifacts and then deploys the template.</span></span>
2. <span data-ttu-id="84888-109">Vegyen fel több Visual STUDIO Team Services build lépéseket, egyenként a szakasz feladatok.</span><span class="sxs-lookup"><span data-stu-id="84888-109">Add multiple VS Team Services build steps, each one performing a stage task.</span></span>

<span data-ttu-id="84888-110">Ez a cikk mindkét lehetőséget bemutatja.</span><span class="sxs-lookup"><span data-stu-id="84888-110">This article demonstrates both options.</span></span> <span data-ttu-id="84888-111">Az első lehetőség azt az előnyt, ugyanazzal a parancsfájllal fejlesztők a Visual Studio és az életciklus olyan egységének használják.</span><span class="sxs-lookup"><span data-stu-id="84888-111">The first option has the advantage of using the same script used by developers in Visual Studio and providing consistency throughout the lifecycle.</span></span> <span data-ttu-id="84888-112">A második lehetőség alternatívája a beépített parancsfájlt.</span><span class="sxs-lookup"><span data-stu-id="84888-112">The second option offers a convenient alternative to the built-in script.</span></span> <span data-ttu-id="84888-113">Mindkét eljárás során feltételezzük, hogy már be van jelölve, a Visual STUDIO Team Services Visual Studio telepítési projekt.</span><span class="sxs-lookup"><span data-stu-id="84888-113">Both procedures assume you already have a Visual Studio deployment project checked into VS Team Services.</span></span>

## <a name="copy-artifacts-to-azure"></a><span data-ttu-id="84888-114">Összetevők másolása az Azure-bA</span><span class="sxs-lookup"><span data-stu-id="84888-114">Copy artifacts to Azure</span></span>
<span data-ttu-id="84888-115">Függetlenül a forgatókönyvben, ha bármely, a sablon-üzembehelyezés szükséges összetevők kell Azure Resource Manager hozzáférést adhat őket.</span><span class="sxs-lookup"><span data-stu-id="84888-115">Regardless of the scenario, if you have any artifacts that are needed for template deployment, you must give Azure Resource Manager access to them.</span></span> <span data-ttu-id="84888-116">Ezen összetevők például a fájlok közé tartoznak:</span><span class="sxs-lookup"><span data-stu-id="84888-116">These artifacts can include files such as:</span></span>

* <span data-ttu-id="84888-117">Beágyazott sablonok</span><span class="sxs-lookup"><span data-stu-id="84888-117">Nested templates</span></span>
* <span data-ttu-id="84888-118">Konfigurációs és DSC parancsfájlok</span><span class="sxs-lookup"><span data-stu-id="84888-118">Configuration scripts and DSC scripts</span></span>
* <span data-ttu-id="84888-119">Bináris alkalmazásfájlokat</span><span class="sxs-lookup"><span data-stu-id="84888-119">Application binaries</span></span>

### <a name="nested-templates-and-configuration-scripts"></a><span data-ttu-id="84888-120">Beágyazott sablonok és konfigurációs parancsfájlokat</span><span class="sxs-lookup"><span data-stu-id="84888-120">Nested Templates and Configuration Scripts</span></span>
<span data-ttu-id="84888-121">A Visual Studio által biztosított sablonok használatakor (vagy a Visual Studio kódtöredékek építését), a PowerShell-parancsfájl nem csak előkészíti az összetevők, azt is parameterizes tartozó különféle központi telepítéseken erőforrás URI-JÁNAK.</span><span class="sxs-lookup"><span data-stu-id="84888-121">When you use the templates provided by Visual Studio (or built with Visual Studio snippets), the PowerShell script not only stages the artifacts, it also parameterizes the URI for the resources for different deployments.</span></span> <span data-ttu-id="84888-122">A parancsfájl, majd másolja át az összetevők biztonságos tárolót az Azure-ban létrehoz egy SaS-jogkivonatot, hogy a tároló és ezután továbbítja ezt az információt a sablon-üzembehelyezés be.</span><span class="sxs-lookup"><span data-stu-id="84888-122">The script then copies the artifacts to a secure container in Azure, creates a SaS token for that container, and then passes that information on to the template deployment.</span></span> <span data-ttu-id="84888-123">Lásd: [hozzon létre egy sablon-üzembehelyezés](https://msdn.microsoft.com/library/azure/dn790564.aspx) beágyazott sablonok tájékozódhat.</span><span class="sxs-lookup"><span data-stu-id="84888-123">See [Create a template deployment](https://msdn.microsoft.com/library/azure/dn790564.aspx) to learn more about nested templates.</span></span>  <span data-ttu-id="84888-124">Feladatok használata a Visual STUDIO Team Services, válassza ki a megfelelő feladatokat a sablon üzembe helyezésére, és szükség esetén továbbítsa paraméterértékeket az átmeneti lépésben a sablon telepítése.</span><span class="sxs-lookup"><span data-stu-id="84888-124">When using tasks in VS Team Services, you must select the appropriate tasks for your template deployment and if necessary, pass parameter values from the staging step to the template deployment.</span></span>

## <a name="set-up-continuous-deployment-in-vs-team-services"></a><span data-ttu-id="84888-125">A Visual STUDIO Team Services folyamatos üzembe helyezés beállítása</span><span class="sxs-lookup"><span data-stu-id="84888-125">Set up continuous deployment in VS Team Services</span></span>
<span data-ttu-id="84888-126">A PowerShell parancsfájl hívni a Visual STUDIO Team Services, módosítania a build definícióját.</span><span class="sxs-lookup"><span data-stu-id="84888-126">To call the PowerShell script in VS Team Services, you need to update your build definition.</span></span> <span data-ttu-id="84888-127">Röviden a lépések a következők:</span><span class="sxs-lookup"><span data-stu-id="84888-127">In brief, the steps are:</span></span> 

1. <span data-ttu-id="84888-128">Szerkessze a build definíciót.</span><span class="sxs-lookup"><span data-stu-id="84888-128">Edit the build definition.</span></span>
2. <span data-ttu-id="84888-129">A Visual STUDIO Team Services Azure engedélyezési beállítása.</span><span class="sxs-lookup"><span data-stu-id="84888-129">Set up Azure authorization in VS Team Services.</span></span>
3. <span data-ttu-id="84888-130">Adjon hozzá egy Azure PowerShell build lépést, amely a PowerShell-parancsfájlt a Azure erőforráscsoport-telepítési projekt hivatkozik.</span><span class="sxs-lookup"><span data-stu-id="84888-130">Add an Azure PowerShell build step that references the PowerShell script in the Azure Resource Group deployment project.</span></span>
4. <span data-ttu-id="84888-131">Állítsa a *- ArtifactsStagingDirectory* paraméter egy projektet a Visual STUDIO Team Services együttműködni.</span><span class="sxs-lookup"><span data-stu-id="84888-131">Set the value of the *-ArtifactsStagingDirectory* parameter to work with a project built in VS Team Services.</span></span>

### <a name="detailed-walkthrough-for-option-1"></a><span data-ttu-id="84888-132">Részletes bemutató az 1. lehetőség</span><span class="sxs-lookup"><span data-stu-id="84888-132">Detailed walkthrough for Option 1</span></span>
<span data-ttu-id="84888-133">Az alábbi eljárások végigvezetik a Visual STUDIO Team Services, amelyen a PowerShell-parancsfájlt a projektben egy feladat használatával folyamatos telepítéséhez szükséges lépéseket.</span><span class="sxs-lookup"><span data-stu-id="84888-133">The following procedures walk you through the steps necessary to configure continuous deployment in VS Team Services using a single task that runs the PowerShell script in your project.</span></span> 

1. <span data-ttu-id="84888-134">Szerkesztés a Visual STUDIO Team Services build definícióját, és adjon hozzá egy Azure PowerShell build lépést.</span><span class="sxs-lookup"><span data-stu-id="84888-134">Edit your VS Team Services build definition and add an Azure PowerShell build step.</span></span> <span data-ttu-id="84888-135">Válassza ki a build definíciója szerint a **definíciók Build** kategória és válassza a **szerkesztése** hivatkozásra.</span><span class="sxs-lookup"><span data-stu-id="84888-135">Choose the build definition under the **Build definitions** category and then choose the **Edit** link.</span></span>
   
   ![Build definíciójának szerkesztése][0]
2. <span data-ttu-id="84888-137">Adjon hozzá egy új **Azure PowerShell** összeállítása lépés a build definíciójához, és válassza ki a **összeállítása lépés hozzáadása...**</span><span class="sxs-lookup"><span data-stu-id="84888-137">Add a new **Azure PowerShell** build step to the build definition and then choose the **Add build step…**</span></span> <span data-ttu-id="84888-138">gombra.</span><span class="sxs-lookup"><span data-stu-id="84888-138">button.</span></span>
   
   ![Build lépés hozzáadása][1]
3. <span data-ttu-id="84888-140">Válassza ki a **telepítés a feladat** kategória, jelölje be a **Azure PowerShell** feladat, és válassza a **Hozzáadás** gombra.</span><span class="sxs-lookup"><span data-stu-id="84888-140">Choose the **Deploy task** category, select the **Azure PowerShell** task, and then choose its **Add** button.</span></span>
   
   ![Feladatok hozzáadása][2]
4. <span data-ttu-id="84888-142">Válassza ki a **Azure PowerShell** összeállítása lépés, és töltse ki az értékeket.</span><span class="sxs-lookup"><span data-stu-id="84888-142">Choose the **Azure PowerShell** build step and then fill in its values.</span></span>
   
   1. <span data-ttu-id="84888-143">Ha már rendelkezik egy Azure-szolgáltatások végpontot hozzáadni a Visual STUDIO Team Services, válassza ki az előfizetést a **Azure-előfizetés** legördülő lista és a majd váltson át a következő szakaszban.</span><span class="sxs-lookup"><span data-stu-id="84888-143">If you already have an Azure service endpoint added to VS Team Services, choose the subscription in the **Azure Subscription** drop-down list box and then skip to the next section.</span></span> 
      
      <span data-ttu-id="84888-144">Ha Azure-szolgáltatás a végpont nem rendelkezik a Visual STUDIO Team Services, akkor vegyen fel egyet.</span><span class="sxs-lookup"><span data-stu-id="84888-144">If you don’t have an Azure service endpoint in VS Team Services, you need to add one.</span></span> <span data-ttu-id="84888-145">Ez az alszakasz végigvezeti Önt a folyamaton.</span><span class="sxs-lookup"><span data-stu-id="84888-145">This subsection takes you through the process.</span></span> <span data-ttu-id="84888-146">Ha az Azure-fiókjával (például Hotmail) Microsoft-fiókot használ, akkor szükséges, a következő lépéseket a egy egyszerű hitelesítést.</span><span class="sxs-lookup"><span data-stu-id="84888-146">If your Azure account uses a Microsoft account (such as Hotmail), you must take the following steps to get a Service Principal authentication.</span></span>
   2. <span data-ttu-id="84888-147">Válassza ki a **kezelése** melletti hivatkozásra a **Azure-előfizetés** legördülő listában.</span><span class="sxs-lookup"><span data-stu-id="84888-147">Choose the **Manage** link next to the **Azure Subscription** drop-down list box.</span></span>
      
      ![Az Azure-előfizetések kezelése][3]
   3. <span data-ttu-id="84888-149">Válasszon **Azure** a a **új szolgáltatási végpont** legördülő listában.</span><span class="sxs-lookup"><span data-stu-id="84888-149">Choose **Azure** in the **New Service Endpoint** drop-down list box.</span></span>
      
      ![Új szolgáltatási végpont][4]
   4. <span data-ttu-id="84888-151">Az a **Azure-előfizetés hozzáadása** párbeszédpanelen jelölje ki a **egyszerű** lehetőséget.</span><span class="sxs-lookup"><span data-stu-id="84888-151">In the **Add Azure Subscription** dialog box, select the **Service Principal** option.</span></span>
      
      ![Szolgáltatás egyszerű beállítás][5]
   5. <span data-ttu-id="84888-153">Adja hozzá az Azure-előfizetés adatainak a **Azure-előfizetés hozzáadása** párbeszédpanel megnyitásához.</span><span class="sxs-lookup"><span data-stu-id="84888-153">Add your Azure subscription information to the **Add Azure Subscription** dialog box.</span></span> <span data-ttu-id="84888-154">Meg kell adni a következő elemek:</span><span class="sxs-lookup"><span data-stu-id="84888-154">You need to provide the following items:</span></span>
      
      * <span data-ttu-id="84888-155">Előfizetés-azonosító</span><span class="sxs-lookup"><span data-stu-id="84888-155">Subscription Id</span></span>
      * <span data-ttu-id="84888-156">Előfizetés neve</span><span class="sxs-lookup"><span data-stu-id="84888-156">Subscription Name</span></span>
      * <span data-ttu-id="84888-157">Egyszerű szolgáltatás azonosítója</span><span class="sxs-lookup"><span data-stu-id="84888-157">Service Principal Id</span></span>
      * <span data-ttu-id="84888-158">Szolgáltatás egyszerű kulcs</span><span class="sxs-lookup"><span data-stu-id="84888-158">Service Principal Key</span></span>
      * <span data-ttu-id="84888-159">Bérlő azonosítója</span><span class="sxs-lookup"><span data-stu-id="84888-159">Tenant Id</span></span>
   6. <span data-ttu-id="84888-160">Olyan nevet az Ön által választott, hogy a **előfizetés** neve mező.</span><span class="sxs-lookup"><span data-stu-id="84888-160">Add a name of your choice to the **Subscription** name box.</span></span> <span data-ttu-id="84888-161">Ez az érték kövessék a a **Azure-előfizetés** legördülő listából válassza ki a Visual STUDIO Team Services.</span><span class="sxs-lookup"><span data-stu-id="84888-161">This value appears later in the **Azure Subscription** drop-down list in VS Team Services.</span></span> 
   7. <span data-ttu-id="84888-162">Ha nem ismeri az Azure-előfizetése Azonosítóját, használhatja a következő parancsok valamelyikét, ennek lekéréséhez.</span><span class="sxs-lookup"><span data-stu-id="84888-162">If you don’t know your Azure subscription ID, you can use one of the following commands to retrieve it.</span></span>
      
      <span data-ttu-id="84888-163">PowerShell-parancsfájlok használata:</span><span class="sxs-lookup"><span data-stu-id="84888-163">For PowerShell scripts, use:</span></span>
      
      `Get-AzureRmSubscription`
      
      <span data-ttu-id="84888-164">Azure CLI esetén használja az alábbi parancsot:</span><span class="sxs-lookup"><span data-stu-id="84888-164">For Azure CLI, use:</span></span>
      
      `azure account show`
   8. <span data-ttu-id="84888-165">Beolvasása a szolgáltatás egyszerű Azonosítót, a szolgáltatás egyszerű kulcs és a bérlő azonosítója, hajtsa végre az eljárást [létrehozása az Active Directory-alkalmazás és szolgáltatás egyszerű portálon](resource-group-create-service-principal-portal.md) vagy [hitelesítése egy egyszerű Azure-ral Erőforrás-kezelő](resource-group-authenticate-service-principal.md).</span><span class="sxs-lookup"><span data-stu-id="84888-165">To get a Service Principal ID, Service Principal Key, and Tenant ID, follow the procedure in [Create Active Directory application and service principal using portal](resource-group-create-service-principal-portal.md) or [Authenticating a service principal with Azure Resource Manager](resource-group-authenticate-service-principal.md).</span></span>
   9. <span data-ttu-id="84888-166">A szolgáltatás egyszerű azonosító, a szolgáltatás egyszerű kulcs és a bérlő azonosítója értékeket adja hozzá a **Azure-előfizetés hozzáadása** párbeszédpanel mezőbe, majd válassza ki a **OK** gombra.</span><span class="sxs-lookup"><span data-stu-id="84888-166">Add the Service Principal ID, Service Principal Key, and Tenant ID values to the **Add Azure Subscription** dialog box and then choose the **OK** button.</span></span>
      
      <span data-ttu-id="84888-167">Most már rendelkezik egy érvényes egyszerű az Azure PowerShell-parancsfájl futtatásához.</span><span class="sxs-lookup"><span data-stu-id="84888-167">You now have a valid Service Principal to use to run the Azure PowerShell script.</span></span>
5. <span data-ttu-id="84888-168">Szerkessze a build definíciót, majd válassza a **Azure PowerShell** összeállítása lépés.</span><span class="sxs-lookup"><span data-stu-id="84888-168">Edit the build definition and choose the **Azure PowerShell** build step.</span></span> <span data-ttu-id="84888-169">Válassza ki az előfizetést a **Azure-előfizetés** legördülő listában.</span><span class="sxs-lookup"><span data-stu-id="84888-169">Select the subscription in the **Azure Subscription** drop-down list box.</span></span> <span data-ttu-id="84888-170">(Ha az előfizetés nem jelenik meg, válassza ki azt a **frissítése** Tovább gombra a **kezelése** hivatkozást.)</span><span class="sxs-lookup"><span data-stu-id="84888-170">(If the subscription doesn't appear, choose the **Refresh** button next the **Manage** link.)</span></span> 
   
   ![Azure PowerShell összeállítási feladat konfigurálása][8]
6. <span data-ttu-id="84888-172">Adja meg a telepítés-AzureResourceGroup.ps1 PowerShell parancsfájl elérési útja.</span><span class="sxs-lookup"><span data-stu-id="84888-172">Provide a path to the Deploy-AzureResourceGroup.ps1 PowerShell script.</span></span> <span data-ttu-id="84888-173">Ehhez az szükséges, válassza a három ponttal (…) gombra a a **parancsfájl elérési útján** a telepítés-AzureResourceGroup.ps1 PowerShell parancsfájl navigáljon a **parancsfájlok** mappa a projekt, válassza ki azt, majd Válassza ki a **OK** gombra.</span><span class="sxs-lookup"><span data-stu-id="84888-173">To do this, choose the ellipsis (…) button next to the **Script Path** box, navigate to the Deploy-AzureResourceGroup.ps1 PowerShell script in the **Scripts** folder of your project, select it, and then choose the **OK** button.</span></span>    
   
   ![Válassza ki a parancsfájl elérési útját][9]
7. <span data-ttu-id="84888-175">Miután kiválasztotta a parancsfájlt, frissítse az elérési út a parancsfájlt úgy, hogy akkor fut a Build.StagingDirectory (ugyanabban a könyvtárban, amely *ArtifactsLocation* értékre van állítva).</span><span class="sxs-lookup"><span data-stu-id="84888-175">After you select the script, update the path to the script so that it’s run from the Build.StagingDirectory (the same directory that *ArtifactsLocation* is set to).</span></span> <span data-ttu-id="84888-176">Ehhez adja hozzá a "$(Build.StagingDirectory)/"az elején a parancsfájl elérési útját.</span><span class="sxs-lookup"><span data-stu-id="84888-176">You can do this by adding “$(Build.StagingDirectory)/” to the beginning of the script path.</span></span>
   
    ![Parancsfájl elérési útját szerkesztése][10]
8. <span data-ttu-id="84888-178">Az a **parancsfájl argumentumai** mezőbe írja be a következő paramétereket (egy sorban).</span><span class="sxs-lookup"><span data-stu-id="84888-178">In the **Script Arguments** box, enter the following parameters (in a single line).</span></span> <span data-ttu-id="84888-179">Amikor futtatja a parancsfájlt a Visual Studio, ellenőrizheti, hogyan VS használ a paramétereket a a **kimeneti** ablak.</span><span class="sxs-lookup"><span data-stu-id="84888-179">When you run the script in Visual Studio, you can see how VS uses the parameters in the **Output** window.</span></span> <span data-ttu-id="84888-180">Ezzel kiindulási pontként a paramétert értékek beállításakor a build lépésben.</span><span class="sxs-lookup"><span data-stu-id="84888-180">You can use this as a starting point for setting the parameter values in your build step.</span></span>
   
   | <span data-ttu-id="84888-181">Paraméter</span><span class="sxs-lookup"><span data-stu-id="84888-181">Parameter</span></span> | <span data-ttu-id="84888-182">Leírás</span><span class="sxs-lookup"><span data-stu-id="84888-182">Description</span></span> |
   | --- | --- |
   | <span data-ttu-id="84888-183">-ResourceGroupLocation</span><span class="sxs-lookup"><span data-stu-id="84888-183">-ResourceGroupLocation</span></span> |<span data-ttu-id="84888-184">A földrajzihely-értéket, ahol az erőforráscsoport megtalálható, például **eastus** vagy **"USA keleti régiója"**.</span><span class="sxs-lookup"><span data-stu-id="84888-184">The geo-location value where the resource group is located, such as **eastus** or **'East US'**.</span></span> <span data-ttu-id="84888-185">(Ha adja hozzá szimpla idézőjelben a névben szóköz található.) Lásd: [Azure-régiókat](https://azure.microsoft.com/en-us/regions/) további információt.</span><span class="sxs-lookup"><span data-stu-id="84888-185">(Add single quotes if there's a space in the name.) See [Azure Regions](https://azure.microsoft.com/en-us/regions/) for more information.</span></span> |
   | <span data-ttu-id="84888-186">-ResourceGroupName</span><span class="sxs-lookup"><span data-stu-id="84888-186">-ResourceGroupName</span></span> |<span data-ttu-id="84888-187">Az ehhez a központi telepítéshez használt erőforráscsoport neve.</span><span class="sxs-lookup"><span data-stu-id="84888-187">The name of the resource group used for this deployment.</span></span> |
   | <span data-ttu-id="84888-188">-UploadArtifacts</span><span class="sxs-lookup"><span data-stu-id="84888-188">-UploadArtifacts</span></span> |<span data-ttu-id="84888-189">Ezt a paramétert, ha létezik, azt jelenti, hogy a helyi rendszerről az Azure-bA feltölteni kívánt igénylő összetevőket.</span><span class="sxs-lookup"><span data-stu-id="84888-189">This parameter, when present, specifies that artifacts that need to be uploaded to Azure from the local system.</span></span> <span data-ttu-id="84888-190">Csak kell erre a kapcsolóra lesz beállítva, ha a sablon telepítéséhez szükséges további összetevők, amelyet szeretne tesztelése (például a parancsfájlokat vagy beágyazott sablonok) a PowerShell-parancsfájl használatával.</span><span class="sxs-lookup"><span data-stu-id="84888-190">You only need to set this switch if your template deployment requires extra artifacts that you want to stage using the PowerShell script (such as configuration scripts or nested templates).</span></span> |
   | <span data-ttu-id="84888-191">-StorageAccountName</span><span class="sxs-lookup"><span data-stu-id="84888-191">-StorageAccountName</span></span> |<span data-ttu-id="84888-192">A szakasz az összetevők ehhez a központi telepítéshez használt tárfiók neve.</span><span class="sxs-lookup"><span data-stu-id="84888-192">The name of the storage account used to stage artifacts for this deployment.</span></span> <span data-ttu-id="84888-193">Ezt a paramétert csak akkor használja, ha meg vannak átmeneti összetevőket a telepítéshez.</span><span class="sxs-lookup"><span data-stu-id="84888-193">This parameter is only used if you are staging artifacts for deployment.</span></span> <span data-ttu-id="84888-194">Ha meg van adva ez a paraméter, egy új tárfiókot jön létre, ha a parancsfájl nem létrehozva egy korábbi központi telepítés során.</span><span class="sxs-lookup"><span data-stu-id="84888-194">If this parameter is supplied, a new storage account is created if the script has not created one during a previous deployment.</span></span> <span data-ttu-id="84888-195">Ha a paraméter van megadva, a tárfiók már léteznie kell.</span><span class="sxs-lookup"><span data-stu-id="84888-195">If the parameter is specified, the storage account must already exist.</span></span> |
   | <span data-ttu-id="84888-196">-StorageAccountResourceGroupName</span><span class="sxs-lookup"><span data-stu-id="84888-196">-StorageAccountResourceGroupName</span></span> |<span data-ttu-id="84888-197">A storage-fiókjához tartozó erőforráscsoport neve.</span><span class="sxs-lookup"><span data-stu-id="84888-197">The name of the resource group associated with the storage account.</span></span> <span data-ttu-id="84888-198">Ez a paraméter megadása kötelező, csak akkor, ha megad egy értéket a StorageAccountName paraméter.</span><span class="sxs-lookup"><span data-stu-id="84888-198">This parameter is required only if you provide a value for the StorageAccountName parameter.</span></span> |
   | <span data-ttu-id="84888-199">-TemplateFile</span><span class="sxs-lookup"><span data-stu-id="84888-199">-TemplateFile</span></span> |<span data-ttu-id="84888-200">A fájl elérési útját a sablon a Azure-erőforráscsoport telepítésben található.</span><span class="sxs-lookup"><span data-stu-id="84888-200">The path to the template file in the Azure Resource Group deployment project.</span></span> <span data-ttu-id="84888-201">Nagyobb rugalmasság érdekében használjon ezt a paramétert, amely a PowerShell parancsfájl abszolút elérési út helyett helyéhez viszonyított elérési utat.</span><span class="sxs-lookup"><span data-stu-id="84888-201">To enhance flexibility, use a path for this parameter that is relative to the location of the PowerShell script instead of an absolute path.</span></span> |
   | <span data-ttu-id="84888-202">-TemplateParametersFile</span><span class="sxs-lookup"><span data-stu-id="84888-202">-TemplateParametersFile</span></span> |<span data-ttu-id="84888-203">A fájl elérési útját a paraméterek a Azure-erőforráscsoport telepítésben található.</span><span class="sxs-lookup"><span data-stu-id="84888-203">The path to the parameters file in the Azure Resource Group deployment project.</span></span> <span data-ttu-id="84888-204">Nagyobb rugalmasság érdekében használjon ezt a paramétert, amely a PowerShell parancsfájl abszolút elérési út helyett helyéhez viszonyított elérési utat.</span><span class="sxs-lookup"><span data-stu-id="84888-204">To enhance flexibility, use a path for this parameter that is relative to the location of the PowerShell script instead of an absolute path.</span></span> |
   | <span data-ttu-id="84888-205">-ArtifactStagingDirectory</span><span class="sxs-lookup"><span data-stu-id="84888-205">-ArtifactStagingDirectory</span></span> |<span data-ttu-id="84888-206">Ez a paraméter lehetővé teszi, hogy a parancsfájl a mappa tudja, hova lehet másolni a projekt bináris fájlok a PowerShell.</span><span class="sxs-lookup"><span data-stu-id="84888-206">This parameter lets the PowerShell script know the folder from where the project’s binary files should be copied.</span></span> <span data-ttu-id="84888-207">Ez az érték felülbírálja az alapértelmezett érték a PowerShell parancsfájlhoz használt.</span><span class="sxs-lookup"><span data-stu-id="84888-207">This value overrides the default value used by the PowerShell script.</span></span> <span data-ttu-id="84888-208">A Visual STUDIO Team Services használatához állítsa be az értéket: - ArtifactStagingDirectory $(Build.StagingDirectory)</span><span class="sxs-lookup"><span data-stu-id="84888-208">For VS Team Services use, set the value to: -ArtifactStagingDirectory $(Build.StagingDirectory)</span></span> |
   
   <span data-ttu-id="84888-209">Íme egy parancsfájl argumentumai példa (az olvashatóság hibás sor):</span><span class="sxs-lookup"><span data-stu-id="84888-209">Here’s a script arguments example (line broken for readability):</span></span>
   
   ```    
   -ResourceGroupName 'MyGroup' -ResourceGroupLocation 'eastus' -TemplateFile '..\templates\azuredeploy.json' 
   -TemplateParametersFile '..\templates\azuredeploy.parameters.json' -UploadArtifacts -StorageAccountName 'mystorageacct' 
   –StorageAccountResourceGroupName 'Default-Storage-EastUS' -ArtifactStagingDirectory '$(Build.StagingDirectory)'    
   ```
   
   <span data-ttu-id="84888-210">Amikor végzett, a **parancsfájl argumentumai** mezőben a következő lista kell hasonlítania:</span><span class="sxs-lookup"><span data-stu-id="84888-210">When you’re finished, the **Script Arguments** box should resemble the following list:</span></span>
   
   ![Parancsfájl argumentumai][11]
9. <span data-ttu-id="84888-212">Miután az Azure PowerShell összeállítása lépés való felvételét a szükséges elemeket, válassza ki azt a **várólista** Szerkesztés gomb billentyűkombinációt a projekt létrehozásához.</span><span class="sxs-lookup"><span data-stu-id="84888-212">After you’ve added all the required items to the Azure PowerShell build step, choose the **Queue** build button to build the project.</span></span> <span data-ttu-id="84888-213">A **Build** a képernyőn látható a PowerShell-parancsfájl kimenete.</span><span class="sxs-lookup"><span data-stu-id="84888-213">The **Build** screen shows the output from the PowerShell script.</span></span>

### <a name="detailed-walkthrough-for-option-2"></a><span data-ttu-id="84888-214">2. lehetőség részletes bemutató</span><span class="sxs-lookup"><span data-stu-id="84888-214">Detailed walkthrough for Option 2</span></span>
<span data-ttu-id="84888-215">Az alábbi eljárások végigvezetik a Visual STUDIO Team Services beépített feladatainak folyamatos telepítéséhez szükséges lépéseket.</span><span class="sxs-lookup"><span data-stu-id="84888-215">The following procedures walk you through the steps necessary to configure continuous deployment in VS Team Services using the built-in tasks.</span></span>

1. <span data-ttu-id="84888-216">Szerkesztés a Visual STUDIO Team Services build definíció két új build lépések hozzáadása.</span><span class="sxs-lookup"><span data-stu-id="84888-216">Edit your VS Team Services build definition to add two new build steps.</span></span> <span data-ttu-id="84888-217">Válassza ki a build definíciója szerint a **definíciók Build** kategória és válassza a **szerkesztése** hivatkozásra.</span><span class="sxs-lookup"><span data-stu-id="84888-217">Choose the build definition under the **Build definitions** category and then choose the **Edit** link.</span></span>
   
   ![Build attribútumdefiníciós szerkesztése][12]
2. <span data-ttu-id="84888-219">A build definition használatával adjon hozzá az új build lépéseket a **összeállítása lépés hozzáadása...**</span><span class="sxs-lookup"><span data-stu-id="84888-219">Add the new build steps to the build definition using the **Add build step…**</span></span> <span data-ttu-id="84888-220">gombra.</span><span class="sxs-lookup"><span data-stu-id="84888-220">button.</span></span>
   
   ![Build lépés hozzáadása][13]
3. <span data-ttu-id="84888-222">Válassza ki a **telepítés** Feladatkategória, jelölje be a **Azure fájl másolása** feladat, és válassza a **Hozzáadás** gombra.</span><span class="sxs-lookup"><span data-stu-id="84888-222">Choose the **Deploy** task category, select the **Azure File Copy** task, and then choose its **Add** button.</span></span>
   
   ![Azure-fájl másolása tevékenység hozzáadása][14]
4. <span data-ttu-id="84888-224">Válassza ki a **Azure erőforrás-csoport központi telepítésének** feladat, majd kattintson a **hozzáadása** gombra, majd **Bezárás** a **feladat katalógus**.</span><span class="sxs-lookup"><span data-stu-id="84888-224">Choose the **Azure Resource Group Deployment** task, then choose its **Add** button and then **Close** the **Task Catalog**.</span></span>
   
   ![Adja hozzá Azure-erőforráscsoport telepítési feladat][15]
5. <span data-ttu-id="84888-226">Válassza ki a **Azure fájlmásolással** feladatot, és adja meg az értékeket.</span><span class="sxs-lookup"><span data-stu-id="84888-226">Choose the **Azure File Copy** task and fill in its values.</span></span>
   
   <span data-ttu-id="84888-227">Ha már rendelkezik egy Azure-szolgáltatások végpontot hozzáadni a Visual STUDIO Team Services, válassza ki az előfizetést a **Azure-előfizetés** legördülő listában.</span><span class="sxs-lookup"><span data-stu-id="84888-227">If you already have an Azure service endpoint added to VS Team Services, choose the subscription in the **Azure Subscription** drop-down list box.</span></span> <span data-ttu-id="84888-228">Ha nem rendelkezik előfizetéssel, lásd: [1. lehetőség](#detailed-walkthrough-for-option-1) a Visual STUDIO Team Services egyik beállításával kapcsolatos utasításokat.</span><span class="sxs-lookup"><span data-stu-id="84888-228">If you do not have a subscription, see [Option 1](#detailed-walkthrough-for-option-1) for instructions on setting one up in VS Team Services.</span></span>
   
   * <span data-ttu-id="84888-229">A forrás - írja be **$(Build.StagingDirectory)**</span><span class="sxs-lookup"><span data-stu-id="84888-229">Source - enter **$(Build.StagingDirectory)**</span></span>
   * <span data-ttu-id="84888-230">Az Azure kapcsolattípus - válassza **Azure Resource Manager**</span><span class="sxs-lookup"><span data-stu-id="84888-230">Azure Connection Type - select **Azure Resource Manager**</span></span>
   * <span data-ttu-id="84888-231">Az Azure erőforrás-kezelő előfizetési - válassza ki a használni kívánt tárfiók az előfizetést a **Azure-előfizetés** legördülő listában.</span><span class="sxs-lookup"><span data-stu-id="84888-231">Azure RM Subscription - select the subscription for the storage account you want to use in the **Azure Subscription** drop-down list box.</span></span> <span data-ttu-id="84888-232">Ha az előfizetés nem jelenik meg, válassza ki azt a **frissítése** Tovább gombra a **kezelése** hivatkozásra.</span><span class="sxs-lookup"><span data-stu-id="84888-232">If the subscription doesn't appear, choose the **Refresh** button next the **Manage** link.</span></span>
   * <span data-ttu-id="84888-233">Cél típusának - válassza **Azure-Blobba**</span><span class="sxs-lookup"><span data-stu-id="84888-233">Destination Type - select **Azure Blob**</span></span>
   * <span data-ttu-id="84888-234">Erőforrás-kezelő Tárfiók – válassza ki a tárolási fiók, akkor az összetevők előkészítési használni szeretné</span><span class="sxs-lookup"><span data-stu-id="84888-234">RM Storage Account - select the storage account you would like to use for staging artifacts</span></span>
   * <span data-ttu-id="84888-235">Tároló neve – adja meg az átmeneti; használni szeretné a tároló neve az bármilyen érvényes tároló nevet, hanem egy másikkal pedig a build definícióját használata</span><span class="sxs-lookup"><span data-stu-id="84888-235">Container Name - enter the name of the container you would like to use for staging; it can be any valid container name, but use one dedicated to this build definition</span></span>
   
   <span data-ttu-id="84888-236">A kimeneti értékeket:</span><span class="sxs-lookup"><span data-stu-id="84888-236">For the output values:</span></span>
   
   * <span data-ttu-id="84888-237">Adja meg a tároló URI - **artifactsLocation**</span><span class="sxs-lookup"><span data-stu-id="84888-237">Storage Container URI - enter **artifactsLocation**</span></span>
   * <span data-ttu-id="84888-238">Tárolási tároló SAS-jogkivonat - meg **artifactsLocationSasToken**</span><span class="sxs-lookup"><span data-stu-id="84888-238">Storage Container SAS Token - enter **artifactsLocationSasToken**</span></span>
   
   ![Azure-fájl másolása tevékenység konfigurálása][16]
6. <span data-ttu-id="84888-240">Válassza ki a **Azure erőforrás-csoport központi telepítésének** összeállítása lépés, és töltse ki az értékeket.</span><span class="sxs-lookup"><span data-stu-id="84888-240">Choose the **Azure Resource Group Deployment** build step and then fill in its values.</span></span>
   
   * <span data-ttu-id="84888-241">Az Azure kapcsolattípus - válassza **Azure Resource Manager**</span><span class="sxs-lookup"><span data-stu-id="84888-241">Azure Connection Type - select **Azure Resource Manager**</span></span>
   * <span data-ttu-id="84888-242">Az Azure erőforrás-kezelő előfizetési - válassza ki az előfizetést a központi telepítést, a **Azure-előfizetés** legördülő listában.</span><span class="sxs-lookup"><span data-stu-id="84888-242">Azure RM Subscription - select the subscription for deployment in the **Azure Subscription** drop-down list box.</span></span> <span data-ttu-id="84888-243">Ez általában megegyezik az előző lépésben használt ugyanahhoz az előfizetéshez</span><span class="sxs-lookup"><span data-stu-id="84888-243">This will usually be the same subscription used in the previous step</span></span>
   * <span data-ttu-id="84888-244">Művelet – válassza **vagy frissítés erőforráscsoport létrehozása**</span><span class="sxs-lookup"><span data-stu-id="84888-244">Action - select **Create or Update Resource Group**</span></span>
   * <span data-ttu-id="84888-245">Erőforráscsoport - válasszon egy erőforráscsoportot, vagy adja meg a központi telepítés egy új erőforráscsoport nevét</span><span class="sxs-lookup"><span data-stu-id="84888-245">Resource Group - select a resource group or enter the name of a new resource group for the deployment</span></span>
   * <span data-ttu-id="84888-246">Hely - adja meg az erőforrásnak a helyét</span><span class="sxs-lookup"><span data-stu-id="84888-246">Location - select the location for the resource group</span></span>
   * <span data-ttu-id="84888-247">Sablon - adja meg az elérési útja és neve a sablon telepítendő fertőző **$(Build.StagingDirectory)**, például: **$(Build.StagingDirectory/DSC-CI/azuredeploy.json)**</span><span class="sxs-lookup"><span data-stu-id="84888-247">Template - enter the path and name of the template to be deployed prepending **$(Build.StagingDirectory)**, for example: **$(Build.StagingDirectory/DSC-CI/azuredeploy.json)**</span></span>
   * <span data-ttu-id="84888-248">Sablonparaméterek - adja meg az elérési útja és neve használandó, a paraméterek fertőző **$(Build.StagingDirectory)**, például: **$(Build.StagingDirectory/DSC-CI/azuredeploy.parameters.json)**</span><span class="sxs-lookup"><span data-stu-id="84888-248">Template Parameters - enter the path and name of the parameters to be used, prepending **$(Build.StagingDirectory)**, for example: **$(Build.StagingDirectory/DSC-CI/azuredeploy.parameters.json)**</span></span>
   * <span data-ttu-id="84888-249">Sablon paraméterének - adja meg vagy másolja és illessze be a következő kódot:</span><span class="sxs-lookup"><span data-stu-id="84888-249">Override Template Parameters - enter or copy and paste the following code:</span></span>
     
     ```    
     -_artifactsLocation $(artifactsLocation) -_artifactsLocationSasToken (ConvertTo-SecureString -String "$(artifactsLocationSasToken)" -AsPlainText -Force)
     ```
     ![Azure erőforráscsoport-telepítési feladat konfigurálása][17]
7. <span data-ttu-id="84888-251">A szükséges elemeket hozzáadása után a build definition mentés, és válassza **új build várólistára** tetején.</span><span class="sxs-lookup"><span data-stu-id="84888-251">After you’ve added all the required items, save the build definition and choose **Queue new build** at the top.</span></span>

## <a name="next-steps"></a><span data-ttu-id="84888-252">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="84888-252">Next steps</span></span>
<span data-ttu-id="84888-253">Olvasási [Azure Resource Manager áttekintése](azure-resource-manager/resource-group-overview.md) további információt az Azure Resource Manager és az Azure erőforráscsoport-sablonok.</span><span class="sxs-lookup"><span data-stu-id="84888-253">Read [Azure Resource Manager overview](azure-resource-manager/resource-group-overview.md) to learn more about Azure Resource Manager and Azure resource groups.</span></span>

[0]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough1.png
[1]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough2.png
[2]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough3.png
[3]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough4.png
[4]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough5.png
[5]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough6.png
[8]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough9.png
[9]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough10.png
[10]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough11b.png
[11]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough12.png
[12]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough13.png
[13]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough14.png
[14]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough15.png
[15]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough16.png
[16]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough17.png
[17]: ./media/vs-azure-tools-resource-groups-ci-in-vsts/walkthrough18.png
