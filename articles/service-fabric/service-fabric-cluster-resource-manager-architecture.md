---
title: "aaaResource Manager architektúra |} Microsoft Docs"
description: "Az architektúra áttekintése a Service Fabric fürt Resource Manager."
services: service-fabric
documentationcenter: .net
author: masnider
manager: timlt
editor: 
ms.assetid: 6c4421f9-834b-450c-939f-1cb4ff456b9b
ms.service: Service-Fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 08/18/2017
ms.author: masnider
ms.openlocfilehash: 9ea80273d0566a2ac25143ada3662875656b57b8
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="cluster-resource-manager-architecture-overview"></a><span data-ttu-id="a08a7-103">Fürt resource manager architektúrájának áttekintése</span><span class="sxs-lookup"><span data-stu-id="a08a7-103">Cluster resource manager architecture overview</span></span>
<span data-ttu-id="a08a7-104">Service Fabric fürt erőforrás-kezelő hello központi szolgáltatás, amely az hello fürt.</span><span class="sxs-lookup"><span data-stu-id="a08a7-104">hello Service Fabric Cluster Resource Manager is a central service that runs in hello cluster.</span></span> <span data-ttu-id="a08a7-105">Hello szolgáltatásainak hello fürtben, különösen a tekintetben tooresource használati és elhelyezési szabályokat szükséges hello állapotát kezeli.</span><span class="sxs-lookup"><span data-stu-id="a08a7-105">It manages hello desired state of hello services in hello cluster, particularly with respect tooresource consumption and any placement rules.</span></span> 

<span data-ttu-id="a08a7-106">toomanage hello erőforrások a fürt, a Service Fabric fürt erőforrás-kezelő hello több adatra kell rendelkeznie:</span><span class="sxs-lookup"><span data-stu-id="a08a7-106">toomanage hello resources in your cluster, hello Service Fabric Cluster Resource Manager must have several pieces of information:</span></span>

- <span data-ttu-id="a08a7-107">Mely szolgáltatások jelenleg található.</span><span class="sxs-lookup"><span data-stu-id="a08a7-107">Which services currently exist</span></span>
- <span data-ttu-id="a08a7-108">Minden szolgáltatás aktuális (vagy alapértelmezett) erőforrás-felhasználás</span><span class="sxs-lookup"><span data-stu-id="a08a7-108">Each service's current (or default) resource consumption</span></span> 
- <span data-ttu-id="a08a7-109">hello fennmaradó fürt kapacitás</span><span class="sxs-lookup"><span data-stu-id="a08a7-109">hello remaining cluster capacity</span></span> 
- <span data-ttu-id="a08a7-110">hello fürtben található csomópontok hello hello kapacitás</span><span class="sxs-lookup"><span data-stu-id="a08a7-110">hello capacity of hello nodes in hello cluster</span></span> 
- <span data-ttu-id="a08a7-111">minden egyes csomóponton felhasznált erőforrások hello mennyisége</span><span class="sxs-lookup"><span data-stu-id="a08a7-111">hello amount of resources consumed on each node</span></span>

<span data-ttu-id="a08a7-112">hello hálózatierőforrás-fogyasztás adott szolgáltatás idővel megváltozhat, és a szolgáltatások általában érdeklik egynél több erőforrás típusát.</span><span class="sxs-lookup"><span data-stu-id="a08a7-112">hello resource consumption of a given service can change over time, and services usually care about more than one type of resource.</span></span> <span data-ttu-id="a08a7-113">Különböző szolgáltatásban valószínűleg mért tényleges fizikai mind a fizikai erőforrásokat.</span><span class="sxs-lookup"><span data-stu-id="a08a7-113">Across different services, there may be both real physical and physical resources being measured.</span></span> <span data-ttu-id="a08a7-114">Szolgáltatások például lemez- és memória-felhasználás fizikai metrikák követheti nyomon.</span><span class="sxs-lookup"><span data-stu-id="a08a7-114">Services may track physical metrics like memory and disk consumption.</span></span> <span data-ttu-id="a08a7-115">Szolgáltatások gyakrabban, logikai metrikák – többek között a "WorkQueueDepth" vagy "TotalRequests" lehet, hogy érdeklik.</span><span class="sxs-lookup"><span data-stu-id="a08a7-115">More commonly, services may care about logical metrics - things like "WorkQueueDepth" or "TotalRequests".</span></span> <span data-ttu-id="a08a7-116">Logikai és fizikai metrikák hello használható ugyanabban a fürtben.</span><span class="sxs-lookup"><span data-stu-id="a08a7-116">Both logical and physical metrics can be used in hello same cluster.</span></span> <span data-ttu-id="a08a7-117">Metrikák számos szolgáltatás között megoszthatók vagy adott tooa adott szolgáltatáshoz.</span><span class="sxs-lookup"><span data-stu-id="a08a7-117">Metrics can be shared across many services or be specific tooa particular service.</span></span>

## <a name="other-considerations"></a><span data-ttu-id="a08a7-118">Egyéb szempontok</span><span class="sxs-lookup"><span data-stu-id="a08a7-118">Other considerations</span></span>
<span data-ttu-id="a08a7-119">hello tulajdonosok és hello fürt operátorok különbözhet szolgáltatások és alkalmazások szerzők hello, vagy a minimális vannak egy hello azonos különböző kalap elhasználódó személyek.</span><span class="sxs-lookup"><span data-stu-id="a08a7-119">hello owners and operators of hello cluster can be different from hello service and application authors, or at a minimum are hello same people wearing different hats.</span></span> <span data-ttu-id="a08a7-120">Amikor az alkalmazás fejlesztése ismernie néhány dolgot kapcsolatos akkor van szükség.</span><span class="sxs-lookup"><span data-stu-id="a08a7-120">When you develop your application you know a few things about what it requires.</span></span> <span data-ttu-id="a08a7-121">Becsült rendelkezik a hello fog felhasználni erőforrásokat és különböző szolgáltatásokat kell telepíteni.</span><span class="sxs-lookup"><span data-stu-id="a08a7-121">You have an estimate of hello resources it will consume and how different services should be deployed.</span></span> <span data-ttu-id="a08a7-122">Hello webes réteg például kell a közzétett csomópontok toohello Internet, a toorun a hello adatbázis szolgáltatások nem kell.</span><span class="sxs-lookup"><span data-stu-id="a08a7-122">For example, hello web tier needs toorun on nodes exposed toohello Internet, while hello database services should not.</span></span> <span data-ttu-id="a08a7-123">Másik példaként hello webszolgáltatások vannak valószínűleg által korlátozott Processzor- és hálózati hello adatok réteg szolgáltatások gondot bővebben memóriát és lemezterületet használat során.</span><span class="sxs-lookup"><span data-stu-id="a08a7-123">As another example, hello web services are probably constrained by CPU and network, while hello data tier services care more about memory and disk consumption.</span></span> <span data-ttu-id="a08a7-124">Hello személy kezelési frissítési toohello szolgáltatásnak kezel, vagy a live hely, amelyhez az adott szolgáltatás éles környezetben azonban egy másik feladat toodo rendelkezik, és különböző eszközök.</span><span class="sxs-lookup"><span data-stu-id="a08a7-124">However, hello person handling a live-site incident for that service in production, or who is managing an upgrade toohello service has a different job toodo, and requires different tools.</span></span> 

<span data-ttu-id="a08a7-125">Hello fürt és a szolgáltatások a következők dinamikus:</span><span class="sxs-lookup"><span data-stu-id="a08a7-125">Both hello cluster and services are dynamic:</span></span>

- <span data-ttu-id="a08a7-126">hello fürtben található csomópontok számának hello növelhető vagy csökkenthető</span><span class="sxs-lookup"><span data-stu-id="a08a7-126">hello number of nodes in hello cluster can grow and shrink</span></span>
- <span data-ttu-id="a08a7-127">Különböző méretű és csomópontok származnak, és nyissa meg</span><span class="sxs-lookup"><span data-stu-id="a08a7-127">Nodes of different sizes and types can come and go</span></span>
- <span data-ttu-id="a08a7-128">Szolgáltatások is létrehozható, eltávolítva, és módosítsa a kívánt erőforrás-hozzárendelések és elhelyezési szabályokat</span><span class="sxs-lookup"><span data-stu-id="a08a7-128">Services can be created, removed, and change their desired resource allocations and placement rules</span></span>
- <span data-ttu-id="a08a7-129">Frissítések vagy az egyéb felügyeleti műveleteket lehet vonni keresztül hello alkalmazás hello fürthöz infrastruktúra szinten</span><span class="sxs-lookup"><span data-stu-id="a08a7-129">Upgrades or other management operations can roll through hello cluster at hello application on infrastructure levels</span></span>
- <span data-ttu-id="a08a7-130">Hiba fordulhat elő, tetszőleges időpontban.</span><span class="sxs-lookup"><span data-stu-id="a08a7-130">Failures can happen at any time.</span></span>

## <a name="cluster-resource-manager-components-and-data-flow"></a><span data-ttu-id="a08a7-131">Fürt resource manager összetevőit és adatfolyama</span><span class="sxs-lookup"><span data-stu-id="a08a7-131">Cluster resource manager components and data flow</span></span>
<span data-ttu-id="a08a7-132">hello fürt erőforrás-kezelő követelményei tootrack hello minden egyes szolgáltatást és hello fogyasztás az erőforrások ezek a szolgáltatások belül minden szolgáltatás objektum.</span><span class="sxs-lookup"><span data-stu-id="a08a7-132">hello Cluster Resource Manager has tootrack hello requirements of each service and hello consumption of resources by each service object within those services.</span></span> <span data-ttu-id="a08a7-133">hello fürt erőforrás-kezelő két részből áll fogalmi: minden csomópont- és hibatűrő szolgáltatásként futó ügynököket.</span><span class="sxs-lookup"><span data-stu-id="a08a7-133">hello Cluster Resource Manager has two conceptual parts: agents that run on each node and a fault-tolerant service.</span></span> <span data-ttu-id="a08a7-134">csomópont követése tartozó ügynökök hello összesített szolgáltatások jelentéseinek őket, és rendszeresen jelenti.</span><span class="sxs-lookup"><span data-stu-id="a08a7-134">hello agents on each node track load reports from services, aggregate them, and periodically report them.</span></span> <span data-ttu-id="a08a7-135">hello fürt erőforrás-kezelő szolgáltatás hello helyi ügynököktől származó összes hello információk összesíti és reagál aktuális konfigurációja alapján.</span><span class="sxs-lookup"><span data-stu-id="a08a7-135">hello Cluster Resource Manager service aggregates all hello information from hello local agents and reacts based on its current configuration.</span></span>

<span data-ttu-id="a08a7-136">A következő diagram hello vizsgáljuk meg:</span><span class="sxs-lookup"><span data-stu-id="a08a7-136">Let’s look at hello following diagram:</span></span>

<span data-ttu-id="a08a7-137"><center>
![Erőforrás terheléselosztó architektúrája][Image1]
</center></span><span class="sxs-lookup"><span data-stu-id="a08a7-137"><center>
![Resource Balancer Architecture][Image1]
</center></span></span>

<span data-ttu-id="a08a7-138">Futásidőben, sok módosítások vannak, amely akkor fordulhat elő.</span><span class="sxs-lookup"><span data-stu-id="a08a7-138">During runtime, there are many changes that could happen.</span></span> <span data-ttu-id="a08a7-139">Például tételezzük fel hello összeg erőforrások egyes szolgáltatások használnak a módosításokat, bizonyos szolgáltatások sikertelen, és egyes csomópontok csatlakoztatja, és hello fürtöt hagyja.</span><span class="sxs-lookup"><span data-stu-id="a08a7-139">For example, let’s say hello amount of resources some services consume changes, some services fail, and some nodes join and leave hello cluster.</span></span> <span data-ttu-id="a08a7-140">Összesített értéket, rendszeres időközönként küldött toohello fürt erőforrás-kezelő szolgáltatással (1,2) ahol ezek újra összesítve, elemzése, és tárolja a csomóponton található összes hello módosításokat.</span><span class="sxs-lookup"><span data-stu-id="a08a7-140">All hello changes on a node are aggregated and periodically sent toohello Cluster Resource Manager service (1,2) where they are aggregated again, analyzed, and stored.</span></span> <span data-ttu-id="a08a7-141">Minden néhány másodpercben, amely a szolgáltatás ellenőrzi, hogy az hello módosításokat, és határozza meg, ha szükség-e azokat a műveleteket (3).</span><span class="sxs-lookup"><span data-stu-id="a08a7-141">Every few seconds that service looks at hello changes and determines if any actions are necessary (3).</span></span> <span data-ttu-id="a08a7-142">Például azt sikerült figyelje meg, hogy néhány üres csomópontok vannak adva toohello fürt.</span><span class="sxs-lookup"><span data-stu-id="a08a7-142">For example, it could notice that some empty nodes have been added toohello cluster.</span></span> <span data-ttu-id="a08a7-143">Emiatt úgy dönt, toomove egyes szolgáltatások toothose csomópontok.</span><span class="sxs-lookup"><span data-stu-id="a08a7-143">As a result, it decides toomove some services toothose nodes.</span></span> <span data-ttu-id="a08a7-144">hello fürt erőforrás-kezelő sikerült is vegye figyelembe, hogy egy adott csomópont túl van terhelve, vagy az, hogy egyes szolgáltatások nem sikerült-e vagy törölve lett, szabadítson fel más erőforrásokat.</span><span class="sxs-lookup"><span data-stu-id="a08a7-144">hello Cluster Resource Manager could also notice that a particular node is overloaded, or that certain services have failed or been deleted, freeing up resources elsewhere.</span></span>

<span data-ttu-id="a08a7-145">Most nézze meg a következő diagram hello, és tekintse meg, mi a következő lépés.</span><span class="sxs-lookup"><span data-stu-id="a08a7-145">Let’s look at hello following diagram and see what happens next.</span></span> <span data-ttu-id="a08a7-146">Most mondja ki, hogy hello fürt erőforrás-kezelő azt határozza meg, hogy módosításokra szükség.</span><span class="sxs-lookup"><span data-stu-id="a08a7-146">Let’s say that hello Cluster Resource Manager determines that changes are necessary.</span></span> <span data-ttu-id="a08a7-147">Az koordinálja az egyéb system (az adott hello Feladatátvevőfürt-kezelő) szolgáltatások toomake hello szükséges változtatásokat.</span><span class="sxs-lookup"><span data-stu-id="a08a7-147">It coordinates with other system services (in particular hello Failover Manager) toomake hello necessary changes.</span></span> <span data-ttu-id="a08a7-148">Majd hello szükséges parancsokat küldése toohello megfelelő csomópontok (4).</span><span class="sxs-lookup"><span data-stu-id="a08a7-148">Then hello necessary commands are sent toohello appropriate nodes (4).</span></span> <span data-ttu-id="a08a7-149">Például tételezzük fel hello erőforrás-kezelő első fellépése Csomópont5 volt terhelve, és ezért úgy döntött, Csomópont5 tooNode4 B toomove szolgáltatást.</span><span class="sxs-lookup"><span data-stu-id="a08a7-149">For example, let's say hello Resource Manager noticed that Node5 was overloaded, and so decided toomove service B from Node5 tooNode4.</span></span> <span data-ttu-id="a08a7-150">Hello újrakonfigurálás (5) a hello végén hello fürt néz ki:</span><span class="sxs-lookup"><span data-stu-id="a08a7-150">At hello end of hello reconfiguration (5), hello cluster looks like this:</span></span>

<span data-ttu-id="a08a7-151"><center>
![Erőforrás terheléselosztó architektúrája][Image2]
</center></span><span class="sxs-lookup"><span data-stu-id="a08a7-151"><center>
![Resource Balancer Architecture][Image2]
</center></span></span>

## <a name="next-steps"></a><span data-ttu-id="a08a7-152">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="a08a7-152">Next steps</span></span>
- <span data-ttu-id="a08a7-153">hello fürt erőforrás-kezelő számos lehetőséget leíró hello fürt rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="a08a7-153">hello Cluster Resource Manager has many options for describing hello cluster.</span></span> <span data-ttu-id="a08a7-154">toofind további információk a őket, tekintse meg a cikk a [leíró a Service Fabric-fürt](./service-fabric-cluster-resource-manager-cluster-description.md)</span><span class="sxs-lookup"><span data-stu-id="a08a7-154">toofind out more about them, check out this article on [describing a Service Fabric cluster](./service-fabric-cluster-resource-manager-cluster-description.md)</span></span>
- <span data-ttu-id="a08a7-155">hello fürt erőforrás-kezelő elsődleges feladatokat hello fürt kiegyenlítését és elhelyezési szabályokat kényszerítése.</span><span class="sxs-lookup"><span data-stu-id="a08a7-155">hello Cluster Resource Manager's primary duties are rebalancing hello cluster and enforcing placement rules.</span></span> <span data-ttu-id="a08a7-156">Ezek közül a viselkedésmódok konfigurálásával kapcsolatos további információkért lásd: [terheléselosztási a Service Fabric-fürt](./service-fabric-cluster-resource-manager-balancing.md)</span><span class="sxs-lookup"><span data-stu-id="a08a7-156">For more information on configuring these behaviors, see [balancing your Service Fabric cluster](./service-fabric-cluster-resource-manager-balancing.md)</span></span>

[Image1]:./media/service-fabric-cluster-resource-manager-architecture/Service-Fabric-Resource-Manager-Architecture-Activity-1.png
[Image2]:./media/service-fabric-cluster-resource-manager-architecture/Service-Fabric-Resource-Manager-Architecture-Activity-2.png
