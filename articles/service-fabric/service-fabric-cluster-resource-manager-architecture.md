---
title: "Erőforrás-kezelő architektúra |} Microsoft Docs"
description: "Az architektúra áttekintése a Service Fabric fürt Resource Manager."
services: service-fabric
documentationcenter: .net
author: masnider
manager: timlt
editor: 
ms.assetid: 6c4421f9-834b-450c-939f-1cb4ff456b9b
ms.service: Service-Fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 08/18/2017
ms.author: masnider
ms.openlocfilehash: 565c20637fa93ed92bb6c52e585a4b70bdeb6f8c
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 08/18/2017
---
# <a name="cluster-resource-manager-architecture-overview"></a><span data-ttu-id="9aa1c-103">Fürt resource manager architektúrájának áttekintése</span><span class="sxs-lookup"><span data-stu-id="9aa1c-103">Cluster resource manager architecture overview</span></span>
<span data-ttu-id="9aa1c-104">A Service Fabric fürt erőforrás-kezelő központi szolgáltatás, amely a fürt.</span><span class="sxs-lookup"><span data-stu-id="9aa1c-104">The Service Fabric Cluster Resource Manager is a central service that runs in the cluster.</span></span> <span data-ttu-id="9aa1c-105">Kezeli a kívánt azon szolgáltatások állapotát, a fürtben, különös tekintettel az erőforrás-felhasználás és elhelyezési szabályokat.</span><span class="sxs-lookup"><span data-stu-id="9aa1c-105">It manages the desired state of the services in the cluster, particularly with respect to resource consumption and any placement rules.</span></span> 

<span data-ttu-id="9aa1c-106">Az erőforrások a fürt felügyeletéhez, a Service Fabric fürt erőforrás-kezelő több adatra kell rendelkeznie:</span><span class="sxs-lookup"><span data-stu-id="9aa1c-106">To manage the resources in your cluster, the Service Fabric Cluster Resource Manager must have several pieces of information:</span></span>

- <span data-ttu-id="9aa1c-107">Mely szolgáltatások jelenleg található.</span><span class="sxs-lookup"><span data-stu-id="9aa1c-107">Which services currently exist</span></span>
- <span data-ttu-id="9aa1c-108">Minden szolgáltatás aktuális (vagy alapértelmezett) erőforrás-felhasználás</span><span class="sxs-lookup"><span data-stu-id="9aa1c-108">Each service's current (or default) resource consumption</span></span> 
- <span data-ttu-id="9aa1c-109">Fürt kapacitása</span><span class="sxs-lookup"><span data-stu-id="9aa1c-109">The remaining cluster capacity</span></span> 
- <span data-ttu-id="9aa1c-110">A fürt a csomópontok kapacitása</span><span class="sxs-lookup"><span data-stu-id="9aa1c-110">The capacity of the nodes in the cluster</span></span> 
- <span data-ttu-id="9aa1c-111">Minden egyes csomóponton használt erőforrások mennyisége</span><span class="sxs-lookup"><span data-stu-id="9aa1c-111">The amount of resources consumed on each node</span></span>

<span data-ttu-id="9aa1c-112">Az erőforrás-felhasználás adott szolgáltatás idővel megváltozhat, és a szolgáltatások általában érdeklik egynél több erőforrás típusát.</span><span class="sxs-lookup"><span data-stu-id="9aa1c-112">The resource consumption of a given service can change over time, and services usually care about more than one type of resource.</span></span> <span data-ttu-id="9aa1c-113">Különböző szolgáltatásban valószínűleg mért tényleges fizikai mind a fizikai erőforrásokat.</span><span class="sxs-lookup"><span data-stu-id="9aa1c-113">Across different services, there may be both real physical and physical resources being measured.</span></span> <span data-ttu-id="9aa1c-114">Szolgáltatások például lemez- és memória-felhasználás fizikai metrikák követheti nyomon.</span><span class="sxs-lookup"><span data-stu-id="9aa1c-114">Services may track physical metrics like memory and disk consumption.</span></span> <span data-ttu-id="9aa1c-115">Szolgáltatások gyakrabban, logikai metrikák – többek között a "WorkQueueDepth" vagy "TotalRequests" lehet, hogy érdeklik.</span><span class="sxs-lookup"><span data-stu-id="9aa1c-115">More commonly, services may care about logical metrics - things like "WorkQueueDepth" or "TotalRequests".</span></span> <span data-ttu-id="9aa1c-116">Logikai és fizikai metrikák ugyanazon fürt használható.</span><span class="sxs-lookup"><span data-stu-id="9aa1c-116">Both logical and physical metrics can be used in the same cluster.</span></span> <span data-ttu-id="9aa1c-117">Metrikák meg lehet osztani számos szolgáltatás összes vagy egy adott szolgáltatással.</span><span class="sxs-lookup"><span data-stu-id="9aa1c-117">Metrics can be shared across many services or be specific to a particular service.</span></span>

## <a name="other-considerations"></a><span data-ttu-id="9aa1c-118">Egyéb szempontok</span><span class="sxs-lookup"><span data-stu-id="9aa1c-118">Other considerations</span></span>
<span data-ttu-id="9aa1c-119">A tulajdonosok és a fürt operátorok különbözhet a szolgáltatások és alkalmazások szerzők, vagy legalább a azonos személyek elhasználódó különböző kalap.</span><span class="sxs-lookup"><span data-stu-id="9aa1c-119">The owners and operators of the cluster can be different from the service and application authors, or at a minimum are the same people wearing different hats.</span></span> <span data-ttu-id="9aa1c-120">Amikor az alkalmazás fejlesztése ismernie néhány dolgot kapcsolatos akkor van szükség.</span><span class="sxs-lookup"><span data-stu-id="9aa1c-120">When you develop your application you know a few things about what it requires.</span></span> <span data-ttu-id="9aa1c-121">Az erőforrások fog felhasználni becsült rendelkezik, és hogyan kell telepíteni, különböző szolgáltatások.</span><span class="sxs-lookup"><span data-stu-id="9aa1c-121">You have an estimate of the resources it will consume and how different services should be deployed.</span></span> <span data-ttu-id="9aa1c-122">Például a webes réteg kell csomópontok kommunikál az internettel, amíg az adatbázis-szolgáltatásokat nem kell futnia.</span><span class="sxs-lookup"><span data-stu-id="9aa1c-122">For example, the web tier needs to run on nodes exposed to the Internet, while the database services should not.</span></span> <span data-ttu-id="9aa1c-123">Másik példaként a web services rendszer valószínűleg által korlátozott Processzor- és hálózati, miközben az adatok réteg szolgáltatások gondot memóriát és lemezterületet fogyasztás kapcsolatos további információkért.</span><span class="sxs-lookup"><span data-stu-id="9aa1c-123">As another example, the web services are probably constrained by CPU and network, while the data tier services care more about memory and disk consumption.</span></span> <span data-ttu-id="9aa1c-124">Azonban a live-hely, amelyhez a termelésre vagy a szolgáltatás frissítése kezel szolgáltatás kezelése személy rendelkezik-e egy másik feladat elvégzéséhez, és más eszközök.</span><span class="sxs-lookup"><span data-stu-id="9aa1c-124">However, the person handling a live-site incident for that service in production, or who is managing an upgrade to the service has a different job to do, and requires different tools.</span></span> 

<span data-ttu-id="9aa1c-125">A fürt és a szolgáltatások a következők dinamikus:</span><span class="sxs-lookup"><span data-stu-id="9aa1c-125">Both the cluster and services are dynamic:</span></span>

- <span data-ttu-id="9aa1c-126">A fürtben lévő csomópontok száma növelhető vagy csökkenthető</span><span class="sxs-lookup"><span data-stu-id="9aa1c-126">The number of nodes in the cluster can grow and shrink</span></span>
- <span data-ttu-id="9aa1c-127">Különböző méretű és csomópontok származnak, és nyissa meg</span><span class="sxs-lookup"><span data-stu-id="9aa1c-127">Nodes of different sizes and types can come and go</span></span>
- <span data-ttu-id="9aa1c-128">Szolgáltatások is létrehozható, eltávolítva, és módosítsa a kívánt erőforrás-hozzárendelések és elhelyezési szabályokat</span><span class="sxs-lookup"><span data-stu-id="9aa1c-128">Services can be created, removed, and change their desired resource allocations and placement rules</span></span>
- <span data-ttu-id="9aa1c-129">Frissítések vagy az egyéb felügyeleti műveleteket lehet vonni az alkalmazás a fürthöz keresztül infrastruktúra szinten</span><span class="sxs-lookup"><span data-stu-id="9aa1c-129">Upgrades or other management operations can roll through the cluster at the application on infrastructure levels</span></span>
- <span data-ttu-id="9aa1c-130">Hiba fordulhat elő, tetszőleges időpontban.</span><span class="sxs-lookup"><span data-stu-id="9aa1c-130">Failures can happen at any time.</span></span>

## <a name="cluster-resource-manager-components-and-data-flow"></a><span data-ttu-id="9aa1c-131">Fürt resource manager összetevőit és adatfolyama</span><span class="sxs-lookup"><span data-stu-id="9aa1c-131">Cluster resource manager components and data flow</span></span>
<span data-ttu-id="9aa1c-132">A fürt erőforrás-kezelő egyes szolgáltatások követelményei és az erőforrások felhasználása nyomon ezekbe a szolgáltatásokba minden szolgáltatás objektummal rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="9aa1c-132">The Cluster Resource Manager has to track the requirements of each service and the consumption of resources by each service object within those services.</span></span> <span data-ttu-id="9aa1c-133">A fürt erőforrás-kezelő két részből áll fogalmi: minden csomópont- és hibatűrő szolgáltatásként futó ügynököket.</span><span class="sxs-lookup"><span data-stu-id="9aa1c-133">The Cluster Resource Manager has two conceptual parts: agents that run on each node and a fault-tolerant service.</span></span> <span data-ttu-id="9aa1c-134">Az ügynököt a csomópontra követése tartozó szolgáltatásokat, összesített jelentéseinek őket, és rendszeresen jelenti.</span><span class="sxs-lookup"><span data-stu-id="9aa1c-134">The agents on each node track load reports from services, aggregate them, and periodically report them.</span></span> <span data-ttu-id="9aa1c-135">A fürt erőforrás-kezelő szolgáltatás a helyi ügynökök és a jelenlegi konfiguráció alapján reagál lévő adatok összesíti.</span><span class="sxs-lookup"><span data-stu-id="9aa1c-135">The Cluster Resource Manager service aggregates all the information from the local agents and reacts based on its current configuration.</span></span>

<span data-ttu-id="9aa1c-136">A következő ábra vizsgáljuk meg:</span><span class="sxs-lookup"><span data-stu-id="9aa1c-136">Let’s look at the following diagram:</span></span>

<span data-ttu-id="9aa1c-137"><center>
![Erőforrás terheléselosztó architektúrája][Image1]
</center></span><span class="sxs-lookup"><span data-stu-id="9aa1c-137"><center>
![Resource Balancer Architecture][Image1]
</center></span></span>

<span data-ttu-id="9aa1c-138">Futásidőben, sok módosítások vannak, amely akkor fordulhat elő.</span><span class="sxs-lookup"><span data-stu-id="9aa1c-138">During runtime, there are many changes that could happen.</span></span> <span data-ttu-id="9aa1c-139">Például most mondja ki az egyes szolgáltatások felhasználásához erőforrások mennyisége változik, bizonyos szolgáltatások sikertelen lesz, és egyes csomópontok csatlakozásról és annak megszüntetéséről a fürt.</span><span class="sxs-lookup"><span data-stu-id="9aa1c-139">For example, let’s say the amount of resources some services consume changes, some services fail, and some nodes join and leave the cluster.</span></span> <span data-ttu-id="9aa1c-140">A csomópont a módosítások összesített értéket, és rendszeres időközönként a fürt erőforrás-kezelő szolgáltatásnak küldött (1,2) ahol ezek újra összesítve, elemzése, és tárolja.</span><span class="sxs-lookup"><span data-stu-id="9aa1c-140">All the changes on a node are aggregated and periodically sent to the Cluster Resource Manager service (1,2) where they are aggregated again, analyzed, and stored.</span></span> <span data-ttu-id="9aa1c-141">Minden néhány másodpercben, amely a szolgáltatás ellenőrzi, hogy a módosításokat, és határozza meg, ha szükség-e azokat a műveleteket (3).</span><span class="sxs-lookup"><span data-stu-id="9aa1c-141">Every few seconds that service looks at the changes and determines if any actions are necessary (3).</span></span> <span data-ttu-id="9aa1c-142">Például azt sikerült figyelje meg, hogy néhány üres csomópontokat a fürthöz hozzáadott.</span><span class="sxs-lookup"><span data-stu-id="9aa1c-142">For example, it could notice that some empty nodes have been added to the cluster.</span></span> <span data-ttu-id="9aa1c-143">Ennek eredményeképpen dönt, hogy az egyes szolgáltatások áthelyezése azokat a csomópontokat.</span><span class="sxs-lookup"><span data-stu-id="9aa1c-143">As a result, it decides to move some services to those nodes.</span></span> <span data-ttu-id="9aa1c-144">A fürt erőforrás-kezelő sikerült is vegye figyelembe, hogy egy adott csomópont túl van terhelve, vagy az, hogy egyes szolgáltatások nem sikerült-e vagy törölve lett, szabadítson fel más erőforrásokat.</span><span class="sxs-lookup"><span data-stu-id="9aa1c-144">The Cluster Resource Manager could also notice that a particular node is overloaded, or that certain services have failed or been deleted, freeing up resources elsewhere.</span></span>

<span data-ttu-id="9aa1c-145">Most nézze meg az alábbi ábrán, és tekintse meg, mi a következő lépés.</span><span class="sxs-lookup"><span data-stu-id="9aa1c-145">Let’s look at the following diagram and see what happens next.</span></span> <span data-ttu-id="9aa1c-146">Tegyük fel, hogy a fürt erőforrás-kezelő határozza meg, hogy módosításokra szükség.</span><span class="sxs-lookup"><span data-stu-id="9aa1c-146">Let’s say that the Cluster Resource Manager determines that changes are necessary.</span></span> <span data-ttu-id="9aa1c-147">Az koordinálja más rendszer szolgáltatásokkal (különösen a Feladatátvevőfürt-kezelő), a szükséges módosításokat.</span><span class="sxs-lookup"><span data-stu-id="9aa1c-147">It coordinates with other system services (in particular the Failover Manager) to make the necessary changes.</span></span> <span data-ttu-id="9aa1c-148">Majd a szükséges parancsokat kell küldeni a megfelelő csomópontok (4).</span><span class="sxs-lookup"><span data-stu-id="9aa1c-148">Then the necessary commands are sent to the appropriate nodes (4).</span></span> <span data-ttu-id="9aa1c-149">Például tegyük fel, az erőforrás-kezelő első fellépése Csomópont5 volt terhelve, és ezért úgy döntött, hogy a szolgáltatás B áthelyezése Csomópont5 csomópont4.</span><span class="sxs-lookup"><span data-stu-id="9aa1c-149">For example, let's say the Resource Manager noticed that Node5 was overloaded, and so decided to move service B from Node5 to Node4.</span></span> <span data-ttu-id="9aa1c-150">Az újrakonfigurálás (5) végén a fürt néz ki:</span><span class="sxs-lookup"><span data-stu-id="9aa1c-150">At the end of the reconfiguration (5), the cluster looks like this:</span></span>

<span data-ttu-id="9aa1c-151"><center>
![Erőforrás terheléselosztó architektúrája][Image2]
</center></span><span class="sxs-lookup"><span data-stu-id="9aa1c-151"><center>
![Resource Balancer Architecture][Image2]
</center></span></span>

## <a name="next-steps"></a><span data-ttu-id="9aa1c-152">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="9aa1c-152">Next steps</span></span>
- <span data-ttu-id="9aa1c-153">A fürt erőforrás-kezelő rendelkezik a fürt leíró számos lehetőséget.</span><span class="sxs-lookup"><span data-stu-id="9aa1c-153">The Cluster Resource Manager has many options for describing the cluster.</span></span> <span data-ttu-id="9aa1c-154">További információkért róluk, tekintse meg a cikk a [leíró a Service Fabric-fürt](./service-fabric-cluster-resource-manager-cluster-description.md)</span><span class="sxs-lookup"><span data-stu-id="9aa1c-154">To find out more about them, check out this article on [describing a Service Fabric cluster](./service-fabric-cluster-resource-manager-cluster-description.md)</span></span>
- <span data-ttu-id="9aa1c-155">A fürt Resource Manager elsődleges feladatokat van a fürt újraelosztás, és a elhelyezési szabályokat.</span><span class="sxs-lookup"><span data-stu-id="9aa1c-155">The Cluster Resource Manager's primary duties are rebalancing the cluster and enforcing placement rules.</span></span> <span data-ttu-id="9aa1c-156">Ezek közül a viselkedésmódok konfigurálásával kapcsolatos további információkért lásd: [terheléselosztási a Service Fabric-fürt](./service-fabric-cluster-resource-manager-balancing.md)</span><span class="sxs-lookup"><span data-stu-id="9aa1c-156">For more information on configuring these behaviors, see [balancing your Service Fabric cluster](./service-fabric-cluster-resource-manager-balancing.md)</span></span>

[Image1]:./media/service-fabric-cluster-resource-manager-architecture/Service-Fabric-Resource-Manager-Architecture-Activity-1.png
[Image2]:./media/service-fabric-cluster-resource-manager-architecture/Service-Fabric-Resource-Manager-Architecture-Activity-2.png
