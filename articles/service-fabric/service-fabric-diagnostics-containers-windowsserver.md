---
title: "aaaAzure Service Fabric tárolók figyelése és diagnosztikai |} Microsoft Docs"
description: "Megtudhatja, hogyan toomonitor és diagnosztizálhatja az OMS Szolgáltatáshoz tartozó tárolók megoldással a Microsoft Azure Service Fabric összehangolva tárolók."
services: service-fabric
documentationcenter: .net
author: dkkapur
manager: timlt
editor: 
ms.assetid: 
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 05/10/2017
ms.author: dekapur
ms.openlocfilehash: cd79111cf78b9d76a60d489bb9953587aa06186d
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="monitoring-windows-server-containers-with-oms"></a><span data-ttu-id="b71b3-103">Windows Server OMS tárolók figyelése</span><span class="sxs-lookup"><span data-stu-id="b71b3-103">Monitoring Windows Server containers with OMS</span></span>

## <a name="oms-containers-solution"></a><span data-ttu-id="b71b3-104">OMS-tárolók megoldás</span><span class="sxs-lookup"><span data-stu-id="b71b3-104">OMS Containers Solution</span></span>

<span data-ttu-id="b71b3-105">hello Operations Management Suite (OMS) csapat tárolók megoldást a diagnosztika és a tárolók figyelésének tett közzé.</span><span class="sxs-lookup"><span data-stu-id="b71b3-105">hello Operations Management Suite (OMS) team has published a Containers solution for diagnostics and monitoring for containers.</span></span> <span data-ttu-id="b71b3-106">A Service Fabric megoldás mellett ez a megoldás egy remek eszköz toomonitor üzemelő tárolópéldányokat a Service Fabric összehangolva.</span><span class="sxs-lookup"><span data-stu-id="b71b3-106">Alongside their Service Fabric solution, this solution is a great tool toomonitor container deployments orchestrated on Service Fabric.</span></span> <span data-ttu-id="b71b3-107">Íme egy egyszerű példa milyen hello irányítópult hello megoldás a következőhöz hasonló:</span><span class="sxs-lookup"><span data-stu-id="b71b3-107">Here's a simple example of what hello dashboard in hello solution looks like:</span></span>

![Alapszintű OMS irányítópult](./media/service-fabric-diagnostics-containers-windowsserver/oms-containers-dashboard.png)

<span data-ttu-id="b71b3-109">Is gyűjti a különböző naplófájlokat, amelyek lekérhetők az hello OMS Naplóelemzési eszközt, és bármilyen metrikák vagy eseményeit éppen használt toovisualize lehet.</span><span class="sxs-lookup"><span data-stu-id="b71b3-109">It also collects different kinds of logs that can be queried in hello OMS Log Analytics tool, and can be used toovisualize any metrics or events being generated.</span></span> <span data-ttu-id="b71b3-110">hello napló típusok tartoznak a következők:</span><span class="sxs-lookup"><span data-stu-id="b71b3-110">hello log types that are collected are:</span></span>

1. <span data-ttu-id="b71b3-111">ContainerInventory: tároló helye, a nevét, és a képeket információkat jeleníti meg.</span><span class="sxs-lookup"><span data-stu-id="b71b3-111">ContainerInventory: shows information about container location, name, and images</span></span>
2. <span data-ttu-id="b71b3-112">ContainerImageInventory: információ a központilag telepített lemezképek, többek között az azonosítók vagy mérete</span><span class="sxs-lookup"><span data-stu-id="b71b3-112">ContainerImageInventory: information about deployed images, including IDs or sizes</span></span>
3. <span data-ttu-id="b71b3-113">ContainerLog: más bejegyzések, adott hibanaplókat és a docker-naplók (stdout, stb.)</span><span class="sxs-lookup"><span data-stu-id="b71b3-113">ContainerLog: specific error logs, docker logs (stdout, etc.), and other entries</span></span>
4. <span data-ttu-id="b71b3-114">ContainerServiceLog: docker démon parancsok futtatása</span><span class="sxs-lookup"><span data-stu-id="b71b3-114">ContainerServiceLog: docker daemon commands that have been run</span></span>
5. <span data-ttu-id="b71b3-115">Teljesítmény: teljesítményszámlálókat, beleértve a tároló processzor, memória, a hálózati forgalom, lemez i/o, és egyéni metrikák hello a gépek üzemeltetéséhez.</span><span class="sxs-lookup"><span data-stu-id="b71b3-115">Perf: performance counters including container cpu, memory, network traffic, disk i/o, and custom metrics from hello host machines</span></span>

<span data-ttu-id="b71b3-116">Ez a cikk ismerteti a hello lépéseket szükséges tooset fel a fürt tárolófigyelő.</span><span class="sxs-lookup"><span data-stu-id="b71b3-116">This article covers hello steps required tooset up container monitoring for your cluster.</span></span> <span data-ttu-id="b71b3-117">További információk az OMS Szolgáltatáshoz tartozó tárolók megoldás, toolearn tekintse meg a [dokumentáció](../log-analytics/log-analytics-containers.md).</span><span class="sxs-lookup"><span data-stu-id="b71b3-117">toolearn more about OMS's Containers solution, check out their [documentation](../log-analytics/log-analytics-containers.md).</span></span>

## <a name="1-set-up-a-service-fabric-cluster"></a><span data-ttu-id="b71b3-118">1. A Service Fabric-fürt beállítása</span><span class="sxs-lookup"><span data-stu-id="b71b3-118">1. Set up a Service Fabric cluster</span></span>

<span data-ttu-id="b71b3-119">Hozzon létre egy fürtöt hello Azure Resource Manager sablon található [Itt](https://github.com/dkkapur/Service-Fabric/tree/master/ARM%20Templates/SF%20OMS%20Sample).</span><span class="sxs-lookup"><span data-stu-id="b71b3-119">Create a cluster using hello Azure Resource Manager template found [here](https://github.com/dkkapur/Service-Fabric/tree/master/ARM%20Templates/SF%20OMS%20Sample).</span></span> <span data-ttu-id="b71b3-120">Győződjön meg arról, hogy tooadd egyedi OMS-munkaterület nevét.</span><span class="sxs-lookup"><span data-stu-id="b71b3-120">Make sure tooadd a unique OMS workspace name.</span></span> <span data-ttu-id="b71b3-121">Ez a sablon is alapértelmezés szerint a toodeploying hello preview a fürt létrehozása a Service Fabric (v255.255), ami azt jelenti, hogy éles környezetben nem használható, és nem lehet frissíteni a tooa különböző Service Fabric-verzió.</span><span class="sxs-lookup"><span data-stu-id="b71b3-121">This template also defaults toodeploying a cluster in hello preview build of Service Fabric (v255.255), which means that it cannot be used in production, and cannot be upgraded tooa different Service Fabric version.</span></span> <span data-ttu-id="b71b3-122">Ha úgy dönt, toouse a sablon hosszú távú vagy éles használatához módosítsa hello verziószáma tooa stabil verzióját.</span><span class="sxs-lookup"><span data-stu-id="b71b3-122">If you decide toouse this template for long-term or production use, change hello version tooa stable version number.</span></span>

<span data-ttu-id="b71b3-123">Ha hello fürt készen áll, győződjön meg arról, hogy telepítette a hello megfelelő tanúsítványt, és győződjön meg arról, hogy képes tooconnect toohello fürt.</span><span class="sxs-lookup"><span data-stu-id="b71b3-123">Once hello cluster is set up, confirm that you have installed hello appropriate certificate, and make sure you are able tooconnect toohello cluster.</span></span>

<span data-ttu-id="b71b3-124">Győződjön meg arról, hogy az erőforráscsoport helyesen van beállítva által címsor toohello [Azure-portálon](https://portal.azure.com/) és hello telepítési keresése.</span><span class="sxs-lookup"><span data-stu-id="b71b3-124">Confirm that your Resource Group is set up correctly by heading toohello [Azure portal](https://portal.azure.com/) and finding hello deployment.</span></span> <span data-ttu-id="b71b3-125">hello erőforráscsoport tartalmazza az összes hello szolgáltatást a háló típusú erőforrások, és Naplóelemzési megoldást, valamint a Service Fabric megoldás is rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="b71b3-125">hello resource group should contain all hello Service Fabric resources, and also have a Log Analytics solution as well as a Service Fabric solution.</span></span>

<span data-ttu-id="b71b3-126">A meglévő Service Fabric-fürt módosítását:</span><span class="sxs-lookup"><span data-stu-id="b71b3-126">For modifying an existing Service Fabric cluster:</span></span>
* <span data-ttu-id="b71b3-127">Győződjön meg arról, hogy engedélyezve van-e a Diagnostics (Ha nem, engedélyezze azt [hello virtuálisgép-méretezési csoport frissítése](/rest/api/virtualmachinescalesets/create-or-update-a-set))</span><span class="sxs-lookup"><span data-stu-id="b71b3-127">Confirm that Diagnostics is enabled (if not, enable it via [updating hello virtual machine scale set](/rest/api/virtualmachinescalesets/create-or-update-a-set))</span></span>
* <span data-ttu-id="b71b3-128">Adja hozzá az OMS-munkaterület hozzon létre egy "A Service Fabric Analytics" megoldás a hello Azure piactéren</span><span class="sxs-lookup"><span data-stu-id="b71b3-128">Add an OMS Workspace by creating a "Service Fabric Analytics" solution via hello Azure Marketplace</span></span>
* <span data-ttu-id="b71b3-129">Az erőforráscsoport, amely a fürt hello van hello hello adatforrását hello Service Fabric megoldás toopick hello (által létrehozott ÜVEGVATTA) megfelelő Azure tárolási táblákból származó adatok szerkesztése</span><span class="sxs-lookup"><span data-stu-id="b71b3-129">Edit hello data sources of hello Service Fabric solution toopick up data from hello appropriate Azure Storage tables (set up by WAD) in hello Resource Group that hello cluster is in</span></span>
* <span data-ttu-id="b71b3-130">Adja hozzá a hello ügynököt egy [bővítmény toohello virtuálisgép-méretezési csoport](/powershell/module/azurerm.compute/add-azurermvmssextension) PowerShell vagy a frissítési hello virtuális gép méretezési (a fenti ugyanazon kapcsolathoz, toomodify hello Resource Manager-sablon)</span><span class="sxs-lookup"><span data-stu-id="b71b3-130">Add hello agent as an [extension toohello virtual machine scale set](/powershell/module/azurerm.compute/add-azurermvmssextension) via PowerShell or through updating hello virtual machine scale set (same link as above, toomodify hello Resource Manager template)</span></span>

## <a name="2-deploy-a-container"></a><span data-ttu-id="b71b3-131">2. A tároló üzembe</span><span class="sxs-lookup"><span data-stu-id="b71b3-131">2. Deploy a container</span></span>

<span data-ttu-id="b71b3-132">Miután hello fürt készen áll, és meggyőződött róla, hogy hozzá tud férni, telepítsen egy tároló tooit.</span><span class="sxs-lookup"><span data-stu-id="b71b3-132">Once hello cluster is ready and you have confirmed that you can access it, deploy a container tooit.</span></span> <span data-ttu-id="b71b3-133">Hello sablon által beállított választása toouse hello előzetes verzióját, is megismerheti a Service Fabric új docker compose funkciót.</span><span class="sxs-lookup"><span data-stu-id="b71b3-133">If you chose toouse hello preview version as set by hello template, you can also explore Service Fabric's new docker compose functionality.</span></span> <span data-ttu-id="b71b3-134">Vegye figyelembe, hogy első alkalommal a tároló lemezkép hello rendelkeznek telepített tooa fürt, néhány perc toodownload hello kép attól függően, hogy annak méretét vesz igénybe.</span><span class="sxs-lookup"><span data-stu-id="b71b3-134">Bear in mind that hello first time a container image is deployed tooa cluster, it takes several minutes toodownload hello image depending on its size.</span></span>

## <a name="3-add-hello-containers-solution"></a><span data-ttu-id="b71b3-135">3. Hello tárolók megoldás hozzáadása</span><span class="sxs-lookup"><span data-stu-id="b71b3-135">3. Add hello Containers solution</span></span>

<span data-ttu-id="b71b3-136">A hello Azure-portálon, és hozzon létre egy tároló-erőforrás (alatt hello figyelés + felügyeleti kategória) Azure piactéren keresztül.</span><span class="sxs-lookup"><span data-stu-id="b71b3-136">In hello Azure portal, create a Containers resource (under hello Monitoring + Management category) through Azure Marketplace.</span></span> 

![Tárolók megoldás hozzáadása](./media/service-fabric-diagnostics-containers-windowsserver/containers-solution.png)

<span data-ttu-id="b71b3-138">Hello létrehozását lépést, a kérelmek az OMS-munkaterület.</span><span class="sxs-lookup"><span data-stu-id="b71b3-138">In hello creation step, it requests an OMS workspace.</span></span> <span data-ttu-id="b71b3-139">Válassza ki a hello valamelyik fenti hello telepítési hoztak létre.</span><span class="sxs-lookup"><span data-stu-id="b71b3-139">Select hello one that was created with hello deployment above.</span></span> <span data-ttu-id="b71b3-140">Ezt a lépést hozzáadja az OMS-munkaterület belül tárolók megoldást, és automatikusan felismeri hello sablon által telepített hello OMS-ügynököt.</span><span class="sxs-lookup"><span data-stu-id="b71b3-140">This step adds a Containers solution within your OMS workspace, and is automatically detected by hello OMS agent deployed by hello template.</span></span> <span data-ttu-id="b71b3-141">hello ügynök elindul, hello tárolók folyamatok hello fürt az adatgyűjtést, és körülbelül 10 – 15 perc, a könnyű fel adatokkal, ahogy a fenti hello irányítópult hello képe hello megoldás megjelennie.</span><span class="sxs-lookup"><span data-stu-id="b71b3-141">hello agent will start gathering data on hello containers processes in hello cluster, and in about 10-15 minutes, you should see hello solution light up with data as in hello image of hello dashboard above.</span></span>

## <a name="4-next-steps"></a><span data-ttu-id="b71b3-142">4. Következő lépések</span><span class="sxs-lookup"><span data-stu-id="b71b3-142">4. Next steps</span></span>

<span data-ttu-id="b71b3-143">OMS kínál a hello munkaterület toomake különböző eszközök hasznos, ha az Ön.</span><span class="sxs-lookup"><span data-stu-id="b71b3-143">OMS offers various tools in hello workspace toomake if more useful for you.</span></span> <span data-ttu-id="b71b3-144">A következő beállítások toocustomize hello megoldás tooyour igényeinek hello ismerheti meg:</span><span class="sxs-lookup"><span data-stu-id="b71b3-144">Explore hello following options toocustomize hello solution tooyour needs:</span></span>
- <span data-ttu-id="b71b3-145">Hello az beszerzése familiarized [naplófájl keresési és lekérdezése](../log-analytics/log-analytics-log-searches.md) szolgáltatásai által kínált Naplóelemzési</span><span class="sxs-lookup"><span data-stu-id="b71b3-145">Get familiarized with hello [log search and querying](../log-analytics/log-analytics-log-searches.md) features offered as part of Log Analytics</span></span>
- <span data-ttu-id="b71b3-146">Hello OMS-ügynök toopick egyes teljesítményszámlálókat be konfigurálása (toohello munkaterület otthoni Ugrás > Beállítások > adatok > Windows-teljesítményszámlálók)</span><span class="sxs-lookup"><span data-stu-id="b71b3-146">Configure hello OMS agent toopick up specific performance counters (go toohello workspace Home > Settings > Data > Windows Performance Counters)</span></span>
- <span data-ttu-id="b71b3-147">Konfigurálja az OMS tooset mentése [riasztás automatikus](../log-analytics/log-analytics-alerts.md) szabályok tooaid észlelésére és diagnosztika</span><span class="sxs-lookup"><span data-stu-id="b71b3-147">Configure OMS tooset up [automated alerting](../log-analytics/log-analytics-alerts.md) rules tooaid in detecting and diagnostics</span></span>
