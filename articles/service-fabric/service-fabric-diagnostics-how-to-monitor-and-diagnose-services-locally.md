---
title: "a Windows Azure mikroszolgáltatások aaaDebug |} Microsoft Docs"
description: "Megtudhatja, hogyan toomonitor és diagnosztizálhatja a szolgáltatások egy helyi fejlesztési gépen a Microsoft Azure Service Fabric használatával készítettek."
services: service-fabric
documentationcenter: .net
author: dkkapur
manager: timlt
editor: 
ms.assetid: edcc0631-ed2d-45a3-851d-2c4fa0f4a326
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 04/24/2017
ms.author: dekapur
ms.openlocfilehash: 24868aa194b8a28fa3e6de95c1de5506d912a544
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="monitor-and-diagnose-services-in-a-local-machine-development-setup"></a><span data-ttu-id="77fac-103">Figyelése és diagnosztizálása szolgáltatásai a helyi számítógép fejlesztési beállítása</span><span class="sxs-lookup"><span data-stu-id="77fac-103">Monitor and diagnose services in a local machine development setup</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="77fac-104">Windows</span><span class="sxs-lookup"><span data-stu-id="77fac-104">Windows</span></span>](service-fabric-diagnostics-how-to-monitor-and-diagnose-services-locally.md)
> * [<span data-ttu-id="77fac-105">Linux</span><span class="sxs-lookup"><span data-stu-id="77fac-105">Linux</span></span>](service-fabric-diagnostics-how-to-monitor-and-diagnose-services-locally-linux.md)
> 
> 

<span data-ttu-id="77fac-106">Figyelés, észlelésére, diagnosztizálása és hibaelhárítási lehetővé teszi a minimális megszakítás toohello felhasználói élmény szolgáltatások toocontinue.</span><span class="sxs-lookup"><span data-stu-id="77fac-106">Monitoring, detecting, diagnosing, and troubleshooting allow for services toocontinue with minimal disruption toohello user experience.</span></span> <span data-ttu-id="77fac-107">Amíg figyelése és a diagnosztika nem kritikus tényleges telepített éles környezetben, hello hatékonyságát függ hasonló modell bevezetése tooa valós telepítés áthelyezésekor működnek szolgáltatások tooensure fejlesztése során.</span><span class="sxs-lookup"><span data-stu-id="77fac-107">While monitoring and diagnostics are critical in an actual deployed production environment, hello efficiency will depend on adopting a similar model during development of services tooensure they work when you move tooa real-world setup.</span></span> <span data-ttu-id="77fac-108">A Service Fabric megkönnyíti a szolgáltatás a fejlesztők tooimplement diagnosztikai, amely zökkenőmentesen használható legyen a helyi fejlesztési egyszámítógépes beállításokat és a valós üzemi fürt beállításokat.</span><span class="sxs-lookup"><span data-stu-id="77fac-108">Service Fabric makes it easy for service developers tooimplement diagnostics that can seamlessly work across both single-machine local development setups and real-world production cluster setups.</span></span>

## <a name="event-tracing-for-windows"></a><span data-ttu-id="77fac-109">A Windows esemény-nyomkövetés</span><span class="sxs-lookup"><span data-stu-id="77fac-109">Event Tracing for Windows</span></span>
<span data-ttu-id="77fac-110">[Esemény nyomkövetése Windows](https://msdn.microsoft.com/library/windows/desktop/bb968803.aspx) (ETW) technológia nyomkövetési üzenet, a Service Fabric ajánlott hello.</span><span class="sxs-lookup"><span data-stu-id="77fac-110">[Event Tracing for Windows](https://msdn.microsoft.com/library/windows/desktop/bb968803.aspx) (ETW) is hello recommended technology for tracing messages in Service Fabric.</span></span> <span data-ttu-id="77fac-111">Néhány ETW használatának előnyei a következők:</span><span class="sxs-lookup"><span data-stu-id="77fac-111">Some benefits of using ETW are:</span></span>

* <span data-ttu-id="77fac-112">**ETW gyors.**</span><span class="sxs-lookup"><span data-stu-id="77fac-112">**ETW is fast.**</span></span> <span data-ttu-id="77fac-113">A nyomkövetés technológia, amely rendelkezik egy kód végrehajtásának lassúságát gyakorolt minimális hatás mellett azokat készítették.</span><span class="sxs-lookup"><span data-stu-id="77fac-113">It was built as a tracing technology that has minimal impact on code execution times.</span></span>
* <span data-ttu-id="77fac-114">**ETW-nyomkövetés zökkenőmentesen helyi fejlesztési környezetekben, és valós fürt beállítások között.**</span><span class="sxs-lookup"><span data-stu-id="77fac-114">**ETW tracing works seamlessly across local development environments and also real-world cluster setups.**</span></span> <span data-ttu-id="77fac-115">Ez azt jelenti, hogy nem rendelkezik a nyomkövetési kód, amikor készen áll a toodeploy toorewrite a kód tooa valós fürt.</span><span class="sxs-lookup"><span data-stu-id="77fac-115">This  means you don't have toorewrite your tracing code when you are ready toodeploy your code tooa real cluster.</span></span>
* <span data-ttu-id="77fac-116">**A Service Fabric rendszer kód ETW is használja a belső nyomkövetés.**</span><span class="sxs-lookup"><span data-stu-id="77fac-116">**Service Fabric system code also uses ETW for internal tracing.**</span></span> <span data-ttu-id="77fac-117">Ez lehetővé teszi az alkalmazás nyomkövetési adatait a Service Fabric rendszer nyomkövetések időosztásos tooview.</span><span class="sxs-lookup"><span data-stu-id="77fac-117">This allows you tooview your application traces interleaved with Service Fabric system traces.</span></span> <span data-ttu-id="77fac-118">Emellett segít toomore, könnyen megértéséhez hello feladatütemezések és a kapcsolatokat, az alkalmazás kódjában és az események között hello alapul szolgáló rendszer.</span><span class="sxs-lookup"><span data-stu-id="77fac-118">It also helps you toomore easily understand hello sequences and interrelationships between your application code and events in hello underlying system.</span></span>
* <span data-ttu-id="77fac-119">**A rendszer beépített támogatja a Service Fabric Visual Studio eszközök tooview ETW-események.**</span><span class="sxs-lookup"><span data-stu-id="77fac-119">**There is built-in support in Service Fabric Visual Studio tools tooview ETW events.**</span></span> <span data-ttu-id="77fac-120">Ha a Visual Studio megfelelően van beállítva a Service Fabric hello diagnosztikai események megtekintése a Visual Studio ETW-események jelennek meg.</span><span class="sxs-lookup"><span data-stu-id="77fac-120">ETW events appear in hello Diagnostic Events view of Visual Studio once Visual Studio is correctly configured with Service Fabric.</span></span> 

## <a name="view-service-fabric-system-events-in-visual-studio"></a><span data-ttu-id="77fac-121">A Visual Studio Service Fabric rendszer eseményeinek megtekintése</span><span class="sxs-lookup"><span data-stu-id="77fac-121">View Service Fabric system events in Visual Studio</span></span>
<span data-ttu-id="77fac-122">A Service Fabric toohelp alkalmazásfejlesztők megérteni, hogy mi történik a hello platform ETW-események bocsát ki.</span><span class="sxs-lookup"><span data-stu-id="77fac-122">Service Fabric emits ETW events toohelp application developers understand what's happening in hello platform.</span></span> <span data-ttu-id="77fac-123">Ha még nem tette meg, lépjen tovább, és kövesse hello [az első alkalmazás létrehozásának a Visual Studio](service-fabric-create-your-first-application-in-visual-studio.md).</span><span class="sxs-lookup"><span data-stu-id="77fac-123">If you haven't already done so, go ahead and follow hello steps in [Creating your first application in Visual Studio](service-fabric-create-your-first-application-in-visual-studio.md).</span></span> <span data-ttu-id="77fac-124">Ez az információ segít elérhetővé, az alkalmazás működik, és amelyen hello hello nyomkövetési üzeneteket bemutató diagnosztikai eseménynapló.</span><span class="sxs-lookup"><span data-stu-id="77fac-124">This information will help you get an application up and running with hello Diagnostics Events Viewer showing hello trace messages.</span></span>

1. <span data-ttu-id="77fac-125">Ha hello diagnosztika események ablak nem automatikusan megjelenítéséhez nyissa meg toohello **nézet** a Visual Studio lapra, majd **más Windows** , majd **diagnosztikai eseménynaplóhoz**.</span><span class="sxs-lookup"><span data-stu-id="77fac-125">If hello diagnostics events window does not automatically show, Go toohello **View** tab in Visual Studio, choose **Other Windows** and then **Diagnostic Events Viewer**.</span></span>
2. <span data-ttu-id="77fac-126">Mindegyik esemény rendelkezik szabványos metaadat-információi, amely jelzi, hogy hello csomópont, alkalmazás és szolgáltatás hello esemény érkezik.</span><span class="sxs-lookup"><span data-stu-id="77fac-126">Each event has standard metadata information that tells you hello node, application and service hello event is coming from.</span></span> <span data-ttu-id="77fac-127">Események listája hello hello segítségével is végezhet **események szűréséhez** hello felső hello események ablak bezárásához.</span><span class="sxs-lookup"><span data-stu-id="77fac-127">You can also filter hello list of events by using hello **Filter events** box at hello top of hello events window.</span></span> <span data-ttu-id="77fac-128">Végezhet, például a **csomópontnév** vagy **szolgáltatás neve.**</span><span class="sxs-lookup"><span data-stu-id="77fac-128">For example, you can filter on **Node Name** or **Service Name.**</span></span> <span data-ttu-id="77fac-129">Amikor tartózkodik esemény részleteit, fel is függesztheti hello segítségével és **szüneteltetése** hello események ablak hello tetején gombra, majd később események adatvesztés nélkül folytathatja.</span><span class="sxs-lookup"><span data-stu-id="77fac-129">And when you're looking at event details, you can also pause by using hello **Pause** button at hello top of hello events window and resume later without any loss of events.</span></span>
   
   ![A Visual Studio diagnosztikai eseménynapló](./media/service-fabric-diagnostics-how-to-monitor-and-diagnose-services-locally/DiagEventsExamples2.png)

## <a name="add-your-own-custom-traces-toohello-application-code"></a><span data-ttu-id="77fac-131">Adja hozzá a saját egyéni nyomkövetési toohello alkalmazás kódot</span><span class="sxs-lookup"><span data-stu-id="77fac-131">Add your own custom traces toohello application code</span></span>
<span data-ttu-id="77fac-132">Service Fabric Visual Studio projektsablonjai hello példakódot tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="77fac-132">hello Service Fabric Visual Studio project templates contain sample code.</span></span> <span data-ttu-id="77fac-133">hello kód bemutatja, hogyan tooadd egyéni alkalmazáskódok ETW követi, hogy másolatot hello Visual Studio ETW-megjelenítőben mellett a Service Fabric rendszer nyomkövetéseit.</span><span class="sxs-lookup"><span data-stu-id="77fac-133">hello code shows how tooadd custom application code ETW traces that show up in hello Visual Studio ETW viewer alongside system traces from Service Fabric.</span></span> <span data-ttu-id="77fac-134">hello ezt a módszert előnye, hogy a metaadatokat a rendszer automatikusan tootraces, és a Visual Studio diagnosztikai eseménynaplóhoz már hello konfigurált toodisplay őket.</span><span class="sxs-lookup"><span data-stu-id="77fac-134">hello advantage of this method is that metadata is automatically added tootraces, and hello Visual Studio Diagnostic Events Viewer is already configured toodisplay them.</span></span>

<span data-ttu-id="77fac-135">Hello alapján létrehozott projektek **szolgáltatássablonok** (állapot nélküli és állapotalapú) csak keressen hello `RunAsync` végrehajtására:</span><span class="sxs-lookup"><span data-stu-id="77fac-135">For projects created from hello **service templates** (stateless or stateful) just search for hello `RunAsync` implementation:</span></span>

1. <span data-ttu-id="77fac-136">hívás túl hello`ServiceEventSource.Current.ServiceMessage` a hello `RunAsync` metódus hello alkalmazás kódból egyéni ETW-nyomkövetés példáját mutatja be.</span><span class="sxs-lookup"><span data-stu-id="77fac-136">hello call too`ServiceEventSource.Current.ServiceMessage` in hello `RunAsync` method shows an example of a custom ETW trace from hello application code.</span></span>
2. <span data-ttu-id="77fac-137">A hello **ServiceEventSource.cs** fájl, talál egy túlterhelési a hello `ServiceEventSource.ServiceMessage` nagyon gyakori események tooperformance okok miatt használandó módszert.</span><span class="sxs-lookup"><span data-stu-id="77fac-137">In hello **ServiceEventSource.cs** file, you will find an overload for hello `ServiceEventSource.ServiceMessage` method that should be used for high-frequency events due tooperformance reasons.</span></span>

<span data-ttu-id="77fac-138">Hello alapján létrehozott projektek **szereplő sablonok** (állapot nélküli és állapotalapú):</span><span class="sxs-lookup"><span data-stu-id="77fac-138">For projects created from hello **actor templates** (stateless or stateful):</span></span>

1. <span data-ttu-id="77fac-139">Nyissa meg hello **"Projektnév".cs** where fájl *projektnév* hello neve, a Visual Studio-projekt számára is választott.</span><span class="sxs-lookup"><span data-stu-id="77fac-139">Open hello **"ProjectName".cs** file where *ProjectName* is hello name you chose for your Visual Studio project.</span></span>  
2. <span data-ttu-id="77fac-140">Hello kód található `ActorEventSource.Current.ActorMessage(this, "Doing Work");` a hello *DoWorkAsync* metódust.</span><span class="sxs-lookup"><span data-stu-id="77fac-140">Find hello code `ActorEventSource.Current.ActorMessage(this, "Doing Work");` in hello *DoWorkAsync* method.</span></span>  <span data-ttu-id="77fac-141">Ez az egy egyéni ETW-nyomkövetés alkalmazáskód írásbeli példát.</span><span class="sxs-lookup"><span data-stu-id="77fac-141">This is an example of a custom ETW trace written from application code.</span></span>  
3. <span data-ttu-id="77fac-142">A fájl **ActorEventSource.cs**, túlterhelés megtalálja a hello `ActorEventSource.ActorMessage` nagyon gyakori események tooperformance okok miatt használandó módszert.</span><span class="sxs-lookup"><span data-stu-id="77fac-142">In file **ActorEventSource.cs**, you will find an overload for hello `ActorEventSource.ActorMessage` method that should be used for high-frequency events due tooperformance reasons.</span></span>

<span data-ttu-id="77fac-143">A felvett egyéni ETW-nyomkövetés tooyour szolgáltatáskód hibáit, létre, telepíthetnek és hello alkalmazás futtatásához újra toosee az esemény a hello diagnosztikai eseménynaplóhoz.</span><span class="sxs-lookup"><span data-stu-id="77fac-143">After adding custom ETW tracing tooyour service code, you can build, deploy, and run hello application again toosee your event(s) in hello Diagnostic Events Viewer.</span></span> <span data-ttu-id="77fac-144">Ha hello alkalmazás hibakeresése **F5**, hello diagnosztikai eseménynaplóhoz automatikusan megnyílik.</span><span class="sxs-lookup"><span data-stu-id="77fac-144">If you debug hello application with **F5**, hello Diagnostic Events Viewer will open automatically.</span></span>

## <a name="next-steps"></a><span data-ttu-id="77fac-145">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="77fac-145">Next steps</span></span>
<span data-ttu-id="77fac-146">hello ugyanazt a hozzáadott tooyour alkalmazás fent helyi diagnosztikai nyomkövetési kódot együttműködve tooview használt eszközök ezeket az eseményeket az Azure-fürttel az alkalmazás futtatásakor.</span><span class="sxs-lookup"><span data-stu-id="77fac-146">hello same tracing code that you added tooyour application above for local diagnostics will work with tools that you can use tooview these events when running your application on an Azure cluster.</span></span> <span data-ttu-id="77fac-147">Tekintse meg ezek a cikkek ismertetik hello hello eszközök különböző lehetőségek közül, és ismertetik, hogyan állíthat be őket.</span><span class="sxs-lookup"><span data-stu-id="77fac-147">Check out these articles that discuss hello different options for hello tools and describe how you can set them up.</span></span>

* [<span data-ttu-id="77fac-148">Hogyan toocollect naplózza az Azure Diagnostics</span><span class="sxs-lookup"><span data-stu-id="77fac-148">How toocollect logs with Azure Diagnostics</span></span>](service-fabric-diagnostics-how-to-setup-wad.md)
* [<span data-ttu-id="77fac-149">Esemény összevonásának és a gyűjtemény EventFlow használatával</span><span class="sxs-lookup"><span data-stu-id="77fac-149">Event aggregation and collection using EventFlow</span></span>](service-fabric-diagnostics-event-aggregation-eventflow.md)

