---
title: "aaaService Fabric-fürt erőforráskezelő - felügyelet integrálását |} Microsoft Docs"
description: "Hello integrációs pontjainak közötti hello fürt erőforrás-kezelő és a Service Fabric Management áttekintése."
services: service-fabric
documentationcenter: .net
author: masnider
manager: timlt
editor: 
ms.assetid: 956cd0b8-b6e3-4436-a224-8766320e8cd7
ms.service: Service-Fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 08/18/2017
ms.author: masnider
ms.openlocfilehash: 9a24c9de121fbe2e8e5e8e4d117e64686918936a
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="cluster-resource-manager-integration-with-service-fabric-cluster-management"></a><span data-ttu-id="7d2e5-103">Fürt resource manager integrálása a Service Fabric-fürt felügyeleti</span><span class="sxs-lookup"><span data-stu-id="7d2e5-103">Cluster resource manager integration with Service Fabric cluster management</span></span>
<span data-ttu-id="7d2e5-104">Service Fabric fürt erőforrás-kezelő hello frissítések nem meghajtója Service Fabric azonban részt vesz.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-104">hello Service Fabric Cluster Resource Manager doesn't drive upgrades in Service Fabric, but it is involved.</span></span> <span data-ttu-id="7d2e5-105">hello első módon hello fürt erőforrás-kezelő segítségével felügyeleti követési hello által keresett hello fürt és a benne lévő hello szolgáltatások állapotát.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-105">hello first way that hello Cluster Resource Manager helps with management is by tracking hello desired state of hello cluster and hello services inside it.</span></span> <span data-ttu-id="7d2e5-106">hello fürt erőforrás-kezelő akkor küld állapotjelentések ki, ha azt nem hello fürt üzembe hello szükséges konfiguráció.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-106">hello Cluster Resource Manager sends out health reports when it cannot put hello cluster into hello desired configuration.</span></span> <span data-ttu-id="7d2e5-107">Például ha nincs elegendő kapacitása hello fürt erőforrás-kezelő küld állapotfigyelő figyelmeztetések és hibák hello kapcsolatos problémára utaló ki.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-107">For example, if there is insufficient capacity hello Cluster Resource Manager sends out health warnings and errors indicating hello problem.</span></span> <span data-ttu-id="7d2e5-108">Integráció más adat toodo a frissítések működése rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-108">Another piece of integration has toodo with how upgrades work.</span></span> <span data-ttu-id="7d2e5-109">hello erőforrás-kezelő fürt működése némileg megváltoztatja frissítéskor.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-109">hello Cluster Resource Manager alters its behavior slightly during upgrades.</span></span>  

## <a name="health-integration"></a><span data-ttu-id="7d2e5-110">Rendszerállapot-integráció</span><span class="sxs-lookup"><span data-stu-id="7d2e5-110">Health integration</span></span>
<span data-ttu-id="7d2e5-111">Fürt erőforrás-kezelő hello folyamatosan nyomon követi a szolgáltatások elhelyezéséhez megadott hello szabályok.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-111">hello Cluster Resource Manager constantly tracks hello rules you have defined for placing your services.</span></span> <span data-ttu-id="7d2e5-112">Is egész mindegyik metrikát hello csomópontján és hello fürt és hello fürt kapacitása fennmaradó hello követi nyomon.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-112">It also tracks hello remaining capacity for each metric on hello nodes and in hello cluster and in hello cluster as a whole.</span></span> <span data-ttu-id="7d2e5-113">Ha azt nem elégíti ki ezeket a szabályokat, vagy ha nincs elég kapacitás, az egészségügyi figyelmeztetések és hibák kibocsátott.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-113">If it can't satisfy those rules or if there is insufficient capacity, health warnings and errors are emitted.</span></span> <span data-ttu-id="7d2e5-114">Például ha egy csomópont kapacitás és hello fürt erőforrás-kezelő megpróbál toofix hello helyzet szolgáltatások áthelyezésével.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-114">For example, if a node is over capacity and hello Cluster Resource Manager will try toofix hello situation by moving services.</span></span> <span data-ttu-id="7d2e5-115">Ha nem tud javítani hello helyzet állapotfigyelő figyelmeztetés azt jelzi, hogy melyik csomópont kapacitás, és melyik metrikáihoz bocsát ki.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-115">If it can't correct hello situation it emits a health warning indicating which node is over capacity, and for which metrics.</span></span>

<span data-ttu-id="7d2e5-116">Egy másik hello Resource Manager egészségügyi figyelmeztetések: egy elhelyezési korlátozás megsértése.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-116">Another example of hello Resource Manager's health warnings is violations of placement constraints.</span></span> <span data-ttu-id="7d2e5-117">Például, ha meg van adva egy elhelyezési korlátozás (például `“NodeColor == Blue”`) és erőforrás-kezelő hello észleli, hogy a korlátozás megsértését, azt egy állapotfigyelési figyelmeztetése bocsát ki.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-117">For example, if you have defined a placement constraint (such as `“NodeColor == Blue”`) and hello Resource Manager detects a violation of that constraint, it emits a health warning.</span></span> <span data-ttu-id="7d2e5-118">Ez az egyéni korlátozások és hello alapértelmezett korlátozásokban (például hello tartalék tartomány és a frissítési tartomány korlátozások).</span><span class="sxs-lookup"><span data-stu-id="7d2e5-118">This is true for custom constraints and hello default constraints (like hello Fault Domain and Upgrade Domain constraints).</span></span>

<span data-ttu-id="7d2e5-119">Íme egy példa egy ilyen állapotjelentése.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-119">Here’s an example of one such health report.</span></span> <span data-ttu-id="7d2e5-120">Ebben az esetben hello állapotjelentése az egyik hello rendszer szolgáltatás partíciók van.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-120">In this case, hello health report is for one of hello system service’s partitions.</span></span> <span data-ttu-id="7d2e5-121">hello állapotát az üzenet azt jelzi, hogy az adott partíció replikák átmenetileg túl kevés frissítés tartományokra vannak csomagolt hello.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-121">hello health message indicates hello replicas of that partition are temporarily packed into too few Upgrade Domains.</span></span>

```posh
PS C:\Users\User > Get-WindowsFabricPartitionHealth -PartitionId '00000000-0000-0000-0000-000000000001'


PartitionId           : 00000000-0000-0000-0000-000000000001
AggregatedHealthState : Warning
UnhealthyEvaluations  :
                        Unhealthy event: SourceId='System.PLB', Property='ReplicaConstraintViolation_UpgradeDomain', HealthState='Warning', ConsiderWarningAsError=false.

ReplicaHealthStates   :
                        ReplicaId             : 130766528804733380
                        AggregatedHealthState : Ok

                        ReplicaId             : 130766528804577821
                        AggregatedHealthState : Ok

                        ReplicaId             : 130766528854889931
                        AggregatedHealthState : Ok

                        ReplicaId             : 130766528804577822
                        AggregatedHealthState : Ok

                        ReplicaId             : 130837073190680024
                        AggregatedHealthState : Ok

HealthEvents          :
                        SourceId              : System.PLB
                        Property              : ReplicaConstraintViolation_UpgradeDomain
                        HealthState           : Warning
                        SequenceNumber        : 130837100116930204
                        SentAt                : 8/10/2015 7:53:31 PM
                        ReceivedAt            : 8/10/2015 7:53:33 PM
                        TTL                   : 00:01:05
                        Description           : hello Load Balancer has detected a Constraint Violation for this Replica: fabric:/System/FailoverManagerService Secondary Partition 00000000-0000-0000-0000-000000000001 is
                        violating hello Constraint: UpgradeDomain Details: UpgradeDomain ID -- 4, Replica on NodeName -- Node.8 Currently Upgrading -- false Distribution Policy -- Packing
                        RemoveWhenExpired     : True
                        IsExpired             : False
                        Transitions           : Ok->Warning = 8/10/2015 7:13:02 PM, LastError = 1/1/0001 12:00:00 AM
```

<span data-ttu-id="7d2e5-122">Mi az egészségügyi üzenet ezzel azt jelzi, az itt található:</span><span class="sxs-lookup"><span data-stu-id="7d2e5-122">Here's what this health message is telling us is:</span></span>

1. <span data-ttu-id="7d2e5-123">Összes hello replika maguk kifogástalan: mindegyik rendelkezik-e AggregatedHealthState: Ok</span><span class="sxs-lookup"><span data-stu-id="7d2e5-123">All hello replicas themselves are healthy: Each has AggregatedHealthState : Ok</span></span>
2. <span data-ttu-id="7d2e5-124">hello frissítési tartomány terjesztési megkötés jelenleg éppen sérül.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-124">hello Upgrade Domain distribution constraint is currently being violated.</span></span> <span data-ttu-id="7d2e5-125">Ez azt jelenti, hogy egy adott frissítés tartomány rendelkezik további replikák ehhez a partícióhoz a kelleténél.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-125">This means a particular Upgrade Domain has more replicas from this partition than it should.</span></span>
3. <span data-ttu-id="7d2e5-126">Melyik csomópontján hello replika, ezzel hello megsértése tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-126">Which node contains hello replica causing hello violation.</span></span> <span data-ttu-id="7d2e5-127">Ebben az esetben hello csomópont "Node.8" hello nevű</span><span class="sxs-lookup"><span data-stu-id="7d2e5-127">In this case it's hello node with hello name "Node.8"</span></span>
4. <span data-ttu-id="7d2e5-128">Frissítés e jelenleg folyik a ez partícióazonosító ("jelenleg frissítése – false")</span><span class="sxs-lookup"><span data-stu-id="7d2e5-128">Whether an upgrade is currently happening for this partition ("Currently Upgrading -- false")</span></span>
5. <span data-ttu-id="7d2e5-129">Ezt a szolgáltatást a terjesztési házirend hello: "Terjesztési házirend--csomagolási".</span><span class="sxs-lookup"><span data-stu-id="7d2e5-129">hello distribution policy for this service: "Distribution Policy -- Packing".</span></span> <span data-ttu-id="7d2e5-130">Ez vonatkozik hello `RequireDomainDistribution` [elhelyezési házirend](service-fabric-cluster-resource-manager-advanced-placement-rules-placement-policies.md#requiring-replica-distribution-and-disallowing-packing).</span><span class="sxs-lookup"><span data-stu-id="7d2e5-130">This is governed by hello `RequireDomainDistribution` [placement policy](service-fabric-cluster-resource-manager-advanced-placement-rules-placement-policies.md#requiring-replica-distribution-and-disallowing-packing).</span></span> <span data-ttu-id="7d2e5-131">"Csomagolási" azt jelzi, hogy ebben az esetben DomainDistribution _nem_ szükséges, hogy tudjuk, hogy elhelyezési házirend nincs megadva ehhez a szolgáltatáshoz.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-131">"Packing" indicates that in this case DomainDistribution was _not_ required, so we know that placement policy was not specified for this service.</span></span> 
6. <span data-ttu-id="7d2e5-132">Ha hello jelentés történt – 8/10/2015 7 13:02 du.:</span><span class="sxs-lookup"><span data-stu-id="7d2e5-132">When hello report happened - 8/10/2015 7:13:02 PM</span></span>

<span data-ttu-id="7d2e5-133">Adatok, például az, hogy valami nem megfelelő állapotba került, és ezzel egyúttal tudja éles toolet tűz használt toodetect powers riasztások, és halt rossz frissítések.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-133">Information like this powers alerts that fire in production toolet you know something has gone wrong and is also used toodetect and halt bad upgrades.</span></span> <span data-ttu-id="7d2e5-134">Ebben az esetben akkor szeretnénk toosee Ha azt kitalálja, hogy miért hello erőforrás-kezelő kellett toopack hello replikák hello frissítési tartomány be.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-134">In this case, we’d want toosee if we can figure out why hello Resource Manager had toopack hello replicas into hello Upgrade Domain.</span></span> <span data-ttu-id="7d2e5-135">Általában csomagolási nem átmeneti, mert hello hello csomópontja más frissítési tartományok lettek, például.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-135">Usually packing is transient because hello nodes in hello other Upgrade Domains were down, for example.</span></span>

<span data-ttu-id="7d2e5-136">Tegyük fel, erőforrás-kezelő fürt hello próbál tooplace néhány szolgáltatást, de nincs bármely megoldások, amelyek működnek.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-136">Let’s say hello Cluster Resource Manager is trying tooplace some services, but there aren't any solutions that work.</span></span> <span data-ttu-id="7d2e5-137">Szolgáltatások nem helyezhető el, esetén általában hello a következő okok valamelyike miatt:</span><span class="sxs-lookup"><span data-stu-id="7d2e5-137">When services can't be placed, it is usually for one of hello following reasons:</span></span>

1. <span data-ttu-id="7d2e5-138">Néhány átmeneti állapotról tette lehetetlen tooplace a szolgáltatáspéldány, vagy a replika megfelelően</span><span class="sxs-lookup"><span data-stu-id="7d2e5-138">Some transient condition has made it impossible tooplace this service instance or replica correctly</span></span>
2. <span data-ttu-id="7d2e5-139">hello szolgáltatás elhelyezésének vonatkozó követelmények nincsenek unsatisfiable.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-139">hello service’s placement requirements are unsatisfiable.</span></span>

<span data-ttu-id="7d2e5-140">Ezekben az esetekben a hello fürt erőforrás-kezelő a rendszerállapot-jelentések segítségével meghatározhatja, miért hello szolgáltatás nem helyezhető el.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-140">In these cases, health reports from hello Cluster Resource Manager help you determine why hello service can’t be placed.</span></span> <span data-ttu-id="7d2e5-141">A folyamat hello megkötés eltávolítási feladatütemezési nevezzük.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-141">We call this process hello constraint elimination sequence.</span></span> <span data-ttu-id="7d2e5-142">Során, hello rendszer végigvezeti a azok kiküszöbölik hello szolgáltatást és a rekordok érintő konfigurált hello megkötések.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-142">During it, hello system walks through hello configured constraints affecting hello service and records what they eliminate.</span></span> <span data-ttu-id="7d2e5-143">Így ha a szolgáltatás nem tudja elhelyezni, toobe látható csomópontok szüntetni volt, és miért.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-143">This way when services aren’t able toobe placed, you can see which nodes were eliminated and why.</span></span>

## <a name="constraint-types"></a><span data-ttu-id="7d2e5-144">Korlátozás típusok</span><span class="sxs-lookup"><span data-stu-id="7d2e5-144">Constraint types</span></span>
<span data-ttu-id="7d2e5-145">Most szolgáltatással kapcsolatban egyes hello különböző korlátozásokat, a rendszerállapot-jelentések.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-145">Let’s talk about each of hello different constraints in these health reports.</span></span> <span data-ttu-id="7d2e5-146">Állapotfigyelő üzenetek kapcsolódó toothese megkötések látni fogja, amikor a replikák nem helyezhető el.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-146">You will see health messages related toothese constraints when replicas can't be placed.</span></span>

* <span data-ttu-id="7d2e5-147">**ReplicaExclusionStatic** és **ReplicaExclusionDynamic**: ezek a megkötések azt jelzi, hogy a megoldás vissza lett utasítva, mert a két szolgáltatás objektumokat hello partíción kellene toobe helyezett hello azonos csomópont.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-147">**ReplicaExclusionStatic** and **ReplicaExclusionDynamic**: These constraints indicates that a solution was rejected because two service objects from hello same partition would have toobe placed on hello same node.</span></span> <span data-ttu-id="7d2e5-148">Ez nem engedélyezett, mert, majd az adott csomópont hibát túlságosan befolyásolná a adott partíció.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-148">This isn’t allowed because then failure of that node would overly impact that partition.</span></span> <span data-ttu-id="7d2e5-149">ReplicaExclusionStatic és ReplicaExclusionDynamic szinte hello ugyanaz a szabály és hello különbségek valóban nem számít.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-149">ReplicaExclusionStatic and ReplicaExclusionDynamic are almost hello same rule and hello differences don't really matter.</span></span> <span data-ttu-id="7d2e5-150">Ha Ön egy korlátozás eltávolítási sorozatot tartalmazó vagy hello ReplicaExclusionStatic vagy ReplicaExclusionDynamic megkötést, erőforrás-kezelő fürt hello úgy értelmezi, hogy nincs-e elég csomópont.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-150">If you are seeing a constraint elimination sequence containing either hello ReplicaExclusionStatic or ReplicaExclusionDynamic constraint, hello Cluster Resource Manager thinks that there aren’t enough nodes.</span></span> <span data-ttu-id="7d2e5-151">Ehhez a fennmaradó megoldások toouse ezek érvénytelen adatközpontokon, amelyek nem engedélyezettek.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-151">This requires remaining solutions toouse these invalid placements which are disallowed.</span></span> <span data-ttu-id="7d2e5-152">hello egyéb megkötések hello sorrendben lesznek általában adja meg, miért szüntetni hello első helyen a csomópontok.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-152">hello other constraints in hello sequence will usually tell us why nodes are being eliminated in hello first place.</span></span>
* <span data-ttu-id="7d2e5-153">**PlacementConstraint**: Ha ez az üzenet jelenik meg, az azt jelenti, hogy egyes csomópontok azt szüntetni, mivel azok nem egyeztek hello szolgáltatás placement Constraints korlátozásokat.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-153">**PlacementConstraint**: If you see this message, it means that we eliminated some nodes because they didn’t match hello service’s placement constraints.</span></span> <span data-ttu-id="7d2e5-154">Azt nyomkövetési jelenleg konfigurált hello placement Constraints korlátozásokat ki, ez az üzenet részeként.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-154">We trace out hello currently configured placement constraints as a part of this message.</span></span> <span data-ttu-id="7d2e5-155">Ez nem rendellenes, ha egy elhelyezési korlátozás definiálva van.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-155">This is normal if you have a placement constraint defined.</span></span> <span data-ttu-id="7d2e5-156">Azonban ha elhelyezési korlátozás helytelenül hatására túl sok csomópontot toobe szüntetni azt, hogyan szeretné észlel.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-156">However, if placement constraint is incorrectly causing too many nodes toobe eliminated this is how you would notice.</span></span>
* <span data-ttu-id="7d2e5-157">**NodeCapacity**: ennél a határértéknél azt jelenti, hogy az adott fürt erőforrás-kezelő nem tudta helyezze hello replikák hello hello csomópontok jelzett, mert, célszerű keresztül kapacitás helyezni.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-157">**NodeCapacity**: This constraint means that hello Cluster Resource Manager couldn’t place hello replicas on hello indicated nodes because that would put them over capacity.</span></span>
* <span data-ttu-id="7d2e5-158">**Kapcsolat**: Ez a korlát, hogy azt nem sikerült helyezze hello replika hatással hello csomópontok óta hello affinitás korlátozás megsértését okozna.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-158">**Affinity**: This constraint indicates that we couldn’t place hello replica on hello affected nodes since it would cause a violation of hello affinity constraint.</span></span> <span data-ttu-id="7d2e5-159">További információk a kapcsolat [Ez a cikk](service-fabric-cluster-resource-manager-advanced-placement-rules-affinity.md)</span><span class="sxs-lookup"><span data-stu-id="7d2e5-159">More information on affinity is in [this article](service-fabric-cluster-resource-manager-advanced-placement-rules-affinity.md)</span></span>
* <span data-ttu-id="7d2e5-160">**FaultDomain** és **UpgradeDomain**: ennél a határértéknél megszünteti a csomópont, ha forgalomba hozatalára hello replika hello a csomópontok egy adott hiba vagy a frissítési tartomány csomagolási miatt.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-160">**FaultDomain** and **UpgradeDomain**: This constraint eliminates nodes if placing hello replica on hello indicated nodes would cause packing in a particular fault or upgrade domain.</span></span> <span data-ttu-id="7d2e5-161">Néhány példa ennél a határértéknél megvitatása hello témakör jelennek meg [hiba és a frissítés tartomány típusmegkötéseket és az eredményül kapott viselkedéstől](service-fabric-cluster-resource-manager-cluster-description.md)</span><span class="sxs-lookup"><span data-stu-id="7d2e5-161">Several examples discussing this constraint are presented in hello topic on [fault and upgrade domain constraints and resulting behavior](service-fabric-cluster-resource-manager-cluster-description.md)</span></span>
* <span data-ttu-id="7d2e5-162">**PreferredLocation**: nem szabad általában látja csomópontok eltávolítása hello megoldás, mert alapértelmezés szerint az optimalizálás fut ennél a határértéknél.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-162">**PreferredLocation**: You shouldn’t normally see this constraint removing nodes from hello solution since it runs as an optimization by default.</span></span> <span data-ttu-id="7d2e5-163">hello az előnyben részesített földrajzi megszorítás is megtalálható frissítéskor.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-163">hello preferred location constraint is also present during upgrades.</span></span> <span data-ttu-id="7d2e5-164">A frissítés során használt toomove szolgáltatások hátsó toowhere voltak hello frissítés indítása, ha.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-164">During upgrade it is used toomove services back toowhere they were when hello upgrade started.</span></span>

## <a name="blocklisting-nodes"></a><span data-ttu-id="7d2e5-165">Blocklisting csomópontok</span><span class="sxs-lookup"><span data-stu-id="7d2e5-165">Blocklisting Nodes</span></span>
<span data-ttu-id="7d2e5-166">Egy másik üzenet hello fürt erőforrás-kezelő állapotjelentések akkor, ha csomópontok blocklisted.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-166">Another health message hello Cluster Resource Manager reports is when nodes are blocklisted.</span></span> <span data-ttu-id="7d2e5-167">Az eltolásokat tekintheti blocklisting meg automatikusan alkalmazott ideiglenes korlátozásként.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-167">You can think of blocklisting as a temporary constraint that is automatically applied for you.</span></span> <span data-ttu-id="7d2e5-168">Csomópontok blocklisted jelenik meg, ha az adott szolgáltatás típusú példányok elindításakor az ismétlődő sikertelen ügyfeleken.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-168">Nodes get blocklisted when they experience repeated failures when launching instances of that service type.</span></span> <span data-ttu-id="7d2e5-169">Csomópontok blocklisted /-szolgáltatás típusa alapján.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-169">Nodes are blocklisted on a per-service-type basis.</span></span> <span data-ttu-id="7d2e5-170">Egy csomópont lehet egy service Type blocklisted, de nem egy másik.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-170">A node may be blocklisted for one service type but not another.</span></span> 

<span data-ttu-id="7d2e5-171">Látni fogja, fejlesztés során gyakran indítsa blocklisting: néhány programhibája miatt a szolgáltatás állomás toocrash indításakor.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-171">You'll see blocklisting kick in often during development: some bug causes your service host toocrash on startup.</span></span> <span data-ttu-id="7d2e5-172">A Service Fabric megpróbál toocreate hello szolgáltatásgazda néhány alkalommal, és hello probléma tartja lépett fel.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-172">Service Fabric tries toocreate hello service host a few times, and hello failure keeps occurring.</span></span> <span data-ttu-id="7d2e5-173">Több próbálkozás után hello csomópont lekérdezi blocklisted, és hello fürt erőforrás-kezelő megpróbálja máshol toocreate hello szolgáltatást.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-173">After a few attempts, hello node gets blocklisted, and hello Cluster Resource Manager will try toocreate hello service elsewhere.</span></span> <span data-ttu-id="7d2e5-174">A hiba több csomóponton tartja történik, akkor lehetséges, hogy minden érvényes csomópont hello lévő hello fürt mentése tiltsa le.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-174">If that failure keeps happening on multiple nodes, it's possible that all of hello valid nodes in hello cluster end up blocked.</span></span> <span data-ttu-id="7d2e5-175">Blocklisting is, hogy nincs elegendő sikeresen elindítani a hello szolgáltatás toomeet szükséges hello méretezési sok csomópontok mindegyikének eltávolítását.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-175">Blocklisting cna also remove so many nodes that not enough can successfully launch hello service toomeet hello desired scale.</span></span> <span data-ttu-id="7d2e5-176">Látni fogja, általában további hibákat vagy figyelmeztetéseket hello fürt erőforrás-kezelő azt jelzi, hogy hello szolgáltatás alatt hello kívánt replika vagy a példányok száma, valamint milyen hello sikertelenséget jelző rendszerállapot-üzenetek toohello vezet blocklisting hello első helyen.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-176">You'll typically see additional errors or warnings from hello Cluster Resource Manager indicating that hello service is below hello desired replica or instance count, as well as health messages indicating what hello failure is that's leading toohello blocklisting in hello first place.</span></span>

<span data-ttu-id="7d2e5-177">Blocklisting nincs állandó feltétel.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-177">Blocklisting is not a permanent condition.</span></span> <span data-ttu-id="7d2e5-178">Néhány perc elteltével hello csomópontot a rendszer eltávolítja a hello blocklist, és a Service Fabric újra aktiválhatja hello szolgáltatások ezen a csomóponton.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-178">After a few minutes, hello node is removed from hello blocklist and Service Fabric may activate hello services on that node again.</span></span> <span data-ttu-id="7d2e5-179">Szolgáltatás folytatáshoz toofail hello csomópont esetén az adott szolgáltatás blocklisted újra.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-179">If services continue toofail, hello node is blocklisted for that service type again.</span></span> 

### <a name="constraint-priorities"></a><span data-ttu-id="7d2e5-180">Korlátozás prioritások</span><span class="sxs-lookup"><span data-stu-id="7d2e5-180">Constraint priorities</span></span>

> [!WARNING]
> <span data-ttu-id="7d2e5-181">Korlátozás prioritások módosítása nem ajánlott, és jelentős hátrányosan befolyásolhatja a fürtön.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-181">Changing constraint priorities is not recommended and may have significant adverse effects on your cluster.</span></span> <span data-ttu-id="7d2e5-182">hello alábbi információkat referenciaként hello alapértelmezett megkötés prioritások és azok viselkedését valósul meg.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-182">hello below information is provided for reference of hello default constraint priorities and their behavior.</span></span> 
>

<span data-ttu-id="7d2e5-183">Az összes megkötés akkor előfordulhat, hogy rendelkezik lett végezni "Hey – úgy vélem, hogy a tartalék tartomány korlátozások hello legfontosabb dolog, a rendszer.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-183">With all of these constraints, you may have been thinking “Hey – I think that fault domain constraints are hello most important thing in my system.</span></span> <span data-ttu-id="7d2e5-184">A sorrend tooensure hello tartalék tartomány korlátozás nem felel meg, vagyok hajlandó tooviolate egyéb megkötések. "</span><span class="sxs-lookup"><span data-stu-id="7d2e5-184">In order tooensure hello fault domain constraint isn't violated, I’m willing tooviolate other constraints.”</span></span>

<span data-ttu-id="7d2e5-185">Megkötések konfigurálható különböző prioritási szintet.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-185">Constraints can be configured with different priority levels.</span></span> <span data-ttu-id="7d2e5-186">Ezek a következők:</span><span class="sxs-lookup"><span data-stu-id="7d2e5-186">These are:</span></span>

   - <span data-ttu-id="7d2e5-187">"rögzített" (0)</span><span class="sxs-lookup"><span data-stu-id="7d2e5-187">“hard” (0)</span></span>
   - <span data-ttu-id="7d2e5-188">"soft" (1)</span><span class="sxs-lookup"><span data-stu-id="7d2e5-188">“soft” (1)</span></span>
   - <span data-ttu-id="7d2e5-189">"optimalizálási" (2)</span><span class="sxs-lookup"><span data-stu-id="7d2e5-189">“optimization” (2)</span></span>
   - <span data-ttu-id="7d2e5-190">"off" (-1).</span><span class="sxs-lookup"><span data-stu-id="7d2e5-190">“off” (-1).</span></span> 
   
<span data-ttu-id="7d2e5-191">A legtöbb hello megkötések alapértelmezés szerint rögzített korlátozások van konfigurálva.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-191">Most of hello constraints are configured as hard constraints by default.</span></span>

<span data-ttu-id="7d2e5-192">Ritka megkötések hello prioritásának módosítása.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-192">Changing hello priority of constraints is uncommon.</span></span> <span data-ttu-id="7d2e5-193">Nem történt alkalommal ahol megkötés prioritások szükséges toochange, általában toowork néhány egyéb hiba vagy befolyásolta-hello környezet működésére.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-193">There have been times where constraint priorities needed toochange, usually toowork around some other bug or behavior that was impacting hello environment.</span></span> <span data-ttu-id="7d2e5-194">Hello megkötés prioritás infrastruktúra hello rugalmasságot általában a jól működött, de gyakran nem szükséges.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-194">Generally hello flexibility of hello constraint priority infrastructure has worked very well, but it isn't needed often.</span></span> <span data-ttu-id="7d2e5-195">A legtöbb hello idő minden, az alapértelmezett prioritások helyezkedik el.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-195">Most of hello time everything sits at their default priorities.</span></span> 

<span data-ttu-id="7d2e5-196">hello prioritási szintek nem jelenti azt, hogy egy adott korlátozás _fog_ sikeres, és nem lesz mindig kell megfelelnie.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-196">hello priority levels don't mean that a given constraint _will_ be violated, nor that it will always be met.</span></span> <span data-ttu-id="7d2e5-197">Korlátozás prioritások megadása egy sorrendet, amelyben megkötések lépnek érvénybe.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-197">Constraint priorities define an order in which constraints are enforced.</span></span> <span data-ttu-id="7d2e5-198">Prioritások meghatározása hello mellékhatásokkal lehetetlen toosatisfy esetén minden megkötések.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-198">Priorities define hello tradeoffs when it is impossible toosatisfy all constraints.</span></span> <span data-ttu-id="7d2e5-199">Általában minden hello korlátozó kielégíthetők, kivéve, ha valami más továbblép a hello környezetben.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-199">Usually all hello constraints can be satisfied unless there's something else going on in hello environment.</span></span> <span data-ttu-id="7d2e5-200">Néhány példa a forgatókönyvek, amelyek tooconstraint megsértésével olyan ütköző tartoznak, illetve nagyszámú egyidejű hibák.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-200">Some examples of scenarios that will lead tooconstraint violations are conflicting constraints, or large numbers of concurrent failures.</span></span>

<span data-ttu-id="7d2e5-201">A speciális esetben hello megkötés prioritások módosíthatja.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-201">In advanced situations, you can change hello constraint priorities.</span></span> <span data-ttu-id="7d2e5-202">Például, hogy a keresett tooensure, hogy affinitás volna mindig sérti-amikor csomópont-kapacitás szükséges toosolve ad ki.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-202">For example, say you wanted tooensure that affinity would always be violated when necessary toosolve node capacity issues.</span></span> <span data-ttu-id="7d2e5-203">tooachieve, képes hello prioritást hello affinitás megkötés túl "soft" (1), és hagyja hello kapacitás megkötés beállítása túl "rögzített" (0).</span><span class="sxs-lookup"><span data-stu-id="7d2e5-203">tooachieve this, you could set hello priority of hello affinity constraint too“soft” (1) and leave hello capacity constraint set too“hard” (0).</span></span>

<span data-ttu-id="7d2e5-204">a következő konfigurációs hello megadott hello alapértelmezett prioritási értékek hello különböző korlátozásokat:</span><span class="sxs-lookup"><span data-stu-id="7d2e5-204">hello default priority values for hello different constraints are specified in hello following config:</span></span>

<span data-ttu-id="7d2e5-205">ClusterManifest.xml</span><span class="sxs-lookup"><span data-stu-id="7d2e5-205">ClusterManifest.xml</span></span>

```xml
        <Section Name="PlacementAndLoadBalancing">
            <Parameter Name="PlacementConstraintPriority" Value="0" />
            <Parameter Name="CapacityConstraintPriority" Value="0" />
            <Parameter Name="AffinityConstraintPriority" Value="0" />
            <Parameter Name="FaultDomainConstraintPriority" Value="0" />
            <Parameter Name="UpgradeDomainConstraintPriority" Value="1" />
            <Parameter Name="PreferredLocationConstraintPriority" Value="2" />
        </Section>
```

<span data-ttu-id="7d2e5-206">az önálló verziója telepítéseinek művelet vagy az Azure-Template.json üzemeltetett fürtök:</span><span class="sxs-lookup"><span data-stu-id="7d2e5-206">via ClusterConfig.json for Standalone deployments or Template.json for Azure hosted clusters:</span></span>

```json
"fabricSettings": [
  {
    "name": "PlacementAndLoadBalancing",
    "parameters": [
      {
          "name": "PlacementConstraintPriority",
          "value": "0"
      },
      {
          "name": "CapacityConstraintPriority",
          "value": "0"
      },
      {
          "name": "AffinityConstraintPriority",
          "value": "0"
      },
      {
          "name": "FaultDomainConstraintPriority",
          "value": "0"
      },
      {
          "name": "UpgradeDomainConstraintPriority",
          "value": "1"
      },
      {
          "name": "PreferredLocationConstraintPriority",
          "value": "2"
      }
    ]
  }
]
```

## <a name="fault-domain-and-upgrade-domain-constraints"></a><span data-ttu-id="7d2e5-207">Tartalék tartomány és a frissítési tartomány megkötések</span><span class="sxs-lookup"><span data-stu-id="7d2e5-207">Fault domain and upgrade domain constraints</span></span>
<span data-ttu-id="7d2e5-208">hello fürt erőforrás-kezelő hiba és a frissítési tartományok között felülbírálásokkal tookeep szolgáltatások szeretne.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-208">hello Cluster Resource Manager wants tookeep services spread out among fault and upgrade domains.</span></span> <span data-ttu-id="7d2e5-209">Az belül hello fürt erőforrás-kezelő motor korlátozásként modellek el.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-209">It models this as a constraint inside hello Cluster Resource Manager’s engine.</span></span> <span data-ttu-id="7d2e5-210">További információt talál azok használata és az adott viselkedést, tekintse meg a cikk hello a [fürtkonfiguráció](service-fabric-cluster-resource-manager-cluster-description.md#fault-and-upgrade-domain-constraints-and-resulting-behavior).</span><span class="sxs-lookup"><span data-stu-id="7d2e5-210">For more information on how they are used and their specific behavior, check out hello article on [cluster configuration](service-fabric-cluster-resource-manager-cluster-description.md#fault-and-upgrade-domain-constraints-and-resulting-behavior).</span></span>

<span data-ttu-id="7d2e5-211">Erőforrás-kezelő fürt hello esetleg toopack néhány replikák azokat a frissítéseket, vagy a más korlátozások megsértésének rendelés toodeal a frissítési tartományok.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-211">hello Cluster Resource Manager may need toopack a couple replicas into an upgrade domain in order toodeal with upgrades, failures, or other constraint violations.</span></span> <span data-ttu-id="7d2e5-212">Csak akkor, ha nincsenek több hibákat vagy olyan más forgalom hello rendszerrel, amely megakadályozza a megfelelő elhelyezési csomagolási hiba vagy a frissítési tartományok a szokásos módon történik.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-212">Packing into fault or upgrade domains normally happens only when there are several failures or other churn in hello system preventing correct placement.</span></span> <span data-ttu-id="7d2e5-213">Ha ezek közül valamelyik helyzet esetén csomagolási tooprevent, használhatja hello `RequireDomainDistribution` [elhelyezési házirend](service-fabric-cluster-resource-manager-advanced-placement-rules-placement-policies.md#requiring-replica-distribution-and-disallowing-packing).</span><span class="sxs-lookup"><span data-stu-id="7d2e5-213">If you wish tooprevent packing even during these situations, you can utilize hello `RequireDomainDistribution` [placement policy](service-fabric-cluster-resource-manager-advanced-placement-rules-placement-policies.md#requiring-replica-distribution-and-disallowing-packing).</span></span> <span data-ttu-id="7d2e5-214">Vegye figyelembe, hogy ez lehetséges, hogy hatással a szolgáltatás rendelkezésre állása és megbízhatósága, egyik mellékhatása, ezért fontolja meg alaposan.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-214">Note that this may affect service availability and reliability as a side effect, so consider it carefully.</span></span>

<span data-ttu-id="7d2e5-215">Hello környezet megfelelően van konfigurálva, ha minden korlátozó teljesen betartását, még a frissítés során.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-215">If hello environment is configured correctly, all constraints are fully respected, even during upgrades.</span></span> <span data-ttu-id="7d2e5-216">hello kulcs dolog, hogy az a megkötések az erőforrás-kezelő fürt van figyelése hello.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-216">hello key thing is that hello Cluster Resource Manager is watching out for your constraints.</span></span> <span data-ttu-id="7d2e5-217">Ha úgy észleli, hogy megsértése azonnal azt jelenti, és megpróbál toocorrect hello probléma.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-217">When it detects a violation it immediately reports it and tries toocorrect hello issue.</span></span>

## <a name="hello-preferred-location-constraint"></a><span data-ttu-id="7d2e5-218">előnyben részesített hello földrajzi megszorítás</span><span class="sxs-lookup"><span data-stu-id="7d2e5-218">hello preferred location constraint</span></span>
<span data-ttu-id="7d2e5-219">hello PreferredLocation megkötés kissé eltér, mert két különböző használ.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-219">hello PreferredLocation constraint is a little different, as it has two different uses.</span></span> <span data-ttu-id="7d2e5-220">Egy ennél a határértéknél használata alkalmazás frissítéskor.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-220">One use of this constraint is during application upgrades.</span></span> <span data-ttu-id="7d2e5-221">hello fürt erőforrás-kezelő automatikusan kezeli ennél a határértéknél frissítéskor.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-221">hello Cluster Resource Manager automatically manages this constraint during upgrades.</span></span> <span data-ttu-id="7d2e5-222">Használt tooensure, hogy ha frissíti a be nem fejeződik, hogy replikák vissza tootheir kezdeti helyét.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-222">It is used tooensure that when upgrades are complete that replicas return tootheir initial locations.</span></span> <span data-ttu-id="7d2e5-223">hello más hello PreferredLocation megkötés használatos hello [ `PreferredPrimaryDomain` elhelyezési házirend](service-fabric-cluster-resource-manager-advanced-placement-rules-placement-policies.md).</span><span class="sxs-lookup"><span data-stu-id="7d2e5-223">hello other use of hello PreferredLocation constraint is for hello [`PreferredPrimaryDomain` placement policy](service-fabric-cluster-resource-manager-advanced-placement-rules-placement-policies.md).</span></span> <span data-ttu-id="7d2e5-224">Mindkét esetben optimalizálás, és ezért hello PreferredLocation megkötés hello egyetlen megkötés túl beállítása "Optimalizálási" alapértelmezés szerint.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-224">Both of these are optimizations, and hence hello PreferredLocation constraint is hello only constraint set too"Optimization" by default.</span></span>

## <a name="upgrades"></a><span data-ttu-id="7d2e5-225">Frissítések</span><span class="sxs-lookup"><span data-stu-id="7d2e5-225">Upgrades</span></span>
<span data-ttu-id="7d2e5-226">Erőforrás-kezelő fürt hello is segít alkalmazás és a fürt frissítése során, amely rendelkezik a két feladat során:</span><span class="sxs-lookup"><span data-stu-id="7d2e5-226">hello Cluster Resource Manager also helps during application and cluster upgrades, during which it has two jobs:</span></span>

* <span data-ttu-id="7d2e5-227">Győződjön meg arról, hogy hello szabályok hello fürt ne legyenek veszélyben</span><span class="sxs-lookup"><span data-stu-id="7d2e5-227">ensure that hello rules of hello cluster are not compromised</span></span>
* <span data-ttu-id="7d2e5-228">Próbálja meg zökkenőmentesen toohelp hello frissítési Ugrás</span><span class="sxs-lookup"><span data-stu-id="7d2e5-228">try toohelp hello upgrade go smoothly</span></span>

### <a name="keep-enforcing-hello-rules"></a><span data-ttu-id="7d2e5-229">Tartsa hello szabályok érvényesítése</span><span class="sxs-lookup"><span data-stu-id="7d2e5-229">Keep enforcing hello rules</span></span>
<span data-ttu-id="7d2e5-230">hello fő dolog toobe tisztában, hogy hello szabályok – hello vonatkozó szigorú korlátozásokat például egy elhelyezési korlátozás és a kapacitások - továbbra is érvényesek frissítéskor.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-230">hello main thing toobe aware of is that hello rules – hello strict constraints like placement constraints and capacities - are still enforced during upgrades.</span></span> <span data-ttu-id="7d2e5-231">Egy elhelyezési korlátozás győződjön meg arról, hogy a munkaterhelések csak futni, ahol azok csatlakozhatnának a, akár a frissítések során.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-231">Placement constraints ensure that your workloads only run where they are allowed to, even during upgrades.</span></span> <span data-ttu-id="7d2e5-232">Ha a Szolgáltatások erősen korlátozott, frissítések több időt vesz igénybe.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-232">When services are highly constrained, upgrades can take longer.</span></span> <span data-ttu-id="7d2e5-233">Előfordulhat, hogy néhány lehetőség, ahol folytathatja a frissítési hello szolgáltatást vagy hello csomópont futtatása esetén állapotba.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-233">When hello service or hello node it is running on is brought down for an update there may be few options for where it can go.</span></span>

### <a name="smart-replacements"></a><span data-ttu-id="7d2e5-234">Intelligens cserékhez</span><span class="sxs-lookup"><span data-stu-id="7d2e5-234">Smart replacements</span></span>
<span data-ttu-id="7d2e5-235">Ha a frissítés elindul, hello erőforrás-kezelő pillanatképet készít a hello hello fürt aktuális elrendezése.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-235">When an upgrade starts, hello Resource Manager takes a snapshot of hello current arrangement of hello cluster.</span></span> <span data-ttu-id="7d2e5-236">Minden frissítési tartomány befejeződött, akkor megpróbálja tooreturn hello szolgáltatásokat, hogy a frissítési tartomány tootheir eredeti megállapodás voltak.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-236">As each Upgrade Domain completes, it attempts tooreturn hello services that were in that Upgrade Domain tootheir original arrangement.</span></span> <span data-ttu-id="7d2e5-237">Ezzel a módszerrel nincsenek legfeljebb két átmenetek szolgáltatás hello frissítés során.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-237">This way there are at most two transitions for a service during hello upgrade.</span></span> <span data-ttu-id="7d2e5-238">Egy kilép a hatással hello csomópont, és egy helyezze vissza.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-238">There is one move out of hello affected node and one move back in.</span></span> <span data-ttu-id="7d2e5-239">Hello frissítés biztosítja azt is hello frissítés előtti hello fürt vagy a szolgáltatás toohow adatszolgáltató nem befolyásolja a hello fürt hello elrendezését.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-239">Returning hello cluster or service toohow it was before hello upgrade also ensures hello upgrade doesn’t impact hello layout of hello cluster.</span></span> 

### <a name="reduced-churn"></a><span data-ttu-id="7d2e5-240">Csökkentett forgalom</span><span class="sxs-lookup"><span data-stu-id="7d2e5-240">Reduced churn</span></span>
<span data-ttu-id="7d2e5-241">Egy másik olyan dolog, ami a frissítések során történik az adott fürt erőforrás-kezelő kikapcsolja a terheléselosztás hello.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-241">Another thing that happens during upgrades is that hello Cluster Resource Manager turns off balancing.</span></span> <span data-ttu-id="7d2e5-242">Megakadályozza a terheléselosztás megakadályozza, hogy a szükségtelen reakciók toohello frissítés, például a szolgáltatások helyezi át a csomópontokra, amelyeket hello frissítés is szerepelnek.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-242">Preventing balancing prevents unnecessary reactions toohello upgrade itself, like moving services into nodes that were emptied for hello upgrade.</span></span> <span data-ttu-id="7d2e5-243">Ha a szóban forgó hello frissítése a fürtök frissítése, majd hello fürtözési nem kiegyensúlyozott hello frissítés során.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-243">If hello upgrade in question is a Cluster upgrade, then hello entire cluster is not balanced during hello upgrade.</span></span> <span data-ttu-id="7d2e5-244">Korlátozás ellenőrzések addig maradnak aktívak, csak a mozgás hello proaktív terheléselosztási a mérőszámok alapján le van tiltva.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-244">Constraint checks stay active, only movement based on hello proactive balancing of metrics is disabled.</span></span>

### <a name="buffered-capacity--upgrade"></a><span data-ttu-id="7d2e5-245">A pufferelt kapacitás & frissítése</span><span class="sxs-lookup"><span data-stu-id="7d2e5-245">Buffered Capacity & Upgrade</span></span>
<span data-ttu-id="7d2e5-246">Általában érdemes hello frissítési toocomplete akkor is, ha hello fürt vagy a korlátozott toofull.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-246">Generally you want hello upgrade toocomplete even if hello cluster is constrained or close toofull.</span></span> <span data-ttu-id="7d2e5-247">Hello kapacitás hello fürt kezelése fontos még több frissítéskor megy végbe.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-247">Managing hello capacity of hello cluster is even more important during upgrades than usual.</span></span> <span data-ttu-id="7d2e5-248">Attól függően, hogy hello hány frissítési tartományt, 5 és 20 százalékát kapacitás között kell áttelepíteni, hello frissítés áthalad hello fürt.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-248">Depending on hello number of upgrade domains, between 5 and 20 percent of capacity must be migrated as hello upgrade rolls through hello cluster.</span></span> <span data-ttu-id="7d2e5-249">Munka toogo valahol rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-249">That work has toogo somewhere.</span></span> <span data-ttu-id="7d2e5-250">Ha ez az hello fogalmát [kapacitások pufferelt](service-fabric-cluster-resource-manager-cluster-description.md#buffered-capacity) hasznos.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-250">This is where hello notion of [buffered capacities](service-fabric-cluster-resource-manager-cluster-description.md#buffered-capacity) is useful.</span></span> <span data-ttu-id="7d2e5-251">A pufferelt kapacitás tiszteletben tartják normál működés során.</span><span class="sxs-lookup"><span data-stu-id="7d2e5-251">Buffered capacity is respected during normal operation.</span></span> <span data-ttu-id="7d2e5-252">hello fürt erőforrás-kezelő frissítéskor szükség lehet, hogy töltse ki csomópontja fel tootheir teljes kapacitás (hello puffer fel).</span><span class="sxs-lookup"><span data-stu-id="7d2e5-252">hello Cluster Resource Manager may fill nodes up tootheir total capacity (consuming hello buffer) during upgrades if necessary.</span></span>

## <a name="next-steps"></a><span data-ttu-id="7d2e5-253">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="7d2e5-253">Next steps</span></span>
* <span data-ttu-id="7d2e5-254">Indítsa el a hello elejétől és [egy bevezető toohello Service Fabric fürt erőforrás-kezelő beolvasása](service-fabric-cluster-resource-manager-introduction.md)</span><span class="sxs-lookup"><span data-stu-id="7d2e5-254">Start from hello beginning and [get an Introduction toohello Service Fabric Cluster Resource Manager](service-fabric-cluster-resource-manager-introduction.md)</span></span>
