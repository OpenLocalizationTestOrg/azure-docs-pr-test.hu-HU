---
title: "aaaService Fabric fürt Resource Manager - kapcsolat |} Microsoft Docs"
description: "A Service Fabric szolgáltatások kapcsolat konfigurálása – áttekintés"
services: service-fabric
documentationcenter: .net
author: masnider
manager: timlt
editor: 
ms.assetid: 678073e1-d08d-46c4-a811-826e70aba6c4
ms.service: Service-Fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 08/18/2017
ms.author: masnider
ms.openlocfilehash: 7dc9b6d9c18d9d615d39cff7de9d7cba1c040474
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="configuring-and-using-service-affinity-in-service-fabric"></a><span data-ttu-id="a3e62-103">Konfigurálásával és a Service Fabric szolgáltatás affinitás használatával</span><span class="sxs-lookup"><span data-stu-id="a3e62-103">Configuring and using service affinity in Service Fabric</span></span>
<span data-ttu-id="a3e62-104">Kapcsolat egy vezérlő főként toohelp könnyű hello átmeneteit felhő- és mikroszolgáltatások world hello nagyobb egységes alkalmazások biztosított.</span><span class="sxs-lookup"><span data-stu-id="a3e62-104">Affinity is a control that is provided mainly toohelp ease hello transition of larger monolithic applications into hello cloud and microservices world.</span></span> <span data-ttu-id="a3e62-105">Azt is szolgál az optimalizálás hello teljesítmény szolgáltatások, bár ez hatásai lehetnek.</span><span class="sxs-lookup"><span data-stu-id="a3e62-105">It is also used as an optimization for improving hello performance of services, although doing so can have side effects.</span></span>

<span data-ttu-id="a3e62-106">Tegyük fel, egy nagyobb alkalmazást, vagy olyat, amely nem csupán kialakítása során szem előtt, a háló tooService (vagy bármely elosztott környezetben) mikroszolgáltatások most helyeznek.</span><span class="sxs-lookup"><span data-stu-id="a3e62-106">Let’s say you’re bringing a larger app, or one that just wasn’t designed with microservices in mind, tooService Fabric (or any distributed environment).</span></span> <span data-ttu-id="a3e62-107">Ez a átviteli típus általános.</span><span class="sxs-lookup"><span data-stu-id="a3e62-107">This type of transition is common.</span></span> <span data-ttu-id="a3e62-108">Hello teljes app feloldása hello környezetbe, csomagolás és meggyőződött arról, hogy fut-e zökkenőmentesen megkezdéséhez.</span><span class="sxs-lookup"><span data-stu-id="a3e62-108">You start by lifting hello entire app into hello environment, packaging it, and making sure it is running smoothly.</span></span> <span data-ttu-id="a3e62-109">Majd megkezdése ossza fel, hogy az összes beszélgetés tooeach más különböző kisebb szolgáltatásokat.</span><span class="sxs-lookup"><span data-stu-id="a3e62-109">Then you start breaking it down into different smaller services that all talk tooeach other.</span></span>

<span data-ttu-id="a3e62-110">Végül azt tapasztalhatja, hogy hello alkalmazás bizonyos hibákat észlelt.</span><span class="sxs-lookup"><span data-stu-id="a3e62-110">Eventually you may find that hello application is experiencing some issues.</span></span> <span data-ttu-id="a3e62-111">hello problémák általában egyikébe ezen kategóriák:</span><span class="sxs-lookup"><span data-stu-id="a3e62-111">hello issues usually fall into one of these categories:</span></span>

1. <span data-ttu-id="a3e62-112">Néhány összetevőt X hello egységes alkalmazás összetevő Y olyan nem dokumentált függőségi volt, és az összetevőket külön szolgáltatás csak kapcsolva.</span><span class="sxs-lookup"><span data-stu-id="a3e62-112">Some component X in hello monolithic app had an undocumented dependency on component Y, and you just turned those components into separate services.</span></span> <span data-ttu-id="a3e62-113">Mivel ezek a szolgáltatások hello fürt különböző csomópontokon futnak, fontosságúak megszakadt.</span><span class="sxs-lookup"><span data-stu-id="a3e62-113">Since these services are now running on different nodes in hello cluster, they're broken.</span></span>
2. <span data-ttu-id="a3e62-114">Ezek az összetevők kommunikációra keresztül (nevesített csövek helyi |} megosztott memória |} lemezen tárolt fájlok), és valóban toobe képes toowrite megosztott tooa helyi erőforrás a teljesítményre vonatkozó megfontolásból most.</span><span class="sxs-lookup"><span data-stu-id="a3e62-114">These components communicate via (local named pipes | shared memory | files on disk) and they really need toobe able toowrite tooa shared local resource for performance reasons right now.</span></span> <span data-ttu-id="a3e62-115">Rögzített függőséget is törlődik, talán.</span><span class="sxs-lookup"><span data-stu-id="a3e62-115">That hard dependency gets removed later, maybe.</span></span>
3. <span data-ttu-id="a3e62-116">Minden megfelelően működik, de azt elemről kiderül, hogy, hogy a két összetevő-e a ténylegesen chatty/teljesítmény-és nagybetűket.</span><span class="sxs-lookup"><span data-stu-id="a3e62-116">Everything is fine, but it turns out that these two components are actually chatty/performance sensitive.</span></span> <span data-ttu-id="a3e62-117">Ha azok áthelyezi őket szolgáltatások külön teljes tanked az alkalmazások teljesítményének és késést növelni.</span><span class="sxs-lookup"><span data-stu-id="a3e62-117">When they moved them into separate services overall application performance tanked or latency increased.</span></span> <span data-ttu-id="a3e62-118">Ennek eredményeképpen hello alkalmazás általános nem teljesíti elvárásainak.</span><span class="sxs-lookup"><span data-stu-id="a3e62-118">As a result, hello overall application is not meeting expectations.</span></span>

<span data-ttu-id="a3e62-119">Ezekben az esetekben azt nem szeretné toolose a újrabontási munka, és szeretné toogo hátsó toohello monolit.</span><span class="sxs-lookup"><span data-stu-id="a3e62-119">In these cases, we don’t want toolose our refactoring work, and don’t want toogo back toohello monolith.</span></span> <span data-ttu-id="a3e62-120">hello utolsó feltétel lehet egy egyszerű optimalizálás kívánatos.</span><span class="sxs-lookup"><span data-stu-id="a3e62-120">hello last condition may even be desirable as a plain optimization.</span></span> <span data-ttu-id="a3e62-121">Azonban amíg azt is Újratervezés hello összetevők toowork természetes szolgáltatásként (vagy igazolnia megoldható hello teljesítményre vonatkozó elvárásokat bármilyen más módon) programot fogjuk tooneed bizonyos értelemben az helység szerint.</span><span class="sxs-lookup"><span data-stu-id="a3e62-121">However, until we can redesign hello components toowork naturally as services (or until we can solve hello performance expectations some other way) we're going tooneed some sense of locality.</span></span>

<span data-ttu-id="a3e62-122">Milyen toodo?</span><span class="sxs-lookup"><span data-stu-id="a3e62-122">What toodo?</span></span> <span data-ttu-id="a3e62-123">Jól próbálkozzon affinitás bekapcsolásával.</span><span class="sxs-lookup"><span data-stu-id="a3e62-123">Well, you could try turning on affinity.</span></span>

## <a name="how-tooconfigure-affinity"></a><span data-ttu-id="a3e62-124">Hogyan tooconfigure kapcsolat</span><span class="sxs-lookup"><span data-stu-id="a3e62-124">How tooconfigure affinity</span></span>
<span data-ttu-id="a3e62-125">tooset fel a kapcsolatot, megadhatja a egy két különböző szolgáltatások közötti kapcsolat.</span><span class="sxs-lookup"><span data-stu-id="a3e62-125">tooset up affinity, you define an affinity relationship between two different services.</span></span> <span data-ttu-id="a3e62-126">Az eltolásokat tekintheti affinitás "mutató" egy szolgáltatás más, valamint arról, hogy "csak fut, ahol, hogy fut-e a szolgáltatás."</span><span class="sxs-lookup"><span data-stu-id="a3e62-126">You can think of affinity as “pointing” one service at another and saying “This service can only run where that service is running.”</span></span> <span data-ttu-id="a3e62-127">Néha igazolnia tekintse meg a tooaffinity (Ha Ön pont hello gyermek hello szülő) szülő-gyermek kapcsolatként.</span><span class="sxs-lookup"><span data-stu-id="a3e62-127">Sometimes we refer tooaffinity as a parent/child relationship (where you point hello child at hello parent).</span></span> <span data-ttu-id="a3e62-128">Affinitás biztosítja, hogy hello replikák és a szolgáltatás egy példánya kerülnek, hello ugyanaz, mint egy másik szolgáltatás csomópontok.</span><span class="sxs-lookup"><span data-stu-id="a3e62-128">Affinity ensures that hello replicas or instances of one service are placed on hello same nodes as those of another service.</span></span>

```csharp
ServiceCorrelationDescription affinityDescription = new ServiceCorrelationDescription();
affinityDescription.Scheme = ServiceCorrelationScheme.Affinity;
affinityDescription.ServiceName = new Uri("fabric:/otherApplication/parentService");
serviceDescription.Correlations.Add(affinityDescription);
await fabricClient.ServiceManager.CreateServiceAsync(serviceDescription);
```

> [!NOTE]
> <span data-ttu-id="a3e62-129">Egy alárendelt szolgáltatás csak egyetlen kapcsolat vehet részt.</span><span class="sxs-lookup"><span data-stu-id="a3e62-129">A child service can only participate in a single affinity relationship.</span></span> <span data-ttu-id="a3e62-130">Ha hello gyermek affinitás toobe tootwo szülő szolgáltatások egyszerre néhány lehetőség közül választhat:</span><span class="sxs-lookup"><span data-stu-id="a3e62-130">If you wanted hello child toobe affinitized tootwo parent services at once you have a couple options:</span></span>
> - <span data-ttu-id="a3e62-131">Hello kapcsolatok fordított (parentService1 és hello aktuális gyermek szolgáltatási pont parentService2 rendelkeznek), vagy</span><span class="sxs-lookup"><span data-stu-id="a3e62-131">Reverse hello relationships (have parentService1 and parentService2 point at hello current child service), or</span></span>
> - <span data-ttu-id="a3e62-132">Megjelölést egy hello szülők hubot konvenció, és a pont, hogy a szolgáltatás összes szolgáltatásokat.</span><span class="sxs-lookup"><span data-stu-id="a3e62-132">Designate one of hello parents as a hub by convention and have all services point at that service.</span></span> 
>
> <span data-ttu-id="a3e62-133">Elhelyezési viselkedés hello fürt eredő hello azonos kell hello.</span><span class="sxs-lookup"><span data-stu-id="a3e62-133">hello resulting placement behavior in hello cluster should be hello same.</span></span>
>

## <a name="different-affinity-options"></a><span data-ttu-id="a3e62-134">Másik kapcsolat beállításai</span><span class="sxs-lookup"><span data-stu-id="a3e62-134">Different affinity options</span></span>
<span data-ttu-id="a3e62-135">Kapcsolat több korrelációs rendszer keresztül képviseli, és két különböző módja van.</span><span class="sxs-lookup"><span data-stu-id="a3e62-135">Affinity is represented via one of several correlation schemes, and has two different modes.</span></span> <span data-ttu-id="a3e62-136">hello affinitás leggyakoribb módja, úgynevezett NonAlignedAffinity.</span><span class="sxs-lookup"><span data-stu-id="a3e62-136">hello most common mode of affinity is what we call NonAlignedAffinity.</span></span> <span data-ttu-id="a3e62-137">NonAlignedAffinity, a replikák hello vagy hello különböző services példányát kerülnek, hello azonos csomópontok.</span><span class="sxs-lookup"><span data-stu-id="a3e62-137">In NonAlignedAffinity, hello replicas or instances of hello different services are placed on hello same nodes.</span></span> <span data-ttu-id="a3e62-138">hello más módja AlignedAffinity.</span><span class="sxs-lookup"><span data-stu-id="a3e62-138">hello other mode is AlignedAffinity.</span></span> <span data-ttu-id="a3e62-139">Igazított affinitás akkor hasznos, csak a állapotalapú szolgáltatás.</span><span class="sxs-lookup"><span data-stu-id="a3e62-139">Aligned Affinity is useful only with stateful services.</span></span> <span data-ttu-id="a3e62-140">Szolgáltatások igazítva toohave affinitás biztosítja, hogy a szolgáltatások hello elsődleges kerülnek-e a két stateful beállítása hello azonos csomópontok, minden más.</span><span class="sxs-lookup"><span data-stu-id="a3e62-140">Configuring two stateful services toohave aligned affinity ensures that hello primaries of those services are placed on hello same nodes as each other.</span></span> <span data-ttu-id="a3e62-141">Az ezen szolgáltatások toobe helyezve hello azonos is okoz minden párt több másodlagos adatbázist csomópontok.</span><span class="sxs-lookup"><span data-stu-id="a3e62-141">It also causes each pair of secondaries for those services toobe placed on hello same nodes.</span></span> <span data-ttu-id="a3e62-142">Emellett (noha ritkább) tooconfigure NonAlignedAffinity állapotalapú szolgáltatások.</span><span class="sxs-lookup"><span data-stu-id="a3e62-142">It is also possible (though less common) tooconfigure NonAlignedAffinity for stateful services.</span></span> <span data-ttu-id="a3e62-143">NonAlignedAffinity két állapotalapú szolgáltatások lefut a hello hello különböző replikáinak hello azonos csomópontok, de az elsődleges különböző csomópontokon sikerült befejezéséhez.</span><span class="sxs-lookup"><span data-stu-id="a3e62-143">For NonAlignedAffinity, hello different replicas of hello two stateful services would run on hello same nodes, but their primaries could end up on different nodes.</span></span>

<span data-ttu-id="a3e62-144"><center>
![Kapcsolat módok és azok által okozott hatások][Image1]
</center></span><span class="sxs-lookup"><span data-stu-id="a3e62-144"><center>
![Affinity Modes and Their Effects][Image1]
</center></span></span>

### <a name="best-effort-desired-state"></a><span data-ttu-id="a3e62-145">Szükséges elérhető legjobb állapota</span><span class="sxs-lookup"><span data-stu-id="a3e62-145">Best effort desired state</span></span>
<span data-ttu-id="a3e62-146">Egy kapcsolat a lehető legkedvezőbb módon.</span><span class="sxs-lookup"><span data-stu-id="a3e62-146">An affinity relationship is best effort.</span></span> <span data-ttu-id="a3e62-147">Nem biztosít hello közös elhelyezés vagy megbízhatóságát, hogy a futó hello azonos végrehajtható folyamat nem azonos garanciát.</span><span class="sxs-lookup"><span data-stu-id="a3e62-147">It does not provide hello same guarantees of collocation or reliability that running in hello same executable process does.</span></span> <span data-ttu-id="a3e62-148">egy kapcsolat hello szolgáltatások sikertelen lehet, és egymástól függetlenül helyezhető alapvetően különböző entitások.</span><span class="sxs-lookup"><span data-stu-id="a3e62-148">hello services in an affinity relationship are fundamentally different entities that can fail and be moved independently.</span></span> <span data-ttu-id="a3e62-149">Egy kapcsolat is érvénytelenítheti, bár ezeket ideiglenes.</span><span class="sxs-lookup"><span data-stu-id="a3e62-149">An affinity relationship could also break, though these breaks are temporary.</span></span> <span data-ttu-id="a3e62-150">Például kapacitás korlátozások jelentheti, hogy csak néhány hello szolgáltatásobjektumokat hello kapcsolat egy adott csomópont kiférjen.</span><span class="sxs-lookup"><span data-stu-id="a3e62-150">For example, capacity limitations may mean that only some of hello service objects in hello affinity relationship can fit on a given node.</span></span> <span data-ttu-id="a3e62-151">Ezekben az esetekben annak ellenére, hogy egy kapcsolat van érvényben, akkor nem kényszeríthető esedékes toohello egyéb megkötések.</span><span class="sxs-lookup"><span data-stu-id="a3e62-151">In these cases even though there's an affinity relationship in place, it can't be enforced due toohello other constraints.</span></span> <span data-ttu-id="a3e62-152">Ha így lehetséges toodo, hello megsértése automatikusan kijavításáig később.</span><span class="sxs-lookup"><span data-stu-id="a3e62-152">If it is possible toodo so, hello violation is automatically corrected later.</span></span>

### <a name="chains-vs-stars"></a><span data-ttu-id="a3e62-153">Csillag és láncok</span><span class="sxs-lookup"><span data-stu-id="a3e62-153">Chains vs. stars</span></span>
<span data-ttu-id="a3e62-154">Ma hello fürt erőforrás-kezelő nem tud toomodel láncok affinitás kapcsolatok.</span><span class="sxs-lookup"><span data-stu-id="a3e62-154">Today hello Cluster Resource Manager isn't able toomodel chains of affinity relationships.</span></span> <span data-ttu-id="a3e62-155">Ez azt jelenti, hogy egy szolgáltatás, amely egy kapcsolat a gyermek nem lehet szülője egy másik kapcsolat.</span><span class="sxs-lookup"><span data-stu-id="a3e62-155">What this means is that a service that is a child in one affinity relationship can’t be a parent in another affinity relationship.</span></span> <span data-ttu-id="a3e62-156">Ha azt szeretné, toomodel a kapcsolat típusát, hatékonyan van toomodel csillag, nem pedig a lánc azt.</span><span class="sxs-lookup"><span data-stu-id="a3e62-156">If you want toomodel this type of relationship, you effectively have toomodel it as a star, rather than a chain.</span></span> <span data-ttu-id="a3e62-157">a lánc tooa csillag, hello legalsó gyermek toomove helyette toohello szülőjének első gyermekét szülő lenne.</span><span class="sxs-lookup"><span data-stu-id="a3e62-157">toomove from a chain tooa star, hello bottommost child would be parented toohello first child’s parent instead.</span></span> <span data-ttu-id="a3e62-158">Attól függően, hogy a szolgáltatások hello elrendezésének előfordulhat, hogy toodo ezt többször.</span><span class="sxs-lookup"><span data-stu-id="a3e62-158">Depending on hello arrangement of your services, you may have toodo this multiple times.</span></span> <span data-ttu-id="a3e62-159">Ha nincs természetes szülő szolgáltatás, előfordulhat, hogy toocreate tartalmazó helyőrzőjeként szolgál.</span><span class="sxs-lookup"><span data-stu-id="a3e62-159">If there's no natural parent service, you may have toocreate one that serves as a placeholder.</span></span> <span data-ttu-id="a3e62-160">A követelményeitől függően akkor is érdemes lehet a toolook [alkalmazáscsoportok](service-fabric-cluster-resource-manager-application-groups.md).</span><span class="sxs-lookup"><span data-stu-id="a3e62-160">Depending on your requirements, you may also want toolook into [Application Groups](service-fabric-cluster-resource-manager-application-groups.md).</span></span>

<span data-ttu-id="a3e62-161"><center>
![Láncok vs. Hello affinitás kapcsolatokat a környezetben található csillagokra][Image2]
</center></span><span class="sxs-lookup"><span data-stu-id="a3e62-161"><center>
![Chains vs. Stars in hello Context of Affinity Relationships][Image2]
</center></span></span>

<span data-ttu-id="a3e62-162">Egy másik művelet toonote affinitás kapcsolatok ma, hogy azok irányt.</span><span class="sxs-lookup"><span data-stu-id="a3e62-162">Another thing toonote about affinity relationships today is that they are directional.</span></span> <span data-ttu-id="a3e62-163">Ez azt jelenti, hogy hello affinitás szabály csak érvénybe lépteti a hello szülő elhelyezett hello gyermek.</span><span class="sxs-lookup"><span data-stu-id="a3e62-163">This means that hello affinity rule only enforces that hello child placed with hello parent.</span></span> <span data-ttu-id="a3e62-164">Ezért nem biztosítja, hogy hello szülő elhelyezve hello gyermek.</span><span class="sxs-lookup"><span data-stu-id="a3e62-164">It does not ensure that hello parent is located with hello child.</span></span> <span data-ttu-id="a3e62-165">Szintén fontos, hogy a kapcsolat hello toonote perfect vagy azonnal kényszerítése óta különböző szolgáltatásokhoz különböző életciklusának rendelkező és is sikertelen mozognak.</span><span class="sxs-lookup"><span data-stu-id="a3e62-165">It is also important toonote that hello affinity relationship can't be perfect or instantly enforced since different services have with different lifecycles and can fail and move independently.</span></span> <span data-ttu-id="a3e62-166">Például tételezzük fel hello szülő hirtelen meghibásodik tooanother csomópont mert lefagyott.</span><span class="sxs-lookup"><span data-stu-id="a3e62-166">For example, let's say hello parent suddenly fails over tooanother node because it crashed.</span></span> <span data-ttu-id="a3e62-167">hello fürt erőforrás-kezelő és a Feladatátvevőfürt-kezelő leíró hello feladatátvételi először, mivel a szeretné megtartani a hello szolgáltatások, egységes, és elérhető hello prioritás.</span><span class="sxs-lookup"><span data-stu-id="a3e62-167">hello Cluster Resource Manager and Failover Manager handle hello failover first, since keeping hello services up, consistent, and available is hello priority.</span></span> <span data-ttu-id="a3e62-168">Hello feladatátvétel után hello kapcsolat megszakad, de hello fürt erőforrás-kezelő úgy értelmezi, minden rendben mindaddig, amíg azt észleli, hogy hello alárendelt helye nem hello szülő.</span><span class="sxs-lookup"><span data-stu-id="a3e62-168">Once hello failover completes, hello affinity relationship is broken, but hello Cluster Resource Manager thinks everything is fine until it notices that hello child is not located with hello parent.</span></span> <span data-ttu-id="a3e62-169">Ezek rendezi az ellenőrzések rendszeres időközönként kerül sor.</span><span class="sxs-lookup"><span data-stu-id="a3e62-169">These sorts of checks are performed periodically.</span></span> <span data-ttu-id="a3e62-170">További információkat a hogyan értékeli ki a fürt erőforrás-kezelő hello megkötések [Ez a cikk](service-fabric-cluster-resource-manager-management-integration.md#constraint-types), és [a](service-fabric-cluster-resource-manager-balancing.md) többet hogyan tooconfigure hello ütemben történik, amelyen ezek a megkötések teljesíthetők a kiszolgálóhoz értékeli ki.</span><span class="sxs-lookup"><span data-stu-id="a3e62-170">More information on how hello Cluster Resource Manager evaluates constraints is available in [this article](service-fabric-cluster-resource-manager-management-integration.md#constraint-types), and [this one](service-fabric-cluster-resource-manager-balancing.md) talks more about how tooconfigure hello cadence on which these constraints are evaluated.</span></span>   


### <a name="partitioning-support"></a><span data-ttu-id="a3e62-171">Particionálás támogatása</span><span class="sxs-lookup"><span data-stu-id="a3e62-171">Partitioning support</span></span>
<span data-ttu-id="a3e62-172">hello utolsó lépésként toonotice kapcsolatra vonatkozó, hogy affinitás kapcsolatok nem támogatottak, ahol hello szülő particionálva van.</span><span class="sxs-lookup"><span data-stu-id="a3e62-172">hello final thing toonotice about affinity is that affinity relationships aren’t supported where hello parent is partitioned.</span></span> <span data-ttu-id="a3e62-173">Lehet, hogy végül támogatja a particionált szülő szolgáltatások, de jelenleg nem engedélyezett.</span><span class="sxs-lookup"><span data-stu-id="a3e62-173">Partitioned parent services may be supported eventually, but today it is not allowed.</span></span>

## <a name="next-steps"></a><span data-ttu-id="a3e62-174">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="a3e62-174">Next steps</span></span>
- <span data-ttu-id="a3e62-175">A szolgáltatások konfigurálásáról [további információ a szolgáltatások konfigurálása](service-fabric-cluster-resource-manager-configure-services.md)</span><span class="sxs-lookup"><span data-stu-id="a3e62-175">For more information on configuring services, [Learn about configuring Services](service-fabric-cluster-resource-manager-configure-services.md)</span></span>
- <span data-ttu-id="a3e62-176">toolimit szolgáltatások tooa kis készletét a gépek vagy összesítése hello betöltése a szolgáltatások, használjon [alkalmazáscsoportok](service-fabric-cluster-resource-manager-application-groups.md)</span><span class="sxs-lookup"><span data-stu-id="a3e62-176">toolimit services tooa small set of machines or aggregating hello load of services, use [Application Groups](service-fabric-cluster-resource-manager-application-groups.md)</span></span>

[Image1]:./media/service-fabric-cluster-resource-manager-advanced-placement-rules-affinity/cluster-resrouce-manager-affinity-modes.png
[Image2]:./media/service-fabric-cluster-resource-manager-advanced-placement-rules-affinity/cluster-resource-manager-chains-vs-stars.png