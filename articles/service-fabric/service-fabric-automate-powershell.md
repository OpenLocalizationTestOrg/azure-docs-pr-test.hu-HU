---
title: "Azure Service Fabric Alkalmazáskezelés aaaAutomate |} Microsoft Docs"
description: "Központi telepítése, frissítése, tesztelése és PowerShell használatával távolítsa el a Service Fabric-alkalmazások."
services: service-fabric
documentationcenter: .net
author: rwike77
manager: timlt
editor: 
ms.assetid: f03f4294-571d-4262-8a77-cc8b481b959d
ms.service: service-fabric
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 06/16/2017
ms.author: ryanwi
redirect_url: /azure/service-fabric/service-fabric-deploy-remove-applications
ms.openlocfilehash: a64a39dbee26be8ac15fee767a90fd06bfe4b896
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="automate-hello-application-lifecycle-using-powershell"></a><span data-ttu-id="6f3b0-103">Automatizálása a PowerShell használatával hello alkalmazás életciklusa</span><span class="sxs-lookup"><span data-stu-id="6f3b0-103">Automate hello application lifecycle using PowerShell</span></span>
<span data-ttu-id="6f3b0-104">Hello sok aspektusainak [Service Fabric-alkalmazás életciklusa](service-fabric-application-lifecycle.md) automatizálható.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-104">Many aspects of hello [Service Fabric application lifecycle](service-fabric-application-lifecycle.md) can be automated.</span></span>  <span data-ttu-id="6f3b0-105">Ez a cikk bemutatja, hogyan toouse PowerShell tooautomate gyakori feladatokat telepítése, frissítése, eltávolítása és tesztelés az Azure Service Fabric-alkalmazások.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-105">This article shows how toouse PowerShell tooautomate common tasks for deploying, upgrading, removing, and testing Azure Service Fabric applications.</span></span>  <span data-ttu-id="6f3b0-106">Felügyelt, és az Alkalmazáskezelés HTTP API-k is elérhetők.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-106">Managed and HTTP APIs for app management are also available.</span></span> <span data-ttu-id="6f3b0-107">Lásd: [alkalmazás-életciklus](service-fabric-application-lifecycle.md) további információt.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-107">See [app lifecycle](service-fabric-application-lifecycle.md) for more information.</span></span>  

## <a name="prerequisites"></a><span data-ttu-id="6f3b0-108">Előfeltételek</span><span class="sxs-lookup"><span data-stu-id="6f3b0-108">Prerequisites</span></span>
<span data-ttu-id="6f3b0-109">Mielőtt áthelyez toohello feladatok hello cikkben, ügyeljen arra, hogy:</span><span class="sxs-lookup"><span data-stu-id="6f3b0-109">Before you move on toohello tasks in hello article, be sure to:</span></span>

* <span data-ttu-id="6f3b0-110">Ismerkedjen meg ismertetett hello Service Fabric fogalmakat [technikai áttekintése a Service Fabric](service-fabric-technical-overview.md).</span><span class="sxs-lookup"><span data-stu-id="6f3b0-110">Get familiar with hello Service Fabric concepts described in [Technical overview of Service Fabric](service-fabric-technical-overview.md).</span></span>
* <span data-ttu-id="6f3b0-111">[Hello futtatókörnyezet, az SDK és az eszközök telepítése](service-fabric-get-started.md), amely telepíti hello **ServiceFabric** PowerShell-modult.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-111">[Install hello runtime, SDK, and tools](service-fabric-get-started.md), which also installs hello **ServiceFabric** PowerShell module.</span></span>
* <span data-ttu-id="6f3b0-112">[PowerShell-parancsfájl végrehajtásának engedélyezése](service-fabric-get-started.md#enable-powershell-script-execution).</span><span class="sxs-lookup"><span data-stu-id="6f3b0-112">[Enable PowerShell script execution](service-fabric-get-started.md#enable-powershell-script-execution).</span></span>
* <span data-ttu-id="6f3b0-113">A helyi fürt elindításához.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-113">Start a local cluster.</span></span>  <span data-ttu-id="6f3b0-114">Indítsa el a rendszergazdaként egy új PowerShell-ablakot, és futtassa a fürtbeállítási parancsfájlt hello hello SDK mappából:`& "$ENV:ProgramFiles\Microsoft SDKs\Service Fabric\ClusterSetup\DevClusterSetup.ps1"`</span><span class="sxs-lookup"><span data-stu-id="6f3b0-114">Launch a new PowerShell window as an administrator and then run hello cluster setup script from hello SDK folder: `& "$ENV:ProgramFiles\Microsoft SDKs\Service Fabric\ClusterSetup\DevClusterSetup.ps1"`</span></span>
* <span data-ttu-id="6f3b0-115">Ebben a cikkben a PowerShell-parancsok futtatása, előtt első alkalommal csatlakoztatja toohello helyi Service Fabric-fürt használatával [Connect-ServiceFabricCluster](/powershell/module/servicefabric/connect-servicefabriccluster?view=azureservicefabricps):`Connect-ServiceFabricCluster localhost:19000`</span><span class="sxs-lookup"><span data-stu-id="6f3b0-115">Before you run any PowerShell commands in this article, first connect toohello local Service Fabric cluster by using [Connect-ServiceFabricCluster](/powershell/module/servicefabric/connect-servicefabriccluster?view=azureservicefabricps): `Connect-ServiceFabricCluster localhost:19000`</span></span>
* <span data-ttu-id="6f3b0-116">a következő feladatok hello a V1-es alkalmazás csomag toodeploy és a v2 alkalmazáscsomagok van szükségük a frissítést.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-116">hello following tasks require a v1 application package toodeploy and a v2 application package for upgrade.</span></span> <span data-ttu-id="6f3b0-117">Töltse le a hello [ **WordCount** mintaalkalmazás](http://aka.ms/servicefabricsamples) (első lépések minták hello található).</span><span class="sxs-lookup"><span data-stu-id="6f3b0-117">Download hello [**WordCount** sample application](http://aka.ms/servicefabricsamples) (located in hello Getting Started samples).</span></span> <span data-ttu-id="6f3b0-118">Hozza létre, és a Visual Studio hello alkalmazás becsomagolása (kattintson a jobb gombbal a **WordCount** megoldáskezelő, és válasszon **csomag**).</span><span class="sxs-lookup"><span data-stu-id="6f3b0-118">Build and package hello application in Visual Studio (right-click on **WordCount** in Solution Explorer and select **Package**).</span></span> <span data-ttu-id="6f3b0-119">Hello a V1-es csomag másolása `C:\ServiceFabricSamples\Services\WordCount\WordCount\pkg\Debug` túl`C:\Temp\WordCount`.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-119">Copy hello v1 package in `C:\ServiceFabricSamples\Services\WordCount\WordCount\pkg\Debug` too`C:\Temp\WordCount`.</span></span> <span data-ttu-id="6f3b0-120">Másolás `C:\Temp\WordCount` túl`C:\Temp\WordCountV2`, hello v2 alkalmazáscsomag frissítés létrehozása.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-120">Copy `C:\Temp\WordCount` too`C:\Temp\WordCountV2`, creating hello v2 application package for upgrade.</span></span> <span data-ttu-id="6f3b0-121">Nyissa meg `C:\Temp\WordCountV2\ApplicationManifest.xml` egy szövegszerkesztőben.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-121">Open `C:\Temp\WordCountV2\ApplicationManifest.xml` in a text editor.</span></span> <span data-ttu-id="6f3b0-122">A hello **applicationmanifest jegyzékben** elem, a módosítás hello **ApplicationTypeVersion** túl "1.0.0" attribútumot "2.0.0" tooupdate hello alkalmazás verziószáma.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-122">In hello **ApplicationManifest** element, change hello **ApplicationTypeVersion** attribute from "1.0.0" too"2.0.0" tooupdate hello app version number.</span></span> <span data-ttu-id="6f3b0-123">Mentse a módosított hello ApplicationManifest.xml fájlt.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-123">Save hello changed ApplicationManifest.xml file.</span></span>

## <a name="task-deploy-a-service-fabric-application"></a><span data-ttu-id="6f3b0-124">Feladat: A Service Fabric-alkalmazás központi telepítése</span><span class="sxs-lookup"><span data-stu-id="6f3b0-124">Task: Deploy a Service Fabric application</span></span>
<span data-ttu-id="6f3b0-125">Azt követően már beépített és csomagolt alkalmazás hello (vagy letöltött hello alkalmazáscsomag), telepíthet egy helyi Service Fabric-fürt hello alkalmazást.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-125">After you've built and packaged hello application (or downloaded hello application package), you can deploy hello application into a local Service Fabric cluster.</span></span> <span data-ttu-id="6f3b0-126">Központi telepítés magában foglalja a hello alkalmazáscsomag feltöltését, hello alkalmazástípus regisztrálása és hello alkalmazás példányának létrehozásakor.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-126">Deployment involves uploading hello application package, registering hello application type, and creating hello application instance.</span></span> <span data-ttu-id="6f3b0-127">Ez a szakasz toodeploy új alkalmazás tooa fürt hello utasításokat használja.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-127">Use hello instructions in this section toodeploy a new application tooa cluster.</span></span>

### <a name="step-1-upload-hello-application-package"></a><span data-ttu-id="6f3b0-128">1. lépés: Hello alkalmazáscsomag feltöltése</span><span class="sxs-lookup"><span data-stu-id="6f3b0-128">Step 1: Upload hello application package</span></span>
<span data-ttu-id="6f3b0-129">Hello alkalmazás csomag toohello feltöltése lemezképtárolóhoz hozzáadja egy helyen elérhető toointernal Service Fabric összetevői.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-129">Uploading hello application package toohello image store puts it in a location accessible toointernal Service Fabric components.</span></span>  <span data-ttu-id="6f3b0-130">hello alkalmazáscsomag hello szükséges alkalmazás jegyzékfájlja, a szolgáltatás jegyzékfájlban és a kódot, konfigurációs, és a csomag toocreate hello alkalmazás és a szolgáltatáspéldány tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-130">hello application package contains hello necessary application manifest, service manifests, and code, configuration, and data package(s) toocreate hello application and service instances.</span></span> <span data-ttu-id="6f3b0-131">Ha azt szeretné, hogy tooverify hello alkalmazáscsomagot helyileg, használja a hello [teszt-ServiceFabricApplicationPackage](/powershell/servicefabric/vlatest/test-servicefabricapplicationpackage) parancsmag.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-131">If you want tooverify hello app package locally, use hello [Test-ServiceFabricApplicationPackage](/powershell/servicefabric/vlatest/test-servicefabricapplicationpackage) cmdlet.</span></span>  <span data-ttu-id="6f3b0-132">Hello [másolási-ServiceFabricApplicationPackage](/powershell/module/servicefabric/copy-servicefabricapplicationpackage?view=azureservicefabricps) feltöltések hello csomag parancsot.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-132">hello [Copy-ServiceFabricApplicationPackage](/powershell/module/servicefabric/copy-servicefabricapplicationpackage?view=azureservicefabricps) command uploads hello package.</span></span> <span data-ttu-id="6f3b0-133">Példa:</span><span class="sxs-lookup"><span data-stu-id="6f3b0-133">For example:</span></span>

```powershell
Copy-ServiceFabricApplicationPackage C:\Temp\WordCount\ -ImageStoreConnectionString file:C:\SfDevCluster\Data\ImageStoreShare -ApplicationPackagePathInImageStore WordCount
```

### <a name="step-2-register-hello-application-type"></a><span data-ttu-id="6f3b0-134">2. lépés: Hello alkalmazástípus regisztrálása</span><span class="sxs-lookup"><span data-stu-id="6f3b0-134">Step 2: Register hello application type</span></span>
<span data-ttu-id="6f3b0-135">Regisztrálásakor hello alkalmazáscsomag teszi hello alkalmazástípus és -verzió a jegyzékfájlban deklarált hello alkalmazás érhető el használatra.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-135">Registering hello application package makes hello application type and version declared in hello application manifest available for use.</span></span> <span data-ttu-id="6f3b0-136">hello rendszer beolvassa az 1. lépésben hello feltöltött hello csomag, ellenőrizni hello csomagot (egyenértékű toorunning [teszt-ServiceFabricApplicationPackage](/powershell/servicefabric/vlatest/test-servicefabricapplicationpackage) helyileg), feldolgozza hello csomag tartalmát, és másolja a feldolgozott hello csomag tooan belső rendszer helye.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-136">hello system reads hello package uploaded in hello step 1, verify hello package (equivalent toorunning [Test-ServiceFabricApplicationPackage](/powershell/servicefabric/vlatest/test-servicefabricapplicationpackage) locally), process hello package contents, and copy hello processed package tooan internal system location.</span></span>  <span data-ttu-id="6f3b0-137">Futtassa a hello [Register-ServiceFabricApplicationType](/powershell/module/servicefabric/register-servicefabricapplicationtype?view=azureservicefabricps) parancsmagot:</span><span class="sxs-lookup"><span data-stu-id="6f3b0-137">Run hello [Register-ServiceFabricApplicationType](/powershell/module/servicefabric/register-servicefabricapplicationtype?view=azureservicefabricps) cmdlet:</span></span>

```powershell
Register-ServiceFabricApplicationType WordCount
```
<span data-ttu-id="6f3b0-138">hello fürthöz, futtassa a hello regisztrált összes hello alkalmazástípusok toosee [Get-ServiceFabricApplicationType](/powershell/module/servicefabric/get-servicefabricapplicationtype?view=azureservicefabricps) parancsmagot:</span><span class="sxs-lookup"><span data-stu-id="6f3b0-138">toosee all hello application types registered in hello cluster, run hello [Get-ServiceFabricApplicationType](/powershell/module/servicefabric/get-servicefabricapplicationtype?view=azureservicefabricps) cmdlet:</span></span>

```powershell
Get-ServiceFabricApplicationType
```

### <a name="step-3-create-hello-application-instance"></a><span data-ttu-id="6f3b0-139">3. lépés: Hello alkalmazáspéldány létrehozása</span><span class="sxs-lookup"><span data-stu-id="6f3b0-139">Step 3: Create hello application instance</span></span>
<span data-ttu-id="6f3b0-140">Az alkalmazás minden alkalmazástípus verziója hello segítségével sikeresen regisztrált használatával példányosítható [New-ServiceFabricApplication](/powershell/module/servicefabric/new-servicefabricapplication?view=azureservicefabricps) parancsot.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-140">An application can be instantiated by using any application type version that has been registered successfully by using hello [New-ServiceFabricApplication](/powershell/module/servicefabric/new-servicefabricapplication?view=azureservicefabricps) command.</span></span> <span data-ttu-id="6f3b0-141">alkalmazások hello nevét van deklarálva idő telepítése és hello kell kezdődnie **háló:** sémáját, és minden alkalmazáspéldányhoz egyedinek lennie.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-141">hello name of each application is declared at deploy time and must start with hello **fabric:** scheme and be unique for each application instance.</span></span> <span data-ttu-id="6f3b0-142">hello alkalmazás nevét, és az alkalmazástípus verziója táblákon hello **ApplicationManifest.xml** hello alkalmazáscsomag fájlt.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-142">hello application type name and application type version are declared in hello **ApplicationManifest.xml** file of hello application package.</span></span> <span data-ttu-id="6f3b0-143">Ha az alapértelmezett szolgáltatások hello célalkalmazás típusa hello alkalmazás jegyzékében meghatározott, majd azokat jönnek létre most.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-143">If any default services were defined in hello application manifest of hello target application type, then those are created at this time.</span></span>

```powershell
New-ServiceFabricApplication fabric:/WordCount WordCount 1.0.0
```

<span data-ttu-id="6f3b0-144">Hello [Get-ServiceFabricApplication](/powershell/servicefabric/vlatest/get-servicefabricapplication) parancs felsorolja az összes alkalmazáspéldányok sikeresen létrehozott, valamint az átfogó állapotával.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-144">hello [Get-ServiceFabricApplication](/powershell/servicefabric/vlatest/get-servicefabricapplication) command lists all application instances that were successfully created, along with their overall status.</span></span> <span data-ttu-id="6f3b0-145">Hello [Get-ServiceFabricService](/powershell/module/servicefabric/get-servicefabricservice?view=azureservicefabricps) parancs megjeleníti az összes hello szolgáltatás példányainak sikeresen létrehozott egy adott alkalmazáspéldány belül.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-145">hello [Get-ServiceFabricService](/powershell/module/servicefabric/get-servicefabricservice?view=azureservicefabricps) command lists all of hello service instances that were successfully created within a given application instance.</span></span> <span data-ttu-id="6f3b0-146">(Ha van ilyen) alapértelmezett szolgáltatások szerepelnek.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-146">Default services (if any) are listed.</span></span>

```powershell
Get-ServiceFabricApplication

Get-ServiceFabricApplication | Get-ServiceFabricService
```

## <a name="task-upgrade-a-service-fabric-application"></a><span data-ttu-id="6f3b0-147">Feladat: A Service Fabric-alkalmazás frissítése</span><span class="sxs-lookup"><span data-stu-id="6f3b0-147">Task: Upgrade a Service Fabric application</span></span>
<span data-ttu-id="6f3b0-148">Frissíthet egy frissített alkalmazáscsomagot és egy korábban telepített Service Fabric-alkalmazás.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-148">You can upgrade a previously deployed Service Fabric application with an updated application package.</span></span> <span data-ttu-id="6f3b0-149">Ez a feladat frissíti a telepített hello WordCount alkalmazás "feladat: a Service Fabric-alkalmazás központi telepítése."</span><span class="sxs-lookup"><span data-stu-id="6f3b0-149">This task upgrades hello WordCount application that was deployed in "Task: Deploy a Service Fabric application."</span></span> <span data-ttu-id="6f3b0-150">Olvassa végig [Service Fabric az alkalmazásfrissítés](service-fabric-application-upgrade.md) további információt.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-150">Read through [Service Fabric application upgrade](service-fabric-application-upgrade.md) for more information.</span></span>

<span data-ttu-id="6f3b0-151">az ebben a példában csak hello alkalmazás verziószáma tookeep dolgot egyszerű hello Előfeltételek létrehozott hello WordCountV2 alkalmazáscsomagban frissítve lett.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-151">tookeep things simple for this example, only hello application version number was updated in hello WordCountV2 application package created in hello prerequisites.</span></span> <span data-ttu-id="6f3b0-152">A modell forgatókönyv olyan tartalmaz, amely a szolgáltatás kódot, konfigurációs vagy az adatok fájlok frissítése, majd újraépítése, és frissített verziószámok hello alkalmazás csomagolás.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-152">A more realistic scenario would involve updating your service code, configuration, or data files and then rebuilding and packaging hello application with updated version numbers.</span></span>  

### <a name="step-1-upload-hello-updated-application-package"></a><span data-ttu-id="6f3b0-153">1. lépés: Hello frissített alkalmazáscsomag feltöltése</span><span class="sxs-lookup"><span data-stu-id="6f3b0-153">Step 1: Upload hello updated application package</span></span>
<span data-ttu-id="6f3b0-154">hello WordCount V1-es alkalmazás készen áll a toobe frissítve.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-154">hello WordCount v1 application is ready toobe upgraded.</span></span> <span data-ttu-id="6f3b0-155">Ha megnyit egy PowerShell-ablak rendszergazda, írja be [ **Get-ServiceFabricApplication**](/powershell/module/servicefabric/get-servicefabricapplication?view=azureservicefabricps), megjelenik a WordCount alkalmazás típusának hello 1.0.0 verzió van telepítve.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-155">If you open up a PowerShell window as administrator and type [**Get-ServiceFabricApplication**](/powershell/module/servicefabric/get-servicefabricapplication?view=azureservicefabricps), you see that version 1.0.0 of hello WordCount application type is deployed.</span></span>  

<span data-ttu-id="6f3b0-156">Másolás hello most alkalmazás csomag toohello Service Fabric lemezképtárolóhoz (hello csomagok tárolására a Service Fabric által) frissítése.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-156">Now copy hello updated application package toohello Service Fabric image store (where hello application packages are stored by Service Fabric).</span></span> <span data-ttu-id="6f3b0-157">hello paraméter **ApplicationPackagePathInImageStore** arról tájékoztatja a Service Fabric hol találnak a hello alkalmazáscsomagot.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-157">hello parameter **ApplicationPackagePathInImageStore** informs Service Fabric where it can find hello application package.</span></span> <span data-ttu-id="6f3b0-158">a következő parancs másolatok hello alkalmazáscsomag túl hello**WordCountV2** hello kép tárolóban:</span><span class="sxs-lookup"><span data-stu-id="6f3b0-158">hello following command copies hello application package too**WordCountV2** in hello image store:</span></span>  

```powershell
Copy-ServiceFabricApplicationPackage C:\Temp\WordCountV2\ -ImageStoreConnectionString file:C:\SfDevCluster\Data\ImageStoreShare -ApplicationPackagePathInImageStore WordCountV2

```
### <a name="step-2-register-hello-updated-application-type"></a><span data-ttu-id="6f3b0-159">2. lépés: A frissített alkalmazástípus regisztrálása hello</span><span class="sxs-lookup"><span data-stu-id="6f3b0-159">Step 2: Register hello updated application type</span></span>
<span data-ttu-id="6f3b0-160">hello következő lépésre tooregister hello alkalmazás új verzióját hello szolgáltatás-hálóval hello segítségével végrehajtható [Register-ServiceFabricApplicationType](/powershell/module/servicefabric/register-servicefabricapplicationtype?view=azureservicefabricps) parancsmagot:</span><span class="sxs-lookup"><span data-stu-id="6f3b0-160">hello next step is tooregister hello new version of hello application with Service Fabric, which can be performed by using hello [Register-ServiceFabricApplicationType](/powershell/module/servicefabric/register-servicefabricapplicationtype?view=azureservicefabricps) cmdlet:</span></span>

```powershell
Register-ServiceFabricApplicationType WordCountV2
```

### <a name="step-3-start-hello-upgrade"></a><span data-ttu-id="6f3b0-161">3. lépés: Indítsa el a hello frissítését</span><span class="sxs-lookup"><span data-stu-id="6f3b0-161">Step 3: Start hello upgrade</span></span>
<span data-ttu-id="6f3b0-162">Különböző frissítési paraméterek időtúllépések és health kritériumokat alkalmazott tooapplication frissítések lehetnek.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-162">Various upgrade parameters, timeouts, and health criteria can be applied tooapplication upgrades.</span></span> <span data-ttu-id="6f3b0-163">Olvassa végig hello [alkalmazás frissítési paraméterei](service-fabric-application-upgrade-parameters.md) és [frissítési folyamat](service-fabric-application-upgrade.md) további toolearn dokumentumokat.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-163">Read through hello [application upgrade parameters](service-fabric-application-upgrade-parameters.md) and [upgrade process](service-fabric-application-upgrade.md) documents toolearn more.</span></span> <span data-ttu-id="6f3b0-164">Összes szolgáltatását és példányok kell *kifogástalan* hello frissítés után.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-164">All services and instances should be *healthy* after hello upgrade.</span></span>  <span data-ttu-id="6f3b0-165">Set hello **HealthCheckStableDuration** too60 másodperc (így hello szolgáltatások esetében működik megfelelően, a következő frissítési tartomány előtt hello frissítés előrehalad toohello legalább 20 másodperc).</span><span class="sxs-lookup"><span data-stu-id="6f3b0-165">Set hello **HealthCheckStableDuration** too60 seconds (so that hello services are healthy for at least 20 seconds before hello upgrade proceeds toohello next upgrade domain).</span></span>  <span data-ttu-id="6f3b0-166">Is set hello **UpgradeDomainTimeout** too1200 másodpercig és hello **UpgradeTimeout** too3000 másodperc.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-166">Also set hello **UpgradeDomainTimeout** too1200 seconds and hello **UpgradeTimeout** too3000 seconds.</span></span> <span data-ttu-id="6f3b0-167">Végezetül be hello **UpgradeFailureAction** túl**visszaállítási**, amely a Service Fabric visszaállítja a kérelmek hello toohello korábbi verziója, ha a sikertelen frissítés során hibát.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-167">Finally, set hello **UpgradeFailureAction** too**rollback**, which requests that Service Fabric rolls back hello application toohello previous version if failures are encountered during upgrade.</span></span>

<span data-ttu-id="6f3b0-168">Most elindíthatja az alkalmazásfrissítés hello hello segítségével [Start-ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/start-servicefabricapplicationupgrade?view=azureservicefabricps) parancsmagot:</span><span class="sxs-lookup"><span data-stu-id="6f3b0-168">You can now start hello application upgrade by using hello [Start-ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/start-servicefabricapplicationupgrade?view=azureservicefabricps) cmdlet:</span></span>

```powershell
Start-ServiceFabricApplicationUpgrade -ApplicationName fabric:/WordCount -ApplicationTypeVersion 2.0.0 -HealthCheckStableDurationSec 60 -UpgradeDomainTimeoutSec 1200 -UpgradeTimeout 3000  -FailureAction Rollback -Monitored
```

<span data-ttu-id="6f3b0-169">Vegye figyelembe, hogy hello alkalmazásnév van hello azonos hello korábban telepített v1.0.0 alkalmazásnév (fabric: / WordCount).</span><span class="sxs-lookup"><span data-stu-id="6f3b0-169">Note that hello application name is hello same as hello previously deployed v1.0.0 application name (fabric:/WordCount).</span></span> <span data-ttu-id="6f3b0-170">A Service Fabric használja a név tooidentify, mely az alkalmazás első frissítés.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-170">Service Fabric uses this name tooidentify which application is getting upgraded.</span></span> <span data-ttu-id="6f3b0-171">Ha hello időtúllépéseket toobe túl rövid, akkor léphetnek fel, hogy állapotok hello probléma időtúllépési hiba üzenet.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-171">If you set hello time-outs toobe too short, you might encounter a time-out failure message that states hello problem.</span></span> <span data-ttu-id="6f3b0-172">Tekintse meg a túl[alkalmazásfrissítések hibaelhárítása](service-fabric-application-upgrade-troubleshooting.md), vagy pedig növelje a hello időtúllépéseket.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-172">Refer too[Troubleshoot application upgrades](service-fabric-application-upgrade-troubleshooting.md), or increase hello time-outs.</span></span>

### <a name="step-4-check-upgrade-progress"></a><span data-ttu-id="6f3b0-173">4. lépés: Ellenőrizze frissítési folyamat állapota</span><span class="sxs-lookup"><span data-stu-id="6f3b0-173">Step 4: Check upgrade progress</span></span>
<span data-ttu-id="6f3b0-174">Alkalmazás frissítése folyamatban van a figyelheti [Service Fabric Explorer](service-fabric-visualizing-your-cluster.md), vagy hello segítségével [Get-ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/get-servicefabricapplicationupgrade?view=azureservicefabricps) parancsmagot:</span><span class="sxs-lookup"><span data-stu-id="6f3b0-174">You can monitor application upgrade progress by using [Service Fabric Explorer](service-fabric-visualizing-your-cluster.md), or by using hello [Get-ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/get-servicefabricapplicationupgrade?view=azureservicefabricps) cmdlet:</span></span>

```powershell
Get-ServiceFabricApplicationUpgrade fabric:/WordCount
```

<span data-ttu-id="6f3b0-175">Néhány perc múlva, hello [Get-ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/get-servicefabricapplicationupgrade?view=azureservicefabricps) parancsmag jeleníti meg, hogy minden frissítési tartományok frissített (elvégezve).</span><span class="sxs-lookup"><span data-stu-id="6f3b0-175">In a few minutes, hello [Get-ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/get-servicefabricapplicationupgrade?view=azureservicefabricps) cmdlet shows that all upgrade domains were upgraded (completed).</span></span>

## <a name="task-test-a-service-fabric-application"></a><span data-ttu-id="6f3b0-176">Feladat: A Service Fabric-alkalmazás tesztelése</span><span class="sxs-lookup"><span data-stu-id="6f3b0-176">Task: Test a Service Fabric application</span></span>
<span data-ttu-id="6f3b0-177">toowrite magas színvonalú szolgáltatásokat, a fejlesztők kell toobe képes tooinduce megbízhatatlan infrastruktúra hibák tootest hello stabilitását a szolgáltatások.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-177">toowrite high-quality services, developers need toobe able tooinduce unreliable infrastructure faults tootest hello stability of their services.</span></span> <span data-ttu-id="6f3b0-178">A Service Fabric lehetőséget nyújt a fejlesztők hello képességét tooinduce tartalék műveletek, valamint a hibák használatával hello jelenléte teszt szolgáltatások hello chaos és a feladatátvételi teszt forgatókönyvek.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-178">Service Fabric gives developers hello ability tooinduce fault actions and test services in hello presence of failures by using hello chaos and failover test scenarios.</span></span>  <span data-ttu-id="6f3b0-179">Olvassa végig [bemutatása toohello hiba az Analysis Services](service-fabric-testability-overview.md) további információt.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-179">Read through [Introduction toohello Fault Analysis Service](service-fabric-testability-overview.md) for additional information.</span></span>

### <a name="step-1-run-hello-chaos-test-scenario"></a><span data-ttu-id="6f3b0-180">1. lépés: Hello chaos tesztkörnyezet futtatása</span><span class="sxs-lookup"><span data-stu-id="6f3b0-180">Step 1: Run hello chaos test scenario</span></span>
<span data-ttu-id="6f3b0-181">hello chaos tesztkörnyezet hello teljes Service Fabric-fürt között állít elő hibák.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-181">hello chaos test scenario generates faults across hello entire Service Fabric cluster.</span></span> <span data-ttu-id="6f3b0-182">hello forgatókönyv tömöríti a hibák általában hónapokban vagy években tooa keresztül látott néhány óra.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-182">hello scenario compresses faults generally seen over months or years tooa few hours.</span></span> <span data-ttu-id="6f3b0-183">hello kombinációja magas tartalék sebességet kihagyásos hibák megkeresése, amelyek egyébként lehet kihagyni esetekben.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-183">hello combination of interleaved faults with a high fault rate finds corner cases that would otherwise be missed.</span></span> <span data-ttu-id="6f3b0-184">hello alábbi példa futtatása hello chaos tesztkörnyezet 60 perc.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-184">hello following example runs hello chaos test scenario for 60 minutes.</span></span>

```powershell
$timeToRun = 60
$maxStabilizationTimeSecs = 180
$concurrentFaults = 3
$waitTimeBetweenIterationsSec = 60

Invoke-ServiceFabricChaosTestScenario -TimeToRunMinute $timeToRun -MaxClusterStabilizationTimeoutSec $maxStabilizationTimeSecs -MaxConcurrentFaults $concurrentFaults -EnableMoveReplicaFaults -WaitTimeBetweenIterationsSec $waitTimeBetweenIterationsSec
```

### <a name="step-2-run-hello-failover-test-scenario"></a><span data-ttu-id="6f3b0-185">2. lépés: Hello feladatátvételi tesztkörnyezet futtatása</span><span class="sxs-lookup"><span data-stu-id="6f3b0-185">Step 2: Run hello failover test scenario</span></span>
<span data-ttu-id="6f3b0-186">hello feladatátvételi teszt forgatókönyv célok hello fürtözési helyett egy adott szolgáltatás partíció, és más szolgáltatások változatlanul hagyja.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-186">hello failover test scenario targets a specific service partition instead of hello entire cluster, and it leaves other services unaffected.</span></span> <span data-ttu-id="6f3b0-187">hello forgatókönyv telepítéseket szolgáltatás érvényesítési szimulált hibák sorozata, az üzleti logika futtatása közben.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-187">hello scenario iterates through a sequence of simulated faults in service validation while your business logic runs.</span></span> <span data-ttu-id="6f3b0-188">Szolgáltatás érvényesítési hiba azt jelzi, hogy a hibát, amely további vizsgálat szükséges.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-188">A failure in service validation indicates an issue that needs further investigation.</span></span> <span data-ttu-id="6f3b0-189">hello feladatátvételi teszt mint több hibák helyeken megakadályozását toohello chaos vizsgálati eset egyszerre csak egy tartalék kapott.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-189">hello failover test induces only one fault at a time, as opposed toohello chaos test scenario, which can induce multiple faults.</span></span> <span data-ttu-id="6f3b0-190">hello alábbi példa fut hello feladatátvételi teszt 60 percig hello fabric: / WordCount/WordCountService szolgáltatás.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-190">hello following example runs hello failover test for 60 minutes against hello fabric:/WordCount/WordCountService service.</span></span>

```powershell
$timeToRun = 60
$maxStabilizationTimeSecs = 180
$waitTimeBetweenFaultsSec = 10
$serviceName = "fabric:/WordCount/WordCountService"

Invoke-ServiceFabricFailoverTestScenario -TimeToRunMinute $timeToRun -MaxServiceStabilizationTimeoutSec $maxStabilizationTimeSecs -WaitTimeBetweenFaultsSec $waitTimeBetweenFaultsSec -ServiceName $serviceName -PartitionKindUniformInt64 -PartitionKey 1
```

## <a name="task-remove-a-service-fabric-application"></a><span data-ttu-id="6f3b0-191">Feladat: Távolítsa el a Service Fabric-alkalmazás</span><span class="sxs-lookup"><span data-stu-id="6f3b0-191">Task: Remove a Service Fabric application</span></span>
<span data-ttu-id="6f3b0-192">A központilag telepített alkalmazás egy példányának törlése, távolítsa el kiépített hello alkalmazástípus hello fürt, és hello Lemezképtárolóba hello alkalmazáscsomag eltávolítása.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-192">You can delete an instance of a deployed application, remove hello provisioned application type from hello cluster, and remove hello application package from hello ImageStore.</span></span>

### <a name="step-1-remove-an-application-instance"></a><span data-ttu-id="6f3b0-193">1. lépés: Az alkalmazáspéldány eltávolítása</span><span class="sxs-lookup"><span data-stu-id="6f3b0-193">Step 1: Remove an application instance</span></span>
<span data-ttu-id="6f3b0-194">Az alkalmazáspéldány nincs szükség, ha véglegesen eltávolíthatja azt hello segítségével [Remove-ServiceFabricApplication](/powershell/module/servicefabric/remove-servicefabricapplication?view=azureservicefabricps) parancsmag.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-194">When an application instance is no longer needed, you can permanently remove it by using hello [Remove-ServiceFabricApplication](/powershell/module/servicefabric/remove-servicefabricapplication?view=azureservicefabricps) cmdlet.</span></span> <span data-ttu-id="6f3b0-195">Automatikusan is távolítja el az összes szolgáltatás tartozó toohello alkalmazás végleg eltávolítja az összes szolgáltatás állapota.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-195">This also automatically removes all services belonging toohello application, permanently removing all service state.</span></span> <span data-ttu-id="6f3b0-196">Ez a művelet nem vonható vissza, és alkalmazás állapota nem állítható helyre.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-196">This operation cannot be reversed and application state cannot be recovered.</span></span>

```powershell
Remove-ServiceFabricApplication fabric:/WordCount
```

### <a name="step-2-unregister-hello-application-type"></a><span data-ttu-id="6f3b0-197">2. lépés: Hello alkalmazástípus regisztrációjának törlése</span><span class="sxs-lookup"><span data-stu-id="6f3b0-197">Step 2: Unregister hello application type</span></span>
<span data-ttu-id="6f3b0-198">Ha már nincs szüksége egy adott verzióját egy alkalmazás típusa, regisztrációjának megszüntetésére hello segítségével [Unregister-ServiceFabricApplicationType](/powershell/module/servicefabric/unregister-servicefabricapplicationtype?view=azureservicefabricps) parancsmag.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-198">When you no longer need a particular version of an application type, unregister it by using hello [Unregister-ServiceFabricApplicationType](/powershell/module/servicefabric/unregister-servicefabricapplicationtype?view=azureservicefabricps) cmdlet.</span></span> <span data-ttu-id="6f3b0-199">Regisztrációjának megszüntetése nem használt típusok kiadásokban tárolóhely hello alkalmazáscsomag a hello lemezképtárolóhoz használják.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-199">Unregistering unused types releases storage space used by hello application package in hello image store.</span></span> <span data-ttu-id="6f3b0-200">Az alkalmazástípus regisztrációjának törlése lehet, mindaddig, amíg nincsenek rajta, vagy függőben hivatkoznak rá alkalmazásfrissítések példányként létrehozott alkalmazások.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-200">An application type can be unregistered as long as there are no applications instantiated against it or pending application upgrades referencing it.</span></span>

```powershell
Unregister-ServiceFabricApplicationType WordCount 1.0.0
```

### <a name="step-3-remove-hello-application-package"></a><span data-ttu-id="6f3b0-201">3. lépés: Hello az alkalmazáscsomag eltávolítása</span><span class="sxs-lookup"><span data-stu-id="6f3b0-201">Step 3: Remove hello application package</span></span>
<span data-ttu-id="6f3b0-202">Miután hello alkalmazástípus regisztrációjának törlése, hello alkalmazáscsomag eltávolítható hello lemezképtárolóhoz hello segítségével [Remove-ServiceFabricApplicationPackage](/powershell/module/servicefabric/remove-servicefabricapplicationpackage?view=azureservicefabricps) parancsmag.</span><span class="sxs-lookup"><span data-stu-id="6f3b0-202">After hello application type is unregistered, hello application package can be removed from hello image store by using hello [Remove-ServiceFabricApplicationPackage](/powershell/module/servicefabric/remove-servicefabricapplicationpackage?view=azureservicefabricps) cmdlet.</span></span>

```powershell
Remove-ServiceFabricApplicationPackage -ImageStoreConnectionString file:C:\SfDevCluster\Data\ImageStoreShare -ApplicationPackagePathInImageStore WordCount
```

## <a name="next-steps"></a><span data-ttu-id="6f3b0-203">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="6f3b0-203">Next steps</span></span>
[<span data-ttu-id="6f3b0-204">A Service Fabric-alkalmazás életciklusa</span><span class="sxs-lookup"><span data-stu-id="6f3b0-204">Service Fabric application lifecycle</span></span>](service-fabric-application-lifecycle.md)

[<span data-ttu-id="6f3b0-205">Alkalmazás üzembe helyezése</span><span class="sxs-lookup"><span data-stu-id="6f3b0-205">Deploy an application</span></span>](service-fabric-deploy-remove-applications.md)

[<span data-ttu-id="6f3b0-206">Az alkalmazásfrissítés</span><span class="sxs-lookup"><span data-stu-id="6f3b0-206">Application upgrade</span></span>](service-fabric-application-upgrade.md)

[<span data-ttu-id="6f3b0-207">Azure Service Fabric-parancsmagokkal</span><span class="sxs-lookup"><span data-stu-id="6f3b0-207">Azure Service Fabric cmdlets</span></span>](/powershell/azure/overview?view=azureservicefabricps)

