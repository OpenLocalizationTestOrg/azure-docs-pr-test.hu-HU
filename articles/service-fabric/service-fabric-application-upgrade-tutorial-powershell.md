---
title: "PowerShell-lel aaaService háló alkalmazás frissítése |} Microsoft Docs"
description: "Ez a cikk végigvezeti a Service Fabric-alkalmazás telepítése, hello kód megváltoztatása és PowerShell használatával frissítés terítésével hello élménye."
services: service-fabric
documentationcenter: .net
author: mani-ramaswamy
manager: timlt
editor: 
ms.assetid: 9bc75748-96b0-49ca-8d8a-41fe08398f25
ms.service: service-fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 8/9/2017
ms.author: subramar
ms.openlocfilehash: f31212264de45c3b257a0efafb75c10c279b989f
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="service-fabric-application-upgrade-using-powershell"></a><span data-ttu-id="47df3-103">Az alkalmazásfrissítés Service Fabric PowerShell-lel</span><span class="sxs-lookup"><span data-stu-id="47df3-103">Service Fabric application upgrade using PowerShell</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="47df3-104">PowerShell</span><span class="sxs-lookup"><span data-stu-id="47df3-104">PowerShell</span></span>](service-fabric-application-upgrade-tutorial-powershell.md)
> * [<span data-ttu-id="47df3-105">Visual Studio</span><span class="sxs-lookup"><span data-stu-id="47df3-105">Visual Studio</span></span>](service-fabric-application-upgrade-tutorial.md)
> 
> 

<br/>

<span data-ttu-id="47df3-106">a leggyakrabban használt hello és ajánlott frissítési módszer figyelt hello működés közbeni frissítés.</span><span class="sxs-lookup"><span data-stu-id="47df3-106">hello most frequently used and recommended upgrade approach is hello monitored rolling upgrade.</span></span>  <span data-ttu-id="47df3-107">Az Azure Service Fabric figyeli a hello állapotát hello alkalmazás frissítés alatt állapotfigyelő házirendjei alapján.</span><span class="sxs-lookup"><span data-stu-id="47df3-107">Azure Service Fabric monitors hello health of hello application being upgraded based on a set of health policies.</span></span> <span data-ttu-id="47df3-108">Miután egy frissítési tartományt (UD) frissítve van, a Service Fabric hello alkalmazás állapotának kiértékeli, és megtennie toohello tovább frissítési tartományt vagy attól függően, hogy hello állapotházirendeket hello frissítése sikertelen.</span><span class="sxs-lookup"><span data-stu-id="47df3-108">Once an update domain (UD) is upgraded, Service Fabric evaluates hello application health and either proceeds toohello next update domain or fails hello upgrade depending on hello health policies.</span></span>

<span data-ttu-id="47df3-109">A figyelt alkalmazáshoz frissítés használatával végezheti el felügyelt hello vagy natív API-k, PowerShell vagy a többi.</span><span class="sxs-lookup"><span data-stu-id="47df3-109">A monitored application upgrade can be performed using hello managed or native APIs, PowerShell, or REST.</span></span> <span data-ttu-id="47df3-110">Visual Studio használatával történő frissítése, lásd: [Visual Studio segítségével az alkalmazás frissítését](service-fabric-application-upgrade-tutorial.md).</span><span class="sxs-lookup"><span data-stu-id="47df3-110">For instructions on performing an upgrade using Visual Studio, see [Upgrading your application using Visual Studio](service-fabric-application-upgrade-tutorial.md).</span></span>

<span data-ttu-id="47df3-111">A Service Fabric figyelt működés közbeni frissítések hello alkalmazás-rendszergazda segítségével beállíthatja hello értékelési állapotházirend, hogy a Service Fabric toodetermine használja, ha hello alkalmazás állapota kifogástalan.</span><span class="sxs-lookup"><span data-stu-id="47df3-111">With Service Fabric monitored rolling upgrades, hello application administrator can configure hello health evaluation policy that Service Fabric uses toodetermine if hello application is healthy.</span></span> <span data-ttu-id="47df3-112">Ezenkívül hello rendszergazda úgy is konfigurálhatja a hello művelet toobe hajt végre, amikor hello állapotának kiértékelését sikertelen (például egy automatikus visszaállítási történt.) Ez a szakasz végigvezeti egy PowerShell használó hello SDK-minták a figyelt frissítés.</span><span class="sxs-lookup"><span data-stu-id="47df3-112">In addition, hello administrator can configure hello action toobe taken when hello health evaluation fails (for example, doing an automatic rollback.) This section walks through a monitored upgrade for one of hello SDK samples that uses PowerShell.</span></span> <span data-ttu-id="47df3-113">hello következő a Microsoft Virtual Academy videó is végigvezeti egy alkalmazás frissítése:<center><a target="_blank" href="https://mva.microsoft.com/en-US/training-courses/building-microservices-applications-on-azure-service-fabric-16747?l=OrHJH66yC_6406218965">
<img src="./media/service-fabric-application-upgrade-tutorial-powershell/AppLifecycleVid.png" WIDTH="360" HEIGHT="244">
</a></center></span><span class="sxs-lookup"><span data-stu-id="47df3-113">hello following Microsoft Virtual Academy video also walks you through an app upgrade: <center><a target="_blank" href="https://mva.microsoft.com/en-US/training-courses/building-microservices-applications-on-azure-service-fabric-16747?l=OrHJH66yC_6406218965">
<img src="./media/service-fabric-application-upgrade-tutorial-powershell/AppLifecycleVid.png" WIDTH="360" HEIGHT="244">
</a></center></span></span>

## <a name="step-1-build-and-deploy-hello-visual-objects-sample"></a><span data-ttu-id="47df3-114">1. lépés: Build és telepít hello Visual objektumok</span><span class="sxs-lookup"><span data-stu-id="47df3-114">Step 1: Build and deploy hello Visual Objects sample</span></span>
<span data-ttu-id="47df3-115">Hozza létre, és kattintson a jobb gombbal a hello-alkalmazás projekt hello alkalmazás közzététele **VisualObjectsApplication,** , majd válassza a hello **közzététel** parancsot.</span><span class="sxs-lookup"><span data-stu-id="47df3-115">Build and publish hello application by right-clicking on hello application project, **VisualObjectsApplication,** and selecting hello **Publish** command.</span></span>  <span data-ttu-id="47df3-116">További információkért lásd: [Service Fabric-alkalmazás frissítési oktatóanyag](service-fabric-application-upgrade-tutorial.md).</span><span class="sxs-lookup"><span data-stu-id="47df3-116">For more information, see [Service Fabric application upgrade tutorial](service-fabric-application-upgrade-tutorial.md).</span></span>  <span data-ttu-id="47df3-117">Másik megoldásként használhatja PowerShell toodeploy az alkalmazást.</span><span class="sxs-lookup"><span data-stu-id="47df3-117">Alternatively, you can use PowerShell toodeploy your application.</span></span>

> [!NOTE]
> <span data-ttu-id="47df3-118">PowerShell hello Service Fabric parancsok is használhatók, először jóvá kell tooconnect toohello fürt hello segítségével `Connect-ServiceFabricCluster` parancsmag.</span><span class="sxs-lookup"><span data-stu-id="47df3-118">Before any of hello Service Fabric commands may be used in PowerShell, you first need tooconnect toohello cluster by using hello `Connect-ServiceFabricCluster` cmdlet.</span></span> <span data-ttu-id="47df3-119">Hasonlóképpen feltételezzük, hogy hello fürt már be van állítva a helyi számítógépen.</span><span class="sxs-lookup"><span data-stu-id="47df3-119">Similarly, it is assumed that hello Cluster has already been set up on your local machine.</span></span> <span data-ttu-id="47df3-120">Hello cikkében [a Service Fabric fejlesztési környezet létrehozása](service-fabric-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="47df3-120">See hello article on [setting up your Service Fabric development environment](service-fabric-get-started.md).</span></span>
> 
> 

<span data-ttu-id="47df3-121">Hello PowerShell parancs használata után felépítése hello projektre a Visual Studióban, [másolási-ServiceFabricApplicationPackage](/powershell/servicefabric/vlatest/copy-servicefabricapplicationpackage) toocopy hello alkalmazás csomag toohello Lemezképtárolóba.</span><span class="sxs-lookup"><span data-stu-id="47df3-121">After building hello project in Visual Studio, you can use hello PowerShell command [Copy-ServiceFabricApplicationPackage](/powershell/servicefabric/vlatest/copy-servicefabricapplicationpackage) toocopy hello application package toohello ImageStore.</span></span> <span data-ttu-id="47df3-122">Ha azt szeretné, hogy tooverify hello alkalmazáscsomagot helyileg, használja a hello [teszt-ServiceFabricApplicationPackage](/powershell/servicefabric/vlatest/test-servicefabricapplicationpackage) parancsmag.</span><span class="sxs-lookup"><span data-stu-id="47df3-122">If you want tooverify hello app package locally, use hello [Test-ServiceFabricApplicationPackage](/powershell/servicefabric/vlatest/test-servicefabricapplicationpackage) cmdlet.</span></span> <span data-ttu-id="47df3-123">hello következő lépésre tooregister hello alkalmazás toohello Service Fabric-futtatókörnyezet hello segítségével [Register-ServiceFabricApplicationPackage](/powershell/servicefabric/vlatest/register-servicefabricapplicationtype) parancsmag.</span><span class="sxs-lookup"><span data-stu-id="47df3-123">hello next step is tooregister hello application toohello Service Fabric runtime using hello [Register-ServiceFabricApplicationPackage](/powershell/servicefabric/vlatest/register-servicefabricapplicationtype) cmdlet.</span></span> <span data-ttu-id="47df3-124">hello utolsó lépésként toostart hello alkalmazás egy példánya segítségével el hello [New-ServiceFabricApplication](/powershell/module/servicefabric/new-servicefabricapplication?view=azureservicefabricps) parancsmag.</span><span class="sxs-lookup"><span data-stu-id="47df3-124">hello final step is toostart an instance of hello application by using hello [New-ServiceFabricApplication](/powershell/module/servicefabric/new-servicefabricapplication?view=azureservicefabricps) cmdlet.</span></span>  <span data-ttu-id="47df3-125">Ezen három lépésekre hasonló toousing hello **telepítés** menüpont a Visual Studióban.</span><span class="sxs-lookup"><span data-stu-id="47df3-125">These three steps are analogous toousing hello **Deploy** menu item in Visual Studio.</span></span>

<span data-ttu-id="47df3-126">Most már használhatja [Service Fabric Explorer tooview hello fürt és hello alkalmazás](service-fabric-visualizing-your-cluster.md).</span><span class="sxs-lookup"><span data-stu-id="47df3-126">Now, you can use [Service Fabric Explorer tooview hello cluster and hello application](service-fabric-visualizing-your-cluster.md).</span></span> <span data-ttu-id="47df3-127">hello alkalmazás rendelkezik egy webszolgáltatás, amely az Internet Explorer tooin nyílik beírásával [http://localhost: 8081/visualobjects](http://localhost:8081/visualobjects) hello címsorába.</span><span class="sxs-lookup"><span data-stu-id="47df3-127">hello application has a web service that can be navigated tooin Internet Explorer by typing [http://localhost:8081/visualobjects](http://localhost:8081/visualobjects) in hello address bar.</span></span>  <span data-ttu-id="47df3-128">Megtekintheti az egyes lebegőpontos visual objektumokat, üdvözlő képernyőt Navigálás.</span><span class="sxs-lookup"><span data-stu-id="47df3-128">You should see some floating visual objects moving around in hello screen.</span></span>  <span data-ttu-id="47df3-129">Emellett használhatja [Get-ServiceFabricApplication](/powershell/module/servicefabric/get-servicefabricapplication?view=azureservicefabricps) toocheck hello alkalmazás állapotát.</span><span class="sxs-lookup"><span data-stu-id="47df3-129">Additionally, you can use [Get-ServiceFabricApplication](/powershell/module/servicefabric/get-servicefabricapplication?view=azureservicefabricps) toocheck hello application status.</span></span>

## <a name="step-2-update-hello-visual-objects-sample"></a><span data-ttu-id="47df3-130">2. lépés: A frissítés hello Visual objektumok minta</span><span class="sxs-lookup"><span data-stu-id="47df3-130">Step 2: Update hello Visual Objects sample</span></span>
<span data-ttu-id="47df3-131">Bizonyára észrevette, hogy, hogy 1. lépésben telepített hello verziójával, hello visual objektumok nem elforgatása.</span><span class="sxs-lookup"><span data-stu-id="47df3-131">You might notice that with hello version that was deployed in Step 1, hello visual objects do not rotate.</span></span> <span data-ttu-id="47df3-132">Most frissítse az alkalmazás tooone, ahol hello látható objektumokat is elforgatása.</span><span class="sxs-lookup"><span data-stu-id="47df3-132">Let's upgrade this application tooone where hello visual objects also rotate.</span></span>

<span data-ttu-id="47df3-133">Válassza ki a hello VisualObjects.ActorService projekt hello VisualObjects megoldás belül, és nyissa meg a hello StatefulVisualObjectActor.cs fájlt.</span><span class="sxs-lookup"><span data-stu-id="47df3-133">Select hello VisualObjects.ActorService project within hello VisualObjects solution, and open hello StatefulVisualObjectActor.cs file.</span></span> <span data-ttu-id="47df3-134">Ugrás a fájlt, toohello metódus `MoveObject`, megjegyzéssé `this.State.Move()`, és állítsa vissza `this.State.Move(true)`.</span><span class="sxs-lookup"><span data-stu-id="47df3-134">Within that file, navigate toohello method `MoveObject`, comment out `this.State.Move()`, and uncomment `this.State.Move(true)`.</span></span> <span data-ttu-id="47df3-135">Ez a változás hello objektumok elforgatja, hello szolgáltatás frissítése után.</span><span class="sxs-lookup"><span data-stu-id="47df3-135">This change rotates hello objects after hello service is upgraded.</span></span>

<span data-ttu-id="47df3-136">Igazolnia kell tooupdate hello *ServiceManifest.xml* fájlt (PackageRoot) hello projekt **VisualObjects.ActorService**.</span><span class="sxs-lookup"><span data-stu-id="47df3-136">We also need tooupdate hello *ServiceManifest.xml* file (under PackageRoot) of hello project **VisualObjects.ActorService**.</span></span> <span data-ttu-id="47df3-137">Frissítés hello *CodePackage* hello szolgáltatás verziója too2.0 és hello sorai hello *ServiceManifest.xml* fájlt.</span><span class="sxs-lookup"><span data-stu-id="47df3-137">Update hello *CodePackage* and hello service version too2.0, and hello corresponding lines in hello *ServiceManifest.xml* file.</span></span>
<span data-ttu-id="47df3-138">Használhatja a Visual Studio hello *Manifest fájlok szerkesztése* lehetőséget, kattintson a jobb gombbal a hello megoldás toomake hello jegyzékfájl módosítások után.</span><span class="sxs-lookup"><span data-stu-id="47df3-138">You can use hello Visual Studio *Edit Manifest Files* option after you right-click on hello solution toomake hello manifest file changes.</span></span>

<span data-ttu-id="47df3-139">Hello módosítása után, hello jegyzékfájl hello hasonlóan kell kinéznie (a kijelölt részei hello módosítások megjelenítése):</span><span class="sxs-lookup"><span data-stu-id="47df3-139">After hello changes are made, hello manifest should look like hello following (highlighted portions show hello changes):</span></span>

```xml
<ServiceManifestName="VisualObjects.ActorService" Version="2.0" xmlns="http://schemas.microsoft.com/2011/01/fabric" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">

<CodePackageName="Code" Version="2.0">
```

<span data-ttu-id="47df3-140">Most hello *ApplicationManifest.xml* fájl (hello alatt található **VisualObjects** projekt alatt hello **VisualObjects** megoldás) frissített tooversion 2.0 hello van **VisualObjects.ActorService** projekt.</span><span class="sxs-lookup"><span data-stu-id="47df3-140">Now hello *ApplicationManifest.xml* file (found under hello **VisualObjects** project under hello **VisualObjects** solution) is updated tooversion 2.0 of hello **VisualObjects.ActorService** project.</span></span> <span data-ttu-id="47df3-141">Ezenkívül hello alkalmazás verziója a 1.0.0.0 frissített too2.0.0.0.</span><span class="sxs-lookup"><span data-stu-id="47df3-141">In addition, hello Application version is updated too2.0.0.0 from 1.0.0.0.</span></span> <span data-ttu-id="47df3-142">Hello *ApplicationManifest.xml* kell hello kinézetét következő kódrészletet:</span><span class="sxs-lookup"><span data-stu-id="47df3-142">hello *ApplicationManifest.xml* should look like hello following snippet:</span></span>

```xml
<ApplicationManifestxmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" ApplicationTypeName="VisualObjects" ApplicationTypeVersion="2.0.0.0" xmlns="http://schemas.microsoft.com/2011/01/fabric">

 <ServiceManifestRefServiceManifestName="VisualObjects.ActorService" ServiceManifestVersion="2.0" />
```


<span data-ttu-id="47df3-143">Most, hello projekt buildjének elkészítéséhez, csak hello kiválasztásával **ActorService** projektre, majd kattintson a jobb gombbal, és hello kiválasztása **Build** lehetőséget a Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="47df3-143">Now, build hello project by selecting just hello **ActorService** project, and then right-clicking and selecting hello **Build** option in Visual Studio.</span></span> <span data-ttu-id="47df3-144">Ha **építse újra az összes**, mivel hello kód volna frissítenie kell az összes projektek hello verziók.</span><span class="sxs-lookup"><span data-stu-id="47df3-144">If you select **Rebuild all**, you should update hello versions for all projects, since hello code would have changed.</span></span> <span data-ttu-id="47df3-145">Ezt követően most csomag hello frissítése kattintson a jobb gombbal az alkalmazás ***VisualObjectsApplication***, hello Service Fabric menü kiválasztásával, és válassza **csomag**.</span><span class="sxs-lookup"><span data-stu-id="47df3-145">Next, let's package hello updated application by right-clicking on ***VisualObjectsApplication***, selecting hello Service Fabric Menu, and choosing **Package**.</span></span> <span data-ttu-id="47df3-146">Ez a művelet létrehoz egy alkalmazáscsomagot, amely telepíthető.</span><span class="sxs-lookup"><span data-stu-id="47df3-146">This action creates an application package that can be deployed.</span></span>  <span data-ttu-id="47df3-147">A frissített alkalmazás készen áll a toobe telepítve.</span><span class="sxs-lookup"><span data-stu-id="47df3-147">Your updated application is ready toobe deployed.</span></span>

## <a name="step-3--decide-on-health-policies-and-upgrade-parameters"></a><span data-ttu-id="47df3-148">3. lépés: Házirendek mellett dönt, és frissítse a paraméterek</span><span class="sxs-lookup"><span data-stu-id="47df3-148">Step 3:  Decide on health policies and upgrade parameters</span></span>
<span data-ttu-id="47df3-149">Ismerkedjen meg hello [alkalmazás frissítési paraméterei](service-fabric-application-upgrade-parameters.md) és hello [frissítési folyamat](service-fabric-application-upgrade.md) tooget különböző paraméterek, a várakozási idő és a rendszerállapot feltétel alkalmazása frissítése hello beható ismerete .</span><span class="sxs-lookup"><span data-stu-id="47df3-149">Familiarize yourself with hello [application upgrade parameters](service-fabric-application-upgrade-parameters.md) and hello [upgrade process](service-fabric-application-upgrade.md) tooget a good understanding of hello various upgrade parameters, time-outs, and health criterion applied.</span></span> <span data-ttu-id="47df3-150">Ennél a bemutatónál hello szolgáltatás állapotának kiértékelési feltételnek toohello alapértelmezett (és a javasolt) értéket, ami azt jelenti, hogy az összes szolgáltatás és példányok legyen *kifogástalan* hello frissítés után.</span><span class="sxs-lookup"><span data-stu-id="47df3-150">For this walkthrough, hello service health evaluation criterion is set toohello default (and recommended) values, which means that all services and instances should be *healthy* after hello upgrade.</span></span>  

<span data-ttu-id="47df3-151">Azonban nézzük növelése hello *HealthCheckStableDuration* too60 másodperc (így hello szolgáltatások esetében működik megfelelően, a előtt hello frissítés előrehalad toohello legalább 20 másodperc a következő frissítés tartomány).</span><span class="sxs-lookup"><span data-stu-id="47df3-151">However, let's increase hello *HealthCheckStableDuration* too60 seconds (so that hello services are healthy for at least 20 seconds before hello upgrade proceeds toohello next update domain).</span></span>  <span data-ttu-id="47df3-152">Is beállíthat a hello *UpgradeDomainTimeout* toobe 1200-as másodperc és hello *UpgradeTimeout* toobe 3000 másodperc.</span><span class="sxs-lookup"><span data-stu-id="47df3-152">Let's also set hello *UpgradeDomainTimeout* toobe 1200 seconds and hello *UpgradeTimeout* toobe 3000 seconds.</span></span>

<span data-ttu-id="47df3-153">Végezetül is állítsa hello *UpgradeFailureAction* toorollback.</span><span class="sxs-lookup"><span data-stu-id="47df3-153">Finally, let's also set hello *UpgradeFailureAction* toorollback.</span></span> <span data-ttu-id="47df3-154">Ez a beállítás a Service Fabric tooroll hátsó hello alkalmazás toohello előző verziója szükséges, ha probléma merül fel hello frissítés során találkozik.</span><span class="sxs-lookup"><span data-stu-id="47df3-154">This option requires Service Fabric tooroll back hello application toohello previous version if it encounters any issues during hello upgrade.</span></span> <span data-ttu-id="47df3-155">Ebből kifolyólag hello frissítése (a 4. lépés) indításakor hello következő paraméterek vannak megadva:</span><span class="sxs-lookup"><span data-stu-id="47df3-155">Thus, when starting hello upgrade (in Step 4), hello following parameters are specified:</span></span>

<span data-ttu-id="47df3-156">FailureAction visszaállítási =</span><span class="sxs-lookup"><span data-stu-id="47df3-156">FailureAction = Rollback</span></span>

<span data-ttu-id="47df3-157">HealthCheckStableDurationSec = 60</span><span class="sxs-lookup"><span data-stu-id="47df3-157">HealthCheckStableDurationSec = 60</span></span>

<span data-ttu-id="47df3-158">UpgradeDomainTimeoutSec = 1200</span><span class="sxs-lookup"><span data-stu-id="47df3-158">UpgradeDomainTimeoutSec = 1200</span></span>

<span data-ttu-id="47df3-159">UpgradeTimeout = 3000</span><span class="sxs-lookup"><span data-stu-id="47df3-159">UpgradeTimeout = 3000</span></span>

## <a name="step-4-prepare-application-for-upgrade"></a><span data-ttu-id="47df3-160">4. lépés: A frissítésre alkalmazás előkészítése</span><span class="sxs-lookup"><span data-stu-id="47df3-160">Step 4: Prepare application for upgrade</span></span>
<span data-ttu-id="47df3-161">Most hello alkalmazás épül, és készen áll a toobe frissíteni.</span><span class="sxs-lookup"><span data-stu-id="47df3-161">Now hello application is built and ready toobe upgraded.</span></span> <span data-ttu-id="47df3-162">Ha megnyit egy PowerShell-ablak rendszergazda, írja be [Get-ServiceFabricApplication](/powershell/module/servicefabric/get-servicefabricapplication?view=azureservicefabricps), akkor hagyja, hogy azt jelzi, hogy a rendszer alkalmazás típusú 1.0.0.0 **VisualObjects** telepített van.</span><span class="sxs-lookup"><span data-stu-id="47df3-162">If you open up a PowerShell window as an administrator and type [Get-ServiceFabricApplication](/powershell/module/servicefabric/get-servicefabricapplication?view=azureservicefabricps), it should let you know that it is application type 1.0.0.0 of **VisualObjects** that's been deployed.</span></span>  

<span data-ttu-id="47df3-163">hello alkalmazás csomag megtalálható a hello következő relatív elérési utat, ahol tömörítetlen a Service Fabric SDK - hello *Samples\Services\Stateful\VisualObjects\VisualObjects\obj\x64\Debug*.</span><span class="sxs-lookup"><span data-stu-id="47df3-163">hello application package is stored under hello following relative path where you uncompressed hello Service Fabric SDK - *Samples\Services\Stateful\VisualObjects\VisualObjects\obj\x64\Debug*.</span></span> <span data-ttu-id="47df3-164">Ebben a könyvtárban, hello alkalmazáscsomag tárolására látnia kell egy "Csomagja" mappát.</span><span class="sxs-lookup"><span data-stu-id="47df3-164">You should find a "Package" folder in that directory, where hello application package is stored.</span></span> <span data-ttu-id="47df3-165">Ellenőrizze, hogy a rendszer hello (szükség lehet annak megfelelően, valamint toomodify hello elérési utak) legújabb buildjével hello időbélyegeket tooensure.</span><span class="sxs-lookup"><span data-stu-id="47df3-165">Check hello timestamps tooensure that it is hello latest build (you may need toomodify hello paths appropriately as well).</span></span>

<span data-ttu-id="47df3-166">Most tegyük a másolási hello alkalmazás csomag toohello Service Fabric Lemezképtárolóba (hello csomagok tárolására a Service Fabric által) frissítése.</span><span class="sxs-lookup"><span data-stu-id="47df3-166">Now let's copy hello updated application package toohello Service Fabric ImageStore (where hello application packages are stored by Service Fabric).</span></span> <span data-ttu-id="47df3-167">hello paraméter *ApplicationPackagePathInImageStore* arról tájékoztatja a Service Fabric hol találnak a hello alkalmazáscsomagot.</span><span class="sxs-lookup"><span data-stu-id="47df3-167">hello parameter *ApplicationPackagePathInImageStore* informs Service Fabric where it can find hello application package.</span></span> <span data-ttu-id="47df3-168">Azt vezettek frissítése hello alkalmazás "VisualObjects\_V2" rendelkező hello a következő parancsot (esetleg toomodify elérési utak újra megfelelően).</span><span class="sxs-lookup"><span data-stu-id="47df3-168">We have put hello updated application in "VisualObjects\_V2" with hello following command (you may need toomodify paths again appropriately).</span></span>

```powershell
Copy-ServiceFabricApplicationPackage  -ApplicationPackagePath .\Samples\Services\Stateful\VisualObjects\VisualObjects\obj\x64\Debug\Package
-ImageStoreConnectionString fabric:ImageStore   -ApplicationPackagePathInImageStore "VisualObjects\_V2"
```

<span data-ttu-id="47df3-169">következő lépés hello tooregister van ehhez az alkalmazáshoz, amely hello használatával végezheti el a Service Fabric [Register-ServiceFabricApplicationType](/powershell/module/servicefabric/register-servicefabricapplicationtype?view=azureservicefabricps) parancs:</span><span class="sxs-lookup"><span data-stu-id="47df3-169">hello next step is tooregister this application with Service Fabric, which can be performed using hello [Register-ServiceFabricApplicationType](/powershell/module/servicefabric/register-servicefabricapplicationtype?view=azureservicefabricps) command:</span></span>

```powershell
Register-ServiceFabricApplicationType -ApplicationPathInImageStore "VisualObjects\_V2"
```

<span data-ttu-id="47df3-170">Hello előző parancs nem jár sikerrel, akkor valószínű, hogy kell-e egy újjáépítését az összes szolgáltatás.</span><span class="sxs-lookup"><span data-stu-id="47df3-170">If hello preceding command doesn't succeed, it is likely that you need a rebuild of all services.</span></span> <span data-ttu-id="47df3-171">2. lépésben említett, előfordulhat, hogy tooupdate, valamint a WebService verziója.</span><span class="sxs-lookup"><span data-stu-id="47df3-171">As mentioned in Step 2, you may have tooupdate your WebService version as well.</span></span>

## <a name="step-5-start-hello-application-upgrade"></a><span data-ttu-id="47df3-172">5. lépés: Indítsa el a hello alkalmazás frissítését</span><span class="sxs-lookup"><span data-stu-id="47df3-172">Step 5: Start hello application upgrade</span></span>
<span data-ttu-id="47df3-173">Most, a rendszer minden set toostart hello alkalmazás frissítési hello segítségével [Start-ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/start-servicefabricapplicationupgrade?view=azureservicefabricps) parancs:</span><span class="sxs-lookup"><span data-stu-id="47df3-173">Now, we're all set toostart hello application upgrade by using hello [Start-ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/start-servicefabricapplicationupgrade?view=azureservicefabricps) command:</span></span>

```powershell
Start-ServiceFabricApplicationUpgrade -ApplicationName fabric:/VisualObjects -ApplicationTypeVersion 2.0.0.0 -HealthCheckStableDurationSec 60 -UpgradeDomainTimeoutSec 1200 -UpgradeTimeout 3000   -FailureAction Rollback -Monitored
```


<span data-ttu-id="47df3-174">hello alkalmazásnév van hello azonos leírtaknak azt hello *ApplicationManifest.xml* fájlt.</span><span class="sxs-lookup"><span data-stu-id="47df3-174">hello application name is hello same as it was described in hello *ApplicationManifest.xml* file.</span></span> <span data-ttu-id="47df3-175">A Service Fabric használja a név tooidentify, mely az alkalmazás első frissítés.</span><span class="sxs-lookup"><span data-stu-id="47df3-175">Service Fabric uses this name tooidentify which application is getting upgraded.</span></span> <span data-ttu-id="47df3-176">Ha hello időtúllépéseket toobe túl rövid, egy hibaüzenet, hogy állapotok hello probléma merülhetnek fel.</span><span class="sxs-lookup"><span data-stu-id="47df3-176">If you set hello time-outs toobe too short, you may encounter a failure message that states hello problem.</span></span> <span data-ttu-id="47df3-177">Tekintse meg a hibaelhárítási szakaszában toohello, vagy növelje a hello időtúllépéseket.</span><span class="sxs-lookup"><span data-stu-id="47df3-177">Refer toohello troubleshooting section, or increase hello time-outs.</span></span>

<span data-ttu-id="47df3-178">Most, mert hello alkalmazás frissítési folytatódik, követhető figyelemmel Service Fabric Explorerrel, vagy hello segítségével [Get-ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/get-servicefabricapplicationupgrade?view=azureservicefabricps) PowerShell-parancsot:</span><span class="sxs-lookup"><span data-stu-id="47df3-178">Now, as hello application upgrade proceeds, you can monitor it using Service Fabric Explorer, or by using hello [Get-ServiceFabricApplicationUpgrade](/powershell/module/servicefabric/get-servicefabricapplicationupgrade?view=azureservicefabricps) PowerShell command:</span></span> 

```powershell
Get-ServiceFabricApplicationUpgrade fabric:/VisualObjects
```

<span data-ttu-id="47df3-179">Néhány perc múlva, hello állapot portáltól megelőző PowerShell-paranccsal, hello segítségével kell nyújtaniuk, hogy minden frissítési tartományok frissített (elvégezve).</span><span class="sxs-lookup"><span data-stu-id="47df3-179">In a few minutes, hello status that you got by using hello preceding PowerShell command, should state that all update domains were upgraded (completed).</span></span> <span data-ttu-id="47df3-180">És látnia kell, hogy hello vizuális objektum a böngészőablakban elindította elforgatása!</span><span class="sxs-lookup"><span data-stu-id="47df3-180">And you should find that hello visual objects in your browser window have started rotating!</span></span>

<span data-ttu-id="47df3-181">Próbálja meg frissíteni a 2-es tooversion 3 vagy a 2-es tooversion egy gyakorlatot 1.</span><span class="sxs-lookup"><span data-stu-id="47df3-181">You can try upgrading from version 2 tooversion 3, or from version 2 tooversion 1 as an exercise.</span></span> <span data-ttu-id="47df3-182">1. 2. verziójú tooversion áthelyezése is figyelembe veszi frissítés.</span><span class="sxs-lookup"><span data-stu-id="47df3-182">Moving from version 2 tooversion 1 is also considered an upgrade.</span></span> <span data-ttu-id="47df3-183">Lejátszásához időtúllépések és állapotfigyelő házirendek toomake saját kezűleg ismeri a őket.</span><span class="sxs-lookup"><span data-stu-id="47df3-183">Play with time-outs and health policies toomake yourself familiar with them.</span></span> <span data-ttu-id="47df3-184">Azure-fürttel tooan telepítésekor hello kell toobe paraméterkészlet megfelelően.</span><span class="sxs-lookup"><span data-stu-id="47df3-184">When you are deploying tooan Azure cluster, hello parameters need toobe set appropriately.</span></span> <span data-ttu-id="47df3-185">Jó tooset hello időtúllépéseket konzervatív módon is.</span><span class="sxs-lookup"><span data-stu-id="47df3-185">It is good tooset hello time-outs conservatively.</span></span>

## <a name="next-steps"></a><span data-ttu-id="47df3-186">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="47df3-186">Next steps</span></span>
<span data-ttu-id="47df3-187">[Visual Studio segítségével az alkalmazás frissítését](service-fabric-application-upgrade-tutorial.md) végigvezeti Önt az alkalmazásfrissítés Visual Studio használatával.</span><span class="sxs-lookup"><span data-stu-id="47df3-187">[Upgrading your application using Visual Studio](service-fabric-application-upgrade-tutorial.md) walks you through an application upgrade using Visual Studio.</span></span>

<span data-ttu-id="47df3-188">Szabályozhatja, hogy az alkalmazás használatával frissíti [frissítési paraméterek](service-fabric-application-upgrade-parameters.md).</span><span class="sxs-lookup"><span data-stu-id="47df3-188">Control how your application upgrades by using [upgrade parameters](service-fabric-application-upgrade-parameters.md).</span></span>

<span data-ttu-id="47df3-189">Az alkalmazásfrissítéseket Learning kompatibilissé hogyan toouse [adatszerializálás](service-fabric-application-upgrade-data-serialization.md).</span><span class="sxs-lookup"><span data-stu-id="47df3-189">Make your application upgrades compatible by learning how toouse [data serialization](service-fabric-application-upgrade-data-serialization.md).</span></span>

<span data-ttu-id="47df3-190">Ismerje meg, hogyan toouse speciális azáltal túl az alkalmazás frissítésekor funkció[témakörök speciális](service-fabric-application-upgrade-advanced.md).</span><span class="sxs-lookup"><span data-stu-id="47df3-190">Learn how toouse advanced functionality while upgrading your application by referring too[Advanced topics](service-fabric-application-upgrade-advanced.md).</span></span>

<span data-ttu-id="47df3-191">Javítsa ki a gyakori problémákat alkalmazásfrissítések toohello lépéseit hivatkozással [alkalmazásfrissítések hibaelhárítási](service-fabric-application-upgrade-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="47df3-191">Fix common problems in application upgrades by referring toohello steps in [Troubleshooting application upgrades](service-fabric-application-upgrade-troubleshooting.md).</span></span>

