---
title: "a Service Fabric-fürt erőforráskezelő hello aaaThrottling |} Microsoft Docs"
description: "Ismerje meg, hogy tooconfigure hello szabályozások hello Service Fabric fürt erőforrás-kezelő által biztosított."
services: service-fabric
documentationcenter: .net
author: masnider
manager: timlt
editor: 
ms.assetid: 4a44678b-a5aa-4d30-958f-dc4332ebfb63
ms.service: Service-Fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 08/18/2017
ms.author: masnider
ms.openlocfilehash: f418536911d3e3814e78a4d9f057dfb867ca7c63
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="throttling-hello-service-fabric-cluster-resource-manager"></a><span data-ttu-id="5a1bc-103">Sávszélesség-szabályozási hello Service Fabric fürt erőforrás-kezelő</span><span class="sxs-lookup"><span data-stu-id="5a1bc-103">Throttling hello Service Fabric Cluster Resource Manager</span></span>
<span data-ttu-id="5a1bc-104">Akkor is, ha konfigurálta az erőforrás-kezelő fürt hello megfelelően, hello fürt képes lekérni megszakad.</span><span class="sxs-lookup"><span data-stu-id="5a1bc-104">Even if you’ve configured hello Cluster Resource Manager correctly, hello cluster can get disrupted.</span></span> <span data-ttu-id="5a1bc-105">Például lehet egyidejű csomópont és a tartalék tartomány hibák - mi történne, a frissítés során történt? Erőforrás-kezelő fürt hello mindig megpróbál toofix mindent hello fürt erőforrást próbált tooreorganize és javítás hello fürt kötött.</span><span class="sxs-lookup"><span data-stu-id="5a1bc-105">For example, there could be simultaneous node and fault domain failures - what would happen if that occurred during an upgrade? hello Cluster Resource Manager always tries toofix everything, consuming hello cluster's resources trying tooreorganize and fix hello cluster.</span></span> <span data-ttu-id="5a1bc-106">Szabályozások biztosítható a backstop, hogy hello fürt használhassa a erőforrások toostabilize – hello csomópontok visszatérhet, hello hálózati partíciók javítandó, javított bits telepítve.</span><span class="sxs-lookup"><span data-stu-id="5a1bc-106">Throttles help provide a backstop so that hello cluster can use resources toostabilize - hello nodes come back, hello network partitions heal, corrected bits get deployed.</span></span>

<span data-ttu-id="5a1bc-107">e helyzetek rendezi a toohelp, hello Service Fabric fürt erőforrás-kezelő több szabályozások tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="5a1bc-107">toohelp with these sorts of situations, hello Service Fabric Cluster Resource Manager includes several throttles.</span></span> <span data-ttu-id="5a1bc-108">Ezek a szabályozások összes viszonylag nagy kalapácsok.</span><span class="sxs-lookup"><span data-stu-id="5a1bc-108">These throttles are all fairly large hammers.</span></span> <span data-ttu-id="5a1bc-109">Általában akkor nem szabad módosítani nélkül körültekintően megtervezve és tesztelését.</span><span class="sxs-lookup"><span data-stu-id="5a1bc-109">Generally they shouldn’t be changed without careful planning and testing.</span></span>

<span data-ttu-id="5a1bc-110">Hello fürt Resource Manager szabályozások módosításakor kell beállításakor őket tooyour tényleges terhelést.</span><span class="sxs-lookup"><span data-stu-id="5a1bc-110">If you change hello Cluster Resource Manager's throttles, you should tune them tooyour expected actual load.</span></span> <span data-ttu-id="5a1bc-111">Szüksége van a toohave néhány lehetővé helyen, akkor is, ha az azt jelenti, hogy hello fürt hosszabb toostabilize bizonyos esetekben időt vesz igénybe. Előfordulhat, hogy határozza meg.</span><span class="sxs-lookup"><span data-stu-id="5a1bc-111">You may determine you need toohave some throttles in place, even if it means hello cluster takes longer toostabilize in some situations.</span></span> <span data-ttu-id="5a1bc-112">Tesztelés szükséges toodetermine hello tartozó helyes értékeket szabályozások.</span><span class="sxs-lookup"><span data-stu-id="5a1bc-112">Testing is required toodetermine hello correct values for throttles.</span></span> <span data-ttu-id="5a1bc-113">Szabályozások toobe elég magas tooallow hello fürt toorespond toochanges kell elfogadható időn belül, és az alsó elég tooactually megakadályozása túl sok erőforrás-felhasználás.</span><span class="sxs-lookup"><span data-stu-id="5a1bc-113">Throttles need toobe high enough tooallow hello cluster toorespond toochanges in a reasonable amount of time, and low enough tooactually prevent too much resource consumption.</span></span> 

<span data-ttu-id="5a1bc-114">Hello idő is láttuk az ügyfelek többsége szabályozások, mert már erőforrás korlátozott környezetben lett használja.</span><span class="sxs-lookup"><span data-stu-id="5a1bc-114">Most of hello time we’ve seen customers use throttles it has been because they were already in a resource constrained environment.</span></span> <span data-ttu-id="5a1bc-115">Néhány példa lenne korlátozott hálózati sávszélesség az egyes csomópontok vagy lemezek, amelyek nem képesek toobuild sok állapot-nyilvántartó replikák párhuzamos toothroughput korlátozásai miatt.</span><span class="sxs-lookup"><span data-stu-id="5a1bc-115">Some examples would be limited network bandwidth for individual nodes, or disks that aren't able toobuild many stateful replicas in parallel due toothroughput limitations.</span></span> <span data-ttu-id="5a1bc-116">Nélkül szabályozások műveletek nem ne terhelje tovább ezeket az erőforrásokat, műveletek toofail okozó vagy lassú.</span><span class="sxs-lookup"><span data-stu-id="5a1bc-116">Without throttles, operations could overwhelm these resources, causing operations toofail or be slow.</span></span> <span data-ttu-id="5a1bc-117">Ezekben a helyzetekben az ügyfelek szabályozások használt, és azok hello mennyisége időbe telne hello fürt tooreach stabil állapotban volt kiterjesztése tudtak.</span><span class="sxs-lookup"><span data-stu-id="5a1bc-117">In these situations customers used throttles and knew they were extending hello amount of time it would take hello cluster tooreach a stable state.</span></span> <span data-ttu-id="5a1bc-118">Az ügyfelek is tisztában készíthet a futó alacsonyabb teljes megbízhatóságot, amíg azok volt halmozódni végződhetnek sikerült.</span><span class="sxs-lookup"><span data-stu-id="5a1bc-118">Customers also understood they could end up running at lower overall reliability while they were throttled.</span></span>


## <a name="configuring-hello-throttles"></a><span data-ttu-id="5a1bc-119">Konfigurálás hello azelőtt gyorsítja fel</span><span class="sxs-lookup"><span data-stu-id="5a1bc-119">Configuring hello throttles</span></span>

<span data-ttu-id="5a1bc-120">Service Fabric replika típusú áthelyezések számának hello szabályozás kétféle módszer van.</span><span class="sxs-lookup"><span data-stu-id="5a1bc-120">Service Fabric has two mechanisms for throttling hello number of replica movements.</span></span> <span data-ttu-id="5a1bc-121">hello alapértelmezett mechanizmus, amely létezett a Service Fabric 5.7 jelöli, sávszélesség-szabályozás a kurzor engedélyezett abszolút értékként.</span><span class="sxs-lookup"><span data-stu-id="5a1bc-121">hello default mechanism that existed before Service Fabric 5.7 represents throttling as an absolute number of moves allowed.</span></span> <span data-ttu-id="5a1bc-122">Ez nem működik a fürtök különböző méretű.</span><span class="sxs-lookup"><span data-stu-id="5a1bc-122">This does not work for clusters of all sizes.</span></span> <span data-ttu-id="5a1bc-123">Különösen nagy fürtjein hello alapértelmezett értéke lehet túl kicsi, és jelentősen lelassult terheléselosztás akkor is, ha szükség közben nem hatású kisebb fürt.</span><span class="sxs-lookup"><span data-stu-id="5a1bc-123">In particular, for large clusters hello default value can be too small, significantly slowing down balancing even when it is necessary, while having no effect in smaller clusters.</span></span> <span data-ttu-id="5a1bc-124">A korábbi mechanizmus felül lett írva százalék alapú szabályozásával, amelyek hatékonyabb méretezést dinamikus fürtökkel a szolgáltatások mely hello számot, és csomópontok rendszeresen módosítása.</span><span class="sxs-lookup"><span data-stu-id="5a1bc-124">This prior mechanism has been superseded by percentage-based throttling, which scales better with dynamic clusters in which hello number of services and nodes change regularly.</span></span>

<span data-ttu-id="5a1bc-125">hello szabályozások hello fürtök replikák száma hello százalékaként alapulnak.</span><span class="sxs-lookup"><span data-stu-id="5a1bc-125">hello throttles are based on a percentage of hello number of replicas in hello clusters.</span></span> <span data-ttu-id="5a1bc-126">Alapú Percetage szabályozások kifejezésére hello szabály engedélyezése: "nem helyezhető át több mint 10 %-replikák 10 percenként", például.</span><span class="sxs-lookup"><span data-stu-id="5a1bc-126">Percetage based throttles enable expressing hello rule: "do not move more than 10% of replicas in a 10 minute interval", for example.</span></span>

<span data-ttu-id="5a1bc-127">százalék alapú sávszélesség-szabályozás hello konfigurációs beállításai a következők:</span><span class="sxs-lookup"><span data-stu-id="5a1bc-127">hello configuration settings for percentage-based throttling are:</span></span>

  - <span data-ttu-id="5a1bc-128">GlobalMovementThrottleThresholdPercentage - áthelyezések bármikor, fürt engedélyezett maximális száma hello fürt replikák száma százalékában kifejezve.</span><span class="sxs-lookup"><span data-stu-id="5a1bc-128">GlobalMovementThrottleThresholdPercentage - Maximum number of movements allowed in cluster at any time, expressed as percentage of total number of replicas in hello cluster.</span></span> <span data-ttu-id="5a1bc-129">0 a korlátozás nélküli állapotot jelzi.</span><span class="sxs-lookup"><span data-stu-id="5a1bc-129">0 indicates no limit.</span></span> <span data-ttu-id="5a1bc-130">hello alapértelmezett értéke 0.</span><span class="sxs-lookup"><span data-stu-id="5a1bc-130">hello default value is 0.</span></span> <span data-ttu-id="5a1bc-131">Ha ez a beállítás és a GlobalMovementThrottleThreshold meg van adva, majd hello korlátozóbb korlát szerepel.</span><span class="sxs-lookup"><span data-stu-id="5a1bc-131">If both this setting and GlobalMovementThrottleThreshold are specified, then hello more conservative limit is used.</span></span>
  - <span data-ttu-id="5a1bc-132">GlobalMovementThrottleThresholdPercentageForPlacement - áthelyezések engedélyezett hello elhelyezési fázisban hello fürt replikák száma százalékában kifejezve maximális száma.</span><span class="sxs-lookup"><span data-stu-id="5a1bc-132">GlobalMovementThrottleThresholdPercentageForPlacement - Maximum number of movements allowed during hello placement phase, expressed as percentage of total number of replicas in hello cluster.</span></span> <span data-ttu-id="5a1bc-133">0 a korlátozás nélküli állapotot jelzi.</span><span class="sxs-lookup"><span data-stu-id="5a1bc-133">0 indicates no limit.</span></span> <span data-ttu-id="5a1bc-134">hello alapértelmezett értéke 0.</span><span class="sxs-lookup"><span data-stu-id="5a1bc-134">hello default value is 0.</span></span> <span data-ttu-id="5a1bc-135">Ha ez a beállítás és a GlobalMovementThrottleThresholdForPlacement meg van adva, majd hello korlátozóbb korlát szerepel.</span><span class="sxs-lookup"><span data-stu-id="5a1bc-135">If both this setting and GlobalMovementThrottleThresholdForPlacement are specified, then hello more conservative limit is used.</span></span>
  - <span data-ttu-id="5a1bc-136">GlobalMovementThrottleThresholdPercentageForBalancing - áthelyezések közben hello fázisban hello fürt replikák száma százalékában kifejezve terheléselosztás engedélyezett maximális száma.</span><span class="sxs-lookup"><span data-stu-id="5a1bc-136">GlobalMovementThrottleThresholdPercentageForBalancing - Maximum number of movements allowed during hello balancing phase, expressed as percentage of total number of replicas in hello cluster.</span></span> <span data-ttu-id="5a1bc-137">0 a korlátozás nélküli állapotot jelzi.</span><span class="sxs-lookup"><span data-stu-id="5a1bc-137">0 indicates no limit.</span></span> <span data-ttu-id="5a1bc-138">hello alapértelmezett értéke 0.</span><span class="sxs-lookup"><span data-stu-id="5a1bc-138">hello default value is 0.</span></span> <span data-ttu-id="5a1bc-139">Ha ez a beállítás és a GlobalMovementThrottleThresholdForBalancing meg van adva, majd hello korlátozóbb korlát szerepel.</span><span class="sxs-lookup"><span data-stu-id="5a1bc-139">If both this setting and GlobalMovementThrottleThresholdForBalancing are specified, then hello more conservative limit is used.</span></span>

<span data-ttu-id="5a1bc-140">Hello késleltetési százalékos megadásakor 0,05, akkor adja meg a 5 %.</span><span class="sxs-lookup"><span data-stu-id="5a1bc-140">When specifying hello throttle percentage, you'd specify 5% as 0.05.</span></span> <span data-ttu-id="5a1bc-141">hello időköz, amelyen ezek a szabályozások szabályozza hello GlobalMovementThrottleCountingInterval, a másodpercben megadott értéke.</span><span class="sxs-lookup"><span data-stu-id="5a1bc-141">hello interval on which these throttles are governed is hello GlobalMovementThrottleCountingInterval, which is specified in seconds.</span></span>


``` xml
<Section Name="PlacementAndLoadBalancing">
     <Parameter Name="GlobalMovementThrottleThresholdPercentage" Value="0" />
     <Parameter Name="GlobalMovementThrottleThresholdPercentageForPlacement" Value="0" />
     <Parameter Name="GlobalMovementThrottleThresholdPercentageForBalancing" Value="0" />
     <Parameter Name="GlobalMovementThrottleCountingInterval" Value="600" />
</Section>
```

<span data-ttu-id="5a1bc-142">az önálló verziója telepítéseinek művelet vagy az Azure-Template.json üzemeltetett fürtök:</span><span class="sxs-lookup"><span data-stu-id="5a1bc-142">via ClusterConfig.json for Standalone deployments or Template.json for Azure hosted clusters:</span></span>

```json
"fabricSettings": [
  {
    "name": "PlacementAndLoadBalancing",
    "parameters": [
      {
          "name": "GlobalMovementThrottleThresholdPercentage",
          "value": "0.0"
      },
      {
          "name": "GlobalMovementThrottleThresholdPercentageForPlacement",
          "value": "0.0"
      },
      {
          "name": "GlobalMovementThrottleThresholdPercentageForBalancing",
          "value": "0.0"
      },
      {
          "name": "GlobalMovementThrottleCountingInterval",
          "value": "600"
      }
    ]
  }
]
```

### <a name="default-count-based-throttles"></a><span data-ttu-id="5a1bc-143">Alapértelmezett alapján szabályozások</span><span class="sxs-lookup"><span data-stu-id="5a1bc-143">Default count based throttles</span></span>
<span data-ttu-id="5a1bc-144">Ezen információ abban az esetben régebbi fürttel rendelkezik, vagy még mindig tartsa meg ezeket a konfigurációkat, azóta frissített fürtökben.</span><span class="sxs-lookup"><span data-stu-id="5a1bc-144">This information is provided in case you have older clusters or still retain these configurations in clusters that have since been upgraded.</span></span> <span data-ttu-id="5a1bc-145">Általánosságban ajánlott, hogy ezek váltják fel hello százalék alapú szabályozások fenti.</span><span class="sxs-lookup"><span data-stu-id="5a1bc-145">In general, it is recommended that these are replaced with hello percentage-based throttles above.</span></span> <span data-ttu-id="5a1bc-146">Százalék alapú sávszélesség-szabályozás alapértelmezés szerint le van tiltva, mivel ezek a szabályozások marad hello alapértelmezett szabályozások fürt le van tiltva, és hello százalék alapú szabályozások helyére.</span><span class="sxs-lookup"><span data-stu-id="5a1bc-146">Since percentage-based throttling is disabled by default, these throttles remain hello default throttles for a cluster until they are disabled and replaced with hello percentage-based throttles.</span></span> 

  - <span data-ttu-id="5a1bc-147">GlobalMovementThrottleThreshold – Ez a beállítás hello fürt típusú áthelyezések száma hello szabályozza a néhány idővel.</span><span class="sxs-lookup"><span data-stu-id="5a1bc-147">GlobalMovementThrottleThreshold – this setting controls hello total number of movements in hello cluster over some time.</span></span> <span data-ttu-id="5a1bc-148">hello időt másodpercben, hello GlobalMovementThrottleCountingInterval van megadva.</span><span class="sxs-lookup"><span data-stu-id="5a1bc-148">hello amount of time is specified in seconds as hello GlobalMovementThrottleCountingInterval.</span></span> <span data-ttu-id="5a1bc-149">hello GlobalMovementThrottleThreshold hello alapértelmezett érték 1000 és hello alapértelmezett hello GlobalMovementThrottleCountingInterval értéke 600.</span><span class="sxs-lookup"><span data-stu-id="5a1bc-149">hello default value for hello GlobalMovementThrottleThreshold is 1000 and hello default value for hello GlobalMovementThrottleCountingInterval is 600.</span></span>
  - <span data-ttu-id="5a1bc-150">MovementPerPartitionThrottleThreshold – Ez a beállítás bármely szolgáltatás partíció áthelyezések száma hello szabályozza a néhány idővel.</span><span class="sxs-lookup"><span data-stu-id="5a1bc-150">MovementPerPartitionThrottleThreshold – this setting controls hello total number of movements for any service partition over some time.</span></span> <span data-ttu-id="5a1bc-151">hello időt másodpercben, hello MovementPerPartitionThrottleCountingInterval van megadva.</span><span class="sxs-lookup"><span data-stu-id="5a1bc-151">hello amount of time is specified in seconds as hello MovementPerPartitionThrottleCountingInterval.</span></span> <span data-ttu-id="5a1bc-152">hello alapértelmezett hello MovementPerPartitionThrottleThreshold értéke 50 és hello alapértelmezett hello MovementPerPartitionThrottleCountingInterval értéke 600.</span><span class="sxs-lookup"><span data-stu-id="5a1bc-152">hello default value for hello MovementPerPartitionThrottleThreshold is 50 and hello default value for hello MovementPerPartitionThrottleCountingInterval is 600.</span></span>

<span data-ttu-id="5a1bc-153">Ezek a szabályozások hello konfigurációja hello ugyanaz, mint hello százalék alapú sávszélesség-szabályozás mintát követi.</span><span class="sxs-lookup"><span data-stu-id="5a1bc-153">hello configuration for these throttles follows hello same pattern as hello percentage-based throttling.</span></span>

## <a name="next-steps"></a><span data-ttu-id="5a1bc-154">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="5a1bc-154">Next steps</span></span>
- <span data-ttu-id="5a1bc-155">toofind meg arról, hogyan hello fürt erőforrás-kezelő felügyeli, és elosztja a terhelést hello fürtben, tekintse meg hello a cikk a [terheléselosztás](service-fabric-cluster-resource-manager-balancing.md)</span><span class="sxs-lookup"><span data-stu-id="5a1bc-155">toofind out about how hello Cluster Resource Manager manages and balances load in hello cluster, check out hello article on [balancing load](service-fabric-cluster-resource-manager-balancing.md)</span></span>
- <span data-ttu-id="5a1bc-156">hello fürt erőforrás-kezelő számos lehetőséget leíró hello fürt rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="5a1bc-156">hello Cluster Resource Manager has many options for describing hello cluster.</span></span> <span data-ttu-id="5a1bc-157">toofind további információk a őket, tekintse meg a cikk a [leíró a Service Fabric-fürt](service-fabric-cluster-resource-manager-cluster-description.md)</span><span class="sxs-lookup"><span data-stu-id="5a1bc-157">toofind out more about them, check out this article on [describing a Service Fabric cluster](service-fabric-cluster-resource-manager-cluster-description.md)</span></span>
