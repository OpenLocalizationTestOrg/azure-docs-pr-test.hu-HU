---
title: "Állapotalapú Reliable Services diagnosztika |} Microsoft Docs"
description: "A Stateful Reliable Services diagnosztikai funkciói"
services: service-fabric
documentationcenter: .net
author: dkkapur
manager: timlt
editor: 
ms.assetid: ae0e8f99-69ab-4d45-896d-1fa80ed45659
ms.service: Service-Fabric
ms.devlang: dotnet
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 06/30/2017
ms.author: dekapur
ms.openlocfilehash: 63a7707f16bbf037c0c91da1d02093e2314dc06e
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 07/11/2017
---
# <a name="diagnostic-functionality-for-stateful-reliable-services"></a><span data-ttu-id="855a5-103">A Stateful Reliable Services diagnosztikai funkciói</span><span class="sxs-lookup"><span data-stu-id="855a5-103">Diagnostic functionality for Stateful Reliable Services</span></span>
<span data-ttu-id="855a5-104">Az állapotalapú alkalmazások és szolgáltatások megbízható szolgáltatások StatefulServiceBase osztály bocsát ki [EventSource](https://msdn.microsoft.com/library/system.diagnostics.tracing.eventsource.aspx) eseményeket, amelyek segítségével a szolgáltatás hibakeresési módját a futtatókörnyezet működő, és segítenek a hibaelhárításban betekintést.</span><span class="sxs-lookup"><span data-stu-id="855a5-104">The Stateful Reliable Services StatefulServiceBase class emits [EventSource](https://msdn.microsoft.com/library/system.diagnostics.tracing.eventsource.aspx) events that can be used to debug the service, provide insights into how the runtime is operating, and help with troubleshooting.</span></span>

## <a name="eventsource-events"></a><span data-ttu-id="855a5-105">EventSource események</span><span class="sxs-lookup"><span data-stu-id="855a5-105">EventSource events</span></span>
<span data-ttu-id="855a5-106">Az állapotalapú alkalmazások és szolgáltatások megbízható szolgáltatások StatefulServiceBase osztály az EventSource neve: "Microsoft-ServiceFabric-szolgáltatások".</span><span class="sxs-lookup"><span data-stu-id="855a5-106">The EventSource name for the Stateful Reliable Services StatefulServiceBase class is "Microsoft-ServiceFabric-Services".</span></span> <span data-ttu-id="855a5-107">Ez az esemény forrásból származó események megjelennek a [diagnosztika események](service-fabric-diagnostics-how-to-monitor-and-diagnose-services-locally.md#view-service-fabric-system-events-in-visual-studio) ablakot, ha a szolgáltatás folyamatban van [indítja a Visual Studio](service-fabric-debugging-your-application.md).</span><span class="sxs-lookup"><span data-stu-id="855a5-107">Events from this event source appear in the [Diagnostics Events](service-fabric-diagnostics-how-to-monitor-and-diagnose-services-locally.md#view-service-fabric-system-events-in-visual-studio) window when the service is being [debugged in Visual Studio](service-fabric-debugging-your-application.md).</span></span>

<span data-ttu-id="855a5-108">Például az eszközök és technológiák segíti a összegyűjtése és/vagy EventSource események megtekintése [PerfView](http://www.microsoft.com/download/details.aspx?id=28567), [Microsoft Azure Diagnostics](../cloud-services/cloud-services-dotnet-diagnostics.md), és a [Microsoft TraceEvent Library](http://www.nuget.org/packages/Microsoft.Diagnostics.Tracing.TraceEvent).</span><span class="sxs-lookup"><span data-stu-id="855a5-108">Examples of tools and technologies that help in collecting and/or viewing EventSource events are [PerfView](http://www.microsoft.com/download/details.aspx?id=28567), [Microsoft Azure Diagnostics](../cloud-services/cloud-services-dotnet-diagnostics.md), and the [Microsoft TraceEvent Library](http://www.nuget.org/packages/Microsoft.Diagnostics.Tracing.TraceEvent).</span></span>

## <a name="events"></a><span data-ttu-id="855a5-109">Események</span><span class="sxs-lookup"><span data-stu-id="855a5-109">Events</span></span>
| <span data-ttu-id="855a5-110">esemény neve</span><span class="sxs-lookup"><span data-stu-id="855a5-110">Event name</span></span> | <span data-ttu-id="855a5-111">Eseményazonosító</span><span class="sxs-lookup"><span data-stu-id="855a5-111">Event ID</span></span> | <span data-ttu-id="855a5-112">Szint</span><span class="sxs-lookup"><span data-stu-id="855a5-112">Level</span></span> | <span data-ttu-id="855a5-113">Esemény leírása</span><span class="sxs-lookup"><span data-stu-id="855a5-113">Event description</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="855a5-114">StatefulRunAsyncInvocation</span><span class="sxs-lookup"><span data-stu-id="855a5-114">StatefulRunAsyncInvocation</span></span> |<span data-ttu-id="855a5-115">1</span><span class="sxs-lookup"><span data-stu-id="855a5-115">1</span></span> |<span data-ttu-id="855a5-116">Tájékoztató</span><span class="sxs-lookup"><span data-stu-id="855a5-116">Informational</span></span> |<span data-ttu-id="855a5-117">Amikor a szolgáltatás RunAsync feladat elindítva</span><span class="sxs-lookup"><span data-stu-id="855a5-117">Emitted when service RunAsync task is started</span></span> |
| <span data-ttu-id="855a5-118">StatefulRunAsyncCancellation</span><span class="sxs-lookup"><span data-stu-id="855a5-118">StatefulRunAsyncCancellation</span></span> |<span data-ttu-id="855a5-119">2</span><span class="sxs-lookup"><span data-stu-id="855a5-119">2</span></span> |<span data-ttu-id="855a5-120">Tájékoztató</span><span class="sxs-lookup"><span data-stu-id="855a5-120">Informational</span></span> |<span data-ttu-id="855a5-121">Amikor a szolgáltatás RunAsync feladat meg lett szakítva</span><span class="sxs-lookup"><span data-stu-id="855a5-121">Emitted when service RunAsync task is cancelled</span></span> |
| <span data-ttu-id="855a5-122">StatefulRunAsyncCompletion</span><span class="sxs-lookup"><span data-stu-id="855a5-122">StatefulRunAsyncCompletion</span></span> |<span data-ttu-id="855a5-123">3</span><span class="sxs-lookup"><span data-stu-id="855a5-123">3</span></span> |<span data-ttu-id="855a5-124">Tájékoztató</span><span class="sxs-lookup"><span data-stu-id="855a5-124">Informational</span></span> |<span data-ttu-id="855a5-125">Amikor a szolgáltatás RunAsync feladat befejezése</span><span class="sxs-lookup"><span data-stu-id="855a5-125">Emitted when service RunAsync task is completed</span></span> |
| <span data-ttu-id="855a5-126">StatefulRunAsyncSlowCancellation</span><span class="sxs-lookup"><span data-stu-id="855a5-126">StatefulRunAsyncSlowCancellation</span></span> |<span data-ttu-id="855a5-127">4</span><span class="sxs-lookup"><span data-stu-id="855a5-127">4</span></span> |<span data-ttu-id="855a5-128">Figyelmeztetés</span><span class="sxs-lookup"><span data-stu-id="855a5-128">Warning</span></span> |<span data-ttu-id="855a5-129">Amikor a szolgáltatás RunAsync feladat megszakításának befejezéséhez túl sokáig tart</span><span class="sxs-lookup"><span data-stu-id="855a5-129">Emitted when service RunAsync task takes too long to complete cancellation</span></span> |
| <span data-ttu-id="855a5-130">StatefulRunAsyncFailure</span><span class="sxs-lookup"><span data-stu-id="855a5-130">StatefulRunAsyncFailure</span></span> |<span data-ttu-id="855a5-131">5</span><span class="sxs-lookup"><span data-stu-id="855a5-131">5</span></span> |<span data-ttu-id="855a5-132">Hiba</span><span class="sxs-lookup"><span data-stu-id="855a5-132">Error</span></span> |<span data-ttu-id="855a5-133">Amikor a szolgáltatás RunAsync tevékenység kivételt jelez.</span><span class="sxs-lookup"><span data-stu-id="855a5-133">Emitted when service RunAsync task throws an exception</span></span> |

## <a name="interpret-events"></a><span data-ttu-id="855a5-134">Események értelmezése</span><span class="sxs-lookup"><span data-stu-id="855a5-134">Interpret events</span></span>
<span data-ttu-id="855a5-135">A szolgáltatás-író szolgáltatás –, valamint ha a szolgáltatás elindult, megszakítva, vagy befejeződött időzítését-felügyeleti életciklus megismerése érdemes StatefulRunAsyncInvocation StatefulRunAsyncCompletion és StatefulRunAsyncCancellation eseményeket is.</span><span class="sxs-lookup"><span data-stu-id="855a5-135">StatefulRunAsyncInvocation, StatefulRunAsyncCompletion, and StatefulRunAsyncCancellation events are useful to the service writer to understand the lifecycle of a service--as well as the timing for when a service is started, cancelled, or completed.</span></span> <span data-ttu-id="855a5-136">A következő esetekben lehet hasznos szolgáltatás hibáinak feltárására, vagy a szolgáltatás életciklusának megértése.</span><span class="sxs-lookup"><span data-stu-id="855a5-136">This can be useful when debugging service issues or understanding the service lifecycle.</span></span>

<span data-ttu-id="855a5-137">Szolgáltatás írók kell figyelmesen elolvassa StatefulRunAsyncSlowCancellation és StatefulRunAsyncFailure események, mert a szolgáltatás problémákat jeleznek.</span><span class="sxs-lookup"><span data-stu-id="855a5-137">Service writers should pay close attention to StatefulRunAsyncSlowCancellation and StatefulRunAsyncFailure events because they indicate issues with the service.</span></span>

<span data-ttu-id="855a5-138">Amikor a RunAsync() feladat kivételt StatefulRunAsyncFailure kibocsátott.</span><span class="sxs-lookup"><span data-stu-id="855a5-138">StatefulRunAsyncFailure is emitted whenever the service RunAsync() task throws an exception.</span></span> <span data-ttu-id="855a5-139">Általában egy kivétel lépett fel hiba vagy probléma a szolgáltatás jelzi.</span><span class="sxs-lookup"><span data-stu-id="855a5-139">Typically, an exception thrown indicates an error or bug in the service.</span></span> <span data-ttu-id="855a5-140">Emellett a kivétel hatására a szolgáltatás leállását, ezért egy másik csomópont áthelyezés.</span><span class="sxs-lookup"><span data-stu-id="855a5-140">Additionally, the exception causes the service to fail, so it is moved to a different node.</span></span> <span data-ttu-id="855a5-141">Ez lehet egy drága művelet, és késleltetheti bejövő kérelmeket, ha a szolgáltatás áthelyezte.</span><span class="sxs-lookup"><span data-stu-id="855a5-141">This can be an expensive operation and can delay incoming requests while the service is moved.</span></span> <span data-ttu-id="855a5-142">Szolgáltatás írók határozza meg, az okot a kivétel és, ha lehetséges, mérsékelni.</span><span class="sxs-lookup"><span data-stu-id="855a5-142">Service writers should determine the cause of the exception and, if possible, mitigate it.</span></span>

<span data-ttu-id="855a5-143">StatefulRunAsyncSlowCancellation kibocsátott, amikor a RunAsync feladat megszakítási kérelmet a 4 másodpercnél hosszabb időbe telik.</span><span class="sxs-lookup"><span data-stu-id="855a5-143">StatefulRunAsyncSlowCancellation is emitted whenever a cancellation request for the RunAsync task takes longer than four seconds.</span></span> <span data-ttu-id="855a5-144">Amikor egy szolgáltatás túl lassan cancellation befejezéséhez, a szolgáltatás gyors újra kell indítani egy másik csomópontra az képesek hatással van.</span><span class="sxs-lookup"><span data-stu-id="855a5-144">When a service takes too long to complete cancellation, it impacts the ability for the service to be quickly restarted on another node.</span></span> <span data-ttu-id="855a5-145">Ez hatással lehet a szolgáltatás rendelkezésre állását.</span><span class="sxs-lookup"><span data-stu-id="855a5-145">This may impact the overall availability of the service.</span></span>

## <a name="next-steps"></a><span data-ttu-id="855a5-146">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="855a5-146">Next steps</span></span>
* [<span data-ttu-id="855a5-147">A PerfView EventSource szolgáltatók</span><span class="sxs-lookup"><span data-stu-id="855a5-147">EventSource providers in PerfView</span></span>](https://blogs.msdn.microsoft.com/vancem/2012/07/09/introduction-tutorial-logging-etw-events-in-c-system-diagnostics-tracing-eventsource/)
