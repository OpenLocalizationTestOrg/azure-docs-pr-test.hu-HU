---
title: "Kialakítási szempontok a Azure virtuálisgép-méretezési csoportok |} Microsoft Docs"
description: "További tudnivalók az Azure virtuálisgép-méretezési csoportok kialakítási szempontjai"
keywords: "Linux virtuális gép, virtuálisgép-méretezési beállítása"
services: virtual-machine-scale-sets
documentationcenter: 
author: gatneil
manager: madhana
editor: tysonn
tags: azure-resource-manager
ms.assetid: c27c6a59-a0ab-4117-a01b-42b049464ca1
ms.service: virtual-machine-scale-sets
ms.workload: na
ms.tgt_pltfrm: vm-linux
ms.devlang: na
ms.topic: article
ms.date: 06/01/2017
ms.author: negat
ms.openlocfilehash: 6dbd4f22e3e949e19565030f5a10f545b89a0a3c
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 08/29/2017
---
# <a name="design-considerations-for-scale-sets"></a><span data-ttu-id="1afd9-104">Méretezési csoportok kialakítási szempontjai</span><span class="sxs-lookup"><span data-stu-id="1afd9-104">Design Considerations For Scale Sets</span></span>
<span data-ttu-id="1afd9-105">Ebben a témakörben ismertetett tervezési megfontolások a virtuálisgép-méretezési készlet.</span><span class="sxs-lookup"><span data-stu-id="1afd9-105">This topic discusses design considerations for Virtual Machine Scale Sets.</span></span> <span data-ttu-id="1afd9-106">Mik azok a virtuálisgép-méretezési csoportok kapcsolatos információkért tekintse meg [virtuális gépek méretezési készletek áttekintése](virtual-machine-scale-sets-overview.md).</span><span class="sxs-lookup"><span data-stu-id="1afd9-106">For information about what Virtual Machine Scale Sets are, refer to [Virtual Machine Scale Sets Overview](virtual-machine-scale-sets-overview.md).</span></span>

## <a name="when-to-use-scale-sets-instead-of-virtual-machines"></a><span data-ttu-id="1afd9-107">Mikor érdemes használni a skála beállítja a virtuális gépek helyett?</span><span class="sxs-lookup"><span data-stu-id="1afd9-107">When to use scale sets instead of virtual machines?</span></span>
<span data-ttu-id="1afd9-108">Általában méretezési csoportok hasznosak magas rendelkezésre állású infrastruktúra üzembe helyezéséhez ahol gépek halmaza hasonló konfigurációval rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="1afd9-108">Generally, scale sets are useful for deploying highly available infrastructure where a set of machines have similar configuration.</span></span> <span data-ttu-id="1afd9-109">Azonban bizonyos funkciók találhatók csak méretezési csoportok míg egyéb szolgáltatásokat csak a virtuális gépek.</span><span class="sxs-lookup"><span data-stu-id="1afd9-109">However, some features are only available in scale sets while other features are only available in VMs.</span></span> <span data-ttu-id="1afd9-110">Ahhoz, hogy jól informált döntést arról, hogy mikor melyik technológiát használja, azt kell vessen egy pillantást, néhány gyakran használt funkciója által biztosított méretezési csoportok, de nem a virtuális gépek:</span><span class="sxs-lookup"><span data-stu-id="1afd9-110">In order to make an informed decision about when to use each technology, we should first take a look at some of the commonly used features that are available in scale sets but not VMs:</span></span>

### <a name="scale-set-specific-features"></a><span data-ttu-id="1afd9-111">Méretezési készlet-specifikus szolgáltatásai</span><span class="sxs-lookup"><span data-stu-id="1afd9-111">Scale set-specific features</span></span>

- <span data-ttu-id="1afd9-112">A méretezési konfigurációs ad meg, ha egyszerűen frissítheti párhuzamosan további virtuális gépek telepítése a "kapacitás" tulajdonság.</span><span class="sxs-lookup"><span data-stu-id="1afd9-112">Once you specify the scale set configuration, you can simply update the "capacity" property to deploy more VMs in parallel.</span></span> <span data-ttu-id="1afd9-113">Ez egy sokkal egyszerűbb, mint a kell levezényelni a párhuzamos sok egyes virtuális gépek telepítését egy parancsfájl írásához.</span><span class="sxs-lookup"><span data-stu-id="1afd9-113">This is much simpler than writing a script to orchestrate deploying many individual VMs in parallel.</span></span>
- <span data-ttu-id="1afd9-114">Is [Azure automatikus skálázás segítségével automatikusan átméretezi a méretezési](./virtual-machine-scale-sets-autoscale-overview.md) , de nem az egyes virtuális gépek.</span><span class="sxs-lookup"><span data-stu-id="1afd9-114">You can [use Azure Autoscale to automatically scale a scale set](./virtual-machine-scale-sets-autoscale-overview.md) but not individual VMs.</span></span>
- <span data-ttu-id="1afd9-115">Is [lemezkép-visszaállítási méretezési virtuális gépek](https://docs.microsoft.com/rest/api/virtualmachinescalesets/manage-a-vm) , de [nem az egyes virtuális gépek](https://docs.microsoft.com/rest/api/compute/virtualmachines).</span><span class="sxs-lookup"><span data-stu-id="1afd9-115">You can [reimage scale set VMs](https://docs.microsoft.com/rest/api/virtualmachinescalesets/manage-a-vm) but [not individual VMs](https://docs.microsoft.com/rest/api/compute/virtualmachines).</span></span>
- <span data-ttu-id="1afd9-116">Is [szükségesnél több erőforrás](./virtual-machine-scale-sets-design-overview.md) méretezési virtuális gépek nagyobb megbízhatóságot és gyorsabb telepítési időpontokat.</span><span class="sxs-lookup"><span data-stu-id="1afd9-116">You can [overprovision](./virtual-machine-scale-sets-design-overview.md) scale set VMs for increased reliability and quicker deployment times.</span></span> <span data-ttu-id="1afd9-117">Nem ehhez az egyes virtuális gépeken kivéve ennek egyéni kód írását, akkor.</span><span class="sxs-lookup"><span data-stu-id="1afd9-117">You cannot do this with individual VMs unless you write custom code to do this.</span></span>
- <span data-ttu-id="1afd9-118">Megadhat egy [házirend frissítése](./virtual-machine-scale-sets-upgrade-scale-set.md) megkezdik frissítések virtuális gépek között a méretezési csoportban lévő megkönnyítése.</span><span class="sxs-lookup"><span data-stu-id="1afd9-118">You can specify an [upgrade policy](./virtual-machine-scale-sets-upgrade-scale-set.md) to make it easy to roll out upgrades across VMs in your scale set.</span></span> <span data-ttu-id="1afd9-119">Az egyes virtuális gépeken meg kell levezényelni a frissítéseket magát.</span><span class="sxs-lookup"><span data-stu-id="1afd9-119">With individual VMs, you must orchestrate updates yourself.</span></span>

### <a name="vm-specific-features"></a><span data-ttu-id="1afd9-120">VM-specifikus szolgáltatásai</span><span class="sxs-lookup"><span data-stu-id="1afd9-120">VM-specific features</span></span>

<span data-ttu-id="1afd9-121">Másrészről, néhány funkció csak érhető el a virtuális gépek (legalább jelenleg):</span><span class="sxs-lookup"><span data-stu-id="1afd9-121">On the other hand, some features are only available in VMs (at least for the time being):</span></span>

- <span data-ttu-id="1afd9-122">Az adatlemezek csatolhat adott egyes virtuális gépeken, de csatolt adatlemezek méretezési csoportban lévő összes virtuális gépek vannak konfigurálva.</span><span class="sxs-lookup"><span data-stu-id="1afd9-122">You can attach data disks to specific individual VMs, but attached data disks are configured for all VMs in a scale set.</span></span>
- <span data-ttu-id="1afd9-123">Nem üres adatlemez csatolása egyes virtuális gépeken, de nem méretezési csoportban lévő virtuális gépek.</span><span class="sxs-lookup"><span data-stu-id="1afd9-123">You can attach non-empty data disks to individual VMs but not VMs in a scale set.</span></span>
- <span data-ttu-id="1afd9-124">Egy adott virtuális Gépre, de nem egy Virtuálisgép-méretezési csoportban lévő lehet pillanatkép.</span><span class="sxs-lookup"><span data-stu-id="1afd9-124">You can snapshot an individual VM but not a VM in a scale set.</span></span>
- <span data-ttu-id="1afd9-125">Az egy adott virtuális Gépre, de nem egy Virtuálisgép-méretezési csoportban lévő lemezkép rögzítheti.</span><span class="sxs-lookup"><span data-stu-id="1afd9-125">You can capture an image from an individual VM but not from a VM in a scale set.</span></span>
- <span data-ttu-id="1afd9-126">Telepíthet át egy adott virtuális Gépre natív lemezek felügyelt lemezekre, de nem ehhez a virtuális gépek méretezési csoportban lévő.</span><span class="sxs-lookup"><span data-stu-id="1afd9-126">You can migrate an individual VM from native disks to managed disks, but you cannot do this for VMs in a scale set.</span></span>
- <span data-ttu-id="1afd9-127">IPv6 nyilvános IP-címek rendelhet az egyes virtuális gép hálózati adapterek, de nem ehhez a virtuális gépek méretezési csoportban lévő.</span><span class="sxs-lookup"><span data-stu-id="1afd9-127">You can assign IPv6 public IP addresses to individual VM nics but cannot do so for VMs in a scale set.</span></span> <span data-ttu-id="1afd9-128">Vegye figyelembe, hogy IPv6 nyilvános IP-címek terheléselosztókhoz elé vagy egyedi virtuális gépeket rendelhet, vagy virtuális gépek méretezési csoportjának virtuális gépeket.</span><span class="sxs-lookup"><span data-stu-id="1afd9-128">Note that you can assign IPv6 public IP addresses to load balancers in front of either individual VMs or scale set VMs.</span></span>

## <a name="storage"></a><span data-ttu-id="1afd9-129">Storage</span><span class="sxs-lookup"><span data-stu-id="1afd9-129">Storage</span></span>

### <a name="scale-sets-with-azure-managed-disks"></a><span data-ttu-id="1afd9-130">Az Azure Managed lemezek méretezési csoportok</span><span class="sxs-lookup"><span data-stu-id="1afd9-130">Scale sets with Azure Managed Disks</span></span>
<span data-ttu-id="1afd9-131">Méretezési csoportok hozhatók létre [Azure felügyelt lemezek](../virtual-machines/windows/managed-disks-overview.md) hagyományos Azure storage-fiókok helyett.</span><span class="sxs-lookup"><span data-stu-id="1afd9-131">Scale sets can be created with [Azure Managed Disks](../virtual-machines/windows/managed-disks-overview.md) instead of traditional Azure storage accounts.</span></span> <span data-ttu-id="1afd9-132">Felügyelt lemezek előnyei a következők:</span><span class="sxs-lookup"><span data-stu-id="1afd9-132">Managed Disks provide the following benefits:</span></span>
- <span data-ttu-id="1afd9-133">Nincs előzetes létrehozása az Azure storage-fiókokat, a méretezési virtuális gépek számára.</span><span class="sxs-lookup"><span data-stu-id="1afd9-133">You do not have to pre-create a set of Azure storage accounts for the scale set VMs.</span></span>
- <span data-ttu-id="1afd9-134">Megadhat [adatlemezt csatolni](virtual-machine-scale-sets-attached-disks.md) a virtuális gépeket, a méretezési beállítása.</span><span class="sxs-lookup"><span data-stu-id="1afd9-134">You can define [attached data disks](virtual-machine-scale-sets-attached-disks.md) for the VMs in your scale set.</span></span>
- <span data-ttu-id="1afd9-135">Méretezési csoportok beállítható úgy, hogy [legfeljebb 1000 virtuális gépek támogatásához egy](virtual-machine-scale-sets-placement-groups.md).</span><span class="sxs-lookup"><span data-stu-id="1afd9-135">Scale sets can be configured to [support up to 1,000 VMs in a set](virtual-machine-scale-sets-placement-groups.md).</span></span> 

<span data-ttu-id="1afd9-136">Ha egy meglévő sablont, is [frissíteni a felügyelt lemezek használt sablon](virtual-machine-scale-sets-convert-template-to-md.md).</span><span class="sxs-lookup"><span data-stu-id="1afd9-136">If you have an existing template, you can also [update the template to use Managed Disks](virtual-machine-scale-sets-convert-template-to-md.md).</span></span>

### <a name="user-managed-storage"></a><span data-ttu-id="1afd9-137">Felhasználó által felügyelt tárolási</span><span class="sxs-lookup"><span data-stu-id="1afd9-137">User-managed Storage</span></span>
<span data-ttu-id="1afd9-138">Egy Azure felügyelt lemezzel nem definiált méretezési támaszkodik a felhasználó által létrehozott tárfiók tárolja a virtuális gépek operációs rendszer lemezén készletében.</span><span class="sxs-lookup"><span data-stu-id="1afd9-138">A scale set that is not defined with Azure Managed Disks relies on user-created storage accounts to store the OS disks of the VMs in the set.</span></span> <span data-ttu-id="1afd9-139">A tárfiók, vagy kevesebb mint 20 virtuális gép aránya ajánlott maximális IO eléréséhez, és kihasználhatják _elhelyezésétől_ (lásd alább).</span><span class="sxs-lookup"><span data-stu-id="1afd9-139">A ratio of 20 VMs per storage account or less is recommended to achieve maximum IO and also take advantage of _overprovisioning_ (see below).</span></span> <span data-ttu-id="1afd9-140">A tárfiókok neve elején karakterét elosztva az ábécé is ajánlott.</span><span class="sxs-lookup"><span data-stu-id="1afd9-140">It is also recommended that you spread the beginning characters of the storage account names across the alphabet.</span></span> <span data-ttu-id="1afd9-141">Ennek segítségével terhelés elosztva különböző belső rendszerek során.</span><span class="sxs-lookup"><span data-stu-id="1afd9-141">Doing so helps spread load across different internal systems.</span></span> 


## <a name="overprovisioning"></a><span data-ttu-id="1afd9-142">Elhelyezésétől</span><span class="sxs-lookup"><span data-stu-id="1afd9-142">Overprovisioning</span></span>
<span data-ttu-id="1afd9-143">Skálázási készletekben jelenleg az alapértelmezett "elhelyezésétől" virtuális gépeket.</span><span class="sxs-lookup"><span data-stu-id="1afd9-143">Scale sets currently default to "overprovisioning" VMs.</span></span> <span data-ttu-id="1afd9-144">Elhelyezésétől-e kapcsolva, a méretezési ténylegesen fordulat további virtuális gépeinek mint kéri be, majd törli az extra virtuális Gépekért, miután sikeresen telepített virtuális gépek a kért számú.</span><span class="sxs-lookup"><span data-stu-id="1afd9-144">With overprovisioning turned on, the scale set actually spins up more VMs than you asked for, then deletes the extra VMs once the requested number of VMs are successfully provisioned.</span></span> <span data-ttu-id="1afd9-145">Elhelyezésétől növeli a kiépítési sikerességéről, és csökkenti a központi telepítés alkalmával.</span><span class="sxs-lookup"><span data-stu-id="1afd9-145">Overprovisioning improves provisioning success rates and reduces deployment time.</span></span> <span data-ttu-id="1afd9-146">Nem kell fizetni az extra virtuális Gépekért, és ezek nem számítanak a kvótakorlát felé.</span><span class="sxs-lookup"><span data-stu-id="1afd9-146">You are not billed for the extra VMs, and they do not count toward your quota limits.</span></span>

<span data-ttu-id="1afd9-147">Amíg elhelyezésétől javítása létesítési sikerességéről, okozhat zavaró viselkedést az alkalmazás, amely nem jelenik meg, és ezután eltűnőként extra virtuális Gépekért kezelésére terveztek.</span><span class="sxs-lookup"><span data-stu-id="1afd9-147">While overprovisioning does improve provisioning success rates, it can cause confusing behavior for an application that is not designed to handle extra VMs appearing and then disappearing.</span></span> <span data-ttu-id="1afd9-148">Kapcsolja ki a elhelyezésétől, ellenőrizze, hogy a következő karakterláncot a sablonban: `"overprovision": "false"`.</span><span class="sxs-lookup"><span data-stu-id="1afd9-148">To turn overprovisioning off, ensure you have the following string in your template: `"overprovision": "false"`.</span></span> <span data-ttu-id="1afd9-149">További részletek találhatók a [méretezési beállítása REST API-dokumentáció](/rest/api/virtualmachinescalesets/create-or-update-a-set).</span><span class="sxs-lookup"><span data-stu-id="1afd9-149">More details can be found in the [Scale Set REST API documentation](/rest/api/virtualmachinescalesets/create-or-update-a-set).</span></span>

<span data-ttu-id="1afd9-150">Ha a méretezési felhasználó által felügyelt tárolót használ, és elhelyezésétől kikapcsolja, több mint 20 gépek akkor is, de nem javasoljuk, hogy fent IO a teljesítményre vonatkozó megfontolásból 40 lépjen.</span><span class="sxs-lookup"><span data-stu-id="1afd9-150">If your scale set uses user-managed storage, and you turn off overprovisioning, you can have more than 20 VMs per storage account, but it is not recommended to go above 40 for IO performance reasons.</span></span> 

## <a name="limits"></a><span data-ttu-id="1afd9-151">Korlátok</span><span class="sxs-lookup"><span data-stu-id="1afd9-151">Limits</span></span>
<span data-ttu-id="1afd9-152">A méretezési a Piactéri rendszerkép (más néven platformlemezkép) alapul, és Azure felügyelt lemezek használatára konfigurált legfeljebb 1000 virtuális gépek kapacitású támogatja.</span><span class="sxs-lookup"><span data-stu-id="1afd9-152">A scale set built on a Marketplace image (also known as a platform image) and configured to use Azure Managed Disks supports a capacity of up to 1,000 VMs.</span></span> <span data-ttu-id="1afd9-153">Ha az támogatja a több mint 100 virtuális gépek méretezési konfigurál, nem minden esetben azonos (a példa terheléselosztás) működik.</span><span class="sxs-lookup"><span data-stu-id="1afd9-153">If you configure your scale set to support more than 100 VMs, not all scenarios work the same (for example load balancing).</span></span> <span data-ttu-id="1afd9-154">További információkért lásd: [nagy virtuálisgép-méretezési csoportok használata](virtual-machine-scale-sets-placement-groups.md).</span><span class="sxs-lookup"><span data-stu-id="1afd9-154">For more information, see [Working with large virtual machine scale sets](virtual-machine-scale-sets-placement-groups.md).</span></span> 

<span data-ttu-id="1afd9-155">A méretezési készletben beállított felhasználó által felügyelt tárfiókokkal célja jelenleg csak 100 virtuális gépek (és a skála ajánlott 5 storage-fiókok).</span><span class="sxs-lookup"><span data-stu-id="1afd9-155">A scale set configured with user-managed storage accounts is currently limited to 100 VMs (and 5 storage accounts are recommended for this scale).</span></span>

<span data-ttu-id="1afd9-156">Egy egyéni lemezkép (egy Ön által létrehozott) épülő méretezési legfeljebb 100 virtuális gépeket, amikor Azure felügyelt lemezzel konfigurált kapacitású lehet.</span><span class="sxs-lookup"><span data-stu-id="1afd9-156">A scale set built on a custom image (one built by you) can have a capacity of up to 100 VMs when configured with Azure Managed disks.</span></span> <span data-ttu-id="1afd9-157">A méretezési felhasználó által felügyelt tárfiókok van beállítva, ha az összes operációs rendszer lemez VHD-k egy tárfiókon belül kell létrehoznia.</span><span class="sxs-lookup"><span data-stu-id="1afd9-157">If the scale set is configured with user-managed storage accounts, it must create all OS disk VHDs within one storage account.</span></span> <span data-ttu-id="1afd9-158">Ennek eredményeképpen a maximális ajánlott egyéni lemezkép épülő méretezési csoportban lévő virtuális gépek száma és felhasználó által felügyelt tárolási 20.</span><span class="sxs-lookup"><span data-stu-id="1afd9-158">As a result, the maximum recommended number of VMs in a scale set built on a custom image and user-managed storage is 20.</span></span> <span data-ttu-id="1afd9-159">Ha kikapcsolja elhelyezésétől, legfeljebb 40 lépjen.</span><span class="sxs-lookup"><span data-stu-id="1afd9-159">If you turn off overprovisioning, you can go up to 40.</span></span>

<span data-ttu-id="1afd9-160">További virtuális gépek esetén, mint a működés felső korlátjának engedélyezéséhez kell telepítenie a több méretezési csoportok, ahogy az [sablon](https://github.com/Azure/azure-quickstart-templates/tree/master/301-custom-images-at-scale).</span><span class="sxs-lookup"><span data-stu-id="1afd9-160">For more VMs than these limits allow, you need to deploy multiple scale sets as shown in [this template](https://github.com/Azure/azure-quickstart-templates/tree/master/301-custom-images-at-scale).</span></span>

