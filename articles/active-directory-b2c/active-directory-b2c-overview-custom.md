---
title: "Az Azure Active Directory B2C: Egyéni házirendek |} Microsoft Docs"
description: "Témakör: Azure Active Directory B2C egyéni házirendek"
services: active-directory-b2c
documentationcenter: 
author: parakhj
manager: krassk
editor: parakhj
ms.assetid: 1ff398a4-2079-4615-94f1-57de22c0aad6
ms.service: active-directory-b2c
ms.workload: identity
ms.tgt_pltfrm: na
ms.topic: article
ms.devlang: na
ms.date: 04/04/2017
ms.author: parakhj
ms.openlocfilehash: 33f62a33ea7a3fadb6e7b045de10df25f5edbe83
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 08/03/2017
---
# <a name="azure-active-directory-b2c-custom-policies"></a><span data-ttu-id="2895f-103">Az Azure Active Directory B2C: Egyéni házirendek</span><span class="sxs-lookup"><span data-stu-id="2895f-103">Azure Active Directory B2C: Custom policies</span></span>

[!INCLUDE [active-directory-b2c-advanced-audience-warning](../../includes/active-directory-b2c-advanced-audience-warning.md)]

## <a name="what-are-custom-policies"></a><span data-ttu-id="2895f-104">Mik azok a egyéni házirendeket?</span><span class="sxs-lookup"><span data-stu-id="2895f-104">What are custom policies?</span></span>

<span data-ttu-id="2895f-105">Az egyéni szabályzatok olyan konfigurációs fájlok, amelyekkel meghatározható az Azure AD B2C-bérlő viselkedése.</span><span class="sxs-lookup"><span data-stu-id="2895f-105">Custom policies are configuration files that define the behavior of your Azure AD B2C tenant.</span></span> <span data-ttu-id="2895f-106">Mivel **beépített házirendek** előre meghatározott identitás leggyakoribb feladatokat az Azure AD B2C-portálon, egyéni házirendek teljes mértékben szerkeszthető egy identitás-fejlesztő közel korlátlan számú feladatok elvégzéséhez.</span><span class="sxs-lookup"><span data-stu-id="2895f-106">Whereas **built-in policies** are predefined in the Azure AD B2C portal for the most common identity tasks, custom policies can be fully edited by an identity developer to complete a near unlimited number of tasks.</span></span> <span data-ttu-id="2895f-107">Olvassa el a meghatározásához, hogy egyéni házirendek jobbra, és az identitás használatára.</span><span class="sxs-lookup"><span data-stu-id="2895f-107">Read on to determine if custom policies are right for you and your identity scenario.</span></span>

<span data-ttu-id="2895f-108">**Nincs egyéni házirend szerkesztése mindenki számára.**</span><span class="sxs-lookup"><span data-stu-id="2895f-108">**Custom policy editing is not for everyone.**</span></span> <span data-ttu-id="2895f-109">A kötelező a tanulási görbére, a hosszabb indítási ideje, és egyéni házirendek érintő változásokról hasonló szakértői fenntartásához szükséges.</span><span class="sxs-lookup"><span data-stu-id="2895f-109">The learning curve is demanding, the startup time is longer, and future changes to custom policies will require similar expertise to maintain.</span></span> <span data-ttu-id="2895f-110">Beépített házirendek gondosan tekintendő először a forgatókönyvnek előtt egyéni házirendekkel.</span><span class="sxs-lookup"><span data-stu-id="2895f-110">Built-in policies should be carefully considered first for your scenario before using custom policies.</span></span>

## <a name="comparing-built-in-policies-and-custom-policies"></a><span data-ttu-id="2895f-111">Beépített és egyéni házirendeket összehasonlítása</span><span class="sxs-lookup"><span data-stu-id="2895f-111">Comparing built-in policies and custom policies</span></span>

| | <span data-ttu-id="2895f-112">Beépített házirendek</span><span class="sxs-lookup"><span data-stu-id="2895f-112">Built-in policies</span></span> | <span data-ttu-id="2895f-113">Egyéni házirendek</span><span class="sxs-lookup"><span data-stu-id="2895f-113">Custom policies</span></span> |
|-|-------------------|-----------------|
|<span data-ttu-id="2895f-114">Azon felhasználók megcélzása</span><span class="sxs-lookup"><span data-stu-id="2895f-114">Target users</span></span> | <span data-ttu-id="2895f-115">Minden alkalmazásfejlesztők vagy identitás szakértői nélkül</span><span class="sxs-lookup"><span data-stu-id="2895f-115">All app developers with or without identity expertise</span></span> | <span data-ttu-id="2895f-116">Identitás szakemberek: rendszerintegrátoroktól, tanácsadókkal és házon belüli identitás csoportok.</span><span class="sxs-lookup"><span data-stu-id="2895f-116">Identity pros: systems integrators, consultants and in-house identity teams.</span></span> <span data-ttu-id="2895f-117">OpenIDConnect folyamatokkal részeként, és identitás-szolgáltatóktól és szolgáltatáson alapuló Jogcímalapú hitelesítés</span><span class="sxs-lookup"><span data-stu-id="2895f-117">They are comfortable with OpenIDConnect flows, and understand identity providers and claims-based authentication</span></span> |
|<span data-ttu-id="2895f-118">A konfigurációs módszert</span><span class="sxs-lookup"><span data-stu-id="2895f-118">Configuration method</span></span> | <span data-ttu-id="2895f-119">Az Azure portál egy felhasználóbarát felhasználói felületen</span><span class="sxs-lookup"><span data-stu-id="2895f-119">Azure portal with a user-friendly UI</span></span> | <span data-ttu-id="2895f-120">XML-fájlok közvetlen szerkesztésével és majd feltölteni az Azure-portálon</span><span class="sxs-lookup"><span data-stu-id="2895f-120">Directly editing XML files and then uploading to the Azure portal</span></span> |
|<span data-ttu-id="2895f-121">Felhasználói felület testreszabása</span><span class="sxs-lookup"><span data-stu-id="2895f-121">UI customization</span></span> | <span data-ttu-id="2895f-122">Teljes felhasználói felület testreszabásával, HTML, CSS, jscript támogatja (egyéni tartomány igényel)</span><span class="sxs-lookup"><span data-stu-id="2895f-122">Full UI customization, including HTML, CSS, and jscript support(requires custom domain)</span></span><br><br><span data-ttu-id="2895f-123">Egyéni karakterláncok többnyelvű támogatás</span><span class="sxs-lookup"><span data-stu-id="2895f-123">Multilanguage support with Custom strings</span></span> | <span data-ttu-id="2895f-124">Azonos</span><span class="sxs-lookup"><span data-stu-id="2895f-124">Same</span></span> |
| <span data-ttu-id="2895f-125">Attribútum testreszabása</span><span class="sxs-lookup"><span data-stu-id="2895f-125">Attribute customization</span></span> | <span data-ttu-id="2895f-126">Szabványos és az egyéni attribútumok</span><span class="sxs-lookup"><span data-stu-id="2895f-126">Standard and custom attributes</span></span> | <span data-ttu-id="2895f-127">Azonos</span><span class="sxs-lookup"><span data-stu-id="2895f-127">Same</span></span> |
|<span data-ttu-id="2895f-128">Token és munkamenet-kezelés</span><span class="sxs-lookup"><span data-stu-id="2895f-128">Token and session management</span></span> | <span data-ttu-id="2895f-129">Egyéni token és több munkamenet-beállításokkal</span><span class="sxs-lookup"><span data-stu-id="2895f-129">Custom token and multiple session options</span></span> | <span data-ttu-id="2895f-130">Azonos</span><span class="sxs-lookup"><span data-stu-id="2895f-130">Same</span></span> |
|<span data-ttu-id="2895f-131">Identitás-szolgáltatóktól</span><span class="sxs-lookup"><span data-stu-id="2895f-131">Identity Providers</span></span>| <span data-ttu-id="2895f-132">**Ma**: előre meghatározott helyi, közösségi szolgáltató</span><span class="sxs-lookup"><span data-stu-id="2895f-132">**Today**: predefined local, social provider</span></span><br><br><span data-ttu-id="2895f-133">**Jövőbeli**: szabványalapú OIDC, SAML, OAuth</span><span class="sxs-lookup"><span data-stu-id="2895f-133">**Future**: Standards-based OIDC, SAML, OAuth</span></span> | <span data-ttu-id="2895f-134">**Ma**: OIDC szabványalapú OAUTH, a SAML</span><span class="sxs-lookup"><span data-stu-id="2895f-134">**Today**: Standards-based OIDC, OAUTH, SAML</span></span><br><br><span data-ttu-id="2895f-135">**Jövőbeli**: WsFed</span><span class="sxs-lookup"><span data-stu-id="2895f-135">**Future**: WsFed</span></span> |
|<span data-ttu-id="2895f-136">Identitáskezelési tevékenységek (példák)</span><span class="sxs-lookup"><span data-stu-id="2895f-136">Identity Tasks (examples)</span></span> | <span data-ttu-id="2895f-137">Regisztráció vagy bejelentkezés helyi és sok közösségi fiókok</span><span class="sxs-lookup"><span data-stu-id="2895f-137">Signup or SignIn with local and many social accounts</span></span><br><br><span data-ttu-id="2895f-138">Új jelszó önkiszolgáló kérése</span><span class="sxs-lookup"><span data-stu-id="2895f-138">Self-Service Password Reset</span></span><br><br><span data-ttu-id="2895f-139">Profil szerkesztése</span><span class="sxs-lookup"><span data-stu-id="2895f-139">Profile Edit</span></span><br><br><span data-ttu-id="2895f-140">Többtényezős hitelesítéssel kapcsolatos forgatókönyvek</span><span class="sxs-lookup"><span data-stu-id="2895f-140">Multi-Factor Auth scenarios</span></span><br><br><span data-ttu-id="2895f-141">Jogkivonatok és munkamenetek testreszabása</span><span class="sxs-lookup"><span data-stu-id="2895f-141">Customize Tokens and sessions</span></span><br><br><span data-ttu-id="2895f-142">Hozzáférési jogkivonat adatfolyamok</span><span class="sxs-lookup"><span data-stu-id="2895f-142">Access Token flows</span></span> | <span data-ttu-id="2895f-143">Végezze el az egyéni identitás-szolgáltatóktól beépített házirendek megegyező feladatok vagy egyéni hatókörök</span><span class="sxs-lookup"><span data-stu-id="2895f-143">Complete the same tasks as built-in policies using custom identity providers or use custom scopes</span></span><br><br><span data-ttu-id="2895f-144">A regisztráció alkalmával egy másik rendszer felhasználó létesítése</span><span class="sxs-lookup"><span data-stu-id="2895f-144">Provision user in another system at the time of registration</span></span><br><br><span data-ttu-id="2895f-145">Egy üdvözlő e-mailek küldése a saját e-mail-szolgáltató</span><span class="sxs-lookup"><span data-stu-id="2895f-145">Send a welcome email using your own email service provider</span></span><br><br><span data-ttu-id="2895f-146">A felhasználókhoz tartozó tárolóban kívül B2C használata</span><span class="sxs-lookup"><span data-stu-id="2895f-146">Use a user store outside B2C</span></span><br><br><span data-ttu-id="2895f-147">Ellenőrzi, hogy a felhasználó megadott információkat egy megbízható rendszer API-n keresztül</span><span class="sxs-lookup"><span data-stu-id="2895f-147">Validate user provided information with a trusted system via API</span></span> |

## <a name="policy-files"></a><span data-ttu-id="2895f-148">Házirend-fájlok</span><span class="sxs-lookup"><span data-stu-id="2895f-148">Policy files</span></span>

<span data-ttu-id="2895f-149">Egyéni házirendet egy jelenik meg egy vagy több XML-formátumú fájlokat a hierarchikus lánc hivatkozhatnak egymásra.</span><span class="sxs-lookup"><span data-stu-id="2895f-149">A custom policy is represented as one or several XML-formatted files which refer to each other in a hierarchical chain.</span></span> <span data-ttu-id="2895f-150">Az XML-elemek meghatározása: jogcímek séma jogcímek átalakítások, a tartalom definíciókat, a jogcím-szolgáltatók és technikai profilok és a Userjourney vezénylési lépésekből egyéb elemek mellett.</span><span class="sxs-lookup"><span data-stu-id="2895f-150">The XML elements define: Claims schema, claims transformations, content definitions, claims providers/technical profiles, and Userjourney orchestration steps, among other elements.</span></span>

<span data-ttu-id="2895f-151">Három típusú házirend fájlok használatát javasoljuk:</span><span class="sxs-lookup"><span data-stu-id="2895f-151">We recommend the use of three types of policy files:</span></span>

- <span data-ttu-id="2895f-152">**Alap fájl**, amely tartalmazza a definíciók és amelyhez Azure biztosít-e a teljes minta a legtöbb.</span><span class="sxs-lookup"><span data-stu-id="2895f-152">**A BASE file**, which contains most of the definitions and for which Azure provides a complete sample.</span></span>  <span data-ttu-id="2895f-153">Javasoljuk, hogy elvégezte ezt a fájlt a hibaelhárítás és a hosszú távú karbantartási a házirendek segítenek változások minimális száma</span><span class="sxs-lookup"><span data-stu-id="2895f-153">We recommend you make a minimum number of changes to this file to help with troubleshooting, and long-term maintenance of your policies</span></span>
- <span data-ttu-id="2895f-154">**egy fájl kiterjesztések** a egyedi konfigurációs módosításokat, amely tartalmazza a bérlő számára</span><span class="sxs-lookup"><span data-stu-id="2895f-154">**an EXTensions file** that holds the unique configuration changes for your tenant</span></span>
- <span data-ttu-id="2895f-155">**a függő entitás (RP) fájl** Ez a feladat-arra irányul, hogy az egyetlen fájl, amelyet közvetlenül az alkalmazáshoz vagy szolgáltatáshoz (más néven függő entitás).</span><span class="sxs-lookup"><span data-stu-id="2895f-155">**a Relying Party (RP) file** which is the single task-focused file that is invoked directly by the application or service (aka Relying Party).</span></span>  <span data-ttu-id="2895f-156">Olvassa el a házirend fájl definíciók további információt.</span><span class="sxs-lookup"><span data-stu-id="2895f-156">Read the article on Policy file definitions for more information.</span></span>  <span data-ttu-id="2895f-157">Minden egyedi feladathoz saját RP, és attól függően, hogy a követelmények branding száma "teljes kérelmek teljes száma a használati esetek x" lehet.</span><span class="sxs-lookup"><span data-stu-id="2895f-157">Each unique task requires its own RP and depending on branding requirements the number might be "total of applications x total number of use cases".</span></span>


<span data-ttu-id="2895f-158">Beépített házirendek az Azure AD B2C kövesse a fenti kitaláltak 3-fájl mintát, de a fejlesztői csak azokat a megbízható függő entitás (RP) fájlt, amíg a portál módosítást hajt végre a háttérben a EXTenstions fájl.</span><span class="sxs-lookup"><span data-stu-id="2895f-158">Built-in policies in Azure AD B2C follow the 3-file pattern depicted above, but the developer only sees the Relying Party (RP) file, while the portal makes changes in the background to the EXTenstions file.</span></span>

## <a name="core-concepts-you-should-know-when-using-custom-policies"></a><span data-ttu-id="2895f-159">Ha egyéni házirendekkel tudnia kell alapvető jellemzői</span><span class="sxs-lookup"><span data-stu-id="2895f-159">Core concepts you should know when using custom policies</span></span>

### <a name="azure-active-directory-b2c"></a><span data-ttu-id="2895f-160">Azure Active Directory B2C</span><span class="sxs-lookup"><span data-stu-id="2895f-160">Azure Active Directory B2C</span></span>

<span data-ttu-id="2895f-161">Azure felhasználói identitások és hozzáférések kezelése (CIAM) szolgáltatás.</span><span class="sxs-lookup"><span data-stu-id="2895f-161">Azure’s customer identity and access management (CIAM) service.</span></span> <span data-ttu-id="2895f-162">A szolgáltatás tartalmazza:</span><span class="sxs-lookup"><span data-stu-id="2895f-162">The service includes:</span></span>

1. <span data-ttu-id="2895f-163">A speciális Azure Active Directory elérhetők a Microsoft Graph, és amely a helyi és összevont fiókok felhasználói adatokat tároló formájában felhasználói könyvtár</span><span class="sxs-lookup"><span data-stu-id="2895f-163">A user directory in the form of a special-purpose Azure Active Directory accessible via Microsoft Graph and which holds user data for both local accounts and federated accounts</span></span> 
2. <span data-ttu-id="2895f-164">A hozzáférést a **identitás élmény keretrendszer** amely koordinálja a felhasználók és entitások közötti megbízhatósági kapcsolat, és adja át a jogcímeket egy identitás/access felügyeleti tevékenységek végrehajtásához közöttük</span><span class="sxs-lookup"><span data-stu-id="2895f-164">Access to the **Identity Experience Framework** which orchestrates trust between users and entities and passes claims between them to complete an identity/access management task</span></span> 
3. <span data-ttu-id="2895f-165">Biztonságijogkivonat-szolgáltatás (STS) kiállító azonosító jogkivonatokat, frissítési jogkivonatokat, és a hozzáférési jogkivonatok (vagy egyenértékű SAML helyességi feltételek), és azok az erőforrások védelméhez ellenőrzése.</span><span class="sxs-lookup"><span data-stu-id="2895f-165">A security token service (STS) issuing id tokens, refresh tokens, and access tokens (and equivalent SAML assertions) and validating them to protect resources.</span></span>

<span data-ttu-id="2895f-166">Az Azure AD B2C együttműködő Identitásszolgáltatók, a felhasználók, a más rendszerekkel, és a helyi felhasználói könyvtárnak sorban egy identitás-feladat eléréséhez (pl. a felhasználó bejelentkezési regisztrálni egy új felhasználót, a jelszó alaphelyzetbe állítása).</span><span class="sxs-lookup"><span data-stu-id="2895f-166">Azure AD B2C interacts with identity providers, users, other systems, and with the local user directory in sequence to achieve an identity task (e.g. login a user, register a new user, reset a password).</span></span> <span data-ttu-id="2895f-167">Az alapul szolgáló platform, amely több résztvevős megbízhatósági kapcsolatot hoz létre, és végrehajtja ezeket a lépéseket nevezik, és egy házirend (más néven az felhasználói út vagy egy megbízhatósági keretrendszer házirend) identitás élmény keretében explicit módon meghatározza a szereplője, a műveletek, a protokollok és a feladatütemezési lépés befejezéséhez.</span><span class="sxs-lookup"><span data-stu-id="2895f-167">The underlying platform which establishes multi-party trust and executes these steps is called the Identity Experience Framework and a policy (also called an user journey or a Trust framework policy) explicitly defines the actors, the actions, the protocols, and the sequence of steps to complete.</span></span>

### <a name="identity-experience-framework"></a><span data-ttu-id="2895f-168">Identity Experience Framework</span><span class="sxs-lookup"><span data-stu-id="2895f-168">Identity Experience Framework</span></span>

<span data-ttu-id="2895f-169">Teljes mértékben konfigurálhatók, házirend-vezérelt, felhőalapú Azure platformon, például OpenIDConnect, OAuth, SAML, WSFed szabványos protokoll formátumokban (nagyjából Jogcímszolgáltatók) entitások közötti megbízhatósági kapcsolat vezénylő, és néhány nem szabványos néhányat a meglévők közül (pl. REST API-n alapú--rendszerről jogcímek cseréjét).</span><span class="sxs-lookup"><span data-stu-id="2895f-169">A fully configurable, policy-driven, cloud-based Azure platform that orchestrates trust between entities (broadly Claims Providers) in standard protocol formats such as OpenIDConnect, OAuth, SAML, WSFed, and a few non-standard ones (e.g. REST API-based system-to-system claims exchanges).</span></span> <span data-ttu-id="2895f-170">A I2E hoz felhasználóbarát, whitelabelled észlel, amely támogatja a HTML, CSS és jscript.</span><span class="sxs-lookup"><span data-stu-id="2895f-170">The I2E creates user-friendly, whitelabelled experiences that support HTML, CSS, and jscript.</span></span>  <span data-ttu-id="2895f-171">Ma identitás élmény keretében elérhető, csak az Azure AD B2C szolgáltatás kontextusában és rangsorolt CIAM kapcsolódó feladatok.</span><span class="sxs-lookup"><span data-stu-id="2895f-171">Today, the Identity Experience Framework is available only in the context of the Azure AD B2C service and prioritized for tasks related to CIAM.</span></span>

### <a name="built-in-policies"></a><span data-ttu-id="2895f-172">Beépített házirendek</span><span class="sxs-lookup"><span data-stu-id="2895f-172">Built-in policies</span></span>

<span data-ttu-id="2895f-173">Előre definiált konfigurációs fájlokat, amelyek közvetlenül az Azure AD B2C (azaz a leggyakrabban használt identitás feladatait viselkedése</span><span class="sxs-lookup"><span data-stu-id="2895f-173">Predefined configuration files that direct the behavior of Azure AD B2C to perform the most commonly used identity tasks (i.e.</span></span> <span data-ttu-id="2895f-174">Felhasználói regisztráció, bejelentkezés, jelszó-visszaállítás) és amelyek kapcsolatát is az Azure AD B2C előre meghatározott megbízható entitások kommunikálni (pl. Facebook identitásszolgáltató, LinkedIn, Microsoft Account, Google-fiókot).</span><span class="sxs-lookup"><span data-stu-id="2895f-174">user registration, signin, password reset) and interact with trusted parties whose relationship is also predefined in Azure AD B2C (e.g. Facebook identity provider, LinkedIn, Microsoft Account, Google accounts).</span></span>  <span data-ttu-id="2895f-175">A jövőben beépített házirendek is rendelkezhetnek testreszabási Identitásszolgáltatók, amelyek általában a vállalati tartomány, például az Azure Active Directory Premium, az Active Directory vagy az AD FS, a Salesforce azonosító szolgáltató stb.</span><span class="sxs-lookup"><span data-stu-id="2895f-175">In the future, built-in policies may also provide for customization of identity providers which are typically in the enterprise realm such as Azure Active Directory Premium, Active Directory/ADFS, Salesforce ID Provider etc.</span></span>


### <a name="custom-policies"></a><span data-ttu-id="2895f-176">Egyéni házirendek</span><span class="sxs-lookup"><span data-stu-id="2895f-176">Custom policies</span></span>

<span data-ttu-id="2895f-177">Az Azure AD B2C-bérlő identitását élmény keretrendszer viselkedését meghatározó konfigurációs fájlok.</span><span class="sxs-lookup"><span data-stu-id="2895f-177">Configuration files that define the behavior of Identity Experience Framework in your Azure AD B2C tenant.</span></span> <span data-ttu-id="2895f-178">Egyéni házirendet egy vagy több XML-fájlként (lásd a Házirendfájljait-definíciók), amely identitás-élmény keretrendszer egy függő entitás (pl. egy alkalmazás) általi meghívásakor végrehajtásának érhető el.</span><span class="sxs-lookup"><span data-stu-id="2895f-178">A custom policy is accessible as one or several XML files (see Policy Files definitions) which are executed by the Identity Experience Framework when invoked by a relying party (e.g. an application).</span></span> <span data-ttu-id="2895f-179">Egyéni házirendek közvetlenül szerkeszthetők az identitás fejlesztő közel korlátlan számú feladatok elvégzéséhez.</span><span class="sxs-lookup"><span data-stu-id="2895f-179">Custom policies can be directly edited by an identity developer to complete a near unlimited number of tasks.</span></span> <span data-ttu-id="2895f-180">Egyéni házirendek konfigurálásához a fejlesztők kell adnia a megbízható kapcsolatok metaadat-végpontokat felvenni gondos részletesen, pontos jogcímek exchange-definíciókat, és konfigurálja a titkos kulcsokat, a kulcsok és a tanúsítványok minden identitásszolgáltatótól igény szerint.</span><span class="sxs-lookup"><span data-stu-id="2895f-180">Developers configuring custom policies must define the trusted relationships in careful detail to include metadata endpoints, exact claims exchange definitions, and configure secrets, keys and certificates as needed by each identity provider.</span></span>

## <a name="policy-file-definitions-for-identity-experience-framework-trustframeworks"></a><span data-ttu-id="2895f-181">Identitás élmény keretrendszer Trustframeworks házirendek fájl definíciói</span><span class="sxs-lookup"><span data-stu-id="2895f-181">Policy File Definitions for Identity Experience Framework Trustframeworks</span></span>

### <a name="policy-files"></a><span data-ttu-id="2895f-182">Házirend-fájlok</span><span class="sxs-lookup"><span data-stu-id="2895f-182">Policy Files</span></span>

<span data-ttu-id="2895f-183">Egyéni házirendet egy jelenik meg egy vagy több XML-formátumú fájlokat a hierarchikus lánc hivatkozhatnak egymásra.</span><span class="sxs-lookup"><span data-stu-id="2895f-183">A custom policy is represented as one or several XML-formatted files which refer to each other in a hierarchical chain.</span></span> <span data-ttu-id="2895f-184">Az XML-elemek meghatározása: jogcímek séma jogcímek átalakítások, a tartalom definíciókat, a jogcím-szolgáltatók és technikai profilok és a Userjourney vezénylési lépésekből egyéb elemek mellett.</span><span class="sxs-lookup"><span data-stu-id="2895f-184">The XML elements define: Claims schema, claims transformations, content definitions, claims providers/technical profiles, and Userjourney orchestration steps, among other elements.</span></span>  <span data-ttu-id="2895f-185">Három típusú házirend fájlok használatát javasoljuk:</span><span class="sxs-lookup"><span data-stu-id="2895f-185">We recommend the use of three types of policy files:</span></span>

- <span data-ttu-id="2895f-186">**Alap fájl**, amely tartalmazza a definíciók és amelyhez Azure biztosít-e a teljes minta a legtöbb.</span><span class="sxs-lookup"><span data-stu-id="2895f-186">**A BASE file**, which contains most of the definitions and for which Azure provides a complete sample.</span></span>  <span data-ttu-id="2895f-187">Javasoljuk, hogy elvégezte ezt a fájlt a hibaelhárítás és a hosszú távú karbantartási a házirendek segítenek változások minimális száma</span><span class="sxs-lookup"><span data-stu-id="2895f-187">We recommend you make a minimum number of changes to this file to help with troubleshooting, and long-term maintenance of your policies</span></span>
- <span data-ttu-id="2895f-188">**egy fájl kiterjesztések** a egyedi konfigurációs módosításokat, amely tartalmazza a bérlő számára</span><span class="sxs-lookup"><span data-stu-id="2895f-188">**an EXTensions file** that holds the unique configuration changes for your tenant</span></span>
- <span data-ttu-id="2895f-189">**a függő entitás (RP) fájl** Ez a feladat-arra irányul, hogy az egyetlen fájl, amelyet közvetlenül az alkalmazáshoz vagy szolgáltatáshoz (más néven függő entitás).</span><span class="sxs-lookup"><span data-stu-id="2895f-189">**a Relying Party (RP) file** which is the single task-focused file that is invoked directly by the application or service (aka Relying Party).</span></span>  <span data-ttu-id="2895f-190">Olvassa el a házirend fájl definíciók további információt.</span><span class="sxs-lookup"><span data-stu-id="2895f-190">Read the article on Policy file definitions for more information.</span></span>  <span data-ttu-id="2895f-191">Minden egyedi feladathoz saját RP, és attól függően, hogy a követelmények branding száma "teljes kérelmek teljes száma a használati esetek x" lehet.</span><span class="sxs-lookup"><span data-stu-id="2895f-191">Each unique task requires its own RP and depending on branding requirements the number might be "total of applications x total number of use cases".</span></span>

![Házirend fájltípusok](media/active-directory-b2c-overview-custom/active-directory-b2c-overview-custom-policy-files.png)

| <span data-ttu-id="2895f-193">Házirend fájl típusa</span><span class="sxs-lookup"><span data-stu-id="2895f-193">Type of policy file</span></span> | <span data-ttu-id="2895f-194">Példák fájl neve</span><span class="sxs-lookup"><span data-stu-id="2895f-194">Examples file name</span></span> | <span data-ttu-id="2895f-195">Ajánlott használata</span><span class="sxs-lookup"><span data-stu-id="2895f-195">Recommended use</span></span> | <span data-ttu-id="2895f-196">Örököl</span><span class="sxs-lookup"><span data-stu-id="2895f-196">Inherits from</span></span> |
|---------------------|--------------------|-----------------|---------------|
| <span data-ttu-id="2895f-197">ALAPJA</span><span class="sxs-lookup"><span data-stu-id="2895f-197">BASE</span></span> |<span data-ttu-id="2895f-198">TrustFrameworkBase.xml</span><span class="sxs-lookup"><span data-stu-id="2895f-198">TrustFrameworkBase.xml</span></span><br><br><span data-ttu-id="2895f-199">Mytenant.onmicrosoft.com-B2C-1A_BASE1.xml</span><span class="sxs-lookup"><span data-stu-id="2895f-199">Mytenant.onmicrosoft.com-B2C-1A_BASE1.xml</span></span> | <span data-ttu-id="2895f-200">A core jogcímek séma, a jogcímek átalakítása, a Jogcímszolgáltatók és a felhasználó utak állította be a Microsoft tartalmazza</span><span class="sxs-lookup"><span data-stu-id="2895f-200">Includes the core claims schema, claims transformations, claims providers, and user journeys configured by Microsoft</span></span><br><br><span data-ttu-id="2895f-201">Minimális módosítja ezt a fájlt</span><span class="sxs-lookup"><span data-stu-id="2895f-201">Make minimal changes to this file</span></span> | <span data-ttu-id="2895f-202">None</span><span class="sxs-lookup"><span data-stu-id="2895f-202">None</span></span> |
| <span data-ttu-id="2895f-203">A bővítmény (kiterjesztés)</span><span class="sxs-lookup"><span data-stu-id="2895f-203">Extension (EXT)</span></span> | <span data-ttu-id="2895f-204">TrustFrameworkExtensions.xml</span><span class="sxs-lookup"><span data-stu-id="2895f-204">TrustFrameworkExtensions.xml</span></span><br><br><span data-ttu-id="2895f-205">Mytenant.onmicrosoft.com-B2C-1A_EXT.xml</span><span class="sxs-lookup"><span data-stu-id="2895f-205">Mytenant.onmicrosoft.com-B2C-1A_EXT.xml</span></span> | <span data-ttu-id="2895f-206">A KIINDULÓ fájl módosításait összesítése</span><span class="sxs-lookup"><span data-stu-id="2895f-206">Consolidate your changes to the BASE file here</span></span><br><br><span data-ttu-id="2895f-207">Módosított Jogcímszolgáltatók</span><span class="sxs-lookup"><span data-stu-id="2895f-207">Modified claims providers</span></span><br><br><span data-ttu-id="2895f-208">Módosított felhasználói utak</span><span class="sxs-lookup"><span data-stu-id="2895f-208">Modified user journeys</span></span><br><br><span data-ttu-id="2895f-209">A saját egyéni sémadefiníciók</span><span class="sxs-lookup"><span data-stu-id="2895f-209">Your own custom schema definitions</span></span> | <span data-ttu-id="2895f-210">Alap fájl</span><span class="sxs-lookup"><span data-stu-id="2895f-210">BASE file</span></span> |
| <span data-ttu-id="2895f-211">Függő Entitásonkénti (RP)</span><span class="sxs-lookup"><span data-stu-id="2895f-211">Relying Party (RP)</span></span> | <span data-ttu-id="2895f-212">B2C_1A_sign_up_sign_in.XML</span><span class="sxs-lookup"><span data-stu-id="2895f-212">B2C_1A_sign_up_sign_in.xml</span></span>| <span data-ttu-id="2895f-213">Token alakzat és módosítása munkamenet Itt</span><span class="sxs-lookup"><span data-stu-id="2895f-213">Change token shape and session settings here</span></span>| <span data-ttu-id="2895f-214">Extensions(ext) fájl</span><span class="sxs-lookup"><span data-stu-id="2895f-214">Extensions(EXT) file</span></span> |

### <a name="inheritance-model"></a><span data-ttu-id="2895f-215">Öröklési modellt</span><span class="sxs-lookup"><span data-stu-id="2895f-215">Inheritance model</span></span>

<span data-ttu-id="2895f-216">Amikor egy alkalmazás meghívja a függő Entitás házirendfájlt, a B2C identitás élmény keretében felveszi az elemek, talál, majd a BŐVÍTMÉNYEKET, és végül a függő Entitás házirendfájlból az aktuális házirend érvényes össze.</span><span class="sxs-lookup"><span data-stu-id="2895f-216">When an application calls the RP Policy file, the Identity Experience Framework in B2C will add all the elements from BASE, then from EXTENSIONS, and lastly from the RP policy file to assemble the current policy in effect.</span></span>  <span data-ttu-id="2895f-217">Elemek azonos típusú és a függő Entitás fájl neve lesz felülírják a bővítmények és bővítmények felülbírálások talál.</span><span class="sxs-lookup"><span data-stu-id="2895f-217">Elements of the same type and name in the RP file will override those in the EXTENSIONS, and EXTENSIONS overrides BASE.</span></span>

<span data-ttu-id="2895f-218">**Beépített házirendek** az Azure AD B2C fent kitaláltak 3-fájl mintát kell követnie, de a fejlesztői csak azokat a megbízható függő entitás (RP) fájlt, amíg a portál módosítást hajt végre a háttérben a EXTenstions fájl.</span><span class="sxs-lookup"><span data-stu-id="2895f-218">**Built-in policies** in Azure AD B2C follow the 3-file pattern depicted above, but the developer only sees the Relying Party (RP) file, while the portal makes changes in the background to the EXTenstions file.</span></span>  <span data-ttu-id="2895f-219">Az összes Azure AD B2C közösen használja az alap házirendfájl gyakran frissíteni és az Azure B2C csoport felügyelete alatt áll.</span><span class="sxs-lookup"><span data-stu-id="2895f-219">All of Azure AD B2C shares a BASE policy file that is under the control of the Azure B2C team and is updated frequently.</span></span>
