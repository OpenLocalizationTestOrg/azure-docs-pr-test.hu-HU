---
title: "Bejelentkezés az OpenID Connect - Azure AD B2C webes |} Microsoft Docs"
description: "Épület webalkalmazások OpenID Connect hitelesítési protokoll hello végrehajtásának hello Azure Active Directory használatával"
services: active-directory-b2c
documentationcenter: 
author: saeedakhter-msft
manager: krassk
editor: parakhj
ms.assetid: 21d420c8-3c10-4319-b681-adf2e89e7ede
ms.service: active-directory-b2c
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/16/2017
ms.author: saeedakhter-msft
ms.openlocfilehash: 89e9cfa28e4e5c34304aea355cca2dd0c4b42abc
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="azure-active-directory-b2c-web-sign-in-with-openid-connect"></a><span data-ttu-id="586a9-103">Az Azure Active Directory B2C: Webes bejelentkezés az OpenID Connect</span><span class="sxs-lookup"><span data-stu-id="586a9-103">Azure Active Directory B2C: Web sign-in with OpenID Connect</span></span>
<span data-ttu-id="586a9-104">OpenID Connect egy olyan hitelesítési protokoll, OAuth 2.0-s, amely a tooweb alkalmazások használt toosecurely bejelentkezési felhasználói platformra épül.</span><span class="sxs-lookup"><span data-stu-id="586a9-104">OpenID Connect is an authentication protocol, built on top of OAuth 2.0, that can be used toosecurely sign users in tooweb applications.</span></span> <span data-ttu-id="586a9-105">Hello Azure Active Directory B2C (az Azure AD B2C) végrehajtása az OpenID Connect használatával is erőforrás kihelyezése a regisztráció, bejelentkezés, és más Identitáskezelés észlel a a webes alkalmazások tooAzure Active Directory (Azure AD).</span><span class="sxs-lookup"><span data-stu-id="586a9-105">By using hello Azure Active Directory B2C (Azure AD B2C) implementation of OpenID Connect, you can outsource sign-up, sign-in, and other identity management experiences in your web applications tooAzure Active Directory (Azure AD).</span></span> <span data-ttu-id="586a9-106">Ez az útmutató bemutatja, hogyan toodo nyelvtől független módon igen.</span><span class="sxs-lookup"><span data-stu-id="586a9-106">This guide shows you how toodo so in a language-independent manner.</span></span> <span data-ttu-id="586a9-107">Leírja, hogyan toosend és HTTP-üzenetek fogadása a nyílt forráskódú kódtárai bármelyikét használata nélkül.</span><span class="sxs-lookup"><span data-stu-id="586a9-107">It describes how toosend and receive HTTP messages without using any of our open-source libraries.</span></span>

<span data-ttu-id="586a9-108">[OpenID Connect](http://openid.net/specs/openid-connect-core-1_0.html) kibővíti az OAuth 2.0 hello *engedélyezési* protokollt használni egy *hitelesítési* protokoll.</span><span class="sxs-lookup"><span data-stu-id="586a9-108">[OpenID Connect](http://openid.net/specs/openid-connect-core-1_0.html) extends hello OAuth 2.0 *authorization* protocol for use as an *authentication* protocol.</span></span> <span data-ttu-id="586a9-109">Ez lehetővé teszi tooperform egyszeri bejelentkezés OAuth használatával.</span><span class="sxs-lookup"><span data-stu-id="586a9-109">This allows you tooperform single sign-on by using OAuth.</span></span> <span data-ttu-id="586a9-110">Hello fogalma okozna egy *azonosító token*, egy biztonsági jogkivonatot, amely lehetővé teszi, hogy a hello ügyfél tooverify hello hello felhasználó identitását, amely hello felhasználó alapvető profiladataihoz információt szerezni.</span><span class="sxs-lookup"><span data-stu-id="586a9-110">It introduces hello concept of an *ID token*, which is a security token that allows hello client tooverify hello identity of hello user and obtain basic profile information about hello user.</span></span>

<span data-ttu-id="586a9-111">OAuth 2.0 terjeszti ki, mert emellett lehetővé teszi az alkalmazások toosecurely megszerzése *hozzáférési jogkivonatok*.</span><span class="sxs-lookup"><span data-stu-id="586a9-111">Because it extends OAuth 2.0, it also enables apps toosecurely acquire *access tokens*.</span></span> <span data-ttu-id="586a9-112">Használhatja a access_tokens tooaccess erőforrások által védett egy [engedélyezési server](active-directory-b2c-reference-protocols.md#the-basics).</span><span class="sxs-lookup"><span data-stu-id="586a9-112">You can use access_tokens tooaccess resources that are secured by an [authorization server](active-directory-b2c-reference-protocols.md#the-basics).</span></span> <span data-ttu-id="586a9-113">Ajánlott OpenID Connect, ha a webes alkalmazás, amely a kiszolgálón futtatott és böngészőn keresztül elért most felépítése.</span><span class="sxs-lookup"><span data-stu-id="586a9-113">We recommend OpenID Connect if you're building a web application that is hosted on a server and accessed through a browser.</span></span> <span data-ttu-id="586a9-114">Ha az Azure AD B2C segítségével tooadd identity management tooyour hordozható vagy asztali alkalmazásokkal, használjon [OAuth 2.0](active-directory-b2c-reference-oauth-code.md) ahelyett, hogy az OpenID Connect.</span><span class="sxs-lookup"><span data-stu-id="586a9-114">If you want tooadd identity management tooyour mobile or desktop applications by using Azure AD B2C, you should use [OAuth 2.0](active-directory-b2c-reference-oauth-code.md) rather than OpenID Connect.</span></span>

<span data-ttu-id="586a9-115">Az Azure AD B2C hello szabványos OpenID Connect protokoll toodo több mint egyszerű hitelesítési és engedélyezési terjeszti ki.</span><span class="sxs-lookup"><span data-stu-id="586a9-115">Azure AD B2C extends hello standard OpenID Connect protocol toodo more than simple authentication and authorization.</span></span> <span data-ttu-id="586a9-116">Hello okozna [házirend paraméter](active-directory-b2c-reference-policies.md), amely lehetővé teszi toouse OpenID Connect tooadd felhasználói élményt – például a regisztráció, bejelentkezés és a profilkezelés--tooyour alkalmazást.</span><span class="sxs-lookup"><span data-stu-id="586a9-116">It introduces hello [policy parameter](active-directory-b2c-reference-policies.md), which enables you toouse OpenID Connect tooadd user experiences--such as sign-up, sign-in, and profile management--tooyour app.</span></span> <span data-ttu-id="586a9-117">Itt azt mutatja be toouse ezen észlel, a webalkalmazások OpenID Connect és házirendek tooimplement.</span><span class="sxs-lookup"><span data-stu-id="586a9-117">Here, we show you how toouse OpenID Connect and policies tooimplement each of these experiences in your web applications.</span></span> <span data-ttu-id="586a9-118">Is mutat be, hogyan tooget hozzáférési jogkivonatok eléréséhez webes API-khoz.</span><span class="sxs-lookup"><span data-stu-id="586a9-118">We'll also show you how tooget access tokens for accessing web APIs.</span></span>

<span data-ttu-id="586a9-119">hello példa HTTP-kérelmek hello a következő szakaszban használja, a minta B2C-címtárban, fabrikamb2c.onmicrosoft.com, valamint a mintaalkalmazást, https://aadb2cplayground.azurewebsites.net és házirendek.</span><span class="sxs-lookup"><span data-stu-id="586a9-119">hello example HTTP requests in hello next section use our sample B2C directory, fabrikamb2c.onmicrosoft.com, as well as our sample application, https://aadb2cplayground.azurewebsites.net, and policies.</span></span> <span data-ttu-id="586a9-120">Szabad kimenő hello tootry fel a kérelmeket saját kezűleg ezeket az értékeket, vagy lecserélheti őket a saját.</span><span class="sxs-lookup"><span data-stu-id="586a9-120">You're free tootry out hello requests yourself by using these values, or you can replace them with your own.</span></span>
<span data-ttu-id="586a9-121">Ismerje meg, hogyan túl[saját B2C-bérlő, alkalmazások és házirendek](#use-your-own-b2c-directory).</span><span class="sxs-lookup"><span data-stu-id="586a9-121">Learn how too[get your own B2C tenant, application, and policies](#use-your-own-b2c-directory).</span></span>

## <a name="send-authentication-requests"></a><span data-ttu-id="586a9-122">Hitelesítési kérések küldése</span><span class="sxs-lookup"><span data-stu-id="586a9-122">Send authentication requests</span></span>
<span data-ttu-id="586a9-123">A webalkalmazás tooauthenticate hello felhasználói kell, és egy házirend hajtható végre, akkor is közvetlen hello felhasználói toohello `/authorize` végpont.</span><span class="sxs-lookup"><span data-stu-id="586a9-123">When your web app needs tooauthenticate hello user and execute a policy, it can direct hello user toohello `/authorize` endpoint.</span></span> <span data-ttu-id="586a9-124">Ez az interaktív része hello hello folyamata, ahol a hello felhasználó végrehajtja a műveletet, attól függően, hogy hello házirend.</span><span class="sxs-lookup"><span data-stu-id="586a9-124">This is hello interactive portion of hello flow, where hello user takes action, depending on hello policy.</span></span>

<span data-ttu-id="586a9-125">Ebben a kérelemben hello ügyfél azt jelzi, hogy kell-e a hello hello felhasználótól tooacquire hello engedélyek `scope` paraméter és hello házirend tooexecute a hello `p` paraméter.</span><span class="sxs-lookup"><span data-stu-id="586a9-125">In this request, hello client indicates hello permissions that it needs tooacquire from hello user in hello `scope` parameter and hello policy tooexecute in hello `p` parameter.</span></span> <span data-ttu-id="586a9-126">Három példák találhatók: hello a következő szakaszok (sortöréssel olvashatóság érdekében), minden más házirend segítségével.</span><span class="sxs-lookup"><span data-stu-id="586a9-126">Three examples are provided in hello following sections (with line breaks for readability), each using a different policy.</span></span> <span data-ttu-id="586a9-127">tooget abba az egyes kérelmek működése, próbálja meg végrehajtani a Beillesztés hello kérelmet egy böngészőt, és azt futtatja.</span><span class="sxs-lookup"><span data-stu-id="586a9-127">tooget a feel for how each request works, try pasting hello request into a browser and running it.</span></span>

#### <a name="use-a-sign-in-policy"></a><span data-ttu-id="586a9-128">A bejelentkezési házirend</span><span class="sxs-lookup"><span data-stu-id="586a9-128">Use a sign-in policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=code+id_token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=form_post
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_sign_in
```

#### <a name="use-a-sign-up-policy"></a><span data-ttu-id="586a9-129">A regisztrációs szabályzatban használata</span><span class="sxs-lookup"><span data-stu-id="586a9-129">Use a sign-up policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=code+id_token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=form_post
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_sign_up
```

#### <a name="use-an-edit-profile-policy"></a><span data-ttu-id="586a9-130">Egy házirend-profil szerkesztése</span><span class="sxs-lookup"><span data-stu-id="586a9-130">Use an edit-profile policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=code+id_token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=form_post
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_edit_profile
```

| <span data-ttu-id="586a9-131">Paraméter</span><span class="sxs-lookup"><span data-stu-id="586a9-131">Parameter</span></span> | <span data-ttu-id="586a9-132">Kötelező?</span><span class="sxs-lookup"><span data-stu-id="586a9-132">Required?</span></span> | <span data-ttu-id="586a9-133">Leírás</span><span class="sxs-lookup"><span data-stu-id="586a9-133">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="586a9-134">client_id</span><span class="sxs-lookup"><span data-stu-id="586a9-134">client_id</span></span> |<span data-ttu-id="586a9-135">Szükséges</span><span class="sxs-lookup"><span data-stu-id="586a9-135">Required</span></span> |<span data-ttu-id="586a9-136">hello alkalmazás azonosító adott hello [Azure-portálon](https://portal.azure.com/) tooyour app rendelve.</span><span class="sxs-lookup"><span data-stu-id="586a9-136">hello application ID that hello [Azure portal](https://portal.azure.com/) assigned tooyour app.</span></span> |
| <span data-ttu-id="586a9-137">response_type</span><span class="sxs-lookup"><span data-stu-id="586a9-137">response_type</span></span> |<span data-ttu-id="586a9-138">Szükséges</span><span class="sxs-lookup"><span data-stu-id="586a9-138">Required</span></span> |<span data-ttu-id="586a9-139">hello válasz típusát, amely az OpenID Connect tartalmaznia kell egy azonosító jogkivonatot.</span><span class="sxs-lookup"><span data-stu-id="586a9-139">hello response type, which must include an ID token for OpenID Connect.</span></span> <span data-ttu-id="586a9-140">Ha a webalkalmazásnak is kell jogkivonatok hívásakor webes API-k, `code+id_token`, ahogy azt itt régebben már kötöttek.</span><span class="sxs-lookup"><span data-stu-id="586a9-140">If your web app also needs tokens for calling a web API, you can use `code+id_token`, as we've done here.</span></span> |
| <span data-ttu-id="586a9-141">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="586a9-141">redirect_uri</span></span> |<span data-ttu-id="586a9-142">Ajánlott</span><span class="sxs-lookup"><span data-stu-id="586a9-142">Recommended</span></span> |<span data-ttu-id="586a9-143">Hello `redirect_uri` paraméter az alkalmazás, ahol küldött és az alkalmazás által fogadott a hitelesítési válaszokat.</span><span class="sxs-lookup"><span data-stu-id="586a9-143">hello `redirect_uri` parameter of your app, where authentication responses can be sent and received by your app.</span></span> <span data-ttu-id="586a9-144">Ez pontosan egyeznie kell hello `redirect_uri` paraméterek olyan hello portálon, azzal a különbséggel, hogy az URL-kódolású kell lennie.</span><span class="sxs-lookup"><span data-stu-id="586a9-144">It must exactly match one of hello `redirect_uri` parameters that you registered in hello portal, except that it must be URL encoded.</span></span> |
| <span data-ttu-id="586a9-145">Hatókör</span><span class="sxs-lookup"><span data-stu-id="586a9-145">scope</span></span> |<span data-ttu-id="586a9-146">Szükséges</span><span class="sxs-lookup"><span data-stu-id="586a9-146">Required</span></span> |<span data-ttu-id="586a9-147">Hatókörök szóközökkel elválasztott listája.</span><span class="sxs-lookup"><span data-stu-id="586a9-147">A space-separated list of scopes.</span></span> <span data-ttu-id="586a9-148">Egy hatókör érték tooAzure AD mindkét kérnek engedélyeket.</span><span class="sxs-lookup"><span data-stu-id="586a9-148">A single scope value indicates tooAzure AD both permissions that are being requested.</span></span> <span data-ttu-id="586a9-149">Hello `openid` hatókör jelzi egy engedély toosign hello felhasználói és az adatok hello felhasználóról hello azonosító-jogkivonatokat (további toocome ezen hello cikk későbbi részében) formájában.</span><span class="sxs-lookup"><span data-stu-id="586a9-149">hello `openid` scope indicates a permission toosign in hello user and get data about hello user in hello form of ID tokens (more toocome on this later in hello article).</span></span> <span data-ttu-id="586a9-150">Hello `offline_access` hatókör megadása nem kötelező web Apps.</span><span class="sxs-lookup"><span data-stu-id="586a9-150">hello `offline_access` scope is optional for web apps.</span></span> <span data-ttu-id="586a9-151">Azt jelzi, hogy az alkalmazás kell egy *frissítési jogkivonat* a hosszú élettartamú hozzáférés tooresources.</span><span class="sxs-lookup"><span data-stu-id="586a9-151">It indicates that your app will need a *refresh token* for long-lived access tooresources.</span></span> |
| <span data-ttu-id="586a9-152">response_mode</span><span class="sxs-lookup"><span data-stu-id="586a9-152">response_mode</span></span> |<span data-ttu-id="586a9-153">Ajánlott</span><span class="sxs-lookup"><span data-stu-id="586a9-153">Recommended</span></span> |<span data-ttu-id="586a9-154">hello módszerhez használt toosend hello eredményül kapott engedélyezési kód hátsó tooyour app kell lennie.</span><span class="sxs-lookup"><span data-stu-id="586a9-154">hello method that should be used toosend hello resulting authorization code back tooyour app.</span></span> <span data-ttu-id="586a9-155">Ez lehet akár `query`, `form_post`, vagy `fragment`.</span><span class="sxs-lookup"><span data-stu-id="586a9-155">It can be either `query`, `form_post`, or `fragment`.</span></span>  <span data-ttu-id="586a9-156">Hello `form_post` válasz mód használata ajánlott legjobb biztonsági.</span><span class="sxs-lookup"><span data-stu-id="586a9-156">hello `form_post` response mode is recommended for best security.</span></span> |
| <span data-ttu-id="586a9-157">state</span><span class="sxs-lookup"><span data-stu-id="586a9-157">state</span></span> |<span data-ttu-id="586a9-158">Ajánlott</span><span class="sxs-lookup"><span data-stu-id="586a9-158">Recommended</span></span> |<span data-ttu-id="586a9-159">Hello kérelem is hello token válaszként visszaadott szerepel érték.</span><span class="sxs-lookup"><span data-stu-id="586a9-159">A value included in hello request that is also returned in hello token response.</span></span> <span data-ttu-id="586a9-160">Bármely, a kívánt tartalmat karakterlánc lehet.</span><span class="sxs-lookup"><span data-stu-id="586a9-160">It can be a string of any content that you want.</span></span> <span data-ttu-id="586a9-161">Egy véletlenszerűen generált egyedi érték webhelyközi kérések hamisításának megakadályozása támadások megelőzése általában szolgál.</span><span class="sxs-lookup"><span data-stu-id="586a9-161">A randomly generated unique value is typically used for preventing cross-site request forgery attacks.</span></span> <span data-ttu-id="586a9-162">hello állapota is hello felhasználói állapot hello alkalmazásban használt tooencode információ hello hitelesítési kérelem történt, mint amilyenek korábban voltak a hello lap előtt.</span><span class="sxs-lookup"><span data-stu-id="586a9-162">hello state is also used tooencode information about hello user's state in hello app before hello authentication request occurred, such as hello page they were on.</span></span> |
| <span data-ttu-id="586a9-163">Nonce</span><span class="sxs-lookup"><span data-stu-id="586a9-163">nonce</span></span> |<span data-ttu-id="586a9-164">Szükséges</span><span class="sxs-lookup"><span data-stu-id="586a9-164">Required</span></span> |<span data-ttu-id="586a9-165">Hello kérelem (hello alkalmazás által generált), amely szerepelni fog eredményül kapott Azonosítót jogkivonatban hello jogcímként szerepel érték.</span><span class="sxs-lookup"><span data-stu-id="586a9-165">A value included in hello request (generated by hello app) that will be included in hello resulting ID token as a claim.</span></span> <span data-ttu-id="586a9-166">hello alkalmazás ezután ellenőrizheti a érték toomitigate hitelesítési karakterláncok ismétlésének támadásokat.</span><span class="sxs-lookup"><span data-stu-id="586a9-166">hello app can then verify this value toomitigate token replay attacks.</span></span> <span data-ttu-id="586a9-167">hello érték általában egy véletlenszerű egyedi karakterlánc, amely használt tooidentify hello származási hello kérelem.</span><span class="sxs-lookup"><span data-stu-id="586a9-167">hello value is typically a randomized unique string that can be used tooidentify hello origin of hello request.</span></span> |
| <span data-ttu-id="586a9-168">P</span><span class="sxs-lookup"><span data-stu-id="586a9-168">p</span></span> |<span data-ttu-id="586a9-169">Szükséges</span><span class="sxs-lookup"><span data-stu-id="586a9-169">Required</span></span> |<span data-ttu-id="586a9-170">hello házirendet, amely végrehajtja.</span><span class="sxs-lookup"><span data-stu-id="586a9-170">hello policy that will be executed.</span></span> <span data-ttu-id="586a9-171">Olyan házirendet, amely a B2C bérlő létrehozása hello nevét.</span><span class="sxs-lookup"><span data-stu-id="586a9-171">It is hello name of a policy that is created in your B2C tenant.</span></span> <span data-ttu-id="586a9-172">hello házirend név-érték előtaggal kell kezdődnie `b2c\_1\_`.</span><span class="sxs-lookup"><span data-stu-id="586a9-172">hello policy name value should begin with `b2c\_1\_`.</span></span> <span data-ttu-id="586a9-173">További információ a házirendek és hello további [bővíthető szabályzat-keretrendszernek](active-directory-b2c-reference-policies.md).</span><span class="sxs-lookup"><span data-stu-id="586a9-173">Learn more about policies and hello [extensible policy framework](active-directory-b2c-reference-policies.md).</span></span> |
| <span data-ttu-id="586a9-174">parancssor</span><span class="sxs-lookup"><span data-stu-id="586a9-174">prompt</span></span> |<span data-ttu-id="586a9-175">Optional</span><span class="sxs-lookup"><span data-stu-id="586a9-175">Optional</span></span> |<span data-ttu-id="586a9-176">hello típusa a felhasználói beavatkozás szükséges.</span><span class="sxs-lookup"><span data-stu-id="586a9-176">hello type of user interaction that is required.</span></span> <span data-ttu-id="586a9-177">hello csak érvényes jelenleg értéke `login`, amely kényszeríti hello felhasználói tooenter adott kérelem hitelesítő adataikat.</span><span class="sxs-lookup"><span data-stu-id="586a9-177">hello only valid value at this time is `login`, which forces hello user tooenter their credentials on that request.</span></span> <span data-ttu-id="586a9-178">Egyszeri bejelentkezés nem lépnek érvénybe.</span><span class="sxs-lookup"><span data-stu-id="586a9-178">Single sign-on will not take effect.</span></span> |

<span data-ttu-id="586a9-179">Ezen a ponton hello felhasználónak kapcsolatba toocomplete hello házirend munkafolyamat.</span><span class="sxs-lookup"><span data-stu-id="586a9-179">At this point, hello user is asked toocomplete hello policy's workflow.</span></span> <span data-ttu-id="586a9-180">Ez lehet, hogy magában hello felhasználói írja be a felhasználónevét és jelszavát, bejelentkezés egy közösségi identitás regisztrál a hello könyvtár, vagy minden más szám lépésből áll, attól függően, hogy hogyan a hello házirend lett meghatározva.</span><span class="sxs-lookup"><span data-stu-id="586a9-180">This might involve hello user entering their username and password, signing in with a social identity, signing up for hello directory, or any other number of steps, depending on how hello policy is defined.</span></span>

<span data-ttu-id="586a9-181">Hello felhasználói hello házirend befejezése után az Azure AD adja vissza egy válasz tooyour alkalmazást jelzett hello `redirect_uri` paraméter módszerrel hello hello megadott `response_mode` paraméter.</span><span class="sxs-lookup"><span data-stu-id="586a9-181">After hello user completes hello policy, Azure AD returns a response tooyour app at hello indicated `redirect_uri` parameter, by using hello method that is specified in hello `response_mode` parameter.</span></span> <span data-ttu-id="586a9-182">az egyes esetekben független hello házirend végrehajtott megelőző hello azonos van hello hello válasz.</span><span class="sxs-lookup"><span data-stu-id="586a9-182">hello response is hello same for each of hello preceding cases, independent of hello policy that is executed.</span></span>

<span data-ttu-id="586a9-183">A sikeres válasz használatával `response_mode=fragment` alábbihoz hasonlóan fog kinézni:</span><span class="sxs-lookup"><span data-stu-id="586a9-183">A successful response using `response_mode=fragment` would look like:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
id_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
&code=AwABAAAAvPM1KaPlrEqdFSBzjqfTGBCmLdgfSTLEMPGYuNHSUYBrq...
&state=arbitrary_data_you_can_receive_in_the_response
```

| <span data-ttu-id="586a9-184">Paraméter</span><span class="sxs-lookup"><span data-stu-id="586a9-184">Parameter</span></span> | <span data-ttu-id="586a9-185">Leírás</span><span class="sxs-lookup"><span data-stu-id="586a9-185">Description</span></span> |
| --- | --- |
| <span data-ttu-id="586a9-186">id_token</span><span class="sxs-lookup"><span data-stu-id="586a9-186">id_token</span></span> |<span data-ttu-id="586a9-187">kért alkalmazás hello Azonosítót jogkivonatban hello.</span><span class="sxs-lookup"><span data-stu-id="586a9-187">hello ID token that hello app requested.</span></span> <span data-ttu-id="586a9-188">Hello azonosító token tooverify hello felhasználói identitás használatára, és a hello felhasználói munkamenet elindításához.</span><span class="sxs-lookup"><span data-stu-id="586a9-188">You can use hello ID token tooverify hello user's identity and begin a session with hello user.</span></span> <span data-ttu-id="586a9-189">További részleteket a azonosító-jogkivonatokat és azok tartalmát szerepelnek hello [Azure AD B2C-jogkivonatok referenciájából](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="586a9-189">More details on ID tokens and their contents are included in hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> |
| <span data-ttu-id="586a9-190">Kód</span><span class="sxs-lookup"><span data-stu-id="586a9-190">code</span></span> |<span data-ttu-id="586a9-191">hello engedélyezési kód hello alkalmazáshoz szükség, ha használt `response_type=code+id_token`.</span><span class="sxs-lookup"><span data-stu-id="586a9-191">hello authorization code that hello app requested, if you used `response_type=code+id_token`.</span></span> <span data-ttu-id="586a9-192">hello app hello engedélyezési kód toorequest olyan hozzáférési jogkivonatot használja a cél erőforráson.</span><span class="sxs-lookup"><span data-stu-id="586a9-192">hello app can use hello authorization code toorequest an access token for a target resource.</span></span> <span data-ttu-id="586a9-193">Hitelesítési kódok nagyon rövid élettartamú.</span><span class="sxs-lookup"><span data-stu-id="586a9-193">Authorization codes are very short-lived.</span></span> <span data-ttu-id="586a9-194">Ezek általában körülbelül 10 perc múlva lejár.</span><span class="sxs-lookup"><span data-stu-id="586a9-194">Typically, they expire after about 10 minutes.</span></span> |
| <span data-ttu-id="586a9-195">state</span><span class="sxs-lookup"><span data-stu-id="586a9-195">state</span></span> |<span data-ttu-id="586a9-196">Ha egy `state` paraméter szerepel hello ugyanazt az értéket meg kell jelennie a hello válasz hello kérelem.</span><span class="sxs-lookup"><span data-stu-id="586a9-196">If a `state` parameter is included in hello request, hello same value should appear in hello response.</span></span> <span data-ttu-id="586a9-197">hello app győződjön meg arról, hogy hello `state` hello kérelem-válasz szereplő értékek azonosak.</span><span class="sxs-lookup"><span data-stu-id="586a9-197">hello app should verify that hello `state` values in hello request and response are identical.</span></span> |

<span data-ttu-id="586a9-198">Hibaválaszok is küldhetők toohello `redirect_uri` paraméter, hello alkalmazást is kezeli azokat megfelelően:</span><span class="sxs-lookup"><span data-stu-id="586a9-198">Error responses can also be sent toohello `redirect_uri` parameter so that hello app can handle them appropriately:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
error=access_denied
&error_description=the+user+canceled+the+authentication
&state=arbitrary_data_you_can_receive_in_the_response
```

| <span data-ttu-id="586a9-199">Paraméter</span><span class="sxs-lookup"><span data-stu-id="586a9-199">Parameter</span></span> | <span data-ttu-id="586a9-200">Leírás</span><span class="sxs-lookup"><span data-stu-id="586a9-200">Description</span></span> |
| --- | --- |
| <span data-ttu-id="586a9-201">error</span><span class="sxs-lookup"><span data-stu-id="586a9-201">error</span></span> |<span data-ttu-id="586a9-202">Lehet, amely lehet használt tooreact tooerrors előforduló hibát használt tooclassify típusú hibakód karakterlánc.</span><span class="sxs-lookup"><span data-stu-id="586a9-202">An error-code string that can be used tooclassify types of errors that occur and that can be used tooreact tooerrors.</span></span> |
| <span data-ttu-id="586a9-203">error_description</span><span class="sxs-lookup"><span data-stu-id="586a9-203">error_description</span></span> |<span data-ttu-id="586a9-204">Egy adott hibaüzenet, amelyek segítségével a fejlesztők hello hitelesítési hiba okának azonosításához.</span><span class="sxs-lookup"><span data-stu-id="586a9-204">A specific error message that can help a developer identify hello root cause of an authentication error.</span></span> |
| <span data-ttu-id="586a9-205">state</span><span class="sxs-lookup"><span data-stu-id="586a9-205">state</span></span> |<span data-ttu-id="586a9-206">Hello teljes leírást az első tábla hello ebben a szakaszban talál.</span><span class="sxs-lookup"><span data-stu-id="586a9-206">See hello full description in hello first table in this section.</span></span> <span data-ttu-id="586a9-207">Ha egy `state` paraméter szerepel hello ugyanazt az értéket meg kell jelennie a hello válasz hello kérelem.</span><span class="sxs-lookup"><span data-stu-id="586a9-207">If a `state` parameter is included in hello request, hello same value should appear in hello response.</span></span> <span data-ttu-id="586a9-208">hello app győződjön meg arról, hogy hello `state` hello kérelem-válasz szereplő értékek azonosak.</span><span class="sxs-lookup"><span data-stu-id="586a9-208">hello app should verify that hello `state` values in hello request and response are identical.</span></span> |

## <a name="validate-hello-id-token"></a><span data-ttu-id="586a9-209">Hello azonosító token ellenőrzése</span><span class="sxs-lookup"><span data-stu-id="586a9-209">Validate hello ID token</span></span>
<span data-ttu-id="586a9-210">Csak fogadó egy azonosító jogkivonat nincs elég tooauthenticate hello felhasználó.</span><span class="sxs-lookup"><span data-stu-id="586a9-210">Just receiving an ID token is not enough tooauthenticate hello user.</span></span> <span data-ttu-id="586a9-211">Kell hello azonosító jogkivonat-aláírás ellenőrzése és hello jogcímek hello jogkivonat / az alkalmazás követelményeinek ellenőrzése.</span><span class="sxs-lookup"><span data-stu-id="586a9-211">You must validate hello ID token's signature and verify hello claims in hello token per your app's requirements.</span></span> <span data-ttu-id="586a9-212">Használja az Azure AD B2C [JSON Web Tokens (JWTs)](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html) és nyilvános kulcs titkosítás toosign jogkivonatokat, és győződjön meg arról, hogy azok érvényesek.</span><span class="sxs-lookup"><span data-stu-id="586a9-212">Azure AD B2C uses [JSON Web Tokens (JWTs)](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html) and public key cryptography toosign tokens and verify that they are valid.</span></span>

<span data-ttu-id="586a9-213">Nincsenek számos nyílt forráskódú kódtárai elérhető JWTs, attól függően, hogy a nyelvi preferencia szerinti ellenőrzése.</span><span class="sxs-lookup"><span data-stu-id="586a9-213">There are many open-source libraries that are available for validating JWTs, depending on your language of preference.</span></span> <span data-ttu-id="586a9-214">Javasoljuk, hogy ezek a lehetőségek felfedezése megvalósító egyéni ellenőrzési logika helyett.</span><span class="sxs-lookup"><span data-stu-id="586a9-214">We recommend exploring those options rather than implementing your own validation logic.</span></span> <span data-ttu-id="586a9-215">Itt hello információk hasznosak bizonyulnak a tudja, hogyan tooproperly használja ezeket a könyvtárakat.</span><span class="sxs-lookup"><span data-stu-id="586a9-215">hello information here will be useful in figuring out how tooproperly use those libraries.</span></span>

<span data-ttu-id="586a9-216">Az Azure AD B2C az OpenID Connect metaadat-végpontjához, amely lehetővé teszi egy alkalmazás toofetch kapcsolatos információkat az Azure AD B2C futásidőben rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="586a9-216">Azure AD B2C has an OpenID Connect metadata endpoint, which allows an app toofetch information about Azure AD B2C at runtime.</span></span> <span data-ttu-id="586a9-217">Ezen információk közé tartozik a végpontok, lexikális elem tartalmának és jogkivonat-aláíró kulcsok.</span><span class="sxs-lookup"><span data-stu-id="586a9-217">This information includes endpoints, token contents, and token signing keys.</span></span> <span data-ttu-id="586a9-218">Nincs a JSON metaadat-dokumentum-házirendet a B2C-bérlőben.</span><span class="sxs-lookup"><span data-stu-id="586a9-218">There is a JSON metadata document for each policy in your B2C tenant.</span></span> <span data-ttu-id="586a9-219">Például hello metaadat-dokumentum a hello `b2c_1_sign_in` -szabályzat `fabrikamb2c.onmicrosoft.com` helyen található:</span><span class="sxs-lookup"><span data-stu-id="586a9-219">For example, hello metadata document for hello `b2c_1_sign_in` policy in `fabrikamb2c.onmicrosoft.com` is located at:</span></span>

`https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/v2.0/.well-known/openid-configuration?p=b2c_1_sign_in`

<span data-ttu-id="586a9-220">A konfigurációs dokumentum hello tulajdonságait egyik `jwks_uri`, amelynek az értéke az ugyanabban a házirendben lenne hello:</span><span class="sxs-lookup"><span data-stu-id="586a9-220">One of hello properties of this configuration document is `jwks_uri`, whose value for hello same policy would be:</span></span>

<span data-ttu-id="586a9-221">`https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/discovery/v2.0/keys?p=b2c_1_sign_in`.</span><span class="sxs-lookup"><span data-stu-id="586a9-221">`https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/discovery/v2.0/keys?p=b2c_1_sign_in`.</span></span>

<span data-ttu-id="586a9-222">toodetermine mely házirendet használtak egy azonosító tokent aláíró (és az adott toofetch hello metaadatok), két lehetőség közül választhat.</span><span class="sxs-lookup"><span data-stu-id="586a9-222">toodetermine which policy was used in signing an ID token (and from where toofetch hello metadata), you have two options.</span></span> <span data-ttu-id="586a9-223">Első lépésként hello házirendnév hello megtalálható `acr` jogcím hello Azonosítót jogkivonatban.</span><span class="sxs-lookup"><span data-stu-id="586a9-223">First, hello policy name is included in hello `acr` claim in hello ID token.</span></span> <span data-ttu-id="586a9-224">Hogyan tooparse hello jogcím-azonosító-jogkivonatból információkért lásd: hello [Azure AD B2C-jogkivonatok referenciájából](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="586a9-224">For information on how tooparse hello claims from an ID token, see hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> <span data-ttu-id="586a9-225">A másik lehetőség egy tooencode hello házirend hello hello értékének `state` paraméter küldjön hello kérelmet, és milyen házirend lett megadva toodetermine dekódolására.</span><span class="sxs-lookup"><span data-stu-id="586a9-225">Your other option is tooencode hello policy in hello value of hello `state` parameter when you issue hello request, and then decode it toodetermine which policy was used.</span></span> <span data-ttu-id="586a9-226">Mindkét módszer esetén érvényes.</span><span class="sxs-lookup"><span data-stu-id="586a9-226">Either method is valid.</span></span>

<span data-ttu-id="586a9-227">Hello metaadat-dokumentum hello-metaadatok endpoint OpenID Connect a korábban szerezte be, miután hello RSA 256 nyilvános kulcsok (amelyek a végpont található) használhatja toovalidate hello hello azonosító jogkivonat aláírását.</span><span class="sxs-lookup"><span data-stu-id="586a9-227">After you've acquired hello metadata document from hello OpenID Connect metadata endpoint, you can use hello RSA 256 public keys (which are located at this endpoint) toovalidate hello signature of hello ID token.</span></span> <span data-ttu-id="586a9-228">Előfordulhat, hogy több idő álljon a végponti szereplő kulcsok, minden egyes által azonosított egy `kid` jogcímek.</span><span class="sxs-lookup"><span data-stu-id="586a9-228">There might be multiple keys listed at this endpoint at any given point in time, each identified by a `kid` claim.</span></span> <span data-ttu-id="586a9-229">hello hello azonosító jogkivonat fejléc is tartalmaz egy `kid` jogcím, ami azt jelenti, hogy ezek a kulcsok eddig használt toosign hello azonosító token.</span><span class="sxs-lookup"><span data-stu-id="586a9-229">hello header of hello ID token also contains a `kid` claim, which indicates which of these keys was used toosign hello ID token.</span></span> <span data-ttu-id="586a9-230">További információkért lásd: hello [Azure AD B2C-jogkivonatok referenciájából](active-directory-b2c-reference-tokens.md) (a szakasz hello [jogkivonatok ellenőrzése](active-directory-b2c-reference-tokens.md#token-validation), különösen).</span><span class="sxs-lookup"><span data-stu-id="586a9-230">For more information, see hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md) (hello section on [validating tokens](active-directory-b2c-reference-tokens.md#token-validation), in particular).</span></span>
<!--TODO: Improve hello information on this-->

<span data-ttu-id="586a9-231">Hello azonosító jogkivonat hello aláírás érvényesítése után vannak, hogy kell-e tooverify több jogcímeket.</span><span class="sxs-lookup"><span data-stu-id="586a9-231">After you've validated hello signature of hello ID token, there are several claims that you need tooverify.</span></span> <span data-ttu-id="586a9-232">Például:</span><span class="sxs-lookup"><span data-stu-id="586a9-232">For instance:</span></span>

* <span data-ttu-id="586a9-233">Ellenőriznie kell a hello `nonce` jogcím tooprevent hitelesítési karakterláncok ismétlésének támadásokat.</span><span class="sxs-lookup"><span data-stu-id="586a9-233">You should validate hello `nonce` claim tooprevent token replay attacks.</span></span> <span data-ttu-id="586a9-234">Az érték lehet hello bejelentkezési kérelemben megadott.</span><span class="sxs-lookup"><span data-stu-id="586a9-234">Its value should be what you specified in hello sign-in request.</span></span>
* <span data-ttu-id="586a9-235">Ellenőriznie kell a hello `aud` jogcímek, az alkalmazás, amely azonosító token hello tooensure ki.</span><span class="sxs-lookup"><span data-stu-id="586a9-235">You should validate hello `aud` claim tooensure that hello ID token was issued for your app.</span></span> <span data-ttu-id="586a9-236">Az érték lehet hello Alkalmazásazonosító az alkalmazás.</span><span class="sxs-lookup"><span data-stu-id="586a9-236">Its value should be hello application ID of your app.</span></span>
* <span data-ttu-id="586a9-237">Ellenőriznie kell a hello `iat` és `exp` jogcímeket, amely azonosító token hello tooensure nem járt le.</span><span class="sxs-lookup"><span data-stu-id="586a9-237">You should validate hello `iat` and `exp` claims tooensure that hello ID token has not expired.</span></span>

<span data-ttu-id="586a9-238">Nincsenek is végre kell hajtania néhány további érvényesítést.</span><span class="sxs-lookup"><span data-stu-id="586a9-238">There are also several more validations that you should perform.</span></span> <span data-ttu-id="586a9-239">Ezekről az alábbi hello részletes [OpenID Connect Core Spec](http://openid.net/specs/openid-connect-core-1_0.html).  Érdemes lehet toovalidate további jogcímeket, a forgatókönyvtől függően.</span><span class="sxs-lookup"><span data-stu-id="586a9-239">These are described in detail in hello [OpenID Connect Core Spec](http://openid.net/specs/openid-connect-core-1_0.html).  You might also want toovalidate additional claims, depending on your scenario.</span></span> <span data-ttu-id="586a9-240">Néhány gyakori érvényesítést a következők:</span><span class="sxs-lookup"><span data-stu-id="586a9-240">Some common validations include:</span></span>

* <span data-ttu-id="586a9-241">Győződjön meg arról, hogy a felhasználó/szervezeti hello rendelkezik regisztrált hello alkalmazást.</span><span class="sxs-lookup"><span data-stu-id="586a9-241">Ensuring that hello user/organization has signed up for hello app.</span></span>
* <span data-ttu-id="586a9-242">Győződjön meg arról, hogy hello felhasználó rendelkezik-e megfelelő engedélyezési vagy jogosultságokkal.</span><span class="sxs-lookup"><span data-stu-id="586a9-242">Ensuring that hello user has proper authorization/privileges.</span></span>
* <span data-ttu-id="586a9-243">Győződjön meg arról, hogy bizonyos erősségével hitelesítési történt, például az Azure multi-factor Authentication.</span><span class="sxs-lookup"><span data-stu-id="586a9-243">Ensuring that a certain strength of authentication has occurred, such as Azure Multi-Factor Authentication.</span></span>

<span data-ttu-id="586a9-244">A hello jogcímek egy Azonosítót jogkivonatban további információkért lásd: hello [Azure AD B2C-jogkivonatok referenciájából](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="586a9-244">For more information on hello claims in an ID token, see hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span>

<span data-ttu-id="586a9-245">Hello azonosító token ellenőrzése után megkezdheti a munkamenet hello felhasználóval.</span><span class="sxs-lookup"><span data-stu-id="586a9-245">After you have validated hello ID token, you can begin a session with hello user.</span></span> <span data-ttu-id="586a9-246">Hello jogcímek hello azonosító token tooobtain hello felhasználói adatait az alkalmazás használata.</span><span class="sxs-lookup"><span data-stu-id="586a9-246">You can use hello claims in hello ID token tooobtain information about hello user in your app.</span></span> <span data-ttu-id="586a9-247">Ezt az információt használja megjelenített rekordok és engedélyezési tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="586a9-247">Uses for this information include display, records, and authorization.</span></span>

## <a name="get-a-token"></a><span data-ttu-id="586a9-248">A jogkivonat beolvasása</span><span class="sxs-lookup"><span data-stu-id="586a9-248">Get a token</span></span>
<span data-ttu-id="586a9-249">Ha a webes alkalmazás tooonly kell végrehajtani a házirendek, továbbléphet hello a következő néhány szakasz.</span><span class="sxs-lookup"><span data-stu-id="586a9-249">If you need your web app tooonly execute policies, you can skip hello next few sections.</span></span> <span data-ttu-id="586a9-250">Ezek a szakaszok olyan alkalmazható csak tooweb alkalmazások, amelyek toomake hitelesített hívásokat tooa webes API kell, és az Azure AD B2C is védi.</span><span class="sxs-lookup"><span data-stu-id="586a9-250">These sections are applicable only tooweb apps that need toomake authenticated calls tooa web API and are also protected by Azure AD B2C.</span></span>

<span data-ttu-id="586a9-251">Hello engedélyezési kód beszerzett is beválthatja (használatával `response_type=code+id_token`) token toohello szükséges erőforrás küldésével egy `POST` toohello kérelem `/token` végpont.</span><span class="sxs-lookup"><span data-stu-id="586a9-251">You can redeem hello authorization code that you acquired (by using `response_type=code+id_token`) for a token toohello desired resource by sending a `POST` request toohello `/token` endpoint.</span></span> <span data-ttu-id="586a9-252">Hello csak a kérhet egy token erőforrás jelenleg az alkalmazás saját webes API-t.</span><span class="sxs-lookup"><span data-stu-id="586a9-252">Currently, hello only resource that you can request a token for is your app's own back-end web API.</span></span> <span data-ttu-id="586a9-253">hello egyezmény token tooyourself kér az alkalmazás ügyfél-azonosítója hello hatóköreként toouse:</span><span class="sxs-lookup"><span data-stu-id="586a9-253">hello convention for requesting a token tooyourself is toouse your app's client ID as hello scope:</span></span>

```
POST fabrikamb2c.onmicrosoft.com/oauth2/v2.0/token?p=b2c_1_sign_in HTTP/1.1
Host: https://login.microsoftonline.com
Content-Type: application/x-www-form-urlencoded

grant_type=authorization_code&client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6&scope=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access&code=AwABAAAAvPM1KaPlrEqdFSBzjqfTGBCmLdgfSTLEMPGYuNHSUYBrq...&redirect_uri=urn:ietf:wg:oauth:2.0:oob&client_secret=<your-application-secret>

```

| <span data-ttu-id="586a9-254">Paraméter</span><span class="sxs-lookup"><span data-stu-id="586a9-254">Parameter</span></span> | <span data-ttu-id="586a9-255">Kötelező?</span><span class="sxs-lookup"><span data-stu-id="586a9-255">Required?</span></span> | <span data-ttu-id="586a9-256">Leírás</span><span class="sxs-lookup"><span data-stu-id="586a9-256">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="586a9-257">P</span><span class="sxs-lookup"><span data-stu-id="586a9-257">p</span></span> |<span data-ttu-id="586a9-258">Szükséges</span><span class="sxs-lookup"><span data-stu-id="586a9-258">Required</span></span> |<span data-ttu-id="586a9-259">hello házirend, de a használt tooacquire hello engedélyezési kódot.</span><span class="sxs-lookup"><span data-stu-id="586a9-259">hello policy that was used tooacquire hello authorization code.</span></span> <span data-ttu-id="586a9-260">A kérelem nem használhatja másik szabályt.</span><span class="sxs-lookup"><span data-stu-id="586a9-260">You cannot use a different policy in this request.</span></span> <span data-ttu-id="586a9-261">Megjegyzés: a paraméter toohello lekérdezési karakterláncot, nem toohello hozzáadása `POST` törzsében.</span><span class="sxs-lookup"><span data-stu-id="586a9-261">Note that you add this parameter toohello query string, not toohello `POST` body.</span></span> |
| <span data-ttu-id="586a9-262">client_id</span><span class="sxs-lookup"><span data-stu-id="586a9-262">client_id</span></span> |<span data-ttu-id="586a9-263">Szükséges</span><span class="sxs-lookup"><span data-stu-id="586a9-263">Required</span></span> |<span data-ttu-id="586a9-264">hello alkalmazás azonosító adott hello [Azure-portálon](https://portal.azure.com/) tooyour app rendelve.</span><span class="sxs-lookup"><span data-stu-id="586a9-264">hello application ID that hello [Azure portal](https://portal.azure.com/) assigned tooyour app.</span></span> |
| <span data-ttu-id="586a9-265">grant_type</span><span class="sxs-lookup"><span data-stu-id="586a9-265">grant_type</span></span> |<span data-ttu-id="586a9-266">Szükséges</span><span class="sxs-lookup"><span data-stu-id="586a9-266">Required</span></span> |<span data-ttu-id="586a9-267">engedély megadása, amelynek támogatnia kell a típusú hello `authorization_code` a hello hitelesítésikód-folyamata.</span><span class="sxs-lookup"><span data-stu-id="586a9-267">hello type of grant, which must be `authorization_code` for hello authorization code flow.</span></span> |
| <span data-ttu-id="586a9-268">Hatókör</span><span class="sxs-lookup"><span data-stu-id="586a9-268">scope</span></span> |<span data-ttu-id="586a9-269">Ajánlott</span><span class="sxs-lookup"><span data-stu-id="586a9-269">Recommended</span></span> |<span data-ttu-id="586a9-270">Hatókörök szóközökkel elválasztott listája.</span><span class="sxs-lookup"><span data-stu-id="586a9-270">A space-separated list of scopes.</span></span> <span data-ttu-id="586a9-271">Egy hatókör érték tooAzure AD mindkét kérnek engedélyeket.</span><span class="sxs-lookup"><span data-stu-id="586a9-271">A single scope value indicates tooAzure AD both permissions that are being requested.</span></span> <span data-ttu-id="586a9-272">Hello `openid` hatókör jelzi egy engedély toosign hello felhasználói és az adatok hello felhasználóról id_token paraméterek hello formában.</span><span class="sxs-lookup"><span data-stu-id="586a9-272">hello `openid` scope indicates a permission toosign in hello user and get data about hello user in hello form of id_token parameters.</span></span> <span data-ttu-id="586a9-273">Használt tooget jogkivonatok tooyour alkalmazás saját háttér-webes API-t, amely hello által képviselt azok hello ügyfél ugyanazon alkalmazás azonosítója.</span><span class="sxs-lookup"><span data-stu-id="586a9-273">It can be used tooget tokens tooyour app's own back-end web API, which is represented by hello same application ID as hello client.</span></span> <span data-ttu-id="586a9-274">Hello `offline_access` hatókör azt jelzi, hogy az alkalmazás a hosszú élettartamú hozzáférés tooresources kell egy frissítési jogkivonat.</span><span class="sxs-lookup"><span data-stu-id="586a9-274">hello `offline_access` scope indicates that your app will need a refresh token for long-lived access tooresources.</span></span> |
| <span data-ttu-id="586a9-275">Kód</span><span class="sxs-lookup"><span data-stu-id="586a9-275">code</span></span> |<span data-ttu-id="586a9-276">Szükséges</span><span class="sxs-lookup"><span data-stu-id="586a9-276">Required</span></span> |<span data-ttu-id="586a9-277">hello engedélyezési kód hello folyamat első szakasza hello beszerzett.</span><span class="sxs-lookup"><span data-stu-id="586a9-277">hello authorization code that you acquired in hello first leg of hello flow.</span></span> |
| <span data-ttu-id="586a9-278">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="586a9-278">redirect_uri</span></span> |<span data-ttu-id="586a9-279">Szükséges</span><span class="sxs-lookup"><span data-stu-id="586a9-279">Required</span></span> |<span data-ttu-id="586a9-280">Hello `redirect_uri` paraméter hello alkalmazás, amelyre hello engedélyezési kód kapta.</span><span class="sxs-lookup"><span data-stu-id="586a9-280">hello `redirect_uri` parameter of hello application where you received hello authorization code.</span></span> |
| <span data-ttu-id="586a9-281">client_secret</span><span class="sxs-lookup"><span data-stu-id="586a9-281">client_secret</span></span> |<span data-ttu-id="586a9-282">Szükséges</span><span class="sxs-lookup"><span data-stu-id="586a9-282">Required</span></span> |<span data-ttu-id="586a9-283">hello létrehozott hello alkalmazáskulcsot [Azure-portálon](https://portal.azure.com/).</span><span class="sxs-lookup"><span data-stu-id="586a9-283">hello application secret that you generated in hello [Azure portal](https://portal.azure.com/).</span></span> <span data-ttu-id="586a9-284">Ez az alkalmazástitkok fontos biztonsági összetevő.</span><span class="sxs-lookup"><span data-stu-id="586a9-284">This application secret is an important security artifact.</span></span> <span data-ttu-id="586a9-285">Meg kell tárolja biztonságos helyen a kiszolgálón.</span><span class="sxs-lookup"><span data-stu-id="586a9-285">You should store it securely on your server.</span></span> <span data-ttu-id="586a9-286">Az ügyfélkulcs rendszeres időközönként elforgatása is kell.</span><span class="sxs-lookup"><span data-stu-id="586a9-286">You should also rotate this client secret on a periodic basis.</span></span> |

<span data-ttu-id="586a9-287">A sikeres token válasz néz ki:</span><span class="sxs-lookup"><span data-stu-id="586a9-287">A successful token response looks like:</span></span>

```
{
    "not_before": "1442340812",
    "token_type": "Bearer",
    "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...",
    "scope": "90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access",
    "expires_in": "3600",
    "refresh_token": "AAQfQmvuDy8WtUv-sd0TBwWVQs1rC-Lfxa_NDkLqpg50Cxp5Dxj0VPF1mx2Z...",
}
```
| <span data-ttu-id="586a9-288">Paraméter</span><span class="sxs-lookup"><span data-stu-id="586a9-288">Parameter</span></span> | <span data-ttu-id="586a9-289">Leírás</span><span class="sxs-lookup"><span data-stu-id="586a9-289">Description</span></span> |
| --- | --- |
| <span data-ttu-id="586a9-290">not_before</span><span class="sxs-lookup"><span data-stu-id="586a9-290">not_before</span></span> |<span data-ttu-id="586a9-291">hello idő, mely hello jogkivonat érvényes, időbeli kortartományon.</span><span class="sxs-lookup"><span data-stu-id="586a9-291">hello time at which hello token is considered valid, in epoch time.</span></span> |
| <span data-ttu-id="586a9-292">token_type</span><span class="sxs-lookup"><span data-stu-id="586a9-292">token_type</span></span> |<span data-ttu-id="586a9-293">hello token objektumtípus-érték.</span><span class="sxs-lookup"><span data-stu-id="586a9-293">hello token type value.</span></span> <span data-ttu-id="586a9-294">csak olyan típusú, amely az Azure AD által támogatott hello `Bearer`.</span><span class="sxs-lookup"><span data-stu-id="586a9-294">hello only type that Azure AD supports is `Bearer`.</span></span> |
| <span data-ttu-id="586a9-295">access_token</span><span class="sxs-lookup"><span data-stu-id="586a9-295">access_token</span></span> |<span data-ttu-id="586a9-296">hello az Ön által kért JWT jogkivonat aláírása.</span><span class="sxs-lookup"><span data-stu-id="586a9-296">hello signed JWT token that you requested.</span></span> |
| <span data-ttu-id="586a9-297">Hatókör</span><span class="sxs-lookup"><span data-stu-id="586a9-297">scope</span></span> |<span data-ttu-id="586a9-298">hello hatókörök mely hello lexikális elem érvénytelen.</span><span class="sxs-lookup"><span data-stu-id="586a9-298">hello scopes for which hello token is valid.</span></span> <span data-ttu-id="586a9-299">Ezek használhatók a gyorsítótárazáshoz jogkivonatok későbbi használatra.</span><span class="sxs-lookup"><span data-stu-id="586a9-299">These can be used for caching tokens for later use.</span></span> |
| <span data-ttu-id="586a9-300">expires_in</span><span class="sxs-lookup"><span data-stu-id="586a9-300">expires_in</span></span> |<span data-ttu-id="586a9-301">Hello, hogy mennyi ideig hello hozzáférési jogkivonat érvénytelen (másodpercben).</span><span class="sxs-lookup"><span data-stu-id="586a9-301">hello length of time that hello access token is valid (in seconds).</span></span> |
| <span data-ttu-id="586a9-302">refresh_token</span><span class="sxs-lookup"><span data-stu-id="586a9-302">refresh_token</span></span> |<span data-ttu-id="586a9-303">Az OAuth 2.0-s frissítési jogkivonat.</span><span class="sxs-lookup"><span data-stu-id="586a9-303">An OAuth 2.0 refresh token.</span></span> <span data-ttu-id="586a9-304">hello app használhatja a token tooacquire további jogkivonatok hello aktuális jogkivonat lejárata után is.</span><span class="sxs-lookup"><span data-stu-id="586a9-304">hello app can use this token tooacquire additional tokens after hello current token expires.</span></span> <span data-ttu-id="586a9-305">Frissítési jogkivonatok hosszú élettartamú, és hosszabb ideig használt tooretain hozzáférés tooresources lehet.</span><span class="sxs-lookup"><span data-stu-id="586a9-305">Refresh tokens are long-lived and can be used tooretain access tooresources for extended periods of time.</span></span> <span data-ttu-id="586a9-306">További részletekért tekintse meg a toohello [B2C-jogkivonatok referenciájából](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="586a9-306">For more details, refer toohello [B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> <span data-ttu-id="586a9-307">Megjegyzés: kell használt hello hatókör `offline_access` hello engedélyezési és token lévő kérelmek rendelés tooreceive egy frissítési jogkivonat.</span><span class="sxs-lookup"><span data-stu-id="586a9-307">Note that you must have used hello scope `offline_access` in both hello authorization and token requests in order tooreceive a refresh token.</span></span> |

<span data-ttu-id="586a9-308">Hibaválaszok a következőhöz hasonló:</span><span class="sxs-lookup"><span data-stu-id="586a9-308">Error responses look like:</span></span>

```
{
    "error": "access_denied",
    "error_description": "hello user revoked access toohello app.",
}
```

| <span data-ttu-id="586a9-309">Paraméter</span><span class="sxs-lookup"><span data-stu-id="586a9-309">Parameter</span></span> | <span data-ttu-id="586a9-310">Leírás</span><span class="sxs-lookup"><span data-stu-id="586a9-310">Description</span></span> |
| --- | --- |
| <span data-ttu-id="586a9-311">error</span><span class="sxs-lookup"><span data-stu-id="586a9-311">error</span></span> |<span data-ttu-id="586a9-312">Lehet, amely lehet használt tooreact tooerrors előforduló hibát használt tooclassify típusú hibakód karakterlánc.</span><span class="sxs-lookup"><span data-stu-id="586a9-312">An error-code string that can be used tooclassify types of errors that occur and that can be used tooreact tooerrors.</span></span> |
| <span data-ttu-id="586a9-313">error_description</span><span class="sxs-lookup"><span data-stu-id="586a9-313">error_description</span></span> |<span data-ttu-id="586a9-314">Egy adott hibaüzenet, amelyek segítségével a fejlesztők hello hitelesítési hiba okának azonosításához.</span><span class="sxs-lookup"><span data-stu-id="586a9-314">A specific error message that can help a developer identify hello root cause of an authentication error.</span></span> |

## <a name="use-hello-token"></a><span data-ttu-id="586a9-315">Hello jogkivonat használata</span><span class="sxs-lookup"><span data-stu-id="586a9-315">Use hello token</span></span>
<span data-ttu-id="586a9-316">Most, hogy olyan hozzáférési jogkivonatot már sikeresen szerezte be, használhatja hello token kérelmek tooyour webes API-k belefoglalja azt hello `Authorization` fejléc:</span><span class="sxs-lookup"><span data-stu-id="586a9-316">Now that you've successfully acquired an access token, you can use hello token in requests tooyour back-end web APIs by including it in hello `Authorization` header:</span></span>

```
GET /tasks
Host: https://mytaskwebapi.com
Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
```

## <a name="refresh-hello-token"></a><span data-ttu-id="586a9-317">Hello token frissítése</span><span class="sxs-lookup"><span data-stu-id="586a9-317">Refresh hello token</span></span>
<span data-ttu-id="586a9-318">Azonosító-jogkivonatokat rövid élettartamú.</span><span class="sxs-lookup"><span data-stu-id="586a9-318">ID tokens are short-lived.</span></span> <span data-ttu-id="586a9-319">Frissítenie kell őket után toocontinue képes tooaccess erőforrások alatt.</span><span class="sxs-lookup"><span data-stu-id="586a9-319">You must refresh them after they expire toocontinue being able tooaccess resources.</span></span> <span data-ttu-id="586a9-320">Megteheti egy másik elküldése `POST` toohello kérelem `/token` végpont.</span><span class="sxs-lookup"><span data-stu-id="586a9-320">You can do so by submitting another `POST` request toohello `/token` endpoint.</span></span> <span data-ttu-id="586a9-321">Most, adja meg a hello `refresh_token` paraméter helyett hello `code` paraméter:</span><span class="sxs-lookup"><span data-stu-id="586a9-321">This time, provide hello `refresh_token` parameter instead of hello `code` parameter:</span></span>

```
POST fabrikamb2c.onmicrosoft.com/oauth2/v2.0/token?p=b2c_1_sign_in HTTP/1.1
Host: https://login.microsoftonline.com
Content-Type: application/x-www-form-urlencoded

grant_type=refresh_token&client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6&scope=openid offline_access&refresh_token=AwABAAAAvPM1KaPlrEqdFSBzjqfTGBCmLdgfSTLEMPGYuNHSUYBrq...&redirect_uri=urn:ietf:wg:oauth:2.0:oob&client_secret=<your-application-secret>
```

| <span data-ttu-id="586a9-322">Paraméter</span><span class="sxs-lookup"><span data-stu-id="586a9-322">Parameter</span></span> | <span data-ttu-id="586a9-323">Szükséges</span><span class="sxs-lookup"><span data-stu-id="586a9-323">Required</span></span> | <span data-ttu-id="586a9-324">Leírás</span><span class="sxs-lookup"><span data-stu-id="586a9-324">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="586a9-325">P</span><span class="sxs-lookup"><span data-stu-id="586a9-325">p</span></span> |<span data-ttu-id="586a9-326">Szükséges</span><span class="sxs-lookup"><span data-stu-id="586a9-326">Required</span></span> |<span data-ttu-id="586a9-327">hello házirend, de a használt tooacquire hello eredeti frissítési jogkivonat.</span><span class="sxs-lookup"><span data-stu-id="586a9-327">hello policy that was used tooacquire hello original refresh token.</span></span> <span data-ttu-id="586a9-328">A kérelem nem használhatja másik szabályt.</span><span class="sxs-lookup"><span data-stu-id="586a9-328">You cannot use a different policy in this request.</span></span> <span data-ttu-id="586a9-329">Vegye figyelembe, hogy hozzáadta a paraméter toohello lekérdezési karakterláncot, nem toohello FELADÁS egy vagy több szervezet.</span><span class="sxs-lookup"><span data-stu-id="586a9-329">Note that you add this parameter toohello query string, not toohello POST body.</span></span> |
| <span data-ttu-id="586a9-330">client_id</span><span class="sxs-lookup"><span data-stu-id="586a9-330">client_id</span></span> |<span data-ttu-id="586a9-331">Szükséges</span><span class="sxs-lookup"><span data-stu-id="586a9-331">Required</span></span> |<span data-ttu-id="586a9-332">hello alkalmazás azonosító adott hello [Azure-portálon](https://portal.azure.com/) tooyour app rendelve.</span><span class="sxs-lookup"><span data-stu-id="586a9-332">hello application ID that hello [Azure portal](https://portal.azure.com/) assigned tooyour app.</span></span> |
| <span data-ttu-id="586a9-333">grant_type</span><span class="sxs-lookup"><span data-stu-id="586a9-333">grant_type</span></span> |<span data-ttu-id="586a9-334">Szükséges</span><span class="sxs-lookup"><span data-stu-id="586a9-334">Required</span></span> |<span data-ttu-id="586a9-335">hello típusa engedély megadása, amelynek hello hitelesítésikód-folyamata ezen szakasza a frissítési jogkivonatot kell lennie.</span><span class="sxs-lookup"><span data-stu-id="586a9-335">hello type of grant, which must be a refresh token for this leg of hello authorization code flow.</span></span> |
| <span data-ttu-id="586a9-336">Hatókör</span><span class="sxs-lookup"><span data-stu-id="586a9-336">scope</span></span> |<span data-ttu-id="586a9-337">Ajánlott</span><span class="sxs-lookup"><span data-stu-id="586a9-337">Recommended</span></span> |<span data-ttu-id="586a9-338">Hatókörök szóközökkel elválasztott listája.</span><span class="sxs-lookup"><span data-stu-id="586a9-338">A space-separated list of scopes.</span></span> <span data-ttu-id="586a9-339">Egy hatókör érték tooAzure AD mindkét kérnek engedélyeket.</span><span class="sxs-lookup"><span data-stu-id="586a9-339">A single scope value indicates tooAzure AD both permissions that are being requested.</span></span> <span data-ttu-id="586a9-340">Hello `openid` hatókör jelzi egy engedély toosign hello felhasználói és az adatok hello felhasználóról azonosító-jogkivonatokat hello formájában.</span><span class="sxs-lookup"><span data-stu-id="586a9-340">hello `openid` scope indicates a permission toosign in hello user and get data about hello user in hello form of ID tokens.</span></span> <span data-ttu-id="586a9-341">Használt tooget jogkivonatok tooyour alkalmazás saját háttér-webes API-t, amely hello által képviselt azok hello ügyfél ugyanazon alkalmazás azonosítója.</span><span class="sxs-lookup"><span data-stu-id="586a9-341">It can be used tooget tokens tooyour app's own back-end web API, which is represented by hello same application ID as hello client.</span></span> <span data-ttu-id="586a9-342">Hello `offline_access` hatókör azt jelzi, hogy az alkalmazás a hosszú élettartamú hozzáférés tooresources kell egy frissítési jogkivonat.</span><span class="sxs-lookup"><span data-stu-id="586a9-342">hello `offline_access` scope indicates that your app will need a refresh token for long-lived access tooresources.</span></span> |
| <span data-ttu-id="586a9-343">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="586a9-343">redirect_uri</span></span> |<span data-ttu-id="586a9-344">Ajánlott</span><span class="sxs-lookup"><span data-stu-id="586a9-344">Recommended</span></span> |<span data-ttu-id="586a9-345">Hello `redirect_uri` paraméter hello alkalmazás, amelyre hello engedélyezési kód kapta.</span><span class="sxs-lookup"><span data-stu-id="586a9-345">hello `redirect_uri` parameter of hello application where you received hello authorization code.</span></span> |
| <span data-ttu-id="586a9-346">refresh_token</span><span class="sxs-lookup"><span data-stu-id="586a9-346">refresh_token</span></span> |<span data-ttu-id="586a9-347">Szükséges</span><span class="sxs-lookup"><span data-stu-id="586a9-347">Required</span></span> |<span data-ttu-id="586a9-348">hello eredeti frissítési jogkivonat hello folyamat második szakasza hello beszerzett.</span><span class="sxs-lookup"><span data-stu-id="586a9-348">hello original refresh token that you acquired in hello second leg of hello flow.</span></span> <span data-ttu-id="586a9-349">Megjegyzés: kell használt hello hatókör `offline_access` hello engedélyezési és token lévő kérelmek rendelés tooreceive egy frissítési jogkivonat.</span><span class="sxs-lookup"><span data-stu-id="586a9-349">Note that you must have used hello scope `offline_access` in both hello authorization and token requests in order tooreceive a refresh token.</span></span> |
| <span data-ttu-id="586a9-350">client_secret</span><span class="sxs-lookup"><span data-stu-id="586a9-350">client_secret</span></span> |<span data-ttu-id="586a9-351">Szükséges</span><span class="sxs-lookup"><span data-stu-id="586a9-351">Required</span></span> |<span data-ttu-id="586a9-352">hello létrehozott hello alkalmazáskulcsot [Azure-portálon](https://portal.azure.com/).</span><span class="sxs-lookup"><span data-stu-id="586a9-352">hello application secret that you generated in hello [Azure portal](https://portal.azure.com/).</span></span> <span data-ttu-id="586a9-353">Ez az alkalmazástitkok fontos biztonsági összetevő.</span><span class="sxs-lookup"><span data-stu-id="586a9-353">This application secret is an important security artifact.</span></span> <span data-ttu-id="586a9-354">Meg kell tárolja biztonságos helyen a kiszolgálón.</span><span class="sxs-lookup"><span data-stu-id="586a9-354">You should store it securely on your server.</span></span> <span data-ttu-id="586a9-355">Az ügyfélkulcs rendszeres időközönként elforgatása is kell.</span><span class="sxs-lookup"><span data-stu-id="586a9-355">You should also rotate this client secret on a periodic basis.</span></span> |

<span data-ttu-id="586a9-356">A sikeres token válasz néz ki:</span><span class="sxs-lookup"><span data-stu-id="586a9-356">A successful token response looks like:</span></span>

```
{
    "not_before": "1442340812",
    "token_type": "Bearer",
    "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...",
    "scope": "90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access",
    "expires_in": "3600",
    "refresh_token": "AAQfQmvuDy8WtUv-sd0TBwWVQs1rC-Lfxa_NDkLqpg50Cxp5Dxj0VPF1mx2Z...",
}
```
| <span data-ttu-id="586a9-357">Paraméter</span><span class="sxs-lookup"><span data-stu-id="586a9-357">Parameter</span></span> | <span data-ttu-id="586a9-358">Leírás</span><span class="sxs-lookup"><span data-stu-id="586a9-358">Description</span></span> |
| --- | --- |
| <span data-ttu-id="586a9-359">not_before</span><span class="sxs-lookup"><span data-stu-id="586a9-359">not_before</span></span> |<span data-ttu-id="586a9-360">hello idő, mely hello jogkivonat érvényes, időbeli kortartományon.</span><span class="sxs-lookup"><span data-stu-id="586a9-360">hello time at which hello token is considered valid, in epoch time.</span></span> |
| <span data-ttu-id="586a9-361">token_type</span><span class="sxs-lookup"><span data-stu-id="586a9-361">token_type</span></span> |<span data-ttu-id="586a9-362">hello token objektumtípus-érték.</span><span class="sxs-lookup"><span data-stu-id="586a9-362">hello token type value.</span></span> <span data-ttu-id="586a9-363">csak olyan típusú, amely az Azure AD által támogatott hello `Bearer`.</span><span class="sxs-lookup"><span data-stu-id="586a9-363">hello only type that Azure AD supports is `Bearer`.</span></span> |
| <span data-ttu-id="586a9-364">access_token</span><span class="sxs-lookup"><span data-stu-id="586a9-364">access_token</span></span> |<span data-ttu-id="586a9-365">hello az Ön által kért JWT jogkivonat aláírása.</span><span class="sxs-lookup"><span data-stu-id="586a9-365">hello signed JWT token that you requested.</span></span> |
| <span data-ttu-id="586a9-366">Hatókör</span><span class="sxs-lookup"><span data-stu-id="586a9-366">scope</span></span> |<span data-ttu-id="586a9-367">hello hatókör, amely a hello token esetén érvényes, gyorsítótárazás későbbi használatra jogkivonatok használható.</span><span class="sxs-lookup"><span data-stu-id="586a9-367">hello scope that hello token is valid for, which can be used for caching tokens for later use.</span></span> |
| <span data-ttu-id="586a9-368">expires_in</span><span class="sxs-lookup"><span data-stu-id="586a9-368">expires_in</span></span> |<span data-ttu-id="586a9-369">Hello, hogy mennyi ideig hello hozzáférési jogkivonat érvénytelen (másodpercben).</span><span class="sxs-lookup"><span data-stu-id="586a9-369">hello length of time that hello access token is valid (in seconds).</span></span> |
| <span data-ttu-id="586a9-370">refresh_token</span><span class="sxs-lookup"><span data-stu-id="586a9-370">refresh_token</span></span> |<span data-ttu-id="586a9-371">Az OAuth 2.0-s frissítési jogkivonat.</span><span class="sxs-lookup"><span data-stu-id="586a9-371">An OAuth 2.0 refresh token.</span></span> <span data-ttu-id="586a9-372">hello app használhatja a token tooacquire további jogkivonatok hello aktuális jogkivonat lejárata után is.</span><span class="sxs-lookup"><span data-stu-id="586a9-372">hello app can use this token tooacquire additional tokens after hello current token expires.</span></span>  <span data-ttu-id="586a9-373">Frissítési jogkivonatok hosszú élettartamú, és hosszabb ideig használt tooretain hozzáférés tooresources lehet.</span><span class="sxs-lookup"><span data-stu-id="586a9-373">Refresh tokens are long-lived and can be used tooretain access tooresources for extended periods of time.</span></span> <span data-ttu-id="586a9-374">További részletekért tekintse meg a toohello [B2C-jogkivonatok referenciájából](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="586a9-374">For more detail, refer toohello [B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> |

<span data-ttu-id="586a9-375">Hibaválaszok a következőhöz hasonló:</span><span class="sxs-lookup"><span data-stu-id="586a9-375">Error responses look like:</span></span>

```
{
    "error": "access_denied",
    "error_description": "hello user revoked access toohello app.",
}
```

| <span data-ttu-id="586a9-376">Paraméter</span><span class="sxs-lookup"><span data-stu-id="586a9-376">Parameter</span></span> | <span data-ttu-id="586a9-377">Leírás</span><span class="sxs-lookup"><span data-stu-id="586a9-377">Description</span></span> |
| --- | --- |
| <span data-ttu-id="586a9-378">error</span><span class="sxs-lookup"><span data-stu-id="586a9-378">error</span></span> |<span data-ttu-id="586a9-379">Lehet, amely lehet használt tooreact tooerrors előforduló hibát használt tooclassify típusú hibakód karakterlánc.</span><span class="sxs-lookup"><span data-stu-id="586a9-379">An error-code string that can be used tooclassify types of errors that occur and that can be used tooreact tooerrors.</span></span> |
| <span data-ttu-id="586a9-380">error_description</span><span class="sxs-lookup"><span data-stu-id="586a9-380">error_description</span></span> |<span data-ttu-id="586a9-381">Egy adott hibaüzenet, amelyek segítségével a fejlesztők hello hitelesítési hiba okának azonosításához.</span><span class="sxs-lookup"><span data-stu-id="586a9-381">A specific error message that can help a developer identify hello root cause of an authentication error.</span></span> |

## <a name="send-a-sign-out-request"></a><span data-ttu-id="586a9-382">Kijelentkezési kérés küldése</span><span class="sxs-lookup"><span data-stu-id="586a9-382">Send a sign-out request</span></span>
<span data-ttu-id="586a9-383">Ha azt szeretné, hogy toosign hello felhasználói hello alkalmazásból, az nem elég tooclear az alkalmazás cookie-k és az egyéb utolsó hello hello felhasználói munkamenetet.</span><span class="sxs-lookup"><span data-stu-id="586a9-383">When you want toosign hello user out of hello app, it is not enough tooclear your app's cookies or otherwise end hello session with hello user.</span></span> <span data-ttu-id="586a9-384">Hello felhasználói tooAzure AD toosign ki is irányíthatja át. Ha így sem működik a toodo, hello felhasználói lehet képes tooreauthenticate tooyour app hitelesítő adataikkal ismételt beírása nélkül.</span><span class="sxs-lookup"><span data-stu-id="586a9-384">You must also redirect hello user tooAzure AD toosign out. If you fail toodo so, hello user might be able tooreauthenticate tooyour app without entering their credentials again.</span></span> <span data-ttu-id="586a9-385">Ennek az az oka érvényes egyszeri bejelentkezés munkamenetet az Azure ad-val rendelkeznek.</span><span class="sxs-lookup"><span data-stu-id="586a9-385">This is because they will have a valid single sign-on session with Azure AD.</span></span>

<span data-ttu-id="586a9-386">Egyszerűen átirányíthatók hello felhasználói toohello `end_session` hello a korábban ismertetett végpont szerepel-e hello OpenID Connect metaadat-dokumentum "Hello azonosító token ellenőrzése" szakaszában:</span><span class="sxs-lookup"><span data-stu-id="586a9-386">You can simply redirect hello user toohello `end_session` endpoint that is listed in hello OpenID Connect metadata document described earlier in hello "Validate hello ID token" section:</span></span>

```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/logout?
p=b2c_1_sign_in
&post_logout_redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
```

| <span data-ttu-id="586a9-387">Paraméter</span><span class="sxs-lookup"><span data-stu-id="586a9-387">Parameter</span></span> | <span data-ttu-id="586a9-388">Kötelező?</span><span class="sxs-lookup"><span data-stu-id="586a9-388">Required?</span></span> | <span data-ttu-id="586a9-389">Leírás</span><span class="sxs-lookup"><span data-stu-id="586a9-389">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="586a9-390">P</span><span class="sxs-lookup"><span data-stu-id="586a9-390">p</span></span> |<span data-ttu-id="586a9-391">Szükséges</span><span class="sxs-lookup"><span data-stu-id="586a9-391">Required</span></span> |<span data-ttu-id="586a9-392">hello házirend, amelyet az toouse toosign hello felhasználói kívül az alkalmazást.</span><span class="sxs-lookup"><span data-stu-id="586a9-392">hello policy that you want toouse toosign hello user out of your application.</span></span> |
| <span data-ttu-id="586a9-393">post_logout_redirect_uri</span><span class="sxs-lookup"><span data-stu-id="586a9-393">post_logout_redirect_uri</span></span> |<span data-ttu-id="586a9-394">Ajánlott</span><span class="sxs-lookup"><span data-stu-id="586a9-394">Recommended</span></span> |<span data-ttu-id="586a9-395">hello URL hello felhasználó kell átirányított tooafter sikeres kijelentkezési. Ha nincs megadva, az Azure AD B2C hello felhasználói egy általános üzenetet jelenít meg.</span><span class="sxs-lookup"><span data-stu-id="586a9-395">hello URL that hello user should be redirected tooafter successful sign-out. If it is not included, Azure AD B2C shows hello user a generic message.</span></span> |

> [!NOTE]
> <span data-ttu-id="586a9-396">Bár arra utasíthatja a hello felhasználói toohello `end_session` végpont törölni fogja a néhány hello felhasználó állapotának egyszeri bejelentkezés az Azure AD B2C, nem a hello felhasználói kívül a közösségi identity provider (IDP) munkamenet alá fogja írni.</span><span class="sxs-lookup"><span data-stu-id="586a9-396">Although directing hello user toohello `end_session` endpoint will clear some of hello user's single sign-on state with Azure AD B2C, it will not sign hello user out of their social identity provider (IDP) session.</span></span> <span data-ttu-id="586a9-397">Ha hello kijelölés ugyanahhoz az IDP hello későbbi bejelentkezés során, akkor lesz hitelesíthető, a hitelesítő adatok megadása nélkül.</span><span class="sxs-lookup"><span data-stu-id="586a9-397">If hello user selects hello same IDP during a subsequent sign-in, they will be reauthenticated, without entering their credentials.</span></span> <span data-ttu-id="586a9-398">Ha egy felhasználó a B2C alkalmazás kívül toosign azt szeretné, akkor nem feltétlenül jelenti meg kívánják-toosign kívül a Facebook-fiókkal.</span><span class="sxs-lookup"><span data-stu-id="586a9-398">If a user wants toosign out of your B2C application, it does not necessarily mean they want toosign out of their Facebook account.</span></span> <span data-ttu-id="586a9-399">Azonban a helyi fiókok esetében hello, hello felhasználói munkamenet véget ér megfelelően.</span><span class="sxs-lookup"><span data-stu-id="586a9-399">However, in hello case of local accounts, hello user's session will be ended properly.</span></span>
> 
> 

## <a name="use-your-own-b2c-tenant"></a><span data-ttu-id="586a9-400">A saját B2C-bérlő használata</span><span class="sxs-lookup"><span data-stu-id="586a9-400">Use your own B2C tenant</span></span>
<span data-ttu-id="586a9-401">Ha azt szeretné, tootry ezeket a kéréseket a szolgáltatást, először hajtsa végre a fenti három lépést, és az majd cserélje le az Ön által korábban leírt hello példaértékek:</span><span class="sxs-lookup"><span data-stu-id="586a9-401">If you want tootry these requests for yourself, you must first perform these three steps, and then replace hello example values described earlier with your own:</span></span>

1. <span data-ttu-id="586a9-402">[A B2C bérlő létrehozása](active-directory-b2c-get-started.md), és a bérlő hello nevét használja hello kérésekben.</span><span class="sxs-lookup"><span data-stu-id="586a9-402">[Create a B2C tenant](active-directory-b2c-get-started.md), and use hello name of your tenant in hello requests.</span></span>
2. <span data-ttu-id="586a9-403">[Hozzon létre egy alkalmazást](active-directory-b2c-app-registration.md) tooobtain egy azonosítót.</span><span class="sxs-lookup"><span data-stu-id="586a9-403">[Create an application](active-directory-b2c-app-registration.md) tooobtain an application ID.</span></span> <span data-ttu-id="586a9-404">Vegye fel az alkalmazás egy webes vagy webes API-t.</span><span class="sxs-lookup"><span data-stu-id="586a9-404">Include a web app/web API in your app.</span></span> <span data-ttu-id="586a9-405">Szükség esetén hozzon létre egy alkalmazás titkos kulcs.</span><span class="sxs-lookup"><span data-stu-id="586a9-405">Optionally, create an application secret.</span></span>
3. <span data-ttu-id="586a9-406">[A házirendek létrehozása](active-directory-b2c-reference-policies.md) tooobtain a házirend nevét.</span><span class="sxs-lookup"><span data-stu-id="586a9-406">[Create your policies](active-directory-b2c-reference-policies.md) tooobtain your policy names.</span></span>

