---
title: "Az Azure Active Directory B2C: Lexikális elem: referencia |} Microsoft Docs"
description: "az Azure Active Directory B2C kiállított jogkivonatokat hello típusai"
services: active-directory-b2c
documentationcenter: 
author: dstrockis
manager: mbaldwin
editor: 
ms.assetid: 6df79878-65cb-4dfc-98bb-2b328055bc2e
ms.service: active-directory-b2c
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 3/17/2017
ms.author: dastrock
ms.openlocfilehash: 776bc88cc0308875ac6e576f19ac9edf50319d08
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="azure-ad-b2c-token-reference"></a><span data-ttu-id="017a0-103">Az Azure AD B2C: Token referencia</span><span class="sxs-lookup"><span data-stu-id="017a0-103">Azure AD B2C: Token reference</span></span>
<span data-ttu-id="017a0-104">Az Azure Active Directory B2C (az Azure AD B2C) számos különböző típusú biztonsági jogkivonatokat bocsát ki, amint az feldolgozza azokat egyes [hitelesítési folyamat](active-directory-b2c-apps.md).</span><span class="sxs-lookup"><span data-stu-id="017a0-104">Azure Active Directory B2C (Azure AD B2C) emits several types of security tokens as it processes each [authentication flow](active-directory-b2c-apps.md).</span></span> <span data-ttu-id="017a0-105">Ez a dokumentum ismerteti a hello formátumát, a biztonsági jellemzőkkel és a különböző típusú lexikális elem tartalmát.</span><span class="sxs-lookup"><span data-stu-id="017a0-105">This document describes hello format, security characteristics, and contents of each type of token.</span></span>

## <a name="types-of-tokens"></a><span data-ttu-id="017a0-106">A jogkivonatok típusok</span><span class="sxs-lookup"><span data-stu-id="017a0-106">Types of tokens</span></span>
<span data-ttu-id="017a0-107">Az Azure AD B2C támogatja hello [OAuth 2.0 protokoll](active-directory-b2c-reference-protocols.md), amely él mindkét hozzáférési jogkivonatok és frissítési jogkivonatok.</span><span class="sxs-lookup"><span data-stu-id="017a0-107">Azure AD B2C supports hello [OAuth 2.0 authorization protocol](active-directory-b2c-reference-protocols.md), which makes use of both access tokens and refresh tokens.</span></span> <span data-ttu-id="017a0-108">Is támogatja a hitelesítés és bejelentkezés keresztül [OpenID Connect](active-directory-b2c-reference-protocols.md), amely bevezet egy harmadik típusú jogkivonat: hello azonosító token.</span><span class="sxs-lookup"><span data-stu-id="017a0-108">It also supports authentication and sign-in via [OpenID Connect](active-directory-b2c-reference-protocols.md), which introduces a third type of token: hello ID token.</span></span> <span data-ttu-id="017a0-109">Egyes ezeket a jogkivonatokat tulajdonosi jogkivonattal jelzi.</span><span class="sxs-lookup"><span data-stu-id="017a0-109">Each of these tokens is represented as a bearer token.</span></span>

<span data-ttu-id="017a0-110">Egy tulajdonosi jogkivonatot egy egyszerűsített biztonsági jogkivonatot, hogy biztosít hello "tulajdonos" hozzáférési tooa erőforrás védelemmel ellátva.</span><span class="sxs-lookup"><span data-stu-id="017a0-110">A bearer token is a lightweight security token that grants hello "bearer" access tooa protected resource.</span></span> <span data-ttu-id="017a0-111">hello tulajdonosi, akik hello token félre.</span><span class="sxs-lookup"><span data-stu-id="017a0-111">hello bearer is any party that can present hello token.</span></span> <span data-ttu-id="017a0-112">Az Azure AD először hitelesíteniük kell egy entitás előtt megkaphatja a tulajdonosi jogkivonattal.</span><span class="sxs-lookup"><span data-stu-id="017a0-112">Azure AD must first authenticate a party before it can receive a bearer token.</span></span> <span data-ttu-id="017a0-113">De ha hello szükséges lépések nem veszi toosecure hello lexikális elem szerepel az átvitel és a tárolási, azt is hozzá és egy nem kívánt entitás használja.</span><span class="sxs-lookup"><span data-stu-id="017a0-113">But if hello required steps are not taken toosecure hello token in transmission and storage, it can be intercepted and used by an unintended party.</span></span> <span data-ttu-id="017a0-114">Néhány biztonsági jogkivonatokat rendelkezik egy olyan beépített mechanizmus meggátolja, hogy a nem hitelesített felek használja őket, de tulajdonosi jogkivonatok nem rendelkezik a mechanizmus.</span><span class="sxs-lookup"><span data-stu-id="017a0-114">Some security tokens have a built-in mechanism for preventing unauthorized parties from using them, but bearer tokens do not have this mechanism.</span></span> <span data-ttu-id="017a0-115">Azok a biztonságos csatornákat, például a transport layer security (HTTPS) kell szállítani.</span><span class="sxs-lookup"><span data-stu-id="017a0-115">They must be transported in a secure channel, such as transport layer security (HTTPS).</span></span>

<span data-ttu-id="017a0-116">Egy tulajdonosi jogkivonatot kívül egy biztonságos csatornán kerül továbbításra, ha egy rosszindulatú entitás-átjárójának támadás tooacquire hello jogkivonatot használja, és toogain jogosulatlan hozzáférés tooa védett erőforrás használja.</span><span class="sxs-lookup"><span data-stu-id="017a0-116">If a bearer token is transmitted outside a secure channel, a malicious party can use a man-in-the-middle attack tooacquire hello token and use it toogain unauthorized access tooa protected resource.</span></span> <span data-ttu-id="017a0-117">hello ugyanazt biztonsági elveket alkalmazza, ha a tulajdonosi jogkivonatok tárolt és gyorsítótárba helyezni későbbi használat.</span><span class="sxs-lookup"><span data-stu-id="017a0-117">hello same security principles apply when bearer tokens are stored or cached for later use.</span></span> <span data-ttu-id="017a0-118">Mindig győződjön meg arról, hogy az alkalmazás továbbítja, és biztonságos módon tárolja a tulajdonosi jogkivonatokhoz.</span><span class="sxs-lookup"><span data-stu-id="017a0-118">Always ensure that your app transmits and stores bearer tokens in a secure manner.</span></span>

<span data-ttu-id="017a0-119">További biztonsági szempontok a tulajdonosi jogkivonatok, lásd: [RFC 6750 szakasz 5](http://tools.ietf.org/html/rfc6750).</span><span class="sxs-lookup"><span data-stu-id="017a0-119">For additional security considerations on bearer tokens, see [RFC 6750 Section 5](http://tools.ietf.org/html/rfc6750).</span></span>

<span data-ttu-id="017a0-120">Hello jogkivonatokat állít ki az Azure AD B2C számos használják, mint a JSON webes jogkivonatok (JWTs).</span><span class="sxs-lookup"><span data-stu-id="017a0-120">Many of hello tokens that Azure AD B2C issues are implemented as JSON web tokens (JWTs).</span></span> <span data-ttu-id="017a0-121">Jwt-t egy kompakt biztonságos URL-címet a eszközöket információk átvitele a két fél között.</span><span class="sxs-lookup"><span data-stu-id="017a0-121">A JWT is a compact, URL-safe means of transferring information between two parties.</span></span> <span data-ttu-id="017a0-122">JWTs jogcímekként ismert információkat tartalmaznak.</span><span class="sxs-lookup"><span data-stu-id="017a0-122">JWTs contain information known as claims.</span></span> <span data-ttu-id="017a0-123">Ezek a helyességi feltételek hello tulajdonosi információinak és hello tulajdonos hello jogkivonat.</span><span class="sxs-lookup"><span data-stu-id="017a0-123">These are assertions of information about hello bearer and hello subject of hello token.</span></span> <span data-ttu-id="017a0-124">a rendszer kódolása, és a továbbításra szerializált JSON-objektumok a JWTs hello jogcímeket.</span><span class="sxs-lookup"><span data-stu-id="017a0-124">hello claims in JWTs are JSON objects that are encoded and serialized for transmission.</span></span> <span data-ttu-id="017a0-125">Az Azure AD B2C által kibocsátott JWTs hello aláírt, de nincs titkosítva, mert könnyen vizsgálhatja meg a JWT toodebug hello tartalmát azt.</span><span class="sxs-lookup"><span data-stu-id="017a0-125">Because hello JWTs issued by Azure AD B2C are signed but not encrypted, you can easily inspect hello contents of a JWT toodebug it.</span></span> <span data-ttu-id="017a0-126">Több eszközök érhetők el, amely ehhez, beleértve a [calebb.net](http://calebb.net).</span><span class="sxs-lookup"><span data-stu-id="017a0-126">Several tools are available that can do this, including [calebb.net](http://calebb.net).</span></span> <span data-ttu-id="017a0-127">JWTs kapcsolatos további információkért tekintse meg túl[JWT specifikációk](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html).</span><span class="sxs-lookup"><span data-stu-id="017a0-127">For more information about JWTs, refer too[JWT specifications](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html).</span></span>

### <a name="id-tokens"></a><span data-ttu-id="017a0-128">Azonosító-jogkivonatokat</span><span class="sxs-lookup"><span data-stu-id="017a0-128">ID tokens</span></span>
<span data-ttu-id="017a0-129">Egy azonosító jogkivonat a biztonsági jogkivonatot, amely az alkalmazás fogad az Azure AD B2C hello egy formája, amely `authorize` és `token` végpontok.</span><span class="sxs-lookup"><span data-stu-id="017a0-129">An ID token is a form of security token that your app receives from hello Azure AD B2C `authorize` and `token` endpoints.</span></span> <span data-ttu-id="017a0-130">Azonosító-jogkivonatokat helyettesítik [JWTs](#types-of-tokens), és használható tooidentify felhasználók a saját alkalmazásában jogcímeket tartalmaznak.</span><span class="sxs-lookup"><span data-stu-id="017a0-130">ID tokens are represented as [JWTs](#types-of-tokens), and they contain claims that you can use tooidentify users in your app.</span></span> <span data-ttu-id="017a0-131">Ha azonosító-jogkivonatokat szerezni hello `authorize` végpontot, azok gyakran használt toosign felhasználók tooweb alkalmazásokban.</span><span class="sxs-lookup"><span data-stu-id="017a0-131">When ID tokens are acquired from hello `authorize` endpoint, they are often used toosign in users tooweb applications.</span></span> <span data-ttu-id="017a0-132">Ha azonosító-jogkivonatokat szerezni hello `token` végpont, küldheti a HTTP-kérelmek hello két összetevői közötti kommunikáció során azonos alkalmazást vagy szolgáltatást.</span><span class="sxs-lookup"><span data-stu-id="017a0-132">When ID tokens are acquired from hello `token` endpoint, they can be sent in HTTP requests during communication between two components of hello same application or service.</span></span> <span data-ttu-id="017a0-133">Hello jogcímek használata egy Azonosítót jogkivonatban igényei szerint.</span><span class="sxs-lookup"><span data-stu-id="017a0-133">You can use hello claims in an ID token as you see fit.</span></span> <span data-ttu-id="017a0-134">Azok a gyakran használt toodisplay fiók információkat vagy toomake hozzáférés-vezérlési döntéseket alkalmazásban.</span><span class="sxs-lookup"><span data-stu-id="017a0-134">They are commonly used toodisplay account information or toomake access control decisions in an app.</span></span>  

<span data-ttu-id="017a0-135">Azonosító-jogkivonatokat írt alá, de jelenleg nincsenek titkosítva.</span><span class="sxs-lookup"><span data-stu-id="017a0-135">ID tokens are signed, but they are not currently encrypted.</span></span> <span data-ttu-id="017a0-136">Ha az alkalmazás vagy API kap egy azonosító jogkivonatot, kell [hello aláírás érvényesítése](#token-validation) , amely a hello token tooprove hiteles.</span><span class="sxs-lookup"><span data-stu-id="017a0-136">When your app or API receives an ID token, it must [validate hello signature](#token-validation) tooprove that hello token is authentic.</span></span> <span data-ttu-id="017a0-137">Az alkalmazás vagy API is ellenőrizni kell néhány jogcím szerepel hello token tooprove adatok érvényességét.</span><span class="sxs-lookup"><span data-stu-id="017a0-137">Your app or API must also validate a few claims in hello token tooprove that it is valid.</span></span> <span data-ttu-id="017a0-138">Hello forgatókönyv-követelményeinek, attól függően, hogy az alkalmazás által érvényesített hello jogcímek eltérőek lehetnek, de az alkalmazás kell végeznie néhány [közös jogcím érvényesítést](#token-validation) minden forgatókönyvben.</span><span class="sxs-lookup"><span data-stu-id="017a0-138">Depending on hello scenario requirements, hello claims validated by an app can vary, but your app must perform some [common claim validations](#token-validation) in every scenario.</span></span>

#### <a name="sample-id-token"></a><span data-ttu-id="017a0-139">Minta azonosító tokent</span><span class="sxs-lookup"><span data-stu-id="017a0-139">Sample ID token</span></span>
```
// Line breaks for display purposes only

eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IklkVG9rZW5TaWduaW5nS2V5Q29udGFpbmVyIn0.
eyJleHAiOjE0NDIzNjAwMzQsIm5iZiI6MTQ0MjM1NjQzNCwidmVyIjoiMS4wIiwiaXNzIjoiaHR0cHM6Ly9s
b2dpbi5taWNyb3NvZnRvbmxpbmUuY29tLzc3NTUyN2ZmLTlhMzctNDMwNy04YjNkLWNjMzExZjU4ZDkyNS92
Mi4wLyIsImFjciI6ImIyY18xX3NpZ25faW5fc3RvY2siLCJzdWIiOiJOb3Qgc3VwcG9ydGVkIGN1cnJlbnRs
eS4gVXNlIG9pZCBjbGFpbS4iLCJhdWQiOiI5MGMwZmU2My1iY2YyLTQ0ZDUtOGZiNy1iOGJiYzBiMjlkYzYi
LCJpYXQiOjE0NDIzNTY0MzQsImF1dGhfdGltZSI6MTQ0MjM1NjQzNCwiaWRwIjoiZmFjZWJvb2suY29tIn0.
h-uiKcrT882pSKUtWCpj-_3b3vPs3bOWsESAhPMrL-iIIacKc6_uZrWxaWvIYkLra5czBcGKWrYwrAC8ZvQe
DJWZ50WXQrZYODEW1OUwzaD_I1f1HE0c2uvaWdGXBpDEVdsD3ExKaFlKGjFR2V7F-fPThkVDdKmkUDQX3bVc
yyj2V2nlCQ9jd7aGnokTPfLfpOjuIrTsAdPcGpe5hfSEuwYDmqOJjGs9Jp1f-eSNEiCDQOaTBSvr479L5ptP
XWeQZyX2SypN05Rjr05bjZh3j70ZUimiocfJzjibeoDCaQTz907yAg91WYuFOrQxb-5BaUoR7K-O7vxr2M-_
CQhoFA

```

### <a name="access-tokens"></a><span data-ttu-id="017a0-140">Hozzáférési jogkivonatok</span><span class="sxs-lookup"><span data-stu-id="017a0-140">Access tokens</span></span>
<span data-ttu-id="017a0-141">Olyan hozzáférési jogkivonatot is egy formája, amely a biztonsági jogkivonatot, amely az alkalmazás fogad az Azure AD B2C hello `authorize` és `token` végpontok.</span><span class="sxs-lookup"><span data-stu-id="017a0-141">An access token is also a form of security token that your app receives from hello Azure AD B2C `authorize` and `token` endpoints.</span></span> <span data-ttu-id="017a0-142">Hozzáférési jogkivonatok is helyettesítik [JWTs](#types-of-tokens), és használható tooidentify hello engedélyek tooyour API-k kap jogcímeket tartalmaznak.</span><span class="sxs-lookup"><span data-stu-id="017a0-142">Access tokens are also represented as [JWTs](#types-of-tokens), and they contain claims that you can use tooidentify hello granted permissions tooyour APIs.</span></span> <span data-ttu-id="017a0-143">Hozzáférési jogkivonatok írt alá, de jelenleg nincsenek titkosítva.</span><span class="sxs-lookup"><span data-stu-id="017a0-143">Access tokens are signed, but they are not currently encrypted.</span></span> <span data-ttu-id="017a0-144">Hozzáférési jogkivonatok használt tooprovide access tooAPIs és erőforrás-kiszolgálóknak kell lennie.</span><span class="sxs-lookup"><span data-stu-id="017a0-144">Access tokens should be used tooprovide access tooAPIs and resource servers.</span></span> <span data-ttu-id="017a0-145">További tudnivalók túl[használja a hozzáférési jogkivonatok](active-directory-b2c-access-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="017a0-145">Learn more about how too[use access tokens](active-directory-b2c-access-tokens.md).</span></span> 

<span data-ttu-id="017a0-146">Ha az API-t kap egy hozzáférési jogkivonatot, kell [hello aláírás érvényesítése](#token-validation) , amely a hello token tooprove hiteles.</span><span class="sxs-lookup"><span data-stu-id="017a0-146">When your API receives an access token, it must [validate hello signature](#token-validation) tooprove that hello token is authentic.</span></span> <span data-ttu-id="017a0-147">Az API-t is ellenőrizni kell néhány jogcím szerepel hello token tooprove adatok érvényességét.</span><span class="sxs-lookup"><span data-stu-id="017a0-147">Your API must also validate a few claims in hello token tooprove that it is valid.</span></span> <span data-ttu-id="017a0-148">Hello forgatókönyv-követelményeinek, attól függően, hogy az alkalmazás által érvényesített hello jogcímek eltérőek lehetnek, de az alkalmazás kell végeznie néhány [közös jogcím érvényesítést](#token-validation) minden forgatókönyvben.</span><span class="sxs-lookup"><span data-stu-id="017a0-148">Depending on hello scenario requirements, hello claims validated by an app can vary, but your app must perform some [common claim validations](#token-validation) in every scenario.</span></span>

### <a name="claims-in-id-and-access-tokens"></a><span data-ttu-id="017a0-149">Az ID és a hozzáférési jogkivonatok jogcímek</span><span class="sxs-lookup"><span data-stu-id="017a0-149">Claims in ID and access tokens</span></span>
<span data-ttu-id="017a0-150">Az Azure AD B2C használatakor befolyásolni részletes a tokenek hello tartalmát.</span><span class="sxs-lookup"><span data-stu-id="017a0-150">When you use Azure AD B2C, you have fine-grained control over hello content of your tokens.</span></span> <span data-ttu-id="017a0-151">Konfigurálható [házirendek](active-directory-b2c-reference-policies.md) bizonyos toosend állítja be az alkalmazás a műveleteket igényel jogcímeket a felhasználói adatok.</span><span class="sxs-lookup"><span data-stu-id="017a0-151">You can configure [policies](active-directory-b2c-reference-policies.md) toosend certain sets of user data in claims that your app requires for its operations.</span></span> <span data-ttu-id="017a0-152">Ezek a jogcímek tartalmazhatják szabványos tulajdonságait, például hello felhasználói `displayName` és `emailAddress`.</span><span class="sxs-lookup"><span data-stu-id="017a0-152">These claims can include standard properties such as hello user's `displayName` and `emailAddress`.</span></span> <span data-ttu-id="017a0-153">Tartalmazhatják [felhasználói egyéni attribútumok](active-directory-b2c-reference-custom-attr.md) megadható a B2C-címtárban.</span><span class="sxs-lookup"><span data-stu-id="017a0-153">They can also include [custom user attributes](active-directory-b2c-reference-custom-attr.md) that you can define in your B2C directory.</span></span> <span data-ttu-id="017a0-154">Minden azonosítója és a hozzáférési jogkivonatot kapott biztonsági jogcímek az egyes készletét tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="017a0-154">Every ID and access token that you receive contains a certain set of security-related claims.</span></span> <span data-ttu-id="017a0-155">Az alkalmazások használhatják ezeket a jogcímeket toosecurely felhasználók és a kérelmek hitelesítéséhez.</span><span class="sxs-lookup"><span data-stu-id="017a0-155">Your applications can use these claims toosecurely authenticate users and requests.</span></span>

<span data-ttu-id="017a0-156">Figyelje meg, hogy bármely adott sorrendben nem lehet megjeleníteni a azonosító-jogkivonatokat hello jogcímeket.</span><span class="sxs-lookup"><span data-stu-id="017a0-156">Note that hello claims in ID tokens are not returned in any particular order.</span></span> <span data-ttu-id="017a0-157">Emellett új jogcímeket is bevezetni azonosító-jogkivonatokat bármikor.</span><span class="sxs-lookup"><span data-stu-id="017a0-157">In addition, new claims can be introduced in ID tokens at any time.</span></span> <span data-ttu-id="017a0-158">Az alkalmazás nem kell törés az új jogcímeket belépéskor.</span><span class="sxs-lookup"><span data-stu-id="017a0-158">Your app should not break as new claims are introduced.</span></span> <span data-ttu-id="017a0-159">Az alábbiakban a hello jogcím-azonosító és a hozzáférési jogkivonatok az Azure AD B2C által kibocsátott tooexist várt.</span><span class="sxs-lookup"><span data-stu-id="017a0-159">Here are hello claims that you expect tooexist in ID and access tokens issued by Azure AD B2C.</span></span> <span data-ttu-id="017a0-160">További jogcímeket házirendek határozzák meg.</span><span class="sxs-lookup"><span data-stu-id="017a0-160">Any additional claims are determined by policies.</span></span> <span data-ttu-id="017a0-161">Eljárás, próbálja ki hello jogcímek hello minta Azonosítót jogkivonatban ellenőrzése illeszti be [calebb.net](http://calebb.net).</span><span class="sxs-lookup"><span data-stu-id="017a0-161">For practice, try inspecting hello claims in hello sample ID token by pasting it into [calebb.net](http://calebb.net).</span></span> <span data-ttu-id="017a0-162">További részletek találhatók a hello [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html).</span><span class="sxs-lookup"><span data-stu-id="017a0-162">Further details can be found in hello [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html).</span></span>

| <span data-ttu-id="017a0-163">Név</span><span class="sxs-lookup"><span data-stu-id="017a0-163">Name</span></span> | <span data-ttu-id="017a0-164">Jogcím</span><span class="sxs-lookup"><span data-stu-id="017a0-164">Claim</span></span> | <span data-ttu-id="017a0-165">Példaérték</span><span class="sxs-lookup"><span data-stu-id="017a0-165">Example value</span></span> | <span data-ttu-id="017a0-166">Leírás</span><span class="sxs-lookup"><span data-stu-id="017a0-166">Description</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="017a0-167">Célközönség</span><span class="sxs-lookup"><span data-stu-id="017a0-167">Audience</span></span> |`aud` |`90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6` |<span data-ttu-id="017a0-168">Egy célközönség jogcím szánt hello címzett hello jogkivonat azonosítja.</span><span class="sxs-lookup"><span data-stu-id="017a0-168">An audience claim identifies hello intended recipient of hello token.</span></span> <span data-ttu-id="017a0-169">Az Azure AD B2C-ben hello célközönségét az alkalmazás azonosítója, hello app regisztrációs portálon rendelt tooyour alkalmazásként.</span><span class="sxs-lookup"><span data-stu-id="017a0-169">For Azure AD B2C, hello audience is your app's application ID, as assigned tooyour app in hello app registration portal.</span></span> <span data-ttu-id="017a0-170">Az alkalmazás kell ellenőrizni az értékét, és utasítsa el hello tokent, ha nem felel meg.</span><span class="sxs-lookup"><span data-stu-id="017a0-170">Your app should validate this value and reject hello token if it does not match.</span></span> |
| <span data-ttu-id="017a0-171">Kiállító</span><span class="sxs-lookup"><span data-stu-id="017a0-171">Issuer</span></span> |`iss` |`https://login.microsoftonline.com/775527ff-9a37-4307-8b3d-cc311f58d925/v2.0/` |<span data-ttu-id="017a0-172">A jogcím azonosítja hello biztonságijogkivonat-szolgáltatás (STS) hoz létre, és hello jogkivonatot ad vissza.</span><span class="sxs-lookup"><span data-stu-id="017a0-172">This claim identifies hello security token service (STS) that constructs and returns hello token.</span></span> <span data-ttu-id="017a0-173">Meghatározza azt is, mely hello a felhasználó hitelesítési hello Azure AD-címtárban.</span><span class="sxs-lookup"><span data-stu-id="017a0-173">It also identifies hello Azure AD directory in which hello user was authenticated.</span></span> <span data-ttu-id="017a0-174">Az alkalmazás érdemes ellenőrizni a hello kibocsátó jogcímet, amely a hello token tooensure hello Azure Active Directory v2.0-végponttól érkezett.</span><span class="sxs-lookup"><span data-stu-id="017a0-174">Your app should validate hello issuer claim tooensure that hello token came from hello Azure Active Directory v2.0 endpoint.</span></span> |
| <span data-ttu-id="017a0-175">Ki:</span><span class="sxs-lookup"><span data-stu-id="017a0-175">Issued at</span></span> |`iat` |`1438535543` |<span data-ttu-id="017a0-176">Ezt az igényt az hello idő, mely hello token adta ki, epoch idő.</span><span class="sxs-lookup"><span data-stu-id="017a0-176">This claim is hello time at which hello token was issued, represented in epoch time.</span></span> |
| <span data-ttu-id="017a0-177">Lejárati idő</span><span class="sxs-lookup"><span data-stu-id="017a0-177">Expiration time</span></span> |`exp` |`1438539443` |<span data-ttu-id="017a0-178">hello lejárati ideje nincs hello idő, mely hello token válik érvénytelen, az időbeli kortartományon kezeli őket.</span><span class="sxs-lookup"><span data-stu-id="017a0-178">hello expiration time claim is hello time at which hello token becomes invalid, represented in epoch time.</span></span> <span data-ttu-id="017a0-179">Az alkalmazás használja a jogkivonatok élettartama hello jogcím tooverify hello érvényességét.</span><span class="sxs-lookup"><span data-stu-id="017a0-179">Your app should use this claim tooverify hello validity of hello token lifetime.</span></span> |
| <span data-ttu-id="017a0-180">Hatálybalépési idő</span><span class="sxs-lookup"><span data-stu-id="017a0-180">Not before</span></span> |`nbf` |`1438535543` |<span data-ttu-id="017a0-181">Ezt az igényt az hello idő, mely hello token lesz érvényes, az időbeli kortartományon kezeli őket.</span><span class="sxs-lookup"><span data-stu-id="017a0-181">This claim is hello time at which hello token becomes valid, represented in epoch time.</span></span> <span data-ttu-id="017a0-182">Ez az általában hello azonos módon hello idő hello token ki.</span><span class="sxs-lookup"><span data-stu-id="017a0-182">This is usually hello same as hello time hello token was issued.</span></span> <span data-ttu-id="017a0-183">Az alkalmazás használja a jogkivonatok élettartama hello jogcím tooverify hello érvényességét.</span><span class="sxs-lookup"><span data-stu-id="017a0-183">Your app should use this claim tooverify hello validity of hello token lifetime.</span></span> |
| <span data-ttu-id="017a0-184">Verzió</span><span class="sxs-lookup"><span data-stu-id="017a0-184">Version</span></span> |`ver` |`1.0` |<span data-ttu-id="017a0-185">Hello verziójáról hello azonosító jogkivonat, az Azure AD által definiált.</span><span class="sxs-lookup"><span data-stu-id="017a0-185">This is hello version of hello ID token, as defined by Azure AD.</span></span> |
| <span data-ttu-id="017a0-186">Kód kivonata</span><span class="sxs-lookup"><span data-stu-id="017a0-186">Code hash</span></span> |`c_hash` |`SGCPtt01wxwfgnYZy2VJtQ` |<span data-ttu-id="017a0-187">Kód kivonatát része egy Azonosítót jogkivonatban csak amikor hello token együtt egy OAuth 2.0 hitelesítési kódot.</span><span class="sxs-lookup"><span data-stu-id="017a0-187">A code hash is included in an ID token only when hello token is issued together with an OAuth 2.0 authorization code.</span></span> <span data-ttu-id="017a0-188">A kód kivonatoló lehet használt toovalidate hello hitelességének egy engedélyezési kódot.</span><span class="sxs-lookup"><span data-stu-id="017a0-188">A code hash can be used toovalidate hello authenticity of an authorization code.</span></span> <span data-ttu-id="017a0-189">További részletes információt a tooperform ezen ellenőrzés hello lásd [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html).</span><span class="sxs-lookup"><span data-stu-id="017a0-189">For more details on how tooperform this validation, see hello [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html).</span></span>  |
| <span data-ttu-id="017a0-190">Hozzáférési jogkivonat kivonata</span><span class="sxs-lookup"><span data-stu-id="017a0-190">Access token hash</span></span> |`at_hash` |`SGCPtt01wxwfgnYZy2VJtQ` |<span data-ttu-id="017a0-191">Az access token kivonatoló része egy Azonosítót jogkivonatban csak akkor, ha hello token együtt OAuth 2.0 hozzáférési tokent ad ki.</span><span class="sxs-lookup"><span data-stu-id="017a0-191">An access token hash is included in an ID token only when hello token is issued together with an OAuth 2.0 access token.</span></span> <span data-ttu-id="017a0-192">Az access token kivonatoló lehet használt toovalidate hello hitelességének olyan hozzáférési jogkivonatot.</span><span class="sxs-lookup"><span data-stu-id="017a0-192">An access token hash can be used toovalidate hello authenticity of an access token.</span></span> <span data-ttu-id="017a0-193">Nyújt további tájékoztatást tooperform ezen ellenőrzés lásd: hello [OpenID Connect meghatározása](http://openid.net/specs/openid-connect-core-1_0.html)</span><span class="sxs-lookup"><span data-stu-id="017a0-193">For more details on how tooperform this validation, see hello [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html)</span></span>  |
| <span data-ttu-id="017a0-194">Nonce</span><span class="sxs-lookup"><span data-stu-id="017a0-194">Nonce</span></span> |`nonce` |`12345` |<span data-ttu-id="017a0-195">Egy egyszeri üzenet, stratégia használt toomitigate hitelesítési karakterláncok ismétlésének támadásokat.</span><span class="sxs-lookup"><span data-stu-id="017a0-195">A nonce is a strategy used toomitigate token replay attacks.</span></span> <span data-ttu-id="017a0-196">Az alkalmazás megadhat egy nonce engedélyezési kérelmet hello segítségével `nonce` lekérdezési paraméter.</span><span class="sxs-lookup"><span data-stu-id="017a0-196">Your app can specify a nonce in an authorization request by using hello `nonce` query parameter.</span></span> <span data-ttu-id="017a0-197">a hello változtatás nélkül hello kérelemben megadja hello érték lesz kibocsátott `nonce` jogcím csak egy azonosító jogkivonat.</span><span class="sxs-lookup"><span data-stu-id="017a0-197">hello value you provide in hello request will be emitted unmodified in hello `nonce` claim of an ID token only.</span></span> <span data-ttu-id="017a0-198">Ez lehetővé teszi az alkalmazás tooverify hello érték hello kérésére, amely az adott azonosító jogkivonat hello app munkamenet társítja azt megadott hello értékkel.</span><span class="sxs-lookup"><span data-stu-id="017a0-198">This allows your app tooverify hello value against hello value it specified on hello request, which associates hello app's session with a given ID token.</span></span> <span data-ttu-id="017a0-199">Az alkalmazás végre kell hajtania az ellenőrzés hello azonosító token érvényesítési folyamat során.</span><span class="sxs-lookup"><span data-stu-id="017a0-199">Your app should perform this validation during hello ID token validation process.</span></span> |
| <span data-ttu-id="017a0-200">Tárgy</span><span class="sxs-lookup"><span data-stu-id="017a0-200">Subject</span></span> |`sub` |`884408e1-2918-4cz0-b12d-3aa027d7563b` |<span data-ttu-id="017a0-201">Ez a mely hello kapcsolatos token állításokat információkat, például egy alkalmazás hello felhasználói hello rendszerbiztonsági tag.</span><span class="sxs-lookup"><span data-stu-id="017a0-201">This is hello principal about which hello token asserts information, such as hello user of an app.</span></span> <span data-ttu-id="017a0-202">Ez az érték nem módosítható és nem lehet újbóli hozzárendelése és nem használja fel újra.</span><span class="sxs-lookup"><span data-stu-id="017a0-202">This value is immutable and cannot be reassigned or reused.</span></span> <span data-ttu-id="017a0-203">Ez lehet a használt tooperform engedélyezési ellenőrzések biztonságosan, amikor hello jogkivonat nem használt tooaccess erőforrás.</span><span class="sxs-lookup"><span data-stu-id="017a0-203">It can be used tooperform authorization checks safely, such as when hello token is used tooaccess a resource.</span></span> <span data-ttu-id="017a0-204">Alapértelmezés szerint a hello tulajdonos jogcím telepítéskor hello Objektumazonosító hello felhasználó hello könyvtárban.</span><span class="sxs-lookup"><span data-stu-id="017a0-204">By default, hello subject claim is populated with hello object ID of hello user in hello directory.</span></span> <span data-ttu-id="017a0-205">toolearn több, lásd: [Azure Active Directory B2C: Token, munkamenet és egyszeri bejelentkezés konfigurációs](active-directory-b2c-token-session-sso.md).</span><span class="sxs-lookup"><span data-stu-id="017a0-205">toolearn more, see [Azure Active Directory B2C: Token, session, and single sign-on configuration](active-directory-b2c-token-session-sso.md).</span></span> |
| <span data-ttu-id="017a0-206">Hitelesítési környezeti osztályait ismertető dokumentációban</span><span class="sxs-lookup"><span data-stu-id="017a0-206">Authentication context class reference</span></span> |`acr` |<span data-ttu-id="017a0-207">Nem alkalmazható</span><span class="sxs-lookup"><span data-stu-id="017a0-207">Not applicable</span></span> |<span data-ttu-id="017a0-208">Jelenleg nem használt, kivéve a hello kis-és régebbi házirendek.</span><span class="sxs-lookup"><span data-stu-id="017a0-208">Not used currently, except in hello case of older policies.</span></span> <span data-ttu-id="017a0-209">toolearn több, lásd: [Azure Active Directory B2C: Token, munkamenet és egyszeri bejelentkezés konfigurációs](active-directory-b2c-token-session-sso.md).</span><span class="sxs-lookup"><span data-stu-id="017a0-209">toolearn more, see [Azure Active Directory B2C: Token, session, and single sign-on configuration](active-directory-b2c-token-session-sso.md).</span></span> |
| <span data-ttu-id="017a0-210">Megbízhatósági keretrendszer házirend</span><span class="sxs-lookup"><span data-stu-id="017a0-210">Trust framework policy</span></span> |`tfp` |`b2c_1_sign_in` |<span data-ttu-id="017a0-211">Ez az hello házirend, de a használt tooacquire hello azonosító token hello nevét.</span><span class="sxs-lookup"><span data-stu-id="017a0-211">This is hello name of hello policy that was used tooacquire hello ID token.</span></span> |
| <span data-ttu-id="017a0-212">Hitelesítési idő</span><span class="sxs-lookup"><span data-stu-id="017a0-212">Authentication time</span></span> |`auth_time` |`1438535543` |<span data-ttu-id="017a0-213">Ez nincs hello ideje, amellyel egy felhasználó utolsó megadott hitelesítő adatokat, epoch idő.</span><span class="sxs-lookup"><span data-stu-id="017a0-213">This claim is hello time at which a user last entered credentials, represented in epoch time.</span></span> |

### <a name="refresh-tokens"></a><span data-ttu-id="017a0-214">Frissítési jogkivonatok</span><span class="sxs-lookup"><span data-stu-id="017a0-214">Refresh tokens</span></span>
<span data-ttu-id="017a0-215">Frissítési jogkivonatok olyan biztonsági jogkivonatok, hogy az alkalmazás használhat tooacquire új azonosító-jogkivonatokat és hozzáférési jogkivonatok az OAuth 2.0 folyamatból.</span><span class="sxs-lookup"><span data-stu-id="017a0-215">Refresh tokens are security tokens that your app can use tooacquire new ID tokens and access tokens in an OAuth 2.0 flow.</span></span> <span data-ttu-id="017a0-216">Ezek biztosítanak az alkalmazás a hosszú távú hozzáférés tooresources felhasználók nevében anélkül, hogy azoknak a felhasználóknak való együttműködéshez.</span><span class="sxs-lookup"><span data-stu-id="017a0-216">They provide your app with long-term access tooresources on behalf of users without requiring interaction with those users.</span></span>

<span data-ttu-id="017a0-217">a token válasz egy frissítési jogkivonat tooreceive, az alkalmazás hello kell igényelnie `offline_acesss` hatókör.</span><span class="sxs-lookup"><span data-stu-id="017a0-217">tooreceive a refresh token in a token response, your app must request hello `offline_acesss` scope.</span></span> <span data-ttu-id="017a0-218">További információk hello toolearn `offline_access` hatókörét, tekintse meg a toohello [az Azure AD B2C protokoll referenciája](active-directory-b2c-reference-protocols.md).</span><span class="sxs-lookup"><span data-stu-id="017a0-218">toolearn more about hello `offline_access` scope, refer toohello [Azure AD B2C protocol reference](active-directory-b2c-reference-protocols.md).</span></span>

<span data-ttu-id="017a0-219">Frissítési jogkivonatok, és mindig lesz, nem teljesen átlátszó tooyour alkalmazást.</span><span class="sxs-lookup"><span data-stu-id="017a0-219">Refresh tokens are, and will always be, completely opaque tooyour app.</span></span> <span data-ttu-id="017a0-220">Azok az Azure AD által kiállított és ellenőrzött és csak az Azure AD értelmezi.</span><span class="sxs-lookup"><span data-stu-id="017a0-220">They are issued by Azure AD and can be inspected and interpreted only by Azure AD.</span></span> <span data-ttu-id="017a0-221">Hosszú élettartamú, de az alkalmazás nem írható a hello elvárás, hogy egy frissítési jogkivonat egy meghatározott ideig tart.</span><span class="sxs-lookup"><span data-stu-id="017a0-221">They are long-lived, but your app should not be written with hello expectation that a refresh token will last for a specific period of time.</span></span> <span data-ttu-id="017a0-222">Frissítési jogkivonatokat a számos okból bármikor érvénytelenített lehet.</span><span class="sxs-lookup"><span data-stu-id="017a0-222">Refresh tokens can be invalidated at any moment for a variety of reasons.</span></span> <span data-ttu-id="017a0-223">csak az alkalmazás tooknow, ha a frissítési jogkivonat érvényes megoldást tooattempt tooredeem hello azáltal, hogy egy kérés tooAzure AD azt.</span><span class="sxs-lookup"><span data-stu-id="017a0-223">hello only way for your app tooknow if a refresh token is valid is tooattempt tooredeem it by making a token request tooAzure AD.</span></span>

<span data-ttu-id="017a0-224">Ha beváltja egy frissítési jogkivonat vagy egy új jogkivonatot (és ha az alkalmazás rendelkezik hello `offline_access` hatókör), egy új frissítési jogkivonat hello token választ kap.</span><span class="sxs-lookup"><span data-stu-id="017a0-224">When you redeem a refresh token for a new token (and if your app has been granted hello `offline_access` scope), you will receive a new refresh token in hello token response.</span></span> <span data-ttu-id="017a0-225">Mentse az újonnan kiadott hello frissítési jogkivonat.</span><span class="sxs-lookup"><span data-stu-id="017a0-225">You should save hello newly issued refresh token.</span></span> <span data-ttu-id="017a0-226">Az hello frissítési jogkivonat hello kérelemben használt váltja fel.</span><span class="sxs-lookup"><span data-stu-id="017a0-226">It should replace hello refresh token you previously used in hello request.</span></span> <span data-ttu-id="017a0-227">Ez segít garantálni, hogy a frissítési jogkivonatokat maradnak, amíg érvényes.</span><span class="sxs-lookup"><span data-stu-id="017a0-227">This helps guarantee that your refresh tokens remain valid for as long as possible.</span></span>

## <a name="token-validation"></a><span data-ttu-id="017a0-228">Jogkivonatok érvényesség-ellenőrzése</span><span class="sxs-lookup"><span data-stu-id="017a0-228">Token validation</span></span>
<span data-ttu-id="017a0-229">toovalidate jogkivonatot, az alkalmazás ellenőrizze hello aláírás és a jogcímek hello jogkivonat.</span><span class="sxs-lookup"><span data-stu-id="017a0-229">toovalidate a token, your app should check both hello signature and claims of hello token.</span></span>

<span data-ttu-id="017a0-230">Számos nyílt forráskódú szalagtárak JWTs, attól függően, hogy a választott nyelv ellenőrzésével kapcsolatos érhetők el.</span><span class="sxs-lookup"><span data-stu-id="017a0-230">Many open source libraries are available for validating JWTs, depending on your preferred language.</span></span> <span data-ttu-id="017a0-231">Azt javasoljuk, hogy a saját ellenőrzési logika megvalósítása helyett inkább megismerheti azokat a beállításokat.</span><span class="sxs-lookup"><span data-stu-id="017a0-231">We recommend that you explore those options rather than implement your own validation logic.</span></span> <span data-ttu-id="017a0-232">hello információkat az útmutató segítségével megtudhatja, hogyan tooproperly használja ezeket a könyvtárakat.</span><span class="sxs-lookup"><span data-stu-id="017a0-232">hello information in this guide can help you learn how tooproperly use those libraries.</span></span>

### <a name="validate-hello-signature"></a><span data-ttu-id="017a0-233">Hello aláírás érvényesítése</span><span class="sxs-lookup"><span data-stu-id="017a0-233">Validate hello signature</span></span>
<span data-ttu-id="017a0-234">A jwt-t tartalmaz három szegmensből, hello `.` karakter.</span><span class="sxs-lookup"><span data-stu-id="017a0-234">A JWT contains three segments, separated by hello `.` character.</span></span> <span data-ttu-id="017a0-235">hello első szegmens pedig az hello *fejléc*, hello második hello *törzs*, és hello harmadik hello *aláírás*.</span><span class="sxs-lookup"><span data-stu-id="017a0-235">hello first segment is hello *header*, hello second is hello *body*, and hello third is hello *signature*.</span></span> <span data-ttu-id="017a0-236">hello aláírás szegmens használt toovalidate hello hitelességének hello token lehet, hogy az alkalmazás által megbízhatóak.</span><span class="sxs-lookup"><span data-stu-id="017a0-236">hello signature segment can be used toovalidate hello authenticity of hello token so that it can be trusted by your app.</span></span>

<span data-ttu-id="017a0-237">Az Azure AD B2C-jogkivonatok aláírt szabványos aszimmetrikus titkosítási algoritmusok, például RSA 256.</span><span class="sxs-lookup"><span data-stu-id="017a0-237">Azure AD B2C tokens are signed by using industry-standard asymmetric encryption algorithms, such as RSA 256.</span></span> <span data-ttu-id="017a0-238">titkosítási módszer használt toosign hello token és hello fejléc hello jogkivonat hello kulccsal kapcsolatos információkat tartalmazza:</span><span class="sxs-lookup"><span data-stu-id="017a0-238">hello header of hello token contains information about hello key and encryption method used toosign hello token:</span></span>

```
{
        "typ": "JWT",
        "alg": "RS256",
        "kid": "GvnPApfWMdLRi8PDmisFn7bprKg"
}
```

<span data-ttu-id="017a0-239">Hello `alg` jogcím azt jelzi, de a használt toosign hello token hello algoritmus.</span><span class="sxs-lookup"><span data-stu-id="017a0-239">hello `alg` claim indicates hello algorithm that was used toosign hello token.</span></span> <span data-ttu-id="017a0-240">Hello `kid` jogcím hello adott nyilvános kulcsot, de a használt toosign hello token jelzi.</span><span class="sxs-lookup"><span data-stu-id="017a0-240">hello `kid` claim indicates hello particular public key that was used toosign hello token.</span></span>

<span data-ttu-id="017a0-241">Egy adott időpontban az Azure AD bármikor beléphet a jogkivonat közül legalább egy nyilvános-titkos kulcspárokat bizonyos készlet használatával.</span><span class="sxs-lookup"><span data-stu-id="017a0-241">At any given time, Azure AD can sign a token by using any one of a certain set of public-private key pairs.</span></span> <span data-ttu-id="017a0-242">Az Azure AD rendszeres időközönként forog hello lehetséges kulcsok készlete, így az alkalmazás automatikusan megváltoztatja e kulcs toohandle kell írni.</span><span class="sxs-lookup"><span data-stu-id="017a0-242">Azure AD rotates hello possible set of keys periodically, so your app should be written toohandle those key changes automatically.</span></span> <span data-ttu-id="017a0-243">A frissítések toohello nyilvános kulcsok Azure AD által használt egy ésszerű gyakoriság toocheck 24 óránként van.</span><span class="sxs-lookup"><span data-stu-id="017a0-243">A reasonable frequency toocheck for updates toohello public keys used by Azure AD is every 24 hours.</span></span>

<span data-ttu-id="017a0-244">Az Azure AD B2C az OpenID Connect metaadatok végponttal rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="017a0-244">Azure AD B2C has an OpenID Connect metadata endpoint.</span></span> <span data-ttu-id="017a0-245">Ez lehetővé teszi alkalmazások toofetch információ az Azure AD B2C futásidőben.</span><span class="sxs-lookup"><span data-stu-id="017a0-245">This allows apps toofetch information about Azure AD B2C at runtime.</span></span> <span data-ttu-id="017a0-246">Ezen információk közé tartozik a végpontok, lexikális elem tartalmának és jogkivonat-aláíró kulcsok.</span><span class="sxs-lookup"><span data-stu-id="017a0-246">This information includes endpoints, token contents, and token signing keys.</span></span> <span data-ttu-id="017a0-247">A B2C-címtárat a JSON-házirendet metaadat-dokumentum tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="017a0-247">Your B2C directory contains a JSON metadata document for each policy.</span></span> <span data-ttu-id="017a0-248">Például hello metaadat-dokumentum a hello `b2c_1_sign_in` -szabályzat `fabrikamb2c.onmicrosoft.com` helyen található:</span><span class="sxs-lookup"><span data-stu-id="017a0-248">For example, hello metadata document for hello `b2c_1_sign_in` policy in  `fabrikamb2c.onmicrosoft.com` is located at:</span></span>

```
https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/v2.0/.well-known/openid-configuration?p=b2c_1_sign_in
```

<span data-ttu-id="017a0-249">`fabrikamb2c.onmicrosoft.com`a hello B2C directory használt tooauthenticate hello felhasználó, és `b2c_1_sign_in` a hello házirend használt tooacquire hello jogkivonat.</span><span class="sxs-lookup"><span data-stu-id="017a0-249">`fabrikamb2c.onmicrosoft.com` is hello B2C directory used tooauthenticate hello user, and `b2c_1_sign_in` is hello policy used tooacquire hello token.</span></span> <span data-ttu-id="017a0-250">milyen házirend használt toosign jogkivonat (és ahol toogo toofetch hello metaadatok), toodetermine két lehetőség közül választhat.</span><span class="sxs-lookup"><span data-stu-id="017a0-250">toodetermine which policy was used toosign a token (and where toogo toofetch hello metadata), you have two options.</span></span> <span data-ttu-id="017a0-251">Első lépésként hello házirendnév hello megtalálható `acr` jogcím hello jogkivonat.</span><span class="sxs-lookup"><span data-stu-id="017a0-251">First, hello policy name is included in hello `acr` claim in hello token.</span></span> <span data-ttu-id="017a0-252">Jogcímek hello törzsét hello JWT base-64 dekódolási hello szervezet kívül tudja értelmezni, és JSON karakterlánc deszerializálása hello adott eredmények.</span><span class="sxs-lookup"><span data-stu-id="017a0-252">You can parse claims out of hello body of hello JWT by base-64 decoding hello body and deserializing hello JSON string that results.</span></span> <span data-ttu-id="017a0-253">Hello `acr` jogcím hello házirend, de a használt tooissue hello token hello neve lesz.</span><span class="sxs-lookup"><span data-stu-id="017a0-253">hello `acr` claim will be hello name of hello policy that was used tooissue hello token.</span></span>  <span data-ttu-id="017a0-254">A másik lehetőség egy tooencode hello házirend hello hello értékének `state` paraméter küldjön hello kérelmet, és milyen házirend lett megadva toodetermine dekódolására.</span><span class="sxs-lookup"><span data-stu-id="017a0-254">Your other option is tooencode hello policy in hello value of hello `state` parameter when you issue hello request, and then decode it toodetermine which policy was used.</span></span> <span data-ttu-id="017a0-255">Mindkét módszer esetén érvényes.</span><span class="sxs-lookup"><span data-stu-id="017a0-255">Either method is valid.</span></span>

<span data-ttu-id="017a0-256">hello metaadat-dokumentum néhány hasznos adatot tartalmazó JSON-objektum.</span><span class="sxs-lookup"><span data-stu-id="017a0-256">hello metadata document is a JSON object that contains several useful pieces of information.</span></span> <span data-ttu-id="017a0-257">Ezek közé tartozik a hello végpontok szükséges tooperform OpenID Connect hitelesítési hello helyét.</span><span class="sxs-lookup"><span data-stu-id="017a0-257">These include hello location of hello endpoints required tooperform OpenID Connect authentication.</span></span> <span data-ttu-id="017a0-258">Ezek közé tartoznak `jwks_uri`, ami hello készlete, amelyek toosign használt nyilvános kulcsok hello helyét.</span><span class="sxs-lookup"><span data-stu-id="017a0-258">They also include `jwks_uri`, which gives hello location of hello set of public keys that are used toosign tokens.</span></span> <span data-ttu-id="017a0-259">Itt valósul meg erre a helyre, de ajánlott toofetch hello hely dinamikusan hello metaadat-dokumentum használatával, és a kimenő elemzése `jwks_uri`:</span><span class="sxs-lookup"><span data-stu-id="017a0-259">That location is provided here, but it is best toofetch hello location dynamically by using hello metadata document and parsing out `jwks_uri`:</span></span>

```
https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/discovery/v2.0/keys?p=b2c_1_sign_in
```

<span data-ttu-id="017a0-260">az URL-címen található hello JSON-dokumentum tartalmaz minden hello nyilvánoskulcs-adatokat egy adott pillanatban használatban.</span><span class="sxs-lookup"><span data-stu-id="017a0-260">hello JSON document located at this URL contains all hello public key information in use at a particular moment.</span></span> <span data-ttu-id="017a0-261">Az alkalmazás használhat hello `kid` hello JWT fejléc tooselect hello levő nyilvános kulcs, amely használt toosign hello JSON-dokumentum a jogcím egy adott jogkivonatot.</span><span class="sxs-lookup"><span data-stu-id="017a0-261">Your app can use hello `kid` claim in hello JWT header tooselect hello public key in hello JSON document that is used toosign a particular token.</span></span> <span data-ttu-id="017a0-262">Majd hello megfelelő nyilvános kulccsal és hello jelzett algoritmus használatával végezheti el az aláírás érvényesítése.</span><span class="sxs-lookup"><span data-stu-id="017a0-262">It can then perform signature validation by using hello correct public key and hello indicated algorithm.</span></span>

<span data-ttu-id="017a0-263">Ez a dokumentum hatókörén kívül hello tooperform aláírás érvényesítése Mitől leírása.</span><span class="sxs-lookup"><span data-stu-id="017a0-263">A description of how tooperform signature validation is outside hello scope of this document.</span></span> <span data-ttu-id="017a0-264">Számos nyílt forráskódú szalagtárak elérhető toohelp való ez, ha esetleg szükség lenne rá.</span><span class="sxs-lookup"><span data-stu-id="017a0-264">Many open source libraries are available toohelp you with this if you need it.</span></span>

### <a name="validate-hello-claims"></a><span data-ttu-id="017a0-265">Hello ellenőrizhesse</span><span class="sxs-lookup"><span data-stu-id="017a0-265">Validate hello claims</span></span>
<span data-ttu-id="017a0-266">Ha az alkalmazás vagy API kap egy azonosító jogkivonatot, azt kell is ellenőrzi a több elleni hello jogcímek hello Azonosítót jogkivonatban.</span><span class="sxs-lookup"><span data-stu-id="017a0-266">When your app or API receives an ID token, it should also perform several checks against hello claims in hello ID token.</span></span> <span data-ttu-id="017a0-267">Ezek közé tartozik, de nem korlátozva:</span><span class="sxs-lookup"><span data-stu-id="017a0-267">These include, but are not limited to:</span></span>

* <span data-ttu-id="017a0-268">Hello **célközönség** igényelni: Ez ellenőrzi, hogy hello azonosító token lett tooyour app megadott tervezett toobe.</span><span class="sxs-lookup"><span data-stu-id="017a0-268">hello **audience** claim: This verifies that hello ID token was intended toobe given tooyour app.</span></span>
* <span data-ttu-id="017a0-269">Hello **nem előtt** és **lejárati idő** jogcímek: ezek győződjön meg arról, hogy hello azonosító jogkivonat nem járt le.</span><span class="sxs-lookup"><span data-stu-id="017a0-269">hello **not before** and **expiration time** claims: These verify that hello ID token has not expired.</span></span>
* <span data-ttu-id="017a0-270">Hello **kibocsátó** igényelni: Ez ellenőrzi, hogy hello token tooyour app adta ki az Azure ad.</span><span class="sxs-lookup"><span data-stu-id="017a0-270">hello **issuer** claim: This verifies that hello token was issued tooyour app by Azure AD.</span></span>
* <span data-ttu-id="017a0-271">Hello **nonce**: Ez a hitelesítési karakterláncok ismétlésének támadás megoldás stratégiát is.</span><span class="sxs-lookup"><span data-stu-id="017a0-271">hello **nonce**: This is a strategy for token replay attack mitigation.</span></span>

<span data-ttu-id="017a0-272">Érvényesítést, végre kell hajtania, az alkalmazás teljes listájáért tekintse meg a toohello [OpenID Connect specification](https://openid.net).</span><span class="sxs-lookup"><span data-stu-id="017a0-272">For a full list of validations your app should perform, refer toohello [OpenID Connect specification](https://openid.net).</span></span> <span data-ttu-id="017a0-273">A jogcímek hello várt értékek részleteit szerepelnek előző hello [szakasz token](#types-of-tokens).</span><span class="sxs-lookup"><span data-stu-id="017a0-273">Details of hello expected values for these claims are included in hello preceding [token section](#types-of-tokens).</span></span>  

## <a name="token-lifetimes"></a><span data-ttu-id="017a0-274">Token élettartama</span><span class="sxs-lookup"><span data-stu-id="017a0-274">Token lifetimes</span></span>
<span data-ttu-id="017a0-275">a következő token élettartama hello vannak megadva toofurther a Tudásbázis.</span><span class="sxs-lookup"><span data-stu-id="017a0-275">hello following token lifetimes are provided toofurther your knowledge.</span></span> <span data-ttu-id="017a0-276">Akkor lehet hasznos, ha Ön által fejlesztett és alkalmazások hibakeresését.</span><span class="sxs-lookup"><span data-stu-id="017a0-276">They can help you when you develop and debug apps.</span></span> <span data-ttu-id="017a0-277">Vegye figyelembe, hogy az alkalmazások nem lehet írt tooexpect bármely ezek élettartama tooremain konstans.</span><span class="sxs-lookup"><span data-stu-id="017a0-277">Note that your apps should not be written tooexpect any of these lifetimes tooremain constant.</span></span> <span data-ttu-id="017a0-278">Akkor is, és változni fog.</span><span class="sxs-lookup"><span data-stu-id="017a0-278">They can and will change.</span></span> <span data-ttu-id="017a0-279">További információk a hello [token élettartamának testreszabása](active-directory-b2c-token-session-sso.md) az Azure AD B2C.</span><span class="sxs-lookup"><span data-stu-id="017a0-279">Read more about hello [customization of token lifetimes](active-directory-b2c-token-session-sso.md) in Azure AD B2C.</span></span>

| <span data-ttu-id="017a0-280">Token</span><span class="sxs-lookup"><span data-stu-id="017a0-280">Token</span></span> | <span data-ttu-id="017a0-281">Élettartam</span><span class="sxs-lookup"><span data-stu-id="017a0-281">Lifetime</span></span> | <span data-ttu-id="017a0-282">Leírás</span><span class="sxs-lookup"><span data-stu-id="017a0-282">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="017a0-283">Azonosító-jogkivonatokat</span><span class="sxs-lookup"><span data-stu-id="017a0-283">ID tokens</span></span> |<span data-ttu-id="017a0-284">Egy óra</span><span class="sxs-lookup"><span data-stu-id="017a0-284">One hour</span></span> |<span data-ttu-id="017a0-285">Azonosító-jogkivonatokat érvényesek általában egy óra.</span><span class="sxs-lookup"><span data-stu-id="017a0-285">ID tokens are typically valid for an hour.</span></span> <span data-ttu-id="017a0-286">A webalkalmazás a élettartama toomaintain használhatják a saját munkamenettel rendelkező felhasználók (ajánlott).</span><span class="sxs-lookup"><span data-stu-id="017a0-286">Your web app can use this lifetime toomaintain its own sessions with users (recommended).</span></span> <span data-ttu-id="017a0-287">A különböző munkamenetek élettartamát is beállíthatja.</span><span class="sxs-lookup"><span data-stu-id="017a0-287">You can also choose a different session lifetime.</span></span> <span data-ttu-id="017a0-288">A tooget azonosító új tokent kell, hogy egyszerűen szükséges toomake egy új bejelentkezési kérelme tooAzure AD.</span><span class="sxs-lookup"><span data-stu-id="017a0-288">If your app needs tooget a new ID token, it simply needs toomake a new sign-in request tooAzure AD.</span></span> <span data-ttu-id="017a0-289">Ha egy felhasználó egy érvényes böngésző-munkamenet az Azure ad-vel, hogy a felhasználó nem feltétlenül szükséges tooenter hitelesítő adatok újra.</span><span class="sxs-lookup"><span data-stu-id="017a0-289">If a user has a valid browser session with Azure AD, that user might not be required tooenter credentials again.</span></span> |
| <span data-ttu-id="017a0-290">Frissítési jogkivonatok</span><span class="sxs-lookup"><span data-stu-id="017a0-290">Refresh tokens</span></span> |<span data-ttu-id="017a0-291">Too14 nap mentése</span><span class="sxs-lookup"><span data-stu-id="017a0-291">Up too14 days</span></span> |<span data-ttu-id="017a0-292">Egyetlen frissítési jogkivonat esetén legfeljebb 14 napig érvényes.</span><span class="sxs-lookup"><span data-stu-id="017a0-292">A single refresh token is valid for a maximum of 14 days.</span></span> <span data-ttu-id="017a0-293">Azonban a frissítési jogkivonat válhat érvénytelen számos oka bármikor.</span><span class="sxs-lookup"><span data-stu-id="017a0-293">However, a refresh token can become invalid at any time for a number of reasons.</span></span> <span data-ttu-id="017a0-294">Az alkalmazás továbbra tootry toouse egy frissítési jogkivonat, amíg hello kérelem sikertelen lesz, vagy az alkalmazás egy új frissítési jogkivonat hello lecseréli.</span><span class="sxs-lookup"><span data-stu-id="017a0-294">Your app should continue tootry toouse a refresh token until hello request fails, or until your app replaces hello refresh token with a new one.</span></span> <span data-ttu-id="017a0-295">A frissítési jogkivonat érvénytelen, ha 90 nap eltelt óta hello felhasználó utoljára megadott hitelesítő adatok is válhat.</span><span class="sxs-lookup"><span data-stu-id="017a0-295">A refresh token can also become invalid if 90 days have passed since hello user last entered credentials.</span></span> |
| <span data-ttu-id="017a0-296">Hitelesítési kódok</span><span class="sxs-lookup"><span data-stu-id="017a0-296">Authorization codes</span></span> |<span data-ttu-id="017a0-297">Öt perc</span><span class="sxs-lookup"><span data-stu-id="017a0-297">Five minutes</span></span> |<span data-ttu-id="017a0-298">Hitelesítési kódok szándékosan rövid élettartamú.</span><span class="sxs-lookup"><span data-stu-id="017a0-298">Authorization codes are intentionally short-lived.</span></span> <span data-ttu-id="017a0-299">Akkor kell váltható azonnal a hozzáférési jogkivonatok, azonosító-jogkivonatokat, vagy a frissítési jogkivonatokat érkezésükkor.</span><span class="sxs-lookup"><span data-stu-id="017a0-299">They should be redeemed immediately for access tokens, ID tokens, or refresh tokens when they are received.</span></span> |

