---
title: "Hitelesítésikód-folyamata – az Azure AD B2C |} Microsoft Docs"
description: "Ismerje meg, hogyan toobuild webalkalmazások Azure AD B2C és az OpenID Connect hitelesítési protokoll használatával."
services: active-directory-b2c
documentationcenter: 
author: saeedakhter-msft
manager: krassk
editor: parakhj
ms.assetid: c371aaab-813a-4317-97df-b62e2f53d865
ms.service: active-directory-b2c
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/16/2017
ms.author: saeedakhter-msft
ms.openlocfilehash: 6bf9d37310bd45b39bda346441413556f9fd4fdc
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="azure-active-directory-b2c-oauth-20-authorization-code-flow"></a><span data-ttu-id="75100-103">Az Azure Active Directory B2C: OAuth 2.0 hitelesítésikód-folyamata</span><span class="sxs-lookup"><span data-stu-id="75100-103">Azure Active Directory B2C: OAuth 2.0 authorization code flow</span></span>
<span data-ttu-id="75100-104">Egy eszköz toogain hozzáférés tooprotected-erőforrások, például webes API-k a telepített alkalmazások hello OAuth 2.0 hitelesítésengedélyezési kód használható.</span><span class="sxs-lookup"><span data-stu-id="75100-104">You can use hello OAuth 2.0 authorization code grant in apps installed on a device toogain access tooprotected resources, such as web APIs.</span></span> <span data-ttu-id="75100-105">OAuth 2.0 (az Azure AD B2C) végrehajtásának hello Azure Active Directory B2C segítségével is hozzáadhat a regisztráció, bejelentkezés és egyéb identitás-kezelési feladatainak tooyour hordozható és asztali alkalmazások.</span><span class="sxs-lookup"><span data-stu-id="75100-105">By using hello Azure Active Directory B2C (Azure AD B2C) implementation of OAuth 2.0, you can add sign-up, sign-in, and other identity management tasks tooyour mobile and desktop apps.</span></span> <span data-ttu-id="75100-106">Ez a cikk nyelvfüggetlen.</span><span class="sxs-lookup"><span data-stu-id="75100-106">This article is language-independent.</span></span> <span data-ttu-id="75100-107">Hello cikk azt ismerteti hogyan toosend és HTTP-üzenetek fogadása bármely nyílt forráskódú kódtárai használata nélkül.</span><span class="sxs-lookup"><span data-stu-id="75100-107">In hello article, we describe how toosend and receive HTTP messages without using any open-source libraries.</span></span>

<!-- TODO: Need link toolibraries -->

<span data-ttu-id="75100-108">OAuth 2.0 hitelesítésikód-folyamata hello ismertetett [hello OAuth 2.0-s szabvány 4.1 szakasz](http://tools.ietf.org/html/rfc6749).</span><span class="sxs-lookup"><span data-stu-id="75100-108">hello OAuth 2.0 authorization code flow is described in [section 4.1 of hello OAuth 2.0 specification](http://tools.ietf.org/html/rfc6749).</span></span> <span data-ttu-id="75100-109">Használhatja a hitelesítéshez és engedélyezéshez a legtöbb alkalmazás típusok, beleértve a [webalkalmazások](active-directory-b2c-apps.md#web-apps) és [natívan telepített alkalmazásokat](active-directory-b2c-apps.md#mobile-and-native-apps).</span><span class="sxs-lookup"><span data-stu-id="75100-109">You can use it for authentication and authorization in most app types, including [web apps](active-directory-b2c-apps.md#web-apps) and [natively installed apps](active-directory-b2c-apps.md#mobile-and-native-apps).</span></span> <span data-ttu-id="75100-110">Használhatja az OAuth 2.0 hitelesítési kód folyamat toosecurely szerezni hello *hozzáférési jogkivonatok* az alkalmazásokat, amelyek lehet által védett erőforrások használt tooaccess egy [engedélyezési server](active-directory-b2c-reference-protocols.md#the-basics).</span><span class="sxs-lookup"><span data-stu-id="75100-110">You can use hello OAuth 2.0 authorization code flow toosecurely acquire *access tokens* for your apps, which can be used tooaccess resources that are secured by an [authorization server](active-directory-b2c-reference-protocols.md#the-basics).</span></span>

<span data-ttu-id="75100-111">Ez a cikk foglalkozik a hello **nyilvános ügyfelek** OAuth 2.0 hitelesítésikód-folyamata.</span><span class="sxs-lookup"><span data-stu-id="75100-111">This article focuses on hello **public clients** OAuth 2.0 authorization code flow.</span></span> <span data-ttu-id="75100-112">Nyilvános ügyfél, minden ügyfél-alkalmazás, amely nem lehet a megbízható toosecurely titkos jelszó hello integritásának fenntartása.</span><span class="sxs-lookup"><span data-stu-id="75100-112">A public client is any client application that cannot be trusted toosecurely maintain hello integrity of a secret password.</span></span> <span data-ttu-id="75100-113">Ez magában foglalja a mobilalkalmazások, az asztali alkalmazások és a tulajdonképpen bármely olyan alkalmazás fut egy eszközön, és tooget hozzáférési jogkivonatok kell.</span><span class="sxs-lookup"><span data-stu-id="75100-113">This includes mobile apps, desktop apps, and essentially any application that runs on a device and needs tooget access tokens.</span></span> 

> [!NOTE]
> <span data-ttu-id="75100-114">tooadd identity management tooa webalkalmazást az Azure AD B2C, használja a [OpenID Connect](active-directory-b2c-reference-oidc.md) OAuth 2.0 helyett.</span><span class="sxs-lookup"><span data-stu-id="75100-114">tooadd identity management tooa web app by using Azure AD B2C, use [OpenID Connect](active-directory-b2c-reference-oidc.md) instead of OAuth 2.0.</span></span>

<span data-ttu-id="75100-115">Az Azure AD B2C hello szabványos OAuth 2.0 forgalomáramlás több, mint az egyszerű hitelesítés és engedélyezés toodo terjeszti ki.</span><span class="sxs-lookup"><span data-stu-id="75100-115">Azure AD B2C extends hello standard OAuth 2.0 flows toodo more than simple authentication and authorization.</span></span> <span data-ttu-id="75100-116">Hello okozna [házirend paraméter](active-directory-b2c-reference-policies.md).</span><span class="sxs-lookup"><span data-stu-id="75100-116">It introduces hello [policy parameter](active-directory-b2c-reference-policies.md).</span></span> <span data-ttu-id="75100-117">A beépített házirendek, használhatja az OAuth 2.0-s tooadd felhasználói tooyour alkalmazást észlel, mint regisztrációs, bejelentkezési és profilkezelést.</span><span class="sxs-lookup"><span data-stu-id="75100-117">With built-in policies, you can use OAuth 2.0 tooadd user experiences tooyour app, such as sign-up, sign-in, and profile management.</span></span> <span data-ttu-id="75100-118">Ez a cikk azt mutatja be ezen észlel, a natív alkalmazások toouse OAuth 2.0-s és a házirendek tooimplement.</span><span class="sxs-lookup"><span data-stu-id="75100-118">In this article, we show you how toouse OAuth 2.0 and policies tooimplement each of these experiences in your native applications.</span></span> <span data-ttu-id="75100-119">Azt is bemutatja, hogyan tooget hozzáférési jogkivonatok eléréséhez webes API-khoz.</span><span class="sxs-lookup"><span data-stu-id="75100-119">We also show you how tooget access tokens for accessing web APIs.</span></span>

<span data-ttu-id="75100-120">A minta Azure AD B2C-címtár használjuk hello példa HTTP-kérelmek ebben a cikkben, **fabrikamb2c.onmicrosoft.com**. Is használhatja a mintaalkalmazás és a házirendeket.</span><span class="sxs-lookup"><span data-stu-id="75100-120">In hello example HTTP requests in this article, we use our sample Azure AD B2C directory, **fabrikamb2c.onmicrosoft.com**. We also use our sample application and policies.</span></span> <span data-ttu-id="75100-121">Megpróbálhatja hello kérelmek saját kezűleg ezen értékek használatával, vagy azokat lecserélheti a saját értékeit.</span><span class="sxs-lookup"><span data-stu-id="75100-121">You can try hello requests yourself by using these values, or you can replace them with your own values.</span></span>
<span data-ttu-id="75100-122">Ismerje meg, hogyan túl[beolvasása a saját Azure AD B2C directory, az alkalmazás és a házirendek](#use-your-own-azure-ad-b2c-directory).</span><span class="sxs-lookup"><span data-stu-id="75100-122">Learn how too[get your own Azure AD B2C directory, application, and policies](#use-your-own-azure-ad-b2c-directory).</span></span>

## <a name="1-get-an-authorization-code"></a><span data-ttu-id="75100-123">1. Az engedélyezési kód beolvasása</span><span class="sxs-lookup"><span data-stu-id="75100-123">1. Get an authorization code</span></span>
<span data-ttu-id="75100-124">hello hitelesítésikód-folyamata kezdődik arra utasíthatja a hello felhasználói toohello hello ügyfél `/authorize` végpont.</span><span class="sxs-lookup"><span data-stu-id="75100-124">hello authorization code flow begins with hello client directing hello user toohello `/authorize` endpoint.</span></span> <span data-ttu-id="75100-125">Ez része hello interaktív hello folyamata, ahol a hello felhasználó végrehajtja a műveletet.</span><span class="sxs-lookup"><span data-stu-id="75100-125">This is hello interactive part of hello flow, where hello user takes action.</span></span> <span data-ttu-id="75100-126">Ebben a kérelemben hello ügyfél jelzi a hello `scope` paraméter hello engedélyeit, hogy kell-e a hello felhasználó tooacquire.</span><span class="sxs-lookup"><span data-stu-id="75100-126">In this request, hello client indicates in hello `scope` parameter hello permissions that it needs tooacquire from hello user.</span></span> <span data-ttu-id="75100-127">A hello `p` paraméter azt jelzi, hogy hello házirend tooexecute.</span><span class="sxs-lookup"><span data-stu-id="75100-127">In hello `p` parameter, it indicates hello policy tooexecute.</span></span> <span data-ttu-id="75100-128">hello következő három példák (olvashatóság érdekében sortöréssel) minden használja egy másik házirendet.</span><span class="sxs-lookup"><span data-stu-id="75100-128">hello following three examples (with line breaks for readability) each use a different policy.</span></span>

### <a name="use-a-sign-in-policy"></a><span data-ttu-id="75100-129">A bejelentkezési házirend</span><span class="sxs-lookup"><span data-stu-id="75100-129">Use a sign-in policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=code
&redirect_uri=urn%3Aietf%3Awg%3Aoauth%3A2.0%3Aoob
&response_mode=query
&scope=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&p=b2c_1_sign_in
```

### <a name="use-a-sign-up-policy"></a><span data-ttu-id="75100-130">A regisztrációs szabályzatban használata</span><span class="sxs-lookup"><span data-stu-id="75100-130">Use a sign-up policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=code
&redirect_uri=urn%3Aietf%3Awg%3Aoauth%3A2.0%3Aoob
&response_mode=query
&scope=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&p=b2c_1_sign_up
```

### <a name="use-an-edit-profile-policy"></a><span data-ttu-id="75100-131">Egy házirend-profil szerkesztése</span><span class="sxs-lookup"><span data-stu-id="75100-131">Use an edit-profile policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=code
&redirect_uri=urn%3Aietf%3Awg%3Aoauth%3A2.0%3Aoob
&response_mode=query
&scope=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&p=b2c_1_edit_profile
```

| <span data-ttu-id="75100-132">Paraméter</span><span class="sxs-lookup"><span data-stu-id="75100-132">Parameter</span></span> | <span data-ttu-id="75100-133">Kötelező?</span><span class="sxs-lookup"><span data-stu-id="75100-133">Required?</span></span> | <span data-ttu-id="75100-134">Leírás</span><span class="sxs-lookup"><span data-stu-id="75100-134">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="75100-135">client_id</span><span class="sxs-lookup"><span data-stu-id="75100-135">client_id</span></span> |<span data-ttu-id="75100-136">Szükséges</span><span class="sxs-lookup"><span data-stu-id="75100-136">Required</span></span> |<span data-ttu-id="75100-137">hello Alkalmazásazonosító hozzárendelt hello tooyour alkalmazás [Azure-portálon](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="75100-137">hello application ID assigned tooyour app in hello [Azure portal](https://portal.azure.com).</span></span> |
| <span data-ttu-id="75100-138">response_type</span><span class="sxs-lookup"><span data-stu-id="75100-138">response_type</span></span> |<span data-ttu-id="75100-139">Szükséges</span><span class="sxs-lookup"><span data-stu-id="75100-139">Required</span></span> |<span data-ttu-id="75100-140">hello válaszának típusa, amely tartalmazza `code` a hello hitelesítésikód-folyamata.</span><span class="sxs-lookup"><span data-stu-id="75100-140">hello response type, which must include `code` for hello authorization code flow.</span></span> |
| <span data-ttu-id="75100-141">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="75100-141">redirect_uri</span></span> |<span data-ttu-id="75100-142">Szükséges</span><span class="sxs-lookup"><span data-stu-id="75100-142">Required</span></span> |<span data-ttu-id="75100-143">hello átirányítási URI-címe, az alkalmazás, ahol hitelesítési válaszokat küldött és az alkalmazás által fogadott.</span><span class="sxs-lookup"><span data-stu-id="75100-143">hello redirect URI of your app, where authentication responses are sent and received by your app.</span></span> <span data-ttu-id="75100-144">Az pontosan egyeznie kell hello átirányítási URI-azonosítók regisztrált hello portálon, azzal a különbséggel, hogy az URL-kódolású kell lennie.</span><span class="sxs-lookup"><span data-stu-id="75100-144">It must exactly match one of hello redirect URIs that you registered in hello portal, except that it must be URL-encoded.</span></span> |
| <span data-ttu-id="75100-145">Hatókör</span><span class="sxs-lookup"><span data-stu-id="75100-145">scope</span></span> |<span data-ttu-id="75100-146">Szükséges</span><span class="sxs-lookup"><span data-stu-id="75100-146">Required</span></span> |<span data-ttu-id="75100-147">Hatókörök szóközökkel elválasztott listája.</span><span class="sxs-lookup"><span data-stu-id="75100-147">A space-separated list of scopes.</span></span> <span data-ttu-id="75100-148">Egy hatókör érték tooAzure Active Directory (Azure AD) mindkét hello engedélyeket, hogy kérnek.</span><span class="sxs-lookup"><span data-stu-id="75100-148">A single scope value indicates tooAzure Active Directory (Azure AD) both of hello permissions that are being requested.</span></span> <span data-ttu-id="75100-149">Hello hatókör azt jelzi, hogy az alkalmazás egy hozzáférési jogkivonatot, amely használható a saját szolgáltatás vagy webes API-t, mert által képviselt azonosító hello ügyfélprogrammal hello ugyanazon ügyfél-azonosítót.</span><span class="sxs-lookup"><span data-stu-id="75100-149">Using hello client ID as hello scope indicates that your app needs an access token that can be used against your own service or web API, represented by hello same client ID.</span></span>  <span data-ttu-id="75100-150">Hello `offline_access` hatókör azt jelzi, hogy kell-e az alkalmazást egy frissítési jogkivonat a hosszú élettartamú hozzáférés tooresources.</span><span class="sxs-lookup"><span data-stu-id="75100-150">hello `offline_access` scope indicates that your app needs a refresh token for long-lived access tooresources.</span></span> <span data-ttu-id="75100-151">Is használhatja hello `openid` hatókör toorequest egy Azure AD B2C azonosító jogkivonatot.</span><span class="sxs-lookup"><span data-stu-id="75100-151">You also can use hello `openid` scope toorequest an ID token from Azure AD B2C.</span></span> |
| <span data-ttu-id="75100-152">response_mode</span><span class="sxs-lookup"><span data-stu-id="75100-152">response_mode</span></span> |<span data-ttu-id="75100-153">Ajánlott</span><span class="sxs-lookup"><span data-stu-id="75100-153">Recommended</span></span> |<span data-ttu-id="75100-154">hello metódus toosend hello eredményül kapott engedélyezési kód hátsó tooyour alkalmazás használatát.</span><span class="sxs-lookup"><span data-stu-id="75100-154">hello method that you use toosend hello resulting authorization code back tooyour app.</span></span> <span data-ttu-id="75100-155">Ez lehet a `query`, `form_post`, vagy `fragment`.</span><span class="sxs-lookup"><span data-stu-id="75100-155">It can be `query`, `form_post`, or `fragment`.</span></span> |
| <span data-ttu-id="75100-156">state</span><span class="sxs-lookup"><span data-stu-id="75100-156">state</span></span> |<span data-ttu-id="75100-157">Ajánlott</span><span class="sxs-lookup"><span data-stu-id="75100-157">Recommended</span></span> |<span data-ttu-id="75100-158">Hello token válaszként visszaadott hello kérelemben szereplő érték.</span><span class="sxs-lookup"><span data-stu-id="75100-158">A value included in hello request that is returned in hello token response.</span></span> <span data-ttu-id="75100-159">Bármilyen tartalmat, hogy toouse karakterlánc lehet.</span><span class="sxs-lookup"><span data-stu-id="75100-159">It can be a string of any content that you want toouse.</span></span> <span data-ttu-id="75100-160">Általában egy véletlenszerűen generált egyedi érték használata esetén tooprevent webhelyközi kérések hamisításának megakadályozása támadásokat.</span><span class="sxs-lookup"><span data-stu-id="75100-160">Usually, a randomly generated unique value is  used, tooprevent cross-site request forgery attacks.</span></span> <span data-ttu-id="75100-161">hello is állapota hello felhasználói állapot hello alkalmazásban használt tooencode információ előtt hello hitelesítési kérelmet.</span><span class="sxs-lookup"><span data-stu-id="75100-161">hello state also is used tooencode information about hello user's state in hello app before hello authentication request occurred.</span></span> <span data-ttu-id="75100-162">Például a hello lap hello felhasználói volt, vagy hello végrehajtott házirend.</span><span class="sxs-lookup"><span data-stu-id="75100-162">For example, hello page hello user was on, or hello policy that was being executed.</span></span> |
| <span data-ttu-id="75100-163">P</span><span class="sxs-lookup"><span data-stu-id="75100-163">p</span></span> |<span data-ttu-id="75100-164">Szükséges</span><span class="sxs-lookup"><span data-stu-id="75100-164">Required</span></span> |<span data-ttu-id="75100-165">hello házirendet, amely végrehajtja a rendszer.</span><span class="sxs-lookup"><span data-stu-id="75100-165">hello policy that is executed.</span></span> <span data-ttu-id="75100-166">Az hello a házirend nevét, amely a Azure AD B2C-címtárban jön létre.</span><span class="sxs-lookup"><span data-stu-id="75100-166">It's hello name of a policy that is created in your Azure AD B2C directory.</span></span> <span data-ttu-id="75100-167">hello házirend név-érték előtaggal kell kezdődnie **b2c\_1\_**.</span><span class="sxs-lookup"><span data-stu-id="75100-167">hello policy name value should begin with **b2c\_1\_**.</span></span> <span data-ttu-id="75100-168">További információ a házirendek, toolearn lásd [beépített házirendek az Azure AD B2C](active-directory-b2c-reference-policies.md).</span><span class="sxs-lookup"><span data-stu-id="75100-168">toolearn more about policies, see [Azure AD B2C built-in policies](active-directory-b2c-reference-policies.md).</span></span> |
| <span data-ttu-id="75100-169">parancssor</span><span class="sxs-lookup"><span data-stu-id="75100-169">prompt</span></span> |<span data-ttu-id="75100-170">Optional</span><span class="sxs-lookup"><span data-stu-id="75100-170">Optional</span></span> |<span data-ttu-id="75100-171">hello típusa a felhasználói beavatkozás szükséges.</span><span class="sxs-lookup"><span data-stu-id="75100-171">hello type of user interaction that is required.</span></span> <span data-ttu-id="75100-172">Hello egyetlen érvényes érték jelenleg `login`, amely kényszeríti hello felhasználói tooenter adott kérelem hitelesítő adataikat.</span><span class="sxs-lookup"><span data-stu-id="75100-172">Currently, hello only valid value is `login`, which forces hello user tooenter their credentials on that request.</span></span> <span data-ttu-id="75100-173">Egyszeri bejelentkezés nem lépnek érvénybe.</span><span class="sxs-lookup"><span data-stu-id="75100-173">Single sign-on will not take effect.</span></span> |

<span data-ttu-id="75100-174">Ezen a ponton hello felhasználónak kapcsolatba toocomplete hello házirend munkafolyamat.</span><span class="sxs-lookup"><span data-stu-id="75100-174">At this point, hello user is asked toocomplete hello policy's workflow.</span></span> <span data-ttu-id="75100-175">Ez lehet, hogy magában hello felhasználói írja be a felhasználónevét és jelszavát, bejelentkezés egy közösségi identitás regisztrál a hello könyvtár, vagy több lépésből áll.</span><span class="sxs-lookup"><span data-stu-id="75100-175">This might involve hello user entering their username and password, signing in with a social identity, signing up for hello directory, or any other number of steps.</span></span> <span data-ttu-id="75100-176">Felhasználói műveletek attól függ, hogyan a hello házirend lett meghatározva.</span><span class="sxs-lookup"><span data-stu-id="75100-176">User actions depend on how hello policy is defined.</span></span>

<span data-ttu-id="75100-177">Hello felhasználói hello házirend befejezése után az Azure AD adja vissza egy válasz tooyour alkalmazást használt hello érték `redirect_uri`.</span><span class="sxs-lookup"><span data-stu-id="75100-177">After hello user completes hello policy, Azure AD returns a response tooyour app at hello value you used for `redirect_uri`.</span></span> <span data-ttu-id="75100-178">Hello megadott hello módszer használ `response_mode` paraméter.</span><span class="sxs-lookup"><span data-stu-id="75100-178">It uses hello method specified in hello `response_mode` parameter.</span></span> <span data-ttu-id="75100-179">van, hello válasz pontosan azonos hello az egyes hello felhasználói művelet esetek, független hello házirend, hogy végre lett hajtva.</span><span class="sxs-lookup"><span data-stu-id="75100-179">hello response is exactly hello same for each of hello user action scenarios, independent of hello policy that was executed.</span></span>

<span data-ttu-id="75100-180">A sikeres válasz használó `response_mode=query` dolgozunk:</span><span class="sxs-lookup"><span data-stu-id="75100-180">A successful response that uses `response_mode=query` looks like this:</span></span>

```
GET urn:ietf:wg:oauth:2.0:oob?
code=AwABAAAAvPM1KaPlrEqdFSBzjqfTGBCmLdgfSTLEMPGYuNHSUYBrq...        // hello authorization_code, truncated
&state=arbitrary_data_you_can_receive_in_the_response                // hello value provided in hello request
```

| <span data-ttu-id="75100-181">Paraméter</span><span class="sxs-lookup"><span data-stu-id="75100-181">Parameter</span></span> | <span data-ttu-id="75100-182">Leírás</span><span class="sxs-lookup"><span data-stu-id="75100-182">Description</span></span> |
| --- | --- |
| <span data-ttu-id="75100-183">Kód</span><span class="sxs-lookup"><span data-stu-id="75100-183">code</span></span> |<span data-ttu-id="75100-184">a kért alkalmazás hello engedélyezési kód hello.</span><span class="sxs-lookup"><span data-stu-id="75100-184">hello authorization code that hello app requested.</span></span> <span data-ttu-id="75100-185">hello app hello engedélyezési kód toorequest olyan hozzáférési jogkivonatot használja a cél erőforráson.</span><span class="sxs-lookup"><span data-stu-id="75100-185">hello app can use hello authorization code toorequest an access token for a target resource.</span></span> <span data-ttu-id="75100-186">Hitelesítési kódok nagyon rövid élettartamú.</span><span class="sxs-lookup"><span data-stu-id="75100-186">Authorization codes are very short-lived.</span></span> <span data-ttu-id="75100-187">Ezek általában körülbelül 10 perc múlva lejár.</span><span class="sxs-lookup"><span data-stu-id="75100-187">Typically, they expire after about 10 minutes.</span></span> |
| <span data-ttu-id="75100-188">state</span><span class="sxs-lookup"><span data-stu-id="75100-188">state</span></span> |<span data-ttu-id="75100-189">Lásd az előző szakaszban hello hello tábla hello teljes leírását.</span><span class="sxs-lookup"><span data-stu-id="75100-189">See hello full description in hello table in hello preceding section.</span></span> <span data-ttu-id="75100-190">Ha egy `state` paraméter szerepel hello ugyanazt az értéket meg kell jelennie a hello válasz hello kérelem.</span><span class="sxs-lookup"><span data-stu-id="75100-190">If a `state` parameter is included in hello request, hello same value should appear in hello response.</span></span> <span data-ttu-id="75100-191">hello app győződjön meg arról, hogy hello `state` hello kérelem-válasz szereplő értékek azonosak.</span><span class="sxs-lookup"><span data-stu-id="75100-191">hello app should verify that hello `state` values in hello request and response are identical.</span></span> |

<span data-ttu-id="75100-192">Hibaválaszok is küldhetők toohello átirányítási URI-t, hogy hello alkalmazást is kezeli azokat megfelelően:</span><span class="sxs-lookup"><span data-stu-id="75100-192">Error responses also can be sent toohello redirect URI so that hello app can handle them appropriately:</span></span>

```
GET urn:ietf:wg:oauth:2.0:oob?
error=access_denied
&error_description=The+user+has+cancelled+entering+self-asserted+information
&state=arbitrary_data_you_can_receive_in_the_response
```

| <span data-ttu-id="75100-193">Paraméter</span><span class="sxs-lookup"><span data-stu-id="75100-193">Parameter</span></span> | <span data-ttu-id="75100-194">Leírás</span><span class="sxs-lookup"><span data-stu-id="75100-194">Description</span></span> |
| --- | --- |
| <span data-ttu-id="75100-195">error</span><span class="sxs-lookup"><span data-stu-id="75100-195">error</span></span> |<span data-ttu-id="75100-196">Egy hiba kód karakterlánc, amely a jelentkező hibákról tooclassify hello típusok használhatók.</span><span class="sxs-lookup"><span data-stu-id="75100-196">An error code string that you can use tooclassify hello types of errors that occur.</span></span> <span data-ttu-id="75100-197">Hello karakterlánc tooreact tooerrors is használhatja.</span><span class="sxs-lookup"><span data-stu-id="75100-197">You also can use hello string tooreact tooerrors.</span></span> |
| <span data-ttu-id="75100-198">error_description</span><span class="sxs-lookup"><span data-stu-id="75100-198">error_description</span></span> |<span data-ttu-id="75100-199">Egy adott hibaüzenet, melyek segíthetnek hello hitelesítési hiba okának azonosításához.</span><span class="sxs-lookup"><span data-stu-id="75100-199">A specific error message that can help you identify hello root cause of an authentication error.</span></span> |
| <span data-ttu-id="75100-200">state</span><span class="sxs-lookup"><span data-stu-id="75100-200">state</span></span> |<span data-ttu-id="75100-201">Lásd a táblázat megelőző hello hello teljes leírását.</span><span class="sxs-lookup"><span data-stu-id="75100-201">See hello full description in hello preceding table.</span></span> <span data-ttu-id="75100-202">Ha egy `state` paraméter szerepel hello ugyanazt az értéket meg kell jelennie a hello válasz hello kérelem.</span><span class="sxs-lookup"><span data-stu-id="75100-202">If a `state` parameter is included in hello request, hello same value should appear in hello response.</span></span> <span data-ttu-id="75100-203">hello app győződjön meg arról, hogy hello `state` hello kérelem-válasz szereplő értékek azonosak.</span><span class="sxs-lookup"><span data-stu-id="75100-203">hello app should verify that hello `state` values in hello request and response are identical.</span></span> |

## <a name="2-get-a-token"></a><span data-ttu-id="75100-204">2. A jogkivonat beolvasása</span><span class="sxs-lookup"><span data-stu-id="75100-204">2. Get a token</span></span>
<span data-ttu-id="75100-205">Most, hogy az engedélyezési kód jut hozzá, akkor is beválthatja hello `code` a token toohello szánt erőforrás küldött POST-kérelmet toohello `/token` végpont.</span><span class="sxs-lookup"><span data-stu-id="75100-205">Now that you've acquired an authorization code, you can redeem hello `code` for a token toohello intended resource by sending a POST request toohello `/token` endpoint.</span></span> <span data-ttu-id="75100-206">Az Azure AD B2C-ben hello csak a kérhet egy token erőforrás az alkalmazás saját webes API-t.</span><span class="sxs-lookup"><span data-stu-id="75100-206">In Azure AD B2C, hello only resource that you can request a token for is your app's own back-end web API.</span></span> <span data-ttu-id="75100-207">hello egyezmény használt token tooyourself kér az alkalmazás ügyfél-azonosítója hello hatóköreként toouse:</span><span class="sxs-lookup"><span data-stu-id="75100-207">hello convention that's used for requesting a token tooyourself is toouse your app's client ID as hello scope:</span></span>

```
POST fabrikamb2c.onmicrosoft.com/oauth2/v2.0/token?p=b2c_1_sign_in HTTP/1.1
Host: https://login.microsoftonline.com
Content-Type: application/x-www-form-urlencoded

grant_type=authorization_code&client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6&scope=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access&code=AwABAAAAvPM1KaPlrEqdFSBzjqfTGBCmLdgfSTLEMPGYuNHSUYBrq...&redirect_uri=urn:ietf:wg:oauth:2.0:oob

```

| <span data-ttu-id="75100-208">Paraméter</span><span class="sxs-lookup"><span data-stu-id="75100-208">Parameter</span></span> | <span data-ttu-id="75100-209">Kötelező?</span><span class="sxs-lookup"><span data-stu-id="75100-209">Required?</span></span> | <span data-ttu-id="75100-210">Leírás</span><span class="sxs-lookup"><span data-stu-id="75100-210">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="75100-211">P</span><span class="sxs-lookup"><span data-stu-id="75100-211">p</span></span> |<span data-ttu-id="75100-212">Szükséges</span><span class="sxs-lookup"><span data-stu-id="75100-212">Required</span></span> |<span data-ttu-id="75100-213">hello házirend, de a használt tooacquire hello engedélyezési kódot.</span><span class="sxs-lookup"><span data-stu-id="75100-213">hello policy that was used tooacquire hello authorization code.</span></span> <span data-ttu-id="75100-214">A kérelem nem használhatja másik szabályt.</span><span class="sxs-lookup"><span data-stu-id="75100-214">You cannot use a different policy in this request.</span></span> <span data-ttu-id="75100-215">Vegye figyelembe, hogy hozzáadta a paraméter toohello *lekérdezési karakterlánc*, és nem hello POST törzsében.</span><span class="sxs-lookup"><span data-stu-id="75100-215">Note that you add this parameter toohello *query string*, not in hello POST body.</span></span> |
| <span data-ttu-id="75100-216">client_id</span><span class="sxs-lookup"><span data-stu-id="75100-216">client_id</span></span> |<span data-ttu-id="75100-217">Szükséges</span><span class="sxs-lookup"><span data-stu-id="75100-217">Required</span></span> |<span data-ttu-id="75100-218">hello Alkalmazásazonosító hozzárendelt hello tooyour alkalmazás [Azure-portálon](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="75100-218">hello application ID assigned tooyour app in hello [Azure portal](https://portal.azure.com).</span></span> |
| <span data-ttu-id="75100-219">grant_type</span><span class="sxs-lookup"><span data-stu-id="75100-219">grant_type</span></span> |<span data-ttu-id="75100-220">Szükséges</span><span class="sxs-lookup"><span data-stu-id="75100-220">Required</span></span> |<span data-ttu-id="75100-221">a támogatás hello típusát.</span><span class="sxs-lookup"><span data-stu-id="75100-221">hello type of grant.</span></span> <span data-ttu-id="75100-222">Hello hitelesítésikód-folyamata, hello engedélytípus kell `authorization_code`.</span><span class="sxs-lookup"><span data-stu-id="75100-222">For hello authorization code flow, hello grant type must be `authorization_code`.</span></span> |
| <span data-ttu-id="75100-223">Hatókör</span><span class="sxs-lookup"><span data-stu-id="75100-223">scope</span></span> |<span data-ttu-id="75100-224">Ajánlott</span><span class="sxs-lookup"><span data-stu-id="75100-224">Recommended</span></span> |<span data-ttu-id="75100-225">Hatókörök szóközökkel elválasztott listája.</span><span class="sxs-lookup"><span data-stu-id="75100-225">A space-separated list of scopes.</span></span> <span data-ttu-id="75100-226">Egy hatókör érték azt jelzi, hogy mindkét AD tooAzure hello engedélyeket, hogy kérnek.</span><span class="sxs-lookup"><span data-stu-id="75100-226">A single scope value indicates tooAzure AD both of hello permissions that are being requested.</span></span> <span data-ttu-id="75100-227">Hello hatókör azt jelzi, hogy az alkalmazás egy hozzáférési jogkivonatot, amely használható a saját szolgáltatás vagy webes API-t, mert által képviselt azonosító hello ügyfélprogrammal hello ugyanazon ügyfél-azonosítót.</span><span class="sxs-lookup"><span data-stu-id="75100-227">Using hello client ID as hello scope indicates that your app needs an access token that can be used against your own service or web API, represented by hello same client ID.</span></span>  <span data-ttu-id="75100-228">Hello `offline_access` hatókör azt jelzi, hogy kell-e az alkalmazást egy frissítési jogkivonat a hosszú élettartamú hozzáférés tooresources.</span><span class="sxs-lookup"><span data-stu-id="75100-228">hello `offline_access` scope indicates that your app needs a refresh token for long-lived access tooresources.</span></span>  <span data-ttu-id="75100-229">Is használhatja hello `openid` hatókör toorequest egy Azure AD B2C azonosító jogkivonatot.</span><span class="sxs-lookup"><span data-stu-id="75100-229">You also can use hello `openid` scope toorequest an ID token from Azure AD B2C.</span></span> |
| <span data-ttu-id="75100-230">Kód</span><span class="sxs-lookup"><span data-stu-id="75100-230">code</span></span> |<span data-ttu-id="75100-231">Szükséges</span><span class="sxs-lookup"><span data-stu-id="75100-231">Required</span></span> |<span data-ttu-id="75100-232">hello engedélyezési kód hello folyamat első szakasza hello beszerzett.</span><span class="sxs-lookup"><span data-stu-id="75100-232">hello authorization code that you acquired in hello first leg of hello flow.</span></span> |
| <span data-ttu-id="75100-233">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="75100-233">redirect_uri</span></span> |<span data-ttu-id="75100-234">Szükséges</span><span class="sxs-lookup"><span data-stu-id="75100-234">Required</span></span> |<span data-ttu-id="75100-235">hello átirányítási URI-címe, amelyre kapta hello engedélyezési kód hello alkalmazás.</span><span class="sxs-lookup"><span data-stu-id="75100-235">hello redirect URI of hello application where you received hello authorization code.</span></span> |

<span data-ttu-id="75100-236">A sikeres token válasz így néz ki:</span><span class="sxs-lookup"><span data-stu-id="75100-236">A successful token response looks like this:</span></span>

```
{
    "not_before": "1442340812",
    "token_type": "Bearer",
    "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...",
    "scope": "90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access",
    "expires_in": "3600",
    "refresh_token": "AAQfQmvuDy8WtUv-sd0TBwWVQs1rC-Lfxa_NDkLqpg50Cxp5Dxj0VPF1mx2Z...",
}
```
| <span data-ttu-id="75100-237">Paraméter</span><span class="sxs-lookup"><span data-stu-id="75100-237">Parameter</span></span> | <span data-ttu-id="75100-238">Leírás</span><span class="sxs-lookup"><span data-stu-id="75100-238">Description</span></span> |
| --- | --- |
| <span data-ttu-id="75100-239">not_before</span><span class="sxs-lookup"><span data-stu-id="75100-239">not_before</span></span> |<span data-ttu-id="75100-240">hello idő, mely hello jogkivonat érvényes, időbeli kortartományon.</span><span class="sxs-lookup"><span data-stu-id="75100-240">hello time at which hello token is considered valid, in epoch time.</span></span> |
| <span data-ttu-id="75100-241">token_type</span><span class="sxs-lookup"><span data-stu-id="75100-241">token_type</span></span> |<span data-ttu-id="75100-242">hello token objektumtípus-érték.</span><span class="sxs-lookup"><span data-stu-id="75100-242">hello token type value.</span></span> <span data-ttu-id="75100-243">hello csak adja meg, hogy az Azure AD által támogatott tulajdonosi-e.</span><span class="sxs-lookup"><span data-stu-id="75100-243">hello only type that Azure AD supports is Bearer.</span></span> |
| <span data-ttu-id="75100-244">access_token</span><span class="sxs-lookup"><span data-stu-id="75100-244">access_token</span></span> |<span data-ttu-id="75100-245">hello JSON webes jogkivonat (JWT) az Ön által kért aláírva.</span><span class="sxs-lookup"><span data-stu-id="75100-245">hello signed JSON Web Token (JWT) that you requested.</span></span> |
| <span data-ttu-id="75100-246">Hatókör</span><span class="sxs-lookup"><span data-stu-id="75100-246">scope</span></span> |<span data-ttu-id="75100-247">hello token hello hatókörök esetén érvényes.</span><span class="sxs-lookup"><span data-stu-id="75100-247">hello scopes that hello token is valid for.</span></span> <span data-ttu-id="75100-248">Is használhatja hatókörök toocache jogkivonatok későbbi használatra.</span><span class="sxs-lookup"><span data-stu-id="75100-248">You also can use scopes toocache tokens for later use.</span></span> |
| <span data-ttu-id="75100-249">expires_in</span><span class="sxs-lookup"><span data-stu-id="75100-249">expires_in</span></span> |<span data-ttu-id="75100-250">Hello, hogy mennyi ideig hello jogkivonat érvénytelen (másodpercben).</span><span class="sxs-lookup"><span data-stu-id="75100-250">hello length of time that hello token is valid (in seconds).</span></span> |
| <span data-ttu-id="75100-251">refresh_token</span><span class="sxs-lookup"><span data-stu-id="75100-251">refresh_token</span></span> |<span data-ttu-id="75100-252">Az OAuth 2.0-s frissítési jogkivonat.</span><span class="sxs-lookup"><span data-stu-id="75100-252">An OAuth 2.0 refresh token.</span></span> <span data-ttu-id="75100-253">hello app használhatja a token tooacquire további jogkivonatok hello aktuális jogkivonat lejárata után is.</span><span class="sxs-lookup"><span data-stu-id="75100-253">hello app can use this token tooacquire additional tokens after hello current token expires.</span></span> <span data-ttu-id="75100-254">Frissítési jogkivonatok hosszú élettartamú.</span><span class="sxs-lookup"><span data-stu-id="75100-254">Refresh tokens are long-lived.</span></span> <span data-ttu-id="75100-255">Használhatja őket tooretain hozzáférés tooresources huzamosabb ideig.</span><span class="sxs-lookup"><span data-stu-id="75100-255">You can use them tooretain access tooresources for extended periods of time.</span></span> <span data-ttu-id="75100-256">További információkért lásd: hello [Azure AD B2C-jogkivonatok referenciájából](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="75100-256">For more information, see hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> |

<span data-ttu-id="75100-257">Hibaválaszok néznek ki:</span><span class="sxs-lookup"><span data-stu-id="75100-257">Error responses look like this:</span></span>

```
{
    "error": "access_denied",
    "error_description": "hello user revoked access toohello app.",
}
```

| <span data-ttu-id="75100-258">Paraméter</span><span class="sxs-lookup"><span data-stu-id="75100-258">Parameter</span></span> | <span data-ttu-id="75100-259">Leírás</span><span class="sxs-lookup"><span data-stu-id="75100-259">Description</span></span> |
| --- | --- |
| <span data-ttu-id="75100-260">error</span><span class="sxs-lookup"><span data-stu-id="75100-260">error</span></span> |<span data-ttu-id="75100-261">Egy hiba kód karakterlánc, amely a jelentkező hibákról tooclassify hello típusok használhatók.</span><span class="sxs-lookup"><span data-stu-id="75100-261">An error code string that you can use tooclassify hello types of errors that occur.</span></span> <span data-ttu-id="75100-262">Hello karakterlánc tooreact tooerrors is használhatja.</span><span class="sxs-lookup"><span data-stu-id="75100-262">You also can use hello string tooreact tooerrors.</span></span> |
| <span data-ttu-id="75100-263">error_description</span><span class="sxs-lookup"><span data-stu-id="75100-263">error_description</span></span> |<span data-ttu-id="75100-264">Egy adott hibaüzenet, melyek segíthetnek hello hitelesítési hiba okának azonosításához.</span><span class="sxs-lookup"><span data-stu-id="75100-264">A specific error message that can help you identify hello root cause of an authentication error.</span></span> |

## <a name="3-use-hello-token"></a><span data-ttu-id="75100-265">3. Hello jogkivonat használata</span><span class="sxs-lookup"><span data-stu-id="75100-265">3. Use hello token</span></span>
<span data-ttu-id="75100-266">Most, hogy olyan hozzáférési jogkivonatot már sikeresen szerezte be, használhatja hello token kérelmek tooyour webes API-k belefoglalja azt hello `Authorization` fejléc:</span><span class="sxs-lookup"><span data-stu-id="75100-266">Now that you've successfully acquired an access token, you can use hello token in requests tooyour back-end web APIs by including it in hello `Authorization` header:</span></span>

```
GET /tasks
Host: https://mytaskwebapi.com
Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
```

## <a name="4-refresh-hello-token"></a><span data-ttu-id="75100-267">4. Hello token frissítése</span><span class="sxs-lookup"><span data-stu-id="75100-267">4. Refresh hello token</span></span>
<span data-ttu-id="75100-268">Hozzáférési jogkivonatok és azonosító-jogkivonatokat, amelyek rövid élettartamú.</span><span class="sxs-lookup"><span data-stu-id="75100-268">Access tokens and ID tokens are short-lived.</span></span> <span data-ttu-id="75100-269">Után, frissítenie kell őket toocontinue tooaccess erőforrásokat.</span><span class="sxs-lookup"><span data-stu-id="75100-269">After they expire, you must refresh them toocontinue tooaccess resources.</span></span> <span data-ttu-id="75100-270">toodo, küldje el a POST-kérelmet egy másik toohello `/token` végpont.</span><span class="sxs-lookup"><span data-stu-id="75100-270">toodo this, submit another POST request toohello `/token` endpoint.</span></span> <span data-ttu-id="75100-271">Most, adja meg a hello `refresh_token` helyett hello `code`:</span><span class="sxs-lookup"><span data-stu-id="75100-271">This time, provide hello `refresh_token` instead of hello `code`:</span></span>

```
POST fabrikamb2c.onmicrosoft.com/oauth2/v2.0/token?p=b2c_1_sign_in HTTP/1.1
Host: https://login.microsoftonline.com
Content-Type: application/x-www-form-urlencoded

grant_type=refresh_token&client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6&scope=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access&refresh_token=AwABAAAAvPM1KaPlrEqdFSBzjqfTGBCmLdgfSTLEMPGYuNHSUYBrq...&redirect_uri=urn:ietf:wg:oauth:2.0:oob
```

| <span data-ttu-id="75100-272">Paraméter</span><span class="sxs-lookup"><span data-stu-id="75100-272">Parameter</span></span> | <span data-ttu-id="75100-273">Kötelező?</span><span class="sxs-lookup"><span data-stu-id="75100-273">Required?</span></span> | <span data-ttu-id="75100-274">Leírás</span><span class="sxs-lookup"><span data-stu-id="75100-274">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="75100-275">P</span><span class="sxs-lookup"><span data-stu-id="75100-275">p</span></span> |<span data-ttu-id="75100-276">Szükséges</span><span class="sxs-lookup"><span data-stu-id="75100-276">Required</span></span> |<span data-ttu-id="75100-277">hello házirend, de a használt tooacquire hello eredeti frissítési jogkivonat.</span><span class="sxs-lookup"><span data-stu-id="75100-277">hello policy that was used tooacquire hello original refresh token.</span></span> <span data-ttu-id="75100-278">A kérelem nem használhatja másik szabályt.</span><span class="sxs-lookup"><span data-stu-id="75100-278">You cannot use a different policy in this request.</span></span> <span data-ttu-id="75100-279">Vegye figyelembe, hogy hozzáadta a paraméter toohello *lekérdezési karakterlánc*, és nem hello POST törzsében.</span><span class="sxs-lookup"><span data-stu-id="75100-279">Note that you add this parameter toohello *query string*, not in hello POST body.</span></span> |
| <span data-ttu-id="75100-280">client_id</span><span class="sxs-lookup"><span data-stu-id="75100-280">client_id</span></span> |<span data-ttu-id="75100-281">Ajánlott</span><span class="sxs-lookup"><span data-stu-id="75100-281">Recommended</span></span> |<span data-ttu-id="75100-282">hello Alkalmazásazonosító hozzárendelt hello tooyour alkalmazás [Azure-portálon](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="75100-282">hello application ID assigned tooyour app in hello [Azure portal](https://portal.azure.com).</span></span> |
| <span data-ttu-id="75100-283">grant_type</span><span class="sxs-lookup"><span data-stu-id="75100-283">grant_type</span></span> |<span data-ttu-id="75100-284">Szükséges</span><span class="sxs-lookup"><span data-stu-id="75100-284">Required</span></span> |<span data-ttu-id="75100-285">a támogatás hello típusát.</span><span class="sxs-lookup"><span data-stu-id="75100-285">hello type of grant.</span></span> <span data-ttu-id="75100-286">Hello hitelesítésikód-folyamata ezen szakasza hello engedélytípus kell `refresh_token`.</span><span class="sxs-lookup"><span data-stu-id="75100-286">For this leg of hello authorization code flow, hello grant type must be `refresh_token`.</span></span> |
| <span data-ttu-id="75100-287">Hatókör</span><span class="sxs-lookup"><span data-stu-id="75100-287">scope</span></span> |<span data-ttu-id="75100-288">Ajánlott</span><span class="sxs-lookup"><span data-stu-id="75100-288">Recommended</span></span> |<span data-ttu-id="75100-289">Hatókörök szóközökkel elválasztott listája.</span><span class="sxs-lookup"><span data-stu-id="75100-289">A space-separated list of scopes.</span></span> <span data-ttu-id="75100-290">Egy hatókör érték azt jelzi, hogy mindkét AD tooAzure hello engedélyeket, hogy kérnek.</span><span class="sxs-lookup"><span data-stu-id="75100-290">A single scope value indicates tooAzure AD both of hello permissions that are being requested.</span></span> <span data-ttu-id="75100-291">Hello hatókör azt jelzi, hogy az alkalmazás egy hozzáférési jogkivonatot, amely használható a saját szolgáltatás vagy webes API-t, mert által képviselt azonosító hello ügyfélprogrammal hello ugyanazon ügyfél-azonosítót.</span><span class="sxs-lookup"><span data-stu-id="75100-291">Using hello client ID as hello scope indicates that your app needs an access token that can be used against your own service or web API, represented by hello same client ID.</span></span>  <span data-ttu-id="75100-292">Hello `offline_access` hatókör azt jelzi, hogy az alkalmazás a hosszú élettartamú hozzáférés tooresources kell egy frissítési jogkivonat.</span><span class="sxs-lookup"><span data-stu-id="75100-292">hello `offline_access` scope indicates that your app will need a refresh token for long-lived access tooresources.</span></span>  <span data-ttu-id="75100-293">Is használhatja hello `openid` hatókör toorequest egy Azure AD B2C azonosító jogkivonatot.</span><span class="sxs-lookup"><span data-stu-id="75100-293">You also can use hello `openid` scope toorequest an ID token from Azure AD B2C.</span></span> |
| <span data-ttu-id="75100-294">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="75100-294">redirect_uri</span></span> |<span data-ttu-id="75100-295">Optional</span><span class="sxs-lookup"><span data-stu-id="75100-295">Optional</span></span> |<span data-ttu-id="75100-296">hello átirányítási URI-címe, amelyre kapta hello engedélyezési kód hello alkalmazás.</span><span class="sxs-lookup"><span data-stu-id="75100-296">hello redirect URI of hello application where you received hello authorization code.</span></span> |
| <span data-ttu-id="75100-297">refresh_token</span><span class="sxs-lookup"><span data-stu-id="75100-297">refresh_token</span></span> |<span data-ttu-id="75100-298">Szükséges</span><span class="sxs-lookup"><span data-stu-id="75100-298">Required</span></span> |<span data-ttu-id="75100-299">hello eredeti frissítési jogkivonat hello folyamat második szakasza hello beszerzett.</span><span class="sxs-lookup"><span data-stu-id="75100-299">hello original refresh token that you acquired in hello second leg of hello flow.</span></span> |

<span data-ttu-id="75100-300">A sikeres token válasz így néz ki:</span><span class="sxs-lookup"><span data-stu-id="75100-300">A successful token response looks like this:</span></span>

```
{
    "not_before": "1442340812",
    "token_type": "Bearer",
    "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...",
    "scope": "90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access",
    "expires_in": "3600",
    "refresh_token": "AAQfQmvuDy8WtUv-sd0TBwWVQs1rC-Lfxa_NDkLqpg50Cxp5Dxj0VPF1mx2Z...",
}
```
| <span data-ttu-id="75100-301">Paraméter</span><span class="sxs-lookup"><span data-stu-id="75100-301">Parameter</span></span> | <span data-ttu-id="75100-302">Leírás</span><span class="sxs-lookup"><span data-stu-id="75100-302">Description</span></span> |
| --- | --- |
| <span data-ttu-id="75100-303">not_before</span><span class="sxs-lookup"><span data-stu-id="75100-303">not_before</span></span> |<span data-ttu-id="75100-304">hello idő, mely hello jogkivonat érvényes, időbeli kortartományon.</span><span class="sxs-lookup"><span data-stu-id="75100-304">hello time at which hello token is considered valid, in epoch time.</span></span> |
| <span data-ttu-id="75100-305">token_type</span><span class="sxs-lookup"><span data-stu-id="75100-305">token_type</span></span> |<span data-ttu-id="75100-306">hello token objektumtípus-érték.</span><span class="sxs-lookup"><span data-stu-id="75100-306">hello token type value.</span></span> <span data-ttu-id="75100-307">hello csak adja meg, hogy az Azure AD által támogatott tulajdonosi-e.</span><span class="sxs-lookup"><span data-stu-id="75100-307">hello only type that Azure AD supports is Bearer.</span></span> |
| <span data-ttu-id="75100-308">access_token</span><span class="sxs-lookup"><span data-stu-id="75100-308">access_token</span></span> |<span data-ttu-id="75100-309">hello jwt-t az Ön által kért aláírva.</span><span class="sxs-lookup"><span data-stu-id="75100-309">hello signed JWT that you requested.</span></span> |
| <span data-ttu-id="75100-310">Hatókör</span><span class="sxs-lookup"><span data-stu-id="75100-310">scope</span></span> |<span data-ttu-id="75100-311">hello token hello hatókörök esetén érvényes.</span><span class="sxs-lookup"><span data-stu-id="75100-311">hello scopes that hello token is valid for.</span></span> <span data-ttu-id="75100-312">Is használhatja hello hatókörök toocache jogkivonatok későbbi használatra.</span><span class="sxs-lookup"><span data-stu-id="75100-312">You also can use hello scopes toocache tokens for later use.</span></span> |
| <span data-ttu-id="75100-313">expires_in</span><span class="sxs-lookup"><span data-stu-id="75100-313">expires_in</span></span> |<span data-ttu-id="75100-314">Hello, hogy mennyi ideig hello jogkivonat érvénytelen (másodpercben).</span><span class="sxs-lookup"><span data-stu-id="75100-314">hello length of time that hello token is valid (in seconds).</span></span> |
| <span data-ttu-id="75100-315">refresh_token</span><span class="sxs-lookup"><span data-stu-id="75100-315">refresh_token</span></span> |<span data-ttu-id="75100-316">Az OAuth 2.0-s frissítési jogkivonat.</span><span class="sxs-lookup"><span data-stu-id="75100-316">An OAuth 2.0 refresh token.</span></span> <span data-ttu-id="75100-317">hello app használhatja a token tooacquire további jogkivonatok hello aktuális jogkivonat lejárata után is.</span><span class="sxs-lookup"><span data-stu-id="75100-317">hello app can use this token tooacquire additional tokens after hello current token expires.</span></span> <span data-ttu-id="75100-318">Frissítési jogkivonatok hosszú élettartamú, és hosszabb ideig használt tooretain hozzáférés tooresources lehet.</span><span class="sxs-lookup"><span data-stu-id="75100-318">Refresh tokens are long-lived, and can be used tooretain access tooresources for extended periods of time.</span></span> <span data-ttu-id="75100-319">További információkért lásd: hello [Azure AD B2C-jogkivonatok referenciájából](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="75100-319">For more information, see hello [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> |

<span data-ttu-id="75100-320">Hibaválaszok néznek ki:</span><span class="sxs-lookup"><span data-stu-id="75100-320">Error responses look like this:</span></span>

```
{
    "error": "access_denied",
    "error_description": "hello user revoked access toohello app.",
}
```

| <span data-ttu-id="75100-321">Paraméter</span><span class="sxs-lookup"><span data-stu-id="75100-321">Parameter</span></span> | <span data-ttu-id="75100-322">Leírás</span><span class="sxs-lookup"><span data-stu-id="75100-322">Description</span></span> |
| --- | --- |
| <span data-ttu-id="75100-323">error</span><span class="sxs-lookup"><span data-stu-id="75100-323">error</span></span> |<span data-ttu-id="75100-324">Egy hiba kód karakterlánc, amely a jelentkező hibákról tooclassify típusok használhatók.</span><span class="sxs-lookup"><span data-stu-id="75100-324">An error code string that you can use tooclassify types of errors that occur.</span></span> <span data-ttu-id="75100-325">Hello karakterlánc tooreact tooerrors is használhatja.</span><span class="sxs-lookup"><span data-stu-id="75100-325">You also can use hello string tooreact tooerrors.</span></span> |
| <span data-ttu-id="75100-326">error_description</span><span class="sxs-lookup"><span data-stu-id="75100-326">error_description</span></span> |<span data-ttu-id="75100-327">Egy adott hibaüzenet, melyek segíthetnek hello hitelesítési hiba okának azonosításához.</span><span class="sxs-lookup"><span data-stu-id="75100-327">A specific error message that can help you identify hello root cause of an authentication error.</span></span> |

## <a name="use-your-own-azure-ad-b2c-directory"></a><span data-ttu-id="75100-328">Használja a saját Azure AD B2C-címtár</span><span class="sxs-lookup"><span data-stu-id="75100-328">Use your own Azure AD B2C directory</span></span>
<span data-ttu-id="75100-329">Ezek a kérelmek magát, a következő teljes hello tootry lépéseket.</span><span class="sxs-lookup"><span data-stu-id="75100-329">tootry these requests yourself, complete hello following steps.</span></span> <span data-ttu-id="75100-330">Cserélje le a hello példaértékeket a saját értékekkel cikkben használtuk.</span><span class="sxs-lookup"><span data-stu-id="75100-330">Replace hello example values we used in this article with your own values.</span></span>

1. <span data-ttu-id="75100-331">[Az Azure AD B2C címtár létrehozása](active-directory-b2c-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="75100-331">[Create an Azure AD B2C directory](active-directory-b2c-get-started.md).</span></span> <span data-ttu-id="75100-332">A könyvtár hello nevét használja hello kérésekben.</span><span class="sxs-lookup"><span data-stu-id="75100-332">Use hello name of your directory in hello requests.</span></span>
2. <span data-ttu-id="75100-333">[Hozzon létre egy alkalmazást](active-directory-b2c-app-registration.md) tooobtain Azonosítóját és egy átirányítási URI-t.</span><span class="sxs-lookup"><span data-stu-id="75100-333">[Create an application](active-directory-b2c-app-registration.md) tooobtain an application ID and a redirect URI.</span></span> <span data-ttu-id="75100-334">Egy natív ügyfél tartalmazza az alkalmazásban.</span><span class="sxs-lookup"><span data-stu-id="75100-334">Include a native client in your app.</span></span>
3. <span data-ttu-id="75100-335">[A házirendek létrehozása](active-directory-b2c-reference-policies.md) tooobtain a házirend nevét.</span><span class="sxs-lookup"><span data-stu-id="75100-335">[Create your policies](active-directory-b2c-reference-policies.md) tooobtain your policy names.</span></span>

