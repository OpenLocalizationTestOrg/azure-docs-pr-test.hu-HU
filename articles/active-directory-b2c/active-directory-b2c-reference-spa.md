---
title: "Az Azure Active Directory B2C: Egyoldalas alkalmazások implicit engedélyezési folyamat |} Microsoft Docs"
description: "Megtudhatja, hogyan hozhat létre egyoldalas alkalmazások közvetlenül az Azure Active Directory B2C OAuth 2.0 típusú implicit engedélyezési folyamat használatával."
services: active-directory-b2c
documentationcenter: 
author: parakhj
manager: krassk
editor: parakhj
ms.assetid: a45cc74c-a37e-453f-b08b-af75855e0792
ms.service: active-directory-b2c
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 02/06/2017
ms.author: parakhj
ms.openlocfilehash: 44ff168599e9078506e1afdd0f1dc4657ef0964d
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 07/11/2017
---
# <a name="azure-ad-b2c-single-page-app-sign-in-by-using-oauth-20-implicit-flow"></a><span data-ttu-id="942ef-103">Az Azure AD B2C: Egyoldalas alkalmazások bejelentkezés OAuth 2.0 típusú implicit engedélyezési folyamat használatával</span><span class="sxs-lookup"><span data-stu-id="942ef-103">Azure AD B2C: Single-page app sign-in by using OAuth 2.0 implicit flow</span></span>

> [!NOTE]
> <span data-ttu-id="942ef-104">A funkció jelenleg előzetes verzió.</span><span class="sxs-lookup"><span data-stu-id="942ef-104">This feature is in preview.</span></span>
> 

<span data-ttu-id="942ef-105">Számos modern alkalmazások alkalmazás előtér írt elsősorban a JavaScript rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="942ef-105">Many modern apps have a single-page app front end that primarily is written in JavaScript.</span></span> <span data-ttu-id="942ef-106">Az alkalmazás íródik gyakran, például az AngularJS, az Ember.js vagy a Durandal keretrendszer használatával.</span><span class="sxs-lookup"><span data-stu-id="942ef-106">Often, the app is written by using a framework like AngularJS, Ember.js, or Durandal.</span></span> <span data-ttu-id="942ef-107">Egyoldalas alkalmazások és más elsősorban a böngészőben futó JavaScript-alkalmazások van néhány további kihívást hitelesítéshez:</span><span class="sxs-lookup"><span data-stu-id="942ef-107">Single-page apps and other JavaScript apps that run primarily in a browser have some additional challenges for authentication:</span></span>

* <span data-ttu-id="942ef-108">Ezeknek az alkalmazásoknak a biztonsági jellemzőkkel jelentősen különböznek a hagyományos server-alapú webes alkalmazásokhoz.</span><span class="sxs-lookup"><span data-stu-id="942ef-108">The security characteristics of these apps are significantly different from traditional server-based web applications.</span></span>
* <span data-ttu-id="942ef-109">Számos engedélyezési kiszolgálók és identitás-szolgáltatóktól nem támogatja az eltérő eredetű erőforrások megosztása (CORS) kérések.</span><span class="sxs-lookup"><span data-stu-id="942ef-109">Many authorization servers and identity providers do not support cross-origin resource sharing (CORS) requests.</span></span>
* <span data-ttu-id="942ef-110">Lehet, hogy elhagyja az alkalmazás teljes oldalas böngésző átirányítások jelentősen invazív, a felhasználói felületet.</span><span class="sxs-lookup"><span data-stu-id="942ef-110">Full-page browser redirects away from the app can be significantly invasive to the user experience.</span></span>

<span data-ttu-id="942ef-111">Ezeket az alkalmazásokat, Azure Active Directory B2C támogatásához (az Azure AD B2C) az OAuth 2.0 típusú implicit engedélyezési folyamat használja.</span><span class="sxs-lookup"><span data-stu-id="942ef-111">To support these applications, Azure Active Directory B2C (Azure AD B2C) uses the OAuth 2.0 implicit flow.</span></span> <span data-ttu-id="942ef-112">Az OAuth 2.0 engedélyezési implicit grant flow ismertetett [4.2 az OAuth 2.0-s szabvány szakasz](http://tools.ietf.org/html/rfc6749).</span><span class="sxs-lookup"><span data-stu-id="942ef-112">The OAuth 2.0 authorization implicit grant flow is described in [section 4.2 of the OAuth 2.0 specification](http://tools.ietf.org/html/rfc6749).</span></span> <span data-ttu-id="942ef-113">Az implicit engedélyezési folyamat, az alkalmazás-jogkivonatokat kap az Azure Active Directory (Azure AD) közvetlenül a végpont, minden kiszolgáló-kiszolgáló exchange nélkül engedélyezik.</span><span class="sxs-lookup"><span data-stu-id="942ef-113">In implicit flow, the app receives tokens directly from the Azure Active Directory (Azure AD) authorize endpoint, without any server-to-server exchange.</span></span> <span data-ttu-id="942ef-114">Minden hitelesítési logikát és kezelési vesz munkamenet helyezhető el teljes egészében a JavaScript ügyfélprogramokban, de további oldal átirányítja az.</span><span class="sxs-lookup"><span data-stu-id="942ef-114">All authentication logic and session handling takes place entirely in the JavaScript client, without additional page redirects.</span></span>

<span data-ttu-id="942ef-115">Az Azure AD B2C bővíti a szabványos OAuth 2.0 típusú implicit engedélyezési folyamat több mint az egyszerű hitelesítéshez és engedélyezéshez.</span><span class="sxs-lookup"><span data-stu-id="942ef-115">Azure AD B2C extends the standard OAuth 2.0 implicit flow to more than simple authentication and authorization.</span></span> <span data-ttu-id="942ef-116">Az Azure AD B2C vezet be a [házirend paraméter](active-directory-b2c-reference-policies.md).</span><span class="sxs-lookup"><span data-stu-id="942ef-116">Azure AD B2C introduces the [policy parameter](active-directory-b2c-reference-policies.md).</span></span> <span data-ttu-id="942ef-117">A házirend-paraméterrel, az OAuth 2.0 segítségével felhasználói élményt hozzáadása az alkalmazáshoz, például a regisztráció, bejelentkezés és profilok kezelése.</span><span class="sxs-lookup"><span data-stu-id="942ef-117">With the policy parameter, you can use OAuth 2.0 to add user experiences to your app, such as sign-up, sign-in, and profile management.</span></span> <span data-ttu-id="942ef-118">Ez a cikk azt mutatja be a implicit engedélyezési folyamat és az Azure AD használatával valósít meg minden olyan ezeket a szolgáltatásokat a egyoldalas alkalmazások.</span><span class="sxs-lookup"><span data-stu-id="942ef-118">In this article, we show you how to use the implicit flow and Azure AD to implement each of these experiences in your single-page applications.</span></span> <span data-ttu-id="942ef-119">Első lépések segítségével vessen egy pillantást a [Node.js](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-nodejs-webapi) és [Microsoft .NET](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-dotnet-webapi) minták.</span><span class="sxs-lookup"><span data-stu-id="942ef-119">To help you get started, take a look at our [Node.js](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-nodejs-webapi) and [Microsoft .NET](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-dotnet-webapi) samples.</span></span>

<span data-ttu-id="942ef-120">A minta Azure AD B2C-címtár használjuk a ebben a cikkben példa HTTP-kérelmeket, **fabrikamb2c.onmicrosoft.com**.</span><span class="sxs-lookup"><span data-stu-id="942ef-120">In the example HTTP requests in this article, we use our sample Azure AD B2C directory, **fabrikamb2c.onmicrosoft.com**.</span></span> <span data-ttu-id="942ef-121">Is használhatja a saját mintaalkalmazás és a házirendeket.</span><span class="sxs-lookup"><span data-stu-id="942ef-121">We also use our own sample application and policies.</span></span> <span data-ttu-id="942ef-122">Megpróbálhatja a kérelmek saját kezűleg ezen értékek használatával, vagy azokat lecserélheti a saját értékeit.</span><span class="sxs-lookup"><span data-stu-id="942ef-122">You can try the requests yourself by using these values, or you can replace them with your own values.</span></span>
<span data-ttu-id="942ef-123">Megtudhatja, hogyan [beolvasása a saját Azure AD B2C directory, az alkalmazás és a házirendek](#use-your-own-b2c-tenant).</span><span class="sxs-lookup"><span data-stu-id="942ef-123">Learn how to [get your own Azure AD B2C directory, application, and policies](#use-your-own-b2c-tenant).</span></span>


## <a name="protocol-diagram"></a><span data-ttu-id="942ef-124">Protokoll diagramja</span><span class="sxs-lookup"><span data-stu-id="942ef-124">Protocol diagram</span></span>

<span data-ttu-id="942ef-125">Az implicit bejelentkezési folyamat alábbihoz hasonló az alábbi ábra.</span><span class="sxs-lookup"><span data-stu-id="942ef-125">The implicit sign-in flow looks something like the following figure.</span></span> <span data-ttu-id="942ef-126">Az egyes lépések a cikk későbbi részében részletes leírása.</span><span class="sxs-lookup"><span data-stu-id="942ef-126">Each step is described in detail later in the article.</span></span>

![OpenID Connect sávok](../media/active-directory-v2-flows/convergence_scenarios_implicit.png)

## <a name="send-authentication-requests"></a><span data-ttu-id="942ef-128">Hitelesítési kérések küldése</span><span class="sxs-lookup"><span data-stu-id="942ef-128">Send authentication requests</span></span>
<span data-ttu-id="942ef-129">Ha a webalkalmazás kell hitelesíteni a felhasználót, majd hajtsa végre egy házirendet, a rendszer arra utasítja a felhasználót, hogy a `/authorize` végpont.</span><span class="sxs-lookup"><span data-stu-id="942ef-129">When your web app needs to authenticate the user and execute a policy, it directs the user to the `/authorize` endpoint.</span></span> <span data-ttu-id="942ef-130">Az adatfolyam interaktív része azt, ha a felhasználó végrehajtja a műveletet, attól függően, hogy a házirend.</span><span class="sxs-lookup"><span data-stu-id="942ef-130">This is the interactive portion of the flow, where the user takes action, depending on the policy.</span></span> <span data-ttu-id="942ef-131">A felhasználó kapja az Azure AD-végpont token Azonosítót.</span><span class="sxs-lookup"><span data-stu-id="942ef-131">The user gets an ID token from the Azure AD endpoint.</span></span>

<span data-ttu-id="942ef-132">A kérelem, az ügyfél azt jelzi, az a `scope` paraméter szerzi be a felhasználó szükséges engedélyeket.</span><span class="sxs-lookup"><span data-stu-id="942ef-132">In this request, the client indicates in the `scope` parameter the permissions that it needs to acquire from the user.</span></span> <span data-ttu-id="942ef-133">Az a `p` paraméter azt jelzi, a házirend végrehajtásához.</span><span class="sxs-lookup"><span data-stu-id="942ef-133">In the `p` parameter, it indicates the policy to execute.</span></span> <span data-ttu-id="942ef-134">Az alábbi három példák (olvashatóság érdekében sortöréssel) minden használja egy másik házirendet.</span><span class="sxs-lookup"><span data-stu-id="942ef-134">The following three examples (with line breaks for readability) each use a different policy.</span></span> <span data-ttu-id="942ef-135">Követve betekintést nyerhet abba az egyes kérelmek működése, próbálja meg beilleszteni a kérelem egy böngészőbe, és azt futtatja.</span><span class="sxs-lookup"><span data-stu-id="942ef-135">To get a feel for how each request works, try pasting the request into a browser and running it.</span></span>

### <a name="use-a-sign-in-policy"></a><span data-ttu-id="942ef-136">A bejelentkezési házirend</span><span class="sxs-lookup"><span data-stu-id="942ef-136">Use a sign-in policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=id_token+token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=fragment
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_sign_in
```

### <a name="use-a-sign-up-policy"></a><span data-ttu-id="942ef-137">A regisztrációs szabályzatban használata</span><span class="sxs-lookup"><span data-stu-id="942ef-137">Use a sign-up policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=id_token+token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=fragment
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_sign_up
```

### <a name="use-an-edit-profile-policy"></a><span data-ttu-id="942ef-138">Egy házirend-profil szerkesztése</span><span class="sxs-lookup"><span data-stu-id="942ef-138">Use an edit-profile policy</span></span>
```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=id_token+token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&response_mode=fragment
&scope=openid%20offline_access
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&p=b2c_1_edit_profile
```

| <span data-ttu-id="942ef-139">Paraméter</span><span class="sxs-lookup"><span data-stu-id="942ef-139">Parameter</span></span> | <span data-ttu-id="942ef-140">Kötelező megadni?</span><span class="sxs-lookup"><span data-stu-id="942ef-140">Required?</span></span> | <span data-ttu-id="942ef-141">Leírás</span><span class="sxs-lookup"><span data-stu-id="942ef-141">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="942ef-142">client_id</span><span class="sxs-lookup"><span data-stu-id="942ef-142">client_id</span></span> |<span data-ttu-id="942ef-143">Szükséges</span><span class="sxs-lookup"><span data-stu-id="942ef-143">Required</span></span> |<span data-ttu-id="942ef-144">Az alkalmazást a hozzárendelt Alkalmazásazonosító a [Azure-portálon](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="942ef-144">The application ID assigned to your app in the [Azure portal](https://portal.azure.com).</span></span> |
| <span data-ttu-id="942ef-145">response_type</span><span class="sxs-lookup"><span data-stu-id="942ef-145">response_type</span></span> |<span data-ttu-id="942ef-146">Szükséges</span><span class="sxs-lookup"><span data-stu-id="942ef-146">Required</span></span> |<span data-ttu-id="942ef-147">Tartalmaznia kell `id_token` az OpenID Connect bejelentkezhet.</span><span class="sxs-lookup"><span data-stu-id="942ef-147">Must include `id_token` for OpenID Connect sign-in.</span></span> <span data-ttu-id="942ef-148">A válasz típusa is tartalmazhatja `token`.</span><span class="sxs-lookup"><span data-stu-id="942ef-148">It also can include the response type `token`.</span></span> <span data-ttu-id="942ef-149">Ha `token`, az alkalmazás azonnal fogadhat második kérést a hitelesítési végpontra nélkül hozzáférési token a hitelesítési végpontra.</span><span class="sxs-lookup"><span data-stu-id="942ef-149">If you use `token`, your app can immediately receive an access token from the authorize endpoint, without making a second request to the authorize endpoint.</span></span>  <span data-ttu-id="942ef-150">Ha használja a `token` válaszának típusa, a `scope` paraméternek tartalmaznia kell egy hatókör, amely jelzi, melyik erőforrást kell a jogkivonatot bocsásson ki.</span><span class="sxs-lookup"><span data-stu-id="942ef-150">If you use the `token` response type, the `scope` parameter must contain a scope that indicates which resource to issue the token for.</span></span> |
| <span data-ttu-id="942ef-151">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="942ef-151">redirect_uri</span></span> |<span data-ttu-id="942ef-152">Ajánlott</span><span class="sxs-lookup"><span data-stu-id="942ef-152">Recommended</span></span> |<span data-ttu-id="942ef-153">Az átirányítási URI-t, az alkalmazás, ahol küldött és az alkalmazás által fogadott a hitelesítési válaszokat.</span><span class="sxs-lookup"><span data-stu-id="942ef-153">The redirect URI of your app, where authentication responses can be sent and received by your app.</span></span> <span data-ttu-id="942ef-154">Az pontosan egyeznie kell az átirányítási URI-k, a portál regisztrált azzal a különbséggel, hogy az URL-kódolású kell lennie.</span><span class="sxs-lookup"><span data-stu-id="942ef-154">It must exactly match one of the redirect URIs that you registered in the portal, except that it must be URL-encoded.</span></span> |
| <span data-ttu-id="942ef-155">response_mode</span><span class="sxs-lookup"><span data-stu-id="942ef-155">response_mode</span></span> |<span data-ttu-id="942ef-156">Ajánlott</span><span class="sxs-lookup"><span data-stu-id="942ef-156">Recommended</span></span> |<span data-ttu-id="942ef-157">Meghatározza az eredményül kapott jogkivonat vissza küldése az alkalmazásnak használandó módszert.</span><span class="sxs-lookup"><span data-stu-id="942ef-157">Specifies the method to use to send the resulting token back to your app.</span></span>  <span data-ttu-id="942ef-158">Implicit adatfolyamok, használjon `fragment`.</span><span class="sxs-lookup"><span data-stu-id="942ef-158">For implicit flows, use `fragment`.</span></span> |
| <span data-ttu-id="942ef-159">Hatókör</span><span class="sxs-lookup"><span data-stu-id="942ef-159">scope</span></span> |<span data-ttu-id="942ef-160">Szükséges</span><span class="sxs-lookup"><span data-stu-id="942ef-160">Required</span></span> |<span data-ttu-id="942ef-161">Hatókörök szóközökkel elválasztott listája.</span><span class="sxs-lookup"><span data-stu-id="942ef-161">A space-separated list of scopes.</span></span> <span data-ttu-id="942ef-162">Egy hatókör érték azt jelzi, az Azure AD mindkét kérnek engedély.</span><span class="sxs-lookup"><span data-stu-id="942ef-162">A single scope value indicates to Azure AD both of the permissions that are being requested.</span></span> <span data-ttu-id="942ef-163">A `openid` hatókör azt jelzi, a felhasználói azonosító-jogkivonatokat formájában adatait, és jelentkezzen be a felhasználó engedélyt.</span><span class="sxs-lookup"><span data-stu-id="942ef-163">The `openid` scope indicates a permission to sign in the user and get data about the user in the form of ID tokens.</span></span> <span data-ttu-id="942ef-164">(Lesz döntésről bővebben Ez a cikk több későbbi részében.) A `offline_access` hatókör megadása nem kötelező web Apps.</span><span class="sxs-lookup"><span data-stu-id="942ef-164">(We'll talk about this more later in the article.) The `offline_access` scope is optional for web apps.</span></span> <span data-ttu-id="942ef-165">Azt jelzi, hogy kell-e az alkalmazást egy frissítési jogkivonat hosszú élettartamú erőforrások elérése érdekében.</span><span class="sxs-lookup"><span data-stu-id="942ef-165">It indicates that your app needs a refresh token for long-lived access to resources.</span></span> |
| <span data-ttu-id="942ef-166">state</span><span class="sxs-lookup"><span data-stu-id="942ef-166">state</span></span> |<span data-ttu-id="942ef-167">Ajánlott</span><span class="sxs-lookup"><span data-stu-id="942ef-167">Recommended</span></span> |<span data-ttu-id="942ef-168">A kérelemhez, amely az eredmény abban is a lexikális elem szerepel érték.</span><span class="sxs-lookup"><span data-stu-id="942ef-168">A value included in the request that also is returned in the token response.</span></span> <span data-ttu-id="942ef-169">Bármely, a használni kívánt tartalmat karakterlánc lehet.</span><span class="sxs-lookup"><span data-stu-id="942ef-169">It can be a string of any content that you want to use.</span></span> <span data-ttu-id="942ef-170">Általában egy véletlenszerűen generált, egyedi érték használata esetén webhelyközi kérések hamisításának megakadályozása támadások megelőzése érdekében.</span><span class="sxs-lookup"><span data-stu-id="942ef-170">Usually, a randomly generated, unique value is used, to prevent cross-site request forgery attacks.</span></span> <span data-ttu-id="942ef-171">Az állapot is kódolásához használatos a felhasználói állapot az alkalmazás információkat történt a hitelesítési kérést, mielőtt a lap, amilyenek korábban voltak a.</span><span class="sxs-lookup"><span data-stu-id="942ef-171">The state is also used to encode information about the user's state in the app before the authentication request occurred, like the page they were on.</span></span> |
| <span data-ttu-id="942ef-172">Nonce</span><span class="sxs-lookup"><span data-stu-id="942ef-172">nonce</span></span> |<span data-ttu-id="942ef-173">Szükséges</span><span class="sxs-lookup"><span data-stu-id="942ef-173">Required</span></span> |<span data-ttu-id="942ef-174">A kérelem (az alkalmazás által generált), amely megtalálható az eredményül kapott azonosító jogkivonat jogcímként szerepel érték.</span><span class="sxs-lookup"><span data-stu-id="942ef-174">A value included in the request (generated by the app) that is included in the resulting ID token as a claim.</span></span> <span data-ttu-id="942ef-175">Az alkalmazás ezután ellenőrizheti a hitelesítési karakterláncok ismétlésének támadások mérséklése ezt az értéket.</span><span class="sxs-lookup"><span data-stu-id="942ef-175">The app can then verify this value to mitigate token replay attacks.</span></span> <span data-ttu-id="942ef-176">Általában értéke véletlenszerű, egyedi karakterlánc, amely segítségével azonosíthatja a kérelem forrása.</span><span class="sxs-lookup"><span data-stu-id="942ef-176">Usually, the value is a randomized, unique string that can be used to identify the origin of the request.</span></span> |
| <span data-ttu-id="942ef-177">P</span><span class="sxs-lookup"><span data-stu-id="942ef-177">p</span></span> |<span data-ttu-id="942ef-178">Szükséges</span><span class="sxs-lookup"><span data-stu-id="942ef-178">Required</span></span> |<span data-ttu-id="942ef-179">A házirend végrehajtásához.</span><span class="sxs-lookup"><span data-stu-id="942ef-179">The policy to execute.</span></span> <span data-ttu-id="942ef-180">Olyan házirendet, amely az Azure AD B2C bérlő létrehozása nevét.</span><span class="sxs-lookup"><span data-stu-id="942ef-180">It's the name of a policy that is created in your Azure AD B2C tenant.</span></span> <span data-ttu-id="942ef-181">A házirend nevének értékét kell kezdődnie **b2c\_1\_**.</span><span class="sxs-lookup"><span data-stu-id="942ef-181">The policy name value should begin with **b2c\_1\_**.</span></span> <span data-ttu-id="942ef-182">További információkért lásd: [beépített házirendek az Azure AD B2C](active-directory-b2c-reference-policies.md).</span><span class="sxs-lookup"><span data-stu-id="942ef-182">For more information, see [Azure AD B2C built-in policies](active-directory-b2c-reference-policies.md).</span></span> |
| <span data-ttu-id="942ef-183">parancssor</span><span class="sxs-lookup"><span data-stu-id="942ef-183">prompt</span></span> |<span data-ttu-id="942ef-184">Optional</span><span class="sxs-lookup"><span data-stu-id="942ef-184">Optional</span></span> |<span data-ttu-id="942ef-185">A típus a felhasználói beavatkozás szükséges.</span><span class="sxs-lookup"><span data-stu-id="942ef-185">The type of user interaction that's required.</span></span> <span data-ttu-id="942ef-186">Az egyetlen érvényes érték jelenleg `login`.</span><span class="sxs-lookup"><span data-stu-id="942ef-186">Currently, the only valid value is `login`.</span></span> <span data-ttu-id="942ef-187">Ekkor elemezni, a felhasználó megadja hitelesítő adataikkal, hogy kérésre.</span><span class="sxs-lookup"><span data-stu-id="942ef-187">This forces the user to enter their credentials on that request.</span></span> <span data-ttu-id="942ef-188">Egyszeri bejelentkezés nem lépnek érvénybe.</span><span class="sxs-lookup"><span data-stu-id="942ef-188">Single sign-on will not take effect.</span></span> |

<span data-ttu-id="942ef-189">Ezen a ponton a felhasználónak kapcsolatba a házirend-munkafolyamat végrehajtásához.</span><span class="sxs-lookup"><span data-stu-id="942ef-189">At this point, the user is asked to complete the policy's workflow.</span></span> <span data-ttu-id="942ef-190">Ez lehet, hogy magában a írja be a felhasználónevét és jelszavát, felhasználó bejelentkezik egy közösségi identitás regisztrál a könyvtár, vagy több lépésből áll.</span><span class="sxs-lookup"><span data-stu-id="942ef-190">This might involve the user entering their username and password, signing in with a social identity, signing up for the directory, or any other number of steps.</span></span> <span data-ttu-id="942ef-191">Felhasználói műveletek attól függ, hogyan van definiálva a házirendet.</span><span class="sxs-lookup"><span data-stu-id="942ef-191">User actions depend on how the policy is defined.</span></span>

<span data-ttu-id="942ef-192">Miután a felhasználó teljesítette a szabályzat, az Azure AD az alkalmazásban használt értéke a választ ad `redirect_uri`.</span><span class="sxs-lookup"><span data-stu-id="942ef-192">After the user completes the policy, Azure AD returns a response to your app at the value you used for `redirect_uri`.</span></span> <span data-ttu-id="942ef-193">A megadott metódust használja a `response_mode` paraméter.</span><span class="sxs-lookup"><span data-stu-id="942ef-193">It uses the method specified in the `response_mode` parameter.</span></span> <span data-ttu-id="942ef-194">A válasz megegyezik pontosan az egyes felhasználói művelet forgatókönyv, függetlenül a házirend, hogy végre lett hajtva.</span><span class="sxs-lookup"><span data-stu-id="942ef-194">The response is exactly the same for each of the user action scenarios, independent of the policy that was executed.</span></span>

### <a name="successful-response"></a><span data-ttu-id="942ef-195">A sikeres válasz</span><span class="sxs-lookup"><span data-stu-id="942ef-195">Successful response</span></span>
<span data-ttu-id="942ef-196">A sikeres válasz használó `response_mode=fragment` és `response_type=id_token+token` sortöréssel olvashatóságát, a következőképpen néz:</span><span class="sxs-lookup"><span data-stu-id="942ef-196">A successful response that uses `response_mode=fragment` and `response_type=id_token+token` looks like the following, with line breaks for legibility:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
access_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
&token_type=Bearer
&expires_in=3599
&scope="90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6 offline_access",
&id_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
&state=arbitrary_data_you_sent_earlier
```

| <span data-ttu-id="942ef-197">Paraméter</span><span class="sxs-lookup"><span data-stu-id="942ef-197">Parameter</span></span> | <span data-ttu-id="942ef-198">Leírás</span><span class="sxs-lookup"><span data-stu-id="942ef-198">Description</span></span> |
| --- | --- |
| <span data-ttu-id="942ef-199">access_token</span><span class="sxs-lookup"><span data-stu-id="942ef-199">access_token</span></span> |<span data-ttu-id="942ef-200">A hozzáférési jogkivonat, amely az alkalmazás kéri.</span><span class="sxs-lookup"><span data-stu-id="942ef-200">The access token that the app requested.</span></span>  <span data-ttu-id="942ef-201">A hozzáférési jogkivonat nem szabad dekódolni, vagy más módon megvizsgálni.</span><span class="sxs-lookup"><span data-stu-id="942ef-201">The access token should not be decoded or otherwise inspected.</span></span> <span data-ttu-id="942ef-202">Nem átlátszó karakterláncként kezelhető.</span><span class="sxs-lookup"><span data-stu-id="942ef-202">It can be treated as an opaque string.</span></span> |
| <span data-ttu-id="942ef-203">token_type</span><span class="sxs-lookup"><span data-stu-id="942ef-203">token_type</span></span> |<span data-ttu-id="942ef-204">A jogkivonat típusa érték.</span><span class="sxs-lookup"><span data-stu-id="942ef-204">The token type value.</span></span> <span data-ttu-id="942ef-205">A csak az Azure AD támogató típus tulajdonosi.</span><span class="sxs-lookup"><span data-stu-id="942ef-205">The only type that Azure AD supports is Bearer.</span></span> |
| <span data-ttu-id="942ef-206">expires_in</span><span class="sxs-lookup"><span data-stu-id="942ef-206">expires_in</span></span> |<span data-ttu-id="942ef-207">Mennyi ideig, amely a hozzáférési jogkivonat érvénytelen (másodpercben).</span><span class="sxs-lookup"><span data-stu-id="942ef-207">The length of time that the access token is valid (in seconds).</span></span> |
| <span data-ttu-id="942ef-208">Hatókör</span><span class="sxs-lookup"><span data-stu-id="942ef-208">scope</span></span> |<span data-ttu-id="942ef-209">A hatókörök, amely a token érvényes.</span><span class="sxs-lookup"><span data-stu-id="942ef-209">The scopes that the token is valid for.</span></span> <span data-ttu-id="942ef-210">Is használhatja szerepet, amelyet a gyorsítótár jogkivonatok későbbi használatra.</span><span class="sxs-lookup"><span data-stu-id="942ef-210">You also can use scopes to cache tokens for later use.</span></span> |
| <span data-ttu-id="942ef-211">id_token</span><span class="sxs-lookup"><span data-stu-id="942ef-211">id_token</span></span> |<span data-ttu-id="942ef-212">Az alkalmazás által kért azonosítója jogkivonat.</span><span class="sxs-lookup"><span data-stu-id="942ef-212">The ID token that the app requested.</span></span> <span data-ttu-id="942ef-213">Az azonosító jogkivonat segítségével ellenőrzi a felhasználó identitását, és a felhasználói munkamenet elindításához.</span><span class="sxs-lookup"><span data-stu-id="942ef-213">You can use the ID token to verify the user's identity and begin a session with the user.</span></span> <span data-ttu-id="942ef-214">Azonosító-jogkivonatokat és azok tartalmát kapcsolatos további információkért tekintse meg a [Azure AD B2C-jogkivonatok referenciájából](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="942ef-214">For more information about ID tokens and their contents, see the [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> |
| <span data-ttu-id="942ef-215">state</span><span class="sxs-lookup"><span data-stu-id="942ef-215">state</span></span> |<span data-ttu-id="942ef-216">Ha egy `state` paraméter szerepel a kérést, ugyanazt az értéket meg kell jelennie a válaszban.</span><span class="sxs-lookup"><span data-stu-id="942ef-216">If a `state` parameter is included in the request, the same value should appear in the response.</span></span> <span data-ttu-id="942ef-217">Az alkalmazás győződjön meg arról, hogy a `state` a kérelem és a válaszban szereplő értékek azonosak.</span><span class="sxs-lookup"><span data-stu-id="942ef-217">The app should verify that the `state` values in the request and response are identical.</span></span> |

### <a name="error-response"></a><span data-ttu-id="942ef-218">Hibaválaszba</span><span class="sxs-lookup"><span data-stu-id="942ef-218">Error response</span></span>
<span data-ttu-id="942ef-219">Hibaválaszok is küldhetők az átirányítási URI-t, hogy az alkalmazás képes kezelni őket megfelelően:</span><span class="sxs-lookup"><span data-stu-id="942ef-219">Error responses also can be sent to the redirect URI so that the app can handle them appropriately:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
error=access_denied
&error_description=the+user+canceled+the+authentication
&state=arbitrary_data_you_can_receive_in_the_response
```

| <span data-ttu-id="942ef-220">Paraméter</span><span class="sxs-lookup"><span data-stu-id="942ef-220">Parameter</span></span> | <span data-ttu-id="942ef-221">Leírás</span><span class="sxs-lookup"><span data-stu-id="942ef-221">Description</span></span> |
| --- | --- |
| <span data-ttu-id="942ef-222">error</span><span class="sxs-lookup"><span data-stu-id="942ef-222">error</span></span> |<span data-ttu-id="942ef-223">Egy hiba kód karakterlánc osztályozva a felmerülő hibákat.</span><span class="sxs-lookup"><span data-stu-id="942ef-223">An error code string used to classify types of errors that occur.</span></span> <span data-ttu-id="942ef-224">Is használhatja a hiba kódja hibaelhárítási célból.</span><span class="sxs-lookup"><span data-stu-id="942ef-224">You also can use the error code for error handling.</span></span> |
| <span data-ttu-id="942ef-225">error_description</span><span class="sxs-lookup"><span data-stu-id="942ef-225">error_description</span></span> |<span data-ttu-id="942ef-226">Egy adott hibaüzenet, melyek segíthetnek hitelesítési hiba okának azonosításához.</span><span class="sxs-lookup"><span data-stu-id="942ef-226">A specific error message that can help you identify the root cause of an authentication error.</span></span> |
| <span data-ttu-id="942ef-227">state</span><span class="sxs-lookup"><span data-stu-id="942ef-227">state</span></span> |<span data-ttu-id="942ef-228">Lásd az előző táblázatban a teljes leírását.</span><span class="sxs-lookup"><span data-stu-id="942ef-228">See the full description in the preceding table.</span></span> <span data-ttu-id="942ef-229">Ha egy `state` paraméter szerepel a kérést, ugyanazt az értéket meg kell jelennie a válaszban.</span><span class="sxs-lookup"><span data-stu-id="942ef-229">If a `state` parameter is included in the request, the same value should appear in the response.</span></span> <span data-ttu-id="942ef-230">Az alkalmazás győződjön meg arról, hogy a `state` a kérelem és a válaszban szereplő értékek azonosak.</span><span class="sxs-lookup"><span data-stu-id="942ef-230">The app should verify that the `state` values in the request and response are identical.</span></span>|

## <a name="validate-the-id-token"></a><span data-ttu-id="942ef-231">Az azonosító token ellenőrzése</span><span class="sxs-lookup"><span data-stu-id="942ef-231">Validate the ID token</span></span>
<span data-ttu-id="942ef-232">Egy azonosító tokent fogadása elég nem lehet hitelesíteni a felhasználót.</span><span class="sxs-lookup"><span data-stu-id="942ef-232">Receiving an ID token is not enough to authenticate the user.</span></span> <span data-ttu-id="942ef-233">Az azonosító jogkivonat-aláírás ellenőrzése, és ellenőrizze a jogcímek, az alkalmazás követelményeinek / jogkivonat.</span><span class="sxs-lookup"><span data-stu-id="942ef-233">You must validate the ID token's signature, and verify the claims in the token per your app's requirements.</span></span> <span data-ttu-id="942ef-234">Használja az Azure AD B2C [JSON Web Tokens (JWTs)](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html) és a jogkivonatok aláírásához, és ellenőrizze, hogy azok érvényes nyilvános kulccsal történő titkosítás.</span><span class="sxs-lookup"><span data-stu-id="942ef-234">Azure AD B2C uses [JSON Web Tokens (JWTs)](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html) and public key cryptography to sign tokens and verify that they are valid.</span></span>

<span data-ttu-id="942ef-235">Számos nyílt forráskódú kódtárai ellenőrzéséhez a JWTs, attól függően, hogy a használni kívánt nyelven érhetők el.</span><span class="sxs-lookup"><span data-stu-id="942ef-235">Many open-source libraries are available for validating JWTs, depending on the language you prefer to use.</span></span> <span data-ttu-id="942ef-236">Vegye figyelembe a rendelkezésre álló nyílt forráskódú kódtárai felfedezése megvalósító egyéni ellenőrzési logika helyett.</span><span class="sxs-lookup"><span data-stu-id="942ef-236">Consider exploring available open-source libraries rather than implementing your own validation logic.</span></span> <span data-ttu-id="942ef-237">Ez a cikk az információk használatával alakítsa ki a tárak megfelelően használata.</span><span class="sxs-lookup"><span data-stu-id="942ef-237">You can use the information in this article to help you learn how to properly use those libraries.</span></span>

<span data-ttu-id="942ef-238">Az Azure AD B2C az OpenID Connect metaadatok végponttal rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="942ef-238">Azure AD B2C has an OpenID Connect metadata endpoint.</span></span> <span data-ttu-id="942ef-239">Egy alkalmazás a végpont használatával futásidőben Azure AD B2C-vel kapcsolatos információk beolvasása.</span><span class="sxs-lookup"><span data-stu-id="942ef-239">An app can use the endpoint to fetch information about Azure AD B2C at runtime.</span></span> <span data-ttu-id="942ef-240">Ezen információk közé tartozik a végpontok, lexikális elem tartalmának és jogkivonat-aláíró kulcsok.</span><span class="sxs-lookup"><span data-stu-id="942ef-240">This information includes endpoints, token contents, and token signing keys.</span></span> <span data-ttu-id="942ef-241">Nincs a JSON metaadat-dokumentum-házirendet az Azure AD B2C-bérlőben.</span><span class="sxs-lookup"><span data-stu-id="942ef-241">There is a JSON metadata document for each policy in your Azure AD B2C tenant.</span></span> <span data-ttu-id="942ef-242">Például a metaadat-dokumentum a b2c_1_sign_in házirend a fabrikamb2c.onmicrosoft.com bérlő a következő helyen található:</span><span class="sxs-lookup"><span data-stu-id="942ef-242">For example, the metadata document for the b2c_1_sign_in policy in the fabrikamb2c.onmicrosoft.com tenant is located at:</span></span>

`https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/v2.0/.well-known/openid-configuration?p=b2c_1_sign_in`

<span data-ttu-id="942ef-243">A konfigurációs dokumentum tulajdonságainak egyike a `jwks_uri`.</span><span class="sxs-lookup"><span data-stu-id="942ef-243">One of the properties of this configuration document is the `jwks_uri`.</span></span> <span data-ttu-id="942ef-244">Az ugyanabban a házirendben a következő lenne:</span><span class="sxs-lookup"><span data-stu-id="942ef-244">The value for the same policy would be:</span></span>

`https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/discovery/v2.0/keys?p=b2c_1_sign_in`

<span data-ttu-id="942ef-245">Annak meghatározásához, mely házirendet egy azonosító tokent aláírásához használt (és a metaadatok beolvasása helyét), két lehetőség közül választhat.</span><span class="sxs-lookup"><span data-stu-id="942ef-245">To determine which policy was used to sign an ID token (and where to fetch the metadata from), you have two options.</span></span> <span data-ttu-id="942ef-246">Először a házirend neve szerepel a `acr` a jogcím `id_token`.</span><span class="sxs-lookup"><span data-stu-id="942ef-246">First, the policy name is included in the `acr` claim in `id_token`.</span></span> <span data-ttu-id="942ef-247">A jogcímek egy azonosító jogkivonat elemzése kapcsolatos információkért lásd: a [Azure AD B2C-jogkivonatok referenciájából](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="942ef-247">For information about how to parse the claims from an ID token, see the [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span> <span data-ttu-id="942ef-248">A másik lehetőség egy kódolására a házirend az értékét a `state` paraméter, a kérelem elküldésekor.</span><span class="sxs-lookup"><span data-stu-id="942ef-248">Your other option is to encode the policy in the value of the `state` parameter when you issue the request.</span></span> <span data-ttu-id="942ef-249">Ezt követően dekódolni a `state` paraméter segítségével határozza meg, mely házirend lett megadva.</span><span class="sxs-lookup"><span data-stu-id="942ef-249">Then, decode the `state` parameter to determine which policy was used.</span></span> <span data-ttu-id="942ef-250">Mindkét módszer esetén érvényes.</span><span class="sxs-lookup"><span data-stu-id="942ef-250">Either method is valid.</span></span>

<span data-ttu-id="942ef-251">Után jut hozzá a az OpenID Connect metaadat-végpontjához a metaadat-dokumentum, az RSA-256 nyilvános kulcsot (Ez a végpont található) segítségével ellenőrizze az azonosító jogkivonat aláírását.</span><span class="sxs-lookup"><span data-stu-id="942ef-251">After you've acquired the metadata document from the OpenID Connect metadata endpoint, you can use the RSA-256 public keys (located at this endpoint) to validate the signature of the ID token.</span></span> <span data-ttu-id="942ef-252">Előfordulhat, hogy több-kulcsok a végpont egy adott időpontban, minden egyes által azonosított egy `kid`.</span><span class="sxs-lookup"><span data-stu-id="942ef-252">There might be multiple keys listed at this endpoint at any given time, each identified by a `kid`.</span></span> <span data-ttu-id="942ef-253">A fejlécében `id_token` is tartalmaz egy `kid` jogcímek.</span><span class="sxs-lookup"><span data-stu-id="942ef-253">The header of `id_token` also contains a `kid` claim.</span></span> <span data-ttu-id="942ef-254">Azt jelzi, amelyhez ezeket a kulcsokat a Azonosítót jogkivonatban aláírásához használt.</span><span class="sxs-lookup"><span data-stu-id="942ef-254">It indicates which of these keys was used to sign the ID token.</span></span> <span data-ttu-id="942ef-255">További információt, beleértve a megismerését [jogkivonatok ellenőrzése](active-directory-b2c-reference-tokens.md#token-validation), tekintse meg a [Azure AD B2C-jogkivonatok referenciájából](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="942ef-255">For more information, including learning about [validating tokens](active-directory-b2c-reference-tokens.md#token-validation), see the [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span>
<!--TODO: Improve the information on this-->

<span data-ttu-id="942ef-256">Után ellenőrizze az azonosító jogkivonat aláírását, több jogcím ellenőrzés megkövetelése.</span><span class="sxs-lookup"><span data-stu-id="942ef-256">After you validate the signature of the ID token, several claims require verification.</span></span> <span data-ttu-id="942ef-257">Példa:</span><span class="sxs-lookup"><span data-stu-id="942ef-257">For example:</span></span>

* <span data-ttu-id="942ef-258">Ellenőrizze a `nonce` jogcím-token ismétléses támadások megelőzése érdekében.</span><span class="sxs-lookup"><span data-stu-id="942ef-258">Validate the `nonce` claim to prevent token replay attacks.</span></span> <span data-ttu-id="942ef-259">Az értékét a bejelentkezési kérelemben megadott kell lennie.</span><span class="sxs-lookup"><span data-stu-id="942ef-259">Its value should be what you specified in the sign-in request.</span></span>
* <span data-ttu-id="942ef-260">Ellenőrizze a `aud` jogcím győződjön meg arról, hogy a Azonosítót jogkivonatban ki az alkalmazást.</span><span class="sxs-lookup"><span data-stu-id="942ef-260">Validate the `aud` claim to ensure that the ID token was issued for your app.</span></span> <span data-ttu-id="942ef-261">Az értéknek kell lennie az alkalmazás Azonosítóját a az alkalmazás.</span><span class="sxs-lookup"><span data-stu-id="942ef-261">Its value should be the application ID of your app.</span></span>
* <span data-ttu-id="942ef-262">Ellenőrizze a `iat` és `exp` győződjön meg arról, hogy az azonosító jogkivonat nem járt jogcímeket.</span><span class="sxs-lookup"><span data-stu-id="942ef-262">Validate the `iat` and `exp` claims to ensure that the ID token has not expired.</span></span>

<span data-ttu-id="942ef-263">Végre kell hajtania néhány további ellenőrzések részletesen ismerteti a [OpenID Connect Core Spec](http://openid.net/specs/openid-connect-core-1_0.html).</span><span class="sxs-lookup"><span data-stu-id="942ef-263">Several more validations that you should perform are described in detail in the [OpenID Connect Core Spec](http://openid.net/specs/openid-connect-core-1_0.html).</span></span> <span data-ttu-id="942ef-264">Érdemes további ellenőrizhesse, a forgatókönyvtől függően is.</span><span class="sxs-lookup"><span data-stu-id="942ef-264">You might also want to validate additional claims, depending on your scenario.</span></span> <span data-ttu-id="942ef-265">Néhány gyakori érvényesítést a következők:</span><span class="sxs-lookup"><span data-stu-id="942ef-265">Some common validations include:</span></span>

* <span data-ttu-id="942ef-266">Győződjön meg arról, hogy a felhasználó vagy a szervezet rendelkezik regisztrálta az alkalmazást.</span><span class="sxs-lookup"><span data-stu-id="942ef-266">Ensuring that the user or organization has signed up for the app.</span></span>
* <span data-ttu-id="942ef-267">Győződjön meg arról, hogy a felhasználó megfelelő jogosultságokkal és engedélyekkel rendelkezik-e.</span><span class="sxs-lookup"><span data-stu-id="942ef-267">Ensuring that the user has proper authorization and privileges.</span></span>
* <span data-ttu-id="942ef-268">Győződjön meg arról, hogy bizonyos erősségével hitelesítési történt, ilyen módon az Azure multi-factor Authentication használatával történő.</span><span class="sxs-lookup"><span data-stu-id="942ef-268">Ensuring that a certain strength of authentication has occurred, such as by using Azure Multi-Factor Authentication.</span></span>

<span data-ttu-id="942ef-269">A jogcímek egy Azonosítót jogkivonatban kapcsolatos további információkért tekintse meg a [Azure AD B2C-jogkivonatok referenciájából](active-directory-b2c-reference-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="942ef-269">For more information about the claims in an ID token, see the [Azure AD B2C token reference](active-directory-b2c-reference-tokens.md).</span></span>

<span data-ttu-id="942ef-270">Teljesen érvényesítése a Azonosítót jogkivonatban után megkezdheti a munkamenet a felhasználó.</span><span class="sxs-lookup"><span data-stu-id="942ef-270">After you have completely validated the ID token, you can begin a session with the user.</span></span> <span data-ttu-id="942ef-271">Az alkalmazás, a jogcímek használata a Azonosítót jogkivonatban megjelenítheti a felhasználó adatait.</span><span class="sxs-lookup"><span data-stu-id="942ef-271">In your app, use the claims in the ID token to obtain information about the user.</span></span> <span data-ttu-id="942ef-272">Ezek az információk megjelenítése, rekordok, engedélyezési és így tovább használható.</span><span class="sxs-lookup"><span data-stu-id="942ef-272">This information can be used for display, records, authorization, and so on.</span></span>

## <a name="get-access-tokens"></a><span data-ttu-id="942ef-273">A hozzáférési jogkivonatok lekérésére</span><span class="sxs-lookup"><span data-stu-id="942ef-273">Get access tokens</span></span>
<span data-ttu-id="942ef-274">Ha a webalkalmazások kell egyedül házirendek hajtható végre, ugorjon a következő néhány szakasz.</span><span class="sxs-lookup"><span data-stu-id="942ef-274">If the only thing your web apps needs to do is execute policies, you can skip the next few sections.</span></span> <span data-ttu-id="942ef-275">A következő szakaszokban található információk csak a webalkalmazások, amelyeknek szükségük van a hitelesített hívásokat egy webes API-hoz, és amelyhez Azure AD B2C által védett alkalmazhatók.</span><span class="sxs-lookup"><span data-stu-id="942ef-275">The information in the following sections are applicable only to web apps that need to make authenticated calls to a web API, and which are protected by Azure AD B2C.</span></span>

<span data-ttu-id="942ef-276">Most, hogy az alkalmazás a felhasználó most jelentkezik be, hívó webes API-k, az Azure AD által védett kaphat jogkivonatot.</span><span class="sxs-lookup"><span data-stu-id="942ef-276">Now that you've signed the user in to your single-page app, you can get access tokens for calling web APIs that are secured by Azure AD.</span></span> <span data-ttu-id="942ef-277">Akkor is, ha korábban fogadott levelei jogkivonat használatával a `token` választípus, ez a módszer segítségével szerezzen be további erőforrások jogkivonatok nélkül irányít át a felhasználót, hogy jelentkezzen be újra.</span><span class="sxs-lookup"><span data-stu-id="942ef-277">Even if you have already received a token by using the `token` response type, you can use this method to acquire tokens for additional resources without redirecting the user to sign in again.</span></span>

<span data-ttu-id="942ef-278">Egy tipikus web app folyamatában, akkor ehhez azáltal, hogy a kérelem a `/token` végpont.</span><span class="sxs-lookup"><span data-stu-id="942ef-278">In a typical web app flow, you would do this by making a request to the `/token` endpoint.</span></span>  <span data-ttu-id="942ef-279">A végpont azonban nem támogatja a CORS-kérelmeket, az AJAX-hívások és frissítési jogkivonatok lehetőség nem érhető el.</span><span class="sxs-lookup"><span data-stu-id="942ef-279">However, the endpoint does not support CORS requests, so making AJAX calls to get and refresh tokens is not an option.</span></span> <span data-ttu-id="942ef-280">Ehelyett használhatja a implicit engedélyezési folyamat egy rejtett HTML iframe elemben új jogkivonatok lekérésére más webes API-k.</span><span class="sxs-lookup"><span data-stu-id="942ef-280">Instead, you can use the implicit flow in a hidden HTML iframe element to get new tokens for other web APIs.</span></span> <span data-ttu-id="942ef-281">Íme egy példa, olvashatóságát sortöréssel:</span><span class="sxs-lookup"><span data-stu-id="942ef-281">Here's an example, with line breaks for legibility:</span></span>

```

https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/authorize?
client_id=90c0fe63-bcf2-44d5-8fb7-b8bbc0b29dc6
&response_type=token
&redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
&scope=https%3A%2F%2Fapi.contoso.com%2Ftasks.read
&response_mode=fragment
&state=arbitrary_data_you_can_receive_in_the_response
&nonce=12345
&prompt=none
&domain_hint=organizations
&login_hint=myuser@mycompany.com
&p=b2c_1_sign_in
```

| <span data-ttu-id="942ef-282">Paraméter</span><span class="sxs-lookup"><span data-stu-id="942ef-282">Parameter</span></span> | <span data-ttu-id="942ef-283">Kötelező megadni?</span><span class="sxs-lookup"><span data-stu-id="942ef-283">Required?</span></span> | <span data-ttu-id="942ef-284">Leírás</span><span class="sxs-lookup"><span data-stu-id="942ef-284">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="942ef-285">client_id</span><span class="sxs-lookup"><span data-stu-id="942ef-285">client_id</span></span> |<span data-ttu-id="942ef-286">Szükséges</span><span class="sxs-lookup"><span data-stu-id="942ef-286">Required</span></span> |<span data-ttu-id="942ef-287">Az alkalmazást a hozzárendelt Alkalmazásazonosító a [Azure-portálon](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="942ef-287">The application ID assigned to your app in the [Azure portal](https://portal.azure.com).</span></span> |
| <span data-ttu-id="942ef-288">response_type</span><span class="sxs-lookup"><span data-stu-id="942ef-288">response_type</span></span> |<span data-ttu-id="942ef-289">Szükséges</span><span class="sxs-lookup"><span data-stu-id="942ef-289">Required</span></span> |<span data-ttu-id="942ef-290">Tartalmaznia kell `id_token` az OpenID Connect bejelentkezhet.</span><span class="sxs-lookup"><span data-stu-id="942ef-290">Must include `id_token` for OpenID Connect sign-in.</span></span>  <span data-ttu-id="942ef-291">Az is előfordulhat, hogy tartalmazza a választípus `token`.</span><span class="sxs-lookup"><span data-stu-id="942ef-291">It might also include the response type `token`.</span></span> <span data-ttu-id="942ef-292">Ha `token` itt, az alkalmazás azonnal fogadhat olyan hozzáférési jogkivonatot a hitelesítési végpontra, anélkül, hogy egy második kérelmet a hitelesítési végpontra.</span><span class="sxs-lookup"><span data-stu-id="942ef-292">If you use `token` here, your app can immediately receive an access token from the authorize endpoint, without making a second request to the authorize endpoint.</span></span> <span data-ttu-id="942ef-293">Ha használja a `token` válaszának típusa, a `scope` paraméternek tartalmaznia kell egy hatókör, amely jelzi, melyik erőforrást kell a jogkivonatot bocsásson ki.</span><span class="sxs-lookup"><span data-stu-id="942ef-293">If you use the `token` response type, the `scope` parameter must contain a scope that indicates which resource to issue the token for.</span></span> |
| <span data-ttu-id="942ef-294">redirect_uri</span><span class="sxs-lookup"><span data-stu-id="942ef-294">redirect_uri</span></span> |<span data-ttu-id="942ef-295">Ajánlott</span><span class="sxs-lookup"><span data-stu-id="942ef-295">Recommended</span></span> |<span data-ttu-id="942ef-296">Az átirányítási URI-t, az alkalmazás, ahol küldött és az alkalmazás által fogadott a hitelesítési válaszokat.</span><span class="sxs-lookup"><span data-stu-id="942ef-296">The redirect URI of your app, where authentication responses can be sent and received by your app.</span></span> <span data-ttu-id="942ef-297">Az pontosan egyeznie kell az átirányítási URI-azonosítók regisztrálta a portálon, azzal a különbséggel, hogy az URL-kódolású kell lennie.</span><span class="sxs-lookup"><span data-stu-id="942ef-297">It must exactly match one of the redirect URIs you registered in the portal, except that it must be URL-encoded.</span></span> |
| <span data-ttu-id="942ef-298">Hatókör</span><span class="sxs-lookup"><span data-stu-id="942ef-298">scope</span></span> |<span data-ttu-id="942ef-299">Szükséges</span><span class="sxs-lookup"><span data-stu-id="942ef-299">Required</span></span> |<span data-ttu-id="942ef-300">Hatókörök szóközökkel elválasztott listája.</span><span class="sxs-lookup"><span data-stu-id="942ef-300">A space-separated list of scopes.</span></span>  <span data-ttu-id="942ef-301">A jogkivonatok lekérésének tartalmazza a hatóköröket a kívánt erőforrás szükséges.</span><span class="sxs-lookup"><span data-stu-id="942ef-301">For getting tokens, include all scopes that you require for the intended resource.</span></span> |
| <span data-ttu-id="942ef-302">response_mode</span><span class="sxs-lookup"><span data-stu-id="942ef-302">response_mode</span></span> |<span data-ttu-id="942ef-303">Ajánlott</span><span class="sxs-lookup"><span data-stu-id="942ef-303">Recommended</span></span> |<span data-ttu-id="942ef-304">Megadja azt a módszert, amelynek használatával az eredményül kapott jogkivonat vissza küldése az alkalmazásnak.</span><span class="sxs-lookup"><span data-stu-id="942ef-304">Specifies the method that is used to send the resulting token back to your app.</span></span>  <span data-ttu-id="942ef-305">Lehet `query`, `form_post`, vagy `fragment`.</span><span class="sxs-lookup"><span data-stu-id="942ef-305">Can be `query`, `form_post`, or `fragment`.</span></span> |
| <span data-ttu-id="942ef-306">state</span><span class="sxs-lookup"><span data-stu-id="942ef-306">state</span></span> |<span data-ttu-id="942ef-307">Ajánlott</span><span class="sxs-lookup"><span data-stu-id="942ef-307">Recommended</span></span> |<span data-ttu-id="942ef-308">A token válaszként visszaadott a kérelemben szereplő érték.</span><span class="sxs-lookup"><span data-stu-id="942ef-308">A value included in the request that is returned in the token response.</span></span>  <span data-ttu-id="942ef-309">Bármely, a használni kívánt tartalmat karakterlánc lehet.</span><span class="sxs-lookup"><span data-stu-id="942ef-309">It can be a string of any content that you want to use.</span></span>  <span data-ttu-id="942ef-310">Általában egy véletlenszerűen generált, egyedi érték használata esetén webhelyközi kérések hamisításának megakadályozása támadások megelőzése érdekében.</span><span class="sxs-lookup"><span data-stu-id="942ef-310">Usually, a randomly generated, unique value is used, to prevent cross-site request forgery attacks.</span></span>  <span data-ttu-id="942ef-311">Az állapot is kódolásához használatos a felhasználói állapot az alkalmazás információkat előtt a hitelesítési kérelmet.</span><span class="sxs-lookup"><span data-stu-id="942ef-311">The state also is used to encode information about the user's state in the app before the authentication request occurred.</span></span> <span data-ttu-id="942ef-312">Például a lap vagy nézet, a felhasználó nem az.</span><span class="sxs-lookup"><span data-stu-id="942ef-312">For example, the page or view the user was on.</span></span> |
| <span data-ttu-id="942ef-313">Nonce</span><span class="sxs-lookup"><span data-stu-id="942ef-313">nonce</span></span> |<span data-ttu-id="942ef-314">Szükséges</span><span class="sxs-lookup"><span data-stu-id="942ef-314">Required</span></span> |<span data-ttu-id="942ef-315">A kérelem, az eredményül kapott azonosító jogkivonat jogcímként megtalálható az alkalmazás által generált szerepel érték.</span><span class="sxs-lookup"><span data-stu-id="942ef-315">A value included in the request, generated by the app, that is included in the resulting ID token as a claim.</span></span>  <span data-ttu-id="942ef-316">Az alkalmazás ezután ellenőrizheti a hitelesítési karakterláncok ismétlésének támadások mérséklése ezt az értéket.</span><span class="sxs-lookup"><span data-stu-id="942ef-316">The app can then verify this value to mitigate token replay attacks.</span></span> <span data-ttu-id="942ef-317">Általában értéke véletlenszerű, egyedi karakterlánc, amely azonosítja a kérelem forrása.</span><span class="sxs-lookup"><span data-stu-id="942ef-317">Usually, the value is a randomized, unique string that identifies the origin of the request.</span></span> |
| <span data-ttu-id="942ef-318">parancssor</span><span class="sxs-lookup"><span data-stu-id="942ef-318">prompt</span></span> |<span data-ttu-id="942ef-319">Szükséges</span><span class="sxs-lookup"><span data-stu-id="942ef-319">Required</span></span> |<span data-ttu-id="942ef-320">Frissítse, valamint egy rejtett iframe a jogkivonatok lekérésére használja `prompt=none` annak érdekében, hogy az iframe nem elakadnak a bejelentkezési oldalon, és azonnal visszaadja az eredményeket.</span><span class="sxs-lookup"><span data-stu-id="942ef-320">To refresh and get tokens in a hidden iframe, use `prompt=none` to ensure that the iframe does not get stuck on the sign-in page, and returns immediately.</span></span> |
| <span data-ttu-id="942ef-321">login_hint</span><span class="sxs-lookup"><span data-stu-id="942ef-321">login_hint</span></span> |<span data-ttu-id="942ef-322">Szükséges</span><span class="sxs-lookup"><span data-stu-id="942ef-322">Required</span></span> |<span data-ttu-id="942ef-323">Frissítse, és egy rejtett iframe a jogkivonatok lekérésére, vegye fel a mutató használatával tudja megkülönböztetni a felhasználónak kell egyszerre több munkamenetet a felhasználó felhasználóneve.</span><span class="sxs-lookup"><span data-stu-id="942ef-323">To refresh and get tokens in a hidden iframe, include the username of the user in this hint to distinguish between multiple sessions the user might have at a given  time.</span></span> <span data-ttu-id="942ef-324">Kibonthatja a felhasználónév a egy korábbi bejelentkezés használatával a `preferred_username` jogcímek.</span><span class="sxs-lookup"><span data-stu-id="942ef-324">You can extract the username from an earlier sign-in by using the `preferred_username` claim.</span></span> |
| <span data-ttu-id="942ef-325">domain_hint</span><span class="sxs-lookup"><span data-stu-id="942ef-325">domain_hint</span></span> |<span data-ttu-id="942ef-326">Szükséges</span><span class="sxs-lookup"><span data-stu-id="942ef-326">Required</span></span> |<span data-ttu-id="942ef-327">Lehet `consumers` vagy `organizations`.</span><span class="sxs-lookup"><span data-stu-id="942ef-327">Can be `consumers` or `organizations`.</span></span>  <span data-ttu-id="942ef-328">Frissítése, és a jogkivonatok lekérésének a rejtett iframe, meg kell adni a `domain_hint` a kérelemben szereplő érték.</span><span class="sxs-lookup"><span data-stu-id="942ef-328">For refreshing and getting tokens in a hidden iframe, you must include the `domain_hint` value in the request.</span></span>  <span data-ttu-id="942ef-329">Bontsa ki a `tid` jogcím egy korábbi bejelentkezés az azonosító jogkivonatból meghatározni, melyik értéket kell használni.</span><span class="sxs-lookup"><span data-stu-id="942ef-329">Extract the `tid` claim from the ID token of an earlier sign-in to determine which value to use.</span></span>  <span data-ttu-id="942ef-330">Ha a `tid` jogcím értéke `9188040d-6c67-4c5b-b112-36a304b66dad`, használjon `domain_hint=consumers`.</span><span class="sxs-lookup"><span data-stu-id="942ef-330">If the `tid` claim value is `9188040d-6c67-4c5b-b112-36a304b66dad`,  use `domain_hint=consumers`.</span></span>  <span data-ttu-id="942ef-331">Ellenkező esetben használja `domain_hint=organizations`.</span><span class="sxs-lookup"><span data-stu-id="942ef-331">Otherwise, use `domain_hint=organizations`.</span></span> |

<span data-ttu-id="942ef-332">Úgy, hogy a `prompt=none` paraméter, a kérelem vagy sikeres vagy azonnal leáll, és visszaadja az alkalmazás.</span><span class="sxs-lookup"><span data-stu-id="942ef-332">By setting the `prompt=none` parameter, this request either succeeds or fails immediately, and returns to your application.</span></span>  <span data-ttu-id="942ef-333">A sikeres válasz megadott módon zajlik a jelzett átirányítási URI-t, az alkalmazást a `response_mode` paraméter.</span><span class="sxs-lookup"><span data-stu-id="942ef-333">A successful response is sent to your app at the indicated redirect URI, by using the method specified in the `response_mode` parameter.</span></span>

### <a name="successful-response"></a><span data-ttu-id="942ef-334">A sikeres válasz</span><span class="sxs-lookup"><span data-stu-id="942ef-334">Successful response</span></span>
<span data-ttu-id="942ef-335">A sikeres válasz használatával `response_mode=fragment` dolgozunk:</span><span class="sxs-lookup"><span data-stu-id="942ef-335">A successful response by using `response_mode=fragment` looks like this:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
access_token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik5HVEZ2ZEstZnl0aEV1Q...
&state=arbitrary_data_you_sent_earlier
&token_type=Bearer
&expires_in=3599
&scope=https%3A%2F%2Fapi.contoso.com%2Ftasks.read
```

| <span data-ttu-id="942ef-336">Paraméter</span><span class="sxs-lookup"><span data-stu-id="942ef-336">Parameter</span></span> | <span data-ttu-id="942ef-337">Leírás</span><span class="sxs-lookup"><span data-stu-id="942ef-337">Description</span></span> |
| --- | --- |
| <span data-ttu-id="942ef-338">access_token</span><span class="sxs-lookup"><span data-stu-id="942ef-338">access_token</span></span> |<span data-ttu-id="942ef-339">A token által kért az alkalmazáshoz.</span><span class="sxs-lookup"><span data-stu-id="942ef-339">The token that the app requested.</span></span> |
| <span data-ttu-id="942ef-340">token_type</span><span class="sxs-lookup"><span data-stu-id="942ef-340">token_type</span></span> |<span data-ttu-id="942ef-341">A jogkivonat típusa mindig lesz tulajdonosi.</span><span class="sxs-lookup"><span data-stu-id="942ef-341">The token type will always be Bearer.</span></span> |
| <span data-ttu-id="942ef-342">state</span><span class="sxs-lookup"><span data-stu-id="942ef-342">state</span></span> |<span data-ttu-id="942ef-343">Ha egy `state` paraméter szerepel a kérést, ugyanazt az értéket meg kell jelennie a válaszban.</span><span class="sxs-lookup"><span data-stu-id="942ef-343">If a `state` parameter is included in the request, the same value should appear in the response.</span></span> <span data-ttu-id="942ef-344">Az alkalmazás győződjön meg arról, hogy a `state` a kérelem és a válaszban szereplő értékek azonosak.</span><span class="sxs-lookup"><span data-stu-id="942ef-344">The app should verify that the `state` values in the request and response are identical.</span></span> |
| <span data-ttu-id="942ef-345">expires_in</span><span class="sxs-lookup"><span data-stu-id="942ef-345">expires_in</span></span> |<span data-ttu-id="942ef-346">Mennyi ideig a hozzáférési jogkivonat érvénytelen (másodpercben).</span><span class="sxs-lookup"><span data-stu-id="942ef-346">How long the access token is valid (in seconds).</span></span> |
| <span data-ttu-id="942ef-347">Hatókör</span><span class="sxs-lookup"><span data-stu-id="942ef-347">scope</span></span> |<span data-ttu-id="942ef-348">A hatókörök, amely a hozzáférési token érvényes.</span><span class="sxs-lookup"><span data-stu-id="942ef-348">The scopes that the access token is valid for.</span></span> |

### <a name="error-response"></a><span data-ttu-id="942ef-349">Hibaválaszba</span><span class="sxs-lookup"><span data-stu-id="942ef-349">Error response</span></span>
<span data-ttu-id="942ef-350">Hibaválaszok is küldhetők az átirányítási URI-t, hogy az alkalmazás képes kezelni őket megfelelően.</span><span class="sxs-lookup"><span data-stu-id="942ef-350">Error responses also can be sent to the redirect URI so that the app can handle them appropriately.</span></span>  <span data-ttu-id="942ef-351">A `prompt=none`, várt hiba néz ki:</span><span class="sxs-lookup"><span data-stu-id="942ef-351">For `prompt=none`, an expected error looks like this:</span></span>

```
GET https://aadb2cplayground.azurewebsites.net/#
error=user_authentication_required
&error_description=the+request+could+not+be+completed+silently
```

| <span data-ttu-id="942ef-352">Paraméter</span><span class="sxs-lookup"><span data-stu-id="942ef-352">Parameter</span></span> | <span data-ttu-id="942ef-353">Leírás</span><span class="sxs-lookup"><span data-stu-id="942ef-353">Description</span></span> |
| --- | --- |
| <span data-ttu-id="942ef-354">error</span><span class="sxs-lookup"><span data-stu-id="942ef-354">error</span></span> |<span data-ttu-id="942ef-355">Hiba történt a felmerülő hibákat besorolására használható kód karakterlánc.</span><span class="sxs-lookup"><span data-stu-id="942ef-355">An error code string that can be used to classify types of errors that occur.</span></span> <span data-ttu-id="942ef-356">A karakterlánc hibák reagálni is használja.</span><span class="sxs-lookup"><span data-stu-id="942ef-356">You also can use the string to react to errors.</span></span> |
| <span data-ttu-id="942ef-357">error_description</span><span class="sxs-lookup"><span data-stu-id="942ef-357">error_description</span></span> |<span data-ttu-id="942ef-358">Egy adott hibaüzenet, melyek segíthetnek hitelesítési hiba okának azonosításához.</span><span class="sxs-lookup"><span data-stu-id="942ef-358">A specific error message that can help you identify the root cause of an authentication error.</span></span> |

<span data-ttu-id="942ef-359">Ez a hiba a iframe kérelmet kap, ha a felhasználó kell interaktív jelentkezzen be újra egy új jogkivonatot lekérdezni.</span><span class="sxs-lookup"><span data-stu-id="942ef-359">If you receive this error in the iframe request, the user must interactively sign in again to retrieve a new token.</span></span> <span data-ttu-id="942ef-360">Ez úgy, hogy az alkalmazás számára legjobb képes kezelni.</span><span class="sxs-lookup"><span data-stu-id="942ef-360">You can handle this in a way that makes sense for your application.</span></span>

## <a name="refresh-tokens"></a><span data-ttu-id="942ef-361">Frissítési jogkivonatok</span><span class="sxs-lookup"><span data-stu-id="942ef-361">Refresh tokens</span></span>
<span data-ttu-id="942ef-362">Azonosító-jogkivonatokat és a hozzáférési jogkivonatok mindkét rövid időn belül lejár.</span><span class="sxs-lookup"><span data-stu-id="942ef-362">ID tokens and access tokens both expire after a short period of time.</span></span> <span data-ttu-id="942ef-363">Az alkalmazás rendszeres időközönként frissíti ezeket a jogkivonatokat kell készíteni.</span><span class="sxs-lookup"><span data-stu-id="942ef-363">Your app must be prepared to refresh these tokens periodically.</span></span>  <span data-ttu-id="942ef-364">Mindkét típusú jogkivonat frissítéséhez hajtsa végre a rejtett iframe kérésben használtuk korábbi példa segítségével a `prompt=none` paraméter segítségével szabályozhatja az Azure AD lépéseket.</span><span class="sxs-lookup"><span data-stu-id="942ef-364">To refresh either type of token, perform the same hidden iframe request we used in an earlier example, by using the `prompt=none` parameter to control Azure AD steps.</span></span>  <span data-ttu-id="942ef-365">Egy új fogadásához `id_token` értéket, használjon `response_type=id_token` és `scope=openid`, és egy `nonce` paraméter.</span><span class="sxs-lookup"><span data-stu-id="942ef-365">To receive a new `id_token` value, be sure to use `response_type=id_token` and `scope=openid`, and a `nonce` parameter.</span></span>

## <a name="send-a-sign-out-request"></a><span data-ttu-id="942ef-366">Kijelentkezési kérés küldése</span><span class="sxs-lookup"><span data-stu-id="942ef-366">Send a sign-out request</span></span>
<span data-ttu-id="942ef-367">Ha meg szeretné beléptetni a felhasználót az alkalmazásból, átirányítja a felhasználót az Azure AD-be jelentkezzen ki.</span><span class="sxs-lookup"><span data-stu-id="942ef-367">When you want to sign the user out of the app, redirect the user to Azure AD to sign out.</span></span> <span data-ttu-id="942ef-368">Ha nem így tesz, a felhasználó lehet újból hitelesítésre az alkalmazásnak, hogy a hitelesítő adataik ismételt beírása nélkül.</span><span class="sxs-lookup"><span data-stu-id="942ef-368">If you don't do this, the user might be able to reauthenticate to your app without entering their credentials again.</span></span> <span data-ttu-id="942ef-369">Ennek az az oka érvényes egyszeri bejelentkezés munkamenetet az Azure ad-val rendelkeznek.</span><span class="sxs-lookup"><span data-stu-id="942ef-369">This is because they will have a valid single sign-on session with Azure AD.</span></span>

<span data-ttu-id="942ef-370">Egyszerűen irányíthatja át a felhasználót, hogy a `end_session_endpoint` , hogy szerepel-e az azonos OpenID Connect metaadat-dokumentum ismertetett [ellenőrzése a Azonosítót jogkivonatban](#validate-the-id-token).</span><span class="sxs-lookup"><span data-stu-id="942ef-370">You can simply redirect the user to the `end_session_endpoint` that is listed in the same OpenID Connect metadata document described in [Validate the ID token](#validate-the-id-token).</span></span> <span data-ttu-id="942ef-371">Példa:</span><span class="sxs-lookup"><span data-stu-id="942ef-371">For example:</span></span>

```
GET https://login.microsoftonline.com/fabrikamb2c.onmicrosoft.com/oauth2/v2.0/logout?
p=b2c_1_sign_in
&post_logout_redirect_uri=https%3A%2F%2Faadb2cplayground.azurewebsites.net%2F
```

| <span data-ttu-id="942ef-372">Paraméter</span><span class="sxs-lookup"><span data-stu-id="942ef-372">Parameter</span></span> | <span data-ttu-id="942ef-373">Kötelező megadni?</span><span class="sxs-lookup"><span data-stu-id="942ef-373">Required?</span></span> | <span data-ttu-id="942ef-374">Leírás</span><span class="sxs-lookup"><span data-stu-id="942ef-374">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="942ef-375">P</span><span class="sxs-lookup"><span data-stu-id="942ef-375">p</span></span> |<span data-ttu-id="942ef-376">Szükséges</span><span class="sxs-lookup"><span data-stu-id="942ef-376">Required</span></span> |<span data-ttu-id="942ef-377">A házirend a felhasználói kívül az alkalmazás aláírásához.</span><span class="sxs-lookup"><span data-stu-id="942ef-377">The policy to use to sign the user out of your application.</span></span> |
| <span data-ttu-id="942ef-378">post_logout_redirect_uri</span><span class="sxs-lookup"><span data-stu-id="942ef-378">post_logout_redirect_uri</span></span> |<span data-ttu-id="942ef-379">Ajánlott</span><span class="sxs-lookup"><span data-stu-id="942ef-379">Recommended</span></span> |<span data-ttu-id="942ef-380">Az URL-címet, a felhasználó után a rendszer átirányítja a sikeres kijelentkezési.</span><span class="sxs-lookup"><span data-stu-id="942ef-380">The URL that the user should be redirected to after successful sign-out.</span></span> <span data-ttu-id="942ef-381">Ha nincs megadva, az Azure AD B2C alábbi hibaüzenet jelenik meg a felhasználó számára látható.</span><span class="sxs-lookup"><span data-stu-id="942ef-381">If it is not included, Azure AD B2C displays a generic message to the user.</span></span> |

> [!NOTE]
> <span data-ttu-id="942ef-382">Irányítja a felhasználót, hogy a `end_session_endpoint` néhány, a felhasználó állapotának egyszeri bejelentkezés az Azure AD B2C törli.</span><span class="sxs-lookup"><span data-stu-id="942ef-382">Directing the user to the `end_session_endpoint` clears some of the user's single sign-on state with Azure AD B2C.</span></span> <span data-ttu-id="942ef-383">Azt azonban nem jelentkezik ki a felhasználó közösségi identity provider munkamenet a felhasználó.</span><span class="sxs-lookup"><span data-stu-id="942ef-383">However, it doesn't sign the user out of the user's social identity provider session.</span></span> <span data-ttu-id="942ef-384">Ha a felhasználó kijelöli azonos szolgáltató azonosítani egy későbbi bejelentkezés során, a felhasználók újrahitelesítése, a hitelesítő adatok megadása nélkül.</span><span class="sxs-lookup"><span data-stu-id="942ef-384">If the user selects the same identify provider during a subsequent sign-in, the user is reauthenticated, without entering their credentials.</span></span> <span data-ttu-id="942ef-385">Ha egy felhasználó kijelentkezik az Azure AD B2C alkalmazás azt szeretné, akkor nem feltétlenül jelenti teljesen kijelentkezni például Facebook fiókjuk szeretnék.</span><span class="sxs-lookup"><span data-stu-id="942ef-385">If a user wants to sign out of your Azure AD B2C application, it does not necessarily mean they want to completely sign out of their Facebook account, for example.</span></span> <span data-ttu-id="942ef-386">Azonban a helyi fiókok, a felhasználói munkamenet véget ér megfelelően.</span><span class="sxs-lookup"><span data-stu-id="942ef-386">However, for local accounts, the user's session will be ended properly.</span></span>
> 
> 

## <a name="use-your-own-azure-ad-b2c-tenant"></a><span data-ttu-id="942ef-387">A saját Azure AD B2C bérlő használata</span><span class="sxs-lookup"><span data-stu-id="942ef-387">Use your own Azure AD B2C tenant</span></span>
<span data-ttu-id="942ef-388">Próbálja meg ezek a kérelmek saját magának, végezze el az alábbi három lépést.</span><span class="sxs-lookup"><span data-stu-id="942ef-388">To try these requests yourself, complete the following three steps.</span></span> <span data-ttu-id="942ef-389">Cserélje le a példában szereplő értékeket, ebben a cikkben a saját értékeket használjuk:</span><span class="sxs-lookup"><span data-stu-id="942ef-389">Replace the example values we use in this article with your own values:</span></span>

1. <span data-ttu-id="942ef-390">[Az Azure AD B2C bérlő létrehozása](active-directory-b2c-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="942ef-390">[Create an Azure AD B2C tenant](active-directory-b2c-get-started.md).</span></span> <span data-ttu-id="942ef-391">A bérlő nevét használja a kérelemben.</span><span class="sxs-lookup"><span data-stu-id="942ef-391">Use the name of your tenant in the requests.</span></span>
2. <span data-ttu-id="942ef-392">[Hozzon létre egy alkalmazást](active-directory-b2c-app-registration.md) az Alkalmazásazonosító beszerzése és egy `redirect_uri` érték.</span><span class="sxs-lookup"><span data-stu-id="942ef-392">[Create an application](active-directory-b2c-app-registration.md) to obtain an application ID and a `redirect_uri` value.</span></span> <span data-ttu-id="942ef-393">Vegye fel az alkalmazást egy webalkalmazást vagy webes API.</span><span class="sxs-lookup"><span data-stu-id="942ef-393">Include a web app or web API in your app.</span></span> <span data-ttu-id="942ef-394">Ha szükséges egy alkalmazás titkos kulcs is létrehozhat.</span><span class="sxs-lookup"><span data-stu-id="942ef-394">Optionally, you can create an application secret.</span></span>
3. <span data-ttu-id="942ef-395">[A házirendek létrehozása](active-directory-b2c-reference-policies.md) beszerzése a házirend nevét.</span><span class="sxs-lookup"><span data-stu-id="942ef-395">[Create your policies](active-directory-b2c-reference-policies.md) to obtain your policy names.</span></span>

## <a name="samples"></a><span data-ttu-id="942ef-396">Példák</span><span class="sxs-lookup"><span data-stu-id="942ef-396">Samples</span></span>

* [<span data-ttu-id="942ef-397">Hozzon létre egy alkalmazás számára a Node.js segítségével</span><span class="sxs-lookup"><span data-stu-id="942ef-397">Create a single-page app by using Node.js</span></span>](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-nodejs-webapi)
* [<span data-ttu-id="942ef-398">Hozzon létre egy egyoldalas alkalmazást .NET használatával</span><span class="sxs-lookup"><span data-stu-id="942ef-398">Create a single-page app by using .NET</span></span>](https://github.com/Azure-Samples/active-directory-b2c-javascript-singlepageapp-dotnet-webapi)

