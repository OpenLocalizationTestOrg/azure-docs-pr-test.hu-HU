---
title: "Oktatóanyag: Azure BizTalk szolgáltatásokkal EDIFACT számlák feldolgozásához |} Microsoft Docs"
description: "Létrehozása és konfigurálja az mezőben összekötő vagy az API-alkalmazást, és használhatja a logikai alkalmazást az Azure App Service"
services: biztalk-services
documentationcenter: .net,nodejs,java
author: msftman
manager: erikre
editor: 
ms.assetid: 7e0b93fa-3e2b-4a9c-89ef-abf1d3aa8fa9
ms.service: biztalk-services
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: integration
ms.date: 05/31/2016
ms.author: deonhe
ms.openlocfilehash: 4597ee28e4c3b797c0ab050b21a126a95d9e8191
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 08/03/2017
---
# <a name="tutorial-process-edifact-invoices-using-azure-biztalk-services"></a><span data-ttu-id="edde5-103">Oktatóanyag: Folyamat EDIFACT számlák Azure BizTalk szolgáltatás használata</span><span class="sxs-lookup"><span data-stu-id="edde5-103">Tutorial: Process EDIFACT invoices using Azure BizTalk Services</span></span>

> [!INCLUDE [BizTalk Services is being retired, and replaced with Azure Logic Apps](../../includes/biztalk-services-retirement.md)]

<span data-ttu-id="edde5-104">A BizTalk szolgáltatások portál segítségével konfigurálhatja és telepítheti a X12 és EDIFACT-egyezmények.</span><span class="sxs-lookup"><span data-stu-id="edde5-104">You can use the BizTalk Services Portal to configure and deploy X12 and EDIFACT agreements.</span></span> <span data-ttu-id="edde5-105">Ebben az oktatóanyagban úgy tekintünk létrehozása az üzleti partnerek között számlák cseréjét EDIFACT szerződést is.</span><span class="sxs-lookup"><span data-stu-id="edde5-105">In this tutorial, we look at how to create an EDIFACT agreement for exchanging invoices between trading partners.</span></span> <span data-ttu-id="edde5-106">Ez az oktatóanyag egy végpont megoldás használata esetén két kereskedelmi partnereknek, EDIFACT üzeneteket Northwind és Contoso körül írása.</span><span class="sxs-lookup"><span data-stu-id="edde5-106">This tutorial is written around an end-to-end business solution involving two trading partners, Northwind and Contoso that exchange EDIFACT messages.</span></span>  

## <a name="sample-based-on-this-tutorial"></a><span data-ttu-id="edde5-107">Ez az oktatóanyag alapján minta</span><span class="sxs-lookup"><span data-stu-id="edde5-107">Sample based on this tutorial</span></span>
<span data-ttu-id="edde5-108">Ez az oktatóanyag egy minta körül írása **küldése EDIFACT számlák BizTalk szolgáltatások használatával**, elérhető töltheti le a [MSDN Kódgalériából](http://go.microsoft.com/fwlink/?LinkId=401005).</span><span class="sxs-lookup"><span data-stu-id="edde5-108">This tutorial is written around a sample, **Sending EDIFACT Invoices Using BizTalk Services**, which is available to download from the [MSDN Code Gallery](http://go.microsoft.com/fwlink/?LinkId=401005).</span></span> <span data-ttu-id="edde5-109">Nem sikerült a mintát használja, és az oktatóanyag lépéseinek megértése, hogyan készült el a mintát.</span><span class="sxs-lookup"><span data-stu-id="edde5-109">You could use the sample and go through this tutorial to understand how the sample was built.</span></span> <span data-ttu-id="edde5-110">Vagy használhat ez az oktatóanyag a saját megoldás ground up létrehozásához.</span><span class="sxs-lookup"><span data-stu-id="edde5-110">Or, you could use this tutorial to create your own solution ground-up.</span></span> <span data-ttu-id="edde5-111">Ez az oktatóanyag a második megközelítés cél, hogy megismerte a hogyan készült el ebben a megoldásban.</span><span class="sxs-lookup"><span data-stu-id="edde5-111">This tutorial is targeted towards the second approach so that you understand how this solution was built.</span></span> <span data-ttu-id="edde5-112">Is amennyire csak lehet, az oktatóanyag konzisztensek legyenek a minta és az összetevők (például sémákat, átalakítások) azonos nevét használja, mint a mintában használt.</span><span class="sxs-lookup"><span data-stu-id="edde5-112">Also, as much as possible, the tutorial is consistent with the sample and uses the same names for artifacts (for example, schemas, transforms) as used in the sample.</span></span>  

> [!NOTE]
> <span data-ttu-id="edde5-113">Mivel ezen megoldás keretein egy EAI-Összekötők híd üzenetet küld egy EDI híd, akkor a rendszer újból felhasználja a [BizTalk szolgáltatások híd minta láncolás](http://code.msdn.microsoft.com/BizTalk-Bridge-chaining-2246b104) minta.</span><span class="sxs-lookup"><span data-stu-id="edde5-113">Because this solution involves sending a message from an EAI bridge to an EDI bridge, it reuses the [BizTalk Services Bridge chaining sample](http://code.msdn.microsoft.com/BizTalk-Bridge-chaining-2246b104) sample.</span></span>  
> 
> 

## <a name="what-does-the-solution-do"></a><span data-ttu-id="edde5-114">Mit jelent a megoldást?</span><span class="sxs-lookup"><span data-stu-id="edde5-114">What does the solution do?</span></span>
<span data-ttu-id="edde5-115">Ebben a megoldásban a Northwind EDIFACT számlák megkapja a Contoso.</span><span class="sxs-lookup"><span data-stu-id="edde5-115">In this solution, Northwind receives EDIFACT invoices from Contoso.</span></span> <span data-ttu-id="edde5-116">A következő számlák nincsenek szabványos EDI-formátumú.</span><span class="sxs-lookup"><span data-stu-id="edde5-116">These invoices are not in a standard EDI format.</span></span> <span data-ttu-id="edde5-117">Ezért mielőtt elküldi a számla Northwind, azt kell alakul EDIFACT (más néven INVOIC) számla dokumentumhoz.</span><span class="sxs-lookup"><span data-stu-id="edde5-117">So, before sending the invoice to Northwind, it must be transformed to an EDIFACT invoice (also called INVOIC) document.</span></span> <span data-ttu-id="edde5-118">Fogadását, a Northwind kell feldolgozni a EDIFACT számla, és térjen vissza a vezérlő üzenet (más néven CONTRL) Contoso.</span><span class="sxs-lookup"><span data-stu-id="edde5-118">On receipt, Northwind must process the EDIFACT invoice, and return a control message (also called CONTRL) to Contoso.</span></span>

![][1]  

<span data-ttu-id="edde5-119">Az üzleti terület eléréséhez a Contoso használ a Microsoft Azure BizTalk szolgáltatások által nyújtott szolgáltatásokat.</span><span class="sxs-lookup"><span data-stu-id="edde5-119">To achieve this business scenario, Contoso uses the features provided with Microsoft Azure BizTalk Services.</span></span>

* <span data-ttu-id="edde5-120">A Contoso EAI-Összekötők hidak átalakítására használja az eredeti számlát EDIFACT INVOIC használ.</span><span class="sxs-lookup"><span data-stu-id="edde5-120">Contoso uses EAI bridges to transform the original invoice to EDIFACT INVOIC.</span></span>
* <span data-ttu-id="edde5-121">A EAI-Összekötők híd majd a üzenetet küld egy EDI küldési híd konfigurálva a BizTalk szolgáltatások portálon szerződés részeként.</span><span class="sxs-lookup"><span data-stu-id="edde5-121">The EAI bridge then sends the message to an EDI send bridge deployed as part of an agreement configured in the BizTalk Services Portal.</span></span>
* <span data-ttu-id="edde5-122">A EDI-küldési híd dolgozza fel a EDIFACT INVOIC, és továbbítja a Northwind.</span><span class="sxs-lookup"><span data-stu-id="edde5-122">The EDI send bridge processes the EDIFACT INVOIC and routes it to Northwind.</span></span>
* <span data-ttu-id="edde5-123">A számla beérkezése után Northwind visszaadja egy CONTRL üzenet a EDI kapják meg a szerződés részeként híd.</span><span class="sxs-lookup"><span data-stu-id="edde5-123">After receiving the invoice, Northwind returns a CONTRL message to the EDI receive bridge deployed as part of the agreement.</span></span>  

> [!NOTE]
> <span data-ttu-id="edde5-124">Szükség esetén ez a megoldás is bemutatja, hogyan használja a kötegelés kötegekben, minden egyes számla külön küldése helyett a számlák küldhet.</span><span class="sxs-lookup"><span data-stu-id="edde5-124">Optionally, this solution also demonstrates how to use batching to send the invoices in batches, instead of sending each invoice separately.</span></span>  
> 
> 

<span data-ttu-id="edde5-125">A forgatókönyv végrehajtásához a Service Bus-üzenetsorok a Contoso számla Northwind küldeni / nyugtázási fogadását Northwind használjuk.</span><span class="sxs-lookup"><span data-stu-id="edde5-125">To complete the scenario, we use Service Bus queues to send invoice from Contoso to Northwind or receive acknowledgement from Northwind.</span></span> <span data-ttu-id="edde5-126">Ezek a várólisták hozhatók létre egy ügyfélalkalmazást, amely letölthető, és a rendelkezésre álló minta csomagban található ebben az oktatóanyagban részeként.</span><span class="sxs-lookup"><span data-stu-id="edde5-126">These queues can be created using a client application, which is available as a download and is included in the sample package that is available as part of this tutorial.</span></span>  

## <a name="prerequisites"></a><span data-ttu-id="edde5-127">Előfeltételek</span><span class="sxs-lookup"><span data-stu-id="edde5-127">Prerequisites</span></span>
* <span data-ttu-id="edde5-128">A Service Bus-névtér kell rendelkeznie.</span><span class="sxs-lookup"><span data-stu-id="edde5-128">You must have a Service Bus namespace.</span></span> <span data-ttu-id="edde5-129">Egy névtér létrehozása vonatkozó utasításokért lásd: [Útmutató: létrehozhat vagy módosíthat egy Service Bus szolgáltatás Namespace](https://msdn.microsoft.com/library/azure/hh674478.aspx).</span><span class="sxs-lookup"><span data-stu-id="edde5-129">For instructions on creating a namespace, see [How To: Create or Modify a Service Bus Service Namespace](https://msdn.microsoft.com/library/azure/hh674478.aspx).</span></span> <span data-ttu-id="edde5-130">Tételezzük fel, hogy már rendelkezik kiépített, Service Bus-névtér neve **edifactbts**.</span><span class="sxs-lookup"><span data-stu-id="edde5-130">Let us assume that you already have a Service Bus namespace provisioned, called **edifactbts**.</span></span>
* <span data-ttu-id="edde5-131">A BizTalk szolgáltatások előfizetéssel kell rendelkeznie.</span><span class="sxs-lookup"><span data-stu-id="edde5-131">You must have a BizTalk Services subscription.</span></span> <span data-ttu-id="edde5-132">Útmutatásért lásd: [klasszikus Azure portál használatával BizTalk szolgáltatás létrehozása](http://go.microsoft.com/fwlink/?LinkID=302280).</span><span class="sxs-lookup"><span data-stu-id="edde5-132">For instructions, see [Create a BizTalk Service using Azure classic portal](http://go.microsoft.com/fwlink/?LinkID=302280).</span></span> <span data-ttu-id="edde5-133">Ebben az oktatóanyagban Tételezzük nevű BizTalk szolgáltatások előfizetéssel rendelkezik **contosowabs**.</span><span class="sxs-lookup"><span data-stu-id="edde5-133">For this tutorial, let us assume you have a BizTalk Services subscription, called **contosowabs**.</span></span>
* <span data-ttu-id="edde5-134">BizTalk szolgáltatások előfizetését a BizTalk szolgáltatások portál regisztrálni.</span><span class="sxs-lookup"><span data-stu-id="edde5-134">Register your BizTalk Services subscription on the BizTalk Services Portal.</span></span> <span data-ttu-id="edde5-135">Útmutatásért lásd: [egy BizTalk szolgáltatás telepítését a BizTalk szolgáltatások portál regisztrálása](https://msdn.microsoft.com/library/hh689837.aspx)</span><span class="sxs-lookup"><span data-stu-id="edde5-135">For instructions, see [Registering a BizTalk Service Deployment on the BizTalk Services Portal](https://msdn.microsoft.com/library/hh689837.aspx)</span></span>
* <span data-ttu-id="edde5-136">Visual Studio telepítve kell rendelkeznie.</span><span class="sxs-lookup"><span data-stu-id="edde5-136">You must have Visual Studio installed.</span></span>
* <span data-ttu-id="edde5-137">BizTalk szolgáltatások SDK telepítve kell rendelkeznie.</span><span class="sxs-lookup"><span data-stu-id="edde5-137">You must have BizTalk Services SDK installed.</span></span> <span data-ttu-id="edde5-138">Letöltheti az SDK [http://go.microsoft.com/fwlink/?LinkId=235057](http://go.microsoft.com/fwlink/?LinkId=235057)</span><span class="sxs-lookup"><span data-stu-id="edde5-138">You can download the SDK from [http://go.microsoft.com/fwlink/?LinkId=235057](http://go.microsoft.com/fwlink/?LinkId=235057)</span></span>  

## <a name="step-1-create-the-service-bus-queues"></a><span data-ttu-id="edde5-139">1. lépés: A Service Bus-üzenetsorok létrehozása</span><span class="sxs-lookup"><span data-stu-id="edde5-139">Step 1: Create the Service Bus queues</span></span>
<span data-ttu-id="edde5-140">A megoldás az Service Bus-üzenetsorok üzenetek üzleti partnerek között.</span><span class="sxs-lookup"><span data-stu-id="edde5-140">This solution uses Service Bus queues to exchange messages between trading partners.</span></span> <span data-ttu-id="edde5-141">A Contoso és a Northwind üzenetek küldése a várólistákat a, ahol a EAI-Összekötők és/vagy EDI hidak felhasználni azokat.</span><span class="sxs-lookup"><span data-stu-id="edde5-141">Contoso and Northwind send messages to the queues from where the EAI and/or EDI bridges consume them.</span></span> <span data-ttu-id="edde5-142">Ez a megoldás három Service Bus-üzenetsorok szükséges:</span><span class="sxs-lookup"><span data-stu-id="edde5-142">For this solution, you need three Service Bus queues:</span></span>

* <span data-ttu-id="edde5-143">**northwindreceive** – Northwind fogad a számla Contoso keresztül ebből a várólistából.</span><span class="sxs-lookup"><span data-stu-id="edde5-143">**northwindreceive** – Northwind receives the invoice from Contoso over this queue.</span></span>
* <span data-ttu-id="edde5-144">**contosoreceive** – Contoso fogad a nyugtázási Northwind keresztül ebből a várólistából.</span><span class="sxs-lookup"><span data-stu-id="edde5-144">**contosoreceive** – Contoso receives the acknowledgement from Northwind over this queue.</span></span>
* <span data-ttu-id="edde5-145">**Felfüggesztve** – az összes felfüggesztett üzenet a várólistában legyenek átirányítva.</span><span class="sxs-lookup"><span data-stu-id="edde5-145">**suspended** – All suspended messages are routed to this queue.</span></span> <span data-ttu-id="edde5-146">Üzenetek fel vannak függesztve, ha azt elmulasztják feldolgozása során.</span><span class="sxs-lookup"><span data-stu-id="edde5-146">Messages are suspended if they fail during processing.</span></span>

<span data-ttu-id="edde5-147">A Service Bus-üzenetsorok hozhat létre egy ügyfélalkalmazást, a minta csomag használatával.</span><span class="sxs-lookup"><span data-stu-id="edde5-147">You can create these Service Bus queues by using a client application included in the sample package.</span></span>  

1. <span data-ttu-id="edde5-148">Nyissa meg a helyről, amelybe letöltötte a minta **oktatóanyag küldése számlák használatával BizTalk szolgáltatások EDI Bridges.sln**.</span><span class="sxs-lookup"><span data-stu-id="edde5-148">From the location where you downloaded the sample, open **Tutorial Sending Invoices Using BizTalk Services EDI Bridges.sln**.</span></span>
2. <span data-ttu-id="edde5-149">Nyomja le az **F5** építsenek, és indítsa el a **oktatóanyag ügyfél** alkalmazás.</span><span class="sxs-lookup"><span data-stu-id="edde5-149">Press **F5** to build and start the **Tutorial Client** application.</span></span>
3. <span data-ttu-id="edde5-150">A képernyőn adja meg a Service Bus ACS névteret, a kibocsátó neve és a kibocsátó kulcsa.</span><span class="sxs-lookup"><span data-stu-id="edde5-150">In the screen, enter the Service Bus ACS namespace, issuer name, and issuer key.</span></span>
   
   ![][2]  
4. <span data-ttu-id="edde5-151">Egy üzenetablak megadását kéri, hogy a Service Bus-névtér három várólisták létrejön.</span><span class="sxs-lookup"><span data-stu-id="edde5-151">A message box prompts that three queues will be created in your Service Bus namespace.</span></span> <span data-ttu-id="edde5-152">Kattintson az **OK** gombra.</span><span class="sxs-lookup"><span data-stu-id="edde5-152">Click **OK**.</span></span>
5. <span data-ttu-id="edde5-153">Hagyja meg az oktatóanyag futtató ügyfélen.</span><span class="sxs-lookup"><span data-stu-id="edde5-153">Leave the Tutorial Client running.</span></span> <span data-ttu-id="edde5-154">Nyissa meg a lehetőségre **Service Bus** > ***a Service Bus-névtér*** > **várólisták**, és győződjön meg arról, hogy a három várólisták jöttek létre.</span><span class="sxs-lookup"><span data-stu-id="edde5-154">Open the , click **Service Bus** > ***your Service Bus namespace*** > **Queues**, and verify that the three queues are created.</span></span>  

## <a name="step-2-create-and-deploy-trading-partner-agreement"></a><span data-ttu-id="edde5-155">2. lépés: Hozzon létre, és kereskedelmipartner-egyezmény telepítése</span><span class="sxs-lookup"><span data-stu-id="edde5-155">Step 2: Create and deploy trading partner agreement</span></span>
<span data-ttu-id="edde5-156">A Contoso és a Northwind közötti kereskedelmipartner-egyezmény létrehozása.</span><span class="sxs-lookup"><span data-stu-id="edde5-156">Create a trading partner agreement between Contoso and Northwind.</span></span> <span data-ttu-id="edde5-157">Kereskedelmipartner-egyezmény definiál egy kereskedelmi szerződés között a két üzleti partnerek, például milyen üzenet használandó sémát, melyik üzenetküldési protokoll stb. Kereskedelmipartner-egyezmény tartalmaz egy kereskedelmi partnerek üzeneteket küldhet két EDI hidak (hívása a **EDI küldése híd**) és egy kereskedelmi partnerek üzenetek fogadása (hívása a **EDI-fogadási híd**).</span><span class="sxs-lookup"><span data-stu-id="edde5-157">A trading partner agreement defines a trade contract between the two business partners, such as which message schema to use, which messaging protocol to use, etc. A trading partner agreement includes two EDI bridges, one to send messages to trading partners (called the **EDI Send bridge**) and one to receive messages from trading partners (called the **EDI Receive bridge**).</span></span>

<span data-ttu-id="edde5-158">Ebben a megoldásban a környezetében a EDI-küldési híd felel meg a szerződés küldési-oldalon, és a Contoso küldendő a EDIFACT számla Northwind használható.</span><span class="sxs-lookup"><span data-stu-id="edde5-158">In the context of this solution, the EDI send bridge corresponds to the send-side of the agreement and is used to send the EDIFACT invoice from Contoso to Northwind.</span></span> <span data-ttu-id="edde5-159">Ehhez hasonlóan a EDI fogadó hídon felel meg a szerződés fogadóoldali, és fogadási nyugtázása a Northwind szolgál.</span><span class="sxs-lookup"><span data-stu-id="edde5-159">Similarly, the EDI receive bridge corresponds to the receive-side of the agreement and is used to receive acknowledgements from Northwind.</span></span>  

### <a name="create-the-trading-partners"></a><span data-ttu-id="edde5-160">A kereskedelmi partnereknek létrehozása</span><span class="sxs-lookup"><span data-stu-id="edde5-160">Create the trading partners</span></span>
<span data-ttu-id="edde5-161">Kereskedelmi partnereknek a Contoso és a Northwind kezdődnie, hozzon létre.</span><span class="sxs-lookup"><span data-stu-id="edde5-161">To start with, create trading partners for Contoso and Northwind.</span></span>  

1. <span data-ttu-id="edde5-162">A BizTalk szolgáltatások portálon a a **partnerek** lapra, majd **Hozzáadás**.</span><span class="sxs-lookup"><span data-stu-id="edde5-162">In the BizTalk Services Portal, on the **Partners** tab, click **Add**.</span></span>
2. <span data-ttu-id="edde5-163">Adja meg az új partner lap **Contoso** lehetőséget egy partner neve, majd kattintson **mentése**.</span><span class="sxs-lookup"><span data-stu-id="edde5-163">In the New partner page, enter **Contoso** as a partner name, and then click **Save**.</span></span>
3. <span data-ttu-id="edde5-164">Ismételje meg a második partner létrehozásához **Northwind**.</span><span class="sxs-lookup"><span data-stu-id="edde5-164">Repeat the step to create the second partner, **Northwind**.</span></span>  

### <a name="create-the-agreement"></a><span data-ttu-id="edde5-165">A szerződés létrehozása</span><span class="sxs-lookup"><span data-stu-id="edde5-165">Create the agreement</span></span>
<span data-ttu-id="edde5-166">Kereskedelmipartner-egyezmények üzleti profilok kereskedelmi partnerek között jönnek létre.</span><span class="sxs-lookup"><span data-stu-id="edde5-166">Trading partner agreements are created between business profiles of trading partners.</span></span> <span data-ttu-id="edde5-167">Ez a megoldás jönnek létre automatikusan a partnerek létrehozott alapértelmezett partner portprofilokat használ.</span><span class="sxs-lookup"><span data-stu-id="edde5-167">This solution uses the default partner profiles that are automatically created when we created the partners.</span></span>  

1. <span data-ttu-id="edde5-168">BizTalk szolgáltatások portálon kattintson **megállapodások** > **Hozzáadás**.</span><span class="sxs-lookup"><span data-stu-id="edde5-168">In the BizTalk Services Portal, click **Agreements** > **Add**.</span></span>
2. <span data-ttu-id="edde5-169">Az új szerződés a **általános beállítások** lapon adja meg az értékeket, az alábbi ábrán látható módon, és kattintson a **Folytatás**.</span><span class="sxs-lookup"><span data-stu-id="edde5-169">In the new agreement’s **General Settings** page, specify the values as shown in the image below, and then click **Continue**.</span></span>
   
   ![][3]  
   
   <span data-ttu-id="edde5-170">Miután rákattintott **Folytatás**, két lap található, **fogadási beállítások** és **küldési beállítások** elérhetővé válnak.</span><span class="sxs-lookup"><span data-stu-id="edde5-170">After you click **Continue**, two tabs, **Receive Settings** and **Send Settings** become available.</span></span>
3. <span data-ttu-id="edde5-171">Hozzon létre a Contoso és a Northwind küldési megállapodást.</span><span class="sxs-lookup"><span data-stu-id="edde5-171">Create the send agreement between Contoso and Northwind.</span></span> <span data-ttu-id="edde5-172">Ez a szerződés szabályozza, hogyan Contoso küld a EDIFACT számla Northwind.</span><span class="sxs-lookup"><span data-stu-id="edde5-172">This agreement governs how Contoso sends the EDIFACT invoice to Northwind.</span></span>
   
   1. <span data-ttu-id="edde5-173">Kattintson a **küldési beállításainak**.</span><span class="sxs-lookup"><span data-stu-id="edde5-173">Click **Send Settings**.</span></span>
   2. <span data-ttu-id="edde5-174">Tartsa meg az alapértelmezett értékeket a a **bejövő URL**, **átalakítási**, és **Batching** lapokon.</span><span class="sxs-lookup"><span data-stu-id="edde5-174">Retain the default values on the **Inbound URL**, **Transform**, and **Batching** tabs.</span></span>
   3. <span data-ttu-id="edde5-175">Az a **protokoll** lap a **sémák** részen töltse fel a **EFACT_D93A_INVOIC.xsd** séma.</span><span class="sxs-lookup"><span data-stu-id="edde5-175">On the **Protocol** tab, under the **Schemas** section, upload the **EFACT_D93A_INVOIC.xsd** schema.</span></span> <span data-ttu-id="edde5-176">Ebben a sémában a minta csomaggal érhető el.</span><span class="sxs-lookup"><span data-stu-id="edde5-176">This schema is available with the sample package.</span></span>
      
      ![][4]  
   4. <span data-ttu-id="edde5-177">Az a **átviteli** lapra, adja meg a Service Bus-üzenetsorok adatait.</span><span class="sxs-lookup"><span data-stu-id="edde5-177">On the **Transport** tab, specify the details for the Service Bus queues.</span></span> <span data-ttu-id="edde5-178">A küldő-oldalon szerződés használjuk a **northwindreceive** várólista a EDIFACT számla küldendő Northwind, és a **felfüggesztve** várólista irányítja az üzenetek, sikertelen feldolgozása során, és fel vannak függesztve.</span><span class="sxs-lookup"><span data-stu-id="edde5-178">For the send-side agreement, we use the **northwindreceive** queue to send the EDIFACT invoice to Northwind, and the **suspended** queue to route any messages that fail during processing and are suspended.</span></span> <span data-ttu-id="edde5-179">Ezek a várólisták a létrehozott **1. lépés: a Service Bus-üzenetsorok létrehozása** (szakaszát).</span><span class="sxs-lookup"><span data-stu-id="edde5-179">You created these queues in **Step 1: Create the Service Bus queues** (in this topic).</span></span>
      
      ![][5]  
      
      <span data-ttu-id="edde5-180">A **átviteli beállításai > átviteli típus** és **felfüggesztéséről az Üzenetbeállítások > átviteli típus**, válassza ki az Azure Service Bus, és adja meg az értékeket, az ábrán látható módon.</span><span class="sxs-lookup"><span data-stu-id="edde5-180">Under **Transport Settings > Transport type** and **Message Suspension Settings > Transport type**, select Azure Service Bus and provide the values as shown in the image.</span></span>
4. <span data-ttu-id="edde5-181">Hozzon létre a Contoso és a Northwind receive megállapodást.</span><span class="sxs-lookup"><span data-stu-id="edde5-181">Create the receive agreement between Contoso and Northwind.</span></span> <span data-ttu-id="edde5-182">Ez a szerződés szabályozza, hogyan Contoso fogadja a nyugtázási Northwind.</span><span class="sxs-lookup"><span data-stu-id="edde5-182">This agreement governs how Contoso receives the acknowledgement from Northwind.</span></span>
   
   1. <span data-ttu-id="edde5-183">Kattintson a **beállítások**.</span><span class="sxs-lookup"><span data-stu-id="edde5-183">Click **Receive Settings**.</span></span>
   2. <span data-ttu-id="edde5-184">Tartsa meg az alapértelmezett értékeket a a **átviteli** és **átalakítási** lapokon.</span><span class="sxs-lookup"><span data-stu-id="edde5-184">Retain the default values on the **Transport** and **Transform** tabs.</span></span>
   3. <span data-ttu-id="edde5-185">Az a **protokoll** lap a **sémák** részen töltse fel a **EFACT_4.1_CONTRL.xsd** séma.</span><span class="sxs-lookup"><span data-stu-id="edde5-185">On the **Protocol** tab, under the **Schemas** section, upload the **EFACT_4.1_CONTRL.xsd** schema.</span></span> <span data-ttu-id="edde5-186">Ebben a sémában a minta csomaggal érhető el.</span><span class="sxs-lookup"><span data-stu-id="edde5-186">This schema is available with the sample package.</span></span>
   4. <span data-ttu-id="edde5-187">Az a **útvonal** lapra, létrehozhat egy szűrőt, győződjön meg arról, hogy csak a Northwind nyugták Contoso legyenek átirányítva.</span><span class="sxs-lookup"><span data-stu-id="edde5-187">On the **Route** tab, create a filter to ensure that only acknowledgements from Northwind are routed to Contoso.</span></span> <span data-ttu-id="edde5-188">A **útvonal beállítások**, kattintson a **Hozzáadás** a útválasztási szűrő létrehozásához.</span><span class="sxs-lookup"><span data-stu-id="edde5-188">Under **Route Settings**, click **Add** to create the routing filter.</span></span>
      
      ![][6]  
      
      1. <span data-ttu-id="edde5-189">Adjon meg értékeket a **szabálynév**, **útvonal szabály**, és **útvonal cél** az ábrán látható módon.</span><span class="sxs-lookup"><span data-stu-id="edde5-189">Provide values for **Rule Name**, **Route rule**, and **Route destination** as shown in the image.</span></span>
      2. <span data-ttu-id="edde5-190">Kattintson a **Save** (Mentés) gombra.</span><span class="sxs-lookup"><span data-stu-id="edde5-190">Click **Save**.</span></span>
   5. <span data-ttu-id="edde5-191">Az a **útvonal** újra lapra, adja meg, ahol felfüggesztett nyugták (a nyugtázás a feldolgozás során eleget nem tevő) legyenek átirányítva.</span><span class="sxs-lookup"><span data-stu-id="edde5-191">On the **Route** tab again, specify where suspended acknowledgements (acknowledgements that fail during processing) are routed to.</span></span> <span data-ttu-id="edde5-192">Állítsa be az átvitelt típusát Azure Service Bus, a céltípus irányításához **várólista**, hitelesítési típus **közös hozzáférésű Jogosultságkód** (SAS), adja meg a Service Bus-névtér az SAS-kapcsolati karakterlánc, és adja meg a várólista neve, ahogyan **felfüggesztve**.</span><span class="sxs-lookup"><span data-stu-id="edde5-192">Set the transport type to Azure Service Bus, route destination type to **Queue**, authentication type to **Shared Access Signature** (SAS), provide the SAS connection string for the Service Bus namespace, and then enter the queue name as **suspended**.</span></span>
5. <span data-ttu-id="edde5-193">Végezetül kattintson **telepítés** központi telepítése a szerződést.</span><span class="sxs-lookup"><span data-stu-id="edde5-193">Finally, click **Deploy** to deploy the agreement.</span></span> <span data-ttu-id="edde5-194">Vegye figyelembe a végpontok ahol a küldési és fogadási megállapodások telepítve.</span><span class="sxs-lookup"><span data-stu-id="edde5-194">Note the endpoints where the send and receive agreements get deployed.</span></span>
   
   * <span data-ttu-id="edde5-195">Az a **küldési beállítások** lap **bejövő URL**, vegye figyelembe a végpont.</span><span class="sxs-lookup"><span data-stu-id="edde5-195">On the **Send Settings** tab, under **Inbound URL**, note the endpoint.</span></span> <span data-ttu-id="edde5-196">Üzenet küldése a Contoso a EDI-küldési bridge segítségével Northwind, el kell küldenie egy üzenet ehhez a végponthoz.</span><span class="sxs-lookup"><span data-stu-id="edde5-196">To send a message from Contoso to Northwind using the EDI send bridge, you must send a message to this endpoint.</span></span>
   * <span data-ttu-id="edde5-197">Az a **fogadási beállítások** lap **átviteli**, vegye figyelembe a végpont.</span><span class="sxs-lookup"><span data-stu-id="edde5-197">On the **Receive Settings** tab, under **Transport**, note the endpoint.</span></span> <span data-ttu-id="edde5-198">Üzenet küldése a Northwind Contoso a EDI használatával kap híd, el kell küldenie egy üzenet ehhez a végponthoz.</span><span class="sxs-lookup"><span data-stu-id="edde5-198">To send a message from Northwind to Contoso using the EDI receive bridge, you must send a message to this endpoint.</span></span>  

## <a name="step-3-create-and-deploy-the-biztalk-services-project"></a><span data-ttu-id="edde5-199">3. lépés: Hozzon létre, és a BizTalk szolgáltatások projekt telepítése</span><span class="sxs-lookup"><span data-stu-id="edde5-199">Step 3: Create and deploy the BizTalk Services project</span></span>
<span data-ttu-id="edde5-200">Az előző lépésben a EDI küldési telepített, és feldolgozni EDIFACT számlákat és a nyugtázás a megállapodások fogadására.</span><span class="sxs-lookup"><span data-stu-id="edde5-200">In the previous step, you deployed the EDI send and receive agreements to process EDIFACT invoices and acknowledgements.</span></span> <span data-ttu-id="edde5-201">Ezek a szerződések csak megfeleljen a szabványos EDIFACT üzenet sémának folyamat üzeneteket is.</span><span class="sxs-lookup"><span data-stu-id="edde5-201">These agreements can only process messages that conform to the standard EDIFACT message schema.</span></span> <span data-ttu-id="edde5-202">Azonban az ebben a megoldásban a forgatókönyvben egy Contoso küld számla Northwind belső fejlesztésű jogvédett sémában.</span><span class="sxs-lookup"><span data-stu-id="edde5-202">However, per the scenario for this solution, Contoso sends an invoice to Northwind in an in-house proprietary schema.</span></span> <span data-ttu-id="edde5-203">Igen az üzenet elküldése a EDI-küldési híd, azt kell alakul a belső fejlesztésű séma a szabványos EDIFACT számla sémának.</span><span class="sxs-lookup"><span data-stu-id="edde5-203">So, before the message is sent to the EDI send bridge, it must be transformed from the in-house schema to the standard EDIFACT invoice schema.</span></span> <span data-ttu-id="edde5-204">A BizTalk EAI-szolgáltatások Projekt funkciója, amely.</span><span class="sxs-lookup"><span data-stu-id="edde5-204">The BizTalk Services EAI project does that.</span></span>

<span data-ttu-id="edde5-205">BizTalk szolgáltatások projekt **InvoiceProcessingBridge**, hogy átalakítások az üzenet is része a letöltött minta részeként.</span><span class="sxs-lookup"><span data-stu-id="edde5-205">The BizTalk Services project, **InvoiceProcessingBridge**, that transforms the message is also included as part of the sample you downloaded.</span></span> <span data-ttu-id="edde5-206">A projekt a következő összetevőket tartalmazza:</span><span class="sxs-lookup"><span data-stu-id="edde5-206">The project includes the following artifacts:</span></span>

* <span data-ttu-id="edde5-207">**INHOUSEINVOICE. XSD** – a belső fejlesztésű számla Northwind küldött séma.</span><span class="sxs-lookup"><span data-stu-id="edde5-207">**INHOUSEINVOICE.XSD** – Schema of the in-house invoice that is sent to Northwind.</span></span>
* <span data-ttu-id="edde5-208">**EFACT_D93A_INVOIC. XSD** – szabványos EDIFACT számla séma.</span><span class="sxs-lookup"><span data-stu-id="edde5-208">**EFACT_D93A_INVOIC.XSD** – Schema of the standard EDIFACT invoice.</span></span>
* <span data-ttu-id="edde5-209">**EFACT_4.1_CONTRL. XSD** – a Northwind által a Contoso EDIFACT nyugtázási sémája.</span><span class="sxs-lookup"><span data-stu-id="edde5-209">**EFACT_4.1_CONTRL.XSD** – Schema of the EDIFACT acknowledgement that Northwind sends to Contoso.</span></span>
* <span data-ttu-id="edde5-210">**INHOUSEINVOICE_to_D93AINVOIC. TRFM** – az átalakító, amely a belső fejlesztésű számla séma van leképezve a szabványos EDIFACT számla séma.</span><span class="sxs-lookup"><span data-stu-id="edde5-210">**INHOUSEINVOICE_to_D93AINVOIC.TRFM** – The transform that maps the in-house invoice schema to the standard EDIFACT invoice schema.</span></span>  

### <a name="create-the-biztalk-services-project"></a><span data-ttu-id="edde5-211">A BizTalk szolgáltatások projekt létrehozása</span><span class="sxs-lookup"><span data-stu-id="edde5-211">Create the BizTalk Services project</span></span>
1. <span data-ttu-id="edde5-212">A Visual Studio-megoldásban, bontsa ki a InvoiceProcessingBridge projektet, és nyissa meg a **MessageFlowItinerary.bcs** fájlt.</span><span class="sxs-lookup"><span data-stu-id="edde5-212">In the Visual Studio solution, expand the InvoiceProcessingBridge project, and then open the **MessageFlowItinerary.bcs** file.</span></span>
2. <span data-ttu-id="edde5-213">Kattintson bárhová a vásznon, és állítsa be a **BizTalk szolgáltatás URL-címe** tulajdonság mezőben írja be a BizTalk szolgáltatások előfizetés nevét.</span><span class="sxs-lookup"><span data-stu-id="edde5-213">Click anywhere on the canvas and set the **BizTalk Service URL** in the property box to specify your BizTalk Services subscription name.</span></span> <span data-ttu-id="edde5-214">Például: `https://contosowabs.biztalk.windows.net`.</span><span class="sxs-lookup"><span data-stu-id="edde5-214">For example, `https://contosowabs.biztalk.windows.net`.</span></span>
   
   ![][7]  
3. <span data-ttu-id="edde5-215">Az Eszközkészlet palettáról, húzzon egy **Xml One-Way híd** a vászonra.</span><span class="sxs-lookup"><span data-stu-id="edde5-215">From the toolbox, drag an **Xml One-Way Bridge** to the canvas.</span></span> <span data-ttu-id="edde5-216">Állítsa be a **egyednév** és **relatív címet** a híd tulajdonságainak **ProcessInvoiceBridge**.</span><span class="sxs-lookup"><span data-stu-id="edde5-216">Set the **Entity Name** and **Relative Address** properties of the bridge to **ProcessInvoiceBridge**.</span></span> <span data-ttu-id="edde5-217">Kattintson duplán a **ProcessInvoiceBridge** a híd konfigurációs felület megnyitásához.</span><span class="sxs-lookup"><span data-stu-id="edde5-217">Double-click **ProcessInvoiceBridge** to open the bridge configuration surface.</span></span>
4. <span data-ttu-id="edde5-218">Belül a **üzenettípusok** párbeszédpanelen kattintson a plusz (**+**) gombra kattintva adja meg a séma, a bejövő üzenet.</span><span class="sxs-lookup"><span data-stu-id="edde5-218">Within the **Message Types** box, click the plus (**+**) button to specify the schema of the incoming message.</span></span> <span data-ttu-id="edde5-219">Mivel a EAI-Összekötők híd a bejövő üzenet mindig a belső fejlesztésű számla, állítsa ezt a beállítást **INHOUSEINVOICE**.</span><span class="sxs-lookup"><span data-stu-id="edde5-219">Because the incoming message for the EAI bridge is always the in-house invoice, set this to **INHOUSEINVOICE**.</span></span>
   
   ![][8]  
5. <span data-ttu-id="edde5-220">Kattintson a **XML-átalakító** alakzat, és a tulajdonság mezőben az a **Maps** tulajdonság, kattintson a három pont (**...** ) gombra.</span><span class="sxs-lookup"><span data-stu-id="edde5-220">Click the **Xml Transform** shape, and in the property box, for the **Maps** property, click the ellipsis (**...**) button.</span></span> <span data-ttu-id="edde5-221">Az a **Maps kijelölés** párbeszédpanelen jelölje ki a **INHOUSEINVOICE_to_D93AINVOIC** fájl átalakítása, és kattintson a **OK**.</span><span class="sxs-lookup"><span data-stu-id="edde5-221">In the **Maps Selection** dialog box, select the **INHOUSEINVOICE_to_D93AINVOIC** transform file, and then click **OK**.</span></span>
   
   ![][9]  
6. <span data-ttu-id="edde5-222">Lépjen vissza a **MessageFlowItinerary.bcs**, és az Eszközkészlet palettáról, húzza a **kétirányú külső végpont** jobb oldalán a **ProcessInvoiceBridge**.</span><span class="sxs-lookup"><span data-stu-id="edde5-222">Go back to **MessageFlowItinerary.bcs**, and from the toolbox, drag a **Two-Way External Service Endpoint** to the right of the **ProcessInvoiceBridge**.</span></span> <span data-ttu-id="edde5-223">Állítsa be a **egyednév** tulajdonságot **EDIBridge**.</span><span class="sxs-lookup"><span data-stu-id="edde5-223">Set its **Entity Name** property to **EDIBridge**.</span></span>
7. <span data-ttu-id="edde5-224">A Megoldáskezelőben bontsa ki a **MessageFlowItinerary.bcs** , és kattintson duplán a **EDIBridge.config** fájlt.</span><span class="sxs-lookup"><span data-stu-id="edde5-224">In the Solution Explorer, expand the **MessageFlowItinerary.bcs** and double-click the **EDIBridge.config** file.</span></span> <span data-ttu-id="edde5-225">Tartalom felülírja a **EDIBridge.config** a következőre.</span><span class="sxs-lookup"><span data-stu-id="edde5-225">Replace the content of the **EDIBridge.config** with the following.</span></span>
   
   > [!NOTE]
   > <span data-ttu-id="edde5-226">Miért szükséges a .config fájl szerkesztése?</span><span class="sxs-lookup"><span data-stu-id="edde5-226">Why do I need to edit the .config file?</span></span> <span data-ttu-id="edde5-227">A külső végpontot, amelyhez a híd tervezői vászonra hozzáadott a korábbi helyezett EDI hidak jelöli.</span><span class="sxs-lookup"><span data-stu-id="edde5-227">The external service endpoint that we added to the bridge designer canvas represents the EDI bridges that we deployed earlier.</span></span> <span data-ttu-id="edde5-228">EDI hidak kétirányú hidak, a Küldés és a fogadási oldalon.</span><span class="sxs-lookup"><span data-stu-id="edde5-228">EDI bridges are two-way bridges, with a send and receive side.</span></span> <span data-ttu-id="edde5-229">A EAI-Összekötők bridge, amelyek a híd Designer hozzáadott azonban egy egyirányú híd.</span><span class="sxs-lookup"><span data-stu-id="edde5-229">However, the EAI bridge that we added to the bridge designer is a one-way bridge.</span></span> <span data-ttu-id="edde5-230">Igen a két hidak másik üzenet exchange mintáinak kezelésére, használjuk egy egyéni híd viselkedés konfigurációjában belefoglalja a .config fájl.</span><span class="sxs-lookup"><span data-stu-id="edde5-230">So, to handle the different message exchange patterns of the two bridges, we use a custom bridge behavior by including its configuration in the .config file.</span></span> <span data-ttu-id="edde5-231">Emellett egyéni működését is a EDI küldési híd végpont a hitelesítési kezeli. Ez a viselkedés egyéni áll rendelkezésre, mert egy külön mintát [BizTalk szolgáltatások híd minta - EAI-Összekötők a EDI-láncolás](http://code.msdn.microsoft.com/BizTalk-Bridge-chaining-2246b104).</span><span class="sxs-lookup"><span data-stu-id="edde5-231">Additionally, the custom behavior also handles the authentication to the EDI send bridge endpoint.This custom behavior is available as a separate sample at [BizTalk Services Bridge chaining sample - EAI to EDI](http://code.msdn.microsoft.com/BizTalk-Bridge-chaining-2246b104).</span></span> <span data-ttu-id="edde5-232">Ez a megoldás a rendszer újból felhasználja a minta.</span><span class="sxs-lookup"><span data-stu-id="edde5-232">This solution reuses the sample.</span></span>  
   > 
   > 
   
   ```
   <?xml version="1.0" encoding="utf-8"?>
   <configuration>
     <system.serviceModel>
       <extensions>
         <behaviorExtensions>
           <add name="BridgeAuthentication" 
                 type="Microsoft.BizTalk.Bridge.Behaviour.BridgeBehaviorElement, Microsoft.BizTalk.Bridge.Behaviour, Version=1.0.0.0, Culture=neutral, PublicKeyToken=ae58f69b69495c05" />
         </behaviorExtensions>
       </extensions>
       <behaviors>
         <endpointBehaviors>
           <behavior name="BridgeAuthenticationConfiguration">
             <!-- Enter the ACS namespace, issuer name and issuer secret of the BizTalk Services deployment -->
             <BridgeAuthentication acsnamespace="[YOUR ACS NAMESPACE]" 
                                   issuername="owner" 
                                   issuersecret="[YOUR ACS SECRET]" />
             <webHttp />
           </behavior>
         </endpointBehaviors>
       </behaviors>
       <bindings>
         <webHttpBinding>
           <binding name="BridgeBindingConfiguration">
             <security mode="Transport" />
           </binding>
         </webHttpBinding>
       </bindings>
       <client>
         <clear />
         <!--
           Go BizTalk Portal > Agreement > Send Settings > Inbound URL
           Copy the Endpoint URL and paste it in the below address field
         -->
         <endpoint name="TwoWayExternalServiceEndpointReference1" 
                   address="[YOUR EDI BRIDGE SEND URI]" 
                   behaviorConfiguration="BridgeAuthenticationConfiguration" 
                   binding="webHttpBinding" 
                   bindingConfiguration="BridgeBindingConfiguration" 
                   contract="System.ServiceModel.Routing.IRequestReplyRouter" />
       </client>
     </system.serviceModel>
   </configuration>
   
   ```
8. <span data-ttu-id="edde5-233">Frissítés a EDIBridge.config fájlt a konfiguráció részletei</span><span class="sxs-lookup"><span data-stu-id="edde5-233">Update the EDIBridge.config file to include configuration details</span></span>
   
   * <span data-ttu-id="edde5-234">A  *<behaviors>* , adja meg az ACS-névteret és a BizTalk szolgáltatás-előfizetéshez társított kulcs.</span><span class="sxs-lookup"><span data-stu-id="edde5-234">Under *<behaviors>*, provide the ACS namespace and key associated with the BizTalk Services subscription.</span></span>
   * <span data-ttu-id="edde5-235">A  *<client>* , adja meg a végpont a EDI-küldési szerződés telepítési helyét.</span><span class="sxs-lookup"><span data-stu-id="edde5-235">Under *<client>*, provide the endpoint where the EDI send agreement is deployed.</span></span>
   
   <span data-ttu-id="edde5-236">Mentse a módosításokat, és zárja be a konfigurációs fájlt.</span><span class="sxs-lookup"><span data-stu-id="edde5-236">Save changes and close the configuration file.</span></span>
9. <span data-ttu-id="edde5-237">Az Eszközkészlet palettáról, kattintson a **összekötő** , és csatlakozzon a **ProcessInvoiceBridge** és **EDIBridge** összetevőket.</span><span class="sxs-lookup"><span data-stu-id="edde5-237">From the Toolbox, click the **Connector** and join the **ProcessInvoiceBridge** and **EDIBridge** components.</span></span> <span data-ttu-id="edde5-238">Válassza ki az összekötőt, és a Tulajdonságok párbeszédpanelen **szűrési feltételt** való **egyezés minden**.</span><span class="sxs-lookup"><span data-stu-id="edde5-238">Select the connector, and in Properties box, set **Filter Condition** to **Match All**.</span></span> <span data-ttu-id="edde5-239">Ez biztosítja, hogy a EAI-Összekötők híd által feldolgozott összes üzenetet a EDI híd legyenek átirányítva.</span><span class="sxs-lookup"><span data-stu-id="edde5-239">This ensures that all messages processed by the EAI bridge are routed to the EDI bridge.</span></span>
   
   ![][10]  
10. <span data-ttu-id="edde5-240">Módosítások mentése a megoldáshoz.</span><span class="sxs-lookup"><span data-stu-id="edde5-240">Save changes to the solution.</span></span>  

### <a name="deploy-the-project"></a><span data-ttu-id="edde5-241">A projekt telepítése</span><span class="sxs-lookup"><span data-stu-id="edde5-241">Deploy the project</span></span>
1. <span data-ttu-id="edde5-242">A számítógép, amelyen létrehozta a BizTalk szolgáltatások projekt töltse le és telepítse az SSL-tanúsítványt BizTalk szolgáltatás előfizetését.</span><span class="sxs-lookup"><span data-stu-id="edde5-242">On the computer where you created the BizTalk Services project, download and install the SSL certificate for your BizTalk Services subscription.</span></span> <span data-ttu-id="edde5-243">A, a BizTalk szolgáltatások területen kattintson **irányítópult**, és kattintson a **SSL-tanúsítvány letöltése**.</span><span class="sxs-lookup"><span data-stu-id="edde5-243">From , under BizTalk Services, click **Dashboard**, and then click **Download SSL Certificate**.</span></span> <span data-ttu-id="edde5-244">Kattintson duplán a tanúsítványra, és a telepítés befejezéséhez a felszólítást követve.</span><span class="sxs-lookup"><span data-stu-id="edde5-244">Double-click the certificate and follow the prompt to complete the installation.</span></span> <span data-ttu-id="edde5-245">Győződjön meg arról, hogy a tanúsítvány telepítése **megbízható legfelső szintű hitelesítésszolgáltatók** tanúsítványtárolójába.</span><span class="sxs-lookup"><span data-stu-id="edde5-245">Make sure you install the certificate under **Trusted Root Certification Authorities** certificate store.</span></span>
2. <span data-ttu-id="edde5-246">A Visual Studio Solution Explorerben kattintson a jobb gombbal a **InvoiceProcessingBridge** projektre, és kattintson a **telepítés**.</span><span class="sxs-lookup"><span data-stu-id="edde5-246">In Visual Studio Solution Explorer, right-click the **InvoiceProcessingBridge** project, and then click **Deploy**.</span></span>
3. <span data-ttu-id="edde5-247">Az ábrán látható módon adja meg az értékeket, és kattintson a **telepítés**.</span><span class="sxs-lookup"><span data-stu-id="edde5-247">Provide the values as shown in the image, and then click **Deploy**.</span></span> <span data-ttu-id="edde5-248">Kaphat az ACS-hitelesítő adatok BizTalk szolgáltatások kattintva **kapcsolatadatok** a BizTalk szolgáltatások irányítópulton.</span><span class="sxs-lookup"><span data-stu-id="edde5-248">You can get the ACS credentials for BizTalk Services by clicking **Connection Information** from the BizTalk Services dashboard.</span></span>
   
   ![][11]  
   
   <span data-ttu-id="edde5-249">Másolja a végpont, ahol a EAI-Összekötők híd telepíti, például a kimeneti ablaktábla `https://contosowabs.biztalk.windows.net/default/ProcessInvoiceBridge`.</span><span class="sxs-lookup"><span data-stu-id="edde5-249">From the output pane, copy the endpoint where the EAI bridge is deployed, for example, `https://contosowabs.biztalk.windows.net/default/ProcessInvoiceBridge`.</span></span> <span data-ttu-id="edde5-250">Később szüksége lesz a végponti URL-cím.</span><span class="sxs-lookup"><span data-stu-id="edde5-250">You will need this endpoint URL later.</span></span>  

## <a name="step-4-test-the-solution"></a><span data-ttu-id="edde5-251">4. lépés: A megoldás tesztelése</span><span class="sxs-lookup"><span data-stu-id="edde5-251">Step 4: Test the solution</span></span>
<span data-ttu-id="edde5-252">Ebben a témakörben úgy tekintünk, a megoldás használatával tesztelése a **oktatóanyag ügyfél** alkalmazás a minta részeként.</span><span class="sxs-lookup"><span data-stu-id="edde5-252">In this topic, we look at how to test the solution by using the **Tutorial Client** application provided as part of the sample.</span></span>  

1. <span data-ttu-id="edde5-253">A Visual Studio, nyomja le az F5 elindítani a **oktatóanyag ügyfél**.</span><span class="sxs-lookup"><span data-stu-id="edde5-253">In Visual Studio, press F5 to start the **Tutorial Client**.</span></span>
2. <span data-ttu-id="edde5-254">A képernyőn a különböző értéknek kell lennie az lépésben előre feltöltve ahol a Service Bus-üzenetsorok létrehozott.</span><span class="sxs-lookup"><span data-stu-id="edde5-254">The screen must have the values prepopulated from the step where we created the Service Bus queues.</span></span> <span data-ttu-id="edde5-255">Kattintson a **Tovább** gombra.</span><span class="sxs-lookup"><span data-stu-id="edde5-255">Click **Next**.</span></span>
3. <span data-ttu-id="edde5-256">A következő ablakban adja meg az ACS BizTalk szolgáltatások előfizetés hitelesítő adatait, és a végpontok ahol EAI- és EDI (kap) hidak vannak telepítve.</span><span class="sxs-lookup"><span data-stu-id="edde5-256">In the next window, provide ACS credentials for BizTalk Services subscription, and the endpoints where EAI and EDI (receive) bridges are deployed.</span></span>
   
   <span data-ttu-id="edde5-257">Az előző lépésben másolt volna a EAI-Összekötők híd végpont.</span><span class="sxs-lookup"><span data-stu-id="edde5-257">You had copied the EAI bridge endpoint in the previous step.</span></span> <span data-ttu-id="edde5-258">EDI küld híd a végponthoz, a BizTalk szolgáltatások portálon, írja be a szerződés > fogadási beállítások > átviteli > végpont.</span><span class="sxs-lookup"><span data-stu-id="edde5-258">For EDI receive bridge endpoint, in the BizTalk Services Portal, go to the agreement > Receive Settings > Transport > Endpoint.</span></span>
   
   ![][12]  
4. <span data-ttu-id="edde5-259">A Contoso, a következő ablakban kattintson a **belső fejlesztésű számla küldése** gombra.</span><span class="sxs-lookup"><span data-stu-id="edde5-259">In the next window, under Contoso, click the **Send In-house Invoice** button.</span></span> <span data-ttu-id="edde5-260">A fájl párbeszédpanel megnyitásához, nyissa meg a INHOUSEINVOICE.txt fájlt.</span><span class="sxs-lookup"><span data-stu-id="edde5-260">In the File open dialog box, open the INHOUSEINVOICE.txt file.</span></span> <span data-ttu-id="edde5-261">Vizsgálja meg a fájl tartalmát, és kattintson a **OK** a számla küldeni.</span><span class="sxs-lookup"><span data-stu-id="edde5-261">Examine the content of the file and then click **OK** to send the invoice.</span></span>
   
   ![][13]  
5. <span data-ttu-id="edde5-262">Néhány másodpercen belül a számla Northwind fogadja.</span><span class="sxs-lookup"><span data-stu-id="edde5-262">In a few seconds the invoice is received at Northwind.</span></span> <span data-ttu-id="edde5-263">Kattintson a **nézet üzenet** hivatkozásra kattintva megtekintheti a Northwind által kapott számlán.</span><span class="sxs-lookup"><span data-stu-id="edde5-263">Click the **View Message** link to see the invoice received by Northwind.</span></span> <span data-ttu-id="edde5-264">Figyelje meg, hogyan a Northwind által kapott számlán van szabványos EDIFACT séma közben Contoso által küldött olyan belső fejlesztésű séma.</span><span class="sxs-lookup"><span data-stu-id="edde5-264">Notice how the invoice received by Northwind is in standard EDIFACT schema while the one sent by Contoso was an in-house schema.</span></span>
   
   ![][14]  
6. <span data-ttu-id="edde5-265">Válassza ki a számla, és kattintson a **küldése nyugtázási**.</span><span class="sxs-lookup"><span data-stu-id="edde5-265">Select the invoice and then click **Send Acknowledgement**.</span></span> <span data-ttu-id="edde5-266">Előugró párbeszédpanelen láthatja, hogy a csomópont-Azonosítót a kapott számlán és a küldött nyugtázási azonos.</span><span class="sxs-lookup"><span data-stu-id="edde5-266">In the dialog box that pops up, notice that the interchange ID is same in the received invoice and the acknowledgement being sent.</span></span> <span data-ttu-id="edde5-267">Kattintson az OK gombra a **küldése nyugtázási** párbeszédpanel megnyitásához.</span><span class="sxs-lookup"><span data-stu-id="edde5-267">Click OK in the **Send Acknowledgement** dialog box.</span></span>
   
   ![][15]  
7. <span data-ttu-id="edde5-268">Néhány másodpercen belül a nyugtázási sikeresen Contoso fogadja.</span><span class="sxs-lookup"><span data-stu-id="edde5-268">In a few seconds, the acknowledgement is successfully received at Contoso.</span></span>
   
   ![][16]  

## <a name="step-5-optional-send-edifact-invoice-in-batches"></a><span data-ttu-id="edde5-269">(Választható) 5. lépés: küldése EDIFACT számla kötegek</span><span class="sxs-lookup"><span data-stu-id="edde5-269">Step 5 (optional): Send EDIFACT invoice in batches</span></span>
<span data-ttu-id="edde5-270">BizTalk szolgáltatások EDI hidak is támogatja a kimenő üzenetek kötegelés.</span><span class="sxs-lookup"><span data-stu-id="edde5-270">BizTalk Services EDI bridges also supports batching of outgoing messages.</span></span> <span data-ttu-id="edde5-271">Ez a szolgáltatás akkor hasznos, inkább az üzenetkötegek (bizonyos feltételeknek megfelelő) helyett az egyes üzeneteket fogadhat-partnerek fogadására.</span><span class="sxs-lookup"><span data-stu-id="edde5-271">This feature is useful for receiving partners that prefer to receive a batch of messages (meeting certain criterion) instead of individual messages.</span></span>

<span data-ttu-id="edde5-272">A legfontosabb szempont az kötegek használatakor nem a tényleges a köteg, más néven a kiadási feltételek.</span><span class="sxs-lookup"><span data-stu-id="edde5-272">The most important aspect when working with batches is the actual release of the batch, also called the release criteria.</span></span> <span data-ttu-id="edde5-273">A kiadási feltételek is alapulhat, hogyan szeretne rendelni a fogadó partner üzeneteket fogadni.</span><span class="sxs-lookup"><span data-stu-id="edde5-273">The release criteria can be based on how the receiving partner wants to receive messages.</span></span> <span data-ttu-id="edde5-274">Ha kötegelés engedélyezve van, a EDI híd nem küld a kimenő üzenet fogadó partnernek mindaddig, amíg a kiadási feltétel teljesül.</span><span class="sxs-lookup"><span data-stu-id="edde5-274">If batching is enabled, the EDI bridge does not send the outgoing message to the receiving partner until the release criteria is fulfilled.</span></span> <span data-ttu-id="edde5-275">Például egy kötegelési feltételek alapján üzenet mérete kivételkezelési egy kötegben csak akkor, ha "n" üzenetek kötegelni vannak.</span><span class="sxs-lookup"><span data-stu-id="edde5-275">For example, a batching criteria based on message size dispatches a batch only when ‘n’ messages are batched.</span></span> <span data-ttu-id="edde5-276">A kötegelt feltételeket is időalapú, úgy, hogy az adott időpontban naponta egy kötegelt zajlik.</span><span class="sxs-lookup"><span data-stu-id="edde5-276">A batch criteria can also be time-based, such that a batch is sent at a fixed time every day.</span></span> <span data-ttu-id="edde5-277">Ebben a megoldásban a üzenetméret alapú feltételek próbálja azt.</span><span class="sxs-lookup"><span data-stu-id="edde5-277">In this solution, we try the message-size based criteria.</span></span>

1. <span data-ttu-id="edde5-278">BizTalk szolgáltatások portálon kattintson a korábban létrehozott.</span><span class="sxs-lookup"><span data-stu-id="edde5-278">In the BizTalk Services Portal, click the agreement you created earlier.</span></span> <span data-ttu-id="edde5-279">Kattintson a Küldés beállítások > kötegelés > kötegelt hozzáadása.</span><span class="sxs-lookup"><span data-stu-id="edde5-279">Click Send Settings > Batching > Add Batch.</span></span>
2. <span data-ttu-id="edde5-280">Kötegelt neveként, írja be a **InvoiceBatch**, adjon meg egy leírást, és kattintson a **következő**.</span><span class="sxs-lookup"><span data-stu-id="edde5-280">For batch name, enter **InvoiceBatch**, provide a description, and then click **Next**.</span></span>
3. <span data-ttu-id="edde5-281">Adjon meg egy kötegelt feltételeket, amely meghatározza, hogy mely üzenetek kötegelni kell lennie.</span><span class="sxs-lookup"><span data-stu-id="edde5-281">Specify a batch criteria, that defines which messages must be batched.</span></span> <span data-ttu-id="edde5-282">Ebben a megoldásban kötegelt azt minden üzenetet.</span><span class="sxs-lookup"><span data-stu-id="edde5-282">In this solution, we batch all messages.</span></span> <span data-ttu-id="edde5-283">Igen, jelölje be a speciális definíciók beállítás használata, és írja be **1 = 1**.</span><span class="sxs-lookup"><span data-stu-id="edde5-283">So, select the Use advanced definitions option, and enter **1 = 1**.</span></span> <span data-ttu-id="edde5-284">Ez egy feltételt, amely mindig lesz igaz értékű, és ezért minden üzenetet fog lehet kötegelni.</span><span class="sxs-lookup"><span data-stu-id="edde5-284">This is a condition which will always be true, and hence all messages will be batched.</span></span> <span data-ttu-id="edde5-285">Kattintson a **Tovább** gombra.</span><span class="sxs-lookup"><span data-stu-id="edde5-285">Click **Next**.</span></span>
   
   ![][17]  
4. <span data-ttu-id="edde5-286">Adjon meg egy kötegelt kiadási feltételeket.</span><span class="sxs-lookup"><span data-stu-id="edde5-286">Specify a batch release criteria.</span></span> <span data-ttu-id="edde5-287">A legördülő listából válassza ki a **MessageCountBased**, és a **száma**, adja meg **3**.</span><span class="sxs-lookup"><span data-stu-id="edde5-287">From the drop-box, select **MessageCountBased**, and for **Count**, specify **3**.</span></span> <span data-ttu-id="edde5-288">Ez azt jelenti, hogy az három üzenetkötegek Northwind kapnak.</span><span class="sxs-lookup"><span data-stu-id="edde5-288">This means that a batch of three messages will be sent to Northwind.</span></span> <span data-ttu-id="edde5-289">Kattintson a **Tovább** gombra.</span><span class="sxs-lookup"><span data-stu-id="edde5-289">Click **Next**.</span></span>
   
   ![][18]  
5. <span data-ttu-id="edde5-290">Tekintse át az összefoglalást, és kattintson a **mentése**.</span><span class="sxs-lookup"><span data-stu-id="edde5-290">Review the summary and then click **Save**.</span></span> <span data-ttu-id="edde5-291">Kattintson a **telepítés** újratelepíteni a szerződést.</span><span class="sxs-lookup"><span data-stu-id="edde5-291">Click **Deploy** to redeploy the agreement.</span></span>
6. <span data-ttu-id="edde5-292">Lépjen vissza a **oktatóanyag ügyfél**, kattintson a **belső fejlesztésű számla küldése**, és kövesse az utasításokat a számla küldése.</span><span class="sxs-lookup"><span data-stu-id="edde5-292">Go back to the **Tutorial Client**, click **Send In-house Invoice**, and follow the prompts to send the invoice.</span></span> <span data-ttu-id="edde5-293">Megfigyelheti, hogy számla nem érkezik a Northwind, mert a Köteg mérete nem teljesül.</span><span class="sxs-lookup"><span data-stu-id="edde5-293">You will notice that no invoice is received at Northwind because the batch size is not met.</span></span> <span data-ttu-id="edde5-294">Ismételje meg ezt a lépést még kétszer, így kell három számla Northwind küldött üzeneteket.</span><span class="sxs-lookup"><span data-stu-id="edde5-294">Repeat this step two more times, so that you have three invoice messages sent to Northwind.</span></span> <span data-ttu-id="edde5-295">Ez megfelel, 3 üzenet kötegelt kiadási feltételeinek, és meg kell jelennie a Northwind számla.</span><span class="sxs-lookup"><span data-stu-id="edde5-295">This satisfies the batch release criteria of 3 messages and you should now see an invoice at Northwind.</span></span>

<!--Image references-->
[1]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-1.PNG  
[2]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-2.PNG  
[3]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-3.PNG
[4]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-4.PNG  
[5]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-5.PNG  
[6]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-6.PNG  
[7]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-7.PNG  
[8]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-8.PNG
[9]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-9.PNG  
[10]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-10.PNG  
[11]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-11.PNG  
[12]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-12.PNG  
[13]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-13.PNG
[14]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-14.PNG  
[15]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-15.PNG  
[16]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-16.PNG  
[17]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-17.PNG  
[18]: ./media/biztalk-process-edifact-invoice/process-edifact-invoices-with-auzure-bts-18.PNG

