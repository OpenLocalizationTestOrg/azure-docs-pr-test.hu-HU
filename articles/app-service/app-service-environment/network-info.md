---
title: "az Azure App Service-környezetek aaaNetworking megfontolások"
description: "Hello ASE hálózati forgalom ismerteti, hogyan tooset NSG-ket és a mértékéig udr-EK"
services: app-service
documentationcenter: na
author: ccompy
manager: stefsch
ms.assetid: 955a4d84-94ca-418d-aa79-b57a5eb8cb85
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/08/2017
ms.author: ccompy
ms.openlocfilehash: d4d3000f4d4d75814b1e6d47079d967334eb1a3b
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="networking-considerations-for-an-app-service-environment"></a><span data-ttu-id="727e0-103">App Service-környezet hálózati szempontjai</span><span class="sxs-lookup"><span data-stu-id="727e0-103">Networking considerations for an App Service environment</span></span> #

## <a name="overview"></a><span data-ttu-id="727e0-104">Áttekintés</span><span class="sxs-lookup"><span data-stu-id="727e0-104">Overview</span></span> ##

 <span data-ttu-id="727e0-105">Azure [App Service Environment-környezet] [ Intro] egy alhálózatba az Azure virtuális hálózatban (VNet) az Azure App Service üzemelő példány.</span><span class="sxs-lookup"><span data-stu-id="727e0-105">Azure [App Service Environment][Intro] is a deployment of Azure App Service into a subnet in your Azure virtual network (VNet).</span></span> <span data-ttu-id="727e0-106">Nincsenek App Service-környezet (ASE) két központi telepítési típusokat:</span><span class="sxs-lookup"><span data-stu-id="727e0-106">There are two deployment types for an App Service environment (ASE):</span></span>

- <span data-ttu-id="727e0-107">**Külső ASE**: tesz elérhetővé hello ASE által kezelt alkalmazások az internetről elérhető IP-címet.</span><span class="sxs-lookup"><span data-stu-id="727e0-107">**External ASE**: Exposes hello ASE-hosted apps on an internet-accessible IP address.</span></span> <span data-ttu-id="727e0-108">További információkért lásd: [hozzon létre egy külső ASE][MakeExternalASE].</span><span class="sxs-lookup"><span data-stu-id="727e0-108">For more information, see [Create an External ASE][MakeExternalASE].</span></span>
- <span data-ttu-id="727e0-109">**ILB ASE**: tesz elérhetővé hello ASE által kezelt alkalmazások az IP-címet a virtuális hálózaton belül.</span><span class="sxs-lookup"><span data-stu-id="727e0-109">**ILB ASE**: Exposes hello ASE-hosted apps on an IP address inside your VNet.</span></span> <span data-ttu-id="727e0-110">hello belső végpont esetében egy belső terheléselosztó (ILB), ezért azt egy ILB ASE hívják.</span><span class="sxs-lookup"><span data-stu-id="727e0-110">hello internal endpoint is an internal load balancer (ILB), which is why it's called an ILB ASE.</span></span> <span data-ttu-id="727e0-111">További információkért lásd: [létrehozása és használata egy ILB ASE][MakeILBASE].</span><span class="sxs-lookup"><span data-stu-id="727e0-111">For more information, see [Create and use an ILB ASE][MakeILBASE].</span></span>

<span data-ttu-id="727e0-112">Most már két verziója van App Service Environment-környezet: ASEv1 és ASEv2.</span><span class="sxs-lookup"><span data-stu-id="727e0-112">There are now two versions of App Service Environment: ASEv1 and ASEv2.</span></span> <span data-ttu-id="727e0-113">A ASEv1 információkért lásd: [bemutatása tooApp Service-környezet v1][ASEv1Intro].</span><span class="sxs-lookup"><span data-stu-id="727e0-113">For information on ASEv1, see [Introduction tooApp Service Environment v1][ASEv1Intro].</span></span> <span data-ttu-id="727e0-114">ASEv1 klasszikus vagy erőforrás-kezelő VNet is telepíthető.</span><span class="sxs-lookup"><span data-stu-id="727e0-114">ASEv1 can be deployed in a classic or Resource Manager VNet.</span></span> <span data-ttu-id="727e0-115">ASEv2 csak egy erőforrás-kezelő virtuális hálózaton történő telepíthetők.</span><span class="sxs-lookup"><span data-stu-id="727e0-115">ASEv2 can only be deployed into a Resource Manager VNet.</span></span>

<span data-ttu-id="727e0-116">Egy ASE összes hívásait toohello nyissa meg az internet hagyja hello virtuális hálózaton keresztül hello ASE hozzárendelt virtuális IP-címhez.</span><span class="sxs-lookup"><span data-stu-id="727e0-116">All calls from an ASE that go toohello internet leave hello VNet through a VIP assigned for hello ASE.</span></span> <span data-ttu-id="727e0-117">hello nyilvános IP-címe a VIP majd hello forrás IP-cím hello ASE összes hívásait toohello nyissa meg az internethez.</span><span class="sxs-lookup"><span data-stu-id="727e0-117">hello public IP of this VIP is then hello source IP for all calls from hello ASE that go toohello internet.</span></span> <span data-ttu-id="727e0-118">Ha a ASE hello alkalmazások hívások tooresources a virtuális hálózat vagy VPN-en keresztül, hello forrás IP-cím akkor használják a ASE hello alhálózat IP-címek hello egyik.</span><span class="sxs-lookup"><span data-stu-id="727e0-118">If hello apps in your ASE make calls tooresources in your VNet or across a VPN, hello source IP is one of hello IPs in hello subnet used by your ASE.</span></span> <span data-ttu-id="727e0-119">Hello ASE hello virtuális hálózaton belül van, mert erőforrások hello VNet további konfiguráció nélkül is hozzáférhet.</span><span class="sxs-lookup"><span data-stu-id="727e0-119">Because hello ASE is within hello VNet, it can also access resources within hello VNet without any additional configuration.</span></span> <span data-ttu-id="727e0-120">Ha hello VNet csatlakoztatott tooyour a helyszíni hálózat, a ASE alkalmazások is hozzáférést tooresources van.</span><span class="sxs-lookup"><span data-stu-id="727e0-120">If hello VNet is connected tooyour on-premises network, apps in your ASE also have access tooresources there.</span></span> <span data-ttu-id="727e0-121">Nincs szükség tooconfigure hello ASE vagy az alkalmazás minden további.</span><span class="sxs-lookup"><span data-stu-id="727e0-121">You don't need tooconfigure hello ASE or your app any further.</span></span>

![Külső ASE][1] 

<span data-ttu-id="727e0-123">Ha egy külső ASE, hello nyilvános VIP is, hogy a ASE alkalmazások megoldásához toofor hello végpont:</span><span class="sxs-lookup"><span data-stu-id="727e0-123">If you have an External ASE, hello public VIP is also hello endpoint that your ASE apps resolve toofor:</span></span>

* <span data-ttu-id="727e0-124">A HTTP/S</span><span class="sxs-lookup"><span data-stu-id="727e0-124">HTTP/S.</span></span> 
* <span data-ttu-id="727e0-125">FTP/MP.</span><span class="sxs-lookup"><span data-stu-id="727e0-125">FTP/S.</span></span> 
* <span data-ttu-id="727e0-126">A webes telepítése.</span><span class="sxs-lookup"><span data-stu-id="727e0-126">Web deployment.</span></span>
* <span data-ttu-id="727e0-127">Távoli hibakeresés.</span><span class="sxs-lookup"><span data-stu-id="727e0-127">Remote debugging.</span></span>

![ILB ASE][2]

<span data-ttu-id="727e0-129">Ha egy ILB ASE, hello ILB hello IP-címe HTTP/S, az FTP/S, a webes telepítési és a távoli hibakeresés hello végpontja.</span><span class="sxs-lookup"><span data-stu-id="727e0-129">If you have an ILB ASE, hello IP address of hello ILB is hello endpoint for HTTP/S, FTP/S, web deployment, and remote debugging.</span></span>

<span data-ttu-id="727e0-130">hello normál app hozzáférési portok a következők:</span><span class="sxs-lookup"><span data-stu-id="727e0-130">hello normal app access ports are:</span></span>

| <span data-ttu-id="727e0-131">Használat</span><span class="sxs-lookup"><span data-stu-id="727e0-131">Use</span></span> | <span data-ttu-id="727e0-132">A</span><span class="sxs-lookup"><span data-stu-id="727e0-132">From</span></span> | <span data-ttu-id="727e0-133">túl</span><span class="sxs-lookup"><span data-stu-id="727e0-133">too</span></span>|
|----------|---------|-------------|
|  <span data-ttu-id="727e0-134">A HTTP/HTTPS</span><span class="sxs-lookup"><span data-stu-id="727e0-134">HTTP/HTTPS</span></span>  | <span data-ttu-id="727e0-135">Felhasználó által konfigurálható</span><span class="sxs-lookup"><span data-stu-id="727e0-135">User configurable</span></span> |  <span data-ttu-id="727e0-136">80, 443</span><span class="sxs-lookup"><span data-stu-id="727e0-136">80, 443</span></span> |
|  <span data-ttu-id="727e0-137">FTP/FTPS</span><span class="sxs-lookup"><span data-stu-id="727e0-137">FTP/FTPS</span></span>    | <span data-ttu-id="727e0-138">Felhasználó által konfigurálható</span><span class="sxs-lookup"><span data-stu-id="727e0-138">User configurable</span></span> |  <span data-ttu-id="727e0-139">21, 990, 10001-10020</span><span class="sxs-lookup"><span data-stu-id="727e0-139">21, 990, 10001-10020</span></span> |
|  <span data-ttu-id="727e0-140">A Visual Studio távoli hibakeresés</span><span class="sxs-lookup"><span data-stu-id="727e0-140">Visual Studio remote debugging</span></span>  |  <span data-ttu-id="727e0-141">Felhasználó által konfigurálható</span><span class="sxs-lookup"><span data-stu-id="727e0-141">User configurable</span></span> |  <span data-ttu-id="727e0-142">4016, 4018, 4020, 4022</span><span class="sxs-lookup"><span data-stu-id="727e0-142">4016, 4018, 4020, 4022</span></span> |

<span data-ttu-id="727e0-143">Ez érvényét veszti, ha egy külső ASE vagy egy ILB ASE.</span><span class="sxs-lookup"><span data-stu-id="727e0-143">This is true if you're on an External ASE or on an ILB ASE.</span></span> <span data-ttu-id="727e0-144">Ha a számítógép egy külső ASE, ezeket a portokat a hello nyilvános VIP kattint.</span><span class="sxs-lookup"><span data-stu-id="727e0-144">If you're on an External ASE, you hit those ports on hello public VIP.</span></span> <span data-ttu-id="727e0-145">Ha a számítógép egy ILB ASE, ezeket a portokat a hello ILB kattint.</span><span class="sxs-lookup"><span data-stu-id="727e0-145">If you're on an ILB ASE, you hit those ports on hello ILB.</span></span> <span data-ttu-id="727e0-146">Ha zárolását a 443-as porton, néhány funkció elérhetővé tett hello portálon hatással lehet.</span><span class="sxs-lookup"><span data-stu-id="727e0-146">If you lock down port 443, there can be an effect on some features exposed in hello portal.</span></span> <span data-ttu-id="727e0-147">További információkért lásd: [Portal függőségek](#portaldep).</span><span class="sxs-lookup"><span data-stu-id="727e0-147">For more information, see [Portal dependencies](#portaldep).</span></span>

## <a name="ase-dependencies"></a><span data-ttu-id="727e0-148">ASE függőségek</span><span class="sxs-lookup"><span data-stu-id="727e0-148">ASE dependencies</span></span> ##

<span data-ttu-id="727e0-149">Egy ASE befelé függőség:</span><span class="sxs-lookup"><span data-stu-id="727e0-149">An ASE inbound access dependency is:</span></span>

| <span data-ttu-id="727e0-150">Használat</span><span class="sxs-lookup"><span data-stu-id="727e0-150">Use</span></span> | <span data-ttu-id="727e0-151">A</span><span class="sxs-lookup"><span data-stu-id="727e0-151">From</span></span> | <span data-ttu-id="727e0-152">túl</span><span class="sxs-lookup"><span data-stu-id="727e0-152">too</span></span>|
|-----|------|----|
| <span data-ttu-id="727e0-153">Kezelés</span><span class="sxs-lookup"><span data-stu-id="727e0-153">Management</span></span> | <span data-ttu-id="727e0-154">App Service management címek</span><span class="sxs-lookup"><span data-stu-id="727e0-154">App Service management addresses</span></span> | <span data-ttu-id="727e0-155">ASE alhálózati: 454, 455</span><span class="sxs-lookup"><span data-stu-id="727e0-155">ASE subnet: 454, 455</span></span> |
|  <span data-ttu-id="727e0-156">Belső kommunikációs ASE</span><span class="sxs-lookup"><span data-stu-id="727e0-156">ASE internal communication</span></span> | <span data-ttu-id="727e0-157">ASE alhálózati: minden port</span><span class="sxs-lookup"><span data-stu-id="727e0-157">ASE subnet: All ports</span></span> | <span data-ttu-id="727e0-158">ASE alhálózati: minden port</span><span class="sxs-lookup"><span data-stu-id="727e0-158">ASE subnet: All ports</span></span>
|  <span data-ttu-id="727e0-159">Engedélyezi az Azure terheléselosztó bejövő</span><span class="sxs-lookup"><span data-stu-id="727e0-159">Allow Azure load balancer inbound</span></span> | <span data-ttu-id="727e0-160">Az Azure terheléselosztó</span><span class="sxs-lookup"><span data-stu-id="727e0-160">Azure load balancer</span></span> | <span data-ttu-id="727e0-161">ASE alhálózati: minden port</span><span class="sxs-lookup"><span data-stu-id="727e0-161">ASE subnet: All ports</span></span>
|  <span data-ttu-id="727e0-162">IP-címek hozzárendelt alkalmazás</span><span class="sxs-lookup"><span data-stu-id="727e0-162">App assigned IP addresses</span></span> | <span data-ttu-id="727e0-163">Címek hozzárendelt alkalmazás</span><span class="sxs-lookup"><span data-stu-id="727e0-163">App assigned addresses</span></span> | <span data-ttu-id="727e0-164">ASE alhálózati: minden port</span><span class="sxs-lookup"><span data-stu-id="727e0-164">ASE subnet: All ports</span></span>

<span data-ttu-id="727e0-165">hello bejövő forgalom biztosít parancs és hello ASE hozzáadása toosystem figyelési irányítását.</span><span class="sxs-lookup"><span data-stu-id="727e0-165">hello inbound traffic provides command and control of hello ASE in addition toosystem monitoring.</span></span> <span data-ttu-id="727e0-166">hello forrás IP-címek a forgalom hello szereplő [ASE felügyeleti címek] [ ASEManagement] dokumentum.</span><span class="sxs-lookup"><span data-stu-id="727e0-166">hello source IPs for this traffic are listed in hello [ASE Management addresses][ASEManagement] document.</span></span> <span data-ttu-id="727e0-167">hello hálózati biztonsági beállításokat kell tooallow a hozzáférést a 454 és a 455 portok összes IP-címére.</span><span class="sxs-lookup"><span data-stu-id="727e0-167">hello network security configuration needs tooallow access from all IPs on ports 454 and 455.</span></span>

<span data-ttu-id="727e0-168">Nincsenek hello ASE alhálózaton belüli belső összetevő-kommunikációhoz használt sok portot, és módosíthatja.</span><span class="sxs-lookup"><span data-stu-id="727e0-168">Within hello ASE subnet there are many ports used for internal component communication and they can change.</span></span>  <span data-ttu-id="727e0-169">Ehhez szükséges összes hello portjainak hello ASE alhálózati toobe hello ASE alhálózati érhető el.</span><span class="sxs-lookup"><span data-stu-id="727e0-169">This requires all of hello ports in hello ASE subnet toobe accessible from hello ASE subnet.</span></span> 

<span data-ttu-id="727e0-170">Hello Azure terheléselosztó és hello ASE alhálózati hello minimális portok hello kommunikációját, hogy nyitva kell toobe 454, 455 és 16001.</span><span class="sxs-lookup"><span data-stu-id="727e0-170">For hello communication between hello Azure load balancer and hello ASE subnet hello minimum ports that need toobe open are 454, 455 and 16001.</span></span> <span data-ttu-id="727e0-171">Tartsa életben forgalom hello terheléselosztó és hello ASE közötti hello 16001 portot használja.</span><span class="sxs-lookup"><span data-stu-id="727e0-171">hello 16001 port is used for keep alive traffic between hello load balancer and hello ASE.</span></span> <span data-ttu-id="727e0-172">Ha egy ILB ASE használ majd zárolhatja a forgalom toojust hello 454, 455, 16001 portok le.</span><span class="sxs-lookup"><span data-stu-id="727e0-172">If you are using an ILB ASE then you can lock traffic down toojust hello 454, 455, 16001 ports.</span></span>  <span data-ttu-id="727e0-173">Ha egy külső ASE használ majd kell tootake a fiók hello normál app hozzáférési portok.</span><span class="sxs-lookup"><span data-stu-id="727e0-173">If you are using an External ASE then you need tootake into account hello normal app access ports.</span></span>  <span data-ttu-id="727e0-174">Hozzárendelt alkalmazás címek használata tooopen kell azt tooall portok.</span><span class="sxs-lookup"><span data-stu-id="727e0-174">If you are using app assigned addresses you need tooopen it tooall ports.</span></span>  <span data-ttu-id="727e0-175">Amikor egy cím hozzá van rendelve tooa adott alkalmazást, majd hello terheléselosztó portot használja előre toosend HTTP és HTTPS-forgalom toohello ASE nem ismert.</span><span class="sxs-lookup"><span data-stu-id="727e0-175">When an address is assigned tooa specific app, then hello load balancer will use ports that are not known of in advance toosend HTTP and HTTPS traffic toohello ASE.</span></span>

<span data-ttu-id="727e0-176">Hozzárendelt alkalmazás IP-címek használata IP-címek hozzárendelve tooyour alkalmazások toohello ASE alhálózati hello tooallow forgalmát kell.</span><span class="sxs-lookup"><span data-stu-id="727e0-176">If you are using app assigned IP addresses you need tooallow traffic from hello IPs assigned tooyour apps toohello ASE subnet.</span></span>

<span data-ttu-id="727e0-177">A kimenő hozzáférés érdekében egy ASE több külső rendszer függ.</span><span class="sxs-lookup"><span data-stu-id="727e0-177">For outbound access, an ASE depends on multiple external systems.</span></span> <span data-ttu-id="727e0-178">E rendszer függőségek rendelkező DNS-nevek, és nem képez le IP-címeket rögzített tooa.</span><span class="sxs-lookup"><span data-stu-id="727e0-178">Those system dependencies are defined with DNS names and don't map tooa fixed set of IP addresses.</span></span> <span data-ttu-id="727e0-179">Ebből kifolyólag hello ASE hello ASE alhálózati tooall a kimenő hozzáférésre van szüksége a portok számos külső IP-címek.</span><span class="sxs-lookup"><span data-stu-id="727e0-179">Thus, hello ASE requires outbound access from hello ASE subnet tooall external IPs across a variety of ports.</span></span> <span data-ttu-id="727e0-180">Egy ASE rendelkezik a következő kimenő függőségek hello:</span><span class="sxs-lookup"><span data-stu-id="727e0-180">An ASE has hello following outbound dependencies:</span></span>

| <span data-ttu-id="727e0-181">Használat</span><span class="sxs-lookup"><span data-stu-id="727e0-181">Use</span></span> | <span data-ttu-id="727e0-182">A</span><span class="sxs-lookup"><span data-stu-id="727e0-182">From</span></span> | <span data-ttu-id="727e0-183">túl</span><span class="sxs-lookup"><span data-stu-id="727e0-183">too</span></span>|
|-----|------|----|
| <span data-ttu-id="727e0-184">Azure Storage</span><span class="sxs-lookup"><span data-stu-id="727e0-184">Azure Storage</span></span> | <span data-ttu-id="727e0-185">ASE alhálózati</span><span class="sxs-lookup"><span data-stu-id="727e0-185">ASE subnet</span></span> | <span data-ttu-id="727e0-186">TABLE.Core.Windows.NET, blob.core.windows.net, queue.core.windows.net, file.core.windows.net: 80-as, a 443-as, a 445-ös (445-ös csak szükséges ASEv1.)</span><span class="sxs-lookup"><span data-stu-id="727e0-186">table.core.windows.net, blob.core.windows.net, queue.core.windows.net, file.core.windows.net: 80, 443, 445 (445 is only needed for ASEv1.)</span></span> |
| <span data-ttu-id="727e0-187">Azure SQL Database</span><span class="sxs-lookup"><span data-stu-id="727e0-187">Azure SQL Database</span></span> | <span data-ttu-id="727e0-188">ASE alhálózati</span><span class="sxs-lookup"><span data-stu-id="727e0-188">ASE subnet</span></span> | <span data-ttu-id="727e0-189">Database.Windows.NET: 1433-as számú 11000-11999, 14000-14999 (további információkért lásd: [SQL Database 12-es port használati](../../sql-database/sql-database-develop-direct-route-ports-adonet-v12.md).)</span><span class="sxs-lookup"><span data-stu-id="727e0-189">database.windows.net: 1433, 11000-11999, 14000-14999 (For more information, see [SQL Database V12 port usage](../../sql-database/sql-database-develop-direct-route-ports-adonet-v12.md).)</span></span>|
| <span data-ttu-id="727e0-190">Azure felügyelet</span><span class="sxs-lookup"><span data-stu-id="727e0-190">Azure management</span></span> | <span data-ttu-id="727e0-191">ASE alhálózati</span><span class="sxs-lookup"><span data-stu-id="727e0-191">ASE subnet</span></span> | <span data-ttu-id="727e0-192">Management.Core.Windows.NET, management.azure.com: 443</span><span class="sxs-lookup"><span data-stu-id="727e0-192">management.core.windows.net, management.azure.com: 443</span></span> 
| <span data-ttu-id="727e0-193">SSL-tanúsítvány ellenőrzése</span><span class="sxs-lookup"><span data-stu-id="727e0-193">SSL certificate verification</span></span> |  <span data-ttu-id="727e0-194">ASE alhálózati</span><span class="sxs-lookup"><span data-stu-id="727e0-194">ASE subnet</span></span>            |  <span data-ttu-id="727e0-195">OCSP.msocsp.com, mscrl.microsoft.com, crl.microsoft.com: 443</span><span class="sxs-lookup"><span data-stu-id="727e0-195">ocsp.msocsp.com, mscrl.microsoft.com, crl.microsoft.com: 443</span></span>
| <span data-ttu-id="727e0-196">Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="727e0-196">Azure Active Directory</span></span>        | <span data-ttu-id="727e0-197">ASE alhálózati</span><span class="sxs-lookup"><span data-stu-id="727e0-197">ASE subnet</span></span>            |  <span data-ttu-id="727e0-198">Internet: 443</span><span class="sxs-lookup"><span data-stu-id="727e0-198">Internet: 443</span></span>
| <span data-ttu-id="727e0-199">Az alkalmazásszolgáltatási management</span><span class="sxs-lookup"><span data-stu-id="727e0-199">App Service management</span></span>        | <span data-ttu-id="727e0-200">ASE alhálózati</span><span class="sxs-lookup"><span data-stu-id="727e0-200">ASE subnet</span></span>            |  <span data-ttu-id="727e0-201">Internet: 443</span><span class="sxs-lookup"><span data-stu-id="727e0-201">Internet: 443</span></span>
| <span data-ttu-id="727e0-202">Azure DNS</span><span class="sxs-lookup"><span data-stu-id="727e0-202">Azure DNS</span></span>                     | <span data-ttu-id="727e0-203">ASE alhálózati</span><span class="sxs-lookup"><span data-stu-id="727e0-203">ASE subnet</span></span>            |  <span data-ttu-id="727e0-204">Internet: 53</span><span class="sxs-lookup"><span data-stu-id="727e0-204">Internet: 53</span></span>
| <span data-ttu-id="727e0-205">Belső kommunikációs ASE</span><span class="sxs-lookup"><span data-stu-id="727e0-205">ASE internal communication</span></span>    | <span data-ttu-id="727e0-206">ASE alhálózati: minden port</span><span class="sxs-lookup"><span data-stu-id="727e0-206">ASE subnet: All ports</span></span> |  <span data-ttu-id="727e0-207">ASE alhálózati: minden port</span><span class="sxs-lookup"><span data-stu-id="727e0-207">ASE subnet: All ports</span></span>

<span data-ttu-id="727e0-208">Hello ASE toothese függőségek elveszítette a hozzáférését, ha a rendszer nem működik.</span><span class="sxs-lookup"><span data-stu-id="727e0-208">If hello ASE loses access toothese dependencies, it stops working.</span></span> <span data-ttu-id="727e0-209">Ha hosszú elég, hello ASE történik-e, amely fel van függesztve.</span><span class="sxs-lookup"><span data-stu-id="727e0-209">When that happens long enough, hello ASE is suspended.</span></span>

### <a name="customer-dns"></a><span data-ttu-id="727e0-210">Ügyfél DNS</span><span class="sxs-lookup"><span data-stu-id="727e0-210">Customer DNS</span></span> ###

<span data-ttu-id="727e0-211">Ha hello VNet van konfigurálva egy DNS-ügyfél által megadott kiszolgálón, hello bérlők munkaterheléseihez használhatja.</span><span class="sxs-lookup"><span data-stu-id="727e0-211">If hello VNet is configured with a customer-defined DNS server, hello tenant workloads use it.</span></span> <span data-ttu-id="727e0-212">hello ASE továbbra is hozzá kell az Azure DNS toocommunicate felügyelet céljából.</span><span class="sxs-lookup"><span data-stu-id="727e0-212">hello ASE still needs toocommunicate with Azure DNS for management purposes.</span></span> 

<span data-ttu-id="727e0-213">Ha hello VNet működik együtt az ügyfél DNS hello VPN másik oldalán, hello DNS-kiszolgáló, amely tartalmazza a hello ASE hello alhálózatból elérhetőnek kell lennie.</span><span class="sxs-lookup"><span data-stu-id="727e0-213">If hello VNet is configured with a customer DNS on hello other side of a VPN, hello DNS server must be reachable from hello subnet that contains hello ASE.</span></span>

<a name="portaldep"></a>

## <a name="portal-dependencies"></a><span data-ttu-id="727e0-214">Portál függőségek</span><span class="sxs-lookup"><span data-stu-id="727e0-214">Portal dependencies</span></span> ##

<span data-ttu-id="727e0-215">A hozzáadása toohello ASE működési függőségek nincsenek néhány további elemek kapcsolódó toohello portál élmény.</span><span class="sxs-lookup"><span data-stu-id="727e0-215">In addition toohello ASE functional dependencies, there are a few extra items related toohello portal experience.</span></span> <span data-ttu-id="727e0-216">Néhány hello Azure-portálon hello képessége közvetlen hozzáférést too_SCM site_ függ.</span><span class="sxs-lookup"><span data-stu-id="727e0-216">Some of hello capabilities in hello Azure portal depend on direct access too_SCM site_.</span></span> <span data-ttu-id="727e0-217">Minden az Azure App Service-alkalmazást a két URL-címek vannak.</span><span class="sxs-lookup"><span data-stu-id="727e0-217">For every app in Azure App Service, there are two URLs.</span></span> <span data-ttu-id="727e0-218">hello első URL-cím van tooaccess az alkalmazást.</span><span class="sxs-lookup"><span data-stu-id="727e0-218">hello first URL is tooaccess your app.</span></span> <span data-ttu-id="727e0-219">hello második URL-címe: hello néven is ismert tooaccess hello SCM hely _Kudu konzol_.</span><span class="sxs-lookup"><span data-stu-id="727e0-219">hello second URL is tooaccess hello SCM site, which is also called hello _Kudu console_.</span></span> <span data-ttu-id="727e0-220">Hello SCM helyet használó szolgáltatások a következők:</span><span class="sxs-lookup"><span data-stu-id="727e0-220">Features that use hello SCM site include:</span></span>

-   <span data-ttu-id="727e0-221">Webes feladatok</span><span class="sxs-lookup"><span data-stu-id="727e0-221">Web jobs</span></span>
-   <span data-ttu-id="727e0-222">Functions</span><span class="sxs-lookup"><span data-stu-id="727e0-222">Functions</span></span>
-   <span data-ttu-id="727e0-223">Adatfolyam-napló</span><span class="sxs-lookup"><span data-stu-id="727e0-223">Log streaming</span></span>
-   <span data-ttu-id="727e0-224">Kudu</span><span class="sxs-lookup"><span data-stu-id="727e0-224">Kudu</span></span>
-   <span data-ttu-id="727e0-225">Bővítmények</span><span class="sxs-lookup"><span data-stu-id="727e0-225">Extensions</span></span>
-   <span data-ttu-id="727e0-226">Process Explorer</span><span class="sxs-lookup"><span data-stu-id="727e0-226">Process Explorer</span></span>
-   <span data-ttu-id="727e0-227">Konzol</span><span class="sxs-lookup"><span data-stu-id="727e0-227">Console</span></span>

<span data-ttu-id="727e0-228">Egy ILB ASE használja, nem a hello SCM hely és az internet hello virtuális hálózaton kívülről hozzáférhető.</span><span class="sxs-lookup"><span data-stu-id="727e0-228">When you use an ILB ASE, hello SCM site isn't internet accessible from outside hello VNet.</span></span> <span data-ttu-id="727e0-229">Ha az alkalmazás egy ILB ASE üzemelteti, bizonyos funkciók nem működnek hello portálról.</span><span class="sxs-lookup"><span data-stu-id="727e0-229">When your app is hosted on an ILB ASE, some capabilities will not work from hello portal.</span></span>  

<span data-ttu-id="727e0-230">Ezekre a képességekre, amelyek hello SCM hely számos közvetlenül hello Kudu konzolon érhető el.</span><span class="sxs-lookup"><span data-stu-id="727e0-230">Many of those capabilities that depend upon hello SCM site are also available directly in hello Kudu console.</span></span> <span data-ttu-id="727e0-231">Tooit is elérheti, hanem közvetlenül hello portál használatával.</span><span class="sxs-lookup"><span data-stu-id="727e0-231">You can connect tooit directly rather than by using hello portal.</span></span> <span data-ttu-id="727e0-232">Ha az app Service-Példánynak környezetben, használja a közzétételi hitelesítő adatok toosign a.</span><span class="sxs-lookup"><span data-stu-id="727e0-232">If your app is hosted in an ILB ASE, use your publishing credentials toosign in.</span></span> <span data-ttu-id="727e0-233">hello URL-cím tooaccess hello SCM hely ILB Service-környezetben üzemeltetett alkalmazás rendelkezik hello a következő formátumban:</span><span class="sxs-lookup"><span data-stu-id="727e0-233">hello URL tooaccess hello SCM site of an app hosted in an ILB ASE has hello following format:</span></span> 

```
<appname>.scm.<domain name hello ILB ASE was created with> 
```

<span data-ttu-id="727e0-234">Ha a ILB ASE hello tartománynév *contoso.net* és az alkalmazás neve *testapp*, hello app éri el a *testapp.contoso.net*.</span><span class="sxs-lookup"><span data-stu-id="727e0-234">If your ILB ASE is hello domain name *contoso.net* and your app name is *testapp*, hello app is reached at *testapp.contoso.net*.</span></span> <span data-ttu-id="727e0-235">hello SCM hely vele együtt áthelyeződik éri el a *testapp.scm.contoso.net*.</span><span class="sxs-lookup"><span data-stu-id="727e0-235">hello SCM site that goes with it is reached at *testapp.scm.contoso.net*.</span></span>

### <a name="functions-and-web-jobs"></a><span data-ttu-id="727e0-236">Függvények és a webes feladatok</span><span class="sxs-lookup"><span data-stu-id="727e0-236">Functions and Web jobs</span></span> ###

<span data-ttu-id="727e0-237">Függvények és a webes feladatok hello SCM hely függ, de akkor is, ha az alkalmazások-Példánynak környezetben, feltéve, hogy a böngésző hello SCM helyen érhető el a hello portál használata támogatott.</span><span class="sxs-lookup"><span data-stu-id="727e0-237">Both Functions and Web jobs depend on hello SCM site but are supported for use in hello portal, even if your apps are in an ILB ASE, so long as your browser can reach hello SCM site.</span></span>  <span data-ttu-id="727e0-238">Ha önaláírt tanúsítványt használ a ILB mértékéig, szüksége lesz tooenable a böngésző tootrust, hogy a tanúsítvány.</span><span class="sxs-lookup"><span data-stu-id="727e0-238">If you are using a self-signed certificate with your ILB ASE, you will need tooenable your browser tootrust that certificate.</span></span>  <span data-ttu-id="727e0-239">Az Internet Explorer és a szegély, amely azt jelenti, hogy a hello tanúsítvány rendelkezik toobe hello számítógép megbízható kapcsolat tárolja.</span><span class="sxs-lookup"><span data-stu-id="727e0-239">For IE and Edge that means hello certificate has toobe in hello computer trust store.</span></span>  <span data-ttu-id="727e0-240">Ha Chrome használja majd, amely azt jelenti, hogy elfogadott hello tanúsítvány hello böngészőben korábbi által a vélhetően elérés közvetlenül hello scm hely.</span><span class="sxs-lookup"><span data-stu-id="727e0-240">If you are using Chrome then that means you accepted hello certificate in hello browser earlier by presumably hitting hello scm site directly.</span></span>  <span data-ttu-id="727e0-241">hello legjobb megoldás, toouse hello böngésző lánc megbízhatósági kereskedelmi tanúsítványokat.</span><span class="sxs-lookup"><span data-stu-id="727e0-241">hello best solution is toouse a commercial certificate that is in hello browser chain of trust.</span></span>  

## <a name="ase-ip-addresses"></a><span data-ttu-id="727e0-242">ASE IP-címek</span><span class="sxs-lookup"><span data-stu-id="727e0-242">ASE IP addresses</span></span> ##

<span data-ttu-id="727e0-243">Egy ASE néhány IP címek toobe tisztában van.</span><span class="sxs-lookup"><span data-stu-id="727e0-243">An ASE has a few IP addresses toobe aware of.</span></span> <span data-ttu-id="727e0-244">Ezek a következők:</span><span class="sxs-lookup"><span data-stu-id="727e0-244">They are:</span></span>

- <span data-ttu-id="727e0-245">**Nyilvános bejövő IP-cím**: app Service-külső környezetben, és felügyeleti forgalom egy külső ASE és egy ILB ASE is használatos.</span><span class="sxs-lookup"><span data-stu-id="727e0-245">**Public inbound IP address**: Used for app traffic in an External ASE, and management traffic in both an External ASE and an ILB ASE.</span></span>
- <span data-ttu-id="727e0-246">**Kimenő nyilvános IP-cím**: hello "feladó" IP hello ASE kimenő kapcsolatokat, hogy hagyja hello virtuális hálózatot, amely nem útválasztásos le egy VPN használatos.</span><span class="sxs-lookup"><span data-stu-id="727e0-246">**Outbound public IP**: Used as hello "from" IP for outbound connections from hello ASE that leave hello VNet, which aren't routed down a VPN.</span></span>
- <span data-ttu-id="727e0-247">**ILB IP-cím**: Ha egy ILB ASE használja.</span><span class="sxs-lookup"><span data-stu-id="727e0-247">**ILB IP address**: If you use an ILB ASE.</span></span>
- <span data-ttu-id="727e0-248">**Alkalmazás által hozzárendelt IP-alapú SSL-címek**: csak akkor lehetséges, egy külső mértékéig és IP-alapú SSL be van állítva.</span><span class="sxs-lookup"><span data-stu-id="727e0-248">**App-assigned IP-based SSL addresses**: Only possible with an External ASE and when IP-based SSL is configured.</span></span>

<span data-ttu-id="727e0-249">A következő IP-címek láthatók egyszerűen egy ASEv2 a hello Azure-portálon a hello ASE felhasználói felületén.</span><span class="sxs-lookup"><span data-stu-id="727e0-249">All these IP addresses are easily visible in an ASEv2 in hello Azure portal from hello ASE UI.</span></span> <span data-ttu-id="727e0-250">Ha egy ILB ASE, hello ILB hello IP-Címek szerepel.</span><span class="sxs-lookup"><span data-stu-id="727e0-250">If you have an ILB ASE, hello IP for hello ILB is listed.</span></span>

![IP-címek][3]

### <a name="app-assigned-ip-addresses"></a><span data-ttu-id="727e0-252">Alkalmazás által hozzárendelt IP-címek</span><span class="sxs-lookup"><span data-stu-id="727e0-252">App-assigned IP addresses</span></span> ###

<span data-ttu-id="727e0-253">Egy külső mértékéig rendelhet hozzá IP-címek tooindividual alkalmazásokat.</span><span class="sxs-lookup"><span data-stu-id="727e0-253">With an External ASE, you can assign IP addresses tooindividual apps.</span></span> <span data-ttu-id="727e0-254">Nem hajthatja végre, amely egy ILB mértékéig.</span><span class="sxs-lookup"><span data-stu-id="727e0-254">You can't do that with an ILB ASE.</span></span> <span data-ttu-id="727e0-255">További információt a tooconfigure az alkalmazás toohave a saját IP-cím, lásd: [kötése egy meglévő egyéni SSL tanúsítvány tooAzure webalkalmazások](../../app-service-web/app-service-web-tutorial-custom-ssl.md).</span><span class="sxs-lookup"><span data-stu-id="727e0-255">For more information on how tooconfigure your app toohave its own IP address, see [Bind an existing custom SSL certificate tooAzure web apps](../../app-service-web/app-service-web-tutorial-custom-ssl.md).</span></span>

<span data-ttu-id="727e0-256">Ha egy alkalmazás a saját IP-alapú SSL-címmel rendelkezik, hello ASE fenntartja két portok toomap toothat IP-címet.</span><span class="sxs-lookup"><span data-stu-id="727e0-256">When an app has its own IP-based SSL address, hello ASE reserves two ports toomap toothat IP address.</span></span> <span data-ttu-id="727e0-257">Egy port a HTTP-forgalom, pedig hello más portot a HTTPS-hez.</span><span class="sxs-lookup"><span data-stu-id="727e0-257">One port is for HTTP traffic, and hello other port is for HTTPS.</span></span> <span data-ttu-id="727e0-258">Ezeket a portokat hello ASE UI hello IP-címek szakaszban találhatók.</span><span class="sxs-lookup"><span data-stu-id="727e0-258">Those ports are listed in hello ASE UI in hello IP addresses section.</span></span> <span data-ttu-id="727e0-259">Forgalom kell lennie a képes tooreach azokat a portokat a hello VIP vagy hello alkalmazások, amelyek nem érhetők el.</span><span class="sxs-lookup"><span data-stu-id="727e0-259">Traffic must be able tooreach those ports from hello VIP or hello apps are inaccessible.</span></span> <span data-ttu-id="727e0-260">Ez a követelmény fontos tooremember kell, ha hálózati biztonsági csoportokkal (NSG-k).</span><span class="sxs-lookup"><span data-stu-id="727e0-260">This requirement is important tooremember when you configure Network Security Groups (NSGs).</span></span>

## <a name="network-security-groups"></a><span data-ttu-id="727e0-261">Network Security Groups (Hálózati biztonsági csoportok)</span><span class="sxs-lookup"><span data-stu-id="727e0-261">Network Security Groups</span></span> ##

<span data-ttu-id="727e0-262">[Hálózati biztonsági csoportok] [ NSGs] hello képességét toocontrol hálózati hozzáférést egy Vneten belül.</span><span class="sxs-lookup"><span data-stu-id="727e0-262">[Network Security Groups][NSGs] provide hello ability toocontrol network access within a VNet.</span></span> <span data-ttu-id="727e0-263">Ha hello portál, van egy implicit mindent: hello legalacsonyabb prioritású toodeny szabály Megtagadás.</span><span class="sxs-lookup"><span data-stu-id="727e0-263">When you use hello portal, there's an implicit deny rule at hello lowest priority toodeny everything.</span></span> <span data-ttu-id="727e0-264">Állít össze vannak a szabályokat.</span><span class="sxs-lookup"><span data-stu-id="727e0-264">What you build are your allow rules.</span></span>

<span data-ttu-id="727e0-265">-Környezetben nincs hozzáférési toohello használt virtuális gépek toohost hello ASE magát.</span><span class="sxs-lookup"><span data-stu-id="727e0-265">In an ASE, you don't have access toohello VMs used toohost hello ASE itself.</span></span> <span data-ttu-id="727e0-266">Is a Microsoft által kezelt előfizetést.</span><span class="sxs-lookup"><span data-stu-id="727e0-266">They're in a Microsoft-managed subscription.</span></span> <span data-ttu-id="727e0-267">Toorestrict hozzáférés toohello alkalmazások hello ASE, állítsa az NSG-k hello ASE alhálózaton.</span><span class="sxs-lookup"><span data-stu-id="727e0-267">If you want toorestrict access toohello apps on hello ASE, set NSGs on hello ASE subnet.</span></span> <span data-ttu-id="727e0-268">Ennek során toohello ASE függőségek alapos figyelmet fordítania.</span><span class="sxs-lookup"><span data-stu-id="727e0-268">In doing so, pay careful attention toohello ASE dependencies.</span></span> <span data-ttu-id="727e0-269">Ha letiltja az összes függőséget, a hello ASE leáll.</span><span class="sxs-lookup"><span data-stu-id="727e0-269">If you block any dependencies, hello ASE stops working.</span></span>

<span data-ttu-id="727e0-270">Az NSG-k hello Azure-portálon keresztül vagy a PowerShell segítségével konfigurálható.</span><span class="sxs-lookup"><span data-stu-id="727e0-270">NSGs can be configured through hello Azure portal or via PowerShell.</span></span> <span data-ttu-id="727e0-271">hello itt tartalmazza hello Azure-portálon.</span><span class="sxs-lookup"><span data-stu-id="727e0-271">hello information here shows hello Azure portal.</span></span> <span data-ttu-id="727e0-272">Létrehozásához és kezeléséhez az NSG-ket hello portálon, a legfelső szintű erőforrásként **hálózati**.</span><span class="sxs-lookup"><span data-stu-id="727e0-272">You create and manage NSGs in hello portal as a top-level resource under **Networking**.</span></span>

<span data-ttu-id="727e0-273">Hello bejövő és kimenő követelmények figyelembe kell venni, amikor hello NSG-ket alábbihoz hasonló toohello NSG-ket ebben a példában látható módon.</span><span class="sxs-lookup"><span data-stu-id="727e0-273">When hello inbound and outbound requirements are taken into account, hello NSGs should look similar toohello NSGs shown in this example.</span></span> <span data-ttu-id="727e0-274">virtuális hálózat címtartománya hello van _192.168.250.0/16_, és hello alhálózatot, amely hello ASE _192.168.251.128/25_.</span><span class="sxs-lookup"><span data-stu-id="727e0-274">hello VNet address range is _192.168.250.0/16_, and hello subnet that hello ASE is in is _192.168.251.128/25_.</span></span>

<span data-ttu-id="727e0-275">hello első két bejövő követelményei hello ASE toofunction hello lista ebben a példában hello tetején látható.</span><span class="sxs-lookup"><span data-stu-id="727e0-275">hello first two inbound requirements for hello ASE toofunction are shown at hello top of hello list in this example.</span></span> <span data-ttu-id="727e0-276">Ezek ASE és felügyeletét teszi lehetővé hello ASE toocommunicate önmagával engedélyezése.</span><span class="sxs-lookup"><span data-stu-id="727e0-276">They enable ASE management and allow hello ASE toocommunicate with itself.</span></span> <span data-ttu-id="727e0-277">hello más bejegyzések összes bérlői konfigurálható és hálózati hozzáférési toohello ASE által üzemeltetett alkalmazások képesek felügyelni.</span><span class="sxs-lookup"><span data-stu-id="727e0-277">hello other entries are all tenant configurable and can govern network access toohello ASE-hosted applications.</span></span> 

![Bejövő biztonsági szabályok][4]

<span data-ttu-id="727e0-279">Alapértelmezett szabály lehetővé teszi, hogy az IP-címek hello hello VNet tootalk toohello ASE alhálózaton.</span><span class="sxs-lookup"><span data-stu-id="727e0-279">A default rule enables hello IPs in hello VNet tootalk toohello ASE subnet.</span></span> <span data-ttu-id="727e0-280">Egy másik alapértelmezett szabály lehetővé teszi, hogy a hello terheléselosztóhoz, más néven hello nyilvános VIP, a hello ASE toocommunicate.</span><span class="sxs-lookup"><span data-stu-id="727e0-280">Another default rule enables hello load balancer, also known as hello public VIP, toocommunicate with hello ASE.</span></span> <span data-ttu-id="727e0-281">toosee hello alapértelmezett szabályokat, válassza ki **alapértelmezett szabályok** következő toohello **Hozzáadás** ikonra.</span><span class="sxs-lookup"><span data-stu-id="727e0-281">toosee hello default rules, select **Default rules** next toohello **Add** icon.</span></span> <span data-ttu-id="727e0-282">Ha a Megtagadás, minden más szabály, miután hello NSG-szabályok látható, hogy akadályozza meg a hello VIP és hello ASE közötti forgalmat.</span><span class="sxs-lookup"><span data-stu-id="727e0-282">If you put a deny everything else rule after hello NSG rules shown, you prevent traffic between hello VIP and hello ASE.</span></span> <span data-ttu-id="727e0-283">tooprevent adatforgalma a hello VNet belül adja hozzá a saját szabály tooallow bejövő.</span><span class="sxs-lookup"><span data-stu-id="727e0-283">tooprevent traffic coming from inside hello VNet, add your own rule tooallow inbound.</span></span> <span data-ttu-id="727e0-284">A forrás egyenlő tooAzureLoadBalancer használata a cél **bármely** és egy porttartomány  **\*** .</span><span class="sxs-lookup"><span data-stu-id="727e0-284">Use a source equal tooAzureLoadBalancer with a destination of **Any** and a port range of **\***.</span></span> <span data-ttu-id="727e0-285">Mivel hello NSG-szabály alkalmazott toohello ASE alhálózati, nincs szükség a toobe specifikus hello cél.</span><span class="sxs-lookup"><span data-stu-id="727e0-285">Because hello NSG rule is applied toohello ASE subnet, you don't need toobe specific in hello destination.</span></span>

<span data-ttu-id="727e0-286">Ha egy IP-cím tooyour alkalmazáshoz rendelt, ellenőrizze, hogy hello portok megnyitásához mindig.</span><span class="sxs-lookup"><span data-stu-id="727e0-286">If you assigned an IP address tooyour app, make sure you keep hello ports open.</span></span> <span data-ttu-id="727e0-287">toosee hello-porttal rendelkezik, válasszon **App Service Environment-környezet** > **IP-címek**.</span><span class="sxs-lookup"><span data-stu-id="727e0-287">toosee hello ports, select **App Service Environment** > **IP addresses**.</span></span>  

<span data-ttu-id="727e0-288">A következő kimenő szabályok hello látható minden hello elem van szükség, hello utolsó elem kivételével.</span><span class="sxs-lookup"><span data-stu-id="727e0-288">All hello items shown in hello following outbound rules are needed, except for hello last item.</span></span> <span data-ttu-id="727e0-289">Hálózati hozzáférés toohello ASE függőségei vannak, az ebben a cikkben észleltek lehetővé teszik.</span><span class="sxs-lookup"><span data-stu-id="727e0-289">They enable network access toohello ASE dependencies that were noted earlier in this article.</span></span> <span data-ttu-id="727e0-290">Ha letiltja az e valamelyiket, a ASE működése leáll.</span><span class="sxs-lookup"><span data-stu-id="727e0-290">If you block any of them, your ASE stops working.</span></span> <span data-ttu-id="727e0-291">hello lista utolsó elemére hello lehetővé teszi, hogy a ASE toocommunicate a virtuális hálózat más erőforrásokat.</span><span class="sxs-lookup"><span data-stu-id="727e0-291">hello last item in hello list enables your ASE toocommunicate with other resources in your VNet.</span></span>

![Kimenő biztonsági szabályok][5]

<span data-ttu-id="727e0-293">Az NSG-k meghatározása után rendelje hozzá őket a toohello alhálózatot, amely a ASE a.</span><span class="sxs-lookup"><span data-stu-id="727e0-293">After your NSGs are defined, assign them toohello subnet that your ASE is on.</span></span> <span data-ttu-id="727e0-294">Ha nem emlékszik hello ASE virtuális hálózat vagy az alhálózat, láthatja a hello ASE felügyeleti portálról.</span><span class="sxs-lookup"><span data-stu-id="727e0-294">If you don’t remember hello ASE VNet or subnet, you can see it from hello ASE management portal.</span></span> <span data-ttu-id="727e0-295">tooassign NSG tooyour alhálózati hello nyissa toohello alhálózati felhasználói felület és válassza ki a hello NSG.</span><span class="sxs-lookup"><span data-stu-id="727e0-295">tooassign hello NSG tooyour subnet, go toohello subnet UI and select hello NSG.</span></span>

## <a name="routes"></a><span data-ttu-id="727e0-296">Útvonalak</span><span class="sxs-lookup"><span data-stu-id="727e0-296">Routes</span></span> ##

<span data-ttu-id="727e0-297">Útvonalak váltak problémássá leggyakrabban a virtuális hálózat az Azure ExpressRoute konfigurálásakor.</span><span class="sxs-lookup"><span data-stu-id="727e0-297">Routes become problematic most commonly when you configure your VNet with Azure ExpressRoute.</span></span> <span data-ttu-id="727e0-298">Az útvonalak a Vneten belül három típusa van:</span><span class="sxs-lookup"><span data-stu-id="727e0-298">There are three types of routes in a VNet:</span></span>

-   <span data-ttu-id="727e0-299">Rendszerútvonalak</span><span class="sxs-lookup"><span data-stu-id="727e0-299">System routes</span></span>
-   <span data-ttu-id="727e0-300">BGP-útvonalak</span><span class="sxs-lookup"><span data-stu-id="727e0-300">BGP routes</span></span>
-   <span data-ttu-id="727e0-301">Felhasználó által definiált útvonalak (udr-EK)</span><span class="sxs-lookup"><span data-stu-id="727e0-301">User-defined routes (UDRs)</span></span>

<span data-ttu-id="727e0-302">BGP-útvonalakat a rendszer útvonalak bírálja felül.</span><span class="sxs-lookup"><span data-stu-id="727e0-302">BGP routes override system routes.</span></span> <span data-ttu-id="727e0-303">Udr-EK bírálja felül a BGP-útvonalakat.</span><span class="sxs-lookup"><span data-stu-id="727e0-303">UDRs override BGP routes.</span></span> <span data-ttu-id="727e0-304">Az Azure virtuális hálózataihoz útvonalakkal kapcsolatban további információkért lásd: [felhasználó által definiált útvonalak áttekintése][UDRs].</span><span class="sxs-lookup"><span data-stu-id="727e0-304">For more information about routes in Azure virtual networks, see [User-defined routes overview][UDRs].</span></span>

<span data-ttu-id="727e0-305">hello Azure SQL-adatbázist, hogy hello ASE toomanage hello rendszer használja-e tűzfal van.</span><span class="sxs-lookup"><span data-stu-id="727e0-305">hello Azure SQL database that hello ASE uses toomanage hello system has a firewall.</span></span> <span data-ttu-id="727e0-306">A hello ASE nyilvános VIP kommunikációs toooriginate igényel.</span><span class="sxs-lookup"><span data-stu-id="727e0-306">It requires communication toooriginate from hello ASE public VIP.</span></span> <span data-ttu-id="727e0-307">Kapcsolatok toohello SQL-adatbázis hello ASE elutasításra kerülne, ha elküldi őket hello ExpressRoute-kapcsolat és egy másik IP-cím.</span><span class="sxs-lookup"><span data-stu-id="727e0-307">Connections toohello SQL database from hello ASE will be denied if they are sent down hello ExpressRoute connection and out another IP address.</span></span>

<span data-ttu-id="727e0-308">Válaszok tooincoming felügyeleti kérések érkeznek hello ExpressRoute le, ha hello válasz címe különbözik hello eredeti célra.</span><span class="sxs-lookup"><span data-stu-id="727e0-308">If replies tooincoming management requests are sent down hello ExpressRoute, hello reply address is different than hello original destination.</span></span> <span data-ttu-id="727e0-309">Ez az eltérés hello TCP kommunikációs megszakad.</span><span class="sxs-lookup"><span data-stu-id="727e0-309">This mismatch breaks hello TCP communication.</span></span>

<span data-ttu-id="727e0-310">A ASE toowork közben a virtuális hálózat része egy ExpressRoute hello legegyszerűbb dolog toodo esetén:</span><span class="sxs-lookup"><span data-stu-id="727e0-310">For your ASE toowork while your VNet is configured with an ExpressRoute, hello easiest thing toodo is:</span></span>

-   <span data-ttu-id="727e0-311">Konfigurálja az ExpressRoute tooadvertise _0.0.0.0/0_.</span><span class="sxs-lookup"><span data-stu-id="727e0-311">Configure ExpressRoute tooadvertise _0.0.0.0/0_.</span></span> <span data-ttu-id="727e0-312">Alapértelmezés szerint azt kényszerített bújtatás minden kimenő forgalom a helyszínen.</span><span class="sxs-lookup"><span data-stu-id="727e0-312">By default, it force tunnels all outbound traffic on-premises.</span></span>
-   <span data-ttu-id="727e0-313">Hozzon létre egy UDR.</span><span class="sxs-lookup"><span data-stu-id="727e0-313">Create a UDR.</span></span> <span data-ttu-id="727e0-314">Alkalmazza azt az egy címelőtagot hello ASE tartalmazó toohello alhálózati _0.0.0.0/0_ és következőugrás-típusú _Internet_.</span><span class="sxs-lookup"><span data-stu-id="727e0-314">Apply it toohello subnet that contains hello ASE with an address prefix of _0.0.0.0/0_ and a next hop type of _Internet_.</span></span>

<span data-ttu-id="727e0-315">Ha a módosítások két, a hello ASE alhálózati származó internet felé forgalom nem működik hello ExpressRoute és hello ASE kényszerített.</span><span class="sxs-lookup"><span data-stu-id="727e0-315">If you make these two changes, internet-destined traffic that originates from hello ASE subnet isn't forced down hello ExpressRoute and hello ASE works.</span></span> 

> [!IMPORTANT]
> <span data-ttu-id="727e0-316">egy UDR definiált hello útvonalak bármely hello ExpressRoute-konfiguráció által hirdetett útvonalakat elég konkrétan fogalmaz ahhoz tootake sorrend kell lennie.</span><span class="sxs-lookup"><span data-stu-id="727e0-316">hello routes defined in a UDR must be specific enough tootake precedence over any routes advertised by hello ExpressRoute configuration.</span></span> <span data-ttu-id="727e0-317">hello előző példa hello széleskörű 0.0.0.0/0 címtartományt.</span><span class="sxs-lookup"><span data-stu-id="727e0-317">hello preceding example uses hello broad 0.0.0.0/0 address range.</span></span> <span data-ttu-id="727e0-318">Az esetlegesen véletlenül felülbírálhatja pontosabb címtartományai használó útvonal-hirdetéseinek.</span><span class="sxs-lookup"><span data-stu-id="727e0-318">It can potentially be accidentally overridden by route advertisements that use more specific address ranges.</span></span>
>
> <span data-ttu-id="727e0-319">ASEs határokon hirdetési hello nyilvános társviszony elérési toohello privát társviszony elérési útvonalak ExpressRoute beállításokkal nem támogatottak.</span><span class="sxs-lookup"><span data-stu-id="727e0-319">ASEs aren't supported with ExpressRoute configurations that cross-advertise routes from hello public-peering path toohello private-peering path.</span></span> <span data-ttu-id="727e0-320">A nyilvános társviszony konfigurált ExpressRoute-konfigurációk útvonal-hirdetéseinek kapni a Microsofttól.</span><span class="sxs-lookup"><span data-stu-id="727e0-320">ExpressRoute configurations with public peering configured receive route advertisements from Microsoft.</span></span> <span data-ttu-id="727e0-321">a Microsoft Azure IP-címtartományok nagy hello hirdetményeket tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="727e0-321">hello advertisements contain a large set of Microsoft Azure IP address ranges.</span></span> <span data-ttu-id="727e0-322">Ha hello címtartományai határokon meghirdetett hello privát társviszony elérési úton, hello ASE tartozó alhálózati minden kimenő hálózati csomagok kényszerített bújtatott tooa az ügyfél a helyi hálózati infrastruktúra.</span><span class="sxs-lookup"><span data-stu-id="727e0-322">If hello address ranges are cross-advertised on hello private-peering path, all outbound network packets from hello ASE's subnet are force tunneled tooa customer's on-premises network infrastructure.</span></span> <span data-ttu-id="727e0-323">A hálózati folyamat jelenleg nem támogatott a ASEs.</span><span class="sxs-lookup"><span data-stu-id="727e0-323">This network flow is currently not supported with ASEs.</span></span> <span data-ttu-id="727e0-324">Az egyik megoldás toothis probléma toostop cross-hirdetési útvonalak hello nyilvános társviszony elérési toohello privát társviszony elérési útról.</span><span class="sxs-lookup"><span data-stu-id="727e0-324">One solution toothis problem is toostop cross-advertising routes from hello public-peering path toohello private-peering path.</span></span>

<span data-ttu-id="727e0-325">egy UDR toocreate kövesse az alábbi lépéseket:</span><span class="sxs-lookup"><span data-stu-id="727e0-325">toocreate a UDR, follow these steps:</span></span>

1. <span data-ttu-id="727e0-326">Nyissa meg az Azure portál toohello.</span><span class="sxs-lookup"><span data-stu-id="727e0-326">Go toohello Azure portal.</span></span> <span data-ttu-id="727e0-327">Válassza ki **hálózati** > **útvonaltáblát**.</span><span class="sxs-lookup"><span data-stu-id="727e0-327">Select **Networking** > **Route Tables**.</span></span>

2. <span data-ttu-id="727e0-328">Hozzon létre egy új útvonaltábla hello és a virtuális hálózat ugyanabban a régióban.</span><span class="sxs-lookup"><span data-stu-id="727e0-328">Create a new route table in hello same region as your VNet.</span></span>

3. <span data-ttu-id="727e0-329">Az útvonaltábla felhasználói felületén belül jelölje ki **útvonalak** > **Hozzáadás**.</span><span class="sxs-lookup"><span data-stu-id="727e0-329">From within your route table UI, select **Routes** > **Add**.</span></span>

4. <span data-ttu-id="727e0-330">Set hello **a következő ugrás típusa** túl**Internet** és hello **címelőtag** túl**0.0.0.0/0**.</span><span class="sxs-lookup"><span data-stu-id="727e0-330">Set hello **Next hop type** too**Internet** and hello **Address prefix** too**0.0.0.0/0**.</span></span> <span data-ttu-id="727e0-331">Kattintson a **Mentés** gombra.</span><span class="sxs-lookup"><span data-stu-id="727e0-331">Select **Save**.</span></span>

    <span data-ttu-id="727e0-332">Ekkor megjelenik az alábbihoz hasonló hello:</span><span class="sxs-lookup"><span data-stu-id="727e0-332">You then see something like hello following:</span></span>

    ![Funkcionális útvonalak][6]

5. <span data-ttu-id="727e0-334">Hello új útvonaltábla létrehozása után nyissa meg a ASE tartalmazó toohello alhálózat.</span><span class="sxs-lookup"><span data-stu-id="727e0-334">After you create hello new route table, go toohello subnet that contains your ASE.</span></span> <span data-ttu-id="727e0-335">Válassza ki az útvonaltábla hello portal hello listájáról.</span><span class="sxs-lookup"><span data-stu-id="727e0-335">Select your route table from hello list in hello portal.</span></span> <span data-ttu-id="727e0-336">Hello módosítás mentjük, majd megtekintheti az hello NSG-ket és ezekkel az alhálózati útvonalakat.</span><span class="sxs-lookup"><span data-stu-id="727e0-336">After you save hello change, you should then see hello NSGs and routes noted with your subnet.</span></span>

    ![Az NSG-k és útvonalak][7]

### <a name="deploy-into-existing-azure-virtual-networks-that-are-integrated-with-expressroute"></a><span data-ttu-id="727e0-338">Üzembe helyezés meglévő Azure virtuális hálózataihoz ExpressRoute integrált</span><span class="sxs-lookup"><span data-stu-id="727e0-338">Deploy into existing Azure virtual networks that are integrated with ExpressRoute</span></span> ###

<span data-ttu-id="727e0-339">toodeploy be egy Vnetet, ExpressRoute, integrálva van a ASE hello ASE telepíteni kívánt hello alhálózati előkonfigurálására szolgálnak.</span><span class="sxs-lookup"><span data-stu-id="727e0-339">toodeploy your ASE into a VNet that's integrated with ExpressRoute, preconfigure hello subnet where you want hello ASE deployed.</span></span> <span data-ttu-id="727e0-340">A Resource Manager sablon toodeploy használja azt.</span><span class="sxs-lookup"><span data-stu-id="727e0-340">Then use a Resource Manager template toodeploy it.</span></span> <span data-ttu-id="727e0-341">a Vneten belül egy ASE toocreate már rendelkezik ExpressRoute konfigurálva:</span><span class="sxs-lookup"><span data-stu-id="727e0-341">toocreate an ASE in a VNet that already has ExpressRoute configured:</span></span>

- <span data-ttu-id="727e0-342">Hozzon létre egy alhálózat toohost hello ASE.</span><span class="sxs-lookup"><span data-stu-id="727e0-342">Create a subnet toohost hello ASE.</span></span>

    > [!NOTE]
    > <span data-ttu-id="727e0-343">Nincs más lehet hello alhálózati, de hello ASE.</span><span class="sxs-lookup"><span data-stu-id="727e0-343">Nothing else can be in hello subnet but hello ASE.</span></span> <span data-ttu-id="727e0-344">Lehet, hogy toochoose, amely lehetővé teszi a jövőbeli növekedésre címteret.</span><span class="sxs-lookup"><span data-stu-id="727e0-344">Be sure toochoose an address space that allows for future growth.</span></span> <span data-ttu-id="727e0-345">Később Ez a beállítás nem módosítható.</span><span class="sxs-lookup"><span data-stu-id="727e0-345">You can't change this setting later.</span></span> <span data-ttu-id="727e0-346">Azt javasoljuk, hogy a méretet `/25` 128-címekkel.</span><span class="sxs-lookup"><span data-stu-id="727e0-346">We recommend a size of `/25` with 128 addresses.</span></span>

- <span data-ttu-id="727e0-347">Hozzon létre udr-EK (például az útvonaltáblák), a fentebb leírt módon, és állítsa be, amely hello alhálózaton.</span><span class="sxs-lookup"><span data-stu-id="727e0-347">Create UDRs (for example, route tables) as described earlier, and set that on hello subnet.</span></span>
- <span data-ttu-id="727e0-348">Hello ASE létrehozása a Resource Manager sablonnal [egy ASE létrehozása egy Resource Manager-sablon használatával][MakeASEfromTemplate].</span><span class="sxs-lookup"><span data-stu-id="727e0-348">Create hello ASE by using a Resource Manager template as described in [Create an ASE by using a Resource Manager template][MakeASEfromTemplate].</span></span>

<!--Image references-->
[1]: ./media/network_considerations_with_an_app_service_environment/networkase-overflow.png
[2]: ./media/network_considerations_with_an_app_service_environment/networkase-overflow2.png
[3]: ./media/network_considerations_with_an_app_service_environment/networkase-ipaddresses.png
[4]: ./media/network_considerations_with_an_app_service_environment/networkase-inboundnsg.png
[5]: ./media/network_considerations_with_an_app_service_environment/networkase-outboundnsg.png
[6]: ./media/network_considerations_with_an_app_service_environment/networkase-udr.png
[7]: ./media/network_considerations_with_an_app_service_environment/networkase-subnet.png

<!--Links-->
[Intro]: ./intro.md
[MakeExternalASE]: ./create-external-ase.md
[MakeASEfromTemplate]: ./create-from-template.md
[MakeILBASE]: ./create-ilb-ase.md
[ASENetwork]: ./network-info.md
[ASEReadme]: ./readme.md
[UsingASE]: ./using-an-ase.md
[UDRs]: ../../virtual-network/virtual-networks-udr-overview.md
[NSGs]: ../../virtual-network/virtual-networks-nsg.md
[ConfigureASEv1]: ../../app-service-web/app-service-web-configure-an-app-service-environment.md
[ASEv1Intro]: ../../app-service-web/app-service-app-service-environment-intro.md
[webapps]: ../../app-service-web/app-service-web-overview.md
[mobileapps]: ../../app-service-mobile/app-service-mobile-value-prop.md
[APIapps]: ../../app-service-api/app-service-api-apps-why-best-platform.md
[Functions]: ../../azure-functions/index.yml
[Pricing]: http://azure.microsoft.com/pricing/details/app-service/
[ARMOverview]: ../../azure-resource-manager/resource-group-overview.md
[ConfigureSSL]: ../../app-service-web/web-sites-purchase-ssl-web-site.md
[Kudu]: http://azure.microsoft.com/resources/videos/super-secret-kudu-debug-console-for-azure-web-sites/
[AppDeploy]: ../../app-service-web/web-sites-deploy.md
[ASEWAF]: ../../app-service-web/app-service-app-service-environment-web-application-firewall.md
[AppGW]: ../../application-gateway/application-gateway-web-application-firewall-overview.md
[ASEManagement]: ./management-addresses.md
