---
title: "Azure IoT Hub eszközre cloud messaging megértése |} Microsoft Docs"
description: "Fejlesztői útmutató - felhő eszközre üzenetküldés az IoT-központ használatával. Az üzenet életciklusát, és a konfigurációs beállítások kapcsolatos adatokat tartalmaz."
services: iot-hub
documentationcenter: .net
author: dominicbetts
manager: timlt
editor: 
ms.service: iot-hub
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 05/25/2017
ms.author: dobett
ms.openlocfilehash: 04ac46498c912b0503036f70b7f3d0e28e5a82b8
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 07/11/2017
---
# <a name="send-cloud-to-device-messages-from-iot-hub"></a><span data-ttu-id="55608-104">Felhő-eszközre küldött üzenetek küldése az IoT-központ</span><span class="sxs-lookup"><span data-stu-id="55608-104">Send cloud-to-device messages from IoT Hub</span></span>

<span data-ttu-id="55608-105">Az eszköz alkalmazásának a megoldás háttérből egyirányú értesítések küldésére, felhő-eszközök üzenetek küldése az IoT hub az eszközét.</span><span class="sxs-lookup"><span data-stu-id="55608-105">To send one-way notifications to the device app from your solution back end, send cloud-to-devices messages from your IoT hub to your device.</span></span> <span data-ttu-id="55608-106">Más felhőalapú-eszközök beállításai, IoT-központ által támogatott tárgyalását lásd: [felhő eszközre kommunikációs útmutatást][lnk-c2d-guidance].</span><span class="sxs-lookup"><span data-stu-id="55608-106">For a discussion of other cloud-to-devices options supported by IoT Hub, see [Cloud-to-device communications guidance][lnk-c2d-guidance].</span></span>

<span data-ttu-id="55608-107">A szolgáltatás felé néző végpont keresztül felhő eszközre üzeneteket küld (**/üzenetek/devicebound**).</span><span class="sxs-lookup"><span data-stu-id="55608-107">You send cloud-to-device messages through a service-facing endpoint (**/messages/devicebound**).</span></span> <span data-ttu-id="55608-108">Egy eszköz majd fogadja az üzeneteket egy eszközspecifikus végpontot keresztül (**/devices/ {deviceId} / üzenetek/devicebound**).</span><span class="sxs-lookup"><span data-stu-id="55608-108">A device then receives the messages through a device-specific endpoint (**/devices/{deviceId}/messages/devicebound**).</span></span>

<span data-ttu-id="55608-109">Minden felhő eszközre üzenetet egyetlen eszközt a célja úgy, hogy a **való** tulajdonságot **/devices/ {deviceId} / üzenetek/devicebound**.</span><span class="sxs-lookup"><span data-stu-id="55608-109">Each cloud-to-device message is targeted at a single device by setting the **to** property to **/devices/{deviceId}/messages/devicebound**.</span></span>

<span data-ttu-id="55608-110">Minden eszköz várólista legfeljebb 50 felhő eszközre üzeneteket tárolja.</span><span class="sxs-lookup"><span data-stu-id="55608-110">Each device queue holds at most 50 cloud-to-device messages.</span></span> <span data-ttu-id="55608-111">A el ugyanazon eszköz hiba további üzenetek küldésére tett kísérlet.</span><span class="sxs-lookup"><span data-stu-id="55608-111">Trying to send more messages to the same device results in an error.</span></span>

## <a name="the-cloud-to-device-message-lifecycle"></a><span data-ttu-id="55608-112">A felhő-eszközre küldött üzenetek életciklusa</span><span class="sxs-lookup"><span data-stu-id="55608-112">The cloud-to-device message lifecycle</span></span>

<span data-ttu-id="55608-113">A legalább egyszeri üzenet kézbesítési biztosításához IoT-központ továbbra is fennáll eszköz felhő eszközre üzeneteket.</span><span class="sxs-lookup"><span data-stu-id="55608-113">To guarantee at-least-once message delivery, IoT Hub persists cloud-to-device messages in per-device queues.</span></span> <span data-ttu-id="55608-114">Eszközök kell kifejezetten elismeri *befejezési* IoT hub azok eltávolítása a sorból.</span><span class="sxs-lookup"><span data-stu-id="55608-114">Devices must explicitly acknowledge *completion* for IoT Hub to remove them from the queue.</span></span> <span data-ttu-id="55608-115">Ez a megközelítés biztosítja, hogy kapcsolatot és meghibásodása esetén szembeni hibatűrést.</span><span class="sxs-lookup"><span data-stu-id="55608-115">This approach guarantees resiliency against connectivity and device failures.</span></span>

<span data-ttu-id="55608-116">A következő diagramon láthatók a felhőből eszközre üzenet életciklus állapotát ábrázoló az IoT-központ.</span><span class="sxs-lookup"><span data-stu-id="55608-116">The following diagram shows the lifecycle state graph for a cloud-to-device message in IoT Hub.</span></span>

![Felhő-eszközre küldött üzenetek életciklusa][img-lifecycle]

<span data-ttu-id="55608-118">Az IoT-központ szolgáltatás üzenetet küld egy eszközt, ha a szolgáltatás üzenet állapotba állítása **a várólistában levő**.</span><span class="sxs-lookup"><span data-stu-id="55608-118">When the IoT Hub service sends a message to a device, the service sets the message state to **Enqueued**.</span></span> <span data-ttu-id="55608-119">Ha egy eszköz kísérel *kap* üzenetet az IoT-központ *zárolások* az üzenet (által a állapotra **láthatatlan**), amely lehetővé teszi, hogy más szálak megkezdése az eszközön más üzeneteket.</span><span class="sxs-lookup"><span data-stu-id="55608-119">When a device wants to *receive* a message, IoT Hub *locks* the message (by setting the state to **Invisible**), which allows other threads on the device to start receiving other messages.</span></span> <span data-ttu-id="55608-120">Egy eszköz szál befejezése után egy üzenet feldolgozása értesíti a felhasználót az IoT-központ által *befejezése* az üzenetet.</span><span class="sxs-lookup"><span data-stu-id="55608-120">When a device thread completes the processing of a message, it notifies IoT Hub by *completing* the message.</span></span> <span data-ttu-id="55608-121">Az IoT-központ majd állapotba állítása **befejezve**.</span><span class="sxs-lookup"><span data-stu-id="55608-121">IoT Hub then sets the state to **Completed**.</span></span>

<span data-ttu-id="55608-122">Egy eszköz is megteheti, hogy:</span><span class="sxs-lookup"><span data-stu-id="55608-122">A device can also choose to:</span></span>

* <span data-ttu-id="55608-123">*Elutasítása* az üzenet, amely azt eredményezi, állítsa be az IoT-központ a **Deadlettered** állapotát.</span><span class="sxs-lookup"><span data-stu-id="55608-123">*Reject* the message, which causes IoT Hub to set it to the **Deadlettered** state.</span></span> <span data-ttu-id="55608-124">A MQTT protokollon keresztül csatlakozó eszközökön nem utasíthat el a felhő-eszközre küldött üzenetek.</span><span class="sxs-lookup"><span data-stu-id="55608-124">Devices that connect over the MQTT protocol cannot reject cloud-to-device messages.</span></span>
* <span data-ttu-id="55608-125">*Abandon* az üzenet, amely azt eredményezi, az üzenet vissza a várólistába helyezni, az állapot beállítása az IoT-központ **a várólistában levő**.</span><span class="sxs-lookup"><span data-stu-id="55608-125">*Abandon* the message, which causes IoT Hub to put the message back in the queue, with the state set to **Enqueued**.</span></span>

<span data-ttu-id="55608-126">A szál nem sikerül felvenni feldolgozni egy üzenetet az IoT-központ értesítése nélkül.</span><span class="sxs-lookup"><span data-stu-id="55608-126">A thread could fail to process a message without notifying IoT Hub.</span></span> <span data-ttu-id="55608-127">Ebben az esetben üzenetek automatikusan állnak a **láthatatlan** állapot vissza a **a várólistában levő** állapot után egy *látható (vagy a zárolás) időtúllépési*.</span><span class="sxs-lookup"><span data-stu-id="55608-127">In this case, messages automatically transition from the **Invisible** state back to the **Enqueued** state after a *visibility (or lock) timeout*.</span></span> <span data-ttu-id="55608-128">Ez az időkorlát alapértelmezett értéke egy perc.</span><span class="sxs-lookup"><span data-stu-id="55608-128">The default value of this timeout is one minute.</span></span>

<span data-ttu-id="55608-129">Üzenet között is átléphet a **a várólistában levő** és **láthatatlan** állapota, legfeljebb ennyiszer megadott a **kézbesítési száma legfeljebb** IoT hub tulajdonság.</span><span class="sxs-lookup"><span data-stu-id="55608-129">A message can transition between the **Enqueued** and **Invisible** states for, at most, the number of times specified in the **max delivery count** property on IoT Hub.</span></span> <span data-ttu-id="55608-130">Követően, hogy áttérések számával, IoT-központ állapotát állítja, az üzenet **Deadlettered**.</span><span class="sxs-lookup"><span data-stu-id="55608-130">After that number of transitions, IoT Hub sets the state of the message to **Deadlettered**.</span></span> <span data-ttu-id="55608-131">Ehhez hasonlóan az IoT-központ üzenet állapotúra állítja **Deadlettered** a lejárati idő után (lásd: [élettartama][lnk-ttl]).</span><span class="sxs-lookup"><span data-stu-id="55608-131">Similarly, IoT Hub sets the state of a message to **Deadlettered** after its expiration time (see [Time to live][lnk-ttl]).</span></span>

<span data-ttu-id="55608-132">A [IoT hubbal felhő eszközre üzenetek küldése] [ lnk-c2d-tutorial] bemutatja, hogyan felhő-eszközre küldött üzenetek küldéséhez a felhőből, és fogadásukra az eszközön.</span><span class="sxs-lookup"><span data-stu-id="55608-132">The [How to send cloud-to-device messages with IoT Hub][lnk-c2d-tutorial] shows you how to send cloud-to-device messages from the cloud and receive them on a device.</span></span>

<span data-ttu-id="55608-133">Általában egy eszköz befejezése felhő eszközre üzenet, amikor elvész az az üzenet nem befolyásolja az alkalmazás logikáját.</span><span class="sxs-lookup"><span data-stu-id="55608-133">Typically, a device completes a cloud-to-device message when the loss of the message does not affect the application logic.</span></span> <span data-ttu-id="55608-134">Például ha az eszköz rendelkezik helyileg tárolt tartalom üzenet vagy a sikeresen végrehajtott egy művelet.</span><span class="sxs-lookup"><span data-stu-id="55608-134">For example, when the device has persisted the message content locally or has successfully executed an operation.</span></span> <span data-ttu-id="55608-135">Az üzenetet is sikerült továbbítani az átmeneti információkat, amelyek adatvesztés nem befolyásolná az alkalmazás funkcióit.</span><span class="sxs-lookup"><span data-stu-id="55608-135">The message could also carry transient information, whose loss would not impact the functionality of the application.</span></span> <span data-ttu-id="55608-136">Egyes esetekben a hosszan futó feladatokat, hajthatja végre a felhőből eszközre üzenet után megőrzése a helyi tároló feladat leírását.</span><span class="sxs-lookup"><span data-stu-id="55608-136">Sometimes, for long-running tasks, you can complete the cloud-to-device message after persisting the task description in local storage.</span></span> <span data-ttu-id="55608-137">A megoldás háttérrendszerének integrációját egy vagy több eszköz-a-felhőbe küldött üzeneteket majd értesítheti különböző szakaszaiban a feladat előrehaladását.</span><span class="sxs-lookup"><span data-stu-id="55608-137">Then you can notify the solution back end with one or more device-to-cloud messages at various stages of progress of the task.</span></span>

## <a name="message-expiration-time-to-live"></a><span data-ttu-id="55608-138">Üzenet lejárati (élő idő)</span><span class="sxs-lookup"><span data-stu-id="55608-138">Message expiration (time to live)</span></span>

<span data-ttu-id="55608-139">Minden felhő eszközre üzenetnek lejárati időt.</span><span class="sxs-lookup"><span data-stu-id="55608-139">Every cloud-to-device message has an expiration time.</span></span> <span data-ttu-id="55608-140">Most vagy a szolgáltatás beállítása (a a **ExpiryTimeUtc** tulajdonság), vagy az alapértelmezett IoT-központ által *élettartama* egy IoT-központ tulajdonságban megadott.</span><span class="sxs-lookup"><span data-stu-id="55608-140">This time is set either by the service (in the **ExpiryTimeUtc** property), or by IoT Hub using the default *time to live* specified as an IoT Hub property.</span></span> <span data-ttu-id="55608-141">Lásd: [felhő eszközre konfigurációs beállítások][lnk-c2d-configuration].</span><span class="sxs-lookup"><span data-stu-id="55608-141">See [Cloud-to-device configuration options][lnk-c2d-configuration].</span></span>

<span data-ttu-id="55608-142">Egy közös üzenet lejárati előnyeit, és elkerülheti a leválasztott eszközök üzenetküldésre módja értékek élő rövid idő beállítása.</span><span class="sxs-lookup"><span data-stu-id="55608-142">A common way to take advantage of message expiration and avoid sending messages to disconnected devices, is to set short time to live values.</span></span> <span data-ttu-id="55608-143">Ez a megközelítés fenntartása az eszköz kapcsolati állapotát, miközben sokkal hatékonyabb ugyanazt az eredményt éri el.</span><span class="sxs-lookup"><span data-stu-id="55608-143">This approach achieves the same result as maintaining the device connection state, while being more efficient.</span></span> <span data-ttu-id="55608-144">Amikor üzenet nyugták kér le, az IoT-központ értesítést küld, mely eszközök fogadhat üzeneteket, és mely eszközök nincs online állapotban, vagy nem sikerült.</span><span class="sxs-lookup"><span data-stu-id="55608-144">When you request message acknowledgements, IoT Hub notifies you which devices are able to receive messages, and which devices are not online or have failed.</span></span>

## <a name="message-feedback"></a><span data-ttu-id="55608-145">Üzenet visszajelzés</span><span class="sxs-lookup"><span data-stu-id="55608-145">Message feedback</span></span>

<span data-ttu-id="55608-146">A felhőből eszközre üzenetet küld, ha a szolgáltatás kérhetnek az üzenet visszajelzés kapcsolatban a végső állapot üzenet kézbesítését.</span><span class="sxs-lookup"><span data-stu-id="55608-146">When you send a cloud-to-device message, the service can request the delivery of per-message feedback regarding the final state of that message.</span></span>

| <span data-ttu-id="55608-147">Nyugtázási tulajdonság</span><span class="sxs-lookup"><span data-stu-id="55608-147">Ack property</span></span> | <span data-ttu-id="55608-148">Viselkedés</span><span class="sxs-lookup"><span data-stu-id="55608-148">Behavior</span></span> |
| ------------ | -------- |
| <span data-ttu-id="55608-149">**pozitív**</span><span class="sxs-lookup"><span data-stu-id="55608-149">**positive**</span></span> | <span data-ttu-id="55608-150">Az IoT-központ visszajelzés üzenet állít elő, ha, és csak a felhőből eszközre üzenet elérte a **befejezve** állapotát.</span><span class="sxs-lookup"><span data-stu-id="55608-150">IoT Hub generates a feedback message if, and only if, the cloud-to-device message reached the **Completed** state.</span></span> |
| <span data-ttu-id="55608-151">**negatív.**</span><span class="sxs-lookup"><span data-stu-id="55608-151">**negative**</span></span> | <span data-ttu-id="55608-152">Az IoT-központ visszajelzés üzenetet hoz létre, csak ha, a felhő eszközre üzenet eléri a **Deadlettered** állapotát.</span><span class="sxs-lookup"><span data-stu-id="55608-152">IoT Hub generates a feedback message, if and only if, the cloud-to-device message reaches the **Deadlettered** state.</span></span> |
| <span data-ttu-id="55608-153">**teljes**</span><span class="sxs-lookup"><span data-stu-id="55608-153">**full**</span></span>     | <span data-ttu-id="55608-154">Az IoT-központ visszajelzés üzenet mindkét esetben állít elő.</span><span class="sxs-lookup"><span data-stu-id="55608-154">IoT Hub generates a feedback message in either case.</span></span> |

<span data-ttu-id="55608-155">Ha **nyugtázási** van **teljes**, és nem kap egy üzenetet, visszajelzést, az azt jelenti, hogy a visszajelzés üzenet lejárt.</span><span class="sxs-lookup"><span data-stu-id="55608-155">If **Ack** is **full**, and you don't receive a feedback message, it means that the feedback message expired.</span></span> <span data-ttu-id="55608-156">A szolgáltatás nem tudja az eredeti üzenet Mi történt.</span><span class="sxs-lookup"><span data-stu-id="55608-156">The service can't know what happened to the original message.</span></span> <span data-ttu-id="55608-157">A gyakorlatban egy szolgáltatás győződjön meg arról, hogy a visszajelzés lejárata előtt is feldolgozza.</span><span class="sxs-lookup"><span data-stu-id="55608-157">In practice, a service should ensure that it can process the feedback before it expires.</span></span> <span data-ttu-id="55608-158">A lejárati idő két nap, amely bőséges időt a szolgáltatás eléréséhez fut újra hiba esetén.</span><span class="sxs-lookup"><span data-stu-id="55608-158">The maximum expiry time is two days, which allows plenty of time to get the service running again if a failure occurs.</span></span>

<span data-ttu-id="55608-159">A [végpontok][lnk-endpoints], IoT-központ biztosítja a szolgáltatás felé néző végpont visszajelzései (**/messages/servicebound/feedback**) üzeneteihez.</span><span class="sxs-lookup"><span data-stu-id="55608-159">As explained in [Endpoints][lnk-endpoints], IoT Hub delivers feedback through a service-facing endpoint (**/messages/servicebound/feedback**) as messages.</span></span> <span data-ttu-id="55608-160">Visszajelzés fogadott szemantikáját ugyanúgy felhő-eszközre küldött üzenetek, és az [üzenet életciklus][lnk-lifecycle].</span><span class="sxs-lookup"><span data-stu-id="55608-160">The semantics for receiving feedback are the same as for cloud-to-device messages, and have the same [Message lifecycle][lnk-lifecycle].</span></span> <span data-ttu-id="55608-161">Amikor csak lehetséges, a program egy üzenetben, a következő formátumú kötegelni üzenet visszajelzés:</span><span class="sxs-lookup"><span data-stu-id="55608-161">Whenever possible, message feedback is batched in a single message, with the following format:</span></span>

| <span data-ttu-id="55608-162">Tulajdonság</span><span class="sxs-lookup"><span data-stu-id="55608-162">Property</span></span>     | <span data-ttu-id="55608-163">Leírás</span><span class="sxs-lookup"><span data-stu-id="55608-163">Description</span></span> |
| ------------ | ----------- |
| <span data-ttu-id="55608-164">EnqueuedTime</span><span class="sxs-lookup"><span data-stu-id="55608-164">EnqueuedTime</span></span> | <span data-ttu-id="55608-165">Az üzenet létrehozásának jelző időbélyegző.</span><span class="sxs-lookup"><span data-stu-id="55608-165">Timestamp indicating when the message was created.</span></span> |
| <span data-ttu-id="55608-166">Felhasználói azonosítóját</span><span class="sxs-lookup"><span data-stu-id="55608-166">UserId</span></span>       | `{iot hub name}` |
| <span data-ttu-id="55608-167">A ContentType</span><span class="sxs-lookup"><span data-stu-id="55608-167">ContentType</span></span>  | `application/vnd.microsoft.iothub.feedback.json` |

<span data-ttu-id="55608-168">A szervezet rekord, egy JSON-szerializált tömbje, minden, a következő tulajdonságokkal:</span><span class="sxs-lookup"><span data-stu-id="55608-168">The body is a JSON-serialized array of records, each with the following properties:</span></span>

| <span data-ttu-id="55608-169">Tulajdonság</span><span class="sxs-lookup"><span data-stu-id="55608-169">Property</span></span>           | <span data-ttu-id="55608-170">Leírás</span><span class="sxs-lookup"><span data-stu-id="55608-170">Description</span></span> |
| ------------------ | ----------- |
| <span data-ttu-id="55608-171">EnqueuedTimeUtc</span><span class="sxs-lookup"><span data-stu-id="55608-171">EnqueuedTimeUtc</span></span>    | <span data-ttu-id="55608-172">Mikor történt, az üzenet eredményeit jelző időbélyegző.</span><span class="sxs-lookup"><span data-stu-id="55608-172">Timestamp indicating when the outcome of the message happened.</span></span> <span data-ttu-id="55608-173">Például az eszköz befejeződött vagy az üzenet lejárt.</span><span class="sxs-lookup"><span data-stu-id="55608-173">For example, the device completed or the message expired.</span></span> |
| <span data-ttu-id="55608-174">originalMessageId</span><span class="sxs-lookup"><span data-stu-id="55608-174">OriginalMessageId</span></span>  | <span data-ttu-id="55608-175">**MessageId** a felhőből eszközre üzenet, amely a visszajelzési információk vonatkozik.</span><span class="sxs-lookup"><span data-stu-id="55608-175">**MessageId** of the cloud-to-device message to which this feedback information relates.</span></span> |
| <span data-ttu-id="55608-176">statusCode</span><span class="sxs-lookup"><span data-stu-id="55608-176">StatusCode</span></span>         | <span data-ttu-id="55608-177">Szükséges karakterlánc.</span><span class="sxs-lookup"><span data-stu-id="55608-177">Required string.</span></span> <span data-ttu-id="55608-178">Az IoT-központ által generált visszajelzés üzenetekben használatos.</span><span class="sxs-lookup"><span data-stu-id="55608-178">Used in feedback messages generated by IoT Hub.</span></span> <br/> <span data-ttu-id="55608-179">"Sikeres"</span><span class="sxs-lookup"><span data-stu-id="55608-179">'Success'</span></span> <br/> <span data-ttu-id="55608-180">"A lejárt"</span><span class="sxs-lookup"><span data-stu-id="55608-180">'Expired'</span></span> <br/> <span data-ttu-id="55608-181">"DeliveryCountExceeded"</span><span class="sxs-lookup"><span data-stu-id="55608-181">'DeliveryCountExceeded'</span></span> <br/> <span data-ttu-id="55608-182">"Visszautasított"</span><span class="sxs-lookup"><span data-stu-id="55608-182">'Rejected'</span></span> <br/> <span data-ttu-id="55608-183">"Kiürítve"</span><span class="sxs-lookup"><span data-stu-id="55608-183">'Purged'</span></span> |
| <span data-ttu-id="55608-184">Leírás</span><span class="sxs-lookup"><span data-stu-id="55608-184">Description</span></span>        | <span data-ttu-id="55608-185">Karakterlánc-értékek **StatusCode**.</span><span class="sxs-lookup"><span data-stu-id="55608-185">String values for **StatusCode**.</span></span> |
| <span data-ttu-id="55608-186">Eszközazonosító</span><span class="sxs-lookup"><span data-stu-id="55608-186">DeviceId</span></span>           | <span data-ttu-id="55608-187">**DeviceId** a célként megadott eszköz a felhőből eszközre üzenet, amely a visszajelzésekben vonatkozik.</span><span class="sxs-lookup"><span data-stu-id="55608-187">**DeviceId** of the target device of the cloud-to-device message to which this piece of feedback relates.</span></span> |
| <span data-ttu-id="55608-188">DeviceGenerationId</span><span class="sxs-lookup"><span data-stu-id="55608-188">DeviceGenerationId</span></span> | <span data-ttu-id="55608-189">**DeviceGenerationId** a célként megadott eszköz a felhőből eszközre üzenet, amely a visszajelzésekben vonatkozik.</span><span class="sxs-lookup"><span data-stu-id="55608-189">**DeviceGenerationId** of the target device of the cloud-to-device message to which this piece of feedback relates.</span></span> |

<span data-ttu-id="55608-190">A szolgáltatás meg kell adnia egy **MessageId** a felhőből eszközre üzenet tudjanak a visszajelzés a kivizsgált az eredeti üzenet.</span><span class="sxs-lookup"><span data-stu-id="55608-190">The service must specify a **MessageId** for the cloud-to-device message to be able to correlate its feedback with the original message.</span></span>

<span data-ttu-id="55608-191">A következő példa bemutatja a visszajelzés üzenet törzsét.</span><span class="sxs-lookup"><span data-stu-id="55608-191">The following example shows the body of a feedback message.</span></span>

```json
[
  {
    "OriginalMessageId": "0987654321",
    "EnqueuedTimeUtc": "2015-07-28T16:24:48.789Z",
    "StatusCode": 0,
    "Description": "Success",
    "DeviceId": "123",
    "DeviceGenerationId": "abcdefghijklmnopqrstuvwxyz"
  },
  {
    ...
  },
  ...
]
```

## <a name="cloud-to-device-configuration-options"></a><span data-ttu-id="55608-192">Felhő-eszköz konfigurációs beállítások</span><span class="sxs-lookup"><span data-stu-id="55608-192">Cloud-to-device configuration options</span></span>

<span data-ttu-id="55608-193">Minden egyes IoT-központ mutatja meg a következő konfigurációs beállításokat a felhőből eszközre üzenetek:</span><span class="sxs-lookup"><span data-stu-id="55608-193">Each IoT hub exposes the following configuration options for cloud-to-device messaging:</span></span>

| <span data-ttu-id="55608-194">Tulajdonság</span><span class="sxs-lookup"><span data-stu-id="55608-194">Property</span></span>                  | <span data-ttu-id="55608-195">Leírás</span><span class="sxs-lookup"><span data-stu-id="55608-195">Description</span></span> | <span data-ttu-id="55608-196">Tartomány- és alapértelmezett</span><span class="sxs-lookup"><span data-stu-id="55608-196">Range and default</span></span> |
| ------------------------- | ----------- | ----------------- |
| <span data-ttu-id="55608-197">defaultTtlAsIso8601</span><span class="sxs-lookup"><span data-stu-id="55608-197">defaultTtlAsIso8601</span></span>       | <span data-ttu-id="55608-198">Felhő-eszközre küldött üzenetek alapértelmezett élettartam.</span><span class="sxs-lookup"><span data-stu-id="55608-198">Default TTL for cloud-to-device messages.</span></span> | <span data-ttu-id="55608-199">ISO_8601 időköz legfeljebb 2D (legalább 1 perc).</span><span class="sxs-lookup"><span data-stu-id="55608-199">ISO_8601 interval up to 2D (minimum 1 minute).</span></span> <span data-ttu-id="55608-200">Alapértelmezett: 1 óra.</span><span class="sxs-lookup"><span data-stu-id="55608-200">Default: 1 hour.</span></span> |
| <span data-ttu-id="55608-201">maxDeliveryCount</span><span class="sxs-lookup"><span data-stu-id="55608-201">maxDeliveryCount</span></span>          | <span data-ttu-id="55608-202">Felhő eszközre eszközönkénti sorok maximális száma.</span><span class="sxs-lookup"><span data-stu-id="55608-202">Maximum delivery count for cloud-to-device per-device queues.</span></span> | <span data-ttu-id="55608-203">1 és 100 közötti.</span><span class="sxs-lookup"><span data-stu-id="55608-203">1 to 100.</span></span> <span data-ttu-id="55608-204">Alapértelmezett: 10.</span><span class="sxs-lookup"><span data-stu-id="55608-204">Default: 10.</span></span> |
| <span data-ttu-id="55608-205">feedback.ttlAsIso8601</span><span class="sxs-lookup"><span data-stu-id="55608-205">feedback.ttlAsIso8601</span></span>     | <span data-ttu-id="55608-206">Szolgáltatás adathoz kötött visszajelzés üzenetek megőrzési.</span><span class="sxs-lookup"><span data-stu-id="55608-206">Retention for service-bound feedback messages.</span></span> | <span data-ttu-id="55608-207">ISO_8601 időköz legfeljebb 2D (legalább 1 perc).</span><span class="sxs-lookup"><span data-stu-id="55608-207">ISO_8601 interval up to 2D (minimum 1 minute).</span></span> <span data-ttu-id="55608-208">Alapértelmezett: 1 óra.</span><span class="sxs-lookup"><span data-stu-id="55608-208">Default: 1 hour.</span></span> |
| <span data-ttu-id="55608-209">feedback.maxDeliveryCount</span><span class="sxs-lookup"><span data-stu-id="55608-209">feedback.maxDeliveryCount</span></span> |<span data-ttu-id="55608-210">A visszajelzési üzenetsor maximális száma.</span><span class="sxs-lookup"><span data-stu-id="55608-210">Maximum delivery count for feedback queue.</span></span> | <span data-ttu-id="55608-211">1 és 100 közötti.</span><span class="sxs-lookup"><span data-stu-id="55608-211">1 to 100.</span></span> <span data-ttu-id="55608-212">Alapértelmezett: 100.</span><span class="sxs-lookup"><span data-stu-id="55608-212">Default: 100.</span></span> |

<span data-ttu-id="55608-213">A konfigurációs beállításokról telepítésével kapcsolatos további információkért lásd: [létrehozása IoT-központok][lnk-portal].</span><span class="sxs-lookup"><span data-stu-id="55608-213">For more information about how to set these configuration options, see [Create IoT hubs][lnk-portal].</span></span>

## <a name="next-steps"></a><span data-ttu-id="55608-214">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="55608-214">Next steps</span></span>

<span data-ttu-id="55608-215">További információ az SDK-k segítségével felhő eszközre üzeneteket fogadni,: [Azure IoT SDK-k][lnk-sdks].</span><span class="sxs-lookup"><span data-stu-id="55608-215">For information about the SDKs you can use to receive cloud-to-device messages, see [Azure IoT SDKs][lnk-sdks].</span></span>

<span data-ttu-id="55608-216">Próbálja ki felhő-eszközre küldött üzenetek fogadását, tekintse meg a [küldése eszközre felhő] [ lnk-c2d-tutorial] oktatóanyag.</span><span class="sxs-lookup"><span data-stu-id="55608-216">To try out receiving cloud-to-device messages, see the [Send cloud-to-device][lnk-c2d-tutorial] tutorial.</span></span>

[img-lifecycle]: ./media/iot-hub-devguide-messages-c2d/lifecycle.png

[lnk-portal]: iot-hub-create-through-portal.md
[lnk-c2d-guidance]: iot-hub-devguide-c2d-guidance.md
[lnk-endpoints]: iot-hub-devguide-endpoints.md
[lnk-sdks]: iot-hub-devguide-sdks.md
[lnk-ttl]: #message-expiration-time-to-live
[lnk-c2d-configuration]: #cloud-to-device-configuration-options
[lnk-lifecycle]: #message-lifecycle
[lnk-c2d-tutorial]: iot-hub-csharp-csharp-c2d.md
