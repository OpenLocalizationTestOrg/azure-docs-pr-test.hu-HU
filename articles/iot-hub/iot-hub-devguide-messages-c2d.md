---
title: "Azure IoT Hub felhő eszköz aaaUnderstand üzenetküldési |} Microsoft Docs"
description: "Fejlesztői útmutató - hogyan toouse felhő eszközre az IoT-központ az üzenetküldési. Hello üzenet életciklusát, és a konfigurációs beállítások kapcsolatos adatokat tartalmaz."
services: iot-hub
documentationcenter: .net
author: dominicbetts
manager: timlt
editor: 
ms.service: iot-hub
ms.devlang: multiple
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 05/25/2017
ms.author: dobett
ms.openlocfilehash: 5c747b50163873d823556a8baa769c4b8f7f8c44
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="send-cloud-to-device-messages-from-iot-hub"></a><span data-ttu-id="8ee49-104">Felhő-eszközre küldött üzenetek küldése az IoT-központ</span><span class="sxs-lookup"><span data-stu-id="8ee49-104">Send cloud-to-device messages from IoT Hub</span></span>

<span data-ttu-id="8ee49-105">toosend egyirányú értesítések toohello eszköz alkalmazást, a megoldás háttérrendszeréhez, az IoT hub tooyour eszközről felhő-eszközök üzeneteket küldeni.</span><span class="sxs-lookup"><span data-stu-id="8ee49-105">toosend one-way notifications toohello device app from your solution back end, send cloud-to-devices messages from your IoT hub tooyour device.</span></span> <span data-ttu-id="8ee49-106">Más felhőalapú-eszközök beállításai, IoT-központ által támogatott tárgyalását lásd: [felhő eszközre kommunikációs útmutatást][lnk-c2d-guidance].</span><span class="sxs-lookup"><span data-stu-id="8ee49-106">For a discussion of other cloud-to-devices options supported by IoT Hub, see [Cloud-to-device communications guidance][lnk-c2d-guidance].</span></span>

<span data-ttu-id="8ee49-107">A szolgáltatás felé néző végpont keresztül felhő eszközre üzeneteket küld (**/üzenetek/devicebound**).</span><span class="sxs-lookup"><span data-stu-id="8ee49-107">You send cloud-to-device messages through a service-facing endpoint (**/messages/devicebound**).</span></span> <span data-ttu-id="8ee49-108">Egy eszköz majd megkapja egy eszközspecifikus végpontot keresztül köszönőüzenetei (**/devices/ {deviceId} / üzenetek/devicebound**).</span><span class="sxs-lookup"><span data-stu-id="8ee49-108">A device then receives hello messages through a device-specific endpoint (**/devices/{deviceId}/messages/devicebound**).</span></span>

<span data-ttu-id="8ee49-109">Minden felhő eszközre üzenetet egyetlen eszközt a célja által hello beállítása **való** tulajdonság túl**/devices/ {deviceId} / üzenetek/devicebound**.</span><span class="sxs-lookup"><span data-stu-id="8ee49-109">Each cloud-to-device message is targeted at a single device by setting hello **to** property too**/devices/{deviceId}/messages/devicebound**.</span></span>

<span data-ttu-id="8ee49-110">Minden eszköz várólista legfeljebb 50 felhő eszközre üzeneteket tárolja.</span><span class="sxs-lookup"><span data-stu-id="8ee49-110">Each device queue holds at most 50 cloud-to-device messages.</span></span> <span data-ttu-id="8ee49-111">Próbált toosend további üzenetek toohello ugyanarra az eszközre hibát eredményez.</span><span class="sxs-lookup"><span data-stu-id="8ee49-111">Trying toosend more messages toohello same device results in an error.</span></span>

## <a name="hello-cloud-to-device-message-lifecycle"></a><span data-ttu-id="8ee49-112">hello felhő-eszközre küldött üzenetek életciklusa</span><span class="sxs-lookup"><span data-stu-id="8ee49-112">hello cloud-to-device message lifecycle</span></span>

<span data-ttu-id="8ee49-113">tooguarantee: legalább egyszeri üzenet kézbesítési, IoT-központ továbbra is fennáll, eszköz felhő eszközre üzeneteket.</span><span class="sxs-lookup"><span data-stu-id="8ee49-113">tooguarantee at-least-once message delivery, IoT Hub persists cloud-to-device messages in per-device queues.</span></span> <span data-ttu-id="8ee49-114">Eszközök kell kifejezetten elismeri *befejezési* az IoT-központ tooremove azokat hello várólista.</span><span class="sxs-lookup"><span data-stu-id="8ee49-114">Devices must explicitly acknowledge *completion* for IoT Hub tooremove them from hello queue.</span></span> <span data-ttu-id="8ee49-115">Ez a megközelítés biztosítja, hogy kapcsolatot és meghibásodása esetén szembeni hibatűrést.</span><span class="sxs-lookup"><span data-stu-id="8ee49-115">This approach guarantees resiliency against connectivity and device failures.</span></span>

<span data-ttu-id="8ee49-116">hello következő diagramon láthatók hello életciklus állapot graph felhő eszközre üzenetet az IoT-központot.</span><span class="sxs-lookup"><span data-stu-id="8ee49-116">hello following diagram shows hello lifecycle state graph for a cloud-to-device message in IoT Hub.</span></span>

![Felhő-eszközre küldött üzenetek életciklusa][img-lifecycle]

<span data-ttu-id="8ee49-118">Ha hello IoT-központ szolgáltatás elküldi egy üzenet tooa eszköz, hello szolgáltatás túl beállítja hello üzenet állapot**a várólistában levő**.</span><span class="sxs-lookup"><span data-stu-id="8ee49-118">When hello IoT Hub service sends a message tooa device, hello service sets hello message state too**Enqueued**.</span></span> <span data-ttu-id="8ee49-119">Ha egy eszköz túl szeretne*kap* üzenetet az IoT-központ *zárolások* üdvözlőüzenetére (hello állapot túl beállításával**láthatatlan**), amely lehetővé teszi, hogy más szálak hello eszköz toostart a más üzenetek fogadására.</span><span class="sxs-lookup"><span data-stu-id="8ee49-119">When a device wants too*receive* a message, IoT Hub *locks* hello message (by setting hello state too**Invisible**), which allows other threads on hello device toostart receiving other messages.</span></span> <span data-ttu-id="8ee49-120">Egy eszköz szál befejezése után egy üzenet feldolgozása hello értesíti a felhasználót az IoT-központ által *befejezése* üdvözlőüzenetére.</span><span class="sxs-lookup"><span data-stu-id="8ee49-120">When a device thread completes hello processing of a message, it notifies IoT Hub by *completing* hello message.</span></span> <span data-ttu-id="8ee49-121">Az IoT-központ majd az túl hello állapotának beállítása**befejezve**.</span><span class="sxs-lookup"><span data-stu-id="8ee49-121">IoT Hub then sets hello state too**Completed**.</span></span>

<span data-ttu-id="8ee49-122">Egy eszköz is megteheti, hogy:</span><span class="sxs-lookup"><span data-stu-id="8ee49-122">A device can also choose to:</span></span>

* <span data-ttu-id="8ee49-123">*Elutasítása* üdvözlőüzenetére, aminek következtében az IoT-központ tooset azt toohello **Deadlettered** állapotát.</span><span class="sxs-lookup"><span data-stu-id="8ee49-123">*Reject* hello message, which causes IoT Hub tooset it toohello **Deadlettered** state.</span></span> <span data-ttu-id="8ee49-124">Hello MQTT protokoll keresztül csatlakozó eszközökön nem utasíthat el a felhő-eszközre küldött üzenetek.</span><span class="sxs-lookup"><span data-stu-id="8ee49-124">Devices that connect over hello MQTT protocol cannot reject cloud-to-device messages.</span></span>
* <span data-ttu-id="8ee49-125">*Abandon* üdvözlőüzenetére, aminek következtében az IoT-központ tooput üdvözlőüzenetére újra hello várólista, a hello állapot értéke túl a**a várólistában levő**.</span><span class="sxs-lookup"><span data-stu-id="8ee49-125">*Abandon* hello message, which causes IoT Hub tooput hello message back in hello queue, with hello state set too**Enqueued**.</span></span>

<span data-ttu-id="8ee49-126">A szál sikertelen lehet, tooprocess egy üzenetet az IoT-központ értesítése nélkül.</span><span class="sxs-lookup"><span data-stu-id="8ee49-126">A thread could fail tooprocess a message without notifying IoT Hub.</span></span> <span data-ttu-id="8ee49-127">Ebben az esetben üzenetek automatikusan a hello áttűnés **láthatatlan** állapot hátsó toohello **a várólistában levő** állapot után egy *látható (vagy a zárolás) időtúllépési*.</span><span class="sxs-lookup"><span data-stu-id="8ee49-127">In this case, messages automatically transition from hello **Invisible** state back toohello **Enqueued** state after a *visibility (or lock) timeout*.</span></span> <span data-ttu-id="8ee49-128">hello alapértelmezett Ez az időkorlát értéke egy perc.</span><span class="sxs-lookup"><span data-stu-id="8ee49-128">hello default value of this timeout is one minute.</span></span>

<span data-ttu-id="8ee49-129">Egy üzenet is átmenet hello közötti **a várólistában levő** és **láthatatlan** állapotai, legfeljebb hányszor hello megadott hello **kézbesítési száma legfeljebb** IoT hub tulajdonság.</span><span class="sxs-lookup"><span data-stu-id="8ee49-129">A message can transition between hello **Enqueued** and **Invisible** states for, at most, hello number of times specified in hello **max delivery count** property on IoT Hub.</span></span> <span data-ttu-id="8ee49-130">Adott áttérések számával, miután az IoT-központ hello állapotának beállítása üdvözlőüzenetére túl**Deadlettered**.</span><span class="sxs-lookup"><span data-stu-id="8ee49-130">After that number of transitions, IoT Hub sets hello state of hello message too**Deadlettered**.</span></span> <span data-ttu-id="8ee49-131">Ehhez hasonlóan az IoT-központ hello állapotának beállítása üzenet túl**Deadlettered** a lejárati idő után (lásd: [toolive idő][lnk-ttl]).</span><span class="sxs-lookup"><span data-stu-id="8ee49-131">Similarly, IoT Hub sets hello state of a message too**Deadlettered** after its expiration time (see [Time toolive][lnk-ttl]).</span></span>

<span data-ttu-id="8ee49-132">Hello [hogyan toosend felhőből eszközre küldött üzenetek IoT-központ] [ lnk-c2d-tutorial] bemutatja, hogyan toosend felhő eszközre üzeneteit hello a felhő és a fogadásukra az eszközön.</span><span class="sxs-lookup"><span data-stu-id="8ee49-132">hello [How toosend cloud-to-device messages with IoT Hub][lnk-c2d-tutorial] shows you how toosend cloud-to-device messages from hello cloud and receive them on a device.</span></span>

<span data-ttu-id="8ee49-133">Általában egy eszköz befejezése felhő eszközre üzenet, amikor üdvözlőüzenetére hello megszűnését hello úgy az alkalmazáslogikát nincs hatással.</span><span class="sxs-lookup"><span data-stu-id="8ee49-133">Typically, a device completes a cloud-to-device message when hello loss of hello message does not affect hello application logic.</span></span> <span data-ttu-id="8ee49-134">Például ha hello eszköz rendelkezik megőrzött hello üzenet tartalmat a helyi vagy sikeresen megtörtént a következő művelet végrehajtása.</span><span class="sxs-lookup"><span data-stu-id="8ee49-134">For example, when hello device has persisted hello message content locally or has successfully executed an operation.</span></span> <span data-ttu-id="8ee49-135">üdvözlőüzenetére is sikerült továbbítani az átmeneti információkat, amelyek adatvesztés nem befolyásolná a hello alkalmazás hello funkcióit.</span><span class="sxs-lookup"><span data-stu-id="8ee49-135">hello message could also carry transient information, whose loss would not impact hello functionality of hello application.</span></span> <span data-ttu-id="8ee49-136">Egyes esetekben a hosszan futó feladatokat, befejezheti felhő eszközre üdvözlőüzenetére után megőrzése hello feladat leírása található helyi tárterület.</span><span class="sxs-lookup"><span data-stu-id="8ee49-136">Sometimes, for long-running tasks, you can complete hello cloud-to-device message after persisting hello task description in local storage.</span></span> <span data-ttu-id="8ee49-137">Majd értesítheti hello megoldás háttérrendszerének integrációját egy vagy több eszköz-a-felhőbe küldött üzeneteket különböző szakaszaiban hello a feladat előrehaladását.</span><span class="sxs-lookup"><span data-stu-id="8ee49-137">Then you can notify hello solution back end with one or more device-to-cloud messages at various stages of progress of hello task.</span></span>

## <a name="message-expiration-time-toolive"></a><span data-ttu-id="8ee49-138">Üzenet lejárati (toolive idő)</span><span class="sxs-lookup"><span data-stu-id="8ee49-138">Message expiration (time toolive)</span></span>

<span data-ttu-id="8ee49-139">Minden felhő eszközre üzenetnek lejárati időt.</span><span class="sxs-lookup"><span data-stu-id="8ee49-139">Every cloud-to-device message has an expiration time.</span></span> <span data-ttu-id="8ee49-140">Megadott idő van beállítva, vagy hello szolgáltatást (hello a **ExpiryTimeUtc** tulajdonság), vagy az IoT hubból hello alapértelmezett *toolive idő* egy IoT-központ tulajdonságban megadott.</span><span class="sxs-lookup"><span data-stu-id="8ee49-140">This time is set either by hello service (in hello **ExpiryTimeUtc** property), or by IoT Hub using hello default *time toolive* specified as an IoT Hub property.</span></span> <span data-ttu-id="8ee49-141">Lásd: [felhő eszközre konfigurációs beállítások][lnk-c2d-configuration].</span><span class="sxs-lookup"><span data-stu-id="8ee49-141">See [Cloud-to-device configuration options][lnk-c2d-configuration].</span></span>

<span data-ttu-id="8ee49-142">Egy általános módszer tootake előnyeit lejárati üzenet és üzenetküldésre toodisconnected eszközök elkerüléséhez tooset toolive értékeket rövid időn belül van.</span><span class="sxs-lookup"><span data-stu-id="8ee49-142">A common way tootake advantage of message expiration and avoid sending messages toodisconnected devices, is tooset short time toolive values.</span></span> <span data-ttu-id="8ee49-143">Ez a megközelítés azonos eredménye karbantartása hello eszköz kapcsolati állapotát, miközben sokkal hatékonyabb, hello éri el.</span><span class="sxs-lookup"><span data-stu-id="8ee49-143">This approach achieves hello same result as maintaining hello device connection state, while being more efficient.</span></span> <span data-ttu-id="8ee49-144">Amikor üzenet nyugták kér le, az IoT-központ értesítést küld, mely eszközök képes tooreceive üzeneteket, és mely eszközök nincs online állapotban, vagy nem sikerült.</span><span class="sxs-lookup"><span data-stu-id="8ee49-144">When you request message acknowledgements, IoT Hub notifies you which devices are able tooreceive messages, and which devices are not online or have failed.</span></span>

## <a name="message-feedback"></a><span data-ttu-id="8ee49-145">Üzenet visszajelzés</span><span class="sxs-lookup"><span data-stu-id="8ee49-145">Message feedback</span></span>

<span data-ttu-id="8ee49-146">Felhő eszközre üzenet küldésekor hello szolgáltatás kérhetnek hello végső állapot üzenet vonatkozó állapotüzenet visszajelzés hello kézbesítését.</span><span class="sxs-lookup"><span data-stu-id="8ee49-146">When you send a cloud-to-device message, hello service can request hello delivery of per-message feedback regarding hello final state of that message.</span></span>

| <span data-ttu-id="8ee49-147">Nyugtázási tulajdonság</span><span class="sxs-lookup"><span data-stu-id="8ee49-147">Ack property</span></span> | <span data-ttu-id="8ee49-148">Viselkedés</span><span class="sxs-lookup"><span data-stu-id="8ee49-148">Behavior</span></span> |
| ------------ | -------- |
| <span data-ttu-id="8ee49-149">**pozitív**</span><span class="sxs-lookup"><span data-stu-id="8ee49-149">**positive**</span></span> | <span data-ttu-id="8ee49-150">Az IoT-központ visszajelzést-üzenetet hoz létre, ha, és csak akkor hello felhő eszközre üzenet elérte hello **befejezve** állapotát.</span><span class="sxs-lookup"><span data-stu-id="8ee49-150">IoT Hub generates a feedback message if, and only if, hello cloud-to-device message reached hello **Completed** state.</span></span> |
| <span data-ttu-id="8ee49-151">**negatív.**</span><span class="sxs-lookup"><span data-stu-id="8ee49-151">**negative**</span></span> | <span data-ttu-id="8ee49-152">Az IoT-központ visszajelzés üzenetet hoz létre, csak ha, felhőalapú eszközre üdvözlőüzenetére eléri hello **Deadlettered** állapotát.</span><span class="sxs-lookup"><span data-stu-id="8ee49-152">IoT Hub generates a feedback message, if and only if, hello cloud-to-device message reaches hello **Deadlettered** state.</span></span> |
| <span data-ttu-id="8ee49-153">**teljes**</span><span class="sxs-lookup"><span data-stu-id="8ee49-153">**full**</span></span>     | <span data-ttu-id="8ee49-154">Az IoT-központ visszajelzés üzenet mindkét esetben állít elő.</span><span class="sxs-lookup"><span data-stu-id="8ee49-154">IoT Hub generates a feedback message in either case.</span></span> |

<span data-ttu-id="8ee49-155">Ha **nyugtázási** van **teljes**, és nem kap egy üzenetet, visszajelzést, az azt jelenti, hogy üdvözlőüzenetére visszajelzés lejárt.</span><span class="sxs-lookup"><span data-stu-id="8ee49-155">If **Ack** is **full**, and you don't receive a feedback message, it means that hello feedback message expired.</span></span> <span data-ttu-id="8ee49-156">hello szolgáltatás nem tudja, milyen történt toohello eredeti üzenet.</span><span class="sxs-lookup"><span data-stu-id="8ee49-156">hello service can't know what happened toohello original message.</span></span> <span data-ttu-id="8ee49-157">A gyakorlatban egy szolgáltatás győződjön meg arról, hogy feldolgozható hello visszajelzés lejárata előtt.</span><span class="sxs-lookup"><span data-stu-id="8ee49-157">In practice, a service should ensure that it can process hello feedback before it expires.</span></span> <span data-ttu-id="8ee49-158">hello maximális lejárati ideje két nap bőséges időt tooget hello szolgáltatás újra futtatni a hiba akkor fordul elő, ha lehetővé teszi.</span><span class="sxs-lookup"><span data-stu-id="8ee49-158">hello maximum expiry time is two days, which allows plenty of time tooget hello service running again if a failure occurs.</span></span>

<span data-ttu-id="8ee49-159">A [végpontok][lnk-endpoints], IoT-központ biztosítja a szolgáltatás felé néző végpont visszajelzései (**/messages/servicebound/feedback**) üzeneteihez.</span><span class="sxs-lookup"><span data-stu-id="8ee49-159">As explained in [Endpoints][lnk-endpoints], IoT Hub delivers feedback through a service-facing endpoint (**/messages/servicebound/feedback**) as messages.</span></span> <span data-ttu-id="8ee49-160">hello szemantikáját visszajelzés fogadására vannak hello ugyanaz, mint a felhő-eszközre küldött üzenetek és hello azonos [üzenet életciklus][lnk-lifecycle].</span><span class="sxs-lookup"><span data-stu-id="8ee49-160">hello semantics for receiving feedback are hello same as for cloud-to-device messages, and have hello same [Message lifecycle][lnk-lifecycle].</span></span> <span data-ttu-id="8ee49-161">Amikor csak lehetséges, üzenet visszajelzés egyetlen üzenetben van kötegelni a hello a következő formátumban:</span><span class="sxs-lookup"><span data-stu-id="8ee49-161">Whenever possible, message feedback is batched in a single message, with hello following format:</span></span>

| <span data-ttu-id="8ee49-162">Tulajdonság</span><span class="sxs-lookup"><span data-stu-id="8ee49-162">Property</span></span>     | <span data-ttu-id="8ee49-163">Leírás</span><span class="sxs-lookup"><span data-stu-id="8ee49-163">Description</span></span> |
| ------------ | ----------- |
| <span data-ttu-id="8ee49-164">EnqueuedTime</span><span class="sxs-lookup"><span data-stu-id="8ee49-164">EnqueuedTime</span></span> | <span data-ttu-id="8ee49-165">Üdvözlőüzenetére létrehozásának jelző időbélyegző.</span><span class="sxs-lookup"><span data-stu-id="8ee49-165">Timestamp indicating when hello message was created.</span></span> |
| <span data-ttu-id="8ee49-166">Felhasználói azonosítóját</span><span class="sxs-lookup"><span data-stu-id="8ee49-166">UserId</span></span>       | `{iot hub name}` |
| <span data-ttu-id="8ee49-167">A ContentType</span><span class="sxs-lookup"><span data-stu-id="8ee49-167">ContentType</span></span>  | `application/vnd.microsoft.iothub.feedback.json` |

<span data-ttu-id="8ee49-168">hello törzse JSON-szerializált tömbje rögzíti, az alábbi tulajdonságokkal hello:</span><span class="sxs-lookup"><span data-stu-id="8ee49-168">hello body is a JSON-serialized array of records, each with hello following properties:</span></span>

| <span data-ttu-id="8ee49-169">Tulajdonság</span><span class="sxs-lookup"><span data-stu-id="8ee49-169">Property</span></span>           | <span data-ttu-id="8ee49-170">Leírás</span><span class="sxs-lookup"><span data-stu-id="8ee49-170">Description</span></span> |
| ------------------ | ----------- |
| <span data-ttu-id="8ee49-171">EnqueuedTimeUtc</span><span class="sxs-lookup"><span data-stu-id="8ee49-171">EnqueuedTimeUtc</span></span>    | <span data-ttu-id="8ee49-172">Mikor történt a üdvözlőüzenetére hello eredményét jelző időbélyegző.</span><span class="sxs-lookup"><span data-stu-id="8ee49-172">Timestamp indicating when hello outcome of hello message happened.</span></span> <span data-ttu-id="8ee49-173">Például az eszköz befejezte hello, vagy üdvözlőüzenetére lejárt.</span><span class="sxs-lookup"><span data-stu-id="8ee49-173">For example, hello device completed or hello message expired.</span></span> |
| <span data-ttu-id="8ee49-174">originalMessageId</span><span class="sxs-lookup"><span data-stu-id="8ee49-174">OriginalMessageId</span></span>  | <span data-ttu-id="8ee49-175">**MessageId** hello felhő-eszközre küldött üzenetek toowhich a visszajelzési információk vonatkozik.</span><span class="sxs-lookup"><span data-stu-id="8ee49-175">**MessageId** of hello cloud-to-device message toowhich this feedback information relates.</span></span> |
| <span data-ttu-id="8ee49-176">statusCode</span><span class="sxs-lookup"><span data-stu-id="8ee49-176">StatusCode</span></span>         | <span data-ttu-id="8ee49-177">Szükséges karakterlánc.</span><span class="sxs-lookup"><span data-stu-id="8ee49-177">Required string.</span></span> <span data-ttu-id="8ee49-178">Az IoT-központ által generált visszajelzés üzenetekben használatos.</span><span class="sxs-lookup"><span data-stu-id="8ee49-178">Used in feedback messages generated by IoT Hub.</span></span> <br/> <span data-ttu-id="8ee49-179">"Sikeres"</span><span class="sxs-lookup"><span data-stu-id="8ee49-179">'Success'</span></span> <br/> <span data-ttu-id="8ee49-180">"A lejárt"</span><span class="sxs-lookup"><span data-stu-id="8ee49-180">'Expired'</span></span> <br/> <span data-ttu-id="8ee49-181">"DeliveryCountExceeded"</span><span class="sxs-lookup"><span data-stu-id="8ee49-181">'DeliveryCountExceeded'</span></span> <br/> <span data-ttu-id="8ee49-182">"Visszautasított"</span><span class="sxs-lookup"><span data-stu-id="8ee49-182">'Rejected'</span></span> <br/> <span data-ttu-id="8ee49-183">"Kiürítve"</span><span class="sxs-lookup"><span data-stu-id="8ee49-183">'Purged'</span></span> |
| <span data-ttu-id="8ee49-184">Leírás</span><span class="sxs-lookup"><span data-stu-id="8ee49-184">Description</span></span>        | <span data-ttu-id="8ee49-185">Karakterlánc-értékek **StatusCode**.</span><span class="sxs-lookup"><span data-stu-id="8ee49-185">String values for **StatusCode**.</span></span> |
| <span data-ttu-id="8ee49-186">Eszközazonosító</span><span class="sxs-lookup"><span data-stu-id="8ee49-186">DeviceId</span></span>           | <span data-ttu-id="8ee49-187">**DeviceId** hello céleszköz a hello felhő-eszközre küldött üzenetek toowhich a visszajelzésekben vonatkozik.</span><span class="sxs-lookup"><span data-stu-id="8ee49-187">**DeviceId** of hello target device of hello cloud-to-device message toowhich this piece of feedback relates.</span></span> |
| <span data-ttu-id="8ee49-188">DeviceGenerationId</span><span class="sxs-lookup"><span data-stu-id="8ee49-188">DeviceGenerationId</span></span> | <span data-ttu-id="8ee49-189">**DeviceGenerationId** hello céleszköz a hello felhő-eszközre küldött üzenetek toowhich a visszajelzésekben vonatkozik.</span><span class="sxs-lookup"><span data-stu-id="8ee49-189">**DeviceGenerationId** of hello target device of hello cloud-to-device message toowhich this piece of feedback relates.</span></span> |

<span data-ttu-id="8ee49-190">hello szolgáltatást meg kell adnia egy **MessageId** a hello felhő eszközre üzenet toobe képes toocorrelate a visszajelzés hello eredeti üzenettel.</span><span class="sxs-lookup"><span data-stu-id="8ee49-190">hello service must specify a **MessageId** for hello cloud-to-device message toobe able toocorrelate its feedback with hello original message.</span></span>

<span data-ttu-id="8ee49-191">hello következő példa bemutatja hello visszajelzés üzenet törzsét.</span><span class="sxs-lookup"><span data-stu-id="8ee49-191">hello following example shows hello body of a feedback message.</span></span>

```json
[
  {
    "OriginalMessageId": "0987654321",
    "EnqueuedTimeUtc": "2015-07-28T16:24:48.789Z",
    "StatusCode": 0,
    "Description": "Success",
    "DeviceId": "123",
    "DeviceGenerationId": "abcdefghijklmnopqrstuvwxyz"
  },
  {
    ...
  },
  ...
]
```

## <a name="cloud-to-device-configuration-options"></a><span data-ttu-id="8ee49-192">Felhő-eszköz konfigurációs beállítások</span><span class="sxs-lookup"><span data-stu-id="8ee49-192">Cloud-to-device configuration options</span></span>

<span data-ttu-id="8ee49-193">Minden egyes IoT-központ mutatja meg a következő konfigurációs beállításokat a felhőből eszközre üzenetek hello:</span><span class="sxs-lookup"><span data-stu-id="8ee49-193">Each IoT hub exposes hello following configuration options for cloud-to-device messaging:</span></span>

| <span data-ttu-id="8ee49-194">Tulajdonság</span><span class="sxs-lookup"><span data-stu-id="8ee49-194">Property</span></span>                  | <span data-ttu-id="8ee49-195">Leírás</span><span class="sxs-lookup"><span data-stu-id="8ee49-195">Description</span></span> | <span data-ttu-id="8ee49-196">Tartomány- és alapértelmezett</span><span class="sxs-lookup"><span data-stu-id="8ee49-196">Range and default</span></span> |
| ------------------------- | ----------- | ----------------- |
| <span data-ttu-id="8ee49-197">defaultTtlAsIso8601</span><span class="sxs-lookup"><span data-stu-id="8ee49-197">defaultTtlAsIso8601</span></span>       | <span data-ttu-id="8ee49-198">Felhő-eszközre küldött üzenetek alapértelmezett élettartam.</span><span class="sxs-lookup"><span data-stu-id="8ee49-198">Default TTL for cloud-to-device messages.</span></span> | <span data-ttu-id="8ee49-199">Másolatot too2D ISO_8601 időköz (legalább 1 perc).</span><span class="sxs-lookup"><span data-stu-id="8ee49-199">ISO_8601 interval up too2D (minimum 1 minute).</span></span> <span data-ttu-id="8ee49-200">Alapértelmezett: 1 óra.</span><span class="sxs-lookup"><span data-stu-id="8ee49-200">Default: 1 hour.</span></span> |
| <span data-ttu-id="8ee49-201">maxDeliveryCount</span><span class="sxs-lookup"><span data-stu-id="8ee49-201">maxDeliveryCount</span></span>          | <span data-ttu-id="8ee49-202">Felhő eszközre eszközönkénti sorok maximális száma.</span><span class="sxs-lookup"><span data-stu-id="8ee49-202">Maximum delivery count for cloud-to-device per-device queues.</span></span> | <span data-ttu-id="8ee49-203">1 too100.</span><span class="sxs-lookup"><span data-stu-id="8ee49-203">1 too100.</span></span> <span data-ttu-id="8ee49-204">Alapértelmezett: 10.</span><span class="sxs-lookup"><span data-stu-id="8ee49-204">Default: 10.</span></span> |
| <span data-ttu-id="8ee49-205">feedback.ttlAsIso8601</span><span class="sxs-lookup"><span data-stu-id="8ee49-205">feedback.ttlAsIso8601</span></span>     | <span data-ttu-id="8ee49-206">Szolgáltatás adathoz kötött visszajelzés üzenetek megőrzési.</span><span class="sxs-lookup"><span data-stu-id="8ee49-206">Retention for service-bound feedback messages.</span></span> | <span data-ttu-id="8ee49-207">Másolatot too2D ISO_8601 időköz (legalább 1 perc).</span><span class="sxs-lookup"><span data-stu-id="8ee49-207">ISO_8601 interval up too2D (minimum 1 minute).</span></span> <span data-ttu-id="8ee49-208">Alapértelmezett: 1 óra.</span><span class="sxs-lookup"><span data-stu-id="8ee49-208">Default: 1 hour.</span></span> |
| <span data-ttu-id="8ee49-209">feedback.maxDeliveryCount</span><span class="sxs-lookup"><span data-stu-id="8ee49-209">feedback.maxDeliveryCount</span></span> |<span data-ttu-id="8ee49-210">A visszajelzési üzenetsor maximális száma.</span><span class="sxs-lookup"><span data-stu-id="8ee49-210">Maximum delivery count for feedback queue.</span></span> | <span data-ttu-id="8ee49-211">1 too100.</span><span class="sxs-lookup"><span data-stu-id="8ee49-211">1 too100.</span></span> <span data-ttu-id="8ee49-212">Alapértelmezett: 100.</span><span class="sxs-lookup"><span data-stu-id="8ee49-212">Default: 100.</span></span> |

<span data-ttu-id="8ee49-213">További információ a hogyan tooset a konfigurációs beállításokról: [létrehozása IoT-központok][lnk-portal].</span><span class="sxs-lookup"><span data-stu-id="8ee49-213">For more information about how tooset these configuration options, see [Create IoT hubs][lnk-portal].</span></span>

## <a name="next-steps"></a><span data-ttu-id="8ee49-214">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="8ee49-214">Next steps</span></span>

<span data-ttu-id="8ee49-215">Információ a hello SDK-k használata a tooreceive felhő eszközre üzenetek, hogy [Azure IoT SDK-k][lnk-sdks].</span><span class="sxs-lookup"><span data-stu-id="8ee49-215">For information about hello SDKs you can use tooreceive cloud-to-device messages, see [Azure IoT SDKs][lnk-sdks].</span></span>

<span data-ttu-id="8ee49-216">tootry ki felhő-eszközre küldött üzenetek fogadását, lásd: hello [küldése eszközre felhő] [ lnk-c2d-tutorial] oktatóanyag.</span><span class="sxs-lookup"><span data-stu-id="8ee49-216">tootry out receiving cloud-to-device messages, see hello [Send cloud-to-device][lnk-c2d-tutorial] tutorial.</span></span>

[img-lifecycle]: ./media/iot-hub-devguide-messages-c2d/lifecycle.png

[lnk-portal]: iot-hub-create-through-portal.md
[lnk-c2d-guidance]: iot-hub-devguide-c2d-guidance.md
[lnk-endpoints]: iot-hub-devguide-endpoints.md
[lnk-sdks]: iot-hub-devguide-sdks.md
[lnk-ttl]: #message-expiration-time-to-live
[lnk-c2d-configuration]: #cloud-to-device-configuration-options
[lnk-lifecycle]: #message-lifecycle
[lnk-c2d-tutorial]: iot-hub-csharp-csharp-c2d.md
