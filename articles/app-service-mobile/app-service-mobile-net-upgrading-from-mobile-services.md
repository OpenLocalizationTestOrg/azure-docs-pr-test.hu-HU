---
title: "Frissítés a Mobile Services az Azure App Service"
description: "Ismerje meg a Mobile Services alkalmazás az App Service Mobile Apps könnyen frissítése"
services: app-service\mobile
documentationcenter: 
author: ggailey777
manager: syntaxc4
editor: 
ms.assetid: 9c0ac353-afb6-462b-ab94-d91b8247322f
ms.service: app-service-mobile
ms.workload: mobile
ms.tgt_pltfrm: mobile
ms.devlang: dotnet
ms.topic: article
ms.date: 10/01/2016
ms.author: glenga
ms.openlocfilehash: 81173b34d0d3b07c5c49d867b1dc5060c7311f12
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 08/03/2017
---
# <a name="upgrade-your-existing-net-azure-mobile-service-to-app-service"></a><span data-ttu-id="36e80-103">Frissítse a meglévő .NET Azure Mobile szolgáltatást az App Service</span><span class="sxs-lookup"><span data-stu-id="36e80-103">Upgrade your existing .NET Azure Mobile Service to App Service</span></span>
<span data-ttu-id="36e80-104">App Service Mobile új módja a Microsoft Azure használatával mobil alkalmazásokat hozhatnak létre.</span><span class="sxs-lookup"><span data-stu-id="36e80-104">App Service Mobile is a new way to build mobile applications using Microsoft Azure.</span></span> <span data-ttu-id="36e80-105">További tudnivalókért lásd: [Mik azok a Mobile Apps?].</span><span class="sxs-lookup"><span data-stu-id="36e80-105">To learn more, see [What are Mobile Apps?].</span></span>

<span data-ttu-id="36e80-106">Ez a témakör ismerteti az Azure Mobile Services .NET háttérrendszer meglévő alkalmazás frissítése egy új App Service Mobile Apps.</span><span class="sxs-lookup"><span data-stu-id="36e80-106">This topic describes how to upgrade an existing .NET backend application from Azure Mobile Services to a new App Service Mobile Apps.</span></span> <span data-ttu-id="36e80-107">Ez a frissítés végrehajtása során a meglévő Mobile Services alkalmazás továbbra is működik.</span><span class="sxs-lookup"><span data-stu-id="36e80-107">While you perform this upgrade, your existing Mobile Services application can continue to operate.</span></span>   <span data-ttu-id="36e80-108">Ha frissítenie kell a Node.js a háttéralkalmazás, tekintse meg a [a Node.js Mobile Services frissítése](app-service-mobile-node-backend-upgrading-from-mobile-services.md).</span><span class="sxs-lookup"><span data-stu-id="36e80-108">If you need to upgrade a Node.js backend application, refer to [Upgrading your Node.js Mobile Services](app-service-mobile-node-backend-upgrading-from-mobile-services.md).</span></span>

<span data-ttu-id="36e80-109">A mobil-háttéralkalmazást frissítésekor az Azure App Service alkalmazás szolgáltatás minden funkcióját hozzáféréssel rendelkezik, és számlázása a következők szerint [App Service díjszabás], nem a Mobile Services díjszabása.</span><span class="sxs-lookup"><span data-stu-id="36e80-109">When a mobile backend is upgraded to Azure App Service, it has access to all App Service features and are billed according to [App Service pricing], not Mobile Services pricing.</span></span>

## <a name="migrate-vs-upgrade"></a><span data-ttu-id="36e80-110">Frissítése és áttelepítése</span><span class="sxs-lookup"><span data-stu-id="36e80-110">Migrate vs. upgrade</span></span>
[!INCLUDE [app-service-mobile-migrate-vs-upgrade](../../includes/app-service-mobile-migrate-vs-upgrade.md)]

> [!TIP]
> <span data-ttu-id="36e80-111">Javasoljuk, hogy [áttelepítés](app-service-mobile-migrating-from-mobile-services.md) áthaladás a frissítés előtt.</span><span class="sxs-lookup"><span data-stu-id="36e80-111">It is recommended that you [perform a migration](app-service-mobile-migrating-from-mobile-services.md) before going through an upgrade.</span></span> <span data-ttu-id="36e80-112">Ezzel a módszerrel után az alkalmazás mindkét verziója helyezhető el a azonos App Service-csomag is fel Önnek további költség nélkül.</span><span class="sxs-lookup"><span data-stu-id="36e80-112">This way, you can put both versions of your application on the same App Service Plan and incur no additional cost.</span></span>
>
>

### <a name="improvements-in-mobile-apps-net-server-sdk"></a><span data-ttu-id="36e80-113">A Mobile Apps .NET server SDK fejlesztései</span><span class="sxs-lookup"><span data-stu-id="36e80-113">Improvements in Mobile Apps .NET server SDK</span></span>
<span data-ttu-id="36e80-114">Az új frissítés [Mobile Apps SDK](https://www.nuget.org/packages/Microsoft.Azure.Mobile.Server/) a következő előnyöket biztosítja:</span><span class="sxs-lookup"><span data-stu-id="36e80-114">Upgrading to the new [Mobile Apps SDK](https://www.nuget.org/packages/Microsoft.Azure.Mobile.Server/) provides the following benefits:</span></span>

* <span data-ttu-id="36e80-115">Nagyobb rugalmasság a NuGet-függőségek.</span><span class="sxs-lookup"><span data-stu-id="36e80-115">More flexibility on NuGet dependencies.</span></span> <span data-ttu-id="36e80-116">Az üzemeltetési környezetben már nem biztosítja a saját NuGet-csomagok verziói, így alternatív kompatibilis verziója is használhatja.</span><span class="sxs-lookup"><span data-stu-id="36e80-116">The hosting environment no longer provides its own versions of NuGet packages, so you can use alternative compatible versions.</span></span> <span data-ttu-id="36e80-117">Azonban ha vannak új kritikus bugfixes vagy biztonsági frissítéseket, hogy a Mobile Server SDK-t vagy a függőségeket, kézzel kell frissítenie a szolgáltatáshoz.</span><span class="sxs-lookup"><span data-stu-id="36e80-117">However, if there are new critical bugfixes or security updates to the Mobile Server SDK or dependencies, you must update your service manually.</span></span>
* <span data-ttu-id="36e80-118">A mobilalkalmazás SDK nagyobb rugalmasság.</span><span class="sxs-lookup"><span data-stu-id="36e80-118">More flexibility in the mobile SDK.</span></span> <span data-ttu-id="36e80-119">Explicit módon szabályozhatja a fejlesztendő funkciók és a útvonalakat, például a hitelesítés, tábla API-k és a leküldéses regisztrációs végpont.</span><span class="sxs-lookup"><span data-stu-id="36e80-119">You can explicitly control which features and routes are set up, such as authentication, table APIs, and the push registration endpoint.</span></span> <span data-ttu-id="36e80-120">További tudnivalókért lásd: [használata a .NET-kiszolgáló SDK az Azure Mobile Apps](app-service-mobile-dotnet-backend-how-to-use-server-sdk.md).</span><span class="sxs-lookup"><span data-stu-id="36e80-120">To learn more, see [How to use the .NET server SDK for Azure Mobile Apps](app-service-mobile-dotnet-backend-how-to-use-server-sdk.md).</span></span>
* <span data-ttu-id="36e80-121">Más típusú ASP.NET-projekt és az útvonalak támogatása.</span><span class="sxs-lookup"><span data-stu-id="36e80-121">Support for other ASP.NET project types and routes.</span></span> <span data-ttu-id="36e80-122">Üzemeltethető MVC és a Web API vezérlők, a mobil háttéralkalmazás-projekt ugyanabban a projektben.</span><span class="sxs-lookup"><span data-stu-id="36e80-122">You can now host MVC and Web API controllers in the same project as your mobile backend project.</span></span>
* <span data-ttu-id="36e80-123">Új App Service hitelesítési szolgáltatások, amelyek lehetővé teszik, hogy egy közös hitelesítési konfigurációt használja a webes és mobilalkalmazások támogatása.</span><span class="sxs-lookup"><span data-stu-id="36e80-123">Support for new App Service authentication features, which allow you to use a common authentication configuration across your web and mobile apps.</span></span>

## <span data-ttu-id="36e80-124"><a name="overview"></a>Alapszintű frissítési áttekintése</span><span class="sxs-lookup"><span data-stu-id="36e80-124"><a name="overview"></a>Basic upgrade overview</span></span>
<span data-ttu-id="36e80-125">Sok esetben frissítése lesz más dolga, mint az új Mobile Apps SDK kiszolgálóra, és a közzététel a kódot egy új Mobile Apps-példányt.</span><span class="sxs-lookup"><span data-stu-id="36e80-125">In many cases, upgrading will be as simple as switching to the new Mobile Apps server SDK and republishing your code onto a new Mobile App instance.</span></span> <span data-ttu-id="36e80-126">Vannak, azonban néhány olyan forgatókönyvet, amely további konfigurálást, például a speciális hitelesítési forgatókönyvek és a szükséges ütemezett feladatokat.</span><span class="sxs-lookup"><span data-stu-id="36e80-126">There are, however some scenarios which will require some additional configuration, such as advanced authentication scenarios and working with scheduled jobs.</span></span> <span data-ttu-id="36e80-127">Ezen a későbbi szakaszokban vonatkozik.</span><span class="sxs-lookup"><span data-stu-id="36e80-127">Each of these is covered in the later sections.</span></span>

> [!TIP]
> <span data-ttu-id="36e80-128">Javasoljuk, hogy olvassa el, és ez a témakör hátralévő része teljesen megérteni a frissítés megkezdése előtt.</span><span class="sxs-lookup"><span data-stu-id="36e80-128">It is advised that you read and understand the rest of this topic completely before starting an upgrade.</span></span> <span data-ttu-id="36e80-129">Jegyezze fel minden funkcióját használja alatt elnevezése.</span><span class="sxs-lookup"><span data-stu-id="36e80-129">Make note of any features you use which are called out below.</span></span>
>
>

<span data-ttu-id="36e80-130">A Mobile Services-ügyfél SDK-k vannak **nem** kompatibilis az új Mobile Apps SDK kiszolgálóval.</span><span class="sxs-lookup"><span data-stu-id="36e80-130">The Mobile Services client SDKs are **not** compatible with the new Mobile Apps server SDK.</span></span> <span data-ttu-id="36e80-131">Adja meg az alkalmazás szolgáltatási folytonosság érdekében, hogy nem módosításokat kell közzétenni, a hely jelenleg a közzétett ügyfelek szolgál.</span><span class="sxs-lookup"><span data-stu-id="36e80-131">In order to provide continuity of service for your app, you should not publish changes to a site currently serving published clients.</span></span> <span data-ttu-id="36e80-132">Ehelyett kell hozzon létre egy új mobil-alkalmazást, amely duplikált funkcionál.</span><span class="sxs-lookup"><span data-stu-id="36e80-132">Instead, you should create a new mobile app that serves as a duplicate.</span></span> <span data-ttu-id="36e80-133">Ez az alkalmazás a járulékos költségekkel megcélzásával elkerülheti az azonos App Service-csomag helyezhet el.</span><span class="sxs-lookup"><span data-stu-id="36e80-133">You can put this application on the same App Service plan to avoid incurring additional financial cost.</span></span>

<span data-ttu-id="36e80-134">Ezután meg kell az alkalmazás két verziója: a helyettesítő és egyéb, amely ezután frissítheti és egy új ügyfél kiadással cél olyanra, amelyben ugyanaz marad, és működik közzétett alkalmazást.</span><span class="sxs-lookup"><span data-stu-id="36e80-134">You will then have two versions of the application: one which stays the same and serves published apps in the wild, and the other which you can then upgrade and target with a new client release.</span></span> <span data-ttu-id="36e80-135">Helyezze át, és tesztelheti a kódját a ütemben, de meg kell győződnie arról, hogy bármely hibajavításokat tartalmaz, akkor mindkét érvényben.</span><span class="sxs-lookup"><span data-stu-id="36e80-135">You can move and test your code at your pace, but you should make sure that any bug fixes you make get applied to both.</span></span> <span data-ttu-id="36e80-136">Ha úgy véli, hogy a helyettesítő alkalmazásokat a legújabb verzióra frissítette ügyfél kívánt számát, törölheti az eredeti áttelepített alkalmazás ha felügyelni.</span><span class="sxs-lookup"><span data-stu-id="36e80-136">Once you feel that a desired number of client apps in the wild have updated to the latest version, you can delete the original migrated app if you desire.</span></span>

<span data-ttu-id="36e80-137">A teljes vázlat a frissítési folyamat a következőképpen történik:</span><span class="sxs-lookup"><span data-stu-id="36e80-137">The full outline for the upgrade process is as follows:</span></span>

1. <span data-ttu-id="36e80-138">Új mobileszköz-alkalmazás létrehozása</span><span class="sxs-lookup"><span data-stu-id="36e80-138">Create a new Mobile App</span></span>
2. <span data-ttu-id="36e80-139">Frissítés a projektet az új kiszolgáló SDK-k használata</span><span class="sxs-lookup"><span data-stu-id="36e80-139">Update the project to use the new Server SDKs</span></span>
3. <span data-ttu-id="36e80-140">Az ügyfél alkalmazás új verzióját</span><span class="sxs-lookup"><span data-stu-id="36e80-140">Release a new version of your client application</span></span>
4. <span data-ttu-id="36e80-141">(Választható) Az eredeti áttelepített példány törlése</span><span class="sxs-lookup"><span data-stu-id="36e80-141">(Optional) Delete your original migrated instance</span></span>

## <span data-ttu-id="36e80-142"><a name="mobile-app-version"></a>Egy második alkalmazáspéldány létrehozása</span><span class="sxs-lookup"><span data-stu-id="36e80-142"><a name="mobile-app-version"></a>Creating a second application instance</span></span>
<span data-ttu-id="36e80-143">Az első lépés frissítése, ha a mobilalkalmazás erőforrás futtatni az alkalmazás új verzióját.</span><span class="sxs-lookup"><span data-stu-id="36e80-143">The first step in upgrading is to create the Mobile App resource which will host the new version of your application.</span></span> <span data-ttu-id="36e80-144">Ha egy meglévő mobilszolgáltatás már áttelepített, célszerű ebben a verzióban az azonos üzemeltetési terv létrehozásához.</span><span class="sxs-lookup"><span data-stu-id="36e80-144">If you have already migrated an existing mobile service, you will want to create this version on the same hosting plan.</span></span> <span data-ttu-id="36e80-145">Nyissa meg a [Azure-portálon] , és keresse meg az áttelepített alkalmazás.</span><span class="sxs-lookup"><span data-stu-id="36e80-145">Open the [Azure portal] and navigate to your migrated application.</span></span> <span data-ttu-id="36e80-146">Jegyezze fel az App Service-csomag futtatása.</span><span class="sxs-lookup"><span data-stu-id="36e80-146">Make note of the App Service Plan it is running on.</span></span>

<span data-ttu-id="36e80-147">Következő lépésként hozzon létre a második alkalmazáspéldány a [.NET háttérrendszer létrehozásának utasításokat](app-service-mobile-dotnet-backend-how-to-use-server-sdk.md#create-app).</span><span class="sxs-lookup"><span data-stu-id="36e80-147">Next, create the second application instance by following the [.NET backend creation instructions](app-service-mobile-dotnet-backend-how-to-use-server-sdk.md#create-app).</span></span> <span data-ttu-id="36e80-148">Válassza ki a üzenet megjelenésekor a App Service-csomag vagy a "üzemeltetési terv" az áttelepített alkalmazás a csomag kiválasztása.</span><span class="sxs-lookup"><span data-stu-id="36e80-148">When prompted to select you App Service Plan or "hosting plan" choose the plan of your migrated application.</span></span>

<span data-ttu-id="36e80-149">Valószínűleg érdemes használni a ugyanazt az adatbázist és az értesítési központ, mint a Mobile Services.</span><span class="sxs-lookup"><span data-stu-id="36e80-149">You will likely want to use the same database and Notification Hub as you did in Mobile Services.</span></span> <span data-ttu-id="36e80-150">Ezek az értékek másolásához megnyitása [Azure-portálon] és az eredeti alkalmazásának megnyitásával, majd kattintson a **beállítások** > **Alkalmazásbeállítások**.</span><span class="sxs-lookup"><span data-stu-id="36e80-150">You can copy these values by opening [Azure portal] and navigating to the original application, then click **Settings** > **Application settings**.</span></span> <span data-ttu-id="36e80-151">A **kapcsolati karakterláncok**, másolása `MS_NotificationHubConnectionString` és `MS_TableConnectionString`.</span><span class="sxs-lookup"><span data-stu-id="36e80-151">Under **Connection Strings**, copy `MS_NotificationHubConnectionString` and `MS_TableConnectionString`.</span></span> <span data-ttu-id="36e80-152">Keresse meg az új hely frissítése, és illessze be őket, felülírja a meglévő értékkel.</span><span class="sxs-lookup"><span data-stu-id="36e80-152">Navigate to your new upgrade site and paste them in, overwriting any existing values.</span></span> <span data-ttu-id="36e80-153">Ismételje meg ezt a folyamatot minden más alkalmazás beállításait az alkalmazás igényeinek.</span><span class="sxs-lookup"><span data-stu-id="36e80-153">Repeat this process for any other application settings your app needs.</span></span> <span data-ttu-id="36e80-154">Ha nem használ az áttelepített szolgáltatás, a kapcsolati karakterláncokat és az alkalmazásbeállítások olvasható a **konfigurálása** a Mobile Services szakaszának lapon a [a klasszikus Azure portálon].</span><span class="sxs-lookup"><span data-stu-id="36e80-154">If not using a migrated service, you can read connection strings and app settings from the **Configure** tab of the Mobile Services section of the [Azure classic portal].</span></span>

<span data-ttu-id="36e80-155">Másolatot készít az ASP.NET-projekt az alkalmazáshoz, és tegye közzé az új hely.</span><span class="sxs-lookup"><span data-stu-id="36e80-155">Make a copy of the ASP.NET project for your application and publish it to your new site.</span></span> <span data-ttu-id="36e80-156">Egy másolatot az ügyfél frissíti az új URL-címet használ, ellenőrizze, hogy minden megfelelően működik-e.</span><span class="sxs-lookup"><span data-stu-id="36e80-156">Using a copy of your client application updated with the new URL, validate that everything works as expected.</span></span>

## <a name="updating-the-server-project"></a><span data-ttu-id="36e80-157">A kiszolgáló projekt frissítése</span><span class="sxs-lookup"><span data-stu-id="36e80-157">Updating the server project</span></span>
<span data-ttu-id="36e80-158">Mobile Apps biztosít egy új [Mobile App SDK-t Server] nagy részét a Mobile Services futásidejű azonos funkciókat biztosító.</span><span class="sxs-lookup"><span data-stu-id="36e80-158">Mobile Apps provides a new [Mobile App Server SDK] which provides much of the same functionality as the Mobile Services runtime.</span></span> <span data-ttu-id="36e80-159">Először el kell távolítania a Mobile Services csomagok mutató összes hivatkozást.</span><span class="sxs-lookup"><span data-stu-id="36e80-159">First, you should remove all references to the Mobile Services packages.</span></span> <span data-ttu-id="36e80-160">A NuGet-csomagkezelőjét, keresse meg a `WindowsAzure.MobileServices.Backend`.</span><span class="sxs-lookup"><span data-stu-id="36e80-160">In the NuGet package manager, search for `WindowsAzure.MobileServices.Backend`.</span></span> <span data-ttu-id="36e80-161">Legtöbb alkalmazást megjelenik itt, több csomagot, beleértve a `WindowsAzure.MobileServices.Backend.Tables` és `WindowsAzure.MobileServices.Backend.Entity`.</span><span class="sxs-lookup"><span data-stu-id="36e80-161">Most apps will see several packages here, including `WindowsAzure.MobileServices.Backend.Tables` and `WindowsAzure.MobileServices.Backend.Entity`.</span></span> <span data-ttu-id="36e80-162">Ebben az esetben indítsa el a legalacsonyabb csomag függőségi fa például `Entity`, és távolítsa el.</span><span class="sxs-lookup"><span data-stu-id="36e80-162">In such a case, start with the lowest package in the dependency tree, such as `Entity`, and remove it.</span></span> <span data-ttu-id="36e80-163">Amikor a rendszer kéri, ne távolítsa el az összes függő csomagot.</span><span class="sxs-lookup"><span data-stu-id="36e80-163">When prompted, do not remove all dependant packages.</span></span> <span data-ttu-id="36e80-164">Ismételje meg a folyamatot, amíg nem távolította el `WindowsAzure.MobileServices.Backend` magát.</span><span class="sxs-lookup"><span data-stu-id="36e80-164">Repeat this process until you have removed `WindowsAzure.MobileServices.Backend` itself.</span></span>

<span data-ttu-id="36e80-165">Ezen a ponton a projekt, amely már nem hivatkozik a Mobile Services SDK-k fog.</span><span class="sxs-lookup"><span data-stu-id="36e80-165">At this point you will have a project that no longer references Mobile Services SDKs.</span></span>

<span data-ttu-id="36e80-166">Ezután adhat a Mobile Apps SDK hivatkozik.</span><span class="sxs-lookup"><span data-stu-id="36e80-166">Next you will add references the Mobile Apps SDK.</span></span> <span data-ttu-id="36e80-167">Ehhez a frissítéshez legtöbb fejlesztő érdemes töltse le és telepítse a `Microsoft.Azure.Mobile.Server.Quickstart` csomagot, mivel ez fogja lekérni a teljes szükséges készletében.</span><span class="sxs-lookup"><span data-stu-id="36e80-167">For this upgrade, most developers will want to download and install the `Microsoft.Azure.Mobile.Server.Quickstart` package, as this will pull in the entire required set.</span></span>

<span data-ttu-id="36e80-168">Az SDK-k közötti különbségek eredő számos fordítóprogram-hibákkal lesz, de ezek egyszerű címre, és a többi ebben a szakaszban ismertetett.</span><span class="sxs-lookup"><span data-stu-id="36e80-168">There will be quite a few compiler errors resulting from differences between the SDKs, but these are easy to address and are covered in the rest of this section.</span></span>

### <a name="base-configuration"></a><span data-ttu-id="36e80-169">Alapkonfiguráció</span><span class="sxs-lookup"><span data-stu-id="36e80-169">Base configuration</span></span>
<span data-ttu-id="36e80-170">Ezt követően WebApiConfig.cs, módosíthatja:</span><span class="sxs-lookup"><span data-stu-id="36e80-170">Then, in WebApiConfig.cs, you can replace:</span></span>

        // Use this class to set configuration options for your mobile service
        ConfigOptions options = new ConfigOptions();

        // Use this class to set WebAPI configuration options
        HttpConfiguration config = ServiceConfig.Initialize(new ConfigBuilder(options));

<span data-ttu-id="36e80-171">a</span><span class="sxs-lookup"><span data-stu-id="36e80-171">with</span></span>

        HttpConfiguration config = new HttpConfiguration();
        new MobileAppConfiguration()
            .UseDefaultConfiguration()
        .ApplyTo(config);

> [!NOTE]
> <span data-ttu-id="36e80-172">Ha szeretne Útmutató: további információk az új kiszolgáló .NET SDK és funkciók hozzáadása/eltávolítása az alkalmazásból, olvassa el a [használata a .NET SDK server] témakör.</span><span class="sxs-lookup"><span data-stu-id="36e80-172">If you wish to learn more about the new .NET server SDK and how to add/remove features from your app, please see the [How to use the .NET server SDK] topic.</span></span>
>
>

<span data-ttu-id="36e80-173">Ha az alkalmazás lehetővé teszi a hitelesítési szolgáltatások használatához is szüksége lesz egy OWIN köztes regisztrálni.</span><span class="sxs-lookup"><span data-stu-id="36e80-173">If your app makes use of the authentication features, you will also need to register an OWIN middleware.</span></span> <span data-ttu-id="36e80-174">Ebben az esetben a fenti konfigurációs kódot kell áthelyezi egy új OWIN indítási osztályt.</span><span class="sxs-lookup"><span data-stu-id="36e80-174">In this case, you should move the above configuration code into a new OWIN Startup class.</span></span>

1. <span data-ttu-id="36e80-175">Adja hozzá a NuGet-csomag `Microsoft.Owin.Host.SystemWeb` Ha már nincs belefoglalva a projektben.</span><span class="sxs-lookup"><span data-stu-id="36e80-175">Add the NuGet package `Microsoft.Owin.Host.SystemWeb` if it is not already included in your project.</span></span>
2. <span data-ttu-id="36e80-176">A Visual Studióban, kattintson a jobb gombbal a projekt, és válassza ki **Hozzáadás** -> **új elem**.</span><span class="sxs-lookup"><span data-stu-id="36e80-176">In Visual Studio, right click on your project and select **Add** -> **New Item**.</span></span> <span data-ttu-id="36e80-177">Válassza ki **webes** -> **általános** -> **OWIN indítási osztály**.</span><span class="sxs-lookup"><span data-stu-id="36e80-177">Select **Web** -> **General** -> **OWIN Startup class**.</span></span>
3. <span data-ttu-id="36e80-178">Helyezze el a fenti kódot a MobileAppConfiguration a `WebApiConfig.Register()` számára a `Configuration()` az új indítási osztály.</span><span class="sxs-lookup"><span data-stu-id="36e80-178">Move the above code for MobileAppConfiguration from `WebApiConfig.Register()` to the `Configuration()` method of your new startup class.</span></span>

<span data-ttu-id="36e80-179">Győződjön meg arról, hogy a `Configuration()` metódus végződik:</span><span class="sxs-lookup"><span data-stu-id="36e80-179">Make sure the `Configuration()` method ends with:</span></span>

        app.UseWebApi(config)
        app.UseAppServiceAuthentication(config);

<span data-ttu-id="36e80-180">Hitelesítéshez kapcsolódó alábbi teljes hitelesítési szakasz megakadályozására szolgáló további módosítások vannak.</span><span class="sxs-lookup"><span data-stu-id="36e80-180">There are additional changes related to authentication which are covered in the full authentication section below.</span></span>

### <a name="working-with-data"></a><span data-ttu-id="36e80-181">Adatok használata</span><span class="sxs-lookup"><span data-stu-id="36e80-181">Working with Data</span></span>
<span data-ttu-id="36e80-182">A Mobile Services szolgáltatásban az a mobilalkalmazás nevét, az alapértelmezett séma nevét az Entity Framework beállítása a szolgáltatott.</span><span class="sxs-lookup"><span data-stu-id="36e80-182">In Mobile Services, the mobile app name served as the default schema name in the Entity Framework setup.</span></span>

<span data-ttu-id="36e80-183">Annak érdekében, hogy rendelkezik-e az azonos sémából hivatkozott előtti, az alkalmazás DbContext beállítani a séma a következő használata:</span><span class="sxs-lookup"><span data-stu-id="36e80-183">To ensure that you have the same schema being referenced as before, use the following to set the schema in the DbContext for your application:</span></span>

        string schema = System.Configuration.ConfigurationManager.AppSettings.Get("MS_MobileServiceName");

<span data-ttu-id="36e80-184">Győződjön meg arról, hogy MS_MobileServiceName állítja be, ha a fenti teheti meg.</span><span class="sxs-lookup"><span data-stu-id="36e80-184">Please make sure you have MS_MobileServiceName set if you do the above.</span></span> <span data-ttu-id="36e80-185">Ha az alkalmazás korábban testreszabott ez is megadhatja egy másik sémanév.</span><span class="sxs-lookup"><span data-stu-id="36e80-185">You can also provide another schema name if your application customized this previously.</span></span>

### <a name="system-properties"></a><span data-ttu-id="36e80-186">Rendszer tulajdonságai</span><span class="sxs-lookup"><span data-stu-id="36e80-186">System Properties</span></span>
#### <a name="naming"></a><span data-ttu-id="36e80-187">Elnevezés</span><span class="sxs-lookup"><span data-stu-id="36e80-187">Naming</span></span>
<span data-ttu-id="36e80-188">Az Azure Mobile Services-kiszolgáló SDK, a rendszer tulajdonságai mindig tartalmaznak dupla aláhúzás (`__`) a Tulajdonságok előtag:</span><span class="sxs-lookup"><span data-stu-id="36e80-188">In the Azure Mobile Services server SDK, system properties always contain a double underscore (`__`) prefix for the properties:</span></span>

* <span data-ttu-id="36e80-189">__createdAt</span><span class="sxs-lookup"><span data-stu-id="36e80-189">__createdAt</span></span>
* <span data-ttu-id="36e80-190">__updatedAt</span><span class="sxs-lookup"><span data-stu-id="36e80-190">__updatedAt</span></span>
* <span data-ttu-id="36e80-191">__deleted</span><span class="sxs-lookup"><span data-stu-id="36e80-191">__deleted</span></span>
* <span data-ttu-id="36e80-192">__version</span><span class="sxs-lookup"><span data-stu-id="36e80-192">__version</span></span>

<span data-ttu-id="36e80-193">A Mobile Services-ügyfél SDK-k különleges logikát elemzésekor a rendszer tulajdonságai ebben a formátumban van.</span><span class="sxs-lookup"><span data-stu-id="36e80-193">The Mobile Services client SDKs have special logic for parsing system properties in this format.</span></span>

<span data-ttu-id="36e80-194">Az Azure Mobile Apps már nem a rendszer tulajdonságai egy különleges formátumú névvel rendelkeznek, és a következő:</span><span class="sxs-lookup"><span data-stu-id="36e80-194">In Azure Mobile Apps, system properties no longer have a special format and have the following names:</span></span>

* <span data-ttu-id="36e80-195">createdAt</span><span class="sxs-lookup"><span data-stu-id="36e80-195">createdAt</span></span>
* <span data-ttu-id="36e80-196">updatedAt</span><span class="sxs-lookup"><span data-stu-id="36e80-196">updatedAt</span></span>
* <span data-ttu-id="36e80-197">törölve</span><span class="sxs-lookup"><span data-stu-id="36e80-197">deleted</span></span>
* <span data-ttu-id="36e80-198">Verzió</span><span class="sxs-lookup"><span data-stu-id="36e80-198">version</span></span>

<span data-ttu-id="36e80-199">A Mobile Apps-ügyfél SDK-k az új tulajdonságok neveket, használ, így nem végez módosítást Ügyfélkód szükséges.</span><span class="sxs-lookup"><span data-stu-id="36e80-199">The Mobile Apps client SDKs use the new system properties names, so no changes are required to client code.</span></span> <span data-ttu-id="36e80-200">Azonban ha a szolgáltatás REST-hívások közvetlenül teszi majd módosítania kell a lekérdezések ennek megfelelően.</span><span class="sxs-lookup"><span data-stu-id="36e80-200">However, if you are directly making REST calls to your service then you should change your queries accordingly.</span></span>

#### <a name="local-store"></a><span data-ttu-id="36e80-201">Helyi tárolóból.</span><span class="sxs-lookup"><span data-stu-id="36e80-201">Local store</span></span>
<span data-ttu-id="36e80-202">A módosítások a rendszer tulajdonságainak nevében jelenti azt, hogy egy kapcsolat nélküli szinkronizálás a Mobile Services helyi adatbázis nem kompatibilis a Mobile Apps.</span><span class="sxs-lookup"><span data-stu-id="36e80-202">The changes to the names of system properties mean that an offline sync local database for Mobile Services is not compatible with Mobile Apps.</span></span> <span data-ttu-id="36e80-203">Ha lehetséges ne alkalmazások a Mobile Services után csak a Mobile Apps függőben lévő módosítások a kiszolgálóra küldött ügyfél frissítése.</span><span class="sxs-lookup"><span data-stu-id="36e80-203">If possible, you should avoid upgrading client apps from Mobile Services to Mobile Apps until after pending changes have been sent to the server.</span></span> <span data-ttu-id="36e80-204">A frissített alkalmazás ezt követően egy új adatbázis fájlneve kell használni.</span><span class="sxs-lookup"><span data-stu-id="36e80-204">Then, the upgraded app should use a new database filename.</span></span>

<span data-ttu-id="36e80-205">Ha egy ügyfélalkalmazás nem frissíti a Mobile Services Mobile Apps amíg vannak függőben lévő módosítások offline állapotban a művelet sorban, majd a rendszer adatbázis frissíteni kell az új oszlopnevek használatára.</span><span class="sxs-lookup"><span data-stu-id="36e80-205">If a client app is upgraded from Mobile Services to Mobile Apps while there are pending offline changes in the operation queue, then the system database must be updated to use the new column names.</span></span> <span data-ttu-id="36e80-206">IOS rendszerű eszközökön ez elérhető egyszerűsített áttelepítések használatával módosíthatja az oszlopok neveit.</span><span class="sxs-lookup"><span data-stu-id="36e80-206">On iOS, this can be achieved using lightweight migrations to change the column names.</span></span> <span data-ttu-id="36e80-207">Android és a felügyelt .NET-ügyfélen az adatok objektum táblák oszlopait átnevezése egyéni SQL kell írni.</span><span class="sxs-lookup"><span data-stu-id="36e80-207">On Android and the .NET managed client, you should write custom SQL to rename the columns for your data object tables.</span></span>

<span data-ttu-id="36e80-208">IOS rendszerű eszközökön módosítania kell a Core adatsémája nem támogatott az adatok entitások megfelelően a következő.</span><span class="sxs-lookup"><span data-stu-id="36e80-208">On iOS, you should change your Core Data schema for your data entities to match the following.</span></span> <span data-ttu-id="36e80-209">Vegye figyelembe, hogy a Tulajdonságok `createdAt`, `updatedAt` és `version` már nem rendelkezik egy `ms_` előtagja:</span><span class="sxs-lookup"><span data-stu-id="36e80-209">Note that the properties `createdAt`, `updatedAt` and `version` no longer have an `ms_` prefix:</span></span>

| <span data-ttu-id="36e80-210">Attribútum</span><span class="sxs-lookup"><span data-stu-id="36e80-210">Attribute</span></span> | <span data-ttu-id="36e80-211">Típus</span><span class="sxs-lookup"><span data-stu-id="36e80-211">Type</span></span> | <span data-ttu-id="36e80-212">Megjegyzés</span><span class="sxs-lookup"><span data-stu-id="36e80-212">Note</span></span> |
| --- | --- | --- |
| <span data-ttu-id="36e80-213">id</span><span class="sxs-lookup"><span data-stu-id="36e80-213">id</span></span> |<span data-ttu-id="36e80-214">Karakterlánc, kötelezőként megjelölt</span><span class="sxs-lookup"><span data-stu-id="36e80-214">String, marked required</span></span> |<span data-ttu-id="36e80-215">elsődleges távoli tárolóban levő kulccsal.</span><span class="sxs-lookup"><span data-stu-id="36e80-215">primary key in remote store</span></span> |
| <span data-ttu-id="36e80-216">createdAt</span><span class="sxs-lookup"><span data-stu-id="36e80-216">createdAt</span></span> |<span data-ttu-id="36e80-217">Dátum</span><span class="sxs-lookup"><span data-stu-id="36e80-217">Date</span></span> |<span data-ttu-id="36e80-218">(választható) képeződik le createdAt rendszer tulajdonság</span><span class="sxs-lookup"><span data-stu-id="36e80-218">(optional) maps to createdAt system property</span></span> |
| <span data-ttu-id="36e80-219">updatedAt</span><span class="sxs-lookup"><span data-stu-id="36e80-219">updatedAt</span></span> |<span data-ttu-id="36e80-220">Dátum</span><span class="sxs-lookup"><span data-stu-id="36e80-220">Date</span></span> |<span data-ttu-id="36e80-221">(választható) képeződik le updatedAt rendszer tulajdonság</span><span class="sxs-lookup"><span data-stu-id="36e80-221">(optional) maps to updatedAt system property</span></span> |
| <span data-ttu-id="36e80-222">Verzió</span><span class="sxs-lookup"><span data-stu-id="36e80-222">version</span></span> |<span data-ttu-id="36e80-223">Karakterlánc</span><span class="sxs-lookup"><span data-stu-id="36e80-223">String</span></span> |<span data-ttu-id="36e80-224">(választható) annak észlelésére használnak, ütközéseket, maps verzióra</span><span class="sxs-lookup"><span data-stu-id="36e80-224">(optional) used to detect conflicts, maps to version</span></span> |

#### <a name="querying-system-properties"></a><span data-ttu-id="36e80-225">A Rendszertulajdonságok lekérdezése</span><span class="sxs-lookup"><span data-stu-id="36e80-225">Querying system properties</span></span>
<span data-ttu-id="36e80-226">Azure Mobile Services, a rendszer tulajdonságai nem kap alapértelmezés szerint, de csak akkor, amikor erre felkérést kapnak a lekérdezési karakterlánc használatával `__systemProperties`.</span><span class="sxs-lookup"><span data-stu-id="36e80-226">In Azure Mobile Services, system properties are not sent by default, but only when they are requested using the query string `__systemProperties`.</span></span> <span data-ttu-id="36e80-227">Ezzel szemben az Azure Mobile Apps rendszer tulajdonságainak vannak **mindig ki** , mert a kiszolgáló SDK objektummodell részét képezik.</span><span class="sxs-lookup"><span data-stu-id="36e80-227">In contrast, in Azure Mobile Apps system properties are **always selected** since they are part of the server SDK object model.</span></span>

<span data-ttu-id="36e80-228">Ez a változás főként hatással van a tartomány-kezelő bővítményének egyéni implementációja `MappedEntityDomainManager`.</span><span class="sxs-lookup"><span data-stu-id="36e80-228">This change mainly impacts custom implementations of domain managers, such as extensions of `MappedEntityDomainManager`.</span></span> <span data-ttu-id="36e80-229">A Mobile Services szolgáltatásban, ha egy ügyfél soha nem kér a rendszer tulajdonságai is lehet használni egy `MappedEntityDomainManager` , amelyek nem tényleges képezze le az összes tulajdonságait.</span><span class="sxs-lookup"><span data-stu-id="36e80-229">In Mobile Services, if a client never requests any system properties, it is possible to use a `MappedEntityDomainManager` that does not actually map all properties.</span></span> <span data-ttu-id="36e80-230">Azonban az Azure Mobile Apps, a nem leképezett tulajdonságok hibát okoz a GET-lekérdezésekben.</span><span class="sxs-lookup"><span data-stu-id="36e80-230">However, in Azure Mobile Apps, these unmapped properties will cause an error in GET queries.</span></span>

<span data-ttu-id="36e80-231">A probléma megoldásához legegyszerűbb módja a a DTOs módosítása, hogy azok örökölhet `ITableData` helyett `EntityData`.</span><span class="sxs-lookup"><span data-stu-id="36e80-231">The easiest way to resolve the issue is to modify your DTOs so that they inherit from `ITableData` instead of `EntityData`.</span></span> <span data-ttu-id="36e80-232">Adja hozzá a `[NotMapped]` attribútumot a mezőket, amelyeknek megadni.</span><span class="sxs-lookup"><span data-stu-id="36e80-232">Then, add the `[NotMapped]` attribute to the fields that should be omitted.</span></span>

<span data-ttu-id="36e80-233">Például a következő meghatározása `TodoItem` rendszer tulajdonságok nélkül:</span><span class="sxs-lookup"><span data-stu-id="36e80-233">For example, the following defines `TodoItem` with no system properties:</span></span>

    using System.ComponentModel.DataAnnotations.Schema;

    public class TodoItem : ITableData
    {
        public string Text { get; set; }

        public bool Complete { get; set; }

        public string Id { get; set; }

        [NotMapped]
        public DateTimeOffset? CreatedAt { get; set; }

        [NotMapped]
        public DateTimeOffset? UpdatedAt { get; set; }

        [NotMapped]
        public bool Deleted { get; set; }

        [NotMapped]
        public byte[] Version { get; set; }
    }

<span data-ttu-id="36e80-234">Megjegyzés: Ha hibaüzenet jelenik meg `NotMapped`, adjon hozzá egy hivatkozást a szerelvényre `System.ComponentModel.DataAnnotations`.</span><span class="sxs-lookup"><span data-stu-id="36e80-234">Note: if you get errors on `NotMapped`, add a reference to the assembly `System.ComponentModel.DataAnnotations`.</span></span>

### <a name="cors"></a><span data-ttu-id="36e80-235">CORS</span><span class="sxs-lookup"><span data-stu-id="36e80-235">CORS</span></span>
<span data-ttu-id="36e80-236">Mobile Services használatával az ASP.NET a CORS-megoldás néhány CORS támogatása tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="36e80-236">Mobile Services included some support for CORS by wrapping the ASP.NET CORS solution.</span></span> <span data-ttu-id="36e80-237">Az alkalmazásburkoló réteg el lett távolítva, így a fejlesztők további szabályozhatja, így közvetlenül hasznosíthatja [ASP.NET CORS-támogatás](http://www.asp.net/web-api/overview/security/enabling-cross-origin-requests-in-web-api).</span><span class="sxs-lookup"><span data-stu-id="36e80-237">This wrapping layer has been removed to give the developer more control, so you can directly leverage [ASP.NET CORS support](http://www.asp.net/web-api/overview/security/enabling-cross-origin-requests-in-web-api).</span></span>

<span data-ttu-id="36e80-238">A fő a problémás területeket. Ha a CORS használatával, amelyek a `eTag` és `Location` fejlécek engedélyezni kell ahhoz, hogy az ügyfél SDK-k megfelelően működjön.</span><span class="sxs-lookup"><span data-stu-id="36e80-238">The main areas of concern if using CORS are that the `eTag` and `Location` headers must be allowed in order for the client SDKs to work properly.</span></span>

### <a name="push-notifications"></a><span data-ttu-id="36e80-239">Leküldéses értesítések</span><span class="sxs-lookup"><span data-stu-id="36e80-239">Push Notifications</span></span>
<span data-ttu-id="36e80-240">Leküldéses azt tapasztalhatja hiányzik a kiszolgáló SDK fő elemet a PushRegistrationHandler osztály esetén.</span><span class="sxs-lookup"><span data-stu-id="36e80-240">For push, the main item that you may find missing from the Server SDK is the PushRegistrationHandler class.</span></span> <span data-ttu-id="36e80-241">Regisztráció a Mobile Apps kicsit másképp kezeli, és tagless regisztrációk alapértelmezés szerint engedélyezve vannak.</span><span class="sxs-lookup"><span data-stu-id="36e80-241">Registrations are handled slightly differently in Mobile Apps, and tagless registrations are enabled by default.</span></span> <span data-ttu-id="36e80-242">Címkék kezelése végezhető egyéni API-k használatával.</span><span class="sxs-lookup"><span data-stu-id="36e80-242">Managing tags may be accomplished by using custom APIs.</span></span> <span data-ttu-id="36e80-243">Tekintse meg a [címkék regisztrálása](app-service-mobile-dotnet-backend-how-to-use-server-sdk.md#tags) olvashat útmutatást.</span><span class="sxs-lookup"><span data-stu-id="36e80-243">Please see the [registering for tags](app-service-mobile-dotnet-backend-how-to-use-server-sdk.md#tags) instructions for more information.</span></span>

### <a name="scheduled-jobs"></a><span data-ttu-id="36e80-244">Ütemezett feladatok</span><span class="sxs-lookup"><span data-stu-id="36e80-244">Scheduled Jobs</span></span>
<span data-ttu-id="36e80-245">Ütemezett feladatok nem beépített mobileszköz-alkalmazások esetén, külön-külön kell frissíteni kell a .NET-háttérrendszer található meglévő feladatokat.</span><span class="sxs-lookup"><span data-stu-id="36e80-245">Scheduled jobs are not built into Mobile Apps, so any existing jobs that you have in your .NET backend will need to be upgraded individually.</span></span> <span data-ttu-id="36e80-246">Egy lehetőség létrehozni egy ütemezett [webes projekt] a Mobile Apps kód helyen.</span><span class="sxs-lookup"><span data-stu-id="36e80-246">One option is to create a scheduled [Web Job] on the Mobile App code site.</span></span> <span data-ttu-id="36e80-247">Is képes állítson be egy tartományvezérlőre, amely tárolja a feladat kódot, és konfigurálja a [Azure Scheduler] érni az adott végpontra a várt ütemezés szerint.</span><span class="sxs-lookup"><span data-stu-id="36e80-247">You could also set up a controller that holds your job code and configure the [Azure Scheduler] to hit that endpoint on the expected schedule.</span></span>

### <a name="miscellaneous-changes"></a><span data-ttu-id="36e80-248">Egyéb változások</span><span class="sxs-lookup"><span data-stu-id="36e80-248">Miscellaneous changes</span></span>
<span data-ttu-id="36e80-249">Most már rendelkeznie kell az összes ApiControllers, amely egy mobil ügyfél fognak használni a `[MobileAppController]` attribútum.</span><span class="sxs-lookup"><span data-stu-id="36e80-249">All ApiControllers which will be consumed by a mobile client must now have the `[MobileAppController]` attribute.</span></span> <span data-ttu-id="36e80-250">Ez már nem veszi fel alapértelmezés szerint így a többi ApiControllers, hogy nyissa meg a mobil is érinti.</span><span class="sxs-lookup"><span data-stu-id="36e80-250">This is no longer included by default so that other ApiControllers to go unaffected by the mobile formatters.</span></span>

<span data-ttu-id="36e80-251">A `ApiServices` objektum már nem része az SDK-t.</span><span class="sxs-lookup"><span data-stu-id="36e80-251">The `ApiServices` object is no longer part of the SDK.</span></span> <span data-ttu-id="36e80-252">Mobilalkalmazás beállítások eléréséhez a következőket használhatja:</span><span class="sxs-lookup"><span data-stu-id="36e80-252">To access Mobile App settings, you can use the following:</span></span>

    MobileAppSettingsDictionary settings = this.Configuration.GetMobileAppSettingsProvider().GetMobileAppSettings();

<span data-ttu-id="36e80-253">Hasonlóképpen naplózási most teszi lehetővé az ASP.NET nyomkövetési írását normál:</span><span class="sxs-lookup"><span data-stu-id="36e80-253">Similarly, logging is now accomplished using the standard ASP.NET trace writing:</span></span>

    ITraceWriter traceWriter = this.Configuration.Services.GetTraceWriter();
    traceWriter.Info("Hello, World");  

## <span data-ttu-id="36e80-254"><a name="authentication"></a>Hitelesítési kapcsolatos szempontok</span><span class="sxs-lookup"><span data-stu-id="36e80-254"><a name="authentication"></a>Authentication considerations</span></span>
<span data-ttu-id="36e80-255">A Mobile Services hitelesítés összetevői most helyezte el azokat a hitelesítési/engedélyezési App Service szolgáltatást.</span><span class="sxs-lookup"><span data-stu-id="36e80-255">The authentication components of Mobile Services have now been moved into the App Service Authentication/Authorization feature.</span></span> <span data-ttu-id="36e80-256">Ez a webhely engedélyezéséhez olvasásával megismerheti a [hitelesítés hozzáadása a mobilalkalmazás](app-service-mobile-ios-get-started-users.md) témakör.</span><span class="sxs-lookup"><span data-stu-id="36e80-256">You can learn about enabling this for your site by reading the [Add authentication to your mobile app](app-service-mobile-ios-get-started-users.md) topic.</span></span>

<span data-ttu-id="36e80-257">Az egyes szolgáltatók – például az aad-ben, a Facebook-on és a Google kihasználhatják a meglévő regisztrációs a másolási alkalmazásból kell lennie.</span><span class="sxs-lookup"><span data-stu-id="36e80-257">For some providers, such as AAD, Facebook, and Google, you should be able to leverage the existing registration from your copy application.</span></span> <span data-ttu-id="36e80-258">Egyszerűen lépjen az identitásszolgáltató portálra, és egy új átirányítási URL-cím hozzáadása a regisztrációt.</span><span class="sxs-lookup"><span data-stu-id="36e80-258">You simply need to navigate to the identity provider's portal and add a new redirect URL to the registration.</span></span> <span data-ttu-id="36e80-259">App Service hitelesítési/engedélyezési konfigurálja az ügyfél-azonosító és a titkos kulcsot.</span><span class="sxs-lookup"><span data-stu-id="36e80-259">Then configure App Service Authentication/Authorization with the client ID and secret.</span></span>

### <a name="controller-action-authorization"></a><span data-ttu-id="36e80-260">A tartományvezérlő műveleti engedélyezési</span><span class="sxs-lookup"><span data-stu-id="36e80-260">Controller action authorization</span></span>
<span data-ttu-id="36e80-261">Minden példányát a `[AuthorizeLevel(AuthorizationLevel.User)]` attribútum most meg kell változtatni a szabványos ASP.NET használatának `[Authorize]` attribútum.</span><span class="sxs-lookup"><span data-stu-id="36e80-261">Any instances of the `[AuthorizeLevel(AuthorizationLevel.User)]` attribute must now be changed to use the standard ASP.NET `[Authorize]` attribute.</span></span> <span data-ttu-id="36e80-262">Emellett tartományvezérlők, névtelen alapértelmezett, mint más ASP.NET-alkalmazások.</span><span class="sxs-lookup"><span data-stu-id="36e80-262">Additionally, controllers are now Anonymous by default, as in other ASP.NET applications.</span></span>
<span data-ttu-id="36e80-263">Ha használta az más AuthorizeLevel beállítások, például a rendszergazda vagy az alkalmazás egyik vegye figyelembe, hogy ezek elvesznek.</span><span class="sxs-lookup"><span data-stu-id="36e80-263">If you were using one of the other AuthorizeLevel options, such as Admin or Application, please note that these are gone.</span></span> <span data-ttu-id="36e80-264">Helyezze a közös titkokat AuthorizationFilters beállítása, vagy konfigurálása az AAD szolgáltatás egyszerű szolgáltatások közötti hívások biztonságosan engedélyezéséhez.</span><span class="sxs-lookup"><span data-stu-id="36e80-264">You can instead set up AuthorizationFilters for shared secrets or configure an AAD Service Principal to enable service-to-service calls securely.</span></span>

### <a name="getting-additional-user-information"></a><span data-ttu-id="36e80-265">További felhasználói adatainak lekérése</span><span class="sxs-lookup"><span data-stu-id="36e80-265">Getting additional user information</span></span>
<span data-ttu-id="36e80-266">További felhasználói információkat, beleértve a hozzáférési jogkivonatok használatával kaphat a `GetAppServiceIdentityAsync()` módszert:</span><span class="sxs-lookup"><span data-stu-id="36e80-266">You can get additional user information, including access tokens through the `GetAppServiceIdentityAsync()` method:</span></span>

        FacebookCredentials creds = await this.User.GetAppServiceIdentityAsync<FacebookCredentials>();

<span data-ttu-id="36e80-267">Továbbá ha az alkalmazás függőségek tart a felhasználói azonosítót, például az adatbázisban tárolja őket, fontos megjegyezni, hogy a felhasználói azonosítók között a Mobile Services és az App Service Mobile Apps különböző.</span><span class="sxs-lookup"><span data-stu-id="36e80-267">Additionally, if your application takes dependencies on user IDs, such as storing them in a database, it is important to note that the user IDs between Mobile Services and App Service Mobile Apps are different.</span></span> <span data-ttu-id="36e80-268">A Mobile Services felhasználói Azonosítóját, azonban továbbra is megjelenik.</span><span class="sxs-lookup"><span data-stu-id="36e80-268">You can still get the Mobile Services User ID, though.</span></span> <span data-ttu-id="36e80-269">A UserId tulajdonság valamennyi ProviderCredentials alosztályát rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="36e80-269">All of the ProviderCredentials subclasses have a UserId property.</span></span> <span data-ttu-id="36e80-270">Így a folytatás előtt példa:</span><span class="sxs-lookup"><span data-stu-id="36e80-270">So continuing from the example before:</span></span>

        string mobileServicesUserId = creds.Provider + ":" + creds.UserId;

<span data-ttu-id="36e80-271">Ha az alkalmazás végrehajtása függőségek, a felhasználói azonosítót, akkor fontos, hogy is használja ugyanazt a regisztrációt egy identitásszolgáltatóval Ha lehetséges.</span><span class="sxs-lookup"><span data-stu-id="36e80-271">If your app does take any dependencies on user IDs, it is important that you leverage the same registration with an identity provider if possible.</span></span> <span data-ttu-id="36e80-272">Felhasználói azonosítók általában hatóköre az alkalmazás regisztrációja használt, így vezet be, egy új regisztrációs problémák felhasználók számára az adatok megfelelő sikerült létrehozni.</span><span class="sxs-lookup"><span data-stu-id="36e80-272">User IDs are typically scoped to the application registration that was used, so introducing a new registration could create problems with matching users to their data.</span></span>

### <a name="custom-authentication"></a><span data-ttu-id="36e80-273">Egyéni hitelesítési</span><span class="sxs-lookup"><span data-stu-id="36e80-273">Custom authentication</span></span>
<span data-ttu-id="36e80-274">Ha az alkalmazás egy egyéni hitelesítési megoldás használja, érdemes győződjön meg arról, hogy a frissített hely rendelkezik-e a hozzáférést a rendszerhez.</span><span class="sxs-lookup"><span data-stu-id="36e80-274">If your app is using a custom authentication solution, you will want to make sure that the upgraded site has access to the system.</span></span> <span data-ttu-id="36e80-275">Az egyéni hitelesítési új kövesse a [.NET SDK – áttekintés] integrálható a megoldás.</span><span class="sxs-lookup"><span data-stu-id="36e80-275">Follow the new instructions for custom authentication in the [.NET server SDK overview] to integrate your solution.</span></span> <span data-ttu-id="36e80-276">Vegye figyelembe, hogy az egyéni hitelesítési összetevők továbbra is a képen vannak-e.</span><span class="sxs-lookup"><span data-stu-id="36e80-276">Please note that the custom authentication components are still in preview.</span></span>

## <span data-ttu-id="36e80-277"><a name="updating-clients"></a>Ügyfelek frissítése</span><span class="sxs-lookup"><span data-stu-id="36e80-277"><a name="updating-clients"></a>Updating clients</span></span>
<span data-ttu-id="36e80-278">Miután egy operatív mobil-háttéralkalmazást, használhat az ügyfélalkalmazást, amely használ fel az új verziója.</span><span class="sxs-lookup"><span data-stu-id="36e80-278">Once you have an operational Mobile App backend, you can work on a new version of your client application which consumes it.</span></span> <span data-ttu-id="36e80-279">Mobile Apps is az ügyfél SDK-k új verzióját tartalmazza, és a kiszolgáló frissítése újabb hasonlóan kell távolítson el minden hivatkozást a Mobile Services SDK-k a Mobile Apps-verzió telepítése előtt.</span><span class="sxs-lookup"><span data-stu-id="36e80-279">Mobile Apps also includes a new version of the client SDKs, and similar to the server upgrade above, you will need to remove all references to the Mobile Services SDKs before installing the Mobile Apps versions.</span></span>

<span data-ttu-id="36e80-280">A verziók közötti fő módosítások egyike, hogy a konstruktor már nem szükséges egy alkalmazás-kulcsot.</span><span class="sxs-lookup"><span data-stu-id="36e80-280">One of the main changes between the versions is that the constructors no longer require an application key.</span></span> <span data-ttu-id="36e80-281">Most már egyszerűen adja meg a Mobile Apps URL-címét.</span><span class="sxs-lookup"><span data-stu-id="36e80-281">You now simply pass in the URL of your Mobile App.</span></span> <span data-ttu-id="36e80-282">Például a .NET-ügyfelek a `MobileServiceClient` konstruktor:</span><span class="sxs-lookup"><span data-stu-id="36e80-282">For example, on the .NET clients, the `MobileServiceClient` constructor is now:</span></span>

        public static MobileServiceClient MobileService = new MobileServiceClient(
            "https://contoso.azurewebsites.net", // URL of the Mobile App
        );

<span data-ttu-id="36e80-283">Az új SDK-k telepítéséről és használatáról az új struktúra keresztül a lenti hivatkozásokra kattintva olvashat:</span><span class="sxs-lookup"><span data-stu-id="36e80-283">You can read about installing the new SDKs and using the new structure via the links below:</span></span>

* [<span data-ttu-id="36e80-284">iOS-verzióval 3.0.0 vagy újabb verzió</span><span class="sxs-lookup"><span data-stu-id="36e80-284">iOS version 3.0.0 or later</span></span>](app-service-mobile-ios-how-to-use-client-library.md)
* [<span data-ttu-id="36e80-285">.NET (Windows/Xamarin) 2.0.0 verzió vagy újabb verzió</span><span class="sxs-lookup"><span data-stu-id="36e80-285">.NET (Windows/Xamarin) version 2.0.0 or later</span></span>](app-service-mobile-dotnet-how-to-use-client-library.md)

<span data-ttu-id="36e80-286">Ha az alkalmazás lehetővé teszi leküldéses értesítések használni, jegyezze fel a regisztráció utasítás minden egyes platformhoz, néhány módosítás történt hiba is.</span><span class="sxs-lookup"><span data-stu-id="36e80-286">If your application makes use of push notifications, make note of the specific registration instructions for each platform, as there have been some changes there as well.</span></span>

<span data-ttu-id="36e80-287">Ha készen áll az új ügyfél verziója, próbálja ki a frissített kiszolgálón projekthez.</span><span class="sxs-lookup"><span data-stu-id="36e80-287">When you have the new client version ready, try it out against your upgraded server project.</span></span> <span data-ttu-id="36e80-288">Ellenőrzése, hogy működik-e, miután az ügyfél számára az alkalmazás egy új verziója is megjelenhetnek.</span><span class="sxs-lookup"><span data-stu-id="36e80-288">After validating that it works, you can release a new version of your application to customers.</span></span> <span data-ttu-id="36e80-289">Előfordulhat Ha az ügyfelek rendelkezésére állt-e arra, hogy ezek a frissítések kap, törölheti a Mobile Services, verziószám: az alkalmazás.</span><span class="sxs-lookup"><span data-stu-id="36e80-289">Eventually, once your customers have had a chance to receive these updates, you can delete the Mobile Services version of your app.</span></span> <span data-ttu-id="36e80-290">Ezen a ponton teljesen frissítését egy App Service Mobile Apps a legújabb Mobile Apps-kiszolgáló SDK használatával.</span><span class="sxs-lookup"><span data-stu-id="36e80-290">At this point, you have completely upgraded to an App Service Mobile App using the latest Mobile Apps server SDK.</span></span>

<!-- URLs. -->

<span data-ttu-id="36e80-291">[Azure-portálon]: https://portal.azure.com/</span><span class="sxs-lookup"><span data-stu-id="36e80-291">[Azure portal]: https://portal.azure.com/</span></span>
<span data-ttu-id="36e80-292">[a klasszikus Azure portálon]: https://manage.windowsazure.com/</span><span class="sxs-lookup"><span data-stu-id="36e80-292">[Azure classic portal]: https://manage.windowsazure.com/</span></span>
<span data-ttu-id="36e80-293">[Mik azok a Mobile Apps?]: app-service-mobile-value-prop.md</span><span class="sxs-lookup"><span data-stu-id="36e80-293">[What are Mobile Apps?]: app-service-mobile-value-prop.md</span></span>
[I already use web sites and mobile services – how does App Service help me?]: /en-us/documentation/articles/app-service-mobile-value-prop-migration-from-mobile-services
<span data-ttu-id="36e80-294">[Mobile App SDK-t Server]: http://www.nuget.org/packages/microsoft.azure.mobile.server</span><span class="sxs-lookup"><span data-stu-id="36e80-294">[Mobile App Server SDK]: http://www.nuget.org/packages/microsoft.azure.mobile.server</span></span>
[Create a Mobile App]: app-service-mobile-xamarin-ios-get-started.md
[Add push notifications to your mobile app]: app-service-mobile-xamarin-ios-get-started-push.md
[Add authentication to your mobile app]: app-service-mobile-xamarin-ios-get-started-users.md
<span data-ttu-id="36e80-295">[Azure Scheduler]: /en-us/documentation/services/scheduler/</span><span class="sxs-lookup"><span data-stu-id="36e80-295">[Azure Scheduler]: /en-us/documentation/services/scheduler/</span></span>
<span data-ttu-id="36e80-296">[webes projekt]: ../app-service-web/websites-webjobs-resources.md</span><span class="sxs-lookup"><span data-stu-id="36e80-296">[Web Job]: ../app-service-web/websites-webjobs-resources.md</span></span>
<span data-ttu-id="36e80-297">[használata a .NET SDK server]: app-service-mobile-dotnet-backend-how-to-use-server-sdk.md</span><span class="sxs-lookup"><span data-stu-id="36e80-297">[How to use the .NET server SDK]: app-service-mobile-dotnet-backend-how-to-use-server-sdk.md</span></span>
[Migrate from Mobile Services to an App Service Mobile App]: app-service-mobile-migrating-from-mobile-services.md
[Migrate your existing Mobile Service to App Service]: app-service-mobile-migrating-from-mobile-services.md
<span data-ttu-id="36e80-298">[App Service díjszabás]: https://azure.microsoft.com/en-us/pricing/details/app-service/</span><span class="sxs-lookup"><span data-stu-id="36e80-298">[App Service pricing]: https://azure.microsoft.com/en-us/pricing/details/app-service/</span></span>
<span data-ttu-id="36e80-299">[.NET SDK – áttekintés]: app-service-mobile-dotnet-backend-how-to-use-server-sdk.md</span><span class="sxs-lookup"><span data-stu-id="36e80-299">[.NET server SDK overview]: app-service-mobile-dotnet-backend-how-to-use-server-sdk.md</span></span>
