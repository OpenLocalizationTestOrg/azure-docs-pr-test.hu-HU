---
title: az App Service Mobile Services tooAzure aaaUpgrade
description: "Ismerje meg, hogyan tooeasily frissítése a Mobile Services alkalmazás tooan App Service Mobile Apps"
services: app-service\mobile
documentationcenter: 
author: ggailey777
manager: syntaxc4
editor: 
ms.assetid: 9c0ac353-afb6-462b-ab94-d91b8247322f
ms.service: app-service-mobile
ms.workload: mobile
ms.tgt_pltfrm: mobile
ms.devlang: dotnet
ms.topic: article
ms.date: 10/01/2016
ms.author: glenga
ms.openlocfilehash: 2b75a1b824e8ef0d36c9053f2f19af051479f928
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="upgrade-your-existing-net-azure-mobile-service-tooapp-service"></a><span data-ttu-id="85f59-103">A meglévő .NET Azure Mobile Service tooApp szolgáltatás frissítése</span><span class="sxs-lookup"><span data-stu-id="85f59-103">Upgrade your existing .NET Azure Mobile Service tooApp Service</span></span>
<span data-ttu-id="85f59-104">App Service Mobile egy új módon toobuild alkalmazásokat a Microsoft Azure használatával.</span><span class="sxs-lookup"><span data-stu-id="85f59-104">App Service Mobile is a new way toobuild mobile applications using Microsoft Azure.</span></span> <span data-ttu-id="85f59-105">több, lásd: toolearn [Mik azok a Mobile Apps?].</span><span class="sxs-lookup"><span data-stu-id="85f59-105">toolearn more, see [What are Mobile Apps?].</span></span>

<span data-ttu-id="85f59-106">Ez a témakör ismerteti, hogyan tooupgrade egy meglévő .NET háttérrendszer alkalmazást az Azure Mobile Services tooa új App Service Mobile Apps.</span><span class="sxs-lookup"><span data-stu-id="85f59-106">This topic describes how tooupgrade an existing .NET backend application from Azure Mobile Services tooa new App Service Mobile Apps.</span></span> <span data-ttu-id="85f59-107">Ez a frissítés végrehajtása során a meglévő Mobile Services-alkalmazás tovább toooperate.</span><span class="sxs-lookup"><span data-stu-id="85f59-107">While you perform this upgrade, your existing Mobile Services application can continue toooperate.</span></span>   <span data-ttu-id="85f59-108">Ha egy Node.js a háttéralkalmazás tooupgrade van szüksége, tekintse meg a túl[a Node.js Mobile Services frissítése](app-service-mobile-node-backend-upgrading-from-mobile-services.md).</span><span class="sxs-lookup"><span data-stu-id="85f59-108">If you need tooupgrade a Node.js backend application, refer too[Upgrading your Node.js Mobile Services](app-service-mobile-node-backend-upgrading-from-mobile-services.md).</span></span>

<span data-ttu-id="85f59-109">Ha mobil-háttéralkalmazást frissített tooAzure App Service, rendelkezik-e hozzáférési tooall App Service-szolgáltatások és a számlázott szerint túl[App Service díjszabás], nem a Mobile Services díjszabása.</span><span class="sxs-lookup"><span data-stu-id="85f59-109">When a mobile backend is upgraded tooAzure App Service, it has access tooall App Service features and are billed according too[App Service pricing], not Mobile Services pricing.</span></span>

## <a name="migrate-vs-upgrade"></a><span data-ttu-id="85f59-110">Frissítése és áttelepítése</span><span class="sxs-lookup"><span data-stu-id="85f59-110">Migrate vs. upgrade</span></span>
[!INCLUDE [app-service-mobile-migrate-vs-upgrade](../../includes/app-service-mobile-migrate-vs-upgrade.md)]

> [!TIP]
> <span data-ttu-id="85f59-111">Javasoljuk, hogy [áttelepítés](app-service-mobile-migrating-from-mobile-services.md) áthaladás a frissítés előtt.</span><span class="sxs-lookup"><span data-stu-id="85f59-111">It is recommended that you [perform a migration](app-service-mobile-migrating-from-mobile-services.md) before going through an upgrade.</span></span> <span data-ttu-id="85f59-112">Így adhat meg az alkalmazás mindkét verziója azonos App Service-csomag hello és nem jelent többletköltséget fel Önnek.</span><span class="sxs-lookup"><span data-stu-id="85f59-112">This way, you can put both versions of your application on hello same App Service Plan and incur no additional cost.</span></span>
>
>

### <a name="improvements-in-mobile-apps-net-server-sdk"></a><span data-ttu-id="85f59-113">A Mobile Apps .NET server SDK fejlesztései</span><span class="sxs-lookup"><span data-stu-id="85f59-113">Improvements in Mobile Apps .NET server SDK</span></span>
<span data-ttu-id="85f59-114">Új toohello frissítése [Mobile Apps SDK](https://www.nuget.org/packages/Microsoft.Azure.Mobile.Server/) hello a következő előnyöket biztosítja:</span><span class="sxs-lookup"><span data-stu-id="85f59-114">Upgrading toohello new [Mobile Apps SDK](https://www.nuget.org/packages/Microsoft.Azure.Mobile.Server/) provides hello following benefits:</span></span>

* <span data-ttu-id="85f59-115">Nagyobb rugalmasság a NuGet-függőségek.</span><span class="sxs-lookup"><span data-stu-id="85f59-115">More flexibility on NuGet dependencies.</span></span> <span data-ttu-id="85f59-116">hello üzemeltetési környezet már nem nyújt a saját NuGet-csomagok verzióit, így alternatív kompatibilis verziója is használhatja.</span><span class="sxs-lookup"><span data-stu-id="85f59-116">hello hosting environment no longer provides its own versions of NuGet packages, so you can use alternative compatible versions.</span></span> <span data-ttu-id="85f59-117">Azonban ha vannak új kritikus bugfixes vagy biztonsági frissítések toohello Mobile Server SDK vagy függőségek, kézzel kell frissítenie a szolgáltatáshoz.</span><span class="sxs-lookup"><span data-stu-id="85f59-117">However, if there are new critical bugfixes or security updates toohello Mobile Server SDK or dependencies, you must update your service manually.</span></span>
* <span data-ttu-id="85f59-118">Nagyobb rugalmasságot biztosítanak a mobil SDK hello.</span><span class="sxs-lookup"><span data-stu-id="85f59-118">More flexibility in hello mobile SDK.</span></span> <span data-ttu-id="85f59-119">Explicit módon szabályozhatja a fejlesztendő funkciók és útvonalak vannak beállítva, például a hitelesítés, tábla API-kat, és leküldéses regisztrációs végpont hello.</span><span class="sxs-lookup"><span data-stu-id="85f59-119">You can explicitly control which features and routes are set up, such as authentication, table APIs, and hello push registration endpoint.</span></span> <span data-ttu-id="85f59-120">több, lásd: toolearn [toouse hogyan .NET server SDK hello Azure Mobile Apps](app-service-mobile-dotnet-backend-how-to-use-server-sdk.md).</span><span class="sxs-lookup"><span data-stu-id="85f59-120">toolearn more, see [How toouse hello .NET server SDK for Azure Mobile Apps](app-service-mobile-dotnet-backend-how-to-use-server-sdk.md).</span></span>
* <span data-ttu-id="85f59-121">Más típusú ASP.NET-projekt és az útvonalak támogatása.</span><span class="sxs-lookup"><span data-stu-id="85f59-121">Support for other ASP.NET project types and routes.</span></span> <span data-ttu-id="85f59-122">A mobil-háttéralkalmazást projektként üzemeltethető ugyanaz a projekt hello MVC és a Web API tartományvezérlőinek.</span><span class="sxs-lookup"><span data-stu-id="85f59-122">You can now host MVC and Web API controllers in hello same project as your mobile backend project.</span></span>
* <span data-ttu-id="85f59-123">Támogatás az új App Service hitelesítési szolgáltatások, amelyek lehetővé teszik a webes és mobilalkalmazások toouse egy közös hitelesítési konfigurációt.</span><span class="sxs-lookup"><span data-stu-id="85f59-123">Support for new App Service authentication features, which allow you toouse a common authentication configuration across your web and mobile apps.</span></span>

## <span data-ttu-id="85f59-124"><a name="overview"></a>Alapszintű frissítési áttekintése</span><span class="sxs-lookup"><span data-stu-id="85f59-124"><a name="overview"></a>Basic upgrade overview</span></span>
<span data-ttu-id="85f59-125">Sok esetben frissítése lesz egyszerűen váltás toohello új Mobile Apps server SDK és a közzététel a kódot egy új Mobile Apps-példányt.</span><span class="sxs-lookup"><span data-stu-id="85f59-125">In many cases, upgrading will be as simple as switching toohello new Mobile Apps server SDK and republishing your code onto a new Mobile App instance.</span></span> <span data-ttu-id="85f59-126">Vannak, azonban néhány olyan forgatókönyvet, amely további konfigurálást, például a speciális hitelesítési forgatókönyvek és a szükséges ütemezett feladatokat.</span><span class="sxs-lookup"><span data-stu-id="85f59-126">There are, however some scenarios which will require some additional configuration, such as advanced authentication scenarios and working with scheduled jobs.</span></span> <span data-ttu-id="85f59-127">Ezek mindegyikének hello tárgyalja későbbi szakaszokban.</span><span class="sxs-lookup"><span data-stu-id="85f59-127">Each of these is covered in hello later sections.</span></span>

> [!TIP]
> <span data-ttu-id="85f59-128">Javasoljuk, hogy olvassa el, és teljesen tisztában hello a témakör hátralévő része a frissítés megkezdése előtt.</span><span class="sxs-lookup"><span data-stu-id="85f59-128">It is advised that you read and understand hello rest of this topic completely before starting an upgrade.</span></span> <span data-ttu-id="85f59-129">Jegyezze fel minden funkcióját használja alatt elnevezése.</span><span class="sxs-lookup"><span data-stu-id="85f59-129">Make note of any features you use which are called out below.</span></span>
>
>

<span data-ttu-id="85f59-130">hello Mobile Services-ügyfél SDK-k vannak **nem** hello új Mobile Apps server SDK kompatibilis.</span><span class="sxs-lookup"><span data-stu-id="85f59-130">hello Mobile Services client SDKs are **not** compatible with hello new Mobile Apps server SDK.</span></span> <span data-ttu-id="85f59-131">A sorrend tooprovide szolgáltatási folytonosság érdekében az alkalmazások nem módosítások tooa webhelyet jelenleg szolgál a közzétett ügyfelek kell közzétenni.</span><span class="sxs-lookup"><span data-stu-id="85f59-131">In order tooprovide continuity of service for your app, you should not publish changes tooa site currently serving published clients.</span></span> <span data-ttu-id="85f59-132">Ehelyett kell hozzon létre egy új mobil-alkalmazást, amely duplikált funkcionál.</span><span class="sxs-lookup"><span data-stu-id="85f59-132">Instead, you should create a new mobile app that serves as a duplicate.</span></span> <span data-ttu-id="85f59-133">Ez az alkalmazás helyezhet el hello a járulékos költségekkel nélül tooavoid ugyanaz az App Service tervezze meg.</span><span class="sxs-lookup"><span data-stu-id="85f59-133">You can put this application on hello same App Service plan tooavoid incurring additional financial cost.</span></span>

<span data-ttu-id="85f59-134">Ezután meg kell hello alkalmazás két verziója: egy mely nem hello azonos, és más, amely ezután frissítheti és a cél új ügyfél kiadását helyettesítő hello és hello közzétett alkalmazások szolgálja ki.</span><span class="sxs-lookup"><span data-stu-id="85f59-134">You will then have two versions of hello application: one which stays hello same and serves published apps in hello wild, and hello other which you can then upgrade and target with a new client release.</span></span> <span data-ttu-id="85f59-135">Helyezze át, és tesztelheti a kódját a ütemben, de meg kell győződnie arról, hogy a bármely hibajavításokat tartalmaz, akkor alkalmazott tooboth beolvasása.</span><span class="sxs-lookup"><span data-stu-id="85f59-135">You can move and test your code at your pace, but you should make sure that any bug fixes you make get applied tooboth.</span></span> <span data-ttu-id="85f59-136">Ha úgy véli, hogy helyettesítő hello ügyfél alkalmazások kívánt számát toohello legújabb verzióra frissítette, ha felügyelni hello eredeti áttelepített alkalmazás törlése.</span><span class="sxs-lookup"><span data-stu-id="85f59-136">Once you feel that a desired number of client apps in hello wild have updated toohello latest version, you can delete hello original migrated app if you desire.</span></span>

<span data-ttu-id="85f59-137">hello teljes vázlat hello frissítési folyamat a következőképpen történik:</span><span class="sxs-lookup"><span data-stu-id="85f59-137">hello full outline for hello upgrade process is as follows:</span></span>

1. <span data-ttu-id="85f59-138">Új mobileszköz-alkalmazás létrehozása</span><span class="sxs-lookup"><span data-stu-id="85f59-138">Create a new Mobile App</span></span>
2. <span data-ttu-id="85f59-139">Frissítés hello projekt toouse hello új Server SDK-k</span><span class="sxs-lookup"><span data-stu-id="85f59-139">Update hello project toouse hello new Server SDKs</span></span>
3. <span data-ttu-id="85f59-140">Az ügyfél alkalmazás új verzióját</span><span class="sxs-lookup"><span data-stu-id="85f59-140">Release a new version of your client application</span></span>
4. <span data-ttu-id="85f59-141">(Választható) Az eredeti áttelepített példány törlése</span><span class="sxs-lookup"><span data-stu-id="85f59-141">(Optional) Delete your original migrated instance</span></span>

## <span data-ttu-id="85f59-142"><a name="mobile-app-version"></a>Egy második alkalmazáspéldány létrehozása</span><span class="sxs-lookup"><span data-stu-id="85f59-142"><a name="mobile-app-version"></a>Creating a second application instance</span></span>
<span data-ttu-id="85f59-143">hello első lépéseként frissítése toocreate hello mobilalkalmazás erőforrás az alkalmazás új verziójának hello futtatni.</span><span class="sxs-lookup"><span data-stu-id="85f59-143">hello first step in upgrading is toocreate hello Mobile App resource which will host hello new version of your application.</span></span> <span data-ttu-id="85f59-144">Ha egy meglévő mobilszolgáltatás már áttelepített, célszerű toocreate hello ezen verzióját tartalmazó csomagot.</span><span class="sxs-lookup"><span data-stu-id="85f59-144">If you have already migrated an existing mobile service, you will want toocreate this version on hello same hosting plan.</span></span> <span data-ttu-id="85f59-145">Nyissa meg hello [Azure-portálon] , és keresse meg a tooyour alkalmazás át.</span><span class="sxs-lookup"><span data-stu-id="85f59-145">Open hello [Azure portal] and navigate tooyour migrated application.</span></span> <span data-ttu-id="85f59-146">Jegyezze fel az App Service-csomag futtatása hello.</span><span class="sxs-lookup"><span data-stu-id="85f59-146">Make note of hello App Service Plan it is running on.</span></span>

<span data-ttu-id="85f59-147">Ezután hozzon létre hello második alkalmazáspéldány által következő hello [.NET háttérrendszer létrehozásának utasításokat](app-service-mobile-dotnet-backend-how-to-use-server-sdk.md#create-app).</span><span class="sxs-lookup"><span data-stu-id="85f59-147">Next, create hello second application instance by following hello [.NET backend creation instructions](app-service-mobile-dotnet-backend-how-to-use-server-sdk.md#create-app).</span></span> <span data-ttu-id="85f59-148">Ha Ön App Service-csomagot, vagy "üzemeltetési terv" Válassza ki a kért tooselect hello az áttelepített alkalmazás tervét.</span><span class="sxs-lookup"><span data-stu-id="85f59-148">When prompted tooselect you App Service Plan or "hosting plan" choose hello plan of your migrated application.</span></span>

<span data-ttu-id="85f59-149">Érdemes toouse hello ugyanazt az adatbázist, és az értesítési központot, ha Ön volt a Mobile Services szolgáltatásban.</span><span class="sxs-lookup"><span data-stu-id="85f59-149">You will likely want toouse hello same database and Notification Hub as you did in Mobile Services.</span></span> <span data-ttu-id="85f59-150">Ezek az értékek másolásához megnyitása [Azure-portálon] és a Navigálás toohello eredeti alkalmazást, majd kattintson a **beállítások** > **Alkalmazásbeállítások**.</span><span class="sxs-lookup"><span data-stu-id="85f59-150">You can copy these values by opening [Azure portal] and navigating toohello original application, then click **Settings** > **Application settings**.</span></span> <span data-ttu-id="85f59-151">A **kapcsolati karakterláncok**, másolása `MS_NotificationHubConnectionString` és `MS_TableConnectionString`.</span><span class="sxs-lookup"><span data-stu-id="85f59-151">Under **Connection Strings**, copy `MS_NotificationHubConnectionString` and `MS_TableConnectionString`.</span></span> <span data-ttu-id="85f59-152">Keresse meg az új frissítési hely tooyour, és illessze be őket, felülírja a meglévő értékkel.</span><span class="sxs-lookup"><span data-stu-id="85f59-152">Navigate tooyour new upgrade site and paste them in, overwriting any existing values.</span></span> <span data-ttu-id="85f59-153">Ismételje meg ezt a folyamatot minden más alkalmazás beállításait az alkalmazás igényeinek.</span><span class="sxs-lookup"><span data-stu-id="85f59-153">Repeat this process for any other application settings your app needs.</span></span> <span data-ttu-id="85f59-154">Ha nem használ az áttelepített szolgáltatás, áttekintheti a kapcsolati karakterláncokat és Alkalmazásbeállítások a hello **konfigurálása** hello hello Mobile Services című lapján [a klasszikus Azure portálon].</span><span class="sxs-lookup"><span data-stu-id="85f59-154">If not using a migrated service, you can read connection strings and app settings from hello **Configure** tab of hello Mobile Services section of hello [Azure classic portal].</span></span>

<span data-ttu-id="85f59-155">Másolatot készít az ASP.NET-projekt hello az alkalmazáshoz, és tegye közzé tooyour új helyet.</span><span class="sxs-lookup"><span data-stu-id="85f59-155">Make a copy of hello ASP.NET project for your application and publish it tooyour new site.</span></span> <span data-ttu-id="85f59-156">Az ügyfélalkalmazás hello új URL-címet a frissített példányával, ellenőrizze, hogy minden megfelelően működik-e.</span><span class="sxs-lookup"><span data-stu-id="85f59-156">Using a copy of your client application updated with hello new URL, validate that everything works as expected.</span></span>

## <a name="updating-hello-server-project"></a><span data-ttu-id="85f59-157">Hello server projekt frissítése</span><span class="sxs-lookup"><span data-stu-id="85f59-157">Updating hello server project</span></span>
<span data-ttu-id="85f59-158">Mobile Apps biztosít egy új [Mobile App SDK-t Server] nagy részét hello biztosító funkcióját is hello Mobile Services futásidejű.</span><span class="sxs-lookup"><span data-stu-id="85f59-158">Mobile Apps provides a new [Mobile App Server SDK] which provides much of hello same functionality as hello Mobile Services runtime.</span></span> <span data-ttu-id="85f59-159">Először el kell távolítania minden hivatkozások toohello Mobile Services csomagok.</span><span class="sxs-lookup"><span data-stu-id="85f59-159">First, you should remove all references toohello Mobile Services packages.</span></span> <span data-ttu-id="85f59-160">A hello NuGet-Csomagkezelő, keresse meg a `WindowsAzure.MobileServices.Backend`.</span><span class="sxs-lookup"><span data-stu-id="85f59-160">In hello NuGet package manager, search for `WindowsAzure.MobileServices.Backend`.</span></span> <span data-ttu-id="85f59-161">Legtöbb alkalmazást megjelenik itt, több csomagot, beleértve a `WindowsAzure.MobileServices.Backend.Tables` és `WindowsAzure.MobileServices.Backend.Entity`.</span><span class="sxs-lookup"><span data-stu-id="85f59-161">Most apps will see several packages here, including `WindowsAzure.MobileServices.Backend.Tables` and `WindowsAzure.MobileServices.Backend.Entity`.</span></span> <span data-ttu-id="85f59-162">Ilyen esetben a kiindulási pont hello legalacsonyabb csomag hello függőségi fa, például `Entity`, és távolítsa el.</span><span class="sxs-lookup"><span data-stu-id="85f59-162">In such a case, start with hello lowest package in hello dependency tree, such as `Entity`, and remove it.</span></span> <span data-ttu-id="85f59-163">Amikor a rendszer kéri, ne távolítsa el az összes függő csomagot.</span><span class="sxs-lookup"><span data-stu-id="85f59-163">When prompted, do not remove all dependant packages.</span></span> <span data-ttu-id="85f59-164">Ismételje meg a folyamatot, amíg nem távolította el `WindowsAzure.MobileServices.Backend` magát.</span><span class="sxs-lookup"><span data-stu-id="85f59-164">Repeat this process until you have removed `WindowsAzure.MobileServices.Backend` itself.</span></span>

<span data-ttu-id="85f59-165">Ezen a ponton a projekt, amely már nem hivatkozik a Mobile Services SDK-k fog.</span><span class="sxs-lookup"><span data-stu-id="85f59-165">At this point you will have a project that no longer references Mobile Services SDKs.</span></span>

<span data-ttu-id="85f59-166">Ezután adhat hivatkozások hello Mobile Apps SDK-t.</span><span class="sxs-lookup"><span data-stu-id="85f59-166">Next you will add references hello Mobile Apps SDK.</span></span> <span data-ttu-id="85f59-167">Ehhez a frissítéshez legtöbb fejlesztő szeretné, hogy toodownload lesz, és telepítse a hello `Microsoft.Azure.Mobile.Server.Quickstart` csomagot, mivel ez fogja lekérni a hello teljes szükséges készlet.</span><span class="sxs-lookup"><span data-stu-id="85f59-167">For this upgrade, most developers will want toodownload and install hello `Microsoft.Azure.Mobile.Server.Quickstart` package, as this will pull in hello entire required set.</span></span>

<span data-ttu-id="85f59-168">Számos fordítóprogram-hibákkal eredő hello SDK-k közötti különbségek lesznek, de ezek könnyen tooaddress, és ez a szakasz többi hello tartoznak.</span><span class="sxs-lookup"><span data-stu-id="85f59-168">There will be quite a few compiler errors resulting from differences between hello SDKs, but these are easy tooaddress and are covered in hello rest of this section.</span></span>

### <a name="base-configuration"></a><span data-ttu-id="85f59-169">Alapkonfiguráció</span><span class="sxs-lookup"><span data-stu-id="85f59-169">Base configuration</span></span>
<span data-ttu-id="85f59-170">Ezt követően WebApiConfig.cs, módosíthatja:</span><span class="sxs-lookup"><span data-stu-id="85f59-170">Then, in WebApiConfig.cs, you can replace:</span></span>

        // Use this class tooset configuration options for your mobile service
        ConfigOptions options = new ConfigOptions();

        // Use this class tooset WebAPI configuration options
        HttpConfiguration config = ServiceConfig.Initialize(new ConfigBuilder(options));

<span data-ttu-id="85f59-171">a</span><span class="sxs-lookup"><span data-stu-id="85f59-171">with</span></span>

        HttpConfiguration config = new HttpConfiguration();
        new MobileAppConfiguration()
            .UseDefaultConfiguration()
        .ApplyTo(config);

> [!NOTE]
> <span data-ttu-id="85f59-172">Ha a toolearn többet hello új a .NET server SDK, és hogyan tooadd és törlése funkció az alkalmazásból, tekintse meg a hello [hogyan toouse hello .NET server SDK] témakör.</span><span class="sxs-lookup"><span data-stu-id="85f59-172">If you wish toolearn more about hello new .NET server SDK and how tooadd/remove features from your app, please see hello [How toouse hello .NET server SDK] topic.</span></span>
>
>

<span data-ttu-id="85f59-173">Ha az alkalmazás lehetővé teszi hello hitelesítési funkcióját használja, konfigurálnia kell egy OWIN köztes tooregister.</span><span class="sxs-lookup"><span data-stu-id="85f59-173">If your app makes use of hello authentication features, you will also need tooregister an OWIN middleware.</span></span> <span data-ttu-id="85f59-174">Ebben az esetben kell áthelyez hello konfigurációs kód fent egy új OWIN indítási osztályt.</span><span class="sxs-lookup"><span data-stu-id="85f59-174">In this case, you should move hello above configuration code into a new OWIN Startup class.</span></span>

1. <span data-ttu-id="85f59-175">Adja hozzá a NuGet-csomag hello `Microsoft.Owin.Host.SystemWeb` Ha már nincs belefoglalva a projektben.</span><span class="sxs-lookup"><span data-stu-id="85f59-175">Add hello NuGet package `Microsoft.Owin.Host.SystemWeb` if it is not already included in your project.</span></span>
2. <span data-ttu-id="85f59-176">A Visual Studióban, kattintson a jobb gombbal a projekt, és válassza ki **Hozzáadás** -> **új elem**.</span><span class="sxs-lookup"><span data-stu-id="85f59-176">In Visual Studio, right click on your project and select **Add** -> **New Item**.</span></span> <span data-ttu-id="85f59-177">Válassza ki **webes** -> **általános** -> **OWIN indítási osztály**.</span><span class="sxs-lookup"><span data-stu-id="85f59-177">Select **Web** -> **General** -> **OWIN Startup class**.</span></span>
3. <span data-ttu-id="85f59-178">Kód fent hello MobileAppConfiguration az áthelyezés `WebApiConfig.Register()` toohello `Configuration()` az új indítási osztály.</span><span class="sxs-lookup"><span data-stu-id="85f59-178">Move hello above code for MobileAppConfiguration from `WebApiConfig.Register()` toohello `Configuration()` method of your new startup class.</span></span>

<span data-ttu-id="85f59-179">Győződjön meg arról, hogy hello `Configuration()` metódus végződik:</span><span class="sxs-lookup"><span data-stu-id="85f59-179">Make sure hello `Configuration()` method ends with:</span></span>

        app.UseWebApi(config)
        app.UseAppServiceAuthentication(config);

<span data-ttu-id="85f59-180">Nincsenek további módosításokat kapcsolódó tooauthentication, amelyek hello teljes hitelesítést az alábbi részben szerepelnek.</span><span class="sxs-lookup"><span data-stu-id="85f59-180">There are additional changes related tooauthentication which are covered in hello full authentication section below.</span></span>

### <a name="working-with-data"></a><span data-ttu-id="85f59-181">Adatok használata</span><span class="sxs-lookup"><span data-stu-id="85f59-181">Working with Data</span></span>
<span data-ttu-id="85f59-182">A Mobile Services szolgáltatásban hello mobilalkalmazás neve hello alapértelmezett séma nevének a hello Entity Framework telepítő szolgált.</span><span class="sxs-lookup"><span data-stu-id="85f59-182">In Mobile Services, hello mobile app name served as hello default schema name in hello Entity Framework setup.</span></span>

<span data-ttu-id="85f59-183">tooensure, amelyekhez azonos hello séma hivatkozott azt korábban használata hello tooset hello séma hello DbContext az alkalmazás a következő:</span><span class="sxs-lookup"><span data-stu-id="85f59-183">tooensure that you have hello same schema being referenced as before, use hello following tooset hello schema in hello DbContext for your application:</span></span>

        string schema = System.Configuration.ConfigurationManager.AppSettings.Get("MS_MobileServiceName");

<span data-ttu-id="85f59-184">Győződjön meg arról, hogy be, ha az Ön hello fent MS_MobileServiceName.</span><span class="sxs-lookup"><span data-stu-id="85f59-184">Please make sure you have MS_MobileServiceName set if you do hello above.</span></span> <span data-ttu-id="85f59-185">Ha az alkalmazás korábban testreszabott ez is megadhatja egy másik sémanév.</span><span class="sxs-lookup"><span data-stu-id="85f59-185">You can also provide another schema name if your application customized this previously.</span></span>

### <a name="system-properties"></a><span data-ttu-id="85f59-186">Rendszer tulajdonságai</span><span class="sxs-lookup"><span data-stu-id="85f59-186">System Properties</span></span>
#### <a name="naming"></a><span data-ttu-id="85f59-187">Elnevezés</span><span class="sxs-lookup"><span data-stu-id="85f59-187">Naming</span></span>
<span data-ttu-id="85f59-188">Hello Azure Mobile Services-kiszolgáló SDK, a rendszer tulajdonságai mindig tartalmaznak dupla aláhúzás (`__`) hello tulajdonságok előtagja:</span><span class="sxs-lookup"><span data-stu-id="85f59-188">In hello Azure Mobile Services server SDK, system properties always contain a double underscore (`__`) prefix for hello properties:</span></span>

* <span data-ttu-id="85f59-189">__createdAt</span><span class="sxs-lookup"><span data-stu-id="85f59-189">__createdAt</span></span>
* <span data-ttu-id="85f59-190">__updatedAt</span><span class="sxs-lookup"><span data-stu-id="85f59-190">__updatedAt</span></span>
* <span data-ttu-id="85f59-191">__deleted</span><span class="sxs-lookup"><span data-stu-id="85f59-191">__deleted</span></span>
* <span data-ttu-id="85f59-192">__version</span><span class="sxs-lookup"><span data-stu-id="85f59-192">__version</span></span>

<span data-ttu-id="85f59-193">hello Mobile Services-ügyfél SDK-k különleges logikát elemzésekor a rendszer tulajdonságai ebben a formátumban van.</span><span class="sxs-lookup"><span data-stu-id="85f59-193">hello Mobile Services client SDKs have special logic for parsing system properties in this format.</span></span>

<span data-ttu-id="85f59-194">Az Azure Mobile Apps a rendszer tulajdonságai már nem kell egy speciális formátumú, és rendelkezik a következő neveket hello:</span><span class="sxs-lookup"><span data-stu-id="85f59-194">In Azure Mobile Apps, system properties no longer have a special format and have hello following names:</span></span>

* <span data-ttu-id="85f59-195">createdAt</span><span class="sxs-lookup"><span data-stu-id="85f59-195">createdAt</span></span>
* <span data-ttu-id="85f59-196">updatedAt</span><span class="sxs-lookup"><span data-stu-id="85f59-196">updatedAt</span></span>
* <span data-ttu-id="85f59-197">törölve</span><span class="sxs-lookup"><span data-stu-id="85f59-197">deleted</span></span>
* <span data-ttu-id="85f59-198">Verzió</span><span class="sxs-lookup"><span data-stu-id="85f59-198">version</span></span>

<span data-ttu-id="85f59-199">hello Mobile Apps ügyfél SDK-k hello új rendszer tulajdonságok nevek használata, így nincs szükség tooclient kódot.</span><span class="sxs-lookup"><span data-stu-id="85f59-199">hello Mobile Apps client SDKs use hello new system properties names, so no changes are required tooclient code.</span></span> <span data-ttu-id="85f59-200">Ha közvetlenül REST így meghívja a tooyour szolgáltatást, majd ennek megfelelően módosítsa a lekérdezéseket.</span><span class="sxs-lookup"><span data-stu-id="85f59-200">However, if you are directly making REST calls tooyour service then you should change your queries accordingly.</span></span>

#### <a name="local-store"></a><span data-ttu-id="85f59-201">Helyi tárolóból.</span><span class="sxs-lookup"><span data-stu-id="85f59-201">Local store</span></span>
<span data-ttu-id="85f59-202">hello módosítások toohello nevek tulajdonságainak jelenti azt, hogy egy kapcsolat nélküli szinkronizálás a Mobile Services helyi adatbázis nem kompatibilis a Mobile Apps.</span><span class="sxs-lookup"><span data-stu-id="85f59-202">hello changes toohello names of system properties mean that an offline sync local database for Mobile Services is not compatible with Mobile Apps.</span></span> <span data-ttu-id="85f59-203">Ha lehetséges ne a Mobile Services tooMobile alkalmazások amíg után függőben lévő módosítások elküldése toohello server ügyfélalkalmazások frissítése.</span><span class="sxs-lookup"><span data-stu-id="85f59-203">If possible, you should avoid upgrading client apps from Mobile Services tooMobile Apps until after pending changes have been sent toohello server.</span></span> <span data-ttu-id="85f59-204">Ezt követően hello frissített alkalmazás egy új adatbázis fájlneve kell használni.</span><span class="sxs-lookup"><span data-stu-id="85f59-204">Then, hello upgraded app should use a new database filename.</span></span>

<span data-ttu-id="85f59-205">Ha egy ügyfél-alkalmazást a Mobile Services tooMobile alkalmazások frissítve van, amíg vannak függőben lévő módosítások offline hello művelet sorban, majd hello rendszeradatbázis frissített toouse hello új oszlopnevek kell lennie.</span><span class="sxs-lookup"><span data-stu-id="85f59-205">If a client app is upgraded from Mobile Services tooMobile Apps while there are pending offline changes in hello operation queue, then hello system database must be updated toouse hello new column names.</span></span> <span data-ttu-id="85f59-206">IOS rendszerű eszközökön ez elérhető egyszerűsített áttelepítések toochange hello oszlopnevek használatával.</span><span class="sxs-lookup"><span data-stu-id="85f59-206">On iOS, this can be achieved using lightweight migrations toochange hello column names.</span></span> <span data-ttu-id="85f59-207">Android és hello .NET felügyelt ügyfél kell írt egyéni SQL toorename hello oszlopok a adattáblák objektum.</span><span class="sxs-lookup"><span data-stu-id="85f59-207">On Android and hello .NET managed client, you should write custom SQL toorename hello columns for your data object tables.</span></span>

<span data-ttu-id="85f59-208">IOS az adatok entitások toomatch hello következő kell módosítani a Core adatsémája nem támogatott.</span><span class="sxs-lookup"><span data-stu-id="85f59-208">On iOS, you should change your Core Data schema for your data entities toomatch hello following.</span></span> <span data-ttu-id="85f59-209">Vegye figyelembe, hogy a Tulajdonságok hello `createdAt`, `updatedAt` és `version` már nem rendelkezik egy `ms_` előtagja:</span><span class="sxs-lookup"><span data-stu-id="85f59-209">Note that hello properties `createdAt`, `updatedAt` and `version` no longer have an `ms_` prefix:</span></span>

| <span data-ttu-id="85f59-210">Attribútum</span><span class="sxs-lookup"><span data-stu-id="85f59-210">Attribute</span></span> | <span data-ttu-id="85f59-211">Típus</span><span class="sxs-lookup"><span data-stu-id="85f59-211">Type</span></span> | <span data-ttu-id="85f59-212">Megjegyzés</span><span class="sxs-lookup"><span data-stu-id="85f59-212">Note</span></span> |
| --- | --- | --- |
| <span data-ttu-id="85f59-213">id</span><span class="sxs-lookup"><span data-stu-id="85f59-213">id</span></span> |<span data-ttu-id="85f59-214">Karakterlánc, kötelezőként megjelölt</span><span class="sxs-lookup"><span data-stu-id="85f59-214">String, marked required</span></span> |<span data-ttu-id="85f59-215">elsődleges távoli tárolóban levő kulccsal.</span><span class="sxs-lookup"><span data-stu-id="85f59-215">primary key in remote store</span></span> |
| <span data-ttu-id="85f59-216">createdAt</span><span class="sxs-lookup"><span data-stu-id="85f59-216">createdAt</span></span> |<span data-ttu-id="85f59-217">Dátum</span><span class="sxs-lookup"><span data-stu-id="85f59-217">Date</span></span> |<span data-ttu-id="85f59-218">(választható) maps toocreatedAt rendszer tulajdonság</span><span class="sxs-lookup"><span data-stu-id="85f59-218">(optional) maps toocreatedAt system property</span></span> |
| <span data-ttu-id="85f59-219">updatedAt</span><span class="sxs-lookup"><span data-stu-id="85f59-219">updatedAt</span></span> |<span data-ttu-id="85f59-220">Dátum</span><span class="sxs-lookup"><span data-stu-id="85f59-220">Date</span></span> |<span data-ttu-id="85f59-221">(választható) maps tooupdatedAt rendszer tulajdonság</span><span class="sxs-lookup"><span data-stu-id="85f59-221">(optional) maps tooupdatedAt system property</span></span> |
| <span data-ttu-id="85f59-222">Verzió</span><span class="sxs-lookup"><span data-stu-id="85f59-222">version</span></span> |<span data-ttu-id="85f59-223">Karakterlánc</span><span class="sxs-lookup"><span data-stu-id="85f59-223">String</span></span> |<span data-ttu-id="85f59-224">(választható) használt toodetect ütközések, maps tooversion</span><span class="sxs-lookup"><span data-stu-id="85f59-224">(optional) used toodetect conflicts, maps tooversion</span></span> |

#### <a name="querying-system-properties"></a><span data-ttu-id="85f59-225">A Rendszertulajdonságok lekérdezése</span><span class="sxs-lookup"><span data-stu-id="85f59-225">Querying system properties</span></span>
<span data-ttu-id="85f59-226">Azure Mobile Services, a rendszer tulajdonságai nem kap alapértelmezés szerint, de csak akkor, amikor erre felkérést kapnak hello lekérdezési karakterláncot `__systemProperties`.</span><span class="sxs-lookup"><span data-stu-id="85f59-226">In Azure Mobile Services, system properties are not sent by default, but only when they are requested using hello query string `__systemProperties`.</span></span> <span data-ttu-id="85f59-227">Ezzel szemben az Azure Mobile Apps rendszer tulajdonságainak vannak **mindig ki** óta hello server SDK objektummodell részét képezik.</span><span class="sxs-lookup"><span data-stu-id="85f59-227">In contrast, in Azure Mobile Apps system properties are **always selected** since they are part of hello server SDK object model.</span></span>

<span data-ttu-id="85f59-228">Ez a változás főként hatással van a tartomány-kezelő bővítményének egyéni implementációja `MappedEntityDomainManager`.</span><span class="sxs-lookup"><span data-stu-id="85f59-228">This change mainly impacts custom implementations of domain managers, such as extensions of `MappedEntityDomainManager`.</span></span> <span data-ttu-id="85f59-229">A Mobile Services szolgáltatásban egy ügyfél soha nem kér a rendszer tulajdonságai esetén lehetséges toouse egy `MappedEntityDomainManager` , amelyek nem tényleges képezze le az összes tulajdonságait.</span><span class="sxs-lookup"><span data-stu-id="85f59-229">In Mobile Services, if a client never requests any system properties, it is possible toouse a `MappedEntityDomainManager` that does not actually map all properties.</span></span> <span data-ttu-id="85f59-230">Azonban az Azure Mobile Apps, a nem leképezett tulajdonságok hibát okoz a GET-lekérdezésekben.</span><span class="sxs-lookup"><span data-stu-id="85f59-230">However, in Azure Mobile Apps, these unmapped properties will cause an error in GET queries.</span></span>

<span data-ttu-id="85f59-231">hello legegyszerűbb módja tooresolve hello probléma van a a DTOs toomodify, hogy azok örökölhet `ITableData` helyett `EntityData`.</span><span class="sxs-lookup"><span data-stu-id="85f59-231">hello easiest way tooresolve hello issue is toomodify your DTOs so that they inherit from `ITableData` instead of `EntityData`.</span></span> <span data-ttu-id="85f59-232">Adja hozzá a hello `[NotMapped]` megadni toohello mezők attribútum.</span><span class="sxs-lookup"><span data-stu-id="85f59-232">Then, add hello `[NotMapped]` attribute toohello fields that should be omitted.</span></span>

<span data-ttu-id="85f59-233">Például hello következő meghatározása `TodoItem` rendszer tulajdonságok nélkül:</span><span class="sxs-lookup"><span data-stu-id="85f59-233">For example, hello following defines `TodoItem` with no system properties:</span></span>

    using System.ComponentModel.DataAnnotations.Schema;

    public class TodoItem : ITableData
    {
        public string Text { get; set; }

        public bool Complete { get; set; }

        public string Id { get; set; }

        [NotMapped]
        public DateTimeOffset? CreatedAt { get; set; }

        [NotMapped]
        public DateTimeOffset? UpdatedAt { get; set; }

        [NotMapped]
        public bool Deleted { get; set; }

        [NotMapped]
        public byte[] Version { get; set; }
    }

<span data-ttu-id="85f59-234">Megjegyzés: Ha hibaüzenet jelenik meg `NotMapped`, vegye fel a referencia-toohello szerelvény `System.ComponentModel.DataAnnotations`.</span><span class="sxs-lookup"><span data-stu-id="85f59-234">Note: if you get errors on `NotMapped`, add a reference toohello assembly `System.ComponentModel.DataAnnotations`.</span></span>

### <a name="cors"></a><span data-ttu-id="85f59-235">CORS</span><span class="sxs-lookup"><span data-stu-id="85f59-235">CORS</span></span>
<span data-ttu-id="85f59-236">Mobile Services használatával hello ASP.NET CORS megoldás néhány CORS támogatás tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="85f59-236">Mobile Services included some support for CORS by wrapping hello ASP.NET CORS solution.</span></span> <span data-ttu-id="85f59-237">Az alkalmazásburkoló réteg lett eltávolított toogive hello fejlesztői nagyobb felügyeletet, így közvetlenül hasznosíthatja [ASP.NET CORS-támogatás](http://www.asp.net/web-api/overview/security/enabling-cross-origin-requests-in-web-api).</span><span class="sxs-lookup"><span data-stu-id="85f59-237">This wrapping layer has been removed toogive hello developer more control, so you can directly leverage [ASP.NET CORS support](http://www.asp.net/web-api/overview/security/enabling-cross-origin-requests-in-web-api).</span></span>

<span data-ttu-id="85f59-238">hello fő a problémás területeket. Ha a CORS használatával is, hogy hello `eTag` és `Location` fejlécek engedélyezni kell ahhoz, hogy hello ügyfél SDK-k toowork megfelelően.</span><span class="sxs-lookup"><span data-stu-id="85f59-238">hello main areas of concern if using CORS are that hello `eTag` and `Location` headers must be allowed in order for hello client SDKs toowork properly.</span></span>

### <a name="push-notifications"></a><span data-ttu-id="85f59-239">Leküldéses értesítések</span><span class="sxs-lookup"><span data-stu-id="85f59-239">Push Notifications</span></span>
<span data-ttu-id="85f59-240">A leküldéses hello fő előfordulhat, hogy hiányzik a kiszolgáló SDK hello tétel hello PushRegistrationHandler osztály.</span><span class="sxs-lookup"><span data-stu-id="85f59-240">For push, hello main item that you may find missing from hello Server SDK is hello PushRegistrationHandler class.</span></span> <span data-ttu-id="85f59-241">Regisztráció a Mobile Apps kicsit másképp kezeli, és tagless regisztrációk alapértelmezés szerint engedélyezve vannak.</span><span class="sxs-lookup"><span data-stu-id="85f59-241">Registrations are handled slightly differently in Mobile Apps, and tagless registrations are enabled by default.</span></span> <span data-ttu-id="85f59-242">Címkék kezelése végezhető egyéni API-k használatával.</span><span class="sxs-lookup"><span data-stu-id="85f59-242">Managing tags may be accomplished by using custom APIs.</span></span> <span data-ttu-id="85f59-243">Tekintse meg a hello [címkék regisztrálása](app-service-mobile-dotnet-backend-how-to-use-server-sdk.md#tags) olvashat útmutatást.</span><span class="sxs-lookup"><span data-stu-id="85f59-243">Please see hello [registering for tags](app-service-mobile-dotnet-backend-how-to-use-server-sdk.md#tags) instructions for more information.</span></span>

### <a name="scheduled-jobs"></a><span data-ttu-id="85f59-244">Ütemezett feladatok</span><span class="sxs-lookup"><span data-stu-id="85f59-244">Scheduled Jobs</span></span>
<span data-ttu-id="85f59-245">Ütemezett feladatok nem beépített Mobile Apps, így a meglévő feladatokat, a .NET-háttérrendszer rendelkező toobe külön-külön frissíteni kell.</span><span class="sxs-lookup"><span data-stu-id="85f59-245">Scheduled jobs are not built into Mobile Apps, so any existing jobs that you have in your .NET backend will need toobe upgraded individually.</span></span> <span data-ttu-id="85f59-246">Egy elem egy ütemezett toocreate [webes projekt] hello mobilalkalmazás kód helyen.</span><span class="sxs-lookup"><span data-stu-id="85f59-246">One option is toocreate a scheduled [Web Job] on hello Mobile App code site.</span></span> <span data-ttu-id="85f59-247">Is képes állítson be egy tartományvezérlőre, amely tárolja a feladat kódot, és hello konfigurálása [Azure Scheduler] toohit adott végpontra várt hello ütemezés szerint.</span><span class="sxs-lookup"><span data-stu-id="85f59-247">You could also set up a controller that holds your job code and configure hello [Azure Scheduler] toohit that endpoint on hello expected schedule.</span></span>

### <a name="miscellaneous-changes"></a><span data-ttu-id="85f59-248">Egyéb változások</span><span class="sxs-lookup"><span data-stu-id="85f59-248">Miscellaneous changes</span></span>
<span data-ttu-id="85f59-249">Minden ApiControllers, amely fognak használni a mobil ügyfél most már rendelkeznie kell hello `[MobileAppController]` attribútum.</span><span class="sxs-lookup"><span data-stu-id="85f59-249">All ApiControllers which will be consumed by a mobile client must now have hello `[MobileAppController]` attribute.</span></span> <span data-ttu-id="85f59-250">Ez az már nem veszi fel alapértelmezés szerint úgy, hogy más érinti ApiControllers toogo hello mobil is.</span><span class="sxs-lookup"><span data-stu-id="85f59-250">This is no longer included by default so that other ApiControllers toogo unaffected by hello mobile formatters.</span></span>

<span data-ttu-id="85f59-251">Hello `ApiServices` objektum már nincs hello SDK része.</span><span class="sxs-lookup"><span data-stu-id="85f59-251">hello `ApiServices` object is no longer part of hello SDK.</span></span> <span data-ttu-id="85f59-252">mobilalkalmazás beállításai tooaccess, hello következő használható:</span><span class="sxs-lookup"><span data-stu-id="85f59-252">tooaccess Mobile App settings, you can use hello following:</span></span>

    MobileAppSettingsDictionary settings = this.Configuration.GetMobileAppSettingsProvider().GetMobileAppSettings();

<span data-ttu-id="85f59-253">Hasonlóképpen naplózási most teszi lehetővé hello szabványos az ASP.NET nyomkövetési írásakor:</span><span class="sxs-lookup"><span data-stu-id="85f59-253">Similarly, logging is now accomplished using hello standard ASP.NET trace writing:</span></span>

    ITraceWriter traceWriter = this.Configuration.Services.GetTraceWriter();
    traceWriter.Info("Hello, World");  

## <span data-ttu-id="85f59-254"><a name="authentication"></a>Hitelesítési kapcsolatos szempontok</span><span class="sxs-lookup"><span data-stu-id="85f59-254"><a name="authentication"></a>Authentication considerations</span></span>
<span data-ttu-id="85f59-255">a Mobile Services hello hitelesítés összetevői most helyezte hello App Service hitelesítési/engedélyezési funkciójához.</span><span class="sxs-lookup"><span data-stu-id="85f59-255">hello authentication components of Mobile Services have now been moved into hello App Service Authentication/Authorization feature.</span></span> <span data-ttu-id="85f59-256">Megismerheti a hely ez általi olvasása hello [Add authentication tooyour mobilalkalmazás](app-service-mobile-ios-get-started-users.md) témakör.</span><span class="sxs-lookup"><span data-stu-id="85f59-256">You can learn about enabling this for your site by reading hello [Add authentication tooyour mobile app](app-service-mobile-ios-get-started-users.md) topic.</span></span>

<span data-ttu-id="85f59-257">Az egyes szolgáltatók – például az aad-ben, a Facebook-on és a Google a Másolás-alkalmazás képes tooleverage hello meglévő regisztrációs kell lennie.</span><span class="sxs-lookup"><span data-stu-id="85f59-257">For some providers, such as AAD, Facebook, and Google, you should be able tooleverage hello existing registration from your copy application.</span></span> <span data-ttu-id="85f59-258">Egyszerűen toonavigate toohello identitásszolgáltató portálon kell, és adja hozzá egy új átirányítási URL-cím toohello regisztrációt.</span><span class="sxs-lookup"><span data-stu-id="85f59-258">You simply need toonavigate toohello identity provider's portal and add a new redirect URL toohello registration.</span></span> <span data-ttu-id="85f59-259">Ezután konfigurálja az App Service hitelesítési/engedélyezési hello ügyfél-azonosító és a titkos kulcs.</span><span class="sxs-lookup"><span data-stu-id="85f59-259">Then configure App Service Authentication/Authorization with hello client ID and secret.</span></span>

### <a name="controller-action-authorization"></a><span data-ttu-id="85f59-260">A tartományvezérlő műveleti engedélyezési</span><span class="sxs-lookup"><span data-stu-id="85f59-260">Controller action authorization</span></span>
<span data-ttu-id="85f59-261">Minden példányát hello `[AuthorizeLevel(AuthorizationLevel.User)]` attribútum most kell lennie a módosított toouse szabványos ASP.NET hello `[Authorize]` attribútum.</span><span class="sxs-lookup"><span data-stu-id="85f59-261">Any instances of hello `[AuthorizeLevel(AuthorizationLevel.User)]` attribute must now be changed toouse hello standard ASP.NET `[Authorize]` attribute.</span></span> <span data-ttu-id="85f59-262">Emellett tartományvezérlők, névtelen alapértelmezett, mint más ASP.NET-alkalmazások.</span><span class="sxs-lookup"><span data-stu-id="85f59-262">Additionally, controllers are now Anonymous by default, as in other ASP.NET applications.</span></span>
<span data-ttu-id="85f59-263">Ha használta egy hello más AuthorizeLevel beállítások, például a rendszergazda vagy az alkalmazás, vegye figyelembe, hogy ezek elvesznek.</span><span class="sxs-lookup"><span data-stu-id="85f59-263">If you were using one of hello other AuthorizeLevel options, such as Admin or Application, please note that these are gone.</span></span> <span data-ttu-id="85f59-264">Ehelyett a közös titkokat AuthorizationFilters beállítása, vagy biztonságosan konfigurálása az AAD-szolgáltatásnév tooenable szolgáltatások közötti hívások.</span><span class="sxs-lookup"><span data-stu-id="85f59-264">You can instead set up AuthorizationFilters for shared secrets or configure an AAD Service Principal tooenable service-to-service calls securely.</span></span>

### <a name="getting-additional-user-information"></a><span data-ttu-id="85f59-265">További felhasználói adatainak lekérése</span><span class="sxs-lookup"><span data-stu-id="85f59-265">Getting additional user information</span></span>
<span data-ttu-id="85f59-266">Kaphat további felhasználói információkat, beleértve a hozzáférési jogkivonatok hello keresztül `GetAppServiceIdentityAsync()` módszert:</span><span class="sxs-lookup"><span data-stu-id="85f59-266">You can get additional user information, including access tokens through hello `GetAppServiceIdentityAsync()` method:</span></span>

        FacebookCredentials creds = await this.User.GetAppServiceIdentityAsync<FacebookCredentials>();

<span data-ttu-id="85f59-267">Továbbá ha az alkalmazás függőségek tart a felhasználói azonosítót, például az adatbázisban tárolja őket, fontos, hogy a Mobile Services és az App Service Mobile Apps közötti felhasználói azonosítók hello toonote eltérőek.</span><span class="sxs-lookup"><span data-stu-id="85f59-267">Additionally, if your application takes dependencies on user IDs, such as storing them in a database, it is important toonote that hello user IDs between Mobile Services and App Service Mobile Apps are different.</span></span> <span data-ttu-id="85f59-268">Hello Mobile Services felhasználói Azonosítóját, azonban továbbra is megjelenik.</span><span class="sxs-lookup"><span data-stu-id="85f59-268">You can still get hello Mobile Services User ID, though.</span></span> <span data-ttu-id="85f59-269">Mindegyik hello ProviderCredentials alosztályok rendelkezik a UserId tulajdonság.</span><span class="sxs-lookup"><span data-stu-id="85f59-269">All of hello ProviderCredentials subclasses have a UserId property.</span></span> <span data-ttu-id="85f59-270">Így a folytatás előtt hello példa:</span><span class="sxs-lookup"><span data-stu-id="85f59-270">So continuing from hello example before:</span></span>

        string mobileServicesUserId = creds.Provider + ":" + creds.UserId;

<span data-ttu-id="85f59-271">Ha az alkalmazás végrehajtása függőségek, a felhasználói azonosítót, akkor fontos, hogy kihasználja lehetőleg hello regisztrálás egy identitásszolgáltatóval.</span><span class="sxs-lookup"><span data-stu-id="85f59-271">If your app does take any dependencies on user IDs, it is important that you leverage hello same registration with an identity provider if possible.</span></span> <span data-ttu-id="85f59-272">Felhasználói azonosítói általában hatókörön belüli toohello regisztrációja használt, így vezet be, egy új regisztrációs problémák megfelelő felhasználók tootheir adatok sikerült létrehozni.</span><span class="sxs-lookup"><span data-stu-id="85f59-272">User IDs are typically scoped toohello application registration that was used, so introducing a new registration could create problems with matching users tootheir data.</span></span>

### <a name="custom-authentication"></a><span data-ttu-id="85f59-273">Egyéni hitelesítési</span><span class="sxs-lookup"><span data-stu-id="85f59-273">Custom authentication</span></span>
<span data-ttu-id="85f59-274">Ha az alkalmazás egy egyéni hitelesítési megoldás használja, érdemes arról, hogy a frissített hello hely hozzáférési toohello toomake.</span><span class="sxs-lookup"><span data-stu-id="85f59-274">If your app is using a custom authentication solution, you will want toomake sure that hello upgraded site has access toohello system.</span></span> <span data-ttu-id="85f59-275">Hello új egyéni hitelesítési hello az utasításokat követve [.NET SDK – áttekintés] toointegrate a megoldás.</span><span class="sxs-lookup"><span data-stu-id="85f59-275">Follow hello new instructions for custom authentication in hello [.NET server SDK overview] toointegrate your solution.</span></span> <span data-ttu-id="85f59-276">Vegye figyelembe, hogy hello egyéni összetevők továbbra is a képen vannak-e.</span><span class="sxs-lookup"><span data-stu-id="85f59-276">Please note that hello custom authentication components are still in preview.</span></span>

## <span data-ttu-id="85f59-277"><a name="updating-clients"></a>Ügyfelek frissítése</span><span class="sxs-lookup"><span data-stu-id="85f59-277"><a name="updating-clients"></a>Updating clients</span></span>
<span data-ttu-id="85f59-278">Miután egy operatív mobil-háttéralkalmazást, használhat az ügyfélalkalmazást, amely használ fel az új verziója.</span><span class="sxs-lookup"><span data-stu-id="85f59-278">Once you have an operational Mobile App backend, you can work on a new version of your client application which consumes it.</span></span> <span data-ttu-id="85f59-279">Mobile Apps is hello ügyfél SDK-k új verzióját tartalmazza, és a fenti a hasonló toohello kiszolgáló frissítése, szüksége lesz az összes hivatkozott toohello Mobile Services SDK előtt tooremove hello Mobile Apps verziók telepítése.</span><span class="sxs-lookup"><span data-stu-id="85f59-279">Mobile Apps also includes a new version of hello client SDKs, and similar toohello server upgrade above, you will need tooremove all references toohello Mobile Services SDKs before installing hello Mobile Apps versions.</span></span>

<span data-ttu-id="85f59-280">Egyik fő változás hello hello verziói között, hogy a hello konstruktorok már nem szükséges-e egy alkalmazás-kulcsot.</span><span class="sxs-lookup"><span data-stu-id="85f59-280">One of hello main changes between hello versions is that hello constructors no longer require an application key.</span></span> <span data-ttu-id="85f59-281">Most már egyszerűen adja meg a a Mobile Apps hello URL-CÍMÉT.</span><span class="sxs-lookup"><span data-stu-id="85f59-281">You now simply pass in hello URL of your Mobile App.</span></span> <span data-ttu-id="85f59-282">Például hello .NET ügyfeleken hello `MobileServiceClient` konstruktor:</span><span class="sxs-lookup"><span data-stu-id="85f59-282">For example, on hello .NET clients, hello `MobileServiceClient` constructor is now:</span></span>

        public static MobileServiceClient MobileService = new MobileServiceClient(
            "https://contoso.azurewebsites.net", // URL of hello Mobile App
        );

<span data-ttu-id="85f59-283">Áttekintheti az telepítése új SDK-k hello és hello új struktúra keresztül az alábbi hivatkozások hello használata:</span><span class="sxs-lookup"><span data-stu-id="85f59-283">You can read about installing hello new SDKs and using hello new structure via hello links below:</span></span>

* [<span data-ttu-id="85f59-284">iOS-verzióval 3.0.0 vagy újabb verzió</span><span class="sxs-lookup"><span data-stu-id="85f59-284">iOS version 3.0.0 or later</span></span>](app-service-mobile-ios-how-to-use-client-library.md)
* [<span data-ttu-id="85f59-285">.NET (Windows/Xamarin) 2.0.0 verzió vagy újabb verzió</span><span class="sxs-lookup"><span data-stu-id="85f59-285">.NET (Windows/Xamarin) version 2.0.0 or later</span></span>](app-service-mobile-dotnet-how-to-use-client-library.md)

<span data-ttu-id="85f59-286">Ha az alkalmazás lehetővé teszi leküldéses értesítések használni, jegyezze fel a hello regisztráció utasításokat minden egyes platformhoz, néhány módosítás történt hiba is.</span><span class="sxs-lookup"><span data-stu-id="85f59-286">If your application makes use of push notifications, make note of hello specific registration instructions for each platform, as there have been some changes there as well.</span></span>

<span data-ttu-id="85f59-287">Ha hello új ügyfélverziót készen áll, próbálja ki a frissített kiszolgálón projekthez.</span><span class="sxs-lookup"><span data-stu-id="85f59-287">When you have hello new client version ready, try it out against your upgraded server project.</span></span> <span data-ttu-id="85f59-288">Után ellenőrzése, hogy működik-e, az alkalmazás toocustomers egy új verziója is megjelenhetnek.</span><span class="sxs-lookup"><span data-stu-id="85f59-288">After validating that it works, you can release a new version of your application toocustomers.</span></span> <span data-ttu-id="85f59-289">Előfordulhat Ha az ügyfelek rendelkezésére állt-e egy alkalommal tooreceive ezeket a frissítéseket, törölheti hello Mobile Services, verziószám: az alkalmazás.</span><span class="sxs-lookup"><span data-stu-id="85f59-289">Eventually, once your customers have had a chance tooreceive these updates, you can delete hello Mobile Services version of your app.</span></span> <span data-ttu-id="85f59-290">Ezen a ponton frissített tooan App Service Mobile Apps hello legújabb Mobile Apps server SDK használatával.</span><span class="sxs-lookup"><span data-stu-id="85f59-290">At this point, you have completely upgraded tooan App Service Mobile App using hello latest Mobile Apps server SDK.</span></span>

<!-- URLs. -->

[Azure-portálon]: https://portal.azure.com/
[a klasszikus Azure portálon]: https://manage.windowsazure.com/
[Mik azok a Mobile Apps?]: app-service-mobile-value-prop.md
[I already use web sites and mobile services – how does App Service help me?]: /en-us/documentation/articles/app-service-mobile-value-prop-migration-from-mobile-services
[Mobile App SDK-t Server]: http://www.nuget.org/packages/microsoft.azure.mobile.server
[Create a Mobile App]: app-service-mobile-xamarin-ios-get-started.md
[Add push notifications tooyour mobile app]: app-service-mobile-xamarin-ios-get-started-push.md
[Add authentication tooyour mobile app]: app-service-mobile-xamarin-ios-get-started-users.md
[Azure Scheduler]: /en-us/documentation/services/scheduler/
[webes projekt]: ../app-service-web/websites-webjobs-resources.md
[hogyan toouse hello .NET server SDK]: app-service-mobile-dotnet-backend-how-to-use-server-sdk.md
[Migrate from Mobile Services tooan App Service Mobile App]: app-service-mobile-migrating-from-mobile-services.md
[Migrate your existing Mobile Service tooApp Service]: app-service-mobile-migrating-from-mobile-services.md
[App Service díjszabás]: https://azure.microsoft.com/en-us/pricing/details/app-service/
[.NET SDK – áttekintés]: app-service-mobile-dotnet-backend-how-to-use-server-sdk.md
