---
title: "az Azure Automationben aaaRunbook végrehajtási |} Microsoft Docs"
description: "Azure Automation forgatókönyv feldolgozásának módja hello részleteit ismerteti."
services: automation
documentationcenter: 
author: mgoedtel
manager: jwhit
editor: tysonn
ms.assetid: d10c8ce2-2c0b-4ea7-ba3c-d20e09b2c9ca
ms.service: automation
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 08/17/2017
ms.author: bwren
ms.openlocfilehash: bdb535675443353d44640bc7773de3f9dac5e42c
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="runbook-execution-in-azure-automation"></a><span data-ttu-id="a6534-103">A Runbook végrehajtása az Azure Automationben</span><span class="sxs-lookup"><span data-stu-id="a6534-103">Runbook execution in Azure Automation</span></span>
<span data-ttu-id="a6534-104">Az Azure Automationben elindít egy runbookot, ha egy feladat jön létre.</span><span class="sxs-lookup"><span data-stu-id="a6534-104">When you start a runbook in Azure Automation, a job is created.</span></span> <span data-ttu-id="a6534-105">Egy feladat a runbook egyszeri futtatási példánya.</span><span class="sxs-lookup"><span data-stu-id="a6534-105">A job is a single execution instance of a runbook.</span></span> <span data-ttu-id="a6534-106">Egy Azure Automation dolgozó van hozzárendelve toorun minden feladatot.</span><span class="sxs-lookup"><span data-stu-id="a6534-106">An Azure Automation worker is assigned toorun each job.</span></span> <span data-ttu-id="a6534-107">Munkavállalók több Azure-fiókra által megosztott, amíg feladatokat azok másik Automation-fiók el különítve egymástól.</span><span class="sxs-lookup"><span data-stu-id="a6534-107">While workers are shared by multiple Azure accounts, jobs from different Automation accounts are isolated from one another.</span></span> <span data-ttu-id="a6534-108">Melyik worker szolgáltatások hello kérelem szabályozhatják a feladat nem rendelkeznek.</span><span class="sxs-lookup"><span data-stu-id="a6534-108">You do not have control over which worker services hello request for your job.</span></span>  <span data-ttu-id="a6534-109">Egyetlen runbook fut egyszerre több feladattal rendelkezhet.</span><span class="sxs-lookup"><span data-stu-id="a6534-109">A single runbook can have multiple jobs running at one time.</span></span> <span data-ttu-id="a6534-110">Amikor runbookokat hello listája hello Azure-portálon, hello állapotának indított minden runbook feladatokat sorolja fel.</span><span class="sxs-lookup"><span data-stu-id="a6534-110">When you view hello list of runbooks in hello Azure portal, it lists hello status of all jobs that were started for each runbook.</span></span> <span data-ttu-id="a6534-111">Minden runbook feladatok hello listája rendelés tootrack hello állapota az egyes tekintheti meg.</span><span class="sxs-lookup"><span data-stu-id="a6534-111">You can view hello list of jobs for each runbook in order tootrack hello status of each.</span></span> <span data-ttu-id="a6534-112">Egy másik feladatállapotok hello ismertetését lásd: [feladatállapotok](#job-statuses).</span><span class="sxs-lookup"><span data-stu-id="a6534-112">For a description of hello different job statuses, see [Job Statuses](#job-statuses).</span></span>

<span data-ttu-id="a6534-113">hello következő diagramon láthatók a runbook-feladatok hello életciklusát [grafikus forgatókönyvek](automation-runbook-types.md#graphical-runbooks) és [PowerShell munkafolyamat-forgatókönyvekről](automation-runbook-types.md#powershell-workflow-runbooks).</span><span class="sxs-lookup"><span data-stu-id="a6534-113">hello following diagram shows hello lifecycle of a runbook job for [Graphical runbooks](automation-runbook-types.md#graphical-runbooks) and [PowerShell Workflow runbooks](automation-runbook-types.md#powershell-workflow-runbooks).</span></span>

![Feladatállapotok - PowerShell munkafolyamat](./media/automation-runbook-execution/job-statuses.png)

<span data-ttu-id="a6534-115">hello következő diagramon láthatók a runbook-feladatok hello életciklusát [PowerShell-forgatókönyvek](automation-runbook-types.md#powershell-runbooks).</span><span class="sxs-lookup"><span data-stu-id="a6534-115">hello following diagram shows hello lifecycle of a runbook job for [PowerShell runbooks](automation-runbook-types.md#powershell-runbooks).</span></span>

![Feladatállapotok - PowerShell-parancsfájl](./media/automation-runbook-execution/job-statuses-script.png)

<span data-ttu-id="a6534-117">A feladatok rendelkezik hozzáférési tooyour Azure erőforrások azáltal, hogy a kapcsolat tooyour Azure-előfizetés.</span><span class="sxs-lookup"><span data-stu-id="a6534-117">Your jobs have access tooyour Azure resources by making a connection tooyour Azure subscription.</span></span> <span data-ttu-id="a6534-118">Csak rendelkeznek hozzáféréssel tooresources az Adatközpont hello nyilvános felhőből elérhető erőforrások esetén.</span><span class="sxs-lookup"><span data-stu-id="a6534-118">They only have access tooresources in your data center if those resources are accessible from hello public cloud.</span></span>

## <a name="job-statuses"></a><span data-ttu-id="a6534-119">Feladatállapotok</span><span class="sxs-lookup"><span data-stu-id="a6534-119">Job statuses</span></span>
<span data-ttu-id="a6534-120">hello következő táblázatban hello különböző állapotok lehetségesek feladat.</span><span class="sxs-lookup"><span data-stu-id="a6534-120">hello following table describes hello different statuses that are possible for a job.</span></span>

| <span data-ttu-id="a6534-121">status</span><span class="sxs-lookup"><span data-stu-id="a6534-121">Status</span></span> | <span data-ttu-id="a6534-122">Leírás</span><span class="sxs-lookup"><span data-stu-id="a6534-122">Description</span></span> |
|:--- |:--- |
| <span data-ttu-id="a6534-123">Befejeződött</span><span class="sxs-lookup"><span data-stu-id="a6534-123">Completed</span></span> |<span data-ttu-id="a6534-124">hello feladat sikeresen befejeződött.</span><span class="sxs-lookup"><span data-stu-id="a6534-124">hello job completed successfully.</span></span> |
| <span data-ttu-id="a6534-125">Nem sikerült</span><span class="sxs-lookup"><span data-stu-id="a6534-125">Failed</span></span> |<span data-ttu-id="a6534-126">A [grafikus és a PowerShell-munkafolyamati forgatókönyvek](automation-runbook-types.md), hello runbook toocompile nem sikerült.</span><span class="sxs-lookup"><span data-stu-id="a6534-126">For [Graphical and PowerShell Workflow runbooks](automation-runbook-types.md), hello runbook failed toocompile.</span></span>  <span data-ttu-id="a6534-127">A [PowerShell-parancsfájl runbookok](automation-runbook-types.md), hello runbookja sikertelen toostart vagy hello feladat kivételbe ütközött.</span><span class="sxs-lookup"><span data-stu-id="a6534-127">For [PowerShell Script runbooks](automation-runbook-types.md), hello runbook failed toostart or hello job encountered an exception.</span></span> |
| <span data-ttu-id="a6534-128">Nem sikerült, erőforrás Várakozás</span><span class="sxs-lookup"><span data-stu-id="a6534-128">Failed, waiting for resources</span></span> |<span data-ttu-id="a6534-129">hello feladat végrehajtása nem sikerült, mert elérte hello [igazságos elosztása révén](#fairshare) háromszor korlátjának növelését, és indította el ugyanazon ellenőrzőpont hello, vagy a hello start hello runbook minden alkalommal, amikor.</span><span class="sxs-lookup"><span data-stu-id="a6534-129">hello job failed because it reached hello [fair share](#fairshare) limit three times and started from hello same checkpoint or from hello start of hello runbook each time.</span></span> |
| <span data-ttu-id="a6534-130">A várólistára</span><span class="sxs-lookup"><span data-stu-id="a6534-130">Queued</span></span> |<span data-ttu-id="a6534-131">hello feladat vár erőforrások egy automatizálási feldolgozó toocome érhető el, hogy indíthatók el.</span><span class="sxs-lookup"><span data-stu-id="a6534-131">hello job is waiting for resources on an Automation worker toocome available so that it can be started.</span></span> |
| <span data-ttu-id="a6534-132">Indulás alatt</span><span class="sxs-lookup"><span data-stu-id="a6534-132">Starting</span></span> |<span data-ttu-id="a6534-133">hello feladat tooa munkavégző lett rendelve, és hello rendszer elindításával hello folyamatán.</span><span class="sxs-lookup"><span data-stu-id="a6534-133">hello job has been assigned tooa worker, and hello system is in hello process of starting it.</span></span> |
| <span data-ttu-id="a6534-134">Folytatása</span><span class="sxs-lookup"><span data-stu-id="a6534-134">Resuming</span></span> |<span data-ttu-id="a6534-135">hello rendszer hello folyamatának hello feladat folytatása után fel lett függesztve.</span><span class="sxs-lookup"><span data-stu-id="a6534-135">hello system is in hello process of resuming hello job after it was suspended.</span></span> |
| <span data-ttu-id="a6534-136">Fut</span><span class="sxs-lookup"><span data-stu-id="a6534-136">Running</span></span> |<span data-ttu-id="a6534-137">hello feladat fut.</span><span class="sxs-lookup"><span data-stu-id="a6534-137">hello job is running.</span></span> |
| <span data-ttu-id="a6534-138">Rendszert futtató erőforrások vár</span><span class="sxs-lookup"><span data-stu-id="a6534-138">Running, waiting for resources</span></span> |<span data-ttu-id="a6534-139">hello feladat lett távolítva a memóriából, mert elérte a hello [igazságos elosztása révén](#fairshare) korlátot.</span><span class="sxs-lookup"><span data-stu-id="a6534-139">hello job has been unloaded because it reached hello [fair share](#fairshare) limit.</span></span> <span data-ttu-id="a6534-140">Röviddel a legutóbbi ellenőrzőponttól folytatja.</span><span class="sxs-lookup"><span data-stu-id="a6534-140">It resumes shortly from its last checkpoint.</span></span> |
| <span data-ttu-id="a6534-141">Leállítva</span><span class="sxs-lookup"><span data-stu-id="a6534-141">Stopped</span></span> |<span data-ttu-id="a6534-142">hello feladatot leállította hello felhasználó, mielőtt befejeződhetett volna.</span><span class="sxs-lookup"><span data-stu-id="a6534-142">hello job was stopped by hello user before it was completed.</span></span> |
| <span data-ttu-id="a6534-143">Leállítás</span><span class="sxs-lookup"><span data-stu-id="a6534-143">Stopping</span></span> |<span data-ttu-id="a6534-144">hello rendszer hello folyamatának hello feladat leállítása.</span><span class="sxs-lookup"><span data-stu-id="a6534-144">hello system is in hello process of stopping hello job.</span></span> |
| <span data-ttu-id="a6534-145">Felfüggesztve</span><span class="sxs-lookup"><span data-stu-id="a6534-145">Suspended</span></span> |<span data-ttu-id="a6534-146">hello feladat fel lett függesztve, hello felhasználó, hello rendszer vagy hello runbook egy parancsa.</span><span class="sxs-lookup"><span data-stu-id="a6534-146">hello job was suspended by hello user, by hello system, or by a command in hello runbook.</span></span> <span data-ttu-id="a6534-147">A felfüggesztett feladatokat újra lehet indítani, és indítsa újra az utolsó ellenőrzőpontot, illetve hello hello runbook kezdve, ha nem rendelkezik az ellenőrzőpontokat.</span><span class="sxs-lookup"><span data-stu-id="a6534-147">A job that is suspended can be started again and resume from its last checkpoint or from hello beginning of hello runbook if it doesn't have checkpoints.</span></span> <span data-ttu-id="a6534-148">hello runbook csak felfüggesztik hello rendszer, ha kivétel lép.</span><span class="sxs-lookup"><span data-stu-id="a6534-148">hello runbook will only be suspended by hello system when an exception occurs.</span></span> <span data-ttu-id="a6534-149">Alapértelmezés szerint ErrorActionPreference túl van beállítva**Folytatás**, ami azt jelenti, hello feladatot a hiba folyamatosan működik.</span><span class="sxs-lookup"><span data-stu-id="a6534-149">By default, ErrorActionPreference is set too**Continue**, meaning that hello job keeps running on an error.</span></span> <span data-ttu-id="a6534-150">Ha ezt a preferenciaváltozót átállítja túl**leállítása**, majd hello feladat felfüggeszti az hiba.</span><span class="sxs-lookup"><span data-stu-id="a6534-150">If this preference variable is set too**Stop**, then hello job suspends on an error.</span></span>  <span data-ttu-id="a6534-151">Érvényes túl[grafikus és a PowerShell-munkafolyamati forgatókönyvek](automation-runbook-types.md) csak.</span><span class="sxs-lookup"><span data-stu-id="a6534-151">Applies too[Graphical and PowerShell Workflow runbooks](automation-runbook-types.md) only.</span></span> |
| <span data-ttu-id="a6534-152">Felfüggesztése</span><span class="sxs-lookup"><span data-stu-id="a6534-152">Suspending</span></span> |<span data-ttu-id="a6534-153">hello rendszer megpróbál toosuspend hello feladat hello felhasználó hello kérésére.</span><span class="sxs-lookup"><span data-stu-id="a6534-153">hello system is attempting toosuspend hello job at hello request of hello user.</span></span> <span data-ttu-id="a6534-154">hello runbooknak el kell érnie a következő ellenőrzőpontot felfüggesztés előtt.</span><span class="sxs-lookup"><span data-stu-id="a6534-154">hello runbook must reach its next checkpoint before it can be suspended.</span></span> <span data-ttu-id="a6534-155">Ha már elhagyta az utolsó ellenőrzőpontot, majd befejezné a felfüggesztés előtt.</span><span class="sxs-lookup"><span data-stu-id="a6534-155">If it already passed its last checkpoint, then it completes before it can be suspended.</span></span>  <span data-ttu-id="a6534-156">Érvényes túl[grafikus és a PowerShell-munkafolyamati forgatókönyvek](automation-runbook-types.md) csak.</span><span class="sxs-lookup"><span data-stu-id="a6534-156">Applies too[Graphical and PowerShell Workflow runbooks](automation-runbook-types.md) only.</span></span> |

## <a name="viewing-job-status-from-hello-azure-portal"></a><span data-ttu-id="a6534-157">Hello Azure-portál a feladat állapotának megtekintése</span><span class="sxs-lookup"><span data-stu-id="a6534-157">Viewing job status from hello Azure portal</span></span>
<span data-ttu-id="a6534-158">Megtekintheti az összes runbook-feladatok összesített állapota vagy hello Azure-portálon vagy az integráció konfigurálása a Microsoft Operations Management Suite (OMS) Naplóelemzési munkaterület tooforward runbook feladat állapotát az adott runbook-feladatok részleteit elemezze és feladat adatfolyamokat.</span><span class="sxs-lookup"><span data-stu-id="a6534-158">You can view a summarized status of all runbook jobs or drill into details of a specific runbook job in hello Azure portal or by configuring integration with your Microsoft Operations Management Suite (OMS) Log Analytics workspace tooforward runbook job status and job streams.</span></span>  <span data-ttu-id="a6534-159">OMS Naplóelemzési integrálása kapcsolatos további információkért lásd: [feladat állapotát és a feladat adatfolyam továbbítása Automation tooLog szolgáltatás (OMS)](automation-manage-send-joblogs-log-analytics.md).</span><span class="sxs-lookup"><span data-stu-id="a6534-159">For more information about integrating with OMS Log Analytics, see [Forward job status and job streams from Automation tooLog Analytics (OMS)](automation-manage-send-joblogs-log-analytics.md).</span></span>  

### <a name="automation-runbook-jobs-summary"></a><span data-ttu-id="a6534-160">Automatizálási runbook-feladatok összegzése</span><span class="sxs-lookup"><span data-stu-id="a6534-160">Automation runbook jobs summary</span></span>
<span data-ttu-id="a6534-161">A kijelölt Automation-fiók sarkában hello, megtekintheti az összes runbook-feladatok hello kijelölt Automation-fiók alatt **Projekt statisztika** csempére.</span><span class="sxs-lookup"><span data-stu-id="a6534-161">On hello right of your selected Automation account, you can see a summary of all of hello runbook jobs for a selected Automation account under **Job Statistics** tile.</span></span><br><br> <span data-ttu-id="a6534-162">![Projekt statisztika csempe](./media/automation-runbook-execution/automation-account-job-status-summary.png).</span><span class="sxs-lookup"><span data-stu-id="a6534-162">![Job Statistics tile](./media/automation-runbook-execution/automation-account-job-status-summary.png).</span></span><br> <span data-ttu-id="a6534-163">Ez a csempe egy száma és a grafikus ábrázolása hello feladat állapota az összes feladat végrehajtása jeleníti meg.</span><span class="sxs-lookup"><span data-stu-id="a6534-163">This tile displays a count and graphical representation of hello job status for all jobs executed.</span></span>  

<span data-ttu-id="a6534-164">Megadja a hello csempére kattintva a hello **feladatok** panel, amelyen az összes feladat végrehajtása, állapot, a feladat végrehajtása és a kezdési és befejezési időpontjai összesített listáját tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="a6534-164">Clicking on hello tile presents hello **Jobs** blade, which includes a summarized list of all jobs executed, with status, job execution, and start and completion times.</span></span><br><br> <span data-ttu-id="a6534-165">![Automation-fiók feladatok panelen](./media/automation-runbook-execution/automation-account-jobs-status-blade.png)</span><span class="sxs-lookup"><span data-stu-id="a6534-165">![Automation account Jobs blade](./media/automation-runbook-execution/automation-account-jobs-status-blade.png)</span></span><br><br>  <span data-ttu-id="a6534-166">Szűrheti a feladatok listájának hello kiválasztásával **szűrve** és szűrést végezni egy adott runbook, a feladat állapotát, vagy hello hello legördülő listáról, a dátum/idő tartomány toosearch belül.</span><span class="sxs-lookup"><span data-stu-id="a6534-166">You can filter hello list of jobs by selecting **Filter jobs**  and filter on a specific runbook, job status, or from hello drop-down list, hello date/time range toosearch within.</span></span><br><br> <span data-ttu-id="a6534-167">![Szűrő feladat állapota](./media/automation-runbook-execution/automation-account-jobs-filter.png)</span><span class="sxs-lookup"><span data-stu-id="a6534-167">![Filter Job status](./media/automation-runbook-execution/automation-account-jobs-filter.png)</span></span>

<span data-ttu-id="a6534-168">Azt is megteheti, megtekintheti a feladat összefoglaló információk egy adott runbook runbook kijelölésével hello **Runbookok** panel az Automation-fiók, és jelölje ki hello **feladatok** csempére.</span><span class="sxs-lookup"><span data-stu-id="a6534-168">Alternatively, you can view job summary details for a specific runbook by selecting that runbook from hello **Runbooks** blade in your Automation account, and then select hello **Jobs** tile.</span></span>  <span data-ttu-id="a6534-169">Ez megadja hello **feladatok** panelt, és ott rákattinthat a hello feladat rekord tooview azok részleteit és kimenetét.</span><span class="sxs-lookup"><span data-stu-id="a6534-169">This presents hello **Jobs** blade, and from there you can click on hello job record tooview its detail and output.</span></span><br><br> <span data-ttu-id="a6534-170">![Automation-fiók feladatok panelen](./media/automation-runbook-execution/automation-runbook-job-summary-blade.png)</span><span class="sxs-lookup"><span data-stu-id="a6534-170">![Automation account Jobs blade](./media/automation-runbook-execution/automation-runbook-job-summary-blade.png)</span></span><br> 

### <a name="job-summary"></a><span data-ttu-id="a6534-171">Feladat összegzése</span><span class="sxs-lookup"><span data-stu-id="a6534-171">Job Summary</span></span>
<span data-ttu-id="a6534-172">Megtekintheti az összes, hogy egy adott runbookhoz és azok állapotával kapcsolatos hello feladatok listáját.</span><span class="sxs-lookup"><span data-stu-id="a6534-172">You can view a list of all of hello jobs that have been created for a particular runbook and their most recent status.</span></span> <span data-ttu-id="a6534-173">Szűrheti a listát feladatok állapota, és a hello hello dátumtartomány utolsó módosítás toohello feladat.</span><span class="sxs-lookup"><span data-stu-id="a6534-173">You can filter this list by job status and hello range of dates for hello last change toohello job.</span></span> <span data-ttu-id="a6534-174">tooview a részletes információkat és a kimeneti, kattintson az egyes feladatok hello nevére.</span><span class="sxs-lookup"><span data-stu-id="a6534-174">tooview its detailed information and output, click on hello name of a job.</span></span> <span data-ttu-id="a6534-175">hello hello feladat részletes nézetében hello értékeket tartalmaz, amelyeket toothat feladat hello runbook-paraméterek.</span><span class="sxs-lookup"><span data-stu-id="a6534-175">hello detailed view of hello job includes hello values for hello runbook parameters that were provided toothat job.</span></span>

<span data-ttu-id="a6534-176">A következő lépéseket tooview hello feladatok egy runbook hello is használhatja.</span><span class="sxs-lookup"><span data-stu-id="a6534-176">You can use hello following steps tooview hello jobs for a runbook.</span></span>

1. <span data-ttu-id="a6534-177">Hello Azure-portálon, válassza ki **Automation** majd válassza ki az Automation-fiók hello nevét.</span><span class="sxs-lookup"><span data-stu-id="a6534-177">In hello Azure portal, select **Automation** and then select hello name of an Automation account.</span></span>
2. <span data-ttu-id="a6534-178">Hello hub, válassza ki **Runbookok** majd a hello **Runbookok** panelen hello listából válasszon ki egy runbookot.</span><span class="sxs-lookup"><span data-stu-id="a6534-178">From hello hub, select **Runbooks** and then on hello **Runbooks** blade select a runbook from hello list.</span></span>
3. <span data-ttu-id="a6534-179">A kiválasztott hello runbook hello paneljén kattintson a hello **feladatok** csempére.</span><span class="sxs-lookup"><span data-stu-id="a6534-179">On hello blade for hello selected runbook, click hello **Jobs** tile.</span></span>
4. <span data-ttu-id="a6534-180">Kattintson a hello listában hello feladatok egyikét, és a hello runbook feladat részletei panelen megtekintheti azok részleteit és kimenetét.</span><span class="sxs-lookup"><span data-stu-id="a6534-180">Click on one of hello jobs in hello list and on hello runbook job details blade you can view its detail and output.</span></span>

## <a name="retrieving-job-status-using-windows-powershell"></a><span data-ttu-id="a6534-181">A Windows PowerShell feladatállapot lekérése</span><span class="sxs-lookup"><span data-stu-id="a6534-181">Retrieving job status using Windows PowerShell</span></span>
<span data-ttu-id="a6534-182">Használhatja a hello [Get-AzureRmAutomationJob](https://msdn.microsoft.com/library/mt619440.aspx) egy adott feladat egy runbook és hello adatai létrehozott tooretrieve hello feladatokat.</span><span class="sxs-lookup"><span data-stu-id="a6534-182">You can use hello [Get-AzureRmAutomationJob](https://msdn.microsoft.com/library/mt619440.aspx) tooretrieve hello jobs created for a runbook and hello details of a particular job.</span></span> <span data-ttu-id="a6534-183">Ha egy runbook indítása a Windows PowerShell használatával [Start-AzureRmAutomationRunbook](https://msdn.microsoft.com/library/mt603661.aspx), akkor adja vissza, hello eredményezett feladatot.</span><span class="sxs-lookup"><span data-stu-id="a6534-183">If you start a runbook with Windows PowerShell using [Start-AzureRmAutomationRunbook](https://msdn.microsoft.com/library/mt603661.aspx), then it returns hello resulting job.</span></span> <span data-ttu-id="a6534-184">Használjon [Get-AzureRmAutomationJob](https://msdn.microsoft.com/library/mt619440.aspx)egy feladat kimenetének kimeneti tooget.</span><span class="sxs-lookup"><span data-stu-id="a6534-184">Use [Get-AzureRmAutomationJob](https://msdn.microsoft.com/library/mt619440.aspx)Output tooget a job’s output.</span></span>

<span data-ttu-id="a6534-185">hello alábbi Példaparancsok beolvasása hello a minta-runbookhoz tartozó utolsó feladatot és annak állapotát, a hello runbook paramétereinek megadott hello értékek és a hello hello feladat eredményét jeleníti meg.</span><span class="sxs-lookup"><span data-stu-id="a6534-185">hello following sample commands retrieve hello last job for a sample runbook and displays its status, hello values provided for hello runbook parameters, and hello output from hello job.</span></span>

    $job = (Get-AzureRmAutomationJob –AutomationAccountName "MyAutomationAccount" `
    –RunbookName "Test-Runbook" -ResourceGroupName "ResourceGroup01" | sort LastModifiedDate –desc)[0]
    $job.Status
    $job.JobParameters
    Get-AzureRmAutomationJobOutput -ResourceGroupName "ResourceGroup01" `
    –AutomationAccountName "MyAutomationAcct" -Id $job.JobId –Stream Output

## <a name="fair-share"></a><span data-ttu-id="a6534-186">Igazságos elosztása révén</span><span class="sxs-lookup"><span data-stu-id="a6534-186">Fair share</span></span>
<span data-ttu-id="a6534-187">Rendelés tooshare erőforrások közötti összes runbookokat hello felhőben, az Azure Automation ideiglenesen el lesz bármely követően három óráig futott.</span><span class="sxs-lookup"><span data-stu-id="a6534-187">In order tooshare resources among all runbooks in hello cloud, Azure Automation will temporarily unload any job after it has been running for three hours.</span></span>  <span data-ttu-id="a6534-188">Ebben az időszakban, a feladatok [PowerShell-alapú runbookok](automation-runbook-types.md#powershell-runbooks) le van állítva, és nem fog újraindulni.</span><span class="sxs-lookup"><span data-stu-id="a6534-188">During this time, jobs for [PowerShell-based runbooks](automation-runbook-types.md#powershell-runbooks) are stopped and will not be restarted.</span></span>  <span data-ttu-id="a6534-189">feladat állapotának megjelenítése hello **leállítva**.</span><span class="sxs-lookup"><span data-stu-id="a6534-189">hello job status shows **Stopped**.</span></span>  <span data-ttu-id="a6534-190">Az ilyen típusú runbook mindig újraindítják hello elejétől, mivel nem támogatják az ellenőrzőpontokat.</span><span class="sxs-lookup"><span data-stu-id="a6534-190">This type of runbook is always restarted from hello beginning since they don't support checkpoints.</span></span>  

<span data-ttu-id="a6534-191">[PowerShell Munkafolyamatain alapuló runbookok](automation-runbook-types.md#powershell-workflow-runbooks) folytatódik a legutóbbi [ellenőrzőpont](https://docs.microsoft.com/system-center/sma/overview-powershell-workflows#bk_Checkpoints).</span><span class="sxs-lookup"><span data-stu-id="a6534-191">[PowerShell-Workflow-based runbooks](automation-runbook-types.md#powershell-workflow-runbooks) will be resumed from their last [checkpoint](https://docs.microsoft.com/system-center/sma/overview-powershell-workflows#bk_Checkpoints).</span></span>  <span data-ttu-id="a6534-192">Miután három óra, hello runbook-feladat fel lesz függesztve hello szolgáltatást és annak állapotát jeleníti meg **fut, az erőforrások Várakozás**.</span><span class="sxs-lookup"><span data-stu-id="a6534-192">After running three hours, hello runbook job will be suspended by hello service and its status shows **Running, waiting for resources**.</span></span>  <span data-ttu-id="a6534-193">Amikor elérhetővé válik a védőfalat, hello runbook automatikusan újraindul hello Automation szolgáltatás és hello legutóbbi ellenőrzőponttól folytatása.</span><span class="sxs-lookup"><span data-stu-id="a6534-193">When a sandbox becomes available, hello runbook will be automatically restarted by hello Automation service and resumes from hello last checkpoint.</span></span>  <span data-ttu-id="a6534-194">Ez történik akkor normál PowerShell-munkafolyamat felfüggesztése/újraindításhoz.</span><span class="sxs-lookup"><span data-stu-id="a6534-194">This is normal PowerShell-Workflow behavior for suspend/restart.</span></span>  <span data-ttu-id="a6534-195">Ha hello runbook újra meghaladja a futtatókörnyezet, három óra hello folyamat ismétlődik, toothree alkalommal be.</span><span class="sxs-lookup"><span data-stu-id="a6534-195">If hello runbook again exceeds three hours of runtime, hello process repeats, up toothree times.</span></span>  <span data-ttu-id="a6534-196">Hello harmadik újraindítás után, ha hello runbook még nem fejeződött be három óra, majd hello runbook-feladat sikertelen volt, hello feladat állapotánál **sikertelen Várakozás erőforrásokra**.</span><span class="sxs-lookup"><span data-stu-id="a6534-196">After hello third restart, if hello runbook still has not completed in three hours, then hello runbook job is failed, and hello job status shows **Failed, waiting for resources**.</span></span>  <span data-ttu-id="a6534-197">Ebben az esetben a következő kivétel hello hibával hello kap.</span><span class="sxs-lookup"><span data-stu-id="a6534-197">In this case, you receive hello following exception with hello failure.</span></span>

<span data-ttu-id="a6534-198">*hello feladat nem tovább fut, mert azt a ismételten fürtből hello azonos ellenőrzőpont. Győződjön meg arról, hogy a Runbook nem hajt végre műveletek végzésekor állapotában megőrzése nélkül.*</span><span class="sxs-lookup"><span data-stu-id="a6534-198">*hello job cannot continue running because it was repeatedly evicted from hello same checkpoint. Please make sure your Runbook does not perform lengthy operations without persisting its state.*</span></span>

<span data-ttu-id="a6534-199">Ez az tooprotect hello szolgáltatás runbookok futásának befejezése nélkül határozatlan ideig, mivel ezek nem képesek toomake azt újra learningmodule nélkül toohello a következő ellenőrzőpontot.</span><span class="sxs-lookup"><span data-stu-id="a6534-199">This is tooprotect hello service from runbooks running indefinitely without completing, as they are not able toomake it toohello next checkpoint without being unloaded again.</span></span>

<span data-ttu-id="a6534-200">Ha hello runbook nem ellenőrzőpontokkal rendelkezik, vagy hello feladat nem érte el a hello első ellenőrzőpont learningmodule előtt, majd újraindul hello elejétől.</span><span class="sxs-lookup"><span data-stu-id="a6534-200">If hello runbook has no checkpoints or hello job had not reached hello first checkpoint before being unloaded, then it restarts from hello beginning.</span></span>  

<span data-ttu-id="a6534-201">Ha létrehozta a forgatókönyvet, biztosítania kell, hogy hello idő toorun között két ellenőrzőpontokat tevékenységeket nem haladja meg a három óra.</span><span class="sxs-lookup"><span data-stu-id="a6534-201">When you create a runbook, you should ensure that hello time toorun any activities between two checkpoints does not exceed three hours.</span></span> <span data-ttu-id="a6534-202">Szükség lehet, hogy nem érte el a három óra határértékét vagy hosszú feloszthatja tooadd ellenőrzőpontokat tooyour runbook tooensure műveletek futtatása.</span><span class="sxs-lookup"><span data-stu-id="a6534-202">You may need tooadd checkpoints tooyour runbook tooensure that it does not reach this three hour limit or break up long running operations.</span></span> <span data-ttu-id="a6534-203">Például a runbook egy ismételt indexelése előfordulhat, hogy végre nagy SQL-adatbázis.</span><span class="sxs-lookup"><span data-stu-id="a6534-203">For example, your runbook might perform a reindex on a large SQL database.</span></span> <span data-ttu-id="a6534-204">Ha egy művelet nem fejeződik be valós hello belül megosztás korlátot, majd hello feladat a memóriából és újraindításra kerülnek hello elejétől.</span><span class="sxs-lookup"><span data-stu-id="a6534-204">If this single operation does not complete within hello fair share limit, then hello job are unloaded and restarted from hello beginning.</span></span> <span data-ttu-id="a6534-205">Ebben az esetben kell hello ismételt indexelése művelet több lépést, például egy olyan táblát újraindexelés, egyszerre történő feloszthatja, és helyezze egy ellenőrzőpontot egyes műveletek után, így hello feladat sikerült folytatása után utolsó toocomplete hello a művelethez.</span><span class="sxs-lookup"><span data-stu-id="a6534-205">In this case, you should break up hello reindex operation into multiple steps, such as reindexing one table at a time, and then insert a checkpoint after each operation so that hello job could resume after hello last operation toocomplete.</span></span>

## <a name="next-steps"></a><span data-ttu-id="a6534-206">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="a6534-206">Next steps</span></span>
* <span data-ttu-id="a6534-207">toolearn hello többféle módszerrel is lehet használt toostart egy runbookot, az Azure Automationben bővebben lásd: [runbook elindítása az Azure Automationben](automation-starting-a-runbook.md)</span><span class="sxs-lookup"><span data-stu-id="a6534-207">toolearn more about hello different methods that can be used toostart a runbook in Azure Automation, see [Starting a runbook in Azure Automation](automation-starting-a-runbook.md)</span></span>

