---
title: "Továbbítsa az Azure Automation DSC jelentésadatait OMS szolgáltatáshoz |} Microsoft Docs"
description: "Ez a cikk bemutatja, hogyan elküldeni kívánt konfiguráló (DSC) adatok jelentéskészítés a Microsoft Operations Management Suite Log Analytics képes biztosítani a további betekintést és kezelése."
services: automation
documentationcenter: 
author: eslesar
manager: carmonm
editor: tysonn
ms.service: automation
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 05/24/2017
ms.author: eslesar
ms.openlocfilehash: 316031c5297a0201c8db4a9e177298c78962c673
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 07/11/2017
---
# <a name="forward-azure-automation-dsc-reporting-data-to-oms-log-analytics"></a><span data-ttu-id="93ebb-103">Azure Automation DSC OMS szolgáltatáshoz jelentéskészítéshez szükséges adatok továbbítása</span><span class="sxs-lookup"><span data-stu-id="93ebb-103">Forward Azure Automation DSC reporting data to OMS Log Analytics</span></span>

<span data-ttu-id="93ebb-104">Automation DSC csomópont állapota adatokat küldhet a Microsoft Operations Management Suite (OMS) Naplóelemzési munkaterület.</span><span class="sxs-lookup"><span data-stu-id="93ebb-104">Automation can send DSC node status data to your Microsoft Operations Management Suite (OMS) Log Analytics workspace.</span></span>  
<span data-ttu-id="93ebb-105">Megfelelőségi állapota látható az Azure portálon, vagy a PowerShell használatával, a csomópontok számára, és az egyedi DSC erőforrások a csomópont-konfigurációt.</span><span class="sxs-lookup"><span data-stu-id="93ebb-105">Compliance status is visible in the Azure portal, or with PowerShell, for nodes and for individual DSC resources in node configurations.</span></span> <span data-ttu-id="93ebb-106">Log Analytics segítségével:</span><span class="sxs-lookup"><span data-stu-id="93ebb-106">With Log Analytics you can:</span></span>

* <span data-ttu-id="93ebb-107">A megfelelőségi adatok lekérése a felügyelt csomópontok és az egyes erőforrások</span><span class="sxs-lookup"><span data-stu-id="93ebb-107">Get compliance information for managed nodes and individual resources</span></span>
* <span data-ttu-id="93ebb-108">Indítás, egy e-mailek vagy a riasztás a megfelelőségi állapot alapján</span><span class="sxs-lookup"><span data-stu-id="93ebb-108">Trigger an email or alert based on compliance status</span></span>
* <span data-ttu-id="93ebb-109">Speciális lekérdezéseket írhat a felügyelt csomópontokon</span><span class="sxs-lookup"><span data-stu-id="93ebb-109">Write advanced queries across your managed nodes</span></span>
* <span data-ttu-id="93ebb-110">Megfelelőségi állapot összefüggéseket Automation-fiókok között</span><span class="sxs-lookup"><span data-stu-id="93ebb-110">Correlate compliance status across Automation accounts</span></span>
* <span data-ttu-id="93ebb-111">A csomópont megfelelőségi előzményei megjelenítheti az adott idő alatt</span><span class="sxs-lookup"><span data-stu-id="93ebb-111">Visualize your node compliance history over time</span></span>

## <a name="prerequisites"></a><span data-ttu-id="93ebb-112">Előfeltételek</span><span class="sxs-lookup"><span data-stu-id="93ebb-112">Prerequisites</span></span>

<span data-ttu-id="93ebb-113">Indítsa el az Automation DSC-jelentéseket küld a Naplóelemzési, az alábbiak szükségesek:</span><span class="sxs-lookup"><span data-stu-id="93ebb-113">To start sending your Automation DSC reports to Log Analytics, you need:</span></span>

* <span data-ttu-id="93ebb-114">A November 2016 vagy újabb kiadása [Azure PowerShell](/powershell/azure/overview) (v2.3.0).</span><span class="sxs-lookup"><span data-stu-id="93ebb-114">The November 2016 or later release of [Azure PowerShell](/powershell/azure/overview) (v2.3.0).</span></span>
* <span data-ttu-id="93ebb-115">Egy Azure Automation-fiók.</span><span class="sxs-lookup"><span data-stu-id="93ebb-115">An Azure Automation account.</span></span> <span data-ttu-id="93ebb-116">További információkért lásd: [Ismerkedés az Azure Automation szolgáltatással](automation-offering-get-started.md)</span><span class="sxs-lookup"><span data-stu-id="93ebb-116">For more information, see [Getting Started with Azure Automation](automation-offering-get-started.md)</span></span>
* <span data-ttu-id="93ebb-117">A Naplóelemzési munkaterület egy **Automation & vezérlő** szolgáltatásajánlat.</span><span class="sxs-lookup"><span data-stu-id="93ebb-117">A Log Analytics workspace with an **Automation & Control** service offering.</span></span> <span data-ttu-id="93ebb-118">További információkért lásd: [Ismerkedés a Naplóelemzési](../log-analytics/log-analytics-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="93ebb-118">For more information, see [Get started with Log Analytics](../log-analytics/log-analytics-get-started.md).</span></span>
* <span data-ttu-id="93ebb-119">Legalább egy Azure Automation DSC-csomópont.</span><span class="sxs-lookup"><span data-stu-id="93ebb-119">At least one Azure Automation DSC node.</span></span> <span data-ttu-id="93ebb-120">További információkért lásd: [bevezetési gépeket Azure Automation DSC általi kezelésre](automation-dsc-onboarding.md)</span><span class="sxs-lookup"><span data-stu-id="93ebb-120">For more information, see [Onboarding machines for management by Azure Automation DSC](automation-dsc-onboarding.md)</span></span> 

## <a name="set-up-integration-with-log-analytics"></a><span data-ttu-id="93ebb-121">Log Analytics-integráció beállítása</span><span class="sxs-lookup"><span data-stu-id="93ebb-121">Set up integration with Log Analytics</span></span>

<span data-ttu-id="93ebb-122">Adatok importálása az Azure Automation DSC Log Analyticshez való elindításához kövesse az alábbi lépéseket:</span><span class="sxs-lookup"><span data-stu-id="93ebb-122">To begin importing data from Azure Automation DSC into Log Analytics, complete the following steps:</span></span>

1. <span data-ttu-id="93ebb-123">Jelentkezzen be az Azure PowerShell-fiókjával.</span><span class="sxs-lookup"><span data-stu-id="93ebb-123">Log in to your Azure account in PowerShell.</span></span> <span data-ttu-id="93ebb-124">Lásd: [jelentkezzen be az Azure PowerShell](https://docs.microsoft.com/en-us/powershell/azure/authenticate-azureps?view=azurermps-4.0.0)</span><span class="sxs-lookup"><span data-stu-id="93ebb-124">See [Log in with Azure PowerShell](https://docs.microsoft.com/en-us/powershell/azure/authenticate-azureps?view=azurermps-4.0.0)</span></span>
1. <span data-ttu-id="93ebb-125">Beolvasása a _ResourceId_ , az automation-fiók a következő PowerShell-parancs futtatásával: (Ha egynél több automation-fiók, válassza a _ResourceID_ a konfigurálni kívánt fiókhoz).</span><span class="sxs-lookup"><span data-stu-id="93ebb-125">Get the _ResourceId_ of your automation account by running the following PowerShell command: (if you have more than one automation account, choose the _ResourceID_ for the account you want to configure).</span></span>

  ```powershell
  # Find the ResourceId for the Automation Account
  Find-AzureRmResource -ResourceType "Microsoft.Automation/automationAccounts"
  ```
1. <span data-ttu-id="93ebb-126">Beolvasása a _ResourceId_ a Naplóelemzési munkaterület a következő PowerShell-parancs futtatásával: (Ha egynél több munkaterületen, válassza a _ResourceID_ a konfigurálni kívánt munkaterület).</span><span class="sxs-lookup"><span data-stu-id="93ebb-126">Get the _ResourceId_ of your Log Analytics workspace by running the following PowerShell command: (if you have more than one workspace, choose the _ResourceID_ for the workspace you want to configure).</span></span>

  ```powershell
  # Find the ResourceId for the Log Analytics workspace
  Find-AzureRmResource -ResourceType "Microsoft.OperationalInsights/workspaces"
  ```
1. <span data-ttu-id="93ebb-127">Futtassa a következő PowerShell-parancsot cseréje `<AutomationResourceId>` és `<WorkspaceResourceId>` rendelkező a _ResourceId_ értékeit az előző lépéseket:</span><span class="sxs-lookup"><span data-stu-id="93ebb-127">Run the following PowerShell command, replacing `<AutomationResourceId>` and `<WorkspaceResourceId>` with the _ResourceId_ values from each of the previous steps:</span></span>

  ```powershell
  Set-AzureRmDiagnosticSetting -ResourceId <AutomationResourceId> -WorkspaceId <WorkspaceResourceId> -Enabled $true -Categories "DscNodeStatus"
  ```

<span data-ttu-id="93ebb-128">Ha le kívánja állítani a adatok importálását az Azure Automation DSC Log Analyticshez való, futtassa a következő PowerShell-parancsot.</span><span class="sxs-lookup"><span data-stu-id="93ebb-128">If you want to stop importing data from Azure Automation DSC into Log Analytics, run the following PowerShell command.</span></span>

```powershell
Set-AzureRmDiagnosticSetting -ResourceId <AutomationResourceId> -WorkspaceId <WorkspaceResourceId> -Enabled $false -Categories "DscNodeStatus"
```

## <a name="view-the-dsc-logs"></a><span data-ttu-id="93ebb-129">A DSC-naplók megtekintése</span><span class="sxs-lookup"><span data-stu-id="93ebb-129">View the DSC logs</span></span>

<span data-ttu-id="93ebb-130">Az Automation DSC adatok Log Analyticshez való integráció beállítása után a **naplófájl-keresési** gomb megjelenik a **DSC-csomópontok** panelen található az automation-fiók.</span><span class="sxs-lookup"><span data-stu-id="93ebb-130">After you set up integration with Log Analytics for your Automation DSC data, a **Log search** button will appear on the **DSC Nodes** blade of your automation account.</span></span> <span data-ttu-id="93ebb-131">Kattintson a **naplófájl-keresési** gombra kattintva megtekintheti a DSC-csomópont adatait a naplókat.</span><span class="sxs-lookup"><span data-stu-id="93ebb-131">Click the **Log Search** button to view the logs for DSC node data.</span></span>

![Napló Keresés gomb](media/automation-dsc-diagnostics/log-search-button.png)

<span data-ttu-id="93ebb-133">A **naplófájl-keresési** panel nyílik meg, és megjelenik egy **DscNodeStatusData** művelete minden DSC-csomópont, és egy **DscResourceStatusData** minden művelet [DSC erőforrás](https://msdn.microsoft.com/powershell/dsc/resources) adott csomóponton alkalmazott a csomópont-konfigurációnak a neve.</span><span class="sxs-lookup"><span data-stu-id="93ebb-133">The **Log Search** blade opens, and you see a **DscNodeStatusData** operation for each DSC node, and a **DscResourceStatusData** operation for each [DSC resource](https://msdn.microsoft.com/powershell/dsc/resources) called in the Node configuration applied to that node.</span></span>

<span data-ttu-id="93ebb-134">A **DscResourceStatusData** művelet nem sikerült DSC erőforrásokat hiba adatait tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="93ebb-134">The **DscResourceStatusData** operation contains error information for any DSC resources that failed.</span></span>

<span data-ttu-id="93ebb-135">Kattintson az adott műveletre vonatkozó adatok megjelenítéséhez a listában lévő egyes műveletek.</span><span class="sxs-lookup"><span data-stu-id="93ebb-135">Click each operation in the list to see the data for that operation.</span></span>

<span data-ttu-id="93ebb-136">A naplók megtekintéséhez által [Log Analyticshez megkeresése.</span><span class="sxs-lookup"><span data-stu-id="93ebb-136">You can also view the logs by [searching in Log Analytics.</span></span> <span data-ttu-id="93ebb-137">Lásd: [található adatokat, és napló keresések](../log-analytics/log-analytics-log-searches.md).</span><span class="sxs-lookup"><span data-stu-id="93ebb-137">See [Find data using log searches](../log-analytics/log-analytics-log-searches.md).</span></span>
<span data-ttu-id="93ebb-138">Írja be a következő lekérdezés futtatásával a DSC-napló keresése:`Type=AzureDiagnostics ResourceProvider="MICROSOFT.AUTOMATION" Category = "DscNodeStatus"`</span><span class="sxs-lookup"><span data-stu-id="93ebb-138">Type the following query to find your DSC logs: `Type=AzureDiagnostics ResourceProvider="MICROSOFT.AUTOMATION" Category = "DscNodeStatus"`</span></span>

<span data-ttu-id="93ebb-139">A művelet neve is szűkítheti a lekérdezést.</span><span class="sxs-lookup"><span data-stu-id="93ebb-139">You can also narrow the query by the operation name.</span></span> <span data-ttu-id="93ebb-140">Például: ' típus = AzureDiagnostics ResourceProvider = "MICROSOFT. AUTOMATIZÁLÁSI"kategória ="DscNodeStatus"OperationName ="DscNodeStatusData"</span><span class="sxs-lookup"><span data-stu-id="93ebb-140">For example: \`Type=AzureDiagnostics ResourceProvider="MICROSOFT.AUTOMATION" Category = "DscNodeStatus" OperationName = "DscNodeStatusData"</span></span>

### <a name="send-an-email-when-a-dsc-compliance-check-fails"></a><span data-ttu-id="93ebb-141">E-mailt küld, ha a DSC-megfelelőségi ellenőrzés sikertelen lesz.</span><span class="sxs-lookup"><span data-stu-id="93ebb-141">Send an email when a DSC compliance check fails</span></span>

<span data-ttu-id="93ebb-142">A felső ügyfelek kéréseire egyik arra, hogy a szöveg vagy egy e-mailt küldeni, ha probléma merül fel a DSC-konfiguráció.</span><span class="sxs-lookup"><span data-stu-id="93ebb-142">One of our top customer requests is for the ability to send an email or a text when something goes wrong with a DSC configuration.</span></span>   

<span data-ttu-id="93ebb-143">A riasztási szabályt létrehozni, akkor először hozzon létre egy napló keressen rá a DSC jelentés azt jelzi, hogy a riasztás kell meghívnia.</span><span class="sxs-lookup"><span data-stu-id="93ebb-143">To create an alert rule, you start by creating a log search for the DSC report records that should invoke the alert.</span></span>  <span data-ttu-id="93ebb-144">Kattintson a **riasztás** gombra kattintva hozza létre és konfigurálja a riasztási szabályt.</span><span class="sxs-lookup"><span data-stu-id="93ebb-144">Click the **Alert** button to create and configure the alert rule.</span></span>

1. <span data-ttu-id="93ebb-145">A napló elemzés áttekintése lapon kattintson **naplófájl-keresési**.</span><span class="sxs-lookup"><span data-stu-id="93ebb-145">From the Log Analytics Overview page, click **Log Search**.</span></span>
1. <span data-ttu-id="93ebb-146">A riasztás napló keresési lekérdezés létrehozásához írja be a következő keresést a lekérdezés mezőbe:`Type=AzureDiagnostics Category=DscNodeStatus NodeName_s=DSCTEST1 OperationName=DscNodeStatusData ResultType=Failed`</span><span class="sxs-lookup"><span data-stu-id="93ebb-146">Create a log search query for your alert by typing the following search into the query field:  `Type=AzureDiagnostics Category=DscNodeStatus NodeName_s=DSCTEST1 OperationName=DscNodeStatusData ResultType=Failed`</span></span>

  <span data-ttu-id="93ebb-147">Ha állított be naplók egynél több Automation-fiók vagy előfizetés a munkaterületet, csoportosíthatók a a riasztások előfizetés és az Automation-fiók.</span><span class="sxs-lookup"><span data-stu-id="93ebb-147">If you have set up logs from more than one Automation account or subscription to your workspace, you can group your alerts by subscription and Automation account.</span></span>  
  <span data-ttu-id="93ebb-148">Automation-fiók nevét a DscNodeStatusData keresése erőforrás mezője származtatható.</span><span class="sxs-lookup"><span data-stu-id="93ebb-148">Automation account name can be derived from the Resource field in the search of DscNodeStatusData.</span></span>  
1. <span data-ttu-id="93ebb-149">Lehetőségre a **riasztási szabály hozzáadása** kattintson **riasztási** az oldal tetején.</span><span class="sxs-lookup"><span data-stu-id="93ebb-149">To open the **Add Alert Rule** screen, click **Alert** at the top of the page.</span></span> <span data-ttu-id="93ebb-150">A riasztás konfigurálása lehetőségekről további információkért lásd: [Naplóelemzési riasztások](../log-analytics/log-analytics-alerts.md#alert-rules).</span><span class="sxs-lookup"><span data-stu-id="93ebb-150">For more information on the options to configure the alert, see [Alerts in Log Analytics](../log-analytics/log-analytics-alerts.md#alert-rules).</span></span>

### <a name="find-failed-dsc-resources-across-all-nodes"></a><span data-ttu-id="93ebb-151">Sikertelen a DSC-erőforrások található összes csomópont</span><span class="sxs-lookup"><span data-stu-id="93ebb-151">Find failed DSC resources across all nodes</span></span>

<span data-ttu-id="93ebb-152">Egy Naplóelemzési előnye, hogy a csomópontok közötti sikertelen ellenőrzést kereshet.</span><span class="sxs-lookup"><span data-stu-id="93ebb-152">One advantage of using Log Analytics is that you can search for failed checks across nodes.</span></span>
<span data-ttu-id="93ebb-153">Találja DSC-erőforrások, melyeknél nem sikerült az összes példányát.</span><span class="sxs-lookup"><span data-stu-id="93ebb-153">To find all instances of DSC resources that failed.</span></span>

1. <span data-ttu-id="93ebb-154">A napló elemzés áttekintése lapon kattintson **naplófájl-keresési**.</span><span class="sxs-lookup"><span data-stu-id="93ebb-154">From the Log Analytics Overview page, click **Log Search**.</span></span>
1. <span data-ttu-id="93ebb-155">A riasztás napló keresési lekérdezés létrehozásához írja be a következő keresést a lekérdezés mezőbe:`Type=AzureDiagnostics Category=DscNodeStatus OperationName=DscResourceStatusData ResultType=Failed`</span><span class="sxs-lookup"><span data-stu-id="93ebb-155">Create a log search query for your alert by typing the following search into the query field:  `Type=AzureDiagnostics Category=DscNodeStatus OperationName=DscResourceStatusData ResultType=Failed`</span></span>

### <a name="view-historical-dsc-node-status"></a><span data-ttu-id="93ebb-156">Korábbi DSC csomópont állapotának megtekintése</span><span class="sxs-lookup"><span data-stu-id="93ebb-156">View historical DSC node status</span></span>

<span data-ttu-id="93ebb-157">Végül érdemes lehet a DSC-csomópont állapotelőzmény megjelenítheti az adott idő alatt.</span><span class="sxs-lookup"><span data-stu-id="93ebb-157">Finally, you may want to visualize your DSC node status history over time.</span></span>  
<span data-ttu-id="93ebb-158">Ez a lekérdezés segítségével keresse meg a DSC-csomópont állapotát állapotának adott idő alatt.</span><span class="sxs-lookup"><span data-stu-id="93ebb-158">You can use this query to search for the status of your DSC node status over time.</span></span>

`Type=AzureDiagnostics ResourceProvider="MICROSOFT.AUTOMATION" Category=DscNodeStatus NOT(ResultType="started") | measure Count() by ResultType interval 1hour`  

<span data-ttu-id="93ebb-159">A csomópont állapota a diagram megjeleníti adott idő alatt.</span><span class="sxs-lookup"><span data-stu-id="93ebb-159">This will display a chart of the node status over time.</span></span>

## <a name="log-analytics-records"></a><span data-ttu-id="93ebb-160">Log Analytics-rekordok</span><span class="sxs-lookup"><span data-stu-id="93ebb-160">Log Analytics records</span></span>

<span data-ttu-id="93ebb-161">Azure Automation diagnosztika rekordok két kategóriába Naplóelemzési hoz létre.</span><span class="sxs-lookup"><span data-stu-id="93ebb-161">Diagnostics from Azure Automation creates two categories of records in Log Analytics.</span></span>

### <a name="dscnodestatusdata"></a><span data-ttu-id="93ebb-162">DscNodeStatusData</span><span class="sxs-lookup"><span data-stu-id="93ebb-162">DscNodeStatusData</span></span>

| <span data-ttu-id="93ebb-163">Tulajdonság</span><span class="sxs-lookup"><span data-stu-id="93ebb-163">Property</span></span> | <span data-ttu-id="93ebb-164">Leírás</span><span class="sxs-lookup"><span data-stu-id="93ebb-164">Description</span></span> |
| --- | --- |
| <span data-ttu-id="93ebb-165">TimeGenerated</span><span class="sxs-lookup"><span data-stu-id="93ebb-165">TimeGenerated</span></span> |<span data-ttu-id="93ebb-166">Dátum és idő, amikor a megfelelőségi ellenőrzés futtatta.</span><span class="sxs-lookup"><span data-stu-id="93ebb-166">Date and time when the compliance check ran.</span></span> |
| <span data-ttu-id="93ebb-167">OperationName</span><span class="sxs-lookup"><span data-stu-id="93ebb-167">OperationName</span></span> |<span data-ttu-id="93ebb-168">DscNodeStatusData</span><span class="sxs-lookup"><span data-stu-id="93ebb-168">DscNodeStatusData</span></span> |
| <span data-ttu-id="93ebb-169">ResultType</span><span class="sxs-lookup"><span data-stu-id="93ebb-169">ResultType</span></span> |<span data-ttu-id="93ebb-170">Hogy a csomópont nem megfelelő.</span><span class="sxs-lookup"><span data-stu-id="93ebb-170">Whether the node is compliant.</span></span> |
| <span data-ttu-id="93ebb-171">NodeName_s</span><span class="sxs-lookup"><span data-stu-id="93ebb-171">NodeName_s</span></span> |<span data-ttu-id="93ebb-172">A felügyelt csomópont neve.</span><span class="sxs-lookup"><span data-stu-id="93ebb-172">The name of the managed node.</span></span> |
| <span data-ttu-id="93ebb-173">NodeComplianceStatus_s</span><span class="sxs-lookup"><span data-stu-id="93ebb-173">NodeComplianceStatus_s</span></span> |<span data-ttu-id="93ebb-174">Hogy a csomópont nem megfelelő.</span><span class="sxs-lookup"><span data-stu-id="93ebb-174">Whether the node is compliant.</span></span> |
| <span data-ttu-id="93ebb-175">DscReportStatus</span><span class="sxs-lookup"><span data-stu-id="93ebb-175">DscReportStatus</span></span> |<span data-ttu-id="93ebb-176">Ellenőrizze, hogy a megfelelőségi sikeresen lefutott.</span><span class="sxs-lookup"><span data-stu-id="93ebb-176">Whether the compliance check ran successfully.</span></span> |
| <span data-ttu-id="93ebb-177">ConfigurationMode</span><span class="sxs-lookup"><span data-stu-id="93ebb-177">ConfigurationMode</span></span> | <span data-ttu-id="93ebb-178">A konfiguráció alkalmazásának a módját a csomópontra.</span><span class="sxs-lookup"><span data-stu-id="93ebb-178">How the configuration is applied to the node.</span></span> <span data-ttu-id="93ebb-179">A lehetséges értékek: __"ApplyOnly"__,__"ApplyandMonitior"__, és __"ApplyandAutoCorrect"__.</span><span class="sxs-lookup"><span data-stu-id="93ebb-179">Possible values are __"ApplyOnly"__,__"ApplyandMonitior"__, and __"ApplyandAutoCorrect"__.</span></span> <ul><li><span data-ttu-id="93ebb-180">__ApplyOnly__: DSC konfigurációjának alkalmazására szolgál, és nincs semmi hatása további, kivéve, ha az új konfiguráció célcsomóponton, vagy ha egy kiszolgáló új konfigurációt van lekért fejlesztőre.</span><span class="sxs-lookup"><span data-stu-id="93ebb-180">__ApplyOnly__: DSC applies the configuration and does nothing further unless a new configuration is pushed to the target node or when a new configuration is pulled from a server.</span></span> <span data-ttu-id="93ebb-181">Az új konfiguráció első alkalmazása után DSC nem ellenőrzi a korábban konfigurált állapotból eltéréseket.</span><span class="sxs-lookup"><span data-stu-id="93ebb-181">After initial application of a new configuration, DSC does not check for drift from a previously configured state.</span></span> <span data-ttu-id="93ebb-182">A konfiguráció alkalmazásához, amíg az nem lesz sikeres, mielőtt megpróbálja DSC __ApplyOnly__ lép érvénybe.</span><span class="sxs-lookup"><span data-stu-id="93ebb-182">DSC attempts to apply the configuration until it is successful before __ApplyOnly__ takes effect.</span></span> </li><li> <span data-ttu-id="93ebb-183">__ApplyAndMonitor__: Ez az az alapértelmezett érték.</span><span class="sxs-lookup"><span data-stu-id="93ebb-183">__ApplyAndMonitor__: This is the default value.</span></span> <span data-ttu-id="93ebb-184">A LCM alkalmazza minden új konfigurációt.</span><span class="sxs-lookup"><span data-stu-id="93ebb-184">The LCM applies any new configurations.</span></span> <span data-ttu-id="93ebb-185">Az új konfiguráció első alkalmazása után a célcsomóponton drifts kívánt állapotból, ha DSC jelent a naplókban az eltérés.</span><span class="sxs-lookup"><span data-stu-id="93ebb-185">After initial application of a new configuration, if the target node drifts from the desired state, DSC reports the discrepancy in logs.</span></span> <span data-ttu-id="93ebb-186">A konfiguráció alkalmazásához, amíg az nem lesz sikeres, mielőtt megpróbálja DSC __ApplyAndMonitor__ lép érvénybe.</span><span class="sxs-lookup"><span data-stu-id="93ebb-186">DSC attempts to apply the configuration until it is successful before __ApplyAndMonitor__ takes effect.</span></span></li><li><span data-ttu-id="93ebb-187">__ApplyAndAutoCorrect__: DSC alkalmazza minden új konfigurációt.</span><span class="sxs-lookup"><span data-stu-id="93ebb-187">__ApplyAndAutoCorrect__: DSC applies any new configurations.</span></span> <span data-ttu-id="93ebb-188">Az új konfiguráció első alkalmazása után a célcsomópont drifts kívánt állapotból, ha DSC jelent a naplókban az eltérés, és majd újra alkalmazza a jelenlegi konfiguráció.</span><span class="sxs-lookup"><span data-stu-id="93ebb-188">After initial application of a new configuration, if the target node drifts from the desired state, DSC reports the discrepancy in logs, and then reapplies the current configuration.</span></span></li></ul> |
| <span data-ttu-id="93ebb-189">HostName_s</span><span class="sxs-lookup"><span data-stu-id="93ebb-189">HostName_s</span></span> | <span data-ttu-id="93ebb-190">A felügyelt csomópont neve.</span><span class="sxs-lookup"><span data-stu-id="93ebb-190">The name of the managed node.</span></span> |
| <span data-ttu-id="93ebb-191">IP-cím</span><span class="sxs-lookup"><span data-stu-id="93ebb-191">IPAddress</span></span> | <span data-ttu-id="93ebb-192">A felügyelt csomóponthoz IPv4-címét.</span><span class="sxs-lookup"><span data-stu-id="93ebb-192">The IPv4 address of the managed node.</span></span> |
| <span data-ttu-id="93ebb-193">Kategória</span><span class="sxs-lookup"><span data-stu-id="93ebb-193">Category</span></span> | <span data-ttu-id="93ebb-194">DscNodeStatus</span><span class="sxs-lookup"><span data-stu-id="93ebb-194">DscNodeStatus</span></span> |
| <span data-ttu-id="93ebb-195">Erőforrás</span><span class="sxs-lookup"><span data-stu-id="93ebb-195">Resource</span></span> | <span data-ttu-id="93ebb-196">Az Azure Automation-fiók neve.</span><span class="sxs-lookup"><span data-stu-id="93ebb-196">The name of the Azure Automation account.</span></span> |
| <span data-ttu-id="93ebb-197">Tenant_g</span><span class="sxs-lookup"><span data-stu-id="93ebb-197">Tenant_g</span></span> | <span data-ttu-id="93ebb-198">A hívónak a bérlői azonosító GUID.</span><span class="sxs-lookup"><span data-stu-id="93ebb-198">GUID that identifies the tenant for the Caller.</span></span> |
| <span data-ttu-id="93ebb-199">NodeId_g</span><span class="sxs-lookup"><span data-stu-id="93ebb-199">NodeId_g</span></span> |<span data-ttu-id="93ebb-200">A felügyelt csomóponthoz azonosító GUID.</span><span class="sxs-lookup"><span data-stu-id="93ebb-200">GUID that identifies the managed node.</span></span> |
| <span data-ttu-id="93ebb-201">DscReportId_g</span><span class="sxs-lookup"><span data-stu-id="93ebb-201">DscReportId_g</span></span> |<span data-ttu-id="93ebb-202">A jelentés azonosító GUID.</span><span class="sxs-lookup"><span data-stu-id="93ebb-202">GUID that identifies the report.</span></span> |
| <span data-ttu-id="93ebb-203">LastSeenTime_t</span><span class="sxs-lookup"><span data-stu-id="93ebb-203">LastSeenTime_t</span></span> |<span data-ttu-id="93ebb-204">Dátum és idő, amikor a jelentés utolsó tekinthetők.</span><span class="sxs-lookup"><span data-stu-id="93ebb-204">Date and time when the report was last viewed.</span></span> |
| <span data-ttu-id="93ebb-205">ReportStartTime_t</span><span class="sxs-lookup"><span data-stu-id="93ebb-205">ReportStartTime_t</span></span> |<span data-ttu-id="93ebb-206">Dátum és idő, amikor a jelentés elindítása.</span><span class="sxs-lookup"><span data-stu-id="93ebb-206">Date and time when the report was started.</span></span> |
| <span data-ttu-id="93ebb-207">ReportEndTime_t</span><span class="sxs-lookup"><span data-stu-id="93ebb-207">ReportEndTime_t</span></span> |<span data-ttu-id="93ebb-208">Dátum és idő, amikor a jelentés befejeződött.</span><span class="sxs-lookup"><span data-stu-id="93ebb-208">Date and time when the report completed.</span></span> |
| <span data-ttu-id="93ebb-209">NumberOfResources_d</span><span class="sxs-lookup"><span data-stu-id="93ebb-209">NumberOfResources_d</span></span> |<span data-ttu-id="93ebb-210">A konfiguráció a csomóponton alkalmazott nevű DSC erőforrások száma.</span><span class="sxs-lookup"><span data-stu-id="93ebb-210">The number of DSC resources called in the configuration applied to the node.</span></span> |
| <span data-ttu-id="93ebb-211">SourceSystem</span><span class="sxs-lookup"><span data-stu-id="93ebb-211">SourceSystem</span></span> | <span data-ttu-id="93ebb-212">Hogyan Naplóelemzési gyűjti az adatokat.</span><span class="sxs-lookup"><span data-stu-id="93ebb-212">How Log Analytics collected the data.</span></span> <span data-ttu-id="93ebb-213">Mindig *Azure* az Azure diagnostics.</span><span class="sxs-lookup"><span data-stu-id="93ebb-213">Always *Azure* for Azure diagnostics.</span></span> |
| <span data-ttu-id="93ebb-214">ResourceId</span><span class="sxs-lookup"><span data-stu-id="93ebb-214">ResourceId</span></span> |<span data-ttu-id="93ebb-215">Adja meg az Azure Automation-fiók.</span><span class="sxs-lookup"><span data-stu-id="93ebb-215">Specifies the Azure Automation account.</span></span> |
| <span data-ttu-id="93ebb-216">ResultDescription</span><span class="sxs-lookup"><span data-stu-id="93ebb-216">ResultDescription</span></span> | <span data-ttu-id="93ebb-217">Ez a művelet leírását.</span><span class="sxs-lookup"><span data-stu-id="93ebb-217">The description for this operation.</span></span> |
| <span data-ttu-id="93ebb-218">SubscriptionId</span><span class="sxs-lookup"><span data-stu-id="93ebb-218">SubscriptionId</span></span> | <span data-ttu-id="93ebb-219">Az Azure-előfizetés azonosítója (GUID) az Automation-fiókhoz.</span><span class="sxs-lookup"><span data-stu-id="93ebb-219">The Azure subscription Id (GUID) for the Automation account.</span></span> |
| <span data-ttu-id="93ebb-220">ResourceGroup</span><span class="sxs-lookup"><span data-stu-id="93ebb-220">ResourceGroup</span></span> | <span data-ttu-id="93ebb-221">Az erőforráscsoport neve az Automation-fiók.</span><span class="sxs-lookup"><span data-stu-id="93ebb-221">Name of the resource group for the Automation account.</span></span> |
| <span data-ttu-id="93ebb-222">ResourceProvider</span><span class="sxs-lookup"><span data-stu-id="93ebb-222">ResourceProvider</span></span> | <span data-ttu-id="93ebb-223">MICROSOFT. AUTOMATIZÁLÁS</span><span class="sxs-lookup"><span data-stu-id="93ebb-223">MICROSOFT.AUTOMATION</span></span> |
| <span data-ttu-id="93ebb-224">ResourceType</span><span class="sxs-lookup"><span data-stu-id="93ebb-224">ResourceType</span></span> | <span data-ttu-id="93ebb-225">AUTOMATIONACCOUNTS</span><span class="sxs-lookup"><span data-stu-id="93ebb-225">AUTOMATIONACCOUNTS</span></span> |
| <span data-ttu-id="93ebb-226">CorrelationId</span><span class="sxs-lookup"><span data-stu-id="93ebb-226">CorrelationId</span></span> |<span data-ttu-id="93ebb-227">A megfelelőségi jelentés korrelációs azonosítója GUID.</span><span class="sxs-lookup"><span data-stu-id="93ebb-227">GUID that is the Correlation Id of the compliance report.</span></span> |

### <a name="dscresourcestatusdata"></a><span data-ttu-id="93ebb-228">DscResourceStatusData</span><span class="sxs-lookup"><span data-stu-id="93ebb-228">DscResourceStatusData</span></span>

| <span data-ttu-id="93ebb-229">Tulajdonság</span><span class="sxs-lookup"><span data-stu-id="93ebb-229">Property</span></span> | <span data-ttu-id="93ebb-230">Leírás</span><span class="sxs-lookup"><span data-stu-id="93ebb-230">Description</span></span> |
| --- | --- |
| <span data-ttu-id="93ebb-231">TimeGenerated</span><span class="sxs-lookup"><span data-stu-id="93ebb-231">TimeGenerated</span></span> |<span data-ttu-id="93ebb-232">Dátum és idő, amikor a megfelelőségi ellenőrzés futtatta.</span><span class="sxs-lookup"><span data-stu-id="93ebb-232">Date and time when the compliance check ran.</span></span> |
| <span data-ttu-id="93ebb-233">OperationName</span><span class="sxs-lookup"><span data-stu-id="93ebb-233">OperationName</span></span> |<span data-ttu-id="93ebb-234">DscResourceStatusData</span><span class="sxs-lookup"><span data-stu-id="93ebb-234">DscResourceStatusData</span></span>|
| <span data-ttu-id="93ebb-235">ResultType</span><span class="sxs-lookup"><span data-stu-id="93ebb-235">ResultType</span></span> |<span data-ttu-id="93ebb-236">Az erőforrás-e megfelelő.</span><span class="sxs-lookup"><span data-stu-id="93ebb-236">Whether the resource is compliant.</span></span> |
| <span data-ttu-id="93ebb-237">NodeName_s</span><span class="sxs-lookup"><span data-stu-id="93ebb-237">NodeName_s</span></span> |<span data-ttu-id="93ebb-238">A felügyelt csomópont neve.</span><span class="sxs-lookup"><span data-stu-id="93ebb-238">The name of the managed node.</span></span> |
| <span data-ttu-id="93ebb-239">Kategória</span><span class="sxs-lookup"><span data-stu-id="93ebb-239">Category</span></span> | <span data-ttu-id="93ebb-240">DscNodeStatus</span><span class="sxs-lookup"><span data-stu-id="93ebb-240">DscNodeStatus</span></span> |
| <span data-ttu-id="93ebb-241">Erőforrás</span><span class="sxs-lookup"><span data-stu-id="93ebb-241">Resource</span></span> | <span data-ttu-id="93ebb-242">Az Azure Automation-fiók neve.</span><span class="sxs-lookup"><span data-stu-id="93ebb-242">The name of the Azure Automation account.</span></span> |
| <span data-ttu-id="93ebb-243">Tenant_g</span><span class="sxs-lookup"><span data-stu-id="93ebb-243">Tenant_g</span></span> | <span data-ttu-id="93ebb-244">A hívónak a bérlői azonosító GUID.</span><span class="sxs-lookup"><span data-stu-id="93ebb-244">GUID that identifies the tenant for the Caller.</span></span> |
| <span data-ttu-id="93ebb-245">NodeId_g</span><span class="sxs-lookup"><span data-stu-id="93ebb-245">NodeId_g</span></span> |<span data-ttu-id="93ebb-246">A felügyelt csomóponthoz azonosító GUID.</span><span class="sxs-lookup"><span data-stu-id="93ebb-246">GUID that identifies the managed node.</span></span> |
| <span data-ttu-id="93ebb-247">DscReportId_g</span><span class="sxs-lookup"><span data-stu-id="93ebb-247">DscReportId_g</span></span> |<span data-ttu-id="93ebb-248">A jelentés azonosító GUID.</span><span class="sxs-lookup"><span data-stu-id="93ebb-248">GUID that identifies the report.</span></span> |
| <span data-ttu-id="93ebb-249">DscResourceId_s</span><span class="sxs-lookup"><span data-stu-id="93ebb-249">DscResourceId_s</span></span> |<span data-ttu-id="93ebb-250">A DSC erőforráspéldány neve.</span><span class="sxs-lookup"><span data-stu-id="93ebb-250">The name of the DSC resource instance.</span></span> |
| <span data-ttu-id="93ebb-251">DscResourceName_s</span><span class="sxs-lookup"><span data-stu-id="93ebb-251">DscResourceName_s</span></span> |<span data-ttu-id="93ebb-252">A DSC-erőforrás nevét.</span><span class="sxs-lookup"><span data-stu-id="93ebb-252">The name of the DSC resource.</span></span> |
| <span data-ttu-id="93ebb-253">DscResourceStatus_s</span><span class="sxs-lookup"><span data-stu-id="93ebb-253">DscResourceStatus_s</span></span> |<span data-ttu-id="93ebb-254">A DSC-erőforrás e megfelel a szabályzatnak.</span><span class="sxs-lookup"><span data-stu-id="93ebb-254">Whether the DSC resource is in compliance.</span></span> |
| <span data-ttu-id="93ebb-255">DscModuleName_s</span><span class="sxs-lookup"><span data-stu-id="93ebb-255">DscModuleName_s</span></span> |<span data-ttu-id="93ebb-256">A PowerShell-modult, amely tartalmazza a DSC-erőforrás neve.</span><span class="sxs-lookup"><span data-stu-id="93ebb-256">The name of the PowerShell module that contains the DSC resource.</span></span> |
| <span data-ttu-id="93ebb-257">DscModuleVersion_s</span><span class="sxs-lookup"><span data-stu-id="93ebb-257">DscModuleVersion_s</span></span> |<span data-ttu-id="93ebb-258">A PowerShell-modult, amely tartalmazza a DSC-erőforrás verzióját.</span><span class="sxs-lookup"><span data-stu-id="93ebb-258">The version of the PowerShell module that contains the DSC resource.</span></span> |
| <span data-ttu-id="93ebb-259">DscConfigurationName_s</span><span class="sxs-lookup"><span data-stu-id="93ebb-259">DscConfigurationName_s</span></span> |<span data-ttu-id="93ebb-260">A csomóponton alkalmazott konfiguráció neve.</span><span class="sxs-lookup"><span data-stu-id="93ebb-260">The name of the configuration applied to the node.</span></span> |
| <span data-ttu-id="93ebb-261">ErrorCode_s</span><span class="sxs-lookup"><span data-stu-id="93ebb-261">ErrorCode_s</span></span> | <span data-ttu-id="93ebb-262">Ha az erőforrás nem sikerült a hibakód.</span><span class="sxs-lookup"><span data-stu-id="93ebb-262">The error code if the resource failed.</span></span> |
| <span data-ttu-id="93ebb-263">ErrorMessage_s</span><span class="sxs-lookup"><span data-stu-id="93ebb-263">ErrorMessage_s</span></span> |<span data-ttu-id="93ebb-264">A hibaüzenet, ha az erőforrás nem sikerült.</span><span class="sxs-lookup"><span data-stu-id="93ebb-264">The error message if the resource failed.</span></span> |
| <span data-ttu-id="93ebb-265">DscResourceDuration_d</span><span class="sxs-lookup"><span data-stu-id="93ebb-265">DscResourceDuration_d</span></span> |<span data-ttu-id="93ebb-266">Az idő másodpercben, ameddig a DSC-erőforrás futott.</span><span class="sxs-lookup"><span data-stu-id="93ebb-266">The time, in seconds, that the DSC resource ran.</span></span> |
| <span data-ttu-id="93ebb-267">SourceSystem</span><span class="sxs-lookup"><span data-stu-id="93ebb-267">SourceSystem</span></span> | <span data-ttu-id="93ebb-268">Hogyan Naplóelemzési gyűjti az adatokat.</span><span class="sxs-lookup"><span data-stu-id="93ebb-268">How Log Analytics collected the data.</span></span> <span data-ttu-id="93ebb-269">Mindig *Azure* az Azure diagnostics.</span><span class="sxs-lookup"><span data-stu-id="93ebb-269">Always *Azure* for Azure diagnostics.</span></span> |
| <span data-ttu-id="93ebb-270">ResourceId</span><span class="sxs-lookup"><span data-stu-id="93ebb-270">ResourceId</span></span> |<span data-ttu-id="93ebb-271">Adja meg az Azure Automation-fiók.</span><span class="sxs-lookup"><span data-stu-id="93ebb-271">Specifies the Azure Automation account.</span></span> |
| <span data-ttu-id="93ebb-272">ResultDescription</span><span class="sxs-lookup"><span data-stu-id="93ebb-272">ResultDescription</span></span> | <span data-ttu-id="93ebb-273">Ez a művelet leírását.</span><span class="sxs-lookup"><span data-stu-id="93ebb-273">The description for this operation.</span></span> |
| <span data-ttu-id="93ebb-274">SubscriptionId</span><span class="sxs-lookup"><span data-stu-id="93ebb-274">SubscriptionId</span></span> | <span data-ttu-id="93ebb-275">Az Azure-előfizetés azonosítója (GUID) az Automation-fiókhoz.</span><span class="sxs-lookup"><span data-stu-id="93ebb-275">The Azure subscription Id (GUID) for the Automation account.</span></span> |
| <span data-ttu-id="93ebb-276">ResourceGroup</span><span class="sxs-lookup"><span data-stu-id="93ebb-276">ResourceGroup</span></span> | <span data-ttu-id="93ebb-277">Az erőforráscsoport neve az Automation-fiók.</span><span class="sxs-lookup"><span data-stu-id="93ebb-277">Name of the resource group for the Automation account.</span></span> |
| <span data-ttu-id="93ebb-278">ResourceProvider</span><span class="sxs-lookup"><span data-stu-id="93ebb-278">ResourceProvider</span></span> | <span data-ttu-id="93ebb-279">MICROSOFT. AUTOMATIZÁLÁS</span><span class="sxs-lookup"><span data-stu-id="93ebb-279">MICROSOFT.AUTOMATION</span></span> |
| <span data-ttu-id="93ebb-280">ResourceType</span><span class="sxs-lookup"><span data-stu-id="93ebb-280">ResourceType</span></span> | <span data-ttu-id="93ebb-281">AUTOMATIONACCOUNTS</span><span class="sxs-lookup"><span data-stu-id="93ebb-281">AUTOMATIONACCOUNTS</span></span> |
| <span data-ttu-id="93ebb-282">CorrelationId</span><span class="sxs-lookup"><span data-stu-id="93ebb-282">CorrelationId</span></span> |<span data-ttu-id="93ebb-283">A megfelelőségi jelentés korrelációs azonosítója GUID.</span><span class="sxs-lookup"><span data-stu-id="93ebb-283">GUID that is the Correlation Id of the compliance report.</span></span> |

## <a name="summary"></a><span data-ttu-id="93ebb-284">Összefoglalás</span><span class="sxs-lookup"><span data-stu-id="93ebb-284">Summary</span></span>

<span data-ttu-id="93ebb-285">Az Automation DSC adatokat küld a Naplóelemzési, az Automation DSC-csomópontok által állapotának jobb betekintést kaphat:</span><span class="sxs-lookup"><span data-stu-id="93ebb-285">By sending your Automation DSC data to Log Analytics, you can get better insight into the status of your Automation DSC nodes by:</span></span>

* <span data-ttu-id="93ebb-286">Értesítést küldenek, ha probléma van a riasztások beállítása</span><span class="sxs-lookup"><span data-stu-id="93ebb-286">Setting up alerts to notify you when there is an issue</span></span>
* <span data-ttu-id="93ebb-287">Egyéni nézetei és a keresési lekérdezések segítségével a runbook eredményeinek képi megjelenítése, runbook-feladat állapotát, és egyéb kapcsolódó fő mutatók vagy metrikákat.</span><span class="sxs-lookup"><span data-stu-id="93ebb-287">Using custom views and search queries to visualize your runbook results, runbook job status, and other related key indicators or metrics.</span></span>  

<span data-ttu-id="93ebb-288">A Naplóelemzési az Automation DSC adatait működési áttekinthetősége biztosít, és gyorsabban segít a cím incidensek.</span><span class="sxs-lookup"><span data-stu-id="93ebb-288">Log Analytics provides greater operational visibility to your Automation DSC data and can help address incidents more quickly.</span></span>  

## <a name="next-steps"></a><span data-ttu-id="93ebb-289">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="93ebb-289">Next steps</span></span>

* <span data-ttu-id="93ebb-290">Különböző keresési lekérdezések összeállításához, és tekintse át a Automation DSC a Naplóelemzési kapcsolatos további tudnivalókért lásd: [Log Analytics-e jelentkezni a keresések](../log-analytics/log-analytics-log-searches.md)</span><span class="sxs-lookup"><span data-stu-id="93ebb-290">To learn more about how to construct different search queries and review the Automation DSC logs with Log Analytics, see [Log searches in Log Analytics](../log-analytics/log-analytics-log-searches.md)</span></span>
* <span data-ttu-id="93ebb-291">Azure Automation DSC használatával kapcsolatos további tudnivalókért lásd: [Ismerkedés az Azure Automation DSC](automation-dsc-getting-started.md)</span><span class="sxs-lookup"><span data-stu-id="93ebb-291">To learn more about using Azure Automation DSC, see [Getting started with Azure Automation DSC](automation-dsc-getting-started.md)</span></span>
* <span data-ttu-id="93ebb-292">Az OMS Log Analytics használatával és adatgyűjtési forrásokkal kapcsolatos további tudnivalókat lásd: az [Azure-tárfiókbeli adatok Log Analytics-ben történő gyűjtésének az áttekintése](../log-analytics/log-analytics-azure-storage.md)</span><span class="sxs-lookup"><span data-stu-id="93ebb-292">To learn more about OMS Log Analytics and data collection sources, see [Collecting Azure storage data in Log Analytics overview](../log-analytics/log-analytics-azure-storage.md)</span></span>

