---
title: "Azure Automation aaaMy első PowerShell runbook |} Microsoft Docs"
description: "Az oktatóanyag bemutatja, hogyan hello létrehozása, tesztelése és egy egyszerű PowerShell runbook közzététele."
services: automation
documentationcenter: 
author: mgoedtel
manager: jwhit
editor: 
keywords: "azure powershell, powershell-szkript oktatóanyag, powershell automation"
ms.assetid: a43b395a-e740-41a3-ae62-40eac9d0ec00
ms.service: automation
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: get-started-article
ms.date: 03/26/2017
ms.author: magoedte;sngun
ms.openlocfilehash: abff94abe666cd8423c35b970b4162ba9247bcf8
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="my-first-powershell-runbook"></a><span data-ttu-id="0372f-104">Az első PowerShell-forgatókönyvem</span><span class="sxs-lookup"><span data-stu-id="0372f-104">My first PowerShell runbook</span></span>

> [!div class="op_single_selector"]
> * [<span data-ttu-id="0372f-105">Grafikus</span><span class="sxs-lookup"><span data-stu-id="0372f-105">Graphical</span></span>](automation-first-runbook-graphical.md)
> * [<span data-ttu-id="0372f-106">PowerShell</span><span class="sxs-lookup"><span data-stu-id="0372f-106">PowerShell</span></span>](automation-first-runbook-textual-powershell.md)
> * [<span data-ttu-id="0372f-107">PowerShell-munkafolyamat</span><span class="sxs-lookup"><span data-stu-id="0372f-107">PowerShell Workflow</span></span>](automation-first-runbook-textual.md)
> 
> 

<span data-ttu-id="0372f-108">Ez az oktatóanyag bemutatja, hogyan hello létrehozása egy [PowerShell runbook](automation-runbook-types.md#powershell-runbooks) az Azure Automationben.</span><span class="sxs-lookup"><span data-stu-id="0372f-108">This tutorial walks you through hello creation of a [PowerShell runbook](automation-runbook-types.md#powershell-runbooks) in Azure Automation.</span></span> <span data-ttu-id="0372f-109">Először egy egyszerű runbookot, tesztelése és közzététele során azt ismertetik, hogyan tootrack hello hello runbook-feladat állapotának.</span><span class="sxs-lookup"><span data-stu-id="0372f-109">We start with a simple runbook that we test and publish while we explain how tootrack hello status of hello runbook job.</span></span> <span data-ttu-id="0372f-110">A Microsoft hello runbook módosítsa tooactually kezelése az Azure-erőforrások, ebben az esetben az Azure virtuális gép elindítása.</span><span class="sxs-lookup"><span data-stu-id="0372f-110">Then we modify hello runbook tooactually manage Azure resources, in this case starting an Azure virtual machine.</span></span> <span data-ttu-id="0372f-111">Végül biztosítjuk hello robusztusabb runbook runbook paraméterek hozzáadásával.</span><span class="sxs-lookup"><span data-stu-id="0372f-111">Lastly, we make hello runbook more robust by adding runbook parameters.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="0372f-112">Előfeltételek</span><span class="sxs-lookup"><span data-stu-id="0372f-112">Prerequisites</span></span>
<span data-ttu-id="0372f-113">toocomplete ebben az oktatóanyagban a következő hello szüksége:</span><span class="sxs-lookup"><span data-stu-id="0372f-113">toocomplete this tutorial, you need hello following:</span></span>

* <span data-ttu-id="0372f-114">Egy Azure-előfizetés.</span><span class="sxs-lookup"><span data-stu-id="0372f-114">Azure subscription.</span></span> <span data-ttu-id="0372f-115">Ha még nem rendelkezik fiókkal, [aktiválhatja MSDN-előfizetői előnyeit](https://azure.microsoft.com/pricing/member-offers/msdn-benefits-details/), illetve <a href="/pricing/free-account/" target="_blank">[regisztrálhat egy ingyenes fiókot](https://azure.microsoft.com/free/).</span><span class="sxs-lookup"><span data-stu-id="0372f-115">If you don't have one yet, you can [activate your MSDN subscriber benefits](https://azure.microsoft.com/pricing/member-offers/msdn-benefits-details/) or <a href="/pricing/free-account/" target="_blank">[sign up for a free account](https://azure.microsoft.com/free/).</span></span>
* <span data-ttu-id="0372f-116">[Automation-fiók](automation-sec-configure-azure-runas-account.md) toohold hello runbook és tooAzure erőforrások hitelesítéséhez.</span><span class="sxs-lookup"><span data-stu-id="0372f-116">[Automation account](automation-sec-configure-azure-runas-account.md) toohold hello runbook and authenticate tooAzure resources.</span></span>  <span data-ttu-id="0372f-117">Ezt a fiókot kell toostart engedéllyel rendelkezik, és állítsa le a virtuális gép hello.</span><span class="sxs-lookup"><span data-stu-id="0372f-117">This account must have permission toostart and stop hello virtual machine.</span></span>
* <span data-ttu-id="0372f-118">Egy Azure virtuális gép.</span><span class="sxs-lookup"><span data-stu-id="0372f-118">An Azure virtual machine.</span></span> <span data-ttu-id="0372f-119">Ezt a gépet leállítjuk és elindítjuk, tehát ne olyan virtuális gépet használjon, amely élesben működik.</span><span class="sxs-lookup"><span data-stu-id="0372f-119">We stop and start this machine so it should not be a production VM.</span></span>

## <a name="step-1---create-new-runbook"></a><span data-ttu-id="0372f-120">1. lépés – Új forgatókönyv létrehozása</span><span class="sxs-lookup"><span data-stu-id="0372f-120">Step 1 - Create new runbook</span></span>
<span data-ttu-id="0372f-121">Hozzon létre egy egyszerű runbookot, amely hello szöveg először foglalkozunk *Hello World*.</span><span class="sxs-lookup"><span data-stu-id="0372f-121">We'll start by creating a simple runbook that outputs hello text *Hello World*.</span></span>

1. <span data-ttu-id="0372f-122">Hello Azure-portálon nyissa meg az Automation-fiók.</span><span class="sxs-lookup"><span data-stu-id="0372f-122">In hello Azure portal, open your Automation account.</span></span>  
   <span data-ttu-id="0372f-123">hello Automation-fiók lap lehetővé teszi az erőforrások hello áttekintő képet ebben a fiókban.</span><span class="sxs-lookup"><span data-stu-id="0372f-123">hello Automation account page gives you a quick view of hello resources in this account.</span></span> <span data-ttu-id="0372f-124">Valószínűleg már rendelkezik adategységekkel.</span><span class="sxs-lookup"><span data-stu-id="0372f-124">You should already have some assets.</span></span> <span data-ttu-id="0372f-125">Ezek többsége hello modulok automatikusan új Automation-fiók található.</span><span class="sxs-lookup"><span data-stu-id="0372f-125">Most of those are hello modules that are automatically included in a new Automation account.</span></span> <span data-ttu-id="0372f-126">Be kell hello hitelesítőadat-eszköz hello említett [Előfeltételek](#prerequisites).</span><span class="sxs-lookup"><span data-stu-id="0372f-126">You should also have hello Credential asset that's mentioned in hello [prerequisites](#prerequisites).</span></span>
2. <span data-ttu-id="0372f-127">Kattintson a hello **Runbookok** csempe tooopen hello forgatókönyvek listája.</span><span class="sxs-lookup"><span data-stu-id="0372f-127">Click hello **Runbooks** tile tooopen hello list of runbooks.</span></span><br><br> <span data-ttu-id="0372f-128">![RunbooksControl](media/automation-first-runbook-textual-powershell/runbooks-control-tiles.png)</span><span class="sxs-lookup"><span data-stu-id="0372f-128">![RunbooksControl](media/automation-first-runbook-textual-powershell/runbooks-control-tiles.png)</span></span>  
3. <span data-ttu-id="0372f-129">Hozzon létre egy új runbookot hello kattintva **hozzáadása egy runbook** gombra, majd **hozzon létre egy új runbookot**.</span><span class="sxs-lookup"><span data-stu-id="0372f-129">Create a new runbook by clicking hello **Add a runbook** button and then **Create a new runbook**.</span></span>
4. <span data-ttu-id="0372f-130">Hello runbook hello nevezze *MyFirstRunbook-PowerShell*.</span><span class="sxs-lookup"><span data-stu-id="0372f-130">Give hello runbook hello name *MyFirstRunbook-PowerShell*.</span></span>
5. <span data-ttu-id="0372f-131">Ebben az esetben az oktatóanyagban módosítjuk toocreate egy [PowerShell runbook](automation-runbook-types.md#powershell-runbooks) ezért válassza **Powershell** a **runbooktípusba**.</span><span class="sxs-lookup"><span data-stu-id="0372f-131">In this case, we're going toocreate a [PowerShell runbook](automation-runbook-types.md#powershell-runbooks) so select **Powershell** for **Runbook type**.</span></span><br><br> <span data-ttu-id="0372f-132">![Runbook típusa](media/automation-first-runbook-textual-powershell/automation-runbook-type.png)</span><span class="sxs-lookup"><span data-stu-id="0372f-132">![Runbook Type](media/automation-first-runbook-textual-powershell/automation-runbook-type.png)</span></span>  
6. <span data-ttu-id="0372f-133">Kattintson a **létrehozása** toocreate hello runbookot és a nyitott hello szöveges szerkesztő.</span><span class="sxs-lookup"><span data-stu-id="0372f-133">Click **Create** toocreate hello runbook and open hello textual editor.</span></span>

## <a name="step-2---add-code-toohello-runbook"></a><span data-ttu-id="0372f-134">2. lépés - kód toohello runbook hozzáadása</span><span class="sxs-lookup"><span data-stu-id="0372f-134">Step 2 - Add code toohello runbook</span></span>
<span data-ttu-id="0372f-135">Közvetlenül a hello runbookot, akkor vagy típuskód vagy parancsmagok, a runbookokat és az eszközök közül választhat hello könyvtár vezérlő, és azokat hozzáadott bármely kapcsolódó paraméterekkel toohello runbook.</span><span class="sxs-lookup"><span data-stu-id="0372f-135">You can either type code directly into hello runbook, or you can select cmdlets, runbooks, and assets from hello Library control and have them added toohello runbook with any related parameters.</span></span> <span data-ttu-id="0372f-136">Ez a forgatókönyv azt írja be a közvetlenül a hello runbook.</span><span class="sxs-lookup"><span data-stu-id="0372f-136">For this walkthrough, we type directly in hello runbook.</span></span>

1. <span data-ttu-id="0372f-137">A forgatókönyvünk jelenleg üres, írja be a következőt: *Write-Output "Hello World."*.</span><span class="sxs-lookup"><span data-stu-id="0372f-137">Our runbook is currently empty, type *Write-Output "Hello World."*.</span></span><br><br> <span data-ttu-id="0372f-138">![Hello World](media/automation-first-runbook-textual-powershell/automation-helloworld.png)</span><span class="sxs-lookup"><span data-stu-id="0372f-138">![Hello World](media/automation-first-runbook-textual-powershell/automation-helloworld.png)</span></span>  
2. <span data-ttu-id="0372f-139">Hello runbook gombra kattintva mentse **mentése**.</span><span class="sxs-lookup"><span data-stu-id="0372f-139">Save hello runbook by clicking **Save**.</span></span><br><br> <span data-ttu-id="0372f-140">![Mentés gomb](media/automation-first-runbook-textual-powershell/automation-runbook-edit-controls-save.png)</span><span class="sxs-lookup"><span data-stu-id="0372f-140">![Save Button](media/automation-first-runbook-textual-powershell/automation-runbook-edit-controls-save.png)</span></span>  

## <a name="step-3---test-hello-runbook"></a><span data-ttu-id="0372f-141">3. lépés – hello runbook tesztelése</span><span class="sxs-lookup"><span data-stu-id="0372f-141">Step 3 - Test hello runbook</span></span>
<span data-ttu-id="0372f-142">Ahhoz, hogy hello runbook toomake tehessenek közzé az tootest szeretnénk elérhető éles környezetben, azt toomake meg arról, hogy megfelelően működik-e.</span><span class="sxs-lookup"><span data-stu-id="0372f-142">Before we publish hello runbook toomake it available in production, we want tootest it toomake sure that it works properly.</span></span> <span data-ttu-id="0372f-143">Egy forgatókönyv tesztelésekor a **Piszkozat** verziót futtatja, és interaktív módon megtekinti a kimenetét.</span><span class="sxs-lookup"><span data-stu-id="0372f-143">When you test a runbook, you run its **Draft** version and view its output interactively.</span></span>

1. <span data-ttu-id="0372f-144">Kattintson a **teszt ablaktábla** tooopen hello teszt ablaktáblán.</span><span class="sxs-lookup"><span data-stu-id="0372f-144">Click **Test pane** tooopen hello Test pane.</span></span><br><br> <span data-ttu-id="0372f-145">![Teszt panel](media/automation-first-runbook-textual-powershell/automation-runbook-edit-controls-test.png)</span><span class="sxs-lookup"><span data-stu-id="0372f-145">![Test Pane](media/automation-first-runbook-textual-powershell/automation-runbook-edit-controls-test.png)</span></span>  
2. <span data-ttu-id="0372f-146">Kattintson a **Start** toostart hello tesztelése.</span><span class="sxs-lookup"><span data-stu-id="0372f-146">Click **Start** toostart hello test.</span></span> <span data-ttu-id="0372f-147">Csak az engedélyezett hello lehetőség legyen.</span><span class="sxs-lookup"><span data-stu-id="0372f-147">This should be hello only enabled option.</span></span>
3. <span data-ttu-id="0372f-148">Létrejön egy [forgatókönyv-feladat](automation-runbook-execution.md), és megjelenik annak állapota.</span><span class="sxs-lookup"><span data-stu-id="0372f-148">A [runbook job](automation-runbook-execution.md) is created and its status displayed.</span></span>  
   <span data-ttu-id="0372f-149">hello feladatállapot indítja el *várakozik* azt jelzi, hogy a forgatókönyv-feldolgozók hello felhő toocome érhető el a vár.</span><span class="sxs-lookup"><span data-stu-id="0372f-149">hello job status starts as *Queued* indicating that it is waiting for a runbook worker in hello cloud toocome available.</span></span> <span data-ttu-id="0372f-150">Ezután ez az objektum túl*indítása* dolgozó jogcímek hello feladatot, amikor, majd *futtató* amikor hello runbook ténylegesen elindul.</span><span class="sxs-lookup"><span data-stu-id="0372f-150">It will then move too*Starting* when a worker claims hello job, and then *Running* when hello runbook actually starts running.</span></span>  
4. <span data-ttu-id="0372f-151">Hello runbook feladat befejeződik, a kimenet jelenik meg.</span><span class="sxs-lookup"><span data-stu-id="0372f-151">When hello runbook job completes, its output is displayed.</span></span> <span data-ttu-id="0372f-152">A mi esetünkben ez a következő: *Hello World*.</span><span class="sxs-lookup"><span data-stu-id="0372f-152">In our case, we should see *Hello World*.</span></span><br><br> <span data-ttu-id="0372f-153">![Teszt panel kimenete](media/automation-first-runbook-textual-powershell/automation-testpane-output.png)</span><span class="sxs-lookup"><span data-stu-id="0372f-153">![Test Pane Output](media/automation-first-runbook-textual-powershell/automation-testpane-output.png)</span></span>  
5. <span data-ttu-id="0372f-154">Zárja be a hello teszt ablaktábla tooreturn toohello vászonra.</span><span class="sxs-lookup"><span data-stu-id="0372f-154">Close hello Test pane tooreturn toohello canvas.</span></span>

## <a name="step-4---publish-and-start-hello-runbook"></a><span data-ttu-id="0372f-155">4. lépés: közzététele és hello runbook elindítása</span><span class="sxs-lookup"><span data-stu-id="0372f-155">Step 4 - Publish and start hello runbook</span></span>
<span data-ttu-id="0372f-156">hello runbook létrehozott még mindig vázlat módban van.</span><span class="sxs-lookup"><span data-stu-id="0372f-156">hello runbook that we created is still in Draft mode.</span></span> <span data-ttu-id="0372f-157">Igazolnia kell, hogy toopublish azt azt futtatása előtt az éles környezetben.</span><span class="sxs-lookup"><span data-stu-id="0372f-157">We need toopublish it before we can run it in production.</span></span>  <span data-ttu-id="0372f-158">Egy runbook közzétételekor hello meglévő közzétett verzió felülírja a hello vázlatként megjelölt verziót.</span><span class="sxs-lookup"><span data-stu-id="0372f-158">When you publish a runbook, you overwrite hello existing Published version with hello Draft version.</span></span>  <span data-ttu-id="0372f-159">Ebben az esetben nem tudunk egy közzétett verziója még mivel az imént létrehozott hello runbook.</span><span class="sxs-lookup"><span data-stu-id="0372f-159">In our case, we don't have a Published version yet because we just created hello runbook.</span></span>

1. <span data-ttu-id="0372f-160">Kattintson a **közzététel** toopublish hello runbookot, majd **Igen** megjelenésekor.</span><span class="sxs-lookup"><span data-stu-id="0372f-160">Click **Publish** toopublish hello runbook and then **Yes** when prompted.</span></span><br><br> <span data-ttu-id="0372f-161">![Közzététel gomb](media/automation-first-runbook-textual-powershell/automation-runbook-edit-controls-publish.png)</span><span class="sxs-lookup"><span data-stu-id="0372f-161">![Publish button](media/automation-first-runbook-textual-powershell/automation-runbook-edit-controls-publish.png)</span></span>  
2. <span data-ttu-id="0372f-162">Ha bal oldali tooview hello runbook hello **Runbookok** panelen, megjelenik egy **szerzői állapot** a **közzétett**.</span><span class="sxs-lookup"><span data-stu-id="0372f-162">If you scroll left tooview hello runbook in hello **Runbooks** pane now, it will show an **Authoring Status** of **Published**.</span></span>
3. <span data-ttu-id="0372f-163">Görgessen hátsó toohello jobb tooview hello ablaktábla **MyFirstRunbook-PowerShell**.</span><span class="sxs-lookup"><span data-stu-id="0372f-163">Scroll back toohello right tooview hello pane for **MyFirstRunbook-PowerShell**.</span></span>  
   <span data-ttu-id="0372f-164">hello hello tetején beállítások lehetővé teszik a számunkra toostart hello runbook, hello runbook megtekintése, az ütemezés toostart valamikor a jövőbeli hello, vagy hozzon létre egy [webhook](automation-webhooks.md) indíthatók el, egy HTTP-hívás keresztül.</span><span class="sxs-lookup"><span data-stu-id="0372f-164">hello options across hello top allow us toostart hello runbook, view hello runbook, schedule it toostart at some time in hello future, or create a [webhook](automation-webhooks.md) so it can be started through an HTTP call.</span></span>
4. <span data-ttu-id="0372f-165">Azt szeretné, hogy toostart hello runbook, így kattintson **Start** majd **Ok** hello runbook meghívása panel megnyitásakor.</span><span class="sxs-lookup"><span data-stu-id="0372f-165">We want toostart hello runbook, so click **Start** and then click **Ok** when hello Start Runbook blade opens.</span></span><br><br> <span data-ttu-id="0372f-166">![Indítás gomb](media/automation-first-runbook-textual-powershell/automation-runbook-controls-start.png)</span><span class="sxs-lookup"><span data-stu-id="0372f-166">![Start button](media/automation-first-runbook-textual-powershell/automation-runbook-controls-start.png)</span></span><br>    
5. <span data-ttu-id="0372f-167">A feladatok ablaktábla létrehozott hello runbook-feladat van megnyitva.</span><span class="sxs-lookup"><span data-stu-id="0372f-167">A job pane is opened for hello runbook job that we created.</span></span> <span data-ttu-id="0372f-168">Azt is zárja be az ezen az ablaktáblán, de ebben az esetben azt nyitva hagyja, hogy figyelemmel követheti a hello feladat előrehaladását.</span><span class="sxs-lookup"><span data-stu-id="0372f-168">We can close this pane, but in this case we leave it open so we can watch hello job's progress.</span></span>
6. <span data-ttu-id="0372f-169">hello feladat állapota látható **feladat összegzése** és egyezések hello imént látott amikor tesztelt hello runbook állapotok.</span><span class="sxs-lookup"><span data-stu-id="0372f-169">hello job status is shown in **Job Summary** and matches hello statuses that we saw when we tested hello runbook.</span></span><br><br> <span data-ttu-id="0372f-170">![Feladat összegzése](media/automation-first-runbook-textual-powershell/job-pane-status-blade-jobsummary.png)</span><span class="sxs-lookup"><span data-stu-id="0372f-170">![Job Summary](media/automation-first-runbook-textual-powershell/job-pane-status-blade-jobsummary.png)</span></span><br>  
7. <span data-ttu-id="0372f-171">Egyszer a runbook állapota látható hello *befejezve*, kattintson a **kimeneti**.</span><span class="sxs-lookup"><span data-stu-id="0372f-171">Once hello runbook status shows *Completed*, click **Output**.</span></span> <span data-ttu-id="0372f-172">hello Tesztkimenet ablaktáblán már meg van nyitva, és láthatja a *Hello World*.</span><span class="sxs-lookup"><span data-stu-id="0372f-172">hello Output pane is opened, and we can see our *Hello World*.</span></span><br><br> <span data-ttu-id="0372f-173">![Feladat kimenete](media/automation-first-runbook-textual-powershell/job-pane-status-blade-outputtile.png)</span><span class="sxs-lookup"><span data-stu-id="0372f-173">![Job Output](media/automation-first-runbook-textual-powershell/job-pane-status-blade-outputtile.png)</span></span><br> 
8. <span data-ttu-id="0372f-174">Bezárás hello Tesztkimenet ablaktáblán.</span><span class="sxs-lookup"><span data-stu-id="0372f-174">Close hello Output pane.</span></span>
9. <span data-ttu-id="0372f-175">Kattintson a **összes napló** tooopen hello adatfolyamok ablaktábla hello runbook-feladat.</span><span class="sxs-lookup"><span data-stu-id="0372f-175">Click **All Logs** tooopen hello Streams pane for hello runbook job.</span></span> <span data-ttu-id="0372f-176">Csak azt kell látnia *Hello World* hello kimeneti adatfolyam, de ez lehet megjelenítése más adatfolyamok, például a Verbose és a hiba a runbook-feladat Ha hello runbook ír toothem.</span><span class="sxs-lookup"><span data-stu-id="0372f-176">We should only see *Hello World* in hello output stream, but this can show other streams for a runbook job such as Verbose and Error if hello runbook writes toothem.</span></span><br><br> <span data-ttu-id="0372f-177">![Minden napló](media/automation-first-runbook-textual-powershell/job-pane-status-blade-alllogstile.png)</span><span class="sxs-lookup"><span data-stu-id="0372f-177">![All Logs](media/automation-first-runbook-textual-powershell/job-pane-status-blade-alllogstile.png)</span></span><br>   
10. <span data-ttu-id="0372f-178">Zárja be és hello adatfolyamok hello feladat panelen tooreturn toohello MyFirstRunbook-PowerShell ablaktábla.</span><span class="sxs-lookup"><span data-stu-id="0372f-178">Close hello Streams pane and hello Job pane tooreturn toohello MyFirstRunbook-PowerShell pane.</span></span>
11. <span data-ttu-id="0372f-179">Kattintson a **feladatok** tooopen hello feladatok ablaktábla a runbook.</span><span class="sxs-lookup"><span data-stu-id="0372f-179">Click **Jobs** tooopen hello Jobs pane for this runbook.</span></span> <span data-ttu-id="0372f-180">Ez a runbook által létrehozott hello feladatok listája.</span><span class="sxs-lookup"><span data-stu-id="0372f-180">This lists all of hello jobs created by this runbook.</span></span> <span data-ttu-id="0372f-181">Csak egy feladat feltüntetve mivel csak miatt hello feladat egyszer kell látható.</span><span class="sxs-lookup"><span data-stu-id="0372f-181">We should only see one job listed since we only ran hello job once.</span></span><br><br> <span data-ttu-id="0372f-182">![Feladatlista](media/automation-first-runbook-textual-powershell/runbook-control-job-tile.png)</span><span class="sxs-lookup"><span data-stu-id="0372f-182">![Job List](media/automation-first-runbook-textual-powershell/runbook-control-job-tile.png)</span></span>  
12. <span data-ttu-id="0372f-183">Ez a feladat kattintva tooopen hello azonos feladat panelen, amely azt a Microsoft hello runbook indításakor tekinthetők.</span><span class="sxs-lookup"><span data-stu-id="0372f-183">You can click this job tooopen hello same Job pane that we viewed when we started hello runbook.</span></span> <span data-ttu-id="0372f-184">Ez lehetővé teszi toogo vissza az idő és a nézet számára egy adott runbookhoz létrehozott összes feladat hello részleteit.</span><span class="sxs-lookup"><span data-stu-id="0372f-184">This allows you toogo back in time and view hello details of any job that was created for a particular runbook.</span></span>

## <a name="step-5---add-authentication-toomanage-azure-resources"></a><span data-ttu-id="0372f-185">5. lépés - hitelesítési toomanage hozzá Azure-erőforrások</span><span class="sxs-lookup"><span data-stu-id="0372f-185">Step 5 - Add authentication toomanage Azure resources</span></span>
<span data-ttu-id="0372f-186">Most már teszteltük és közzétettük a forgatókönyvet, de még nem csinál semmi hasznosat.</span><span class="sxs-lookup"><span data-stu-id="0372f-186">We've tested and published our runbook, but so far it doesn't do anything useful.</span></span> <span data-ttu-id="0372f-187">Azt szeretnénk, ha az Azure-erőforrások kezeléséhez toohave.</span><span class="sxs-lookup"><span data-stu-id="0372f-187">We want toohave it manage Azure resources.</span></span> <span data-ttu-id="0372f-188">Bár, ha jelenleg nincs hitelesítés tooin hello hello hitelesítő adatok, amelyek használatával említett képes toodo működésbe [Előfeltételek](#prerequisites).</span><span class="sxs-lookup"><span data-stu-id="0372f-188">It won't be able toodo that though unless we have it authenticate using hello credentials that are referred tooin hello [prerequisites](#prerequisites).</span></span> <span data-ttu-id="0372f-189">Nézzük meg, a hello **Add-AzureRmAccount** parancsmag.</span><span class="sxs-lookup"><span data-stu-id="0372f-189">We do that with hello **Add-AzureRmAccount** cmdlet.</span></span>

1. <span data-ttu-id="0372f-190">Nyissa meg hello szöveges szerkesztő kattintva **szerkesztése** hello MyFirstRunbook-PowerShell ablak.</span><span class="sxs-lookup"><span data-stu-id="0372f-190">Open hello textual editor by clicking **Edit** on hello MyFirstRunbook-PowerShell pane.</span></span><br><br> <span data-ttu-id="0372f-191">![Runbook szerkesztése](media/automation-first-runbook-textual-powershell/automation-runbook-controls-edit.png)</span><span class="sxs-lookup"><span data-stu-id="0372f-191">![Edit Runbook](media/automation-first-runbook-textual-powershell/automation-runbook-controls-edit.png)</span></span><br>   
2. <span data-ttu-id="0372f-192">Nem szükséges hello **Write-Output** többé. sor, úgy lépjen tovább, és törölje azt.</span><span class="sxs-lookup"><span data-stu-id="0372f-192">We don't need hello **Write-Output** line anymore, so go ahead and delete it.</span></span>
3. <span data-ttu-id="0372f-193">Írja be vagy másolja be a következő kódot, amely kezeli a Automation futtató fiókhoz hello hitelesítési hello:</span><span class="sxs-lookup"><span data-stu-id="0372f-193">Type or copy and paste hello following code that handles hello authentication with your Automation Run As account:</span></span>
   
   ```
   $Conn = Get-AutomationConnection -Name AzureRunAsConnection
   Add-AzureRMAccount -ServicePrincipal -Tenant $Conn.TenantID `
   -ApplicationId $Conn.ApplicationID -CertificateThumbprint $Conn.CertificateThumbprint
   ```
   <br>
4. <span data-ttu-id="0372f-194">Kattintson a **teszt ablaktábla** , hogy hello runbook tesztelése.</span><span class="sxs-lookup"><span data-stu-id="0372f-194">Click **Test pane** so that we can test hello runbook.</span></span>
5. <span data-ttu-id="0372f-195">Kattintson a **Start** toostart hello tesztelése.</span><span class="sxs-lookup"><span data-stu-id="0372f-195">Click **Start** toostart hello test.</span></span> <span data-ttu-id="0372f-196">Miután befejeződött, hasonló toohello kimenete a következő, a fiók alapszintű adatainak megjelenítése kell kapnia.</span><span class="sxs-lookup"><span data-stu-id="0372f-196">Once it completes, you should receive output similar toohello following, displaying basic information from your account.</span></span> <span data-ttu-id="0372f-197">Ez megerősíti, hogy hello hitelesítő adat érvénytelen.</span><span class="sxs-lookup"><span data-stu-id="0372f-197">This confirms that hello credential is valid.</span></span><br><br> <span data-ttu-id="0372f-198">![Hitelesítés](media/automation-first-runbook-textual-powershell/runbook-auth-output.png)</span><span class="sxs-lookup"><span data-stu-id="0372f-198">![Authenticate](media/automation-first-runbook-textual-powershell/runbook-auth-output.png)</span></span>

## <a name="step-6---add-code-toostart-a-virtual-machine"></a><span data-ttu-id="0372f-199">6. lépés - kód toostart a virtuális gépek hozzáadása</span><span class="sxs-lookup"><span data-stu-id="0372f-199">Step 6 - Add code toostart a virtual machine</span></span>
<span data-ttu-id="0372f-200">Most, hogy a runbook tooour Azure-előfizetés hitelesíti magát, hogy kezelhetik az erőforrásokat.</span><span class="sxs-lookup"><span data-stu-id="0372f-200">Now that our runbook is authenticating tooour Azure subscription, we can manage resources.</span></span> <span data-ttu-id="0372f-201">A parancs toostart egy virtuális gép jelenleg felvenni.</span><span class="sxs-lookup"><span data-stu-id="0372f-201">We add a command toostart a virtual machine.</span></span> <span data-ttu-id="0372f-202">Az Azure-előfizetése kiválaszthatja a virtuális gépi, és most fedi le kódba foglalni hello runbook neve.</span><span class="sxs-lookup"><span data-stu-id="0372f-202">You can pick any virtual machine in your Azure subscription, and for now we will hardcode that name in hello runbook.</span></span>

1. <span data-ttu-id="0372f-203">Után *Add-AzureRmAccount*, típus *Start-AzureRmVM-név (VMName) - ResourceGroupName "NameofResourceGroup"* biztosító hello és hello virtuális gép toostart erőforráscsoport nevét.</span><span class="sxs-lookup"><span data-stu-id="0372f-203">After *Add-AzureRmAccount*, type *Start-AzureRmVM -Name 'VMName' -ResourceGroupName 'NameofResourceGroup'* providing hello name and Resource Group name of hello virtual machine toostart.</span></span>  
   
   ```
   $Conn = Get-AutomationConnection -Name AzureRunAsConnection
   Add-AzureRMAccount -ServicePrincipal -Tenant $Conn.TenantID `
   -ApplicationID $Conn.ApplicationID -CertificateThumbprint $Conn.CertificateThumbprint
   Start-AzureRmVM -Name 'VMName' -ResourceGroupName 'ResourceGroupName'
   ```
   <br>
2. <span data-ttu-id="0372f-204">Hello runbook mentéséhez, és kattintson a **teszt ablaktábla** , hogy azt tesztelése.</span><span class="sxs-lookup"><span data-stu-id="0372f-204">Save hello runbook and then click **Test pane** so that we can test it.</span></span>
3. <span data-ttu-id="0372f-205">Kattintson a **Start** toostart hello tesztelése.</span><span class="sxs-lookup"><span data-stu-id="0372f-205">Click **Start** toostart hello test.</span></span> <span data-ttu-id="0372f-206">Miután befejeződött, ellenőrizze, hogy a virtuális gép hello lett elindítva.</span><span class="sxs-lookup"><span data-stu-id="0372f-206">Once it completes, check that hello virtual machine was started.</span></span>

## <a name="step-7---add-an-input-parameter-toohello-runbook"></a><span data-ttu-id="0372f-207">7. lépés – egy bemeneti paraméter toohello runbook hozzáadása</span><span class="sxs-lookup"><span data-stu-id="0372f-207">Step 7 - Add an input parameter toohello runbook</span></span>
<span data-ttu-id="0372f-208">A runbook jelenleg kezdődik hello virtuális gépet, hogy a Microsoft hello runbook szoftveresen kötött, de lenne hasznos, ha hello runbook elindításakor hello virtuális gép adtuk meg.</span><span class="sxs-lookup"><span data-stu-id="0372f-208">Our runbook currently starts hello virtual machine that we hardcoded in hello runbook, but it would be more useful if we specify hello virtual machine when hello runbook is started.</span></span> <span data-ttu-id="0372f-209">A Microsoft most hozzáadjuk bemeneti paraméterek toohello runbook tooprovide funkció.</span><span class="sxs-lookup"><span data-stu-id="0372f-209">We will now add input parameters toohello runbook tooprovide that functionality.</span></span>

1. <span data-ttu-id="0372f-210">Paraméterek hozzáadása *VMName* és *ResourceGroupName* toohello runbook és ezek a változók használata hello **Start-AzureRmVM** parancsmag az alábbi hello példában látható módon.</span><span class="sxs-lookup"><span data-stu-id="0372f-210">Add parameters for *VMName* and *ResourceGroupName* toohello runbook and use these variables with hello **Start-AzureRmVM** cmdlet as in hello example below.</span></span>  
   
   ```
   Param(
    [string]$VMName,
    [string]$ResourceGroupName
   )
   $Conn = Get-AutomationConnection -Name AzureRunAsConnection
   Add-AzureRMAccount -ServicePrincipal -Tenant $Conn.TenantID `
   -ApplicationID $Conn.ApplicationID -CertificateThumbprint $Conn.CertificateThumbprint
   Start-AzureRmVM -Name $VMName -ResourceGroupName $ResourceGroupName
   ```
   <br>
2. <span data-ttu-id="0372f-211">Hello runbook mentéséhez, és hello teszt ablaktábla megnyitása.</span><span class="sxs-lookup"><span data-stu-id="0372f-211">Save hello runbook and open hello Test pane.</span></span> <span data-ttu-id="0372f-212">Most biztosítható értékek hello hello tesztben használt két bemeneti változók.</span><span class="sxs-lookup"><span data-stu-id="0372f-212">You can now provide values for hello two input variables that are used in hello test.</span></span>
3. <span data-ttu-id="0372f-213">Bezárás hello teszt ablaktáblán.</span><span class="sxs-lookup"><span data-stu-id="0372f-213">Close hello Test pane.</span></span>
4. <span data-ttu-id="0372f-214">Kattintson a **közzététel** toopublish hello új hello forgatókönyv verzióját.</span><span class="sxs-lookup"><span data-stu-id="0372f-214">Click **Publish** toopublish hello new version of hello runbook.</span></span>
5. <span data-ttu-id="0372f-215">Állítsa le, amelyet az előző lépésben hello hello virtuális gépet.</span><span class="sxs-lookup"><span data-stu-id="0372f-215">Stop hello virtual machine that you started in hello previous step.</span></span>
6. <span data-ttu-id="0372f-216">Kattintson a **Start** toostart hello runbook.</span><span class="sxs-lookup"><span data-stu-id="0372f-216">Click **Start** toostart hello runbook.</span></span> <span data-ttu-id="0372f-217">A típushoz hello **VMName** és **ResourceGroupName** hello virtuális géphez, hogy toostart fog.</span><span class="sxs-lookup"><span data-stu-id="0372f-217">Type in hello **VMName** and **ResourceGroupName** for hello virtual machine that you're going toostart.</span></span><br><br> <span data-ttu-id="0372f-218">![Paraméter átadása](media/automation-first-runbook-textual-powershell/automation-pass-params.png)</span><span class="sxs-lookup"><span data-stu-id="0372f-218">![Pass Parameter](media/automation-first-runbook-textual-powershell/automation-pass-params.png)</span></span><br>  
7. <span data-ttu-id="0372f-219">Hello runbook befejezését követően ellenőrizze, hogy a virtuális gép hello elindítása.</span><span class="sxs-lookup"><span data-stu-id="0372f-219">When hello runbook completes, check that hello virtual machine was started.</span></span>

## <a name="differences-from-powershell-workflow"></a><span data-ttu-id="0372f-220">Eltérések a PowerShell-munkafolyamattól</span><span class="sxs-lookup"><span data-stu-id="0372f-220">Differences from PowerShell Workflow</span></span>
<span data-ttu-id="0372f-221">A PowerShell-forgatókönyvek rendelkezik hello azonos életciklus, képességei és PowerShell-munkafolyamati forgatókönyvek felügyelethez, de néhány különbség és korlátozások:</span><span class="sxs-lookup"><span data-stu-id="0372f-221">PowerShell runbooks have hello same lifecycle, capabilities, and management as PowerShell Workflow runbooks but there are some differences and limitations:</span></span>

1. <span data-ttu-id="0372f-222">A PowerShell-forgatókönyvek futtatható gyors összehasonlított tooPowerShell munkafolyamat-forgatókönyvekről, mint a fordítási lépés nem rendelkeznek.</span><span class="sxs-lookup"><span data-stu-id="0372f-222">PowerShell runbooks run fast compared tooPowerShell Workflow runbooks as they don’t have compilation step.</span></span>
2. <span data-ttu-id="0372f-223">PowerShell-munkafolyamati forgatókönyvek ellenőrzőpontokat, az ellenőrzőpontok használatával támogatja, a PowerShell-munkafolyamati forgatókönyvek hello runbook egyetlen pontról újból engedélyezheti, mivel a PowerShell runbookokat hello elejétől csak folytathatja.</span><span class="sxs-lookup"><span data-stu-id="0372f-223">PowerShell Workflow runbooks support checkpoints, using checkpoints, PowerShell Workflow runbooks can resume from any point in hello runbook whereas PowerShell runbooks can only resume from hello beginning.</span></span>
3. <span data-ttu-id="0372f-224">A PowerShell-alapú munkafolyamat-forgatókönyvek támogatják a párhuzamos és soros végrehajtást is, míg a PowerShell-forgatókönyvek csak sorosan képesek végrehajtani a parancsokat.</span><span class="sxs-lookup"><span data-stu-id="0372f-224">PowerShell Workflow runbooks support parallel and serial execution whereas PowerShell runbooks can only execute commands serially.</span></span>
4. <span data-ttu-id="0372f-225">Egy PowerShell-alapú munkafolyamat-runbookban egy tevékenység-, parancs- vagy parancsfájlblokk rendelkezhet saját futási térrel, míg a PowerShell-runbookokban minden parancsfájl egyetlen futási térben fut.</span><span class="sxs-lookup"><span data-stu-id="0372f-225">In a PowerShell Workflow runbook, an activity, a command, or a script block can have its own runspace whereas in a PowerShell runbook, everything in a script runs in a single runspace.</span></span> <span data-ttu-id="0372f-226">Van néhány [szintaktikai eltérés](https://technet.microsoft.com/magazine/dn151046.aspx) is a natív PowerShell-forgatókönyvek és a PowerShell-alapú munkafolyamat-forgatókönyvek között.</span><span class="sxs-lookup"><span data-stu-id="0372f-226">There are also some [syntactic differences](https://technet.microsoft.com/magazine/dn151046.aspx) between a native PowerShell runbook and a PowerShell Workflow runbook.</span></span>

## <a name="next-steps"></a><span data-ttu-id="0372f-227">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="0372f-227">Next steps</span></span>
* <span data-ttu-id="0372f-228">Grafikus forgatókönyvek használatába tooget lásd [saját első grafikus forgatókönyv](automation-first-runbook-graphical.md)</span><span class="sxs-lookup"><span data-stu-id="0372f-228">tooget started with Graphical runbooks, see [My first graphical runbook](automation-first-runbook-graphical.md)</span></span>
* <span data-ttu-id="0372f-229">a PowerShell munkafolyamat-forgatókönyvekről, használatába tooget lásd: [az első PowerShell-munkafolyamati forgatókönyv](automation-first-runbook-textual.md)</span><span class="sxs-lookup"><span data-stu-id="0372f-229">tooget started with PowerShell workflow runbooks, see [My first PowerShell workflow runbook](automation-first-runbook-textual.md)</span></span>
* <span data-ttu-id="0372f-230">További információ az runbooktípusokkal, azok előnyeit, és a korlátozásokról tooknow lásd [Azure Automation-runbook típusok](automation-runbook-types.md)</span><span class="sxs-lookup"><span data-stu-id="0372f-230">tooknow more about runbook types, their advantages and limitations, see [Azure Automation runbook types](automation-runbook-types.md)</span></span>
* <span data-ttu-id="0372f-231">További információk a PowerShell-parancsprogramok támogatásáról: [PowerShell-parancsprogramok natív támogatása az Azure Automationben](https://azure.microsoft.com/blog/announcing-powershell-script-support-azure-automation-2/)</span><span class="sxs-lookup"><span data-stu-id="0372f-231">For more information on PowerShell script support feature, see [Native PowerShell script support in Azure Automation](https://azure.microsoft.com/blog/announcing-powershell-script-support-azure-automation-2/)</span></span>

