---
title: "Verziókövetés integrálása az Azure Automation a Githubon vállalati |} Microsoft Docs"
description: "A GitHub vállalati integrációs konfigurálása az Automation-forgatókönyv verziókövetési részleteit ismerteti."
services: automation
documentationCenter: 
authors: mgoedtel
manager: jwhit
editor: 
ms.assetid: e01d817c-7d38-421c-adf5-647a4b526eb4
ms.service: automation
ms.workload: infrastructure-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/26/2017
ms.author: magoedte
ms.openlocfilehash: 62793dcdbbf4c83161e95d1c165d5c231245f7c6
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 08/03/2017
---
# <a name="azure-automation-scenario---automation-source-control-integration-with-github-enterprise"></a><span data-ttu-id="e737c-103">Azure Automation forgatókönyv - automatizálási verziókövetés integrálása a Githubon vállalati</span><span class="sxs-lookup"><span data-stu-id="e737c-103">Azure Automation scenario - Automation source control integration with GitHub Enterprise</span></span>

<span data-ttu-id="e737c-104">Automatizálási jelenleg verziókövetés integrálása, amely lehetővé teszi az Automation-fiók egy GitHub verziókövetési tárházat a runbookot.</span><span class="sxs-lookup"><span data-stu-id="e737c-104">Automation currently supports source control integration, which allows you to associate runbooks in your Automation account to a GitHub source control repository.</span></span>  <span data-ttu-id="e737c-105">Azonban az ügyfelek, akik telepített [GitHub vállalati](https://enterprise.github.com/home) a DevOps eljárások támogatásához is szeretne az üzleti folyamatok automatizálása és felügyeleti műveletek szolgáltatás fejlesztett runbookok életciklus kezeléséhez.</span><span class="sxs-lookup"><span data-stu-id="e737c-105">However, customers who have deployed [GitHub Enterprise](https://enterprise.github.com/home) to support their DevOps practices, also want to use it to manage the lifecycle of runbooks that are developed to automate business processes and service management operations.</span></span>  

<span data-ttu-id="e737c-106">Ebben a forgatókönyvben a Windows rendszerű számítógépeken az Adatközpont konfigurálva, a hibrid forgatókönyv-feldolgozók az Azure Resource Manager modulok és a Git-eszközök telepítve van.</span><span class="sxs-lookup"><span data-stu-id="e737c-106">In this scenario, you have a Windows computer in your data center configured as a Hybrid Runbook Worker with the Azure Resource Manager modules and Git tools installed.</span></span>  <span data-ttu-id="e737c-107">A hibrid feldolgozó gépnek klónját, a helyi Git-tárházba.</span><span class="sxs-lookup"><span data-stu-id="e737c-107">The Hybrid worker machine has a clone of the local Git repository.</span></span>  <span data-ttu-id="e737c-108">A runbook futásakor a hibrid feldolgozón a Git directory szinkronizálása és a runbook tartalmát a rendszer importálta az Automation-fiók.</span><span class="sxs-lookup"><span data-stu-id="e737c-108">When the runbook is run on the hybrid worker, the Git directory is synchronized and the runbook file contents are imported into the Automation account.</span></span>

<span data-ttu-id="e737c-109">A cikkből megtudhatja, hogyan állíthat be ezt a konfigurációt, az Azure Automation-környezetben.</span><span class="sxs-lookup"><span data-stu-id="e737c-109">This article describes how to set up this configuration in your Azure Automation environment.</span></span> <span data-ttu-id="e737c-110">A biztonsági hitelesítő adataival, a runbookok a runbookok futtatásához és hozzáférni a vállalati GitHub-tárház runbookok szinkronizálása az Adatközpont ezt a forgatókönyvet, és a hibrid forgatókönyv-feldolgozók telepítését támogatásához szükséges Automation konfigurálásával először az Automation-fiókkal.</span><span class="sxs-lookup"><span data-stu-id="e737c-110">We start by configuring Automation with the security credentials, runbooks required to support this scenario, and deployment of a Hybrid Runbook Worker in your data center to run the runbooks and access your GitHub Enterprise repository to synchronize runbooks with your Automation account.</span></span>  


## <a name="getting-the-scenario"></a><span data-ttu-id="e737c-111">A forgatókönyv beszerzése</span><span class="sxs-lookup"><span data-stu-id="e737c-111">Getting the scenario</span></span>

<span data-ttu-id="e737c-112">Ebben a forgatókönyvben két PowerShell-forgatókönyvek, amelyek közvetlenül importálhatók áll a [forgatókönyvek](automation-runbook-gallery.md) az Azure-portálon vagy letölthető a [PowerShell-galériában](https://www.powershellgallery.com).</span><span class="sxs-lookup"><span data-stu-id="e737c-112">This scenario consists of two PowerShell runbooks that you can import directly from the [Runbook Gallery](automation-runbook-gallery.md) in the Azure portal or download from the [PowerShell Gallery](https://www.powershellgallery.com).</span></span>

### <a name="runbooks"></a><span data-ttu-id="e737c-113">Runbookok</span><span class="sxs-lookup"><span data-stu-id="e737c-113">Runbooks</span></span>

<span data-ttu-id="e737c-114">Forgatókönyv</span><span class="sxs-lookup"><span data-stu-id="e737c-114">Runbook</span></span> | <span data-ttu-id="e737c-115">Leírás</span><span class="sxs-lookup"><span data-stu-id="e737c-115">Description</span></span>| 
--------|------------|
<span data-ttu-id="e737c-116">Export-RunAsCertificateToHybridWorker</span><span class="sxs-lookup"><span data-stu-id="e737c-116">Export-RunAsCertificateToHybridWorker</span></span> | <span data-ttu-id="e737c-117">Runbook exportálása RunAs tanúsítványt az Automation-fiók a hibrid feldolgozók, hogy a dolgozó runbookokat is annak érdekében hitelesítik magukat Azure runbookok importálja az Automation-fiók.</span><span class="sxs-lookup"><span data-stu-id="e737c-117">Runbook exports a RunAs certificate from an Automation account to a hybrid worker so that runbooks on the worker can authenticate with Azure in order to import runbooks into the Automation account.</span></span>| 
<span data-ttu-id="e737c-118">Szinkronizálási-LocalGitFolderToAutomationAccount</span><span class="sxs-lookup"><span data-stu-id="e737c-118">Sync-LocalGitFolderToAutomationAccount</span></span> | <span data-ttu-id="e737c-119">Runbook szinkronizálja a helyi Git-mappa a hibrid gépen, és ezután a runbook-fájlok (*.ps1) importálása az Automation-fiók.</span><span class="sxs-lookup"><span data-stu-id="e737c-119">Runbook syncs the local Git folder on the hybrid machine and then import the runbook files (*.ps1) into the Automation account.</span></span>|

### <a name="credentials"></a><span data-ttu-id="e737c-120">Hitelesítő adatok</span><span class="sxs-lookup"><span data-stu-id="e737c-120">Credentials</span></span>

<span data-ttu-id="e737c-121">Hitelesítő adat</span><span class="sxs-lookup"><span data-stu-id="e737c-121">Credential</span></span> | <span data-ttu-id="e737c-122">Leírás</span><span class="sxs-lookup"><span data-stu-id="e737c-122">Description</span></span>|
-----------|------------|
<span data-ttu-id="e737c-123">GitHRWCredential</span><span class="sxs-lookup"><span data-stu-id="e737c-123">GitHRWCredential</span></span> | <span data-ttu-id="e737c-124">Hitelesítőadat-eszköz hoz létre a felhasználónév és a hibrid feldolgozó engedélyekkel rendelkező felhasználó jelszavának tárolásához.</span><span class="sxs-lookup"><span data-stu-id="e737c-124">Credential asset you create to contain the username and password for a user with permissions to the hybrid worker.</span></span>|

## <a name="installing-and-configuring-this-scenario"></a><span data-ttu-id="e737c-125">A forgatókönyv telepítése és konfigurálása</span><span class="sxs-lookup"><span data-stu-id="e737c-125">Installing and configuring this scenario</span></span>

### <a name="prerequisites"></a><span data-ttu-id="e737c-126">Előfeltételek</span><span class="sxs-lookup"><span data-stu-id="e737c-126">Prerequisites</span></span>

1. <span data-ttu-id="e737c-127">A Sync-LocalGitFolderToAutomationAccount runbook használatával hitelesít a [Azure-beli futtató fiók](automation-sec-configure-azure-runas-account.md).</span><span class="sxs-lookup"><span data-stu-id="e737c-127">The Sync-LocalGitFolderToAutomationAccount runbook authenticates using the [Azure Run As account](automation-sec-configure-azure-runas-account.md).</span></span> 

2. <span data-ttu-id="e737c-128">Az Azure Automation-megoldás engedélyezve és konfigurálva van a Microsoft Operations Management Suite (OMS) munkaterület is szükség.</span><span class="sxs-lookup"><span data-stu-id="e737c-128">A Microsoft Operations Management Suite (OMS) workspace with the Azure Automation solution enabled and configured is also required.</span></span>  <span data-ttu-id="e737c-129">Ha még nem rendelkezik ilyennel, amelyek telepítése és konfigurálása ebben a forgatókönyvben használt Automation-fiók van hozzárendelve, az azt létre és konfigurálta az Ön végrehajtásakor a **New-OnPremiseHybridWorker.ps1** parancsfájlt a hibrid forgatókönyv munkavégző.</span><span class="sxs-lookup"><span data-stu-id="e737c-129">If you do not have one that is associated with the Automation account used to install and configure this scenario, it is created and configured for you when you execute the **New-OnPremiseHybridWorker.ps1** script from the hybrid runbook worker.</span></span>        

    > [!NOTE]
    > <span data-ttu-id="e737c-130">Jelenleg a következő régiókban csak támogatja OMS - automatizálás integrálását **Ausztrália délkeleti**, **USA keleti régiója 2**, **Délkelet-Ázsia**, és **nyugati régiója Európa**.</span><span class="sxs-lookup"><span data-stu-id="e737c-130">Currently the following regions only support Automation integration with OMS - **Australia Southeast**, **East US 2**, **Southeast Asia**, and **West Europe**.</span></span> 

3. <span data-ttu-id="e737c-131">Olyan számítógépre, amelyen a dedikált hibrid forgatókönyv-feldolgozók, amely szintén a Githubon szoftver a runbook fájlok karbantartása szolgálhatnak (*runbook*.ps1) a GitHub közötti szinkronizálás a fájlrendszerben forráskönyvtárat és a Automation-fiók.</span><span class="sxs-lookup"><span data-stu-id="e737c-131">A computer that can serve as a dedicated Hybrid Runbook Worker that will also host the GitHub software and maintain the runbook files (*runbook*.ps1) in a source directory on the file system to synchronize between GitHub and your Automation account.</span></span>

### <a name="import-and-publish-the-runbooks"></a><span data-ttu-id="e737c-132">Importálja és közzétenni a runbookot</span><span class="sxs-lookup"><span data-stu-id="e737c-132">Import and publish the runbooks</span></span>

<span data-ttu-id="e737c-133">Importálhatja a *Export-RunAsCertificateToHybridWorker* és *Sync-LocalGitFolderToAutomationAccount* forgatókönyvek az Automation-fiók az Azure portálon, a Runbook-galériából kövesse a az eljárások [importálási Runbookot a Runbook-galériából](automation-runbook-gallery.md#to-import-a-runbook-from-the-runbook-gallery-with-the-azure-portal).</span><span class="sxs-lookup"><span data-stu-id="e737c-133">To import the *Export-RunAsCertificateToHybridWorker* and *Sync-LocalGitFolderToAutomationAccount* runbooks from the Runbook Gallery from your Automation account in the Azure portal, follow the procedures in [Import Runbook from the Runbook Gallery](automation-runbook-gallery.md#to-import-a-runbook-from-the-runbook-gallery-with-the-azure-portal).</span></span> <span data-ttu-id="e737c-134">Tegye közzé a runbookokat, után azok sikeresen importálva lettek az Automation-fiók.</span><span class="sxs-lookup"><span data-stu-id="e737c-134">Publish the runbooks after they have been successfully imported into your Automation account.</span></span>

### <a name="deploy-and-configure-hybrid-runbook-worker"></a><span data-ttu-id="e737c-135">Telepítse és konfigurálja a hibrid forgatókönyv-feldolgozó</span><span class="sxs-lookup"><span data-stu-id="e737c-135">Deploy and Configure Hybrid Runbook Worker</span></span>

<span data-ttu-id="e737c-136">Ha nem rendelkezik a hibrid forgatókönyv-feldolgozók már telepítették az adatközpont, kell tekintse át a követelményeket és kövesse az automatikus telepítési lépéseket hajtsa végre az eljárást a [Azure Automation hibrid forgatókönyv-feldolgozók - telepítés automatizálása és Konfigurációs](automation-hybrid-runbook-worker.md#automated-deployment).</span><span class="sxs-lookup"><span data-stu-id="e737c-136">If you do not have a Hybrid Runbook Worker already deployed in your data center, you should review the requirements and follow the automated installation steps using the procedure in [Azure Automation Hybrid Runbook Workers - Automate Install and Configuration](automation-hybrid-runbook-worker.md#automated-deployment).</span></span>  <span data-ttu-id="e737c-137">Miután sikeresen telepítette a hibrid feldolgozó egy számítógépen, a következő lépésekkel ennek támogatásához a konfigurálás befejezéséhez.</span><span class="sxs-lookup"><span data-stu-id="e737c-137">Once you have successfully installed the hybrid worker on a computer, perform the following steps to complete its configuration to support this scenario.</span></span>

1. <span data-ttu-id="e737c-138">Jelentkezzen be egy olyan fiókkal, amely helyi rendszergazdai jogosultságokkal rendelkezik a hibrid forgatókönyv-feldolgozó szerepkört futtató számítógépen, és hozzon létre egy könyvtárat a Git runbook fájlok tárolásához.</span><span class="sxs-lookup"><span data-stu-id="e737c-138">Sign on to the computer hosting the Hybrid Runbook Worker role with an account that has local administrative rights and create a directory to hold the Git runbook files.</span></span>  <span data-ttu-id="e737c-139">A könyvtár a belső Git-tárház klónozása.</span><span class="sxs-lookup"><span data-stu-id="e737c-139">Clone  the internal Git repository to the directory.</span></span>
2. <span data-ttu-id="e737c-140">Ha még nem rendelkezik egy futtató fiókot, vagy hozzon létre egy új dedikált egy erre a célra, Azure-portálról navigáljon az Automation-fiók válassza ki az Automation-fiók, hozzon létre egy [hitelesítőadat-eszköz](automation-credentials.md) , a felhasználónév és a hibrid feldolgozó engedélyekkel rendelkező felhasználó jelszavának tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="e737c-140">If you do not already have a RunAs account created or you want to create a new one dedicated for this purpose, from the Azure portal navigate to Automation accounts, select your Automation account and create a [credential asset](automation-credentials.md) that contains the username and password for a user with permissions to the hybrid worker.</span></span>  
3. <span data-ttu-id="e737c-141">Az Automation-fiók a [szerkeszteni a runbookot](automation-edit-textual-runbook.md)**Export-RunAsCertificateToHybridWorker** és a változó értékének módosításához *$Password* erős jelszóval.</span><span class="sxs-lookup"><span data-stu-id="e737c-141">From your Automation account, [edit the runbook](automation-edit-textual-runbook.md)  **Export-RunAsCertificateToHybridWorker** and modify the value for the variable *$Password* with a strong password.</span></span>  <span data-ttu-id="e737c-142">Az érték módosítása után kattintson **közzététel** kell rendelkeznie a közzétett runbook vázlatverzióját.</span><span class="sxs-lookup"><span data-stu-id="e737c-142">After you modify the value, click **Publish** to have the draft version of the runbook published.</span></span> 
5. <span data-ttu-id="e737c-143">Elindítja a runbookot **Export-RunAsCertificateToHybridWorker**, majd a a **runbook meghívása** panelen, a beállítás a **futtatási beállítások** választja  **Hibridfeldolgozó** és a legördülő listában jelölje ki azokat a hibrid feldolgozócsoport ebben a forgatókönyvben a korábban létrehozott.</span><span class="sxs-lookup"><span data-stu-id="e737c-143">Start the runbook **Export-RunAsCertificateToHybridWorker**, and in the **Start Runbook** blade, under the option **Run settings** select the option **Hybrid Worker** and in the drop-down list select the Hybrid worker group you created earlier for this scenario.</span></span>  

    <span data-ttu-id="e737c-144">Ez exportálja a tanúsítványt a hibrid feldolgozó, hogy a munkavégző használatával a runbookok hitelesítéséhez az Azure-ban a Futtatás mint kapcsolat (különösen a forgatókönyv - importálási runbookokat az Automation-fiók) Azure-erőforrások kezeléséhez.</span><span class="sxs-lookup"><span data-stu-id="e737c-144">This exports a certificate to the hybrid worker so that runbooks on the worker can authenticate with Azure using the Run As connection in order to manage Azure resources (in particular for this scenario - import runbooks to the Automation account).</span></span>

4. <span data-ttu-id="e737c-145">Az Automation-fiók, jelölje ki a korábban létrehozott hibrid feldolgozócsoport és [adja meg egy futtató fiókot](automation-hrw-run-runbooks.md#runas-account) a hibrid feldolgozócsoport, és válassza a hitelesítőadat-eszköz csak vagy már hozott létre.</span><span class="sxs-lookup"><span data-stu-id="e737c-145">From your Automation account, select the Hybrid worker group created earlier and [specify a RunAs account](automation-hrw-run-runbooks.md#runas-account) for the Hybrid worker group, and chose the credential asset you just or already have created.</span></span>  <span data-ttu-id="e737c-146">Ez biztosítja, hogy a szinkronizálási runbook futtatható-e a Git-parancsokat.</span><span class="sxs-lookup"><span data-stu-id="e737c-146">This assures that the Sync runbook can run Git commands.</span></span> 
5. <span data-ttu-id="e737c-147">Elindítja a runbookot **Sync-LocalGitFolderToAutomationAccount**, adja meg a következő kötelező bemeneti paraméterérték és a **runbook meghívása** panelen, a beállítás a **futtatási beállítások**  választja **Hibridfeldolgozó** és a legördülő listában válassza ki a korábban létrehozott ebben a forgatókönyvben a hibrid feldolgozócsoport:</span><span class="sxs-lookup"><span data-stu-id="e737c-147">Start the runbook **Sync-LocalGitFolderToAutomationAccount**, provide the following required input parameter values and in the **Start Runbook** blade, under the option **Run settings** select the option **Hybrid Worker** and in the drop-down list select the Hybrid worker group you created earlier for this scenario:</span></span>
    * <span data-ttu-id="e737c-148">*Erőforráscsoport* – az Automation-fiók társított az erőforráscsoport neve</span><span class="sxs-lookup"><span data-stu-id="e737c-148">*ResourceGroup* - the name of your resource group associated with your Automation account</span></span>
    * <span data-ttu-id="e737c-149">*AutomationAccountName* – az Automation-fiók neve</span><span class="sxs-lookup"><span data-stu-id="e737c-149">*AutomationAccountName* - the name of your Automation account</span></span>
    * <span data-ttu-id="e737c-150">*GitPath* -a helyi mappát vagy fájlt a hibrid forgatókönyv-feldolgozó, ahol Git be van állítva legutóbbi változtatásokat lekéréses</span><span class="sxs-lookup"><span data-stu-id="e737c-150">*GitPath* - The local folder or file on the Hybrid Runbook Worker where Git is set up to pull latest changes into</span></span>

    <span data-ttu-id="e737c-151">Ez szinkronizálni a hibrid feldolgozó számítógép helyi Git mappájába, és majd a forráskönyvtár a .ps1 fájlok az Automation-fiók importálását.</span><span class="sxs-lookup"><span data-stu-id="e737c-151">This will sync the local Git folder on the hybrid worker computer and then import the .ps1 files from the source directory to the Automation account.</span></span>

    ![Indítsa el a Sync-LocalGitFolderToAutomationAccount Runbook](media/automation-scenario-source-control-integration-with-github-ent/start-runbook-synclocalgitfoldertoautoacct.png)<br>

7. <span data-ttu-id="e737c-153">Kiválasztásával le a runbook a feladat összefoglaló információk megtekintése a **Runbookok** paneljén az Automation-fiók, és válassza a **feladatok** csempére.</span><span class="sxs-lookup"><span data-stu-id="e737c-153">View job summary details for the runbook by selecting it from the **Runbooks** blade in your Automation account, and then select the **Jobs** tile.</span></span>  <span data-ttu-id="e737c-154">Ellenőrizze, hogy sikeresen befejeződött-e választva a **összes napló** csempe, és tekintse át a részletes napló adatfolyam.</span><span class="sxs-lookup"><span data-stu-id="e737c-154">Confirm it completed successfully by selecting the **All logs** tile and reviewing the detailed log stream.</span></span>  

## <a name="next-steps"></a><span data-ttu-id="e737c-155">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="e737c-155">Next steps</span></span>

-  <span data-ttu-id="e737c-156">További információk a forgatókönyvek típusairól, az előnyeikről és a korlátaikról: [Az Azure Automation forgatókönyveinek típusai](automation-runbook-types.md)</span><span class="sxs-lookup"><span data-stu-id="e737c-156">To know more about runbook types, their advantages and limitations, see [Azure Automation runbook types](automation-runbook-types.md)</span></span>
-  <span data-ttu-id="e737c-157">További információk a PowerShell-parancsprogramok támogatásáról: [PowerShell-parancsprogramok natív támogatása az Azure Automationben](https://azure.microsoft.com/blog/announcing-powershell-script-support-azure-automation-2/)</span><span class="sxs-lookup"><span data-stu-id="e737c-157">For more information on PowerShell script support feature, see [Native PowerShell script support in Azure Automation](https://azure.microsoft.com/blog/announcing-powershell-script-support-azure-automation-2/)</span></span>
