---
title: "Azure Automation aaaIntegrate a Visual Stuido Team Services verziókezelő |} Microsoft Docs"
description: "A forgatókönyv bemutatja, hogyan egy Azure Automation-fiók és a Visual Stuido Team Services a verziókövetési rendszerrel való integráció beállításával."
services: automation
documentationcenter: 
author: eamono
manager: 
editor: 
keywords: "az Azure powershell, a VSTS, verziókezelő, automatizálás"
ms.assetid: a43b395a-e740-41a3-ae62-40eac9d0ec00
ms.service: automation
ms.workload: infrastructure-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/24/2017
ms.openlocfilehash: 8f6faa596a5ad1f8b72e820ca320b3e103d83579
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="azure-automation-scenario---automation-source-control-integration-with-visual-studio-team-services"></a><span data-ttu-id="7b7a0-104">Azure Automation forgatókönyv - automatizálási verziókövetés integrálása a Visual Studio Team Services</span><span class="sxs-lookup"><span data-stu-id="7b7a0-104">Azure Automation scenario - Automation source control integration with Visual Studio Team Services</span></span>

<span data-ttu-id="7b7a0-105">Ebben a forgatókönyvben használt toomanage Azure Automation-forgatókönyveket vagy a DSC-konfigurációk verziókövetési Visual Studio Team Services projekt rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="7b7a0-105">In this scenario, you have a Visual Studio Team Services project that you are using toomanage Azure Automation runbooks or DSC configurations under source control.</span></span>
<span data-ttu-id="7b7a0-106">Ez a cikk ismerteti, hogyan toointegrate VSTS úgy, hogy folyamatos integrációt történik, az egyes be az Azure Automation-környezettel.</span><span class="sxs-lookup"><span data-stu-id="7b7a0-106">This article describes how toointegrate VSTS with your Azure Automation environment so that continuous integration happens for each check-in.</span></span>

## <a name="getting-hello-scenario"></a><span data-ttu-id="7b7a0-107">Első hello forgatókönyv</span><span class="sxs-lookup"><span data-stu-id="7b7a0-107">Getting hello scenario</span></span>

<span data-ttu-id="7b7a0-108">Ebben a forgatókönyvben két PowerShell-forgatókönyvek, amelyek közvetlenül a hello importálhatja áll [forgatókönyvek](automation-runbook-gallery.md) az Azure-portálon hello, vagy letöltheti a hello [PowerShell-galériában](https://www.powershellgallery.com).</span><span class="sxs-lookup"><span data-stu-id="7b7a0-108">This scenario consists of two PowerShell runbooks that you can import directly from hello [Runbook Gallery](automation-runbook-gallery.md) in hello Azure portal or download from hello [PowerShell Gallery](https://www.powershellgallery.com).</span></span>

### <a name="runbooks"></a><span data-ttu-id="7b7a0-109">Runbookok</span><span class="sxs-lookup"><span data-stu-id="7b7a0-109">Runbooks</span></span>

<span data-ttu-id="7b7a0-110">Forgatókönyv</span><span class="sxs-lookup"><span data-stu-id="7b7a0-110">Runbook</span></span> | <span data-ttu-id="7b7a0-111">Leírás</span><span class="sxs-lookup"><span data-stu-id="7b7a0-111">Description</span></span>| 
--------|------------|
<span data-ttu-id="7b7a0-112">Szinkronizálási-VSTS</span><span class="sxs-lookup"><span data-stu-id="7b7a0-112">Sync-VSTS</span></span> | <span data-ttu-id="7b7a0-113">Importálhat forgatókönyvek vagy konfigurációk VSTS verziókezelő végzett egy be.</span><span class="sxs-lookup"><span data-stu-id="7b7a0-113">Import runbooks or configurations from VSTS source control when a check-in is done.</span></span> <span data-ttu-id="7b7a0-114">Ha manuálisan futtassa azt importálja, és minden runbookok vagy az Automation-fiók hello konfigurációk közzététele.</span><span class="sxs-lookup"><span data-stu-id="7b7a0-114">If run manually, it will import and publish all runbooks or configurations into hello Automation account.</span></span>| 
<span data-ttu-id="7b7a0-115">Szinkronizálási-VSTSGit</span><span class="sxs-lookup"><span data-stu-id="7b7a0-115">Sync-VSTSGit</span></span> | <span data-ttu-id="7b7a0-116">Importálhat forgatókönyvek vagy konfigurációk VSTS a Git verziókezelő végzett egy be.</span><span class="sxs-lookup"><span data-stu-id="7b7a0-116">Import runbooks or configurations from VSTS under Git source control when a check-in is done.</span></span> <span data-ttu-id="7b7a0-117">Ha manuálisan futtassa azt importálja, és minden runbookok vagy az Automation-fiók hello konfigurációk közzététele.</span><span class="sxs-lookup"><span data-stu-id="7b7a0-117">If run manually, it will import and publish all runbooks or configurations into hello Automation account.</span></span>|

### <a name="variables"></a><span data-ttu-id="7b7a0-118">Változók</span><span class="sxs-lookup"><span data-stu-id="7b7a0-118">Variables</span></span>

<span data-ttu-id="7b7a0-119">Változó</span><span class="sxs-lookup"><span data-stu-id="7b7a0-119">Variable</span></span> | <span data-ttu-id="7b7a0-120">Leírás</span><span class="sxs-lookup"><span data-stu-id="7b7a0-120">Description</span></span>|
-----------|------------|
<span data-ttu-id="7b7a0-121">VSToken</span><span class="sxs-lookup"><span data-stu-id="7b7a0-121">VSToken</span></span> | <span data-ttu-id="7b7a0-122">Biztonságos változóeszköz hoz létre, amely tartalmazza a hello VSTS személyes hozzáférési jogkivonat.</span><span class="sxs-lookup"><span data-stu-id="7b7a0-122">Secure variable asset you will create that contains hello VSTS personal access token.</span></span> <span data-ttu-id="7b7a0-123">Megismerheti, hogyan toocreate VSTS személyes hozzáférési jogkivonat a hello [VSTS hitelesítés lap](https://www.visualstudio.com/en-us/docs/integrate/get-started/auth/overview).</span><span class="sxs-lookup"><span data-stu-id="7b7a0-123">You can learn how toocreate a VSTS personal access token on hello [VSTS authentication page](https://www.visualstudio.com/en-us/docs/integrate/get-started/auth/overview).</span></span> 
## <a name="installing-and-configuring-this-scenario"></a><span data-ttu-id="7b7a0-124">A forgatókönyv telepítése és konfigurálása</span><span class="sxs-lookup"><span data-stu-id="7b7a0-124">Installing and configuring this scenario</span></span>

<span data-ttu-id="7b7a0-125">Hozzon létre egy [személyes hozzáférési jogkivonat](https://www.visualstudio.com/en-us/docs/integrate/get-started/auth/overview) a VSTS használt toosync hello forgatókönyvek vagy konfiguráció az automation-fiók be.</span><span class="sxs-lookup"><span data-stu-id="7b7a0-125">Create a [personal access token](https://www.visualstudio.com/en-us/docs/integrate/get-started/auth/overview) in VSTS that you will use toosync hello runbooks or configurations into your automation account.</span></span>

![](media/automation-scenario-source-control-integration-with-VSTS/VSTSPersonalToken.png) 

<span data-ttu-id="7b7a0-126">Hozzon létre egy [biztonságos változó](automation-variables.md) az automation-fiók toohold hello a személyes hozzáférési jogkivonatot, hogy hello runbook hitelesíthető tooVSTS és szinkronizálási hello forgatókönyvek vagy a beállításokat a rendszerbe hello Automation-fiók.</span><span class="sxs-lookup"><span data-stu-id="7b7a0-126">Create a [secure variable](automation-variables.md) in your automation account toohold hello personal access token so that hello runbook can authenticate tooVSTS and sync hello runbooks or configurations into hello Automation account.</span></span> <span data-ttu-id="7b7a0-127">A VSToken nevére.</span><span class="sxs-lookup"><span data-stu-id="7b7a0-127">You can name this VSToken.</span></span> 

![](media/automation-scenario-source-control-integration-with-VSTS/VSTSTokenVariable.png)

<span data-ttu-id="7b7a0-128">A runbookok vagy konfigurációk hello automation-fiók a szinkronizálandó hello forgatókönyv importálása.</span><span class="sxs-lookup"><span data-stu-id="7b7a0-128">Import hello runbook that will sync your runbooks or configurations into hello automation account.</span></span> <span data-ttu-id="7b7a0-129">Használhatja a hello [VSTS minta runbook](https://www.powershellgallery.com/packages/Sync-VSTS/1.0/DisplayScript) vagy hello [VSTS a Git minta runbook] (https://www.powershellgallery.com/packages/Sync-VSTSGit/1.0/DisplayScript) hello PowerShellGallery.com attól függően, hogy a VSTS használata forrás-vezérlő vagy a Git VSTS, és telepítheti a tooyour automation-fiók.</span><span class="sxs-lookup"><span data-stu-id="7b7a0-129">You can use hello [VSTS sample runbook](https://www.powershellgallery.com/packages/Sync-VSTS/1.0/DisplayScript) or hello [VSTS with Git sample runbook] (https://www.powershellgallery.com/packages/Sync-VSTSGit/1.0/DisplayScript) from hello PowerShellGallery.com depending on if you use VSTS source control or VSTS with Git and deploy tooyour automation account.</span></span>

![](media/automation-scenario-source-control-integration-with-VSTS/VSTSPowerShellGallery.png)

<span data-ttu-id="7b7a0-130">Most [közzététele](automation-creating-importing-runbook.md#publishing-a-runbook) ezt a runbookot, hogy létrehozhasson egy webhook.</span><span class="sxs-lookup"><span data-stu-id="7b7a0-130">You can now [publish](automation-creating-importing-runbook.md#publishing-a-runbook) this runbook so you can create a webhook.</span></span> 
![](media/automation-scenario-source-control-integration-with-VSTS/VSTSPublishRunbook.png)

<span data-ttu-id="7b7a0-131">Hozzon létre egy [webhook](automation-webhooks.md) a Sync-VSTS runbookhoz és adja meg a hello paraméterek alább látható módon.</span><span class="sxs-lookup"><span data-stu-id="7b7a0-131">Create a [webhook](automation-webhooks.md) for this Sync-VSTS runbook and fill in hello parameters as shown below.</span></span> <span data-ttu-id="7b7a0-132">Győződjön meg arról, szüksége lesz, a szolgáltatás hook a VSTS másolása hello webhook URL-címét.</span><span class="sxs-lookup"><span data-stu-id="7b7a0-132">Make sure you copy hello webhook url as you will need it for a service hook in VSTS.</span></span> <span data-ttu-id="7b7a0-133">hello VSAccessTokenVariableName esetén hello (VSToken) hello biztonságos változó létrehozott korábbi toohold hello személyes hozzáférési jogkivonat.</span><span class="sxs-lookup"><span data-stu-id="7b7a0-133">hello VSAccessTokenVariableName is hello name (VSToken) of hello secure variable that you created earlier toohold hello personal access token.</span></span> 

<span data-ttu-id="7b7a0-134">VSTS (szinkronizálási-VSTS.ps1) integrálása a következő paraméterek hello igénybe vehet.</span><span class="sxs-lookup"><span data-stu-id="7b7a0-134">Integrating with VSTS (Sync-VSTS.ps1) will take hello following parameters.</span></span>
### <a name="sync-vsts-parameters"></a><span data-ttu-id="7b7a0-135">Szinkronizálási-VSTS-paraméterek</span><span class="sxs-lookup"><span data-stu-id="7b7a0-135">Sync-VSTS Parameters</span></span>

<span data-ttu-id="7b7a0-136">Paraméter</span><span class="sxs-lookup"><span data-stu-id="7b7a0-136">Parameter</span></span> | <span data-ttu-id="7b7a0-137">Leírás</span><span class="sxs-lookup"><span data-stu-id="7b7a0-137">Description</span></span>| 
--------|------------|
<span data-ttu-id="7b7a0-138">WebhookData</span><span class="sxs-lookup"><span data-stu-id="7b7a0-138">WebhookData</span></span> | <span data-ttu-id="7b7a0-139">Hello VSTS szolgáltatás hook küldött hello beadása információt tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="7b7a0-139">This will contain hello checkin information sent from hello VSTS service hook.</span></span> <span data-ttu-id="7b7a0-140">Ez a paraméter kell hagyja üresen.</span><span class="sxs-lookup"><span data-stu-id="7b7a0-140">You should leave this parameter blank.</span></span>| 
<span data-ttu-id="7b7a0-141">ResourceGroup</span><span class="sxs-lookup"><span data-stu-id="7b7a0-141">ResourceGroup</span></span> | <span data-ttu-id="7b7a0-142">Ez az, hogy hello automation-fiók megtalálható hello erőforráscsoport hello nevét.</span><span class="sxs-lookup"><span data-stu-id="7b7a0-142">This is hello name of hello resource group that hello automation account is in.</span></span>|
<span data-ttu-id="7b7a0-143">AutomationAccountName</span><span class="sxs-lookup"><span data-stu-id="7b7a0-143">AutomationAccountName</span></span> | <span data-ttu-id="7b7a0-144">hello VSTS, szinkronizálandó hello automation-fiók neve.</span><span class="sxs-lookup"><span data-stu-id="7b7a0-144">hello name of hello automation account that will sync with VSTS.</span></span>|
<span data-ttu-id="7b7a0-145">VSFolder</span><span class="sxs-lookup"><span data-stu-id="7b7a0-145">VSFolder</span></span> | <span data-ttu-id="7b7a0-146">Ha létezik a runbookokat hello és konfigurációk VSTS hello mappájában neve.</span><span class="sxs-lookup"><span data-stu-id="7b7a0-146">The name of hello folder in VSTS where hello runbooks and configurations exist.</span></span>|
<span data-ttu-id="7b7a0-147">VSAccount</span><span class="sxs-lookup"><span data-stu-id="7b7a0-147">VSAccount</span></span> | <span data-ttu-id="7b7a0-148">hello hello Visual Studio Team Services-fiók neve.</span><span class="sxs-lookup"><span data-stu-id="7b7a0-148">hello name of hello Visual Studio Team Services account.</span></span>| 
<span data-ttu-id="7b7a0-149">VSAccessTokenVariableName</span><span class="sxs-lookup"><span data-stu-id="7b7a0-149">VSAccessTokenVariableName</span></span> | <span data-ttu-id="7b7a0-150">hello hello biztonságos változó neve (VSToken), amely tárolja a hello VSTS személyes hozzáférési jogkivonat.</span><span class="sxs-lookup"><span data-stu-id="7b7a0-150">hello name of hello secure variable (VSToken) that holds hello VSTS personal access token.</span></span>| 


![](media/automation-scenario-source-control-integration-with-VSTS/VSTSWebhook.png)

<span data-ttu-id="7b7a0-151">VSTS git (szinkronizálási-VSTSGit.ps1) használatakor a következő paraméterek hello fog tartani.</span><span class="sxs-lookup"><span data-stu-id="7b7a0-151">If you are using VSTS with GIT (Sync-VSTSGit.ps1) it will take hello following parameters.</span></span>

<span data-ttu-id="7b7a0-152">Paraméter</span><span class="sxs-lookup"><span data-stu-id="7b7a0-152">Parameter</span></span> | <span data-ttu-id="7b7a0-153">Leírás</span><span class="sxs-lookup"><span data-stu-id="7b7a0-153">Description</span></span>|
--------|------------|
<span data-ttu-id="7b7a0-154">WebhookData</span><span class="sxs-lookup"><span data-stu-id="7b7a0-154">WebhookData</span></span> | <span data-ttu-id="7b7a0-155">Hello VSTS szolgáltatás hook küldött hello beadása információt tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="7b7a0-155">This will contain hello checkin information sent from hello VSTS service hook.</span></span> <span data-ttu-id="7b7a0-156">Ez a paraméter kell hagyja üresen.</span><span class="sxs-lookup"><span data-stu-id="7b7a0-156">You should leave this parameter blank.</span></span>| <span data-ttu-id="7b7a0-157">ResourceGroup</span><span class="sxs-lookup"><span data-stu-id="7b7a0-157">ResourceGroup</span></span> | <span data-ttu-id="7b7a0-158">A hello név, automation-fiók hello hello erőforráscsoport van.</span><span class="sxs-lookup"><span data-stu-id="7b7a0-158">This hello name of hello resource group that hello automation account is in.</span></span>|
<span data-ttu-id="7b7a0-159">AutomationAccountName</span><span class="sxs-lookup"><span data-stu-id="7b7a0-159">AutomationAccountName</span></span> | <span data-ttu-id="7b7a0-160">hello VSTS, szinkronizálandó hello automation-fiók neve.</span><span class="sxs-lookup"><span data-stu-id="7b7a0-160">hello name of hello automation account that will sync with VSTS.</span></span>|
<span data-ttu-id="7b7a0-161">VSAccount</span><span class="sxs-lookup"><span data-stu-id="7b7a0-161">VSAccount</span></span> | <span data-ttu-id="7b7a0-162">hello hello Visual Studio Team Services-fiók neve.</span><span class="sxs-lookup"><span data-stu-id="7b7a0-162">hello name of hello Visual Studio Team Services account.</span></span>|
<span data-ttu-id="7b7a0-163">VSProject</span><span class="sxs-lookup"><span data-stu-id="7b7a0-163">VSProject</span></span> | <span data-ttu-id="7b7a0-164">Ha létezik a runbookokat hello és konfigurációk VSTS hello projekt hello nevét.</span><span class="sxs-lookup"><span data-stu-id="7b7a0-164">hello name of hello project in VSTS where hello runbooks and configurations exist.</span></span>|
<span data-ttu-id="7b7a0-165">GitRepo</span><span class="sxs-lookup"><span data-stu-id="7b7a0-165">GitRepo</span></span> | <span data-ttu-id="7b7a0-166">hello Git-tárház hello neve.</span><span class="sxs-lookup"><span data-stu-id="7b7a0-166">hello name of hello Git repository.</span></span>|
<span data-ttu-id="7b7a0-167">GitBranch</span><span class="sxs-lookup"><span data-stu-id="7b7a0-167">GitBranch</span></span> | <span data-ttu-id="7b7a0-168">hello ág VSTS Git-tárházban hello nevét.</span><span class="sxs-lookup"><span data-stu-id="7b7a0-168">hello name of hello branch in VSTS Git repository.</span></span>|
<span data-ttu-id="7b7a0-169">Mappa</span><span class="sxs-lookup"><span data-stu-id="7b7a0-169">Folder</span></span> | <span data-ttu-id="7b7a0-170">hello mappa VSTS Git ágában hello neve.</span><span class="sxs-lookup"><span data-stu-id="7b7a0-170">hello name of hello folder in VSTS Git branch.</span></span>|
<span data-ttu-id="7b7a0-171">VSAccessTokenVariableName</span><span class="sxs-lookup"><span data-stu-id="7b7a0-171">VSAccessTokenVariableName</span></span> | <span data-ttu-id="7b7a0-172">hello hello biztonságos változó neve (VSToken), amely tárolja a hello VSTS személyes hozzáférési jogkivonat.</span><span class="sxs-lookup"><span data-stu-id="7b7a0-172">hello name of hello secure variable (VSToken) that holds hello VSTS personal access token.</span></span>|

![](media/automation-scenario-source-control-integration-with-VSTS/VSTSGitWebhook.png)

<span data-ttu-id="7b7a0-173">Hozzon létre egy service hook VSTS jelölőnégyzet-modulok toohello mappa, amely elindítja a kód be a webhook.</span><span class="sxs-lookup"><span data-stu-id="7b7a0-173">Create a service hook in VSTS for check-ins toohello folder that triggers this webhook on code check-in.</span></span> <span data-ttu-id="7b7a0-174">Jelöljön ki webes csatlakozik, hello szolgáltatás toointegrate az új előfizetés létrehozásakor.</span><span class="sxs-lookup"><span data-stu-id="7b7a0-174">Select Web Hooks as hello service toointegrate with when you create a new subscription.</span></span> <span data-ttu-id="7b7a0-175">További service hurkok kapcsolatos a [VSTS szolgáltatás hurkok dokumentáció](https://www.visualstudio.com/en-us/docs/marketplace/integrate/service-hooks/get-started).</span><span class="sxs-lookup"><span data-stu-id="7b7a0-175">You can learn more about service hooks on [VSTS Service Hooks documentation](https://www.visualstudio.com/en-us/docs/marketplace/integrate/service-hooks/get-started).</span></span>
![](media/automation-scenario-source-control-integration-with-VSTS/VSTSServiceHook.png)

<span data-ttu-id="7b7a0-176">Meg kell tudni toodo összes jelölőnégyzet-modulok a runbookok és a beállításokat a VSTS rendszerbe, és ezek automatikusan be vannak szinkronizálni az automation-fiók be kellett.</span><span class="sxs-lookup"><span data-stu-id="7b7a0-176">You should now be able toodo all check-ins of your runbooks and configurations into VSTS and have these automatically sync’d into your automation account.</span></span>

![](media/automation-scenario-source-control-integration-with-VSTS/VSTSSyncRunbookOutput.png)

<span data-ttu-id="7b7a0-177">Ha ez a forgatókönyv manuálisan nélkül futtatja VSTS által indított alatt, üresen hello webhookdata paraméter, és a teljes szinkronizálás megadott hello VSTS mappából fog tenni.</span><span class="sxs-lookup"><span data-stu-id="7b7a0-177">If you run this runbook manually without being triggered by VSTS, you can leave hello webhookdata parameter empty and it will do a full sync from hello VSTS folder specified.</span></span>

<span data-ttu-id="7b7a0-178">Ha a toouninstall hello forgatókönyv, hello szolgáltatás hook eltávolítása VSTS, hello runbook és hello VSToken változó törlése.</span><span class="sxs-lookup"><span data-stu-id="7b7a0-178">If you wish toouninstall hello scenario, remove hello service hook from VSTS, delete hello runbook, and hello VSToken variable.</span></span>
