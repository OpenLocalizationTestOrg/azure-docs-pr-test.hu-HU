---
title: "Azure Automation grafikus forgatókönyvnek első aaaMy |} Microsoft Docs"
description: "Az oktatóanyag bemutatja, hogyan hello létrehozása, tesztelése és egy egyszerű grafikus runbook közzététele."
services: automation
documentationcenter: 
author: mgoedtel
manager: jwhit
editor: 
keywords: runbook, runbook-sablon, runbook automation, azure runbook
ms.assetid: dcb88f19-ed2b-4372-9724-6625cd287c8a
ms.service: automation
ms.workload: tbd
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: get-started-article
ms.date: 05/17/2017
ms.author: magoedte;bwren
ms.openlocfilehash: 964cf8bae75ca597959bfc39b2b07c22bbc9acb5
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="my-first-graphical-runbook"></a><span data-ttu-id="f4ef9-104">Az első grafikus forgatókönyvem</span><span class="sxs-lookup"><span data-stu-id="f4ef9-104">My first graphical runbook</span></span>

> [!div class="op_single_selector"]
> * [<span data-ttu-id="f4ef9-105">Grafikus</span><span class="sxs-lookup"><span data-stu-id="f4ef9-105">Graphical</span></span>](automation-first-runbook-graphical.md)
> * [<span data-ttu-id="f4ef9-106">PowerShell</span><span class="sxs-lookup"><span data-stu-id="f4ef9-106">PowerShell</span></span>](automation-first-runbook-textual-powershell.md)
> * [<span data-ttu-id="f4ef9-107">PowerShell-munkafolyamat</span><span class="sxs-lookup"><span data-stu-id="f4ef9-107">PowerShell Workflow</span></span>](automation-first-runbook-textual.md)
> 
> 

<span data-ttu-id="f4ef9-108">Ez az oktatóanyag bemutatja, hogyan hello létrehozása egy [grafikus forgatókönyvnek](automation-runbook-types.md#graphical-runbooks) az Azure Automationben.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-108">This tutorial walks you through hello creation of a [graphical runbook](automation-runbook-types.md#graphical-runbooks) in Azure Automation.</span></span>  <span data-ttu-id="f4ef9-109">Először egy egyszerű runbookot, amely teszteli, és teszi közzé, amíg azt ismertetik, hogyan tootrack hello hello runbook-feladat állapotának.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-109">We start with a simple runbook that tests and publishes while we explain how tootrack hello status of hello runbook job.</span></span>  <span data-ttu-id="f4ef9-110">A Microsoft hello runbook módosítsa tooactually kezelése az Azure-erőforrások, ebben az esetben az Azure virtuális gép elindítása.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-110">Then we modify hello runbook tooactually manage Azure resources, in this case starting an Azure virtual machine.</span></span>  <span data-ttu-id="f4ef9-111">Majd a Microsoft hello oktatóanyag elvégzéséhez azáltal, hogy sokkal hatékonyabban hello runbook runbook-paraméterek és a feltételes hivatkozások hozzáadásával.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-111">Then we complete hello tutorial by making hello runbook more robust by adding runbook parameters and conditional links.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="f4ef9-112">Előfeltételek</span><span class="sxs-lookup"><span data-stu-id="f4ef9-112">Prerequisites</span></span>
<span data-ttu-id="f4ef9-113">toocomplete ebben az oktatóanyagban szüksége lesz a következő hello.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-113">toocomplete this tutorial, you will need hello following.</span></span>

* <span data-ttu-id="f4ef9-114">Egy Azure-előfizetés.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-114">Azure subscription.</span></span>  <span data-ttu-id="f4ef9-115">Ha még nem rendelkezik fiókkal, [aktiválhatja MSDN-előfizetői előnyeit](https://azure.microsoft.com/pricing/member-offers/msdn-benefits-details/), illetve <a href="/pricing/free-account/" target="_blank">[regisztrálhat egy ingyenes fiókot](https://azure.microsoft.com/free/).</span><span class="sxs-lookup"><span data-stu-id="f4ef9-115">If you don't have one yet, you can [activate your MSDN subscriber benefits](https://azure.microsoft.com/pricing/member-offers/msdn-benefits-details/) or <a href="/pricing/free-account/" target="_blank">[sign up for a free account](https://azure.microsoft.com/free/).</span></span>
* <span data-ttu-id="f4ef9-116">[Azure Automation-fiók](automation-sec-configure-azure-runas-account.md) toohold hello runbook és tooAzure erőforrások hitelesítéséhez.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-116">[Azure Automation account](automation-sec-configure-azure-runas-account.md) toohold hello runbook and authenticate tooAzure resources.</span></span>  <span data-ttu-id="f4ef9-117">Ezt a fiókot kell toostart engedéllyel rendelkezik, és állítsa le a virtuális gép hello.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-117">This account must have permission toostart and stop hello virtual machine.</span></span>
* <span data-ttu-id="f4ef9-118">Egy Azure virtuális gép.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-118">An Azure virtual machine.</span></span>  <span data-ttu-id="f4ef9-119">Ezt a gépet leállítjuk és elindítjuk, tehát ne legyen éles használatban.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-119">We will stop and start this machine so it should not be production.</span></span>

## <a name="step-1---create-runbook"></a><span data-ttu-id="f4ef9-120">1. lépés – Runbook létrehozása</span><span class="sxs-lookup"><span data-stu-id="f4ef9-120">Step 1 - Create runbook</span></span>
<span data-ttu-id="f4ef9-121">Először hozzon létre egy egyszerű runbookot, amely hello szöveg *Hello World*.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-121">We start by creating a simple runbook that outputs hello text *Hello World*.</span></span>

1. <span data-ttu-id="f4ef9-122">Hello Azure-portálon nyissa meg az Automation-fiók.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-122">In hello Azure portal, open your Automation account.</span></span>  
   <span data-ttu-id="f4ef9-123">hello Automation-fiók lap lehetővé teszi az erőforrások hello áttekintő képet ebben a fiókban.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-123">hello Automation account page gives you a quick view of hello resources in this account.</span></span>  <span data-ttu-id="f4ef9-124">Valószínűleg rendelkezik már adategységekkel.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-124">You should already have some Assets.</span></span>  <span data-ttu-id="f4ef9-125">Ezek többsége hello modulok automatikusan új Automation-fiók található.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-125">Most of those are hello modules that are automatically included in a new Automation account.</span></span>  <span data-ttu-id="f4ef9-126">Be kell hello hitelesítőadat-eszköz hello említett [Előfeltételek](#prerequisites).</span><span class="sxs-lookup"><span data-stu-id="f4ef9-126">You should also have hello Credential asset that's mentioned in hello [prerequisites](#prerequisites).</span></span>
2. <span data-ttu-id="f4ef9-127">Kattintson a hello **Runbookok** csempe tooopen hello forgatókönyvek listája.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-127">Click hello **Runbooks** tile tooopen hello list of runbooks.</span></span><br> <span data-ttu-id="f4ef9-128">![Runbookok szabályozása](media/automation-first-runbook-graphical/runbooks-resources-tile.png)</span><span class="sxs-lookup"><span data-stu-id="f4ef9-128">![Runbooks control](media/automation-first-runbook-graphical/runbooks-resources-tile.png)</span></span>
3. <span data-ttu-id="f4ef9-129">Hozzon létre egy új runbookot hello kattintva **hozzáadása egy runbook** gombra, majd **hozzon létre egy új runbookot**.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-129">Create a new runbook by clicking on hello **Add a runbook** button and then **Create a new runbook**.</span></span>
4. <span data-ttu-id="f4ef9-130">Hello runbook hello nevezze *MyFirstRunbook grafikus*.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-130">Give hello runbook hello name *MyFirstRunbook-Graphical*.</span></span>
5. <span data-ttu-id="f4ef9-131">Ebben az esetben az oktatóanyagban módosítjuk toocreate egy [grafikus forgatókönyvnek](automation-graphical-authoring-intro.md) ezért **grafikus** a **runbooktípusba**.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-131">In this case, we're going toocreate a [graphical runbook](automation-graphical-authoring-intro.md) so select **Graphical** for **Runbook type**.</span></span><br> <span data-ttu-id="f4ef9-132">![Új runbook](media/automation-first-runbook-graphical/create-new-runbook.png)</span><span class="sxs-lookup"><span data-stu-id="f4ef9-132">![New runbook](media/automation-first-runbook-graphical/create-new-runbook.png)</span></span><br>
6. <span data-ttu-id="f4ef9-133">Kattintson a **létrehozása** toocreate hello runbookot és a nyitott hello grafikus szerkesztő.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-133">Click **Create** toocreate hello runbook and open hello graphical editor.</span></span>

## <a name="step-2---add-activities-toohello-runbook"></a><span data-ttu-id="f4ef9-134">2. lépés - tevékenységek toohello runbook hozzáadása</span><span class="sxs-lookup"><span data-stu-id="f4ef9-134">Step 2 - Add activities toohello runbook</span></span>
<span data-ttu-id="f4ef9-135">hello könyvtár vezérlő hello bal oldalán hello szerkesztő tooselect tevékenységek tooadd tooyour runbook lehetővé teszi.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-135">hello Library control on hello left side of hello editor allows you tooselect activities tooadd tooyour runbook.</span></span>  <span data-ttu-id="f4ef9-136">Fogjuk tooadd egy **Write-Output** parancsmag toooutput szöveg hello runbookból.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-136">We're going tooadd a **Write-Output** cmdlet toooutput text from hello runbook.</span></span>

1. <span data-ttu-id="f4ef9-137">Hello könyvtár vezérlő, kattintson a hello keresési mezőbe, és írja be **Write-Output**.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-137">In hello Library control, click in hello search textbox and type **Write-Output**.</span></span>  <span data-ttu-id="f4ef9-138">hello keresési eredmények alatt jelenik meg.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-138">hello search results will be displayed below.</span></span> <br> <span data-ttu-id="f4ef9-139">![Microsoft.PowerShell.Utility](media/automation-first-runbook-graphical/search-powershell-cmdlet-writeoutput.png)</span><span class="sxs-lookup"><span data-stu-id="f4ef9-139">![Microsoft.PowerShell.Utility](media/automation-first-runbook-graphical/search-powershell-cmdlet-writeoutput.png)</span></span>
2. <span data-ttu-id="f4ef9-140">Görgessen lefelé toohello hello lista aljára.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-140">Scroll down toohello bottom of hello list.</span></span>  <span data-ttu-id="f4ef9-141">Kattintson jobb gombbal is **Write-Output** válassza **toocanvas hozzáadása** vagy hello ellipszis következő toohello parancsmag kattintson, és válassza **toocanvas hozzáadása**.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-141">You can either right-click **Write-Output** and select **Add toocanvas** or click hello ellipse next toohello cmdlet and then select **Add toocanvas**.</span></span>
3. <span data-ttu-id="f4ef9-142">Kattintson a hello **Write-Output** vásznon a hello tevékenység.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-142">Click hello **Write-Output** activity on hello canvas.</span></span>  <span data-ttu-id="f4ef9-143">Ekkor megnyílik hello konfigurációs vezérlő panel, amely lehetővé teszi tooconfigure hello tevékenység.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-143">This opens hello Configuration control blade, which allows you tooconfigure hello activity.</span></span>
4. <span data-ttu-id="f4ef9-144">Hello **címke** toohello neve hello parancsmag alapértelmezés szerint, de jelenleg ez módosítható toosomething könnyebben értelmezhető.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-144">hello **Label** defaults toohello name of hello cmdlet, but we can change it toosomething more friendly.</span></span> <span data-ttu-id="f4ef9-145">Módosítsa úgy túl*írási Hello World toooutput*.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-145">Change it too*Write Hello World toooutput*.</span></span>
5. <span data-ttu-id="f4ef9-146">Kattintson a **paraméterek** tooprovide hello parancsmag-paraméterek értékét.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-146">Click **Parameters** tooprovide values for hello cmdlet's parameters.</span></span>  
   <span data-ttu-id="f4ef9-147">Néhány parancsmaggal paraméterkészletek rendelkezik, és melyik meg egy toouse kell tooselect.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-147">Some cmdlets have multiple parameter sets, and you need tooselect which you one toouse.</span></span> <span data-ttu-id="f4ef9-148">Ebben az esetben **Write-Output** be van állítva csak egy paraméter, így nem kell egy tooselect.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-148">In this case, **Write-Output** has only one parameter set, so you don't need tooselect one.</span></span> <br> <span data-ttu-id="f4ef9-149">![A Write-Output tulajdonságai](media/automation-first-runbook-graphical/write-output-properties-b.png)</span><span class="sxs-lookup"><span data-stu-id="f4ef9-149">![Write-Output properties](media/automation-first-runbook-graphical/write-output-properties-b.png)</span></span>
6. <span data-ttu-id="f4ef9-150">Jelölje be hello **InputObject** paraméter.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-150">Select hello **InputObject** parameter.</span></span>  <span data-ttu-id="f4ef9-151">Ez az hello paraméter ahol adtuk meg hello szöveg toosend toohello kimeneti adatfolyam.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-151">This is hello parameter where we specify hello text toosend toohello output stream.</span></span>
7. <span data-ttu-id="f4ef9-152">A hello **adatforrás** legördülő menüből válassza **PowerShell-kifejezést**.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-152">In hello **Data source** dropdown, select **PowerShell expression**.</span></span>  <span data-ttu-id="f4ef9-153">Hello **adatforrás** legördülő biztosít a különböző forrásokból, hogy toopopulate a paraméter értékét használja.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-153">hello **Data source** dropdown provides different sources that you use toopopulate a parameter value.</span></span>  
   <span data-ttu-id="f4ef9-154">Használhatja ilyen források (pl. egy másik tevékenység, egy Automation-adategység vagy egy PowerShell-kifejezés) kimenetét.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-154">You can use output from such sources such as another activity, an Automation asset, or a PowerShell expression.</span></span>  <span data-ttu-id="f4ef9-155">Ebben az esetben, ellenőrizni szeretnénk toooutput hello szöveg *Hello World*.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-155">In this case, we just want toooutput hello text *Hello World*.</span></span> <span data-ttu-id="f4ef9-156">Megadhatunk egy karakterláncot egy PowerShell-kifejezéssel is.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-156">We can use a PowerShell expression and specify a string.</span></span>
8. <span data-ttu-id="f4ef9-157">A hello **kifejezés** mezőbe írja be *"Hello World"* majd **OK** kétszer tooreturn toohello vászonra.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-157">In hello **Expression** box, type *"Hello World"* and then click **OK** twice tooreturn toohello canvas.</span></span><br> <span data-ttu-id="f4ef9-158">![PowerShell-kifejezés](media/automation-first-runbook-graphical/expression-hello-world.png)</span><span class="sxs-lookup"><span data-stu-id="f4ef9-158">![PowerShell Expression](media/automation-first-runbook-graphical/expression-hello-world.png)</span></span>
9. <span data-ttu-id="f4ef9-159">Hello runbook gombra kattintva mentse **mentése**.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-159">Save hello runbook by clicking **Save**.</span></span><br> <span data-ttu-id="f4ef9-160">![Runbook mentése](media/automation-first-runbook-graphical/runbook-toolbar-save-revised20165.png)</span><span class="sxs-lookup"><span data-stu-id="f4ef9-160">![Save runbook](media/automation-first-runbook-graphical/runbook-toolbar-save-revised20165.png)</span></span>

## <a name="step-3---test-hello-runbook"></a><span data-ttu-id="f4ef9-161">3. lépés – hello runbook tesztelése</span><span class="sxs-lookup"><span data-stu-id="f4ef9-161">Step 3 - Test hello runbook</span></span>
<span data-ttu-id="f4ef9-162">Ahhoz, hogy hello runbook toomake tehessenek közzé az tootest szeretnénk elérhető éles környezetben, azt toomake meg arról, hogy megfelelően működik-e.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-162">Before we publish hello runbook toomake it available in production, we want tootest it toomake sure that it works properly.</span></span>  <span data-ttu-id="f4ef9-163">Egy forgatókönyv tesztelésekor a **Piszkozat** verziót futtatja, és interaktív módon megtekinti a kimenetét.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-163">When you test a runbook, you run its **Draft** version and view its output interactively.</span></span>

1. <span data-ttu-id="f4ef9-164">Kattintson a **teszt ablaktábla** tooopen hello teszt panelen.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-164">Click **Test pane** tooopen hello Test blade.</span></span><br> <span data-ttu-id="f4ef9-165">![Teszt panel](media/automation-first-runbook-graphical/runbook-toolbar-test-revised20165.png)</span><span class="sxs-lookup"><span data-stu-id="f4ef9-165">![Test pane](media/automation-first-runbook-graphical/runbook-toolbar-test-revised20165.png)</span></span>
2. <span data-ttu-id="f4ef9-166">Kattintson a **Start** toostart hello tesztelése.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-166">Click **Start** toostart hello test.</span></span>  <span data-ttu-id="f4ef9-167">Csak az engedélyezett hello lehetőség legyen.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-167">This should be hello only enabled option.</span></span>
3. <span data-ttu-id="f4ef9-168">A [runbook-feladat](automation-runbook-execution.md) jön létre, és annak állapotát hello ablaktábláján megjelenik.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-168">A [runbook job](automation-runbook-execution.md) is created and its status displayed in hello pane.</span></span>  
   <span data-ttu-id="f4ef9-169">hello feladatállapot indítja el *várakozik* azt jelzi, hogy a forgatókönyv-feldolgozók hello felhő toobecome érhető el a vár.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-169">hello job status starts as *Queued* indicating that it is waiting for a runbook worker in hello cloud toobecome available.</span></span>  <span data-ttu-id="f4ef9-170">Majd áthelyezi azt túl*indítása* dolgozó jogcímek hello feladatot, amikor, majd *futtató* amikor hello runbook ténylegesen elindul.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-170">It then moves too*Starting* when a worker claims hello job, and then *Running* when hello runbook actually starts running.</span></span>  
4. <span data-ttu-id="f4ef9-171">Hello runbook feladat befejeződik, a kimenet jelenik meg.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-171">When hello runbook job completes, its output is displayed.</span></span> <span data-ttu-id="f4ef9-172">A mi esetünkben ez a következő: *Hello World*.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-172">In our case, we should see *Hello World*.</span></span><br> <span data-ttu-id="f4ef9-173">![Hello World](media/automation-first-runbook-graphical/runbook-test-results.png)</span><span class="sxs-lookup"><span data-stu-id="f4ef9-173">![Hello World](media/automation-first-runbook-graphical/runbook-test-results.png)</span></span>
5. <span data-ttu-id="f4ef9-174">Zárja be a hello teszt panel tooreturn toohello vászonra.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-174">Close hello Test blade tooreturn toohello canvas.</span></span>

## <a name="step-4---publish-and-start-hello-runbook"></a><span data-ttu-id="f4ef9-175">4. lépés: közzététele és hello runbook elindítása</span><span class="sxs-lookup"><span data-stu-id="f4ef9-175">Step 4 - Publish and start hello runbook</span></span>
<span data-ttu-id="f4ef9-176">hello runbook létrehozott még mindig vázlat módban van.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-176">hello runbook that we created is still in Draft mode.</span></span> <span data-ttu-id="f4ef9-177">Igazolnia kell, hogy toopublish azt azt futtatása előtt az éles környezetben.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-177">We need toopublish it before we can run it in production.</span></span>  <span data-ttu-id="f4ef9-178">Egy runbook közzétételekor hello meglévő közzétett verzió felülírja a hello vázlatként megjelölt verziót.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-178">When you publish a runbook, you overwrite hello existing Published version with hello Draft version.</span></span>  <span data-ttu-id="f4ef9-179">Ebben az esetben nem tudunk egy közzétett verziója még mivel az imént létrehozott hello runbook.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-179">In our case, we don't have a Published version yet because we just created hello runbook.</span></span>

1. <span data-ttu-id="f4ef9-180">Kattintson a **közzététel** toopublish hello runbookot, majd **Igen** megjelenésekor.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-180">Click **Publish** toopublish hello runbook and then **Yes** when prompted.</span></span><br> <span data-ttu-id="f4ef9-181">![Közzététel](media/automation-first-runbook-graphical/runbook-toolbar-publish-revised20166.png)</span><span class="sxs-lookup"><span data-stu-id="f4ef9-181">![Publish](media/automation-first-runbook-graphical/runbook-toolbar-publish-revised20166.png)</span></span>
2. <span data-ttu-id="f4ef9-182">Ha bal oldali tooview hello runbook hello **Runbookok** panelen láthatja az **szerzői állapot** a **közzétett**.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-182">If you scroll left tooview hello runbook in hello **Runbooks** blade, it shows an **Authoring Status** of **Published**.</span></span>
3. <span data-ttu-id="f4ef9-183">Görgessen hátsó toohello jobb tooview hello paneljén **MyFirstRunbook**.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-183">Scroll back toohello right tooview hello blade for **MyFirstRunbook**.</span></span>  
   <span data-ttu-id="f4ef9-184">hello hello tetején beállítások lehetővé teszik a számunkra toostart hello runbookot, az ütemezés toostart valamikor a jövőbeli hello, vagy hozzon létre egy [webhook](automation-webhooks.md) indíthatók el, egy HTTP-hívás keresztül.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-184">hello options across hello top allow us toostart hello runbook, schedule it toostart at some time in hello future, or create a [webhook](automation-webhooks.md) so it can be started through an HTTP call.</span></span>
4. <span data-ttu-id="f4ef9-185">Toostart hello runbook szeretnénk, kattintson a **Start** , majd **Igen** megjelenésekor.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-185">We just want toostart hello runbook so click **Start** and then **Yes** when prompted.</span></span><br> <span data-ttu-id="f4ef9-186">![Runbook indítása](media/automation-first-runbook-graphical/runbook-controls-start-revised20165.png)</span><span class="sxs-lookup"><span data-stu-id="f4ef9-186">![Start runbook](media/automation-first-runbook-graphical/runbook-controls-start-revised20165.png)</span></span>
5. <span data-ttu-id="f4ef9-187">Egy feladat panelen létrehozott hello runbook-feladat van megnyitva.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-187">A job blade is opened for hello runbook job that we created.</span></span>  <span data-ttu-id="f4ef9-188">Azt is zárja be a panelt, de ebben az esetben azt nyitva hagyja, hogy figyelemmel követheti a hello feladat előrehaladását.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-188">We can close this blade, but in this case we leave it open so we can watch hello job's progress.</span></span>
6. <span data-ttu-id="f4ef9-189">hello feladat állapota látható **feladat összegzése** és egyezések hello imént látott amikor tesztelt hello runbook állapotok.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-189">hello job status is shown in **Job Summary** and matches hello statuses that we saw when we tested hello runbook.</span></span><br> <span data-ttu-id="f4ef9-190">![Feladat összegzése](media/automation-first-runbook-graphical/runbook-job-summary.png)</span><span class="sxs-lookup"><span data-stu-id="f4ef9-190">![Job Summary](media/automation-first-runbook-graphical/runbook-job-summary.png)</span></span>
7. <span data-ttu-id="f4ef9-191">Egyszer a runbook állapota látható hello *befejezve*, kattintson a **kimeneti**.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-191">Once hello runbook status shows *Completed*, click **Output**.</span></span> <span data-ttu-id="f4ef9-192">Hello **kimeneti** panel már meg van nyitva, és láthatja a *Hello World* hello ablaktáblán.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-192">hello **Output** blade is opened, and we can see our *Hello World* in hello pane.</span></span><br> <span data-ttu-id="f4ef9-193">![Feladat összegzése](media/automation-first-runbook-graphical/runbook-job-output.png)</span><span class="sxs-lookup"><span data-stu-id="f4ef9-193">![Job Summary](media/automation-first-runbook-graphical/runbook-job-output.png)</span></span>  
8. <span data-ttu-id="f4ef9-194">Bezárás hello kimenete panelre.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-194">Close hello Output blade.</span></span>
9. <span data-ttu-id="f4ef9-195">Kattintson a **összes napló** tooopen hello adatfolyamok panel hello runbook-feladat.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-195">Click **All Logs** tooopen hello Streams blade for hello runbook job.</span></span>  <span data-ttu-id="f4ef9-196">Csak azt kell látnia *Hello World* hello kimeneti adatfolyam, de ez lehet megjelenítése más adatfolyamok, például a Verbose és a hiba a runbook-feladat Ha hello runbook ír toothem.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-196">We should only see *Hello World* in hello output stream, but this can show other streams for a runbook job such as Verbose and Error if hello runbook writes toothem.</span></span><br> <span data-ttu-id="f4ef9-197">![Feladat összegzése](media/automation-first-runbook-graphical/runbook-job-AllLogs.png)</span><span class="sxs-lookup"><span data-stu-id="f4ef9-197">![Job Summary](media/automation-first-runbook-graphical/runbook-job-AllLogs.png)</span></span>
10. <span data-ttu-id="f4ef9-198">Hello összes napló panel és hello feladat panelen tooreturn toohello MyFirstRunbook panel bezárása.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-198">Close hello All Logs blade and hello Job blade tooreturn toohello MyFirstRunbook blade.</span></span>
11. <span data-ttu-id="f4ef9-199">Kattintson a **feladatok** tooopen hello feladatok panelen ehhez a runbookhoz.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-199">Click **Jobs** tooopen hello Jobs blade for this runbook.</span></span>  <span data-ttu-id="f4ef9-200">A parancs megjeleníti a runbook által létrehozott összes hello feladatok.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-200">This lists all hello jobs created by this runbook.</span></span> <span data-ttu-id="f4ef9-201">Csak egy feladat feltüntetve mivel csak miatt hello feladat egyszer kell látható.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-201">We should only see one job listed since we only ran hello job once.</span></span><br> <span data-ttu-id="f4ef9-202">![Feladatok](media/automation-first-runbook-graphical/runbook-control-jobs.png)</span><span class="sxs-lookup"><span data-stu-id="f4ef9-202">![Jobs](media/automation-first-runbook-graphical/runbook-control-jobs.png)</span></span>
12. <span data-ttu-id="f4ef9-203">Ez a feladat kattintva tooopen hello azonos feladat panelen, amely azt a Microsoft hello runbook indításakor tekinthetők.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-203">You can click this job tooopen hello same Job pane that we viewed when we started hello runbook.</span></span>  <span data-ttu-id="f4ef9-204">Ez lehetővé teszi toogo vissza az idő és a nézet számára egy adott runbookhoz létrehozott összes feladat hello részleteit.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-204">This allows you toogo back in time and view hello details of any job that was created for a particular runbook.</span></span>

## <a name="step-5---create-variable-assets"></a><span data-ttu-id="f4ef9-205">5. lépés: Változó adategységek létrehozása</span><span class="sxs-lookup"><span data-stu-id="f4ef9-205">Step 5 - Create variable assets</span></span>
<span data-ttu-id="f4ef9-206">Most már teszteltük és közzétettük a forgatókönyvet, de még nem csinál semmi hasznosat.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-206">We've tested and published our runbook, but so far it doesn't do anything useful.</span></span> <span data-ttu-id="f4ef9-207">Azt szeretnénk, ha az Azure-erőforrások kezeléséhez toohave.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-207">We want toohave it manage Azure resources.</span></span>  <span data-ttu-id="f4ef9-208">Hello runbook tooauthenticate konfigurálja azt, mielőtt azt hozzon létre egy változó toohold hello előfizetési Azonosítót, és hivatkozni rá után beállítjuk hello tevékenység tooauthenticate az alábbi 6. lépésben.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-208">Before we configure hello runbook tooauthenticate, we  create a variable toohold hello subscription ID and reference it after we set up hello activity tooauthenticate in step 6 below.</span></span>  <span data-ttu-id="f4ef9-209">Többek között egy referencia toohello előfizetési kontextust lehetővé teszi a tooeasily munkahelyi több előfizetések között.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-209">Including a reference toohello subscription context allows you tooeasily work between multiple subscriptions.</span></span>  <span data-ttu-id="f4ef9-210">A folytatás előtt másolja az előfizetés-Azonosítóval hello előfizetések lehetőséget ki hello navigációs ablaktáblán.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-210">Before proceeding, copy your subscription ID from hello Subscriptions option off hello Navigation pane.</span></span>  

1. <span data-ttu-id="f4ef9-211">Hello Automation-fiók paneljén kattintson hello **eszközök** csempe és hello **eszközök** panel már meg van nyitva.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-211">In hello Automation Accounts blade, click hello **Assets** tile and hello **Assets** blade is opened.</span></span>
2. <span data-ttu-id="f4ef9-212">Hello Eszközök panelen, kattintson a hello **változók** csempére.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-212">In hello Assets blade, click hello **Variables** tile.</span></span>
3. <span data-ttu-id="f4ef9-213">Hello változók paneljén kattintson **változó hozzáadása**.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-213">On hello Variables blade, click **Add a variable**.</span></span><br><span data-ttu-id="f4ef9-214">![Automation változó](media/automation-first-runbook-graphical/create-new-subscriptionid-variable.png)</span><span class="sxs-lookup"><span data-stu-id="f4ef9-214">![Automation Variable](media/automation-first-runbook-graphical/create-new-subscriptionid-variable.png)</span></span>
4. <span data-ttu-id="f4ef9-215">Hello új változó panelen a hello **neve** adja meg a **AzureSubscriptionId** és hello **érték** mezőben adja meg az előfizetés-azonosító.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-215">In hello New variable blade, in hello **Name** box, enter **AzureSubscriptionId** and in hello **Value** box enter your Subscription ID.</span></span>  <span data-ttu-id="f4ef9-216">Tartsa *karakterlánc* a hello **típus** és hello alapértelmezett értéke **titkosítási**.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-216">Keep *string* for hello **Type** and hello default value for **Encryption**.</span></span>  
5. <span data-ttu-id="f4ef9-217">Kattintson a **létrehozása** toocreate hello változó.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-217">Click **Create** toocreate hello variable.</span></span>  

## <a name="step-6---add-authentication-toomanage-azure-resources"></a><span data-ttu-id="f4ef9-218">6. lépés - hitelesítési toomanage hozzá Azure-erőforrások</span><span class="sxs-lookup"><span data-stu-id="f4ef9-218">Step 6 - Add authentication toomanage Azure resources</span></span>
<span data-ttu-id="f4ef9-219">Most, hogy egy változó toohold az előfizetés-azonosító, azt is konfigurálhatja a runbook tooauthenticate hello futtató hitelesítő adatokat, amelyek az említett tooin hello [Előfeltételek](#prerequisites).</span><span class="sxs-lookup"><span data-stu-id="f4ef9-219">Now that we have a variable toohold our subscription ID, we can configure our runbook tooauthenticate with hello Run As credentials that are referred tooin hello [prerequisites](#prerequisites).</span></span>  <span data-ttu-id="f4ef9-220">Nézzük meg, hello Azure-beli futtató kapcsolat hozzáadásával **eszköz** és **Add-AzureRMAccount** parancsmag toohello vászonra.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-220">We do that by adding hello Azure Run As connection **Asset** and **Add-AzureRMAccount** cmdlet toohello canvas.</span></span>  

1. <span data-ttu-id="f4ef9-221">Nyissa meg hello grafikus szerkesztő kattintva **szerkesztése** hello MyFirstRunbook panelen.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-221">Open hello graphical editor by clicking **Edit** on hello MyFirstRunbook blade.</span></span><br> <span data-ttu-id="f4ef9-222">![Runbook szerkesztése](media/automation-first-runbook-graphical/runbook-controls-edit-revised20165.png)</span><span class="sxs-lookup"><span data-stu-id="f4ef9-222">![Edit runbook](media/automation-first-runbook-graphical/runbook-controls-edit-revised20165.png)</span></span>
2. <span data-ttu-id="f4ef9-223">Nem szükséges hello **írási Hello World toooutput** többé, amelyek a jobb gombbal, és válassza ki **törlése**.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-223">We don't need hello **Write Hello World toooutput** anymore, so right-click it and select **Delete**.</span></span>
3. <span data-ttu-id="f4ef9-224">Bontsa ki könyvtár vezérlő hello, **kapcsolatok** , és adja hozzá **AzureRunAsConnection** toohello vászonra kiválasztásával **toocanvas hozzáadása**.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-224">In hello Library control, expand **Connections** and add **AzureRunAsConnection** toohello canvas by selecting **Add toocanvas**.</span></span>
4. <span data-ttu-id="f4ef9-225">Válassza ki a vásznon a hello, **AzureRunAsConnection** hello konfigurációs vezérlő ablak, írja be a **beolvasása Futtatás mint kapcsolat** a hello **címke** szövegmező.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-225">On hello canvas, select **AzureRunAsConnection** and in hello Configuration control pane, type **Get Run As Connection** in hello **Label** textbox.</span></span>  <span data-ttu-id="f4ef9-226">Hello kapcsolat</span><span class="sxs-lookup"><span data-stu-id="f4ef9-226">This is hello connection</span></span>
5. <span data-ttu-id="f4ef9-227">Hello könyvtár vezérlő, írja be **Add-AzureRmAccount** hello keresési szövegmezőben.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-227">In hello Library control, type **Add-AzureRmAccount** in hello search textbox.</span></span>
6. <span data-ttu-id="f4ef9-228">Hozzáadás **Add-AzureRmAccount** toohello vászonra.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-228">Add **Add-AzureRmAccount** toohello canvas.</span></span><br> <span data-ttu-id="f4ef9-229">![Add-AzureRMAccount](media/automation-first-runbook-graphical/search-powershell-cmdlet-addazurermaccount.png)</span><span class="sxs-lookup"><span data-stu-id="f4ef9-229">![Add-AzureRMAccount](media/automation-first-runbook-graphical/search-powershell-cmdlet-addazurermaccount.png)</span></span>
7. <span data-ttu-id="f4ef9-230">Vigye **beolvasása Futtatás mint kapcsolat** hello alsó hello alakzat egy kör látható, amíg.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-230">Hover over **Get Run As Connection** until a circle appears on hello bottom of hello shape.</span></span> <span data-ttu-id="f4ef9-231">Hello kör kattintással és húzással vigye túl hello nyíl**Add-AzureRmAccount**.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-231">Click hello circle and drag hello arrow too**Add-AzureRmAccount**.</span></span>  <span data-ttu-id="f4ef9-232">hello nyíl létrehozott egy *hivatkozás*.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-232">hello arrow that you created is a *link*.</span></span>  <span data-ttu-id="f4ef9-233">hello runbook kezdődik-e **beolvasása Futtatás mint kapcsolat** , majd futtassa **Add-AzureRmAccount**.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-233">hello runbook starts with **Get Run As Connection** and then run **Add-AzureRmAccount**.</span></span><br> <span data-ttu-id="f4ef9-234">![Hivatkozás létrehozása a tevékenységek között](media/automation-first-runbook-graphical/runbook-link-auth-activities.png)</span><span class="sxs-lookup"><span data-stu-id="f4ef9-234">![Create link between activities](media/automation-first-runbook-graphical/runbook-link-auth-activities.png)</span></span>
8. <span data-ttu-id="f4ef9-235">Válassza ki a vásznon a hello, **Add-AzureRmAccount** és konfigurációs hello szabályozza ablaktábla típus **bejelentkezési tooAzure** a hello **címke** szövegmező.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-235">On hello canvas, select **Add-AzureRmAccount** and in hello Configuration control pane type **Login tooAzure** in hello **Label** textbox.</span></span>
9. <span data-ttu-id="f4ef9-236">Kattintson a **paraméterek** és hello tevékenység paraméter konfigurációs panel jelenik meg.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-236">Click **Parameters** and hello Activity Parameter Configuration blade appears.</span></span>
10. <span data-ttu-id="f4ef9-237">**Adja hozzá-AzureRmAccount** paraméterkészletek, rendelkezik, ezért ellenőriznünk kell egy tooselect előtt is nyújtunk a paraméterértékek.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-237">**Add-AzureRmAccount** has multiple parameter sets, so we need tooselect one before we can provide parameter values.</span></span>  <span data-ttu-id="f4ef9-238">Kattintson a **paraméter** , és válassza a hello **ServicePrincipalCertificatewithSubscriptionId** paraméterhalmaz.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-238">Click **Parameter Set** and then select hello **ServicePrincipalCertificatewithSubscriptionId** parameter set.</span></span>
11. <span data-ttu-id="f4ef9-239">Miután hello paraméterkészletet alakítanak, hello paraméterek hello tevékenység paraméter konfigurációs panelen jelennek meg.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-239">Once you select hello parameter set, hello parameters are displayed in hello Activity Parameter Configuration blade.</span></span>  <span data-ttu-id="f4ef9-240">Kattintson az **APPLICATIONID** elemre.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-240">Click **APPLICATIONID**.</span></span><br> <span data-ttu-id="f4ef9-241">![Azure RM-fiók paramétereinek hozzáadása](media/automation-first-runbook-graphical/add-azurermaccount-params.png)</span><span class="sxs-lookup"><span data-stu-id="f4ef9-241">![Add Azure RM account parameters](media/automation-first-runbook-graphical/add-azurermaccount-params.png)</span></span>
12. <span data-ttu-id="f4ef9-242">Hello paraméterérték panelen válassza ki a **tevékenység kimeneti** a hello **adatforrás** válassza ki **beolvasása Futtatás mint kapcsolat** hello listájából, hello **mező elérési út** szövegmező típus **ApplicationId**, és kattintson a **OK**.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-242">In hello Parameter Value blade, select **Activity output** for hello **Data source** and select **Get Run As Connection** from hello list, in hello **Field path** textbox type **ApplicationId**, and then click **OK**.</span></span>  <span data-ttu-id="f4ef9-243">Hello mező elérési hello hello tulajdonság neve megadása azt esetén, mert hello tevékenység kimenete több tulajdonságait azonosítójú objektum.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-243">We are specifying hello name of hello property for hello Field path because hello activity outputs an object with multiple properties.</span></span>
13. <span data-ttu-id="f4ef9-244">Kattintson a **CERTIFICATETHUMBPRINT**, hello paraméterérték panelen válassza ki a **tevékenység kimeneti** a hello **adatforrás**.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-244">Click **CERTIFICATETHUMBPRINT**, and in hello Parameter Value blade, select **Activity output** for hello **Data source**.</span></span>  <span data-ttu-id="f4ef9-245">Válassza ki **beolvasása Futtatás mint kapcsolat** hello listájából, hello **mező elérési útja** szövegmező típus **CertificateThumbprint**, és kattintson a **OK**.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-245">Select **Get Run As Connection** from hello list, in hello **Field path** textbox type **CertificateThumbprint**, and then click **OK**.</span></span>
14. <span data-ttu-id="f4ef9-246">Kattintson a **szolgáltatásnév**, hello paraméterérték panelen válassza ki a **ConstantValue** a hello **adatforrás**, hello választógomb **True**, és kattintson a **OK**.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-246">Click **SERVICEPRINCIPAL**, and in hello Parameter Value blade, select **ConstantValue** for hello **Data source**, click hello option **True**, and then click **OK**.</span></span>
15. <span data-ttu-id="f4ef9-247">Kattintson a **TENANTID**, hello paraméterérték panelen válassza ki a **tevékenység kimeneti** a hello **adatforrás**.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-247">Click **TENANTID**, and in hello Parameter Value blade, select **Activity output** for hello **Data source**.</span></span>  <span data-ttu-id="f4ef9-248">Válassza ki **beolvasása Futtatás mint kapcsolat** hello listájából, hello **mező elérési útja** szövegmező típus **TenantId**, és kattintson a **OK** kétszer.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-248">Select **Get Run As Connection** from hello list, in hello **Field path** textbox type **TenantId**, and then click **OK** twice.</span></span>  
16. <span data-ttu-id="f4ef9-249">Hello könyvtár vezérlő, írja be **Set-AzureRmContext** hello keresési szövegmezőben.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-249">In hello Library control, type **Set-AzureRmContext** in hello search textbox.</span></span>
17. <span data-ttu-id="f4ef9-250">Adja hozzá **Set-AzureRmContext** toohello vászonra.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-250">Add **Set-AzureRmContext** toohello canvas.</span></span>
18. <span data-ttu-id="f4ef9-251">Válassza ki a vásznon a hello, **Set-AzureRmContext** és konfigurációs hello szabályozza ablaktábla típus **előfizetés-azonosító megadása** a hello **címke** szövegmező.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-251">On hello canvas, select **Set-AzureRmContext** and in hello Configuration control pane type **Specify Subscription Id** in hello **Label** textbox.</span></span>
19. <span data-ttu-id="f4ef9-252">Kattintson a **paraméterek** és hello tevékenység paraméter konfigurációs panel jelenik meg.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-252">Click **Parameters** and hello Activity Parameter Configuration blade appears.</span></span>
20. <span data-ttu-id="f4ef9-253">**Set-AzureRmContext** paraméterkészletek, rendelkezik, ezért ellenőriznünk kell egy tooselect előtt is nyújtunk a paraméterértékek.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-253">**Set-AzureRmContext** has multiple parameter sets, so we need tooselect one before we can provide parameter values.</span></span>  <span data-ttu-id="f4ef9-254">Kattintson a **paraméter** , és válassza a hello **SubscriptionId** paraméterhalmaz.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-254">Click **Parameter Set** and then select hello **SubscriptionId** parameter set.</span></span>  
21. <span data-ttu-id="f4ef9-255">Miután hello paraméterkészletet alakítanak, hello paraméterek hello tevékenység paraméter konfigurációs panelen jelennek meg.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-255">Once you select hello parameter set, hello parameters are displayed in hello Activity Parameter Configuration blade.</span></span>  <span data-ttu-id="f4ef9-256">Kattintson a **SubscriptionID** elemre.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-256">Click **SubscriptionID**</span></span>
22. <span data-ttu-id="f4ef9-257">Hello paraméterérték panelen válassza ki a **Változóeszköz** a hello **adatforrás** válassza ki **AzureSubscriptionId** hello listán, és kattintson a **OK**  kétszer.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-257">In hello Parameter Value blade, select **Variable Asset** for hello **Data source** and select **AzureSubscriptionId** from hello list and then click **OK** twice.</span></span>   
23. <span data-ttu-id="f4ef9-258">Vigye **bejelentkezési tooAzure** mindaddig, amíg egy kör látható hello alakzat hello aljára.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-258">Hover over **Login tooAzure** until a circle appears on hello bottom of hello shape.</span></span> <span data-ttu-id="f4ef9-259">Hello kör kattintással és húzással vigye túl hello nyíl**előfizetés-azonosító megadása**.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-259">Click hello circle and drag hello arrow too**Specify Subscription Id**.</span></span>

<span data-ttu-id="f4ef9-260">A runbook hello ezen a ponton a következő hasonlóan kell kinéznie:</span><span class="sxs-lookup"><span data-stu-id="f4ef9-260">Your runbook should look like hello following at this point:</span></span> <br>![Forgatókönyv-hitelesítés konfigurálása](media/automation-first-runbook-graphical/runbook-auth-config.png)

## <a name="step-7---add-activity-toostart-a-virtual-machine"></a><span data-ttu-id="f4ef9-262">7. lépés – tevékenység toostart a virtuális gépek hozzáadása</span><span class="sxs-lookup"><span data-stu-id="f4ef9-262">Step 7 - Add activity toostart a virtual machine</span></span>
<span data-ttu-id="f4ef9-263">Itt azt hozzá egy **Start-AzureRmVM** tevékenység toostart egy virtuális gépet.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-263">Here we add a **Start-AzureRmVM** activity toostart a virtual machine.</span></span>  <span data-ttu-id="f4ef9-264">Választhatja ki a bármely virtuális gép az Azure-előfizetése, és akkor megoldás, amely name hello parancsmag be most.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-264">You can pick any virtual machine in your Azure subscription, and for now you hardcode that name into hello cmdlet.</span></span>

1. <span data-ttu-id="f4ef9-265">Hello könyvtár vezérlő, írja be **Start-AzureRm** hello keresési szövegmezőben.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-265">In hello Library control, type **Start-AzureRm** in hello search textbox.</span></span>
2. <span data-ttu-id="f4ef9-266">Adja hozzá **Start-AzureRmVM** toohello vászonra kattintson és húzza rá alatt **előfizetés-azonosító megadása**.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-266">Add **Start-AzureRmVM** toohello canvas and then click and drag it underneath **Specify Subscription Id**.</span></span>
3. <span data-ttu-id="f4ef9-267">Vigye **előfizetés-azonosító megadása** mindaddig, amíg egy kör látható hello alakzat hello aljára.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-267">Hover over **Specify Subscription Id** until a circle appears on hello bottom of hello shape.</span></span>  <span data-ttu-id="f4ef9-268">Hello kör kattintással és húzással vigye túl hello nyíl**Start-AzureRmVM**.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-268">Click hello circle and drag hello arrow too**Start-AzureRmVM**.</span></span>
4. <span data-ttu-id="f4ef9-269">Jelölje ki a **Start-AzureRmVM** elemet.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-269">Select **Start-AzureRmVM**.</span></span>  <span data-ttu-id="f4ef9-270">Kattintson a **paraméterek** , majd **paraméter** tooview hello beállítása **Start-AzureRmVM**.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-270">Click **Parameters** and then **Parameter Set** tooview hello sets for **Start-AzureRmVM**.</span></span>  <span data-ttu-id="f4ef9-271">Jelölje be hello **ResourceGroupNameParameterSetName** paraméterhalmaz.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-271">Select hello **ResourceGroupNameParameterSetName** parameter set.</span></span> <span data-ttu-id="f4ef9-272">Figyelje meg, hogy a **ResourceGroupName** és a **Name** mellett felkiáltójel van.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-272">Note that **ResourceGroupName** and **Name** have exclamation points next them.</span></span>  <span data-ttu-id="f4ef9-273">Ez azt jelzi, hogy ezek kötelező paraméterek.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-273">This indicates that they are required parameters.</span></span>  <span data-ttu-id="f4ef9-274">Azt is észreveheti, hogy mindkét helyen szöveges értéket kell megadni.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-274">Also note both expect string values.</span></span>
5. <span data-ttu-id="f4ef9-275">Válassza ki a **Name** paramétert.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-275">Select **Name**.</span></span>  <span data-ttu-id="f4ef9-276">Válassza ki **PowerShell-kifejezést** a hello **adatforrás** és hello virtuális gép, amely először a runbook idézőjeleket tartalmazó körülvett hello nevet írja be.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-276">Select **PowerShell expression** for hello **Data source** and type in hello name of hello virtual machine surrounded with double quotes that we start with this runbook.</span></span>  <span data-ttu-id="f4ef9-277">Kattintson az **OK** gombra.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-277">Click **OK**.</span></span><br><span data-ttu-id="f4ef9-278">![Start-AzureRmVM nevének paraméteres értéke](media/automation-first-runbook-graphical/runbook-startvm-nameparameter.png)</span><span class="sxs-lookup"><span data-stu-id="f4ef9-278">![Start-AzureRmVM Name Parameter Value](media/automation-first-runbook-graphical/runbook-startvm-nameparameter.png)</span></span>
6. <span data-ttu-id="f4ef9-279">Válassza a **ResourceGroupName** elemet.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-279">Select **ResourceGroupName**.</span></span> <span data-ttu-id="f4ef9-280">Használjon **PowerShell-kifejezést** a hello **adatforrás** és a dupla idézőjelek között körül hello erőforráscsoport hello nevét írja be.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-280">Use **PowerShell expression** for hello **Data source** and type in hello name of hello resource group surrounded with double quotes.</span></span>  <span data-ttu-id="f4ef9-281">Kattintson az **OK** gombra.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-281">Click **OK**.</span></span><br> <span data-ttu-id="f4ef9-282">![Start-AzureRmVM paraméterek](media/automation-first-runbook-graphical/startazurermvm-params.png)</span><span class="sxs-lookup"><span data-stu-id="f4ef9-282">![Start-AzureRmVM Parameters](media/automation-first-runbook-graphical/startazurermvm-params.png)</span></span>
7. <span data-ttu-id="f4ef9-283">Kattintson a vizsgálat panelre, így hello runbook tesztelése.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-283">Click Test pane so that we can test hello runbook.</span></span>
8. <span data-ttu-id="f4ef9-284">Kattintson a **Start** toostart hello tesztelése.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-284">Click **Start** toostart hello test.</span></span>  <span data-ttu-id="f4ef9-285">Miután befejeződött, ellenőrizze, hogy a virtuális gép hello lett elindítva.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-285">Once it completes, check that hello virtual machine was started.</span></span>

<span data-ttu-id="f4ef9-286">A runbook hello ezen a ponton a következő hasonlóan kell kinéznie:</span><span class="sxs-lookup"><span data-stu-id="f4ef9-286">Your runbook should look like hello following at this point:</span></span> <br>![Forgatókönyv-hitelesítés konfigurálása](media/automation-first-runbook-graphical/runbook-startvm.png)

## <a name="step-8---add-additional-input-parameters-toohello-runbook"></a><span data-ttu-id="f4ef9-288">8. lépés - a további bemeneti paraméterek toohello runbook hozzáadása</span><span class="sxs-lookup"><span data-stu-id="f4ef9-288">Step 8 - Add additional input parameters toohello runbook</span></span>
<span data-ttu-id="f4ef9-289">A runbook jelenleg kezdődik hello virtuális gép a Microsoft hello megadott hello erőforráscsoportban **Start-AzureRmVM** parancsmag.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-289">Our runbook currently starts hello virtual machine in hello resource group that we specified in hello **Start-AzureRmVM** cmdlet.</span></span>  <span data-ttu-id="f4ef9-290">A runbook több hasznos, ha igazolnia kell megadni mindkét hello runbook elindításakor lehet.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-290">Our runbook would be more useful if we could specify both when hello runbook is started.</span></span>  <span data-ttu-id="f4ef9-291">Jelenleg most felvenni bemeneti paraméterek toohello runbook tooprovide funkció.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-291">We now add input parameters toohello runbook tooprovide that functionality.</span></span>

1. <span data-ttu-id="f4ef9-292">Nyissa meg hello grafikus szerkesztő kattintva **szerkesztése** a hello **MyFirstRunbook** ablaktáblán.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-292">Open hello graphical editor by clicking **Edit** on hello **MyFirstRunbook** pane.</span></span>
2. <span data-ttu-id="f4ef9-293">Kattintson a **bemeneti és kimeneti** , majd **bemenet hozzáadása** tooopen hello Runbook bemeneti paraméter ablaktábla.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-293">Click **Input and output** and then **Add input** tooopen hello Runbook Input Parameter pane.</span></span><br> <span data-ttu-id="f4ef9-294">![Runbook-bemenet és -kimenet](media/automation-first-runbook-graphical/runbook-toolbar-InputandOutput-revised20165.png)</span><span class="sxs-lookup"><span data-stu-id="f4ef9-294">![Runbook Input and Output](media/automation-first-runbook-graphical/runbook-toolbar-InputandOutput-revised20165.png)</span></span>
3. <span data-ttu-id="f4ef9-295">Adja meg *VMName* a hello **neve**.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-295">Specify *VMName* for hello **Name**.</span></span>  <span data-ttu-id="f4ef9-296">Tartsa *karakterlánc* a hello **típus**, de módosítása **kötelező** túl*Igen*.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-296">Keep *string* for hello **Type**, but change **Mandatory** too*Yes*.</span></span>  <span data-ttu-id="f4ef9-297">Kattintson az **OK** gombra.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-297">Click **OK**.</span></span>
4. <span data-ttu-id="f4ef9-298">Hozzon létre egy második kötelező bemeneti paraméter *ResourceGroupName* majd **OK** tooclose hello **bemeneti és kimeneti** ablaktáblán.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-298">Create a second mandatory input parameter called *ResourceGroupName* and then click **OK** tooclose hello **Input and Output** pane.</span></span><br> <span data-ttu-id="f4ef9-299">![Runbook bemeneti paraméterei](media/automation-first-runbook-graphical/start-azurermvm-params-outputs.png)</span><span class="sxs-lookup"><span data-stu-id="f4ef9-299">![Runbook Input Parameters](media/automation-first-runbook-graphical/start-azurermvm-params-outputs.png)</span></span>
5. <span data-ttu-id="f4ef9-300">Jelölje be hello **Start-AzureRmVM** tevékenység, és kattintson **paraméterek**.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-300">Select hello **Start-AzureRmVM** activity and then click **Parameters**.</span></span>
6. <span data-ttu-id="f4ef9-301">Változás hello **adatforrás** a **neve** túl**Runbook bemeneti** , és válassza **VMName**.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-301">Change hello **Data source** for **Name** too**Runbook input** and then select **VMName**.</span></span><br>
7. <span data-ttu-id="f4ef9-302">Változás hello **adatforrás** a **ResourceGroupName** túl**Runbook bemeneti** , és válassza **ResourceGroupName**.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-302">Change hello **Data source** for **ResourceGroupName** too**Runbook input** and then select **ResourceGroupName**.</span></span><br> <span data-ttu-id="f4ef9-303">![Start-AzureVM paraméterei](media/automation-first-runbook-graphical/start-azurermvm-params-runbookinput.png)</span><span class="sxs-lookup"><span data-stu-id="f4ef9-303">![Start-AzureVM Parameters](media/automation-first-runbook-graphical/start-azurermvm-params-runbookinput.png)</span></span>
8. <span data-ttu-id="f4ef9-304">Hello runbook mentéséhez, és hello teszt ablaktábla megnyitása.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-304">Save hello runbook and open hello Test pane.</span></span>  <span data-ttu-id="f4ef9-305">Vegye figyelembe, hogy most biztosítható értékek hello hello tesztben használt két bemeneti változók.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-305">Note that you can now provide values for hello two input variables that you use in hello test.</span></span>
9. <span data-ttu-id="f4ef9-306">Bezárás hello teszt ablaktáblán.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-306">Close hello Test pane.</span></span>
10. <span data-ttu-id="f4ef9-307">Kattintson a **közzététel** toopublish hello új hello forgatókönyv verzióját.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-307">Click **Publish** toopublish hello new version of hello runbook.</span></span>
11. <span data-ttu-id="f4ef9-308">Állítsa le, amelyet az előző lépésben hello hello virtuális gépet.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-308">Stop hello virtual machine that you started in hello previous step.</span></span>
12. <span data-ttu-id="f4ef9-309">Kattintson a **Start** toostart hello runbook.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-309">Click **Start** toostart hello runbook.</span></span>  <span data-ttu-id="f4ef9-310">A típushoz hello **VMName** és **ResourceGroupName** hello virtuális géphez, hogy toostart fog.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-310">Type in hello **VMName** and **ResourceGroupName** for hello virtual machine that you're going toostart.</span></span><br> <span data-ttu-id="f4ef9-311">![Runbook indítása](media/automation-first-runbook-graphical/runbook-start-inputparams.png)</span><span class="sxs-lookup"><span data-stu-id="f4ef9-311">![Start Runbook](media/automation-first-runbook-graphical/runbook-start-inputparams.png)</span></span>
13. <span data-ttu-id="f4ef9-312">Hello runbook befejezését követően ellenőrizze, hogy a virtuális gép hello elindítása.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-312">When hello runbook completes, check that hello virtual machine was started.</span></span>

## <a name="step-9---create-a-conditional-link"></a><span data-ttu-id="f4ef9-313">9. lépés – Feltételes hivatkozás létrehozása</span><span class="sxs-lookup"><span data-stu-id="f4ef9-313">Step 9 - Create a conditional link</span></span>
<span data-ttu-id="f4ef9-314">A Microsoft most módosítja az hello runbook így csak kísérel meg toostart hello virtuális gép még nem fut. Ha.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-314">We now modify hello runbook so that it only attempts toostart hello virtual machine if it is not already started.</span></span>  <span data-ttu-id="f4ef9-315">Adja hozzá ehhez a **Get-AzureRmVM** parancsmag toohello runbookot, amely lekérdezi a hello példány szintű hello virtuális gép állapotát.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-315">You do this by adding a **Get-AzureRmVM** cmdlet toohello runbook that gets hello instance level status of hello virtual machine.</span></span> <span data-ttu-id="f4ef9-316">Ezután hozzáadhat egy PowerShell-munkafolyamati kódmodul nevű **állapotának beolvasása** egy PowerShell szövegrészletet a code toodetermine hello virtuális gép állapot esetén fut vagy leállt.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-316">Then you add a PowerShell Workflow code module called **Get Status** with a snippet of PowerShell code toodetermine if hello virtual machine state is running or stopped.</span></span>  <span data-ttu-id="f4ef9-317">Egy feltételes hivatkozás hello **állapotának beolvasása** modul csak akkor fut, **Start-AzureRmVM** hello aktuális fut. leállítása.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-317">A conditional link from hello **Get Status** module only runs **Start-AzureRmVM** if hello current running state is stopped.</span></span>  <span data-ttu-id="f4ef9-318">Végül azt egy üzenet tooinform, ha hello virtuális gép sikeresen elindítva, vagy nem használatával lett hello PowerShell Write-Output parancsmag kimenetét.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-318">Finally, we output a message tooinform you if hello VM was successfully started or not using hello PowerShell Write-Output cmdlet.</span></span>

1. <span data-ttu-id="f4ef9-319">Nyissa meg **MyFirstRunbook** hello grafikus szerkesztőben.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-319">Open **MyFirstRunbook** in hello graphical editor.</span></span>
2. <span data-ttu-id="f4ef9-320">Hello kapcsolat eltávolítása között **előfizetés-azonosító megadása** és **Start-AzureRmVM** azt, és nyomja le az hello *törlése* kulcs.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-320">Remove hello link between **Specify Subscription Id** and **Start-AzureRmVM** by clicking on it and then pressing hello *Delete* key.</span></span>
3. <span data-ttu-id="f4ef9-321">Hello könyvtár vezérlő, írja be **Get-AzureRm** hello keresési szövegmezőben.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-321">In hello Library control, type **Get-AzureRm** in hello search textbox.</span></span>
4. <span data-ttu-id="f4ef9-322">Adja hozzá **Get-AzureRmVM** toohello vászonra.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-322">Add **Get-AzureRmVM** toohello canvas.</span></span>
5. <span data-ttu-id="f4ef9-323">Válassza ki **Get-AzureRmVM** , majd **paraméter** tooview hello beállítása **Get-AzureRmVM**.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-323">Select **Get-AzureRmVM** and then **Parameter Set** tooview hello sets for **Get-AzureRmVM**.</span></span>  <span data-ttu-id="f4ef9-324">Jelölje be hello **GetVirtualMachineInResourceGroupNameParamSet** paraméterhalmaz.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-324">Select hello **GetVirtualMachineInResourceGroupNameParamSet** parameter set.</span></span>  <span data-ttu-id="f4ef9-325">Figyelje meg, hogy a **ResourceGroupName** és a **Name** mellett felkiáltójel van.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-325">Note that **ResourceGroupName** and **Name** have exclamation points next them.</span></span>  <span data-ttu-id="f4ef9-326">Ez azt jelzi, hogy ezek kötelező paraméterek.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-326">This indicates that they are required parameters.</span></span>  <span data-ttu-id="f4ef9-327">Azt is észreveheti, hogy mindkét helyen szöveges értéket kell megadni.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-327">Also note both expect string values.</span></span>
6. <span data-ttu-id="f4ef9-328">A **Name** paraméterhez tartozó **Adatforrás** elemét módosítsa a **Forgatókönyv bemenet** beállításra, majd válassza a **VMName** lehetőséget.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-328">Under **Data source** for **Name**, select **Runbook input** and then select **VMName**.</span></span>  <span data-ttu-id="f4ef9-329">Kattintson az **OK** gombra.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-329">Click **OK**.</span></span>
7. <span data-ttu-id="f4ef9-330">A **ResourceGroupName** paraméterhez tartozó **Adatforrás** elemét módosítsa a **Forgatókönyv bemenet** beállításra, majd válassza a **ResourceGroupName** lehetőséget.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-330">Under **Data source** for **ResourceGroupName**, select **Runbook input** and then select **ResourceGroupName**.</span></span>  <span data-ttu-id="f4ef9-331">Kattintson az **OK** gombra.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-331">Click **OK**.</span></span>
8. <span data-ttu-id="f4ef9-332">A **Status** paraméterhez tartozó **Adatforrás** elemét módosítsa a **Konstans érték** beállításra, majd kattintson az **Igaz** gombra.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-332">Under **Data source** for **Status**, select **Constant value** and then click  **True**.</span></span>  <span data-ttu-id="f4ef9-333">Kattintson az **OK** gombra.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-333">Click **OK**.</span></span>  
9. <span data-ttu-id="f4ef9-334">Hozzon létre kapcsolatot **előfizetés-azonosító megadása** túl**Get-AzureRmVM**.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-334">Create a link from **Specify Subscription Id** too**Get-AzureRmVM**.</span></span>
10. <span data-ttu-id="f4ef9-335">A hello könyvtár vezérlő, bontsa ki a **Runbook-vezérlés** , és adja hozzá **kód** toohello vászonra.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-335">In hello library control, expand **Runbook Control** and add **Code** toohello canvas.</span></span>  
11. <span data-ttu-id="f4ef9-336">Hozzon létre kapcsolatot **Get-AzureRmVM** túl**kód**.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-336">Create a link from **Get-AzureRmVM** too**Code**.</span></span>  
12. <span data-ttu-id="f4ef9-337">Kattintson a **kód** és hello konfigurációs ablaktábláján címke módosítása túl**állapotának beolvasása**.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-337">Click **Code** and in hello Configuration pane, change label too**Get Status**.</span></span>
13. <span data-ttu-id="f4ef9-338">Válassza ki **kód** paraméter, és hello **kód szerkesztése** panel jelenik meg.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-338">Select **Code** parameter, and hello **Code Editor** blade appears.</span></span>  
14. <span data-ttu-id="f4ef9-339">Hello kód szerkesztése illessze be a következő kódrészletét hello:</span><span class="sxs-lookup"><span data-stu-id="f4ef9-339">In hello code editor, paste hello following snippet of code:</span></span>
    
     ```
     $StatusesJson = $ActivityOutput['Get-AzureRmVM'].StatusesText
     $Statuses = ConvertFrom-Json $StatusesJson
     $StatusOut =""
     foreach ($Status in $Statuses){
     if($Status.Code -eq "Powerstate/running"){$StatusOut = "running"}
     elseif ($Status.Code -eq "Powerstate/deallocated") {$StatusOut = "stopped"}
     }
     $StatusOut
     ```
15. <span data-ttu-id="f4ef9-340">Hozzon létre kapcsolatot **állapotának beolvasása** túl**Start-AzureRmVM**.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-340">Create a link from **Get Status** too**Start-AzureRmVM**.</span></span><br> <span data-ttu-id="f4ef9-341">![Runbook kódmodullal](media/automation-first-runbook-graphical/runbook-startvm-get-status.png)</span><span class="sxs-lookup"><span data-stu-id="f4ef9-341">![Runbook with Code Module](media/automation-first-runbook-graphical/runbook-startvm-get-status.png)</span></span>  
16. <span data-ttu-id="f4ef9-342">Jelöljön ki hello hivatkozás és hello konfigurációs ablaktáblán módosítsa **feltétel alkalmazására** túl**Igen**.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-342">Select hello link and in hello Configuration pane, change **Apply condition** too**Yes**.</span></span>   <span data-ttu-id="f4ef9-343">Megjegyzés: hello hivatkozás bekapcsolása tooa szaggatott vonal jelzi, hogy hello céltevékenységben csak akkor fut, ha hello feltétel tootrue oldja fel.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-343">Note hello link turns tooa dashed line indicating that hello target activity only runs if hello condition resolves tootrue.</span></span>  
17. <span data-ttu-id="f4ef9-344">A hello **kifejezésnek a feltétel**, típus *$ActivityOutput ["állapotának beolvasása"] - eq "Leállítva"*.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-344">For hello **Condition expression**, type *$ActivityOutput['Get Status'] -eq "Stopped"*.</span></span>  <span data-ttu-id="f4ef9-345">**Start-AzureRmVM** most csak fut. Ha hello virtuális gép leáll.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-345">**Start-AzureRmVM** now only runs if hello virtual machine is stopped.</span></span>
18. <span data-ttu-id="f4ef9-346">Bontsa ki könyvtár vezérlő hello, **parancsmagok** , majd **Microsoft.PowerShell.Utility**.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-346">In hello Library control, expand **Cmdlets** and then **Microsoft.PowerShell.Utility**.</span></span>
19. <span data-ttu-id="f4ef9-347">Adja hozzá **Write-Output** toohello vászonra kétszer.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-347">Add **Write-Output** toohello canvas twice.</span></span><br> <span data-ttu-id="f4ef9-348">![Runbook Write-Output parancsmaggal](media/automation-first-runbook-graphical/runbook-startazurermvm-complete.png)</span><span class="sxs-lookup"><span data-stu-id="f4ef9-348">![Runbook with Write-Output](media/automation-first-runbook-graphical/runbook-startazurermvm-complete.png)</span></span>
20. <span data-ttu-id="f4ef9-349">A hello első **Write-Output** szabályozása, kattintson a **paraméterek** , és módosítsa a hello **címke** érték túl*VM indítása értesítés*.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-349">On hello first **Write-Output** control, click **Parameters** and change hello **Label** value too*Notify VM Started*.</span></span>
21. <span data-ttu-id="f4ef9-350">A **InputObject**, módosítsa **adatforrás** túl**PowerShell-kifejezést** és hello kifejezés típusának *"$VMName sikeresen elindult."* .</span><span class="sxs-lookup"><span data-stu-id="f4ef9-350">For **InputObject**, change **Data source** too**PowerShell expression** and type in hello expression *"$VMName successfully started."*.</span></span>
22. <span data-ttu-id="f4ef9-351">A hello második **Write-Output** szabályozása, kattintson a **paraméterek** , és módosítsa a hello **címke** érték túl*értesítés VM indítása nem sikerült*</span><span class="sxs-lookup"><span data-stu-id="f4ef9-351">On hello second **Write-Output** control, click **Parameters** and change hello **Label** value too*Notify VM Start Failed*</span></span>
23. <span data-ttu-id="f4ef9-352">A **InputObject**, módosítsa **adatforrás** túl**PowerShell-kifejezést** és hello kifejezés típusának *"$VMName nem tudott elindulni."* .</span><span class="sxs-lookup"><span data-stu-id="f4ef9-352">For **InputObject**, change **Data source** too**PowerShell expression** and type in hello expression *"$VMName could not start."*.</span></span>
24. <span data-ttu-id="f4ef9-353">Hozzon létre kapcsolatot **Start-AzureRmVM** túl**VM indítása értesítés** és **értesítés VM indítása nem sikerült**.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-353">Create a link from **Start-AzureRmVM** too**Notify VM Started** and **Notify VM Start Failed**.</span></span>
25. <span data-ttu-id="f4ef9-354">Jelölje ki a hello kapcsolatot túl**VM indítása értesítés** , és módosítsa **feltétel alkalmazására** túl**igaz**.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-354">Select hello link too**Notify VM Started** and change **Apply condition** too**True**.</span></span>
26. <span data-ttu-id="f4ef9-355">A hello **kifejezésnek a feltétel**, típus *$ActivityOutput ["Start-AzureRmVM"]. IsSuccessStatusCode - eq $true*.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-355">For hello **Condition expression**, type *$ActivityOutput['Start-AzureRmVM'].IsSuccessStatusCode -eq $true*.</span></span>  <span data-ttu-id="f4ef9-356">A Write-Output ellenőrzéséhez most csak fut, ha hello virtuális gép sikeresen elindult.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-356">This Write-Output control now only runs if hello virtual machine is successfully started.</span></span>
27. <span data-ttu-id="f4ef9-357">Jelölje ki a hello kapcsolatot túl**értesítés VM indítása nem sikerült** , és módosítsa **feltétel alkalmazására** túl**igaz**.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-357">Select hello link too**Notify VM Start Failed** and change **Apply condition** too**True**.</span></span>
28. <span data-ttu-id="f4ef9-358">A hello **kifejezésnek a feltétel**, típus *$ActivityOutput ["Start-AzureRmVM"]. IsSuccessStatusCode - ne $true*.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-358">For hello **Condition expression**, type *$ActivityOutput['Start-AzureRmVM'].IsSuccessStatusCode -ne $true*.</span></span>  <span data-ttu-id="f4ef9-359">A Write-Output ellenőrzés most csak fut. Ha hello virtuális gép nem sikeresen elindult.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-359">This Write-Output control now only runs if hello virtual machine is not successfully started.</span></span>
29. <span data-ttu-id="f4ef9-360">Hello runbook mentéséhez, és hello teszt ablaktábla megnyitása.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-360">Save hello runbook and open hello Test pane.</span></span>
30. <span data-ttu-id="f4ef9-361">Indítsa el a hello runbook hello virtuális gép leállt, és addig kell elindítani.</span><span class="sxs-lookup"><span data-stu-id="f4ef9-361">Start hello runbook with hello virtual machine stopped, and it should start.</span></span>

## <a name="next-steps"></a><span data-ttu-id="f4ef9-362">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="f4ef9-362">Next steps</span></span>
* <span data-ttu-id="f4ef9-363">toolearn grafikus szerzői kapcsolatos további információkért lásd: [grafikus készítése az Azure Automationben](automation-graphical-authoring-intro.md)</span><span class="sxs-lookup"><span data-stu-id="f4ef9-363">toolearn more about Graphical Authoring, see [Graphical authoring in Azure Automation](automation-graphical-authoring-intro.md)</span></span>
* <span data-ttu-id="f4ef9-364">a PowerShell-forgatókönyvek, használatába tooget lásd [saját első PowerShell-forgatókönyv](automation-first-runbook-textual-powershell.md)</span><span class="sxs-lookup"><span data-stu-id="f4ef9-364">tooget started with PowerShell runbooks, see [My first PowerShell runbook](automation-first-runbook-textual-powershell.md)</span></span>
* <span data-ttu-id="f4ef9-365">a PowerShell munkafolyamat-forgatókönyvekről, használatába tooget lásd: [az első PowerShell-munkafolyamati forgatókönyv](automation-first-runbook-textual.md)</span><span class="sxs-lookup"><span data-stu-id="f4ef9-365">tooget started with PowerShell workflow runbooks, see [My first PowerShell workflow runbook](automation-first-runbook-textual.md)</span></span>

