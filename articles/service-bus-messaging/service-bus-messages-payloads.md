---
title: "Az Azure Service Bus üzenetek, vonatkozó Payload van jelen, és szerializálási |} Microsoft Docs"
description: "A Service Bus message hasznos adat található áttekintése"
services: service-bus-messaging
documentationcenter: 
author: clemensv
manager: timlt
editor: 
ms.service: service-bus-messaging
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 09/28/2017
ms.author: sethm
ms.openlocfilehash: 7c18cc4a0e6a8dbf3a47c146707666c5538ff7c3
ms.sourcegitcommit: 6699c77dcbd5f8a1a2f21fba3d0a0005ac9ed6b7
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/11/2017
---
# <a name="messages-payloads-and-serialization"></a>Üzenetek, vonatkozó Payload van jelen, és szerializálási

A Microsoft Azure Service Bus üzenetek kezeli. Üzenetek lebonyolítására egy forgalma, valamint a metaadatok, kulcs-érték pár tulajdonságai, a tartalom leíró, és egyúttal jogosultságot ad a kezelési utasításait alkalmazások és a Service Bus formájában. Alkalmanként, hogy kizárólag metaadatai nem elegendő az információt, hogy a küldő próbál meg kommunikálni a fogadók, és a tartalom üres marad.

A Service Bus hivatalos .NET, Java és ügyfelek száma hálózatiobjektum-modellt a Service Bus üzenet struktúra, amely hozzá van rendelve, és az átvitel közbeni protokollok Service Bus támogatja az absztrakt tükrözik.
 
A Service Bus message egy bináris Hasznosforgalom-szakasszal, amely soha nem kezeli a Service Bus bármely formában a szolgáltatás-oldalon, és két tulajdonságkészletekkel áll. A *tulajdonságok replikaszervező* a rendszer előre meghatározott. Ezek előre definiált tulajdonságok vagy szabályozza üzenetszint funkciókat az átvitelszervező belül, vagy közös és szabványos metaadatelemek rendeli. A *felhasználói tulajdonságok* van definiálva, és állítsa be az alkalmazás kulcs-érték párt gyűjteménye.
 
Az előre definiált közvetítő tulajdonságait a következő táblázatban láthatók. A nevek használt összes hivatalos ügyfél API-k és a is a [BrokerProperties](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Properties_) a HTTP protokoll leképezés JSON-objektumból.
 
Az AMQP protokoll szintjén használt egyenértékű nevek fel vannak tüntetve zárójelben. 

| Tulajdonság neve                         | Leírás                                                                                                                                                                                                                                                                                                                                                                                                                               |
|---------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|  [A ContentType](/dotnet/api/microsoft.azure.servicebus.message.contenttype) (tartalomtípus)           | Opcionálisan ismerteti a tartalom az üzenet formátuma RFC2045, szakasz 5, például a következő sablonleíróval `application/json`.                                                                                                                                                                                                                                                                                             |
|  [CorrelationId](/dotnet/api/microsoft.azure.servicebus.message.correlationid#Microsoft_Azure_ServiceBus_Message_CorrelationId) (korrelációs azonosító)       | Lehetővé teszi az adjon meg egy környezetben, az üzenet korrelációs, például tükröző alkalmazásában a **MessageId** a válaszoló üzenet.                                                                                                                                                                                                                                                                  |
| [DeadLetterSource](/dotnet/api/microsoft.azure.servicebus.message.deadlettersource)                      | Csak az üzeneteket, amelyek a kézbesítetlen lettered és automatikus-továbbította a kézbesítetlen üzenetek várólistából egy másik entitás lettek megadni. Azt jelzi, hogy az entitás, amelyben az üzenet volt-e kézbesítetlen lettered. Ez a tulajdonság csak olvasható.                                                                                                                                                                                                                                  |
| [DeliveryCount](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.deliverycount)                         | Kézbesítések ehhez az üzenethez kísérletek száma. A számláló értéke akkor nő, amikor egy üzenet zárolási lejár, vagy az üzenet explicit módon a fogadó által félbe hagyott. Ez a tulajdonság csak olvasható.                                                                                                                                                                                                                                                  |
| [EnqueuedSequenceNumber](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.enqueuedsequencenumber)                | Meg lett automatikus által továbbított üzeneteket ezt a tulajdonságot a sorszám, amely az üzenetek küldése az eredeti helyen kellett első kiosztás tükrözi. Ez a tulajdonság csak olvasható.                                                                                                                                                                                                                                                                |
| [EnqueuedTimeUtc](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.enqueuedtimeutc)                       | Az UTC azonnali, amelyen az üzenet elfogadott és megtörtént az entitás tárolja. Ez az érték használható mérvadó és semleges érkezési idő mutatóként, ha a fogadó nem szeretné, hogy bízzon meg a küldő óra. Ez a tulajdonság csak olvasható.                                                                                                                                                                                                   |
|  [ExpiresAtUtc](/dotnet/api/microsoft.azure.servicebus.message.expiresatutc) (abszolút-lejárati-time) | Az UTC azonnali, amelyen az üzenet megjelölve törlésre, és már nem éri el az entitáshoz tartozó lejárása miatt. A lejárati vezérli a **TimeToLive** tulajdonság, és ez a tulajdonság EnqueuedTimeUtc + TimeToLive erősségével. Ez a tulajdonság csak olvasható.                                                                                                                                                                           |
| [ForcePersistence](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.forcepersistence)                      | Várólisták vagy olyan témaköröket a [EnableExpress](/dotnet/api/microsoft.servicebus.messaging.queuedescription.enableexpress?view=azureservicebus-4.1.1#Microsoft_ServiceBus_Messaging_QueueDescription_EnableExpress) jelzőjének beállítása, ez a tulajdonság beállítható annak jelzésére, hogy az üzenet kell állandóként elfogadott, mielőtt lemezre. Ez a a szokásos működés entitásokhoz nem express.                                                                                                                                                                                                         |
| [Címke](/dotnet/api/microsoft.azure.servicebus.message.label) (tulajdonos)                       | Ez a tulajdonság lehetővé teszi, hogy az alkalmazás jelzi a fogadó szabványosított, egy e-mailek tárgysor hasonló módon az üzenet célját.                                                                                                                                                                                                                                                                                  |
| [LockedUntilUtc](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.lockeduntilutc)                        | A zárolást a sorból beolvasott üzenetekből (betekintés-lock fogadja mód, előre nem rendezett) Ez a tulajdonság tükrözi, ameddig az üzenet tartják azonnali UTC zárolva van a várólista/előfizetést. A zárolási idő eltelte után a [DeliveryCount](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.deliverycount) értéke akkor növekszik, és az üzenet ismét éri el. Ez a tulajdonság csak olvasható.                                                                                                                         |
| [A LockToken](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.locktoken)                             | A zárolás lexikális elem, amely a broker tartja a zárolási mutató hivatkozás *betekintés-lock* fogadás módban. A jogkivonat segítségével rögzítheti a véglegesen a zárolást a [halasztás](message-deferral.md) API és a vele, igénybe vehet a rendszeres szállítási állapota folyamata kívül az üzenetet. Ez a tulajdonság csak olvasható.                                                                                                                                                               |
| [MessageId](/dotnet/api/microsoft.azure.servicebus.message.messageid) (állapotüzenet-azonosító)                | Az üzenetazonosító nem alkalmazás által meghatározott érték, amely egyedileg azonosítja az üzenetet, és a tartalom. Az azonosító egy szabad formátumú karakterlánc, és egy GUID Azonosítót vagy az alkalmazás-környezet származó azonosító utalhat. Ha engedélyezve van, a [észlelési ismétlődő](duplicate-detection.md) szolgáltatás azonosítja, és eltávolítja a második és a további üzenetek ugyanazzal a jelentések **MessageId**.                                                                |
| [PartitionKey](/dotnet/api/microsoft.azure.servicebus.message.partitionkey)                          | A [particionált entitások](service-bus-partitioning.md), hozzárendelése kapcsolódó üzenetek belső partícióra, ha az érték lehetővé teszi, így hibátlanul küldésének sorrendje. A partíció kivonatoló függvényt keresztül ez az érték akkor választ, és közvetlenül nem választható. Munkamenet-kompatibilis entitások a **SessionId** tulajdonság felülbírálja ezt az értéket.                                                                                                       |
| [ReplyTo](/dotnet/api/microsoft.azure.servicebus.message.replyto) (válasz-a)                    | Ez nem kötelező és az alkalmazás által meghatározott érték módja a szabványos express a fogadó az üzenet válasz elérési útját. Ha egy küldő vár a választ, egy a értéket ad meg a várólista vagy a témakör azt várja, hogy a válasz küldését a abszolút vagy relatív elérési útja.                                                                                                                                           |
| [ReplyToSessionId](/dotnet/api/microsoft.azure.servicebus.message.replytosessionid) (válasz-a-csoport-id)  | Ez az érték szabályozva az információhasználat a **ReplyTo** információkat, és megadja, hogy **munkamenet-azonosító** kell beállítani, a válasz a következő a válasz entitásra elküldésekor.                                                                                                                                                                                                                                                                            |
| [ScheduledEnqueueTimeUtc](/dotnet/api/microsoft.azure.servicebus.message.scheduledenqueuetimeutc)               | Csak elérhetővé válnak a lekérési a várakozás után üzenetek Ez a tulajdonság megadja az UTC azonnali, amelyen az üzenet lesz logikailag várólistán lévő, előkészítése, és ezért elérhetőek a lekéréséhez.                                                                                                                                                                                                                 |
| [SequenceNumber](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.sequencenumber)                        | A sorszám az egy egyedi 64 bites egész szám, rendelt üzenet elfogadott és tárolja a és a funkciók által a valódi azonosítót. A particionált entitások a legfelső 16 bit tükrözik, a partíció azonosítója. Sorozatszámok monoton növelése és gapless. Ezek váltása 0 Ha elfogy a 48-64 bites tartományon. Ez a tulajdonság csak olvasható.                                                                |
| [Munkamenet-azonosító](/dotnet/api/microsoft.azure.servicebus.message.sessionid) (csoportazonosító)                  | Munkamenet-kompatibilis entitások Ez az alkalmazás által meghatározott érték határozza meg a munkamenet-kapcsolatot az üzenet. Az azonos munkamenet-azonosítóval rendelkező üzenetek összefoglaló zárolás vonatkoznak, és engedélyezze a pontos sorrendben dolgoz fel, és többszintű továbbítás megszüntetése. A munkamenet nem támogató entitások figyelmen kívül ezt az értéket.                                                                                                                                     |
| [Méret](/dotnet/api/microsoft.azure.servicebus.message.size)                                  | Jelzett tárolt a broker naplóban, bájtok számát, az üzenet, megszámlálja felé tárolási kvótát. Ez a tulajdonság csak olvasható.                                                                                                                                                                                                                                                                                                       |
| [Állapot](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.state)                                 | Az üzenet a naplóban állapotát jelzi. Ez a tulajdonság csak akkor megfelelő során az üzenethez, böngészés ("betekintés"), és állapítsa meg, hogy egy üzenet "aktív" és éri el, hogy késleltetve, vagy végrehajtásra ütemezett eléri a várólista elejére. Ez a tulajdonság csak olvasható.                                                                                                                                           |
| [A TimeToLive tulajdonság](/dotnet/api/microsoft.azure.servicebus.message.timetolive)                            | Ez az érték a relatív időtartama, amely után az üzenet lejár, kezdve az azonnali üzenet rendelkezik lett elfogadva és tárolva a broker által rögzített **EnqueueTimeUtc**. Ha nem állítja be, a feltételezett értéke a **DefaultTimeToLive** számára a megfelelő üzenetsor vagy témakör. Egy üzenet szintű **TimeToLive** értéke nem lehet hosszabb, mint az entitás **DefaultTimeToLive** ellenkező esetben csendes módosul a beállítás, és azt. |
| [A](/dotnet/api/microsoft.azure.servicebus.message.to) (záró)                               | Ez a tulajdonság útválasztási forgatókönyvek a jövőbeli használatra fenntartva, és jelenleg figyelmen kívül hagyják az átvitelszervező magát. Alkalmazások használhatják ezt az értéket szabály adatvezérelt automatikus továbbítás titkosításblokkoló esetekben a logikai rendeltetési az üzenet jelzi.                                                                                                                                                                                   |
| [ViaPartitionKey](/dotnet/api/microsoft.azure.servicebus.message.viapartitionkey)                       | A tranzakció hatókörében átviteli keresztül egy üzenetet kap, ha ezt az értéket az átviteli sor partíció választja ki.                                                                                                                                                                                                                                                                                                                 |

Az absztrakt üzenet modell lehetővé teszi, hogy egy üzenetet, hogy a program a várólista (ténylegesen mindig HTTPS) http Protokollon keresztül, és AMQP keresztül lehet beolvasni. Mindkét esetben az üzenet megjelenésének normál keretén belül a megfelelő protokollt. A közvetítő tulajdonságait van lefordítva, igény szerint, és a felhasználói tulajdonságok a legmegfelelőbb a megfelelő protokollt üzenet modell helyre van leképezve. HTTP felhasználói tulajdonságok le közvetlenül és a HTTP-fejlécek; az AMQP leképezik a a **alkalmazástulajdonságok** leképezés.

## <a name="message-routing-and-correlation"></a>Az Útválasztás és a korrelációs üzenet

A korábban, kifejezetten ismertetett közvetítő tulajdonságait egy részhalmazát [való](/dotnet/api/microsoft.azure.servicebus.message.to), [ReplyTo](/dotnet/api/microsoft.azure.servicebus.message.replyto), [ReplyToSessionId](/dotnet/api/microsoft.azure.servicebus.message.replytosessionid), [MessageId](/dotnet/api/microsoft.azure.servicebus.message.messageid), [ CorrelationId](/dotnet/api/microsoft.azure.servicebus.message.correlationid), és [SessionId](/dotnet/api/microsoft.azure.servicebus.message.sessionid), alkalmazások üzenetek segítségével adott célhelyre. Ennek szemléltetésére fontolja meg néhány minták:

- **Egyszerű kérelem/válasz**: közzétevő üzenetet küld a várólistán, és egy a fogyasztó válaszára a üzenet vár. Kapott a választ, a közzétevő tulajdonában van egy üzenetsort, amelybe kézbesítendő választ vár. A kimenő üzenet van megadva a címet, hogy a várólista **ReplyTo** tulajdonság. Amikor az ügyfél válaszol, másolja a **MessageId** azokat a kezelt üzenet a **CorrelationId** tulajdonság a válaszüzenet és kézbesíti az üzenetet a cél a általjelzett**ReplyTo** tulajdonság. Egy üzenet partíciónként akár több válaszokat, attól függően, hogy az alkalmazás környezetben.
- **Csoportos küldési kérelem/válasz**: a korábbi minta változata, mint a közzétevők a üzenetet küld egy témakörbe, és több előfizető lesznek jogosultak az üzenet felhasználását. Mindegyik előfizető előfordulhat, hogy válaszoljon a korábban ismertetett módon. Ez a minta olyan felderítési vagy fel esetekben használható, és a válaszadó általában úgy azonosítja magát egy felhasználói tulajdonságot, vagy a tartalom belül. Ha **ReplyTo** pontok egy témakörbe, például egy meghatározott felderítési válaszok közönség is terjeszthetők.
- **Multiplexáló**: A munkamenet-szolgáltatás lehetővé teszi, hogy úgy, hogy minden munkamenet (vagy csoport) kapcsolódó üzenetek, azonosítani a hozzá kapcsolódó üzenetek egy adott sorba vagy előfizetés adatfolyam multiplexáló **SessionId**értékek, a megadott fogadó átirányítja ideje a fogadó a munkamenet alatt zárolása. További információkat a részletek a munkamenetek [Itt](message-sessions.md).
- **Kérelem/válasz Multiplexed**: A munkamenet-szolgáltatás lehetővé teszi, hogy a többszintes válaszokat, így több közzétevők válasz várólista megosztásához. Úgy, hogy **ReplyToSessionId**, a közzétevő utasíthatja a consumer(s) másolja be az értéket a **SessionId** a válaszüzenet tulajdonság. A közzétételi üzenetsor vagy témakör nem érdemes figyelembe vennie munkamenet e. Az üzenetet küld, mivel a közzétevő majd kifejezetten várja meg, amíg a munkamenet a megadott **munkamenet-azonosító** materializálni várakozási feltételesen elfogadásával a munkamenet fogadó számára. 

A Service Bus-névtér belül útválasztási is kell megvalósítani automatikus továbbítás láncolás és témakör előfizetési szabályokat. Útválasztás névterek keresztül is kell megvalósítani [használata Azure LogicApps](https://azure.microsoft.com/services/logic-apps/). A fenti listán, ahogyan a **való** tulajdonság későbbi használatra fenntartva, és végül a broker kifejezetten engedélyezett szolgáltatással értelmezhető. Útválasztást, kívánt alkalmazások kell tegye, így a felhasználó tulajdonságai alapján, és a nem lean típusú a **való** tulajdonságnál, azonban ez most nem ugyanis kompatibilitási problémákat.

## <a name="payload-serialization"></a>Hasznos szerializálási

Ha az átvitel során, vagy tárolja a Service Bus belül, a tartalom mindig egy nem átlátszó, bináris blokkban. A [ContentType](/dotnet/api/microsoft.azure.servicebus.message.contenttype) tulajdonság lehetővé teszi az alkalmazások megadásával írhatja le a tartalmat, a javasolt formátum a tulajdonságértékek éppen egy MIME tartalomtípus-leírás szerint IETF RFC2045; például `application/json;charset=utf-8`.

A Java vagy a .NET-szabvány változatok eltérően a .NET-keretrendszer verzióját a Service Bus API támogatja az **BrokeredMessage** példányok tetszőleges .NET objektum konstruktorának való átadásával. 

Az örökölt SBMP protokoll használata esetén az azokat az objektumokat majd az alapértelmezett a bináris szerializáló, vagy egy külsőleg biztosított szerializáló szerializálni. Az AMQP protokoll használata esetén az objektum szerializált egy AMQP objektumba. A fogadó kérheti le azokat az objektumokat, a [GetBody<T>()](/dotnet/api/microsoft.servicebus.messaging.brokeredmessage.getbody#Microsoft_ServiceBus_Messaging_BrokeredMessage_GetBody__1) metódust, hogy megadja a várt típus; az AMQP, az objektumokat szerializálni egy AMQP-grafikon **ArrayList** és **IDictionary < karakterlánc, objektum >** objektumokat, és bármelyik AMQP ügyfél tudja fejteni. 

Bár a rejtett szerializálási magic kényelmes, alkalmazások kell explicit átvegye a objektum szerializálása az objektumgráfok ikonná adatfolyamok előtt, beleértve a üzenetbe, és hajtsa végre a fogadó oldalon a névkeresési. Ez a együttműködésre eredmények alapján. Azt is megjegyezni, hogy míg AMQP egy hatékony bináris kódolás modell, az üzenetkezelési AMQP-ökoszisztéma kötődik, és HTTP-ügyfelek ilyen hasznos adat található dekódolási hiba fog rendelkezni. 

Általában javasoljuk JSON és Apache Avro hasznos formátumokat a strukturált adatok szerint.

A .NET-szabvány és Java API használata csak elfogadja a byte tömbök, ami azt jelenti, hogy az alkalmazás objektum szerializálása vezérlő kell kezelni. 

## <a name="next-steps"></a>Következő lépések

Tudhat meg többet a Service Bus üzenetkezelés, a következő témakörökben:

* [A Service Bus alapjai](service-bus-fundamentals-hybrid-solutions.md)
* [Service Bus-üzenetsorok, -témakörök és -előfizetések](service-bus-queues-topics-subscriptions.md)
* [Bevezetés a Service Bus által kezelt üzenetsorok használatába](service-bus-dotnet-get-started-with-queues.md)
* [A Service Bus-üzenettémakörök és -előfizetések használata](service-bus-dotnet-how-to-use-topics-subscriptions.md)