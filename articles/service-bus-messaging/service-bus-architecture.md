---
title: "Az Azure Service Bus üzenetfeldolgozási architektúrájának áttekintése | Microsoft Docs"
description: "A cikk ismerteti az Azure Service Bus üzenetfeldolgozási architektúráját."
services: service-bus-messaging
documentationcenter: na
author: sethmanheim
manager: timlt
editor: 
ms.assetid: baf94c2d-0e58-4d5d-a588-767f996ccf7f
ms.service: service-bus-messaging
ms.devlang: na
ms.topic: get-started-article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/23/2017
ms.author: sethm
ms.openlocfilehash: 83456d775c5ff2a2476ba46e9c78a8dc1bb482e8
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 08/29/2017
---
# <a name="service-bus-architecture"></a><span data-ttu-id="8af93-103">Service Bus-architektúra</span><span class="sxs-lookup"><span data-stu-id="8af93-103">Service Bus architecture</span></span>
<span data-ttu-id="8af93-104">Ez a cikk ismerteti az Azure Service Bus üzenetfeldolgozási architektúrát.</span><span class="sxs-lookup"><span data-stu-id="8af93-104">This article describes the message processing architecture of Azure Service Bus.</span></span>

## <a name="service-bus-scale-units"></a><span data-ttu-id="8af93-105">A Service Bus skálázási egységei</span><span class="sxs-lookup"><span data-stu-id="8af93-105">Service Bus scale units</span></span>
<span data-ttu-id="8af93-106">A Service Bus rendszerezése *skálázási egységek* szerint történik.</span><span class="sxs-lookup"><span data-stu-id="8af93-106">Service Bus is organized by *scale units*.</span></span> <span data-ttu-id="8af93-107">A skálázási egység egy telepítési egység, amely a szolgáltatás futtatásához szükséges összes összetevőt tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="8af93-107">A scale unit is a unit of deployment and contains all components required run the service.</span></span> <span data-ttu-id="8af93-108">Minden régió telepít egy vagy több Service Bus skálázási egységet.</span><span class="sxs-lookup"><span data-stu-id="8af93-108">Each region deploys one or more Service Bus scale units.</span></span>

<span data-ttu-id="8af93-109">A skálázási egységre egy Service Bus-névtér lesz leképezve.</span><span class="sxs-lookup"><span data-stu-id="8af93-109">A Service Bus namespace is mapped to a scale unit.</span></span> <span data-ttu-id="8af93-110">A skálázási egység kezeli a Service Bus-entitások minden típusát (üzenetsorok, témakörök, előfizetések).</span><span class="sxs-lookup"><span data-stu-id="8af93-110">The scale unit handles all types of Service Bus entities (queues, topics, subscriptions).</span></span> <span data-ttu-id="8af93-111">A Service Bus skálázási egység az alábbi összetevőkből áll:</span><span class="sxs-lookup"><span data-stu-id="8af93-111">A Service Bus scale unit consists of the following components:</span></span>

* <span data-ttu-id="8af93-112">**Átjárócsomópontok készlete.**</span><span class="sxs-lookup"><span data-stu-id="8af93-112">**A set of gateway nodes.**</span></span> <span data-ttu-id="8af93-113">Az átjárócsomópontok hitelesítik a bejövő kérelmeket.</span><span class="sxs-lookup"><span data-stu-id="8af93-113">Gateway nodes authenticate incoming requests.</span></span> <span data-ttu-id="8af93-114">Minden átjáró nyilvános IP-címmel rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="8af93-114">Each gateway node has a public IP address.</span></span>
* <span data-ttu-id="8af93-115">**Üzenetközvetítő csomópontok készlete.**</span><span class="sxs-lookup"><span data-stu-id="8af93-115">**A set of messaging broker nodes.**</span></span> <span data-ttu-id="8af93-116">Az üzenetközvetítő csomópontok az üzenetküldési entitásokkal kapcsolatos kérelmeket dolgozzák fel.</span><span class="sxs-lookup"><span data-stu-id="8af93-116">Messaging broker nodes process requests concerning messaging entities.</span></span>
* <span data-ttu-id="8af93-117">**Egy átjárótároló.**</span><span class="sxs-lookup"><span data-stu-id="8af93-117">**One gateway store.**</span></span> <span data-ttu-id="8af93-118">Az átjárótároló a skálázási egységben definiált összes entitás adatait tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="8af93-118">The gateway store holds the data for every entity that is defined in this scale unit.</span></span> <span data-ttu-id="8af93-119">Az átjáró tároló az SQL Azure-adatbázisban jön létre.</span><span class="sxs-lookup"><span data-stu-id="8af93-119">The gateway store is implemented on top of a SQL Azure database.</span></span>
* <span data-ttu-id="8af93-120">**Több üzenetküldési tároló.**</span><span class="sxs-lookup"><span data-stu-id="8af93-120">**Multiple messaging stores.**</span></span> <span data-ttu-id="8af93-121">Az üzenetküldési tárolók a skálázási egységben definiált összes üzenetsor, témakör és előfizetés üzeneteit tartalmazzák.</span><span class="sxs-lookup"><span data-stu-id="8af93-121">Messaging stores hold the messages of all queues, topics and subscriptions that are defined in this scale unit.</span></span> <span data-ttu-id="8af93-122">Emellett az előfizetések összes adata is megtalálható bennük.</span><span class="sxs-lookup"><span data-stu-id="8af93-122">It also contains all subscription data.</span></span> <span data-ttu-id="8af93-123">Ha a [particionált üzenetküldési entitások](service-bus-partitioning.md) engedélyezve vannak, az üzenetsor vagy témakör egyetlen üzenetküldési tárolóra lesz leképezve.</span><span class="sxs-lookup"><span data-stu-id="8af93-123">Unless [partitioning messaging entities](service-bus-partitioning.md) is enabled, a queue or topic is mapped to one messaging store.</span></span> <span data-ttu-id="8af93-124">Az előfizetések ugyanabban az üzenetküldési tárolóban vannak, mint a szülő témakörük.</span><span class="sxs-lookup"><span data-stu-id="8af93-124">Subscriptions are stored in the same messaging store as their parent topic.</span></span> <span data-ttu-id="8af93-125">A Service Bus [Prémium szintű üzenetkezelés](service-bus-premium-messaging.md) kivételével az üzenetküldési tárolók az SQL Azure-adatbázisokban vannak.</span><span class="sxs-lookup"><span data-stu-id="8af93-125">Except for Service Bus [Premium Messaging](service-bus-premium-messaging.md), the messaging stores are implemented on top of SQL Azure databases.</span></span>

## <a name="containers"></a><span data-ttu-id="8af93-126">Tárolók</span><span class="sxs-lookup"><span data-stu-id="8af93-126">Containers</span></span>
<span data-ttu-id="8af93-127">Minden üzenetküldési entitás egy adott tárolóhoz van társítva.</span><span class="sxs-lookup"><span data-stu-id="8af93-127">Each messaging entity is assigned a specific container.</span></span> <span data-ttu-id="8af93-128">A tároló egy logikai szerkezet, amely pontosan egy üzenetküldési tárolót használ a tároló szempontjából releváns összes adat tárolására.</span><span class="sxs-lookup"><span data-stu-id="8af93-128">A container is a logical construct that uses exactly one messaging store to store all relevant data for this container.</span></span> <span data-ttu-id="8af93-129">Az egyes tárolók egy üzenetközvetítő csomóponthoz vannak társítva.</span><span class="sxs-lookup"><span data-stu-id="8af93-129">Each container is assigned to a messaging broker node.</span></span> <span data-ttu-id="8af93-130">Általában több tároló van, mint üzenetközvetítő csomópont.</span><span class="sxs-lookup"><span data-stu-id="8af93-130">Typically, there are more containers than messaging broker nodes.</span></span> <span data-ttu-id="8af93-131">Ezért az egyes üzenetközvetítő csomópontok több tárolót is betöltenek.</span><span class="sxs-lookup"><span data-stu-id="8af93-131">Therefore, each messaging broker node loads multiple containers.</span></span> <span data-ttu-id="8af93-132">A tárolók elosztása az üzenetközvetítő csomópontok között úgy történik, hogy a csomópontok terhelése egyenlő legyen.</span><span class="sxs-lookup"><span data-stu-id="8af93-132">The distribution of containers to a messaging broker node is organized such that all messaging broker nodes are equally loaded.</span></span> <span data-ttu-id="8af93-133">Ha a terhelési mintázatok megváltoznak (pl. az egyik tároló terhelése túlzottan megnő), vagy ha egy üzenetküldési csomópont átmenetileg nem érhető el, akkor a rendszer újra szétosztja a tárolókat az üzenetközvetítő csomópontok között.</span><span class="sxs-lookup"><span data-stu-id="8af93-133">If the load pattern changes (for example, one of the containers gets very busy), or if a messaging broker node becomes temporarily unavailable, the containers are redistributed among the messaging broker nodes.</span></span>

## <a name="processing-of-incoming-messaging-requests"></a><span data-ttu-id="8af93-134">Bejövő üzenetküldési kérelmek feldolgozása</span><span class="sxs-lookup"><span data-stu-id="8af93-134">Processing of incoming messaging requests</span></span>
<span data-ttu-id="8af93-135">Amikor egy ügyfél kérelmet küld a Service Busnak, az Azure Load Balancer továbbítja azt valamelyik átjáró csomópontnak.</span><span class="sxs-lookup"><span data-stu-id="8af93-135">When a client sends a request to Service Bus, the Azure load balancer routes it to any of the gateway nodes.</span></span> <span data-ttu-id="8af93-136">Az átjárócsomópont engedélyezi a kérelmet.</span><span class="sxs-lookup"><span data-stu-id="8af93-136">The gateway node authorizes the request.</span></span> <span data-ttu-id="8af93-137">Ha a kérelem egy üzenetküldési entitásra vonatkozik (üzenetsor, témakör, előfizetés), akkor az átjáró kikeresi az entitást az átjáró tárolójából, és meghatározza, hogy az entitás melyik üzenetküldési tárolóban található.</span><span class="sxs-lookup"><span data-stu-id="8af93-137">If the request concerns a messaging entity (queue, topic, subscription), the gateway node looks up the entity in the gateway store and determines in which messaging store the entity is located.</span></span> <span data-ttu-id="8af93-138">Ezután megkeresi, hogy melyik üzenetközvetítő csomópont szolgálja ki a tárolót, és elküldi a kérelmet ennek az üzenetközvetítő csomópontnak.</span><span class="sxs-lookup"><span data-stu-id="8af93-138">It then looks up which messaging broker node is currently servicing this container, and sends the request to that messaging broker node.</span></span> <span data-ttu-id="8af93-139">Az üzenetközvetítő csomópont feldolgozza a kérelmet, és frissíti az entitás állapotát a tárolóban.</span><span class="sxs-lookup"><span data-stu-id="8af93-139">The messaging broker node processes the request and updates the entity state in the container store.</span></span> <span data-ttu-id="8af93-140">Az üzenetközvetítő csomópont ezután visszaküldi a választ az átjárócsomópontnak, az pedig visszaküld egy megfelelő választ az eredeti kérelmet kibocsátó ügyfélnek.</span><span class="sxs-lookup"><span data-stu-id="8af93-140">The messaging broker node then sends the response back to the gateway node, which sends an appropriate response back to the client that issued the original request.</span></span>

![Bejövő üzenetküldési kérelmek feldolgozása](./media/service-bus-architecture/ic690644.png)

## <a name="next-steps"></a><span data-ttu-id="8af93-142">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="8af93-142">Next steps</span></span>
<span data-ttu-id="8af93-143">Most, hogy elolvasta a Service Bus architektúrájának áttekintését, további információkért kövesse az alábbi hivatkozásokat:</span><span class="sxs-lookup"><span data-stu-id="8af93-143">Now that you've read an overview of Service Bus architecture, visit the following links for more information:</span></span>

* <span data-ttu-id="8af93-144">[Service Bus messaging overview](service-bus-messaging-overview.md) (A Service Bus üzenetkezelésének áttekintése)</span><span class="sxs-lookup"><span data-stu-id="8af93-144">[Service Bus messaging overview](service-bus-messaging-overview.md)</span></span>
* [<span data-ttu-id="8af93-145">A Service Bus alapjai</span><span class="sxs-lookup"><span data-stu-id="8af93-145">Service Bus fundamentals</span></span>](service-bus-fundamentals-hybrid-solutions.md)
* [<span data-ttu-id="8af93-146">Üzenetsor-kezelési megoldás a Service Bus által kezelt üzenetsorok használatával</span><span class="sxs-lookup"><span data-stu-id="8af93-146">A queued messaging solution using Service Bus queues</span></span>](service-bus-dotnet-multi-tier-app-using-service-bus-queues.md)


