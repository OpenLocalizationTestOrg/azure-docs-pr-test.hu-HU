---
title: "a Service Bus aaaAzure párosítva névterek |} Microsoft Docs"
description: "Megvalósítás részletei párosított névtér és a költséghatékonyság"
services: service-bus-messaging
documentationcenter: na
author: sethmanheim
manager: timlt
editor: 
ms.assetid: 2440c8d3-ed2e-47e0-93cf-ab7fbb855d2e
ms.service: service-bus-messaging
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 05/25/2017
ms.author: sethm
ms.openlocfilehash: 4c44b2b95d2228e1ad8075b52634d88a1593d3b1
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="paired-namespace-implementation-details-and-cost-implications"></a><span data-ttu-id="24eb4-103">Névtér megvalósítás részletei megfeleltetni, ráadásul a költségek gyakorolt hatása</span><span class="sxs-lookup"><span data-stu-id="24eb4-103">Paired namespace implementation details and cost implications</span></span>
<span data-ttu-id="24eb4-104">Hello [PairNamespaceAsync] [ PairNamespaceAsync] módszer használatával egy [SendAvailabilityPairedNamespaceOptions] [ SendAvailabilityPairedNamespaceOptions] példány, látható feladatokat hajtja végre az Ön nevében.</span><span class="sxs-lookup"><span data-stu-id="24eb4-104">hello [PairNamespaceAsync][PairNamespaceAsync] method, using a [SendAvailabilityPairedNamespaceOptions][SendAvailabilityPairedNamespaceOptions] instance, performs visible tasks on your behalf.</span></span> <span data-ttu-id="24eb4-105">Nincs vannak költség szempontok hello funkció használata esetén, mert azok feladatokat, hogy ez akkor fordul elő, amikor hello viselkedés várható hasznos toounderstand is.</span><span class="sxs-lookup"><span data-stu-id="24eb4-105">Because there are cost considerations when using hello feature, it is useful toounderstand those tasks so that you expect hello behavior when it happens.</span></span> <span data-ttu-id="24eb4-106">hello API kapcsolatba lép a hello automatikus viselkedését az Ön nevében a következő:</span><span class="sxs-lookup"><span data-stu-id="24eb4-106">hello API engages hello following automatic behavior on your behalf:</span></span>

* <span data-ttu-id="24eb4-107">Várakozó várólisták létrehozása.</span><span class="sxs-lookup"><span data-stu-id="24eb4-107">Creation of backlog queues.</span></span>
* <span data-ttu-id="24eb4-108">Létrehozása egy [MessageSender] [ MessageSender] objektum, amely tooqueues vagy témakörök-kiszolgálóhoz.</span><span class="sxs-lookup"><span data-stu-id="24eb4-108">Creation of a [MessageSender][MessageSender] object that talks tooqueues or topics.</span></span>
* <span data-ttu-id="24eb4-109">Amikor egy üzenetküldési entitásra nem érhető el, elküldi ping üzenetekre toohello entitás egy kísérlet toodetect amikor újra elérhetővé, hogy az entitás válik.</span><span class="sxs-lookup"><span data-stu-id="24eb4-109">When a messaging entity becomes unavailable, sends ping messages toohello entity in an attempt toodetect when that entity becomes available again.</span></span>
* <span data-ttu-id="24eb4-110">Választhatóan a "üzenet szivattyúk" áll, hogy az áthelyezés üzeneteit hello várakozó várólisták toohello elsődleges várólisták.</span><span class="sxs-lookup"><span data-stu-id="24eb4-110">Optionally creates of a set of “message pumps” that move messages from hello backlog queues toohello primary queues.</span></span>
* <span data-ttu-id="24eb4-111">Koordinálja a hello elsődleges és másodlagos bezárni vagy hibás [MessagingFactory] [ MessagingFactory] példányok.</span><span class="sxs-lookup"><span data-stu-id="24eb4-111">Coordinates closing/faulting of hello primary and secondary [MessagingFactory][MessagingFactory] instances.</span></span>

<span data-ttu-id="24eb4-112">Magas szinten, hello szolgáltatást a következőképpen működik: hello elsődleges entitás állapota kifogástalan, ha nincs viselkedés változások történnek.</span><span class="sxs-lookup"><span data-stu-id="24eb4-112">At a high level, hello feature works as follows: when hello primary entity is healthy, no behavior changes occur.</span></span> <span data-ttu-id="24eb4-113">Ha hello [FailoverInterval] [ FailoverInterval] időtartam eltelte és hello elsődleges entitás látja nem sikeres elküldése után nem átmeneti [MessagingException] [ MessagingException] vagy egy [TimeoutException][TimeoutException], akkor fordul elő, a következő viselkedés hello:</span><span class="sxs-lookup"><span data-stu-id="24eb4-113">When hello [FailoverInterval][FailoverInterval] duration elapses, and hello primary entity sees no successful sends after a non-transient [MessagingException][MessagingException] or a [TimeoutException][TimeoutException], hello following behavior occurs:</span></span>

1. <span data-ttu-id="24eb4-114">Műveletek toohello elsődleges entitás le vannak tiltva, és hello rendszer ping-üzenetek hello elsődleges entitás, amíg a ping-üzenetek kézbesítése sikeresen küldése.</span><span class="sxs-lookup"><span data-stu-id="24eb4-114">Send operations toohello primary entity are disabled and hello system pings hello primary entity until pings can be successfully delivered.</span></span>
2. <span data-ttu-id="24eb4-115">Egy véletlenszerű várakozó várólista van kiválasztva.</span><span class="sxs-lookup"><span data-stu-id="24eb4-115">A random backlog queue is selected.</span></span>
3. <span data-ttu-id="24eb4-116">[BrokeredMessage] [ BrokeredMessage] objektum a kiválasztott várakozó várólista irányított toohello.</span><span class="sxs-lookup"><span data-stu-id="24eb4-116">[BrokeredMessage][BrokeredMessage] objects are routed toohello chosen backlog queue.</span></span>
4. <span data-ttu-id="24eb4-117">Ha nem sikerül egy küldési művelet toohello várakozó várólista választott, hello Elforgatás lekért van erre a várólistára, és egy új sor van kiválasztva.</span><span class="sxs-lookup"><span data-stu-id="24eb4-117">If a send operation toohello chosen backlog queue fails, that queue is pulled from hello rotation and a new queue is selected.</span></span> <span data-ttu-id="24eb4-118">Hello az összes feladó [MessagingFactory] [ MessagingFactory] hello hiba további példányt.</span><span class="sxs-lookup"><span data-stu-id="24eb4-118">All senders on hello [MessagingFactory][MessagingFactory] instance learn of hello failure.</span></span>

<span data-ttu-id="24eb4-119">a következő ábrán hello hello feladatütemezési jelzik.</span><span class="sxs-lookup"><span data-stu-id="24eb4-119">hello following figures depict hello sequence.</span></span> <span data-ttu-id="24eb4-120">Első lépésként hello küldő üzeneteket küld.</span><span class="sxs-lookup"><span data-stu-id="24eb4-120">First, hello sender sends messages.</span></span>

![Párhuzamos névterek][0]

<span data-ttu-id="24eb4-122">Hiba toosend toohello elsődleges queue, akkor a hello küldő megkezdi véletlenszerűen kiválasztott várólista várakozó üzenetek tooa küldésekor.</span><span class="sxs-lookup"><span data-stu-id="24eb4-122">Upon failure toosend toohello primary queue, hello sender begins sending messages tooa randomly chosen backlog queue.</span></span> <span data-ttu-id="24eb4-123">Egy időben a ping feladat elindítása.</span><span class="sxs-lookup"><span data-stu-id="24eb4-123">Simultaneously, it starts a ping task.</span></span>

![Párhuzamos névterek][1]

<span data-ttu-id="24eb4-125">Ezen a ponton köszönőüzenetei hello másodlagos várólista továbbra is szerepelnek, és nem szállított toohello elsődleges queue.</span><span class="sxs-lookup"><span data-stu-id="24eb4-125">At this point hello messages are still in hello secondary queue and have not been delivered toohello primary queue.</span></span> <span data-ttu-id="24eb4-126">Ha hello elsődleges queue, kifogástalan újra kell legalább egy folyamat fut hello Szifonos.</span><span class="sxs-lookup"><span data-stu-id="24eb4-126">Once hello primary queue is healthy again, at least one process should be running hello syphon.</span></span> <span data-ttu-id="24eb4-127">hello Szifonos nyújt köszönőüzenetei összes hello különböző várakozó fájlok a várólisták toohello megfelelő cél entitásokat (üzenetsorok és témakörök).</span><span class="sxs-lookup"><span data-stu-id="24eb4-127">hello syphon delivers hello messages from all hello various backlog queues toohello proper destination entities (queues and topics).</span></span>

![Párhuzamos névterek][2]

<span data-ttu-id="24eb4-129">Ez a témakör további része hello hello részletes, hogyan darabot ismerteti.</span><span class="sxs-lookup"><span data-stu-id="24eb4-129">hello remainder of this topic discusses hello specific details of how these pieces work.</span></span>

## <a name="creation-of-backlog-queues"></a><span data-ttu-id="24eb4-130">Várakozó várólista létrehozása</span><span class="sxs-lookup"><span data-stu-id="24eb4-130">Creation of backlog queues</span></span>
<span data-ttu-id="24eb4-131">Hello [SendAvailabilityPairedNamespaceOptions] [ SendAvailabilityPairedNamespaceOptions] toohello átadott objektum [PairNamespaceAsync] [ PairNamespaceAsync] metódus hello jelzi várakozó fájlok számát a várólisták azt szeretné, hogy toouse.</span><span class="sxs-lookup"><span data-stu-id="24eb4-131">hello [SendAvailabilityPairedNamespaceOptions][SendAvailabilityPairedNamespaceOptions] object passed toohello [PairNamespaceAsync][PairNamespaceAsync] method indicates hello number of backlog queues you want toouse.</span></span> <span data-ttu-id="24eb4-132">Minden tartalék várólista létrejön a hello következő tulajdonságai explicit módon beállítva (minden más helyen vannak beállítva toohello [QueueDescription] [ QueueDescription] alapértelmezett):</span><span class="sxs-lookup"><span data-stu-id="24eb4-132">Each backlog queue is then created with hello following properties explicitly set (all other values are set toohello [QueueDescription][QueueDescription] defaults):</span></span>

| <span data-ttu-id="24eb4-133">Elérési út</span><span class="sxs-lookup"><span data-stu-id="24eb4-133">Path</span></span> | <span data-ttu-id="24eb4-134">[elsődleges névtér] / x-servicebus-átvitel / [index] [0, BacklogQueueCount) érték esetén a [index]</span><span class="sxs-lookup"><span data-stu-id="24eb4-134">[primary namespace]/x-servicebus-transfer/[index] where [index] is a value in [0, BacklogQueueCount)</span></span> |
| --- | --- |
| <span data-ttu-id="24eb4-135">MaxSizeInMegabytes</span><span class="sxs-lookup"><span data-stu-id="24eb4-135">MaxSizeInMegabytes</span></span> |<span data-ttu-id="24eb4-136">5120</span><span class="sxs-lookup"><span data-stu-id="24eb4-136">5120</span></span> |
| <span data-ttu-id="24eb4-137">maxDeliveryCount</span><span class="sxs-lookup"><span data-stu-id="24eb4-137">MaxDeliveryCount</span></span> |<span data-ttu-id="24eb4-138">egész szám. MaxValue</span><span class="sxs-lookup"><span data-stu-id="24eb4-138">int.MaxValue</span></span> |
| <span data-ttu-id="24eb4-139">DefaultMessageTimeToLive</span><span class="sxs-lookup"><span data-stu-id="24eb4-139">DefaultMessageTimeToLive</span></span> |<span data-ttu-id="24eb4-140">TimeSpan.MaxValue</span><span class="sxs-lookup"><span data-stu-id="24eb4-140">TimeSpan.MaxValue</span></span> |
| <span data-ttu-id="24eb4-141">AutoDeleteOnIdle</span><span class="sxs-lookup"><span data-stu-id="24eb4-141">AutoDeleteOnIdle</span></span> |<span data-ttu-id="24eb4-142">TimeSpan.MaxValue</span><span class="sxs-lookup"><span data-stu-id="24eb4-142">TimeSpan.MaxValue</span></span> |
| <span data-ttu-id="24eb4-143">LockDuration</span><span class="sxs-lookup"><span data-stu-id="24eb4-143">LockDuration</span></span> |<span data-ttu-id="24eb4-144">1 perc</span><span class="sxs-lookup"><span data-stu-id="24eb4-144">1 minute</span></span> |
| <span data-ttu-id="24eb4-145">EnableDeadLetteringOnMessageExpiration</span><span class="sxs-lookup"><span data-stu-id="24eb4-145">EnableDeadLetteringOnMessageExpiration</span></span> |<span data-ttu-id="24eb4-146">Igaz</span><span class="sxs-lookup"><span data-stu-id="24eb4-146">true</span></span> |
| <span data-ttu-id="24eb4-147">EnableBatchedOperations</span><span class="sxs-lookup"><span data-stu-id="24eb4-147">EnableBatchedOperations</span></span> |<span data-ttu-id="24eb4-148">Igaz</span><span class="sxs-lookup"><span data-stu-id="24eb4-148">true</span></span> |

<span data-ttu-id="24eb4-149">Például hello első várakozó várólista létrehozott névtér **contoso** nevű `contoso/x-servicebus-transfer/0`.</span><span class="sxs-lookup"><span data-stu-id="24eb4-149">For example, hello first backlog queue created for namespace **contoso** is named `contoso/x-servicebus-transfer/0`.</span></span>

<span data-ttu-id="24eb4-150">Hello várólisták létrehozásakor a hello kód először ellenőrzi az toosee, ha ilyen a várólista létezik.</span><span class="sxs-lookup"><span data-stu-id="24eb4-150">When creating hello queues, hello code first checks toosee if such a queue exists.</span></span> <span data-ttu-id="24eb4-151">Ha hello várólista nem létezik, hello várólista létrejön.</span><span class="sxs-lookup"><span data-stu-id="24eb4-151">If hello queue does not exist, then hello queue is created.</span></span> <span data-ttu-id="24eb4-152">hello kód nem "extra" Várakozó várólisták karbantartása.</span><span class="sxs-lookup"><span data-stu-id="24eb4-152">hello code does not clean up "extra" backlog queues.</span></span> <span data-ttu-id="24eb4-153">Pontosabban, ha hello alkalmazás hello elsődleges névtér **contoso** öt várakozó várólistára, de hello elérési úttal rendelkező várólista várakozó kérelmek `contoso/x-servicebus-transfer/7` létezik, várólistához további várakozó továbbra is megtalálható, de nem használatos.</span><span class="sxs-lookup"><span data-stu-id="24eb4-153">Specifically, if hello application with hello primary namespace **contoso** requests five backlog queues but a backlog queue with hello path `contoso/x-servicebus-transfer/7` exists, that extra backlog queue is still present but is not used.</span></span> <span data-ttu-id="24eb4-154">hello rendszer explicit módon engedélyezi a felesleges várakozó várólisták tooexist, amelyek nem használhatók.</span><span class="sxs-lookup"><span data-stu-id="24eb4-154">hello system explicitly allows extra backlog queues tooexist that would not be used.</span></span> <span data-ttu-id="24eb4-155">Hello névtér tulajdonosként Ön felelősséggel tartozik törölje a nem használt vagy nemkívánatos várakozó üzenetsorokkal.</span><span class="sxs-lookup"><span data-stu-id="24eb4-155">As hello namespace owner, you are responsible for cleaning up any unused/unwanted backlog queues.</span></span> <span data-ttu-id="24eb4-156">hello ehhez a döntéshez oka, hogy a Service Bus nem tudja, milyen célból minden hello várólista a névtérben található.</span><span class="sxs-lookup"><span data-stu-id="24eb4-156">hello reason for this decision is that Service Bus cannot know what purposes exist for all hello queues in your namespace.</span></span> <span data-ttu-id="24eb4-157">Továbbá ha a várólista hello a megadott névvel, azonban nem felel meg a feltételezett hello [QueueDescription][QueueDescription], majd az OK: a saját hello változó alapértelmezés.</span><span class="sxs-lookup"><span data-stu-id="24eb4-157">Furthermore, if a queue exists with hello given name but does not meet hello assumed [QueueDescription][QueueDescription], then your reasons are your own for changing hello default behavior.</span></span> <span data-ttu-id="24eb4-158">Nincs garancia hozhatók módosítások toohello várakozó várólisták a kódot.</span><span class="sxs-lookup"><span data-stu-id="24eb4-158">No guarantees are made for modifications toohello backlog queues by your code.</span></span> <span data-ttu-id="24eb4-159">Győződjön meg arról, hogy tootest a módosítások alaposan.</span><span class="sxs-lookup"><span data-stu-id="24eb4-159">Make sure tootest your changes thoroughly.</span></span>

## <a name="custom-messagesender"></a><span data-ttu-id="24eb4-160">Egyéni MessageSender</span><span class="sxs-lookup"><span data-stu-id="24eb4-160">Custom MessageSender</span></span>
<span data-ttu-id="24eb4-161">Küldésekor, az összes üzenet végighaladnia belső [MessageSender] [ MessageSender] objektum, amely a szokásos módon viselkedik, ha minden működik, és átirányítja a toohello várakozó várólisták, amikor dolgot "törés."</span><span class="sxs-lookup"><span data-stu-id="24eb4-161">When sending, all messages go through an internal [MessageSender][MessageSender] object that behaves normally when everything works, and redirects toohello backlog queues when things "break."</span></span> <span data-ttu-id="24eb4-162">Nem átmeneti hiba fogadását követően a felszabadításakor kezdődik.</span><span class="sxs-lookup"><span data-stu-id="24eb4-162">Upon receiving a non-transient failure, a timer starts.</span></span> <span data-ttu-id="24eb4-163">Miután egy [TimeSpan] [ TimeSpan] hello álló időszak [FailoverInterval] [ FailoverInterval] során, ami nem sikeres üzenetküldés tulajdonság értéke , hello feladatátvételi be kell kapcsolni.</span><span class="sxs-lookup"><span data-stu-id="24eb4-163">After a [TimeSpan][TimeSpan] period consisting of hello [FailoverInterval][FailoverInterval] property value during which no successful messages are sent, hello failover is engaged.</span></span> <span data-ttu-id="24eb4-164">Ezen a ponton hello következő dolgokat okozhat minden egyes entitásnál:</span><span class="sxs-lookup"><span data-stu-id="24eb4-164">At this point, hello following things happen for each entity:</span></span>

* <span data-ttu-id="24eb4-165">A ping feladatot hajt végre minden [PingPrimaryInterval] [ PingPrimaryInterval] toocheck Ha hello entitás érhető el.</span><span class="sxs-lookup"><span data-stu-id="24eb4-165">A ping task executes every [PingPrimaryInterval][PingPrimaryInterval] toocheck if hello entity is available.</span></span> <span data-ttu-id="24eb4-166">Ez a feladat sikeres, ha azonnal hello entitás használó összes ügyfél kódot elindul, elsődleges névtér új üzenetek toohello küldése.</span><span class="sxs-lookup"><span data-stu-id="24eb4-166">Once this task succeeds, all client code that uses hello entity immediately starts sending new messages toohello primary namespace.</span></span>
* <span data-ttu-id="24eb4-167">Ugyanaz az entitás más feladóktól hello eredményez a későbbi kérelmek toosend toothat [BrokeredMessage] [ BrokeredMessage] toobe küldött módosított toosit hello várakozó várólistában.</span><span class="sxs-lookup"><span data-stu-id="24eb4-167">Future requests toosend toothat same entity from any other senders will result in hello [BrokeredMessage][BrokeredMessage] being sent toobe modified toosit in hello backlog queue.</span></span> <span data-ttu-id="24eb4-168">hello módosítása egyes tulajdonságok eltávolítása hello [BrokeredMessage] [ BrokeredMessage] objektumra, és a máshol tárolja azokat.</span><span class="sxs-lookup"><span data-stu-id="24eb4-168">hello modification removes some properties from hello [BrokeredMessage][BrokeredMessage] object and stores them elsewhere.</span></span> <span data-ttu-id="24eb4-169">hello következő tulajdonság nincs bejelölve, és hozzáadása az új aliast, amely lehetővé teszi a Service Bus és hello SDK tooprocess üzenetek egységesen:</span><span class="sxs-lookup"><span data-stu-id="24eb4-169">hello following properties are cleared and added under a new alias, allowing Service Bus and hello SDK tooprocess messages uniformly:</span></span>

| <span data-ttu-id="24eb4-170">Régi tulajdonság neve</span><span class="sxs-lookup"><span data-stu-id="24eb4-170">Old Property Name</span></span> | <span data-ttu-id="24eb4-171">Új tulajdonság neve</span><span class="sxs-lookup"><span data-stu-id="24eb4-171">New Property Name</span></span> |
| --- | --- |
| <span data-ttu-id="24eb4-172">Munkamenet-azonosító</span><span class="sxs-lookup"><span data-stu-id="24eb4-172">SessionId</span></span> |<span data-ttu-id="24eb4-173">x-ms-munkamenet-azonosító</span><span class="sxs-lookup"><span data-stu-id="24eb4-173">x-ms-sessionid</span></span> |
| <span data-ttu-id="24eb4-174">TimeToLive</span><span class="sxs-lookup"><span data-stu-id="24eb4-174">TimeToLive</span></span> |<span data-ttu-id="24eb4-175">az x-ms-élettartam</span><span class="sxs-lookup"><span data-stu-id="24eb4-175">x-ms-timetolive</span></span> |
| <span data-ttu-id="24eb4-176">ScheduledEnqueueTimeUtc</span><span class="sxs-lookup"><span data-stu-id="24eb4-176">ScheduledEnqueueTimeUtc</span></span> |<span data-ttu-id="24eb4-177">x-ms-elérési út</span><span class="sxs-lookup"><span data-stu-id="24eb4-177">x-ms-path</span></span> |

<span data-ttu-id="24eb4-178">hello eredeti elérési utat célként is tárolja belül üdvözlőüzenetére x-ms-path nevű tulajdonság.</span><span class="sxs-lookup"><span data-stu-id="24eb4-178">hello original destination path is also stored within hello message as a property named x-ms-path.</span></span> <span data-ttu-id="24eb4-179">Ez a kialakítás lehetővé teszi, hogy sok entitások toocoexist üzeneteket egyetlen várakozó várólista.</span><span class="sxs-lookup"><span data-stu-id="24eb4-179">This design allows messages for many entities toocoexist in a single backlog queue.</span></span> <span data-ttu-id="24eb4-180">hello tulajdonságok vissza által hello Szifonos van lefordítva.</span><span class="sxs-lookup"><span data-stu-id="24eb4-180">hello properties are translated back by hello syphon.</span></span>

<span data-ttu-id="24eb4-181">egyéni hello [MessageSender] [ MessageSender] objektum is tapasztal, amikor üzenetek hello 256 KB-os korlát közelítse meg, és feladatátvételi be kell kapcsolni.</span><span class="sxs-lookup"><span data-stu-id="24eb4-181">hello custom [MessageSender][MessageSender] object can encounter issues when messages approach hello 256-KB limit and failover is engaged.</span></span> <span data-ttu-id="24eb4-182">egyéni hello [MessageSender] [ MessageSender] objektum tárolja az üzeneteket az összes üzenetsorok és témakörök hello várakozó várólistára együtt.</span><span class="sxs-lookup"><span data-stu-id="24eb4-182">hello custom [MessageSender][MessageSender] object stores messages for all queues and topics together in hello backlog queues.</span></span> <span data-ttu-id="24eb4-183">Ez az objektum keveri sok elsődleges együtt várólistákon hello várakozó üzenetek.</span><span class="sxs-lookup"><span data-stu-id="24eb4-183">This object mixes messages from many primaries together within hello backlog queues.</span></span> <span data-ttu-id="24eb4-184">sok ügyfél, amely nem tudja, hogy minden más, hello SDK véletlenszerűen közötti terheléselosztás toohandle szerzi várakozó fájlok – egy sor minden [QueueClient] [ QueueClient] vagy [TopicClient] [ TopicClient] hoz létre a kódban.</span><span class="sxs-lookup"><span data-stu-id="24eb4-184">toohandle load balancing among many clients that do not know each other, hello SDK randomly picks one backlog queue for each [QueueClient][QueueClient] or [TopicClient][TopicClient] you create in code.</span></span>

## <a name="pings"></a><span data-ttu-id="24eb4-185">Ping-üzenetek</span><span class="sxs-lookup"><span data-stu-id="24eb4-185">Pings</span></span>
<span data-ttu-id="24eb4-186">A ping üzenetre egy üres [BrokeredMessage] [ BrokeredMessage] rendelkező a [ContentType] [ ContentType] tulajdonsága tooapplication/vnd.ms-szolgáltatásbusz-ping és egy [TimeToLive] [ TimeToLive] értéke 1 másodperc.</span><span class="sxs-lookup"><span data-stu-id="24eb4-186">A ping message is an empty [BrokeredMessage][BrokeredMessage] with its [ContentType][ContentType] property set tooapplication/vnd.ms-servicebus-ping and a [TimeToLive][TimeToLive] value of 1 second.</span></span> <span data-ttu-id="24eb4-187">A ping rendelkezik egy különös jellemző a Service Bus: hello server soha nem továbbítja a pingelés, ha a hívó kér egy [BrokeredMessage][BrokeredMessage].</span><span class="sxs-lookup"><span data-stu-id="24eb4-187">This ping has one special characteristic in Service Bus: hello server never delivers a ping when any caller requests a [BrokeredMessage][BrokeredMessage].</span></span> <span data-ttu-id="24eb4-188">Ebből kifolyólag sosem toolearn hogyan tooreceive és figyelmen kívül.</span><span class="sxs-lookup"><span data-stu-id="24eb4-188">Thus, you never have toolearn how tooreceive and ignore these messages.</span></span> <span data-ttu-id="24eb4-189">Minden entitás (egyedi üzenetsor vagy témakör) / [MessagingFactory] [ MessagingFactory] ügyfelenként példányt fog kell program ping üzenetet küld azok által szabott toobe nem érhető el.</span><span class="sxs-lookup"><span data-stu-id="24eb4-189">Each entity (unique queue or topic) per [MessagingFactory][MessagingFactory] instance per client will be pinged when they are considered toobe unavailable.</span></span> <span data-ttu-id="24eb4-190">Alapértelmezés szerint ez akkor fordul elő percenként.</span><span class="sxs-lookup"><span data-stu-id="24eb4-190">By default, this happens once per minute.</span></span> <span data-ttu-id="24eb4-191">Ping üzenetekre toobe rendszeres Service Bus üzenetek minősülnek, és sávszélesség és üzenetek eredményezhet.</span><span class="sxs-lookup"><span data-stu-id="24eb4-191">Ping messages are considered toobe regular Service Bus messages, and can result in charges for bandwidth and messages.</span></span> <span data-ttu-id="24eb4-192">Amint hello-ügyfelek észlelik, hogy rendelkezésre áll-e hello rendszer, köszönőüzenetei leállítása.</span><span class="sxs-lookup"><span data-stu-id="24eb4-192">As soon as hello clients detect that hello system is available, hello messages stop.</span></span>

## <a name="hello-syphon"></a><span data-ttu-id="24eb4-193">hello Szifonos</span><span class="sxs-lookup"><span data-stu-id="24eb4-193">hello syphon</span></span>
<span data-ttu-id="24eb4-194">Legalább egy végrehajtható program hello alkalmazásban aktívan futnia kell hello Szifonos.</span><span class="sxs-lookup"><span data-stu-id="24eb4-194">At least one executable program in hello application should be actively running hello syphon.</span></span> <span data-ttu-id="24eb4-195">hello Szifonos hajt végre egy hosszú lekérdezési kap, hogy 15 percig tart.</span><span class="sxs-lookup"><span data-stu-id="24eb4-195">hello syphon performs a long poll receive that lasts 15 minutes.</span></span> <span data-ttu-id="24eb4-196">Amikor entitásokhoz érhető el, és 10 várakozó várólisták, hello hello Szifonos hívások hello fogadási művelethez 40 alkalommal óránkénti, napi 960 időpontot és 30 napban 28800 alkalommal futtató alkalmazáshoz.</span><span class="sxs-lookup"><span data-stu-id="24eb4-196">When all entities are available and you have 10 backlog queues, hello application that hosts hello syphon calls hello receive operation 40 times per hour, 960 times per day, and 28800 times in 30 days.</span></span> <span data-ttu-id="24eb4-197">Hello Szifonos aktívan üzenetek áthelyezése hello várakozó toohello elsődleges queue-ből, ha minden üzenetet észlel hello költségek (az üzenet mérete és a sávszélesség szabványos díja valamennyi szakaszában vonatkozik) a következő:</span><span class="sxs-lookup"><span data-stu-id="24eb4-197">When hello syphon is actively moving messages from hello backlog toohello primary queue, each message experiences hello following charges (standard charges for message size and bandwidth apply in all stages):</span></span>

1. <span data-ttu-id="24eb4-198">Toohello várakozó küldési.</span><span class="sxs-lookup"><span data-stu-id="24eb4-198">Send toohello backlog.</span></span>
2. <span data-ttu-id="24eb4-199">Hello várakozó kapott.</span><span class="sxs-lookup"><span data-stu-id="24eb4-199">Receive from hello backlog.</span></span>
3. <span data-ttu-id="24eb4-200">Toohello elsődleges küldése.</span><span class="sxs-lookup"><span data-stu-id="24eb4-200">Send toohello primary.</span></span>
4. <span data-ttu-id="24eb4-201">Elsődleges hello kapott.</span><span class="sxs-lookup"><span data-stu-id="24eb4-201">Receive from hello primary.</span></span>

## <a name="closefault-behavior"></a><span data-ttu-id="24eb4-202">Zárja be/tartalék viselkedése</span><span class="sxs-lookup"><span data-stu-id="24eb4-202">Close/fault behavior</span></span>
<span data-ttu-id="24eb4-203">Hello Szifonos, egyszer hello elsődleges vagy másodlagos üzemeltető alkalmazáson belüli [MessagingFactory] [ MessagingFactory] hibákat, vagy le van zárva a partner is hibát jelzett/lezárult és hello nélkül Szifonos észleli, ebben az állapotban , hello Szifonos működik.</span><span class="sxs-lookup"><span data-stu-id="24eb4-203">Within an application that hosts hello syphon, once hello primary or secondary [MessagingFactory][MessagingFactory] faults or is closed without its partner also being faulted/closed and hello syphon detects this state, hello syphon acts.</span></span> <span data-ttu-id="24eb4-204">Ha más hello [MessagingFactory] [ MessagingFactory] nem zárt 5 másodpercen belül hello Szifonos hello továbbra is nyitva fog fault [MessagingFactory] [ MessagingFactory] .</span><span class="sxs-lookup"><span data-stu-id="24eb4-204">If hello other [MessagingFactory][MessagingFactory] is not closed within 5 seconds, hello syphon will fault hello still open [MessagingFactory][MessagingFactory].</span></span>

## <a name="next-steps"></a><span data-ttu-id="24eb4-205">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="24eb4-205">Next steps</span></span>
<span data-ttu-id="24eb4-206">Lásd: [aszinkron üzenetkezelési mintákat és magas rendelkezésre állású] [ Asynchronous messaging patterns and high availability] részletes információt a Service Bus aszinkron üzenetkezelési.</span><span class="sxs-lookup"><span data-stu-id="24eb4-206">See [Asynchronous messaging patterns and high availability][Asynchronous messaging patterns and high availability] for a detailed discussion of Service Bus asynchronous messaging.</span></span> 

[PairNamespaceAsync]: /dotnet/api/microsoft.servicebus.messaging.messagingfactory#Microsoft_ServiceBus_Messaging_MessagingFactory_PairNamespaceAsync_Microsoft_ServiceBus_Messaging_PairedNamespaceOptions_
[SendAvailabilityPairedNamespaceOptions]: /dotnet/api/microsoft.servicebus.messaging.sendavailabilitypairednamespaceoptions
[MessageSender]: /dotnet/api/microsoft.servicebus.messaging.messagesender
[MessagingFactory]: /dotnet/api/microsoft.servicebus.messaging.messagingfactory
[FailoverInterval]: /dotnet/api/microsoft.servicebus.messaging.pairednamespaceoptions#Microsoft_ServiceBus_Messaging_PairedNamespaceOptions_FailoverInterval
[MessagingException]: /dotnet/api/microsoft.servicebus.messaging.messagingexception
[TimeoutException]: https://msdn.microsoft.com/library/azure/system.timeoutexception.aspx
[BrokeredMessage]: /dotnet/api/microsoft.servicebus.messaging.brokeredmessage
[QueueDescription]: /dotnet/api/microsoft.servicebus.messaging.queuedescription
[TimeSpan]: https://msdn.microsoft.com/library/azure/system.timespan.aspx
[PingPrimaryInterval]: /dotnet/api/microsoft.servicebus.messaging.sendavailabilitypairednamespaceoptions#Microsoft_ServiceBus_Messaging_SendAvailabilityPairedNamespaceOptions_PingPrimaryInterval
[QueueClient]: /dotnet/api/microsoft.servicebus.messaging.queueclient
[TopicClient]: /dotnet/api/microsoft.servicebus.messaging.topicclient
[ContentType]: /dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_ContentType
[TimeToLive]: /dotnet/api/microsoft.servicebus.messaging.brokeredmessage#Microsoft_ServiceBus_Messaging_BrokeredMessage_TimeToLive
[Asynchronous messaging patterns and high availability]: service-bus-async-messaging.md
[0]: ./media/service-bus-paired-namespaces/IC673405.png
[1]: ./media/service-bus-paired-namespaces/IC673406.png
[2]: ./media/service-bus-paired-namespaces/IC673407.png
