---
title: "Az Azure Service Bus authentication megosztott hozzáférési aláírásokkal |} Microsoft Docs"
description: "Service Bus hitelesítési megosztott hozzáférési aláírásokkal – áttekintés, SAS-hitelesítés és az Azure Service Bus adatait áttekintése."
services: service-bus-messaging
documentationcenter: na
author: sethmanheim
manager: timlt
editor: 
ms.assetid: 
ms.service: service-bus-messaging
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/23/2017
ms.author: sethm
ms.openlocfilehash: a2760072acb7c62204759f3ec0d3cb9899460f2d
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 08/29/2017
---
# <a name="service-bus-authentication-with-shared-access-signatures"></a><span data-ttu-id="48395-103">A Service Bus hitelesítési megosztott hozzáférési aláírásokkal</span><span class="sxs-lookup"><span data-stu-id="48395-103">Service Bus authentication with Shared Access Signatures</span></span>

<span data-ttu-id="48395-104">*Közös hozzáférésű Jogosultságkód* (SAS) a Service Bus üzenetkezelés elsődleges biztonsági mechanizmust.</span><span class="sxs-lookup"><span data-stu-id="48395-104">*Shared Access Signatures* (SAS) are the primary security mechanism for Service Bus messaging.</span></span> <span data-ttu-id="48395-105">Ez a cikk ismerteti, amelyek SAS, leírás és a platform-független módon használatával.</span><span class="sxs-lookup"><span data-stu-id="48395-105">This article discusses SAS, how they work, and how to use them in a platform-agnostic way.</span></span>

<span data-ttu-id="48395-106">SAS hitelesítési lehetővé teszi, hogy az alkalmazások a Service Bus a névtér, vagy az üzenetküldési entitásra (üzenetsor vagy témakör), amellyel adott jogosultságok konfigurálva hozzáférési kulcs használata a hitelesítéshez.</span><span class="sxs-lookup"><span data-stu-id="48395-106">SAS authentication enables applications to authenticate to Service Bus using an access key configured on the namespace, or on the messaging entity (queue or topic) with which specific rights are associated.</span></span> <span data-ttu-id="48395-107">Ezt a kulcsot egy SAS-jogkivonatot, amellyel az ügyfelek pedig a Service Bus felé történő hitelesítésre létrehozásához használhatja.</span><span class="sxs-lookup"><span data-stu-id="48395-107">You can then use this key to generate a SAS token that clients can in turn use to authenticate to Service Bus.</span></span>

<span data-ttu-id="48395-108">SAS-hitelesítési támogatás az Azure SDK 2.0-s és újabb verziók része.</span><span class="sxs-lookup"><span data-stu-id="48395-108">SAS authentication support is included in the Azure SDK version 2.0 and later.</span></span>

## <a name="overview-of-sas"></a><span data-ttu-id="48395-109">SAS áttekintése</span><span class="sxs-lookup"><span data-stu-id="48395-109">Overview of SAS</span></span>

<span data-ttu-id="48395-110">Megosztott hozzáférési aláírásokkal olyan hitelesítési mechanizmus biztonságos SHA-256 kivonatokkal vagy URI-k alapján.</span><span class="sxs-lookup"><span data-stu-id="48395-110">Shared Access Signatures are an authentication mechanism based on SHA-256 secure hashes or URIs.</span></span> <span data-ttu-id="48395-111">SAS, akkor ez egy nagyon erős eszköz összes Service Bus szolgáltatás által használt.</span><span class="sxs-lookup"><span data-stu-id="48395-111">SAS is an extremely powerful mechanism that is used by all Service Bus services.</span></span> <span data-ttu-id="48395-112">Tényleges használatban van, SAS két részből áll: egy *megosztott hozzáférési házirend* és egy *közös hozzáférésű Jogosultságkód* (gyakran nevezik egy *token*).</span><span class="sxs-lookup"><span data-stu-id="48395-112">In actual use, SAS has two components: a *shared access policy* and a *Shared Access Signature* (often called a *token*).</span></span>

<span data-ttu-id="48395-113">SAS-hitelesítés a Service Bus során konfigurálnia kell a Service Bus erőforrás társított jogosultságok titkosítási kulcsot.</span><span class="sxs-lookup"><span data-stu-id="48395-113">SAS authentication in Service Bus involves the configuration of a cryptographic key with associated rights on a Service Bus resource.</span></span> <span data-ttu-id="48395-114">Ügyfelek Service Bus erőforrásainak elérésére jogcím egy SAS-jogkivonat segítségével.</span><span class="sxs-lookup"><span data-stu-id="48395-114">Clients claim access to Service Bus resources by presenting a SAS token.</span></span> <span data-ttu-id="48395-115">Az erőforrás URI azonosítója férnek hozzá a token áll, és elévülés konfigurált kulccsal aláírva.</span><span class="sxs-lookup"><span data-stu-id="48395-115">This token consists of the resource URI being accessed, and an expiry signed with the configured key.</span></span>

<span data-ttu-id="48395-116">A Service Bus közös hozzáférésű Jogosultságkód-engedélyezési szabályok konfigurálásával [továbbítja](service-bus-fundamentals-hybrid-solutions.md#relays), [várólisták](service-bus-fundamentals-hybrid-solutions.md#queues), és [témakörök](service-bus-fundamentals-hybrid-solutions.md#topics).</span><span class="sxs-lookup"><span data-stu-id="48395-116">You can configure Shared Access Signature authorization rules on Service Bus [relays](service-bus-fundamentals-hybrid-solutions.md#relays), [queues](service-bus-fundamentals-hybrid-solutions.md#queues), and [topics](service-bus-fundamentals-hybrid-solutions.md#topics).</span></span>

<span data-ttu-id="48395-117">SAS-hitelesítés a következő elemeket használja:</span><span class="sxs-lookup"><span data-stu-id="48395-117">SAS authentication uses the following elements:</span></span>

* <span data-ttu-id="48395-118">[Megosztott hozzáférés-engedélyezési szabály](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule): A 256 bites Base64 ábrázolás elsődleges titkosítási kulcs, egy nem kötelező másodlagos kulcsot, és a kulcs nevét és társított jogosultságok (gyűjteménye *figyelésére*, *küldése*, vagy *kezelése* jogosultságok).</span><span class="sxs-lookup"><span data-stu-id="48395-118">[Shared Access authorization rule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule): A 256-bit primary cryptographic key in Base64 representation, an optional secondary key, and a key name and associated rights (a collection of *Listen*, *Send*, or *Manage* rights).</span></span>
* <span data-ttu-id="48395-119">[Közös hozzáférésű Jogosultságkód](/dotnet/api/microsoft.servicebus.sharedaccesssignaturetokenprovider) token: a HMAC-SHA256-kivonata egy erőforrás-karakterlánc, a titkosítási kulccsal, amely érhető el az erőforrás URI és egy lejárati álló generálta.</span><span class="sxs-lookup"><span data-stu-id="48395-119">[Shared Access Signature](/dotnet/api/microsoft.servicebus.sharedaccesssignaturetokenprovider) token: Generated using the HMAC-SHA256 of a resource string, consisting of the URI of the resource that is accessed and an expiry, with the cryptographic key.</span></span> <span data-ttu-id="48395-120">Az aláírás és más elemek, a következő szakaszok ismertetik a SAS-jogkivonat létrehozásához egy karakterlánccá egyesít formázott.</span><span class="sxs-lookup"><span data-stu-id="48395-120">The signature and other elements described in the following sections are formatted into a string to form the SAS token.</span></span>

## <a name="shared-access-policy"></a><span data-ttu-id="48395-121">Megosztott elérési házirendet</span><span class="sxs-lookup"><span data-stu-id="48395-121">Shared access policy</span></span>

<span data-ttu-id="48395-122">Egy fontos biztonsági Társítások megismerkedett, kezdődik, hogy egy házirend.</span><span class="sxs-lookup"><span data-stu-id="48395-122">An important thing to understand about SAS is that it starts with a policy.</span></span> <span data-ttu-id="48395-123">Minden egyes házirend mellett dönt három adatra: **neve**, **hatókör**, és **engedélyek**.</span><span class="sxs-lookup"><span data-stu-id="48395-123">For each policy, you decide on three pieces of information: **name**, **scope**, and **permissions**.</span></span> <span data-ttu-id="48395-124">A **neve** most, hogy; adott hatókörén belül egyedi nevet.</span><span class="sxs-lookup"><span data-stu-id="48395-124">The **name** is just that; a unique name within that scope.</span></span> <span data-ttu-id="48395-125">A hatókör elég egyszerűen: az adott erőforrás URI legyen.</span><span class="sxs-lookup"><span data-stu-id="48395-125">The scope is easy enough: it's the URI of the resource in question.</span></span> <span data-ttu-id="48395-126">A Service Bus-névtér, a hatóköre a teljesen minősített tartománynevét (FQDN), például a `https://<yournamespace>.servicebus.windows.net/`.</span><span class="sxs-lookup"><span data-stu-id="48395-126">For a Service Bus namespace, the scope is the fully qualified domain name (FQDN), such as `https://<yournamespace>.servicebus.windows.net/`.</span></span>

<span data-ttu-id="48395-127">A házirend az elérhető engedélyeket magától értetődő-nagymértékben:</span><span class="sxs-lookup"><span data-stu-id="48395-127">The available permissions for a policy are largely self-explanatory:</span></span>

* <span data-ttu-id="48395-128">Küldés</span><span class="sxs-lookup"><span data-stu-id="48395-128">Send</span></span>
* <span data-ttu-id="48395-129">Figyelés</span><span class="sxs-lookup"><span data-stu-id="48395-129">Listen</span></span>
* <span data-ttu-id="48395-130">Kezelés</span><span class="sxs-lookup"><span data-stu-id="48395-130">Manage</span></span>

<span data-ttu-id="48395-131">Miután létrehozta a házirendet, mert van hozzárendelve egy *elsődleges kulcs* és egy *másodlagos kulcs*.</span><span class="sxs-lookup"><span data-stu-id="48395-131">After you create the policy, it is assigned a *Primary Key* and a *Secondary Key*.</span></span> <span data-ttu-id="48395-132">Ezek a kriptográfiai erős kulcsokat.</span><span class="sxs-lookup"><span data-stu-id="48395-132">These are cryptographically strong keys.</span></span> <span data-ttu-id="48395-133">Nem elvesznek vagy szivárgás lépett fel őket – ezek mindig lesz elérhető a [Azure-portálon][Azure portal].</span><span class="sxs-lookup"><span data-stu-id="48395-133">Don't lose them or leak them - they'll always be available in the [Azure portal][Azure portal].</span></span> <span data-ttu-id="48395-134">A generált kulcsok bármelyikét használhatja, és bármikor helyreállíthatók.</span><span class="sxs-lookup"><span data-stu-id="48395-134">You can use either of the generated keys, and you can regenerate them at any time.</span></span> <span data-ttu-id="48395-135">Azonban ha generálja újra, vagy módosítsa az elsődleges kulcsot a házirend, minden megosztott hozzáférési aláírásokkal létre belőle a rendszer érvényteleníti.</span><span class="sxs-lookup"><span data-stu-id="48395-135">However, if you regenerate or change the primary key in the policy, any Shared Access Signatures created from it will be invalidated.</span></span>

<span data-ttu-id="48395-136">A Service Bus-névtér létrehozásakor házirend automatikusan létrejön a teljes névteret nevű **RootManageSharedAccessKey**, és ez a házirend az összes jogosult.</span><span class="sxs-lookup"><span data-stu-id="48395-136">When you create a Service Bus namespace, a policy is automatically created for the entire namespace called **RootManageSharedAccessKey**, and this policy has all permissions.</span></span> <span data-ttu-id="48395-137">Nem bejelentkezni **legfelső szintű**, így nem használja ezt a házirendet, kivéve, ha valóban okunk.</span><span class="sxs-lookup"><span data-stu-id="48395-137">You don't log on as **root**, so don't use this policy unless there's a really good reason.</span></span> <span data-ttu-id="48395-138">A további házirendeket is létrehozhat a **konfigurálása** lapra a névtérhez a portálon.</span><span class="sxs-lookup"><span data-stu-id="48395-138">You can create additional policies in the **Configure** tab for the namespace in the portal.</span></span> <span data-ttu-id="48395-139">Fontos megjegyezni, hogy a Service Bus (névtér, várólista stb.) egy egyetlen fa szint csak van legfeljebb 12 házirendek nem csatlakoztatható.</span><span class="sxs-lookup"><span data-stu-id="48395-139">It's important to note that a single tree level in Service Bus (namespace, queue, etc.) can only have up to 12 policies attached to it.</span></span>

## <a name="configuration-for-shared-access-signature-authentication"></a><span data-ttu-id="48395-140">Közös hozzáférésű Jogosultságkód-hitelesítés konfigurációja</span><span class="sxs-lookup"><span data-stu-id="48395-140">Configuration for Shared Access Signature authentication</span></span>
<span data-ttu-id="48395-141">Konfigurálhatja a [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) a Szolgáltatásbusz-névterek, a várólisták vagy a témakörök szabály.</span><span class="sxs-lookup"><span data-stu-id="48395-141">You can configure the [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) rule on Service Bus namespaces, queues, or topics.</span></span> <span data-ttu-id="48395-142">Konfigurálása egy [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) egy Service Bus az előfizetés jelenleg nem támogatott, de a szabályok konfigurálva a névtér vagy témakör segítségével biztonságos hozzáférés a előfizetések.</span><span class="sxs-lookup"><span data-stu-id="48395-142">Configuring a [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) on a Service Bus subscription is currently not supported, but you can use rules configured on a namespace or topic to secure access to subscriptions.</span></span> <span data-ttu-id="48395-143">Működő minta azt mutatja be ezt az eljárást, tekintse meg a [Service Bus előfizetések használata közös hozzáférésű Jogosultságkód (SAS) hitelesítési](http://code.msdn.microsoft.com/Using-Shared-Access-e605b37c) minta.</span><span class="sxs-lookup"><span data-stu-id="48395-143">For a working sample that illustrates this procedure, see the [Using Shared Access Signature (SAS) authentication with Service Bus Subscriptions](http://code.msdn.microsoft.com/Using-Shared-Access-e605b37c) sample.</span></span>

<span data-ttu-id="48395-144">Ezek a szabályok 12 legfeljebb egy Service Bus-névtér, üzenetsor vagy témakör is lehet konfigurálni.</span><span class="sxs-lookup"><span data-stu-id="48395-144">A maximum of 12 such rules can be configured on a Service Bus namespace, queue, or topic.</span></span> <span data-ttu-id="48395-145">Service Bus-névtér konfigurált szabályok adott névtér összes entitásának vonatkoznak.</span><span class="sxs-lookup"><span data-stu-id="48395-145">Rules that are configured on a Service Bus namespace apply to all entities in that namespace.</span></span>

![SAS](./media/service-bus-sas/service-bus-namespace.png)

<span data-ttu-id="48395-147">Az ábrán a *manageRuleNS*, *sendRuleNS*, és *listenRuleNS* engedélyezési szabályai V1 várólista és témakör T1, egyaránt érvényesek közben *listenRuleQ*  és *sendRuleQ* csak a V1 várólista érvényes és *sendRuleT* témakör T1 vonatkozik.</span><span class="sxs-lookup"><span data-stu-id="48395-147">In this figure, the *manageRuleNS*, *sendRuleNS*, and *listenRuleNS* authorization rules apply to both queue Q1 and topic T1, while *listenRuleQ* and *sendRuleQ* apply only to queue Q1 and *sendRuleT* applies only to topic T1.</span></span>

<span data-ttu-id="48395-148">A kulcs paraméterei egy [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) a következők:</span><span class="sxs-lookup"><span data-stu-id="48395-148">The key parameters of a [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) are as follows:</span></span>

| <span data-ttu-id="48395-149">Paraméter</span><span class="sxs-lookup"><span data-stu-id="48395-149">Parameter</span></span> | <span data-ttu-id="48395-150">Leírás</span><span class="sxs-lookup"><span data-stu-id="48395-150">Description</span></span> |
| --- | --- |
| <span data-ttu-id="48395-151">*Kulcsnév*</span><span class="sxs-lookup"><span data-stu-id="48395-151">*KeyName*</span></span> |<span data-ttu-id="48395-152">Egy karakterlánc, amely a engedélyezési szabályt.</span><span class="sxs-lookup"><span data-stu-id="48395-152">A string that describes the authorization rule.</span></span> |
| <span data-ttu-id="48395-153">*PrimaryKey*</span><span class="sxs-lookup"><span data-stu-id="48395-153">*PrimaryKey*</span></span> |<span data-ttu-id="48395-154">A base64-kódolású 256 bites elsődleges kulcs aláírása és a SAS-token ellenőrzése.</span><span class="sxs-lookup"><span data-stu-id="48395-154">A base64-encoded 256-bit primary key for signing and validating the SAS token.</span></span> |
| <span data-ttu-id="48395-155">*Másodlagos kulcs*</span><span class="sxs-lookup"><span data-stu-id="48395-155">*SecondaryKey*</span></span> |<span data-ttu-id="48395-156">A base64-kódolású 256 bites másodlagos kulcs aláírása és a SAS-token ellenőrzése.</span><span class="sxs-lookup"><span data-stu-id="48395-156">A base64-encoded 256-bit secondary key for signing and validating the SAS token.</span></span> |
| <span data-ttu-id="48395-157">*AccessRights*</span><span class="sxs-lookup"><span data-stu-id="48395-157">*AccessRights*</span></span> |<span data-ttu-id="48395-158">Az engedélyezési szabály által megadott hozzáférési jogok listáját.</span><span class="sxs-lookup"><span data-stu-id="48395-158">A list of access rights granted by the authorization rule.</span></span> <span data-ttu-id="48395-159">Ezek a jogosultságok bármely gyűjtemény figyelés, a Küldés és a kezelés jogok lehet.</span><span class="sxs-lookup"><span data-stu-id="48395-159">These rights can be any collection of Listen, Send, and Manage rights.</span></span> |

<span data-ttu-id="48395-160">A Service Bus-névtér ki van építve, amikor egy [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule), a [kulcsnév](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_KeyName) beállítása **RootManageSharedAccessKey**, alapértelmezés szerint létrejön.</span><span class="sxs-lookup"><span data-stu-id="48395-160">When a Service Bus namespace is provisioned, a [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule), with [KeyName](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_KeyName) set to **RootManageSharedAccessKey**, is created by default.</span></span>

## <a name="generate-a-shared-access-signature-token"></a><span data-ttu-id="48395-161">Egy közös hozzáférésű Jogosultságkód (jogkivonat) létrehozása</span><span class="sxs-lookup"><span data-stu-id="48395-161">Generate a Shared Access Signature (token)</span></span>

<span data-ttu-id="48395-162">Maga a házirend nincs Service Bus hozzáférési jogkivonatot.</span><span class="sxs-lookup"><span data-stu-id="48395-162">The policy itself is not the access token for Service Bus.</span></span> <span data-ttu-id="48395-163">Az objektum, a hozzáférési jogkivonat képzésére szolgáló - mind az elsődleges vagy másodlagos kulcsot is.</span><span class="sxs-lookup"><span data-stu-id="48395-163">It is the object from which the access token is generated - using either the primary or secondary key.</span></span> <span data-ttu-id="48395-164">Bármely ügyfél, amely hozzáfér az aláíró kulcsok a közös hozzáférésű engedélyezési szabályban megadott hozhat létre a SAS-jogkivonat.</span><span class="sxs-lookup"><span data-stu-id="48395-164">Any client that has access to the signing keys specified in the shared access authorization rule can generate the SAS token.</span></span> <span data-ttu-id="48395-165">A jogkivonat a következő formátumú karakterláncot gondosan létrehozásával jönnek létre:</span><span class="sxs-lookup"><span data-stu-id="48395-165">The token is generated by carefully crafting a string in the following format:</span></span>

```
SharedAccessSignature sig=<signature-string>&se=<expiry>&skn=<keyName>&sr=<URL-encoded-resourceURI>
```

<span data-ttu-id="48395-166">Ahol `signature-string` a hatókör a jogkivonat az SHA-256-kivonata (**hatókör** az előző szakaszban leírtak szerint) a CR LF Karakterpár fűzött és a lejárati idő (másodpercben óta kor alapidőpontjának korábban: `00:00:00 UTC` 1970. január 1. a).</span><span class="sxs-lookup"><span data-stu-id="48395-166">Where `signature-string` is the SHA-256 hash of the scope of the token (**scope** as described in the previous section) with a CRLF appended and an expiry time (in seconds since the epoch: `00:00:00 UTC` on 1 January 1970).</span></span> 

> [!NOTE]
> <span data-ttu-id="48395-167">Egy rövid jogkivonat lejárati idejének elkerülése érdekében javasoljuk, hogy a lejárati idő értéknek megfelelően kódolja-e legalább egy 32 bites előjel nélküli egész számokat, vagy lehetőleg egy hosszú (64 bites) egész szám.</span><span class="sxs-lookup"><span data-stu-id="48395-167">To avoid a short token expiry time, it is recommended that you encode the expiry time value as at least a 32-bit unsigned integer, or preferably a long (64-bit) integer.</span></span>  
> 
> 

<span data-ttu-id="48395-168">A kivonatoló hasonlít-e a következő pszeudo-kódot, és 32 bájt adja vissza.</span><span class="sxs-lookup"><span data-stu-id="48395-168">The hash looks similar to the following pseudo code and returns 32 bytes.</span></span>

```
SHA-256('https://<yournamespace>.servicebus.windows.net/'+'\n'+ 1438205742)
```

<span data-ttu-id="48395-169">Nem kivonatolt értékei a **SharedAccessSignature** úgy, hogy a címzett számíthatja a kivonat ugyanazokkal a paraméterekkel, győződjön meg arról, hogy ugyanazt az eredményt adja vissza.</span><span class="sxs-lookup"><span data-stu-id="48395-169">The non-hashed values are in the **SharedAccessSignature** string so that the recipient can compute the hash with the same parameters, to be sure that it returns the same result.</span></span> <span data-ttu-id="48395-170">Az URI megadja a hatókör, és a kulcs neve azonosítja a házirendet, a kivonatoló kiszámításához használható.</span><span class="sxs-lookup"><span data-stu-id="48395-170">The URI specifies the scope, and the key name identifies the policy to be used to compute the hash.</span></span> <span data-ttu-id="48395-171">Ez fontos biztonsági szempontból.</span><span class="sxs-lookup"><span data-stu-id="48395-171">This is important from a security standpoint.</span></span> <span data-ttu-id="48395-172">Az aláírás nem egyezik, amelyet a címzett (Service Bus) számítja ki, ha a hozzáférés megtagadva.</span><span class="sxs-lookup"><span data-stu-id="48395-172">If the signature doesn't match that which the recipient (Service Bus) calculates, then access is denied.</span></span> <span data-ttu-id="48395-173">Ezen a ponton is lehet, hogy a küldő volna a kulcs eléréséhez, és a házirendben meghatározott jogosultságokat jogot kell biztosítani.</span><span class="sxs-lookup"><span data-stu-id="48395-173">At this point you can be sure that the sender had access to the key and should be granted the rights specified in the policy.</span></span>

<span data-ttu-id="48395-174">Vegye figyelembe, hogy a kódolt erőforrás URI használjon ehhez a művelethez.</span><span class="sxs-lookup"><span data-stu-id="48395-174">Note that you should use the encoded resource URI for this operation.</span></span> <span data-ttu-id="48395-175">Az erőforrás URI azonosítója, amelyhez hozzáférést igényelnek a Service Bus-erőforrás a teljes URI-címe.</span><span class="sxs-lookup"><span data-stu-id="48395-175">The resource URI is the full URI of the Service Bus resource to which access is claimed.</span></span> <span data-ttu-id="48395-176">Például `http://<namespace>.servicebus.windows.net/<entityPath>` vagy `sb://<namespace>.servicebus.windows.net/<entityPath>`; Ez azt jelenti, hogy `http://contoso.servicebus.windows.net/contosoTopics/T1/Subscriptions/S3`.</span><span class="sxs-lookup"><span data-stu-id="48395-176">For example, `http://<namespace>.servicebus.windows.net/<entityPath>` or `sb://<namespace>.servicebus.windows.net/<entityPath>`; that is, `http://contoso.servicebus.windows.net/contosoTopics/T1/Subscriptions/S3`.</span></span>

<span data-ttu-id="48395-177">Az entitás ezt az URI, vagy egyik szülőobjektumtól hierarchikus által az aláíráshoz használt megosztott hozzáférési engedélyezési szabály kell konfigurálni.</span><span class="sxs-lookup"><span data-stu-id="48395-177">The shared access authorization rule used for signing must be configured on the entity specified by this URI, or by one of its hierarchical parents.</span></span> <span data-ttu-id="48395-178">Például `http://contoso.servicebus.windows.net/contosoTopics/T1` vagy `http://contoso.servicebus.windows.net` az előző példában.</span><span class="sxs-lookup"><span data-stu-id="48395-178">For example, `http://contoso.servicebus.windows.net/contosoTopics/T1` or `http://contoso.servicebus.windows.net` in the previous example.</span></span>

<span data-ttu-id="48395-179">A SAS-jogkivonat esetén érvényes tartozó összes erőforrást a `<resourceURI>` szerepel a `signature-string`.</span><span class="sxs-lookup"><span data-stu-id="48395-179">A SAS token is valid for all resources under the `<resourceURI>` used in the `signature-string`.</span></span>

<span data-ttu-id="48395-180">A [kulcsnév](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_KeyName) a SAS tokent hivatkozik a **kulcsnév** a közös hozzáférésű engedélyezési szabály a jogkivonat létrehozásához használt.</span><span class="sxs-lookup"><span data-stu-id="48395-180">The [KeyName](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_KeyName) in the SAS token refers to the **keyName** of the shared access authorization rule used to generate the token.</span></span>

<span data-ttu-id="48395-181">A *URL-kódolású-resourceURI* az URI-azonosítóként használt karakterlánc-aláírása során az aláírás számítási azonosnak kell lennie.</span><span class="sxs-lookup"><span data-stu-id="48395-181">The *URL-encoded-resourceURI* must be the same as the URI used in the string-to-sign during the computation of the signature.</span></span> <span data-ttu-id="48395-182">Meg kell [százalék-kódolású](https://msdn.microsoft.com/library/4fkewx0t.aspx).</span><span class="sxs-lookup"><span data-stu-id="48395-182">It should be [percent-encoded](https://msdn.microsoft.com/library/4fkewx0t.aspx).</span></span>

<span data-ttu-id="48395-183">A használt kulcsok rendszeres újragenerálása ajánlott a [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) objektum.</span><span class="sxs-lookup"><span data-stu-id="48395-183">It is recommended that you periodically regenerate the keys used in the [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) object.</span></span> <span data-ttu-id="48395-184">Alkalmazások általában kell használnia a [PrimaryKey](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_PrimaryKey) SAS-token létrehozásához.</span><span class="sxs-lookup"><span data-stu-id="48395-184">Applications should generally use the [PrimaryKey](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_PrimaryKey) to generate a SAS token.</span></span> <span data-ttu-id="48395-185">Ha a kulcsok újragenerálása, le kell cserélni a [másodlagos kulcs](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_SecondaryKey) a régi elsődleges kulcs, és hozzon létre egy új kulcsot az új elsődleges kulcsként.</span><span class="sxs-lookup"><span data-stu-id="48395-185">When regenerating the keys, you should replace the [SecondaryKey](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_SecondaryKey) with the old primary key, and generate a new key as the new primary key.</span></span> <span data-ttu-id="48395-186">Ez lehetővé teszi, hogy folytatja a tokenek használatára a hitelesítéshez, amely a régi elsődleges kulccsal rendelkező adtak, és még nem lejárt.</span><span class="sxs-lookup"><span data-stu-id="48395-186">This enables you to continue using tokens for authorization that were issued with the old primary key, and that have not yet expired.</span></span>

<span data-ttu-id="48395-187">Ha a kulcs biztonsága sérül, és, hogy a kulcsok visszavonása, egyaránt helyreállíthatók a [PrimaryKey](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_PrimaryKey) és a [másodlagos kulcs](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_SecondaryKey) , egy [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule), majd cserélje Ezeket az új kulcsokkal.</span><span class="sxs-lookup"><span data-stu-id="48395-187">If a key is compromised and you have to revoke the keys, you can regenerate both the [PrimaryKey](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_PrimaryKey) and the [SecondaryKey](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_SecondaryKey) of a [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule), replacing them with new keys.</span></span> <span data-ttu-id="48395-188">Ez az eljárás érvényteleníti összes jogkivonatot a régi kulccsal aláírva.</span><span class="sxs-lookup"><span data-stu-id="48395-188">This procedure invalidates all tokens signed with the old keys.</span></span>

## <a name="how-to-use-shared-access-signature-authentication-with-service-bus"></a><span data-ttu-id="48395-189">A Service Bus közös hozzáférésű Jogosultságkód-hitelesítés használata</span><span class="sxs-lookup"><span data-stu-id="48395-189">How to use Shared Access Signature authentication with Service Bus</span></span>

<span data-ttu-id="48395-190">A következő forgatókönyvek például az engedélyezési szabályok konfigurálása, SAS-tokenje és ügyfél-hitelesítés létrehozását.</span><span class="sxs-lookup"><span data-stu-id="48395-190">The following scenarios include configuration of authorization rules, generation of SAS tokens, and client authorization.</span></span>

<span data-ttu-id="48395-191">A teljes minta a Service Bus-alkalmazás, amely bemutatja a konfigurációs és a SAS engedélyezése, lásd: [közös hozzáférésű Jogosultságkód hitelesítés a Service busszal](http://code.msdn.microsoft.com/Shared-Access-Signature-0a88adf8).</span><span class="sxs-lookup"><span data-stu-id="48395-191">For a full working sample of a Service Bus application that illustrates the configuration and uses SAS authorization, see [Shared Access Signature authentication with Service Bus](http://code.msdn.microsoft.com/Shared-Access-Signature-0a88adf8).</span></span> <span data-ttu-id="48395-192">Kapcsolódó minta azt mutatja be a SAS-engedélyezési szabályok konfigurálva a névterek vagy témakörök biztonságossá tételéhez a Service Bus-előfizetések használatát érhető el itt: [használatával közös hozzáférésű Jogosultságkód (SAS) hitelesítés a Service Bus előfizetések](http://code.msdn.microsoft.com/Using-Shared-Access-e605b37c).</span><span class="sxs-lookup"><span data-stu-id="48395-192">A related sample that illustrates the use of SAS authorization rules configured on namespaces or topics to secure Service Bus subscriptions is available here: [Using Shared Access Signature (SAS) authentication with Service Bus Subscriptions](http://code.msdn.microsoft.com/Using-Shared-Access-e605b37c).</span></span>

## <a name="access-shared-access-authorization-rules-on-a-namespace"></a><span data-ttu-id="48395-193">Egy névtér hozzáférés megosztott hozzáférés-engedélyezési szabályok</span><span class="sxs-lookup"><span data-stu-id="48395-193">Access Shared Access Authorization rules on a namespace</span></span>

<span data-ttu-id="48395-194">Műveletek a Service Bus-névtér legfelső szintű tanúsítvány hitelesítés szükséges.</span><span class="sxs-lookup"><span data-stu-id="48395-194">Operations on the Service Bus namespace root require certificate authentication.</span></span> <span data-ttu-id="48395-195">Azure-előfizetése egy felügyeleti tanúsítványt kell feltöltenie.</span><span class="sxs-lookup"><span data-stu-id="48395-195">You must upload a management certificate for your Azure subscription.</span></span> <span data-ttu-id="48395-196">Töltse fel egy felügyeleti tanúsítványra, kövesse a lépéseket [Itt](../cloud-services/cloud-services-configure-ssl-certificate-portal.md#step-3-upload-a-certificate)használatával a [Azure-portálon][Azure portal].</span><span class="sxs-lookup"><span data-stu-id="48395-196">To upload a management certificate, follow the steps [here](../cloud-services/cloud-services-configure-ssl-certificate-portal.md#step-3-upload-a-certificate), using the [Azure portal][Azure portal].</span></span> <span data-ttu-id="48395-197">További információ az Azure felügyeleti tanúsítványokról további információ: a [Azure tanúsítványok – áttekintés](../cloud-services/cloud-services-certs-create.md#what-are-management-certificates).</span><span class="sxs-lookup"><span data-stu-id="48395-197">For more information about Azure management certificates, see the [Azure certificates overview](../cloud-services/cloud-services-certs-create.md#what-are-management-certificates).</span></span>

<span data-ttu-id="48395-198">A végpont közös hozzáférésű engedélyezési szabályok a Service Bus-névtér eléréséhez a következőképpen történik:</span><span class="sxs-lookup"><span data-stu-id="48395-198">The endpoint for accessing shared access authorization rules on a Service Bus namespace is as follows:</span></span>

```http
https://management.core.windows.net/{subscriptionId}/services/ServiceBus/namespaces/{namespace}/AuthorizationRules/
```

<span data-ttu-id="48395-199">Létrehozásához egy [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) a Service Bus-névtér objektumazonosító, a POST műveletet ezen a végponton végrehajtását olyan JSON-vagy XML szerializálni a szabályra vonatkozó információt.</span><span class="sxs-lookup"><span data-stu-id="48395-199">To create a [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) object on a Service Bus namespace, execute a POST operation on this endpoint with the rule information serialized as JSON or XML.</span></span> <span data-ttu-id="48395-200">Példa:</span><span class="sxs-lookup"><span data-stu-id="48395-200">For example:</span></span>

```csharp
// Base address for accessing authorization rules on a namespace
string baseAddress = @"https://management.core.windows.net/<subscriptionId>/services/ServiceBus/namespaces/<namespace>/AuthorizationRules/";

// Configure authorization rule with base64-encoded 256-bit key and Send rights
var sendRule = new SharedAccessAuthorizationRule("contosoSendAll",
    SharedAccessAuthorizationRule.GenerateRandomKey(),
    new[] { AccessRights.Send });

// Operations on the Service Bus namespace root require certificate authentication.
WebRequestHandler handler = new WebRequestHandler
{
    ClientCertificateOptions = ClientCertificateOption.Manual
};
// Access the management certificate by subject name
handler.ClientCertificates.Add(GetCertificate(<certificateSN>));

HttpClient httpClient = new HttpClient(handler)
{
    BaseAddress = new Uri(baseAddress)
};
httpClient.DefaultRequestHeaders.Accept.Add(
    new MediaTypeWithQualityHeaderValue("application/json"));
httpClient.DefaultRequestHeaders.Add("x-ms-version", "2015-01-01");

// Execute a POST operation on the baseAddress above to create an auth rule
var postResult = httpClient.PostAsJsonAsync("", sendRule).Result;
```

<span data-ttu-id="48395-201">Hasonlóképpen a GET műveletet a végpont segítségével olvassa el a névtéren beállított engedélyezési szabályokat.</span><span class="sxs-lookup"><span data-stu-id="48395-201">Similarly, use a GET operation on the endpoint to read the authorization rules configured on the namespace.</span></span>

<span data-ttu-id="48395-202">A frissítés, vagy egy adott engedélyezési szabály törlés, használja a következő végpontot:</span><span class="sxs-lookup"><span data-stu-id="48395-202">To update or delete a specific authorization rule, use the following endpoint:</span></span>

```http
https://management.core.windows.net/{subscriptionId}/services/ServiceBus/namespaces/{namespace}/AuthorizationRules/{KeyName}
```

## <a name="access-shared-access-authorization-rules-on-an-entity"></a><span data-ttu-id="48395-203">Egy entitás hozzáférés megosztott hozzáférés-engedélyezési szabályok</span><span class="sxs-lookup"><span data-stu-id="48395-203">Access Shared Access Authorization rules on an entity</span></span>

<span data-ttu-id="48395-204">Próbál hozzáférni egy [Microsoft.ServiceBus.Messaging.SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) konfigurálva a Service Bus-üzenetsor vagy témakör keresztül objektum a [AuthorizationRules](/dotnet/api/microsoft.servicebus.messaging.authorizationrules) gyűjtemény a megfelelő [QueueDescription](/dotnet/api/microsoft.servicebus.messaging.queuedescription) vagy [TopicDescription](/dotnet/api/microsoft.servicebus.messaging.topicdescription).</span><span class="sxs-lookup"><span data-stu-id="48395-204">You can access a [Microsoft.ServiceBus.Messaging.SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) object configured on a Service Bus queue or topic through the [AuthorizationRules](/dotnet/api/microsoft.servicebus.messaging.authorizationrules) collection in the corresponding [QueueDescription](/dotnet/api/microsoft.servicebus.messaging.queuedescription) or [TopicDescription](/dotnet/api/microsoft.servicebus.messaging.topicdescription).</span></span>

<span data-ttu-id="48395-205">A következő kód bemutatja, hogyan várólista engedélyezési szabályok hozzáadásához.</span><span class="sxs-lookup"><span data-stu-id="48395-205">The following code shows how to add authorization rules for a queue.</span></span>

```csharp
// Create an instance of NamespaceManager for the operation
NamespaceManager nsm = NamespaceManager.CreateFromConnectionString(
    <connectionString> );
QueueDescription qd = new QueueDescription( <qPath> );

// Create a rule with send rights with keyName as "contosoQSendKey"
// and add it to the queue description.
qd.Authorization.Add(new SharedAccessAuthorizationRule("contosoSendKey",
    SharedAccessAuthorizationRule.GenerateRandomKey(),
    new[] { AccessRights.Send }));

// Create a rule with listen rights with keyName as "contosoQListenKey"
// and add it to the queue description.
qd.Authorization.Add(new SharedAccessAuthorizationRule("contosoQListenKey",
    SharedAccessAuthorizationRule.GenerateRandomKey(),
    new[] { AccessRights.Listen }));

// Create a rule with manage rights with keyName as "contosoQManageKey"
// and add it to the queue description.
// A rule with manage rights must also have send and receive rights.
qd.Authorization.Add(new SharedAccessAuthorizationRule("contosoQManageKey",
    SharedAccessAuthorizationRule.GenerateRandomKey(),
    new[] {AccessRights.Manage, AccessRights.Listen, AccessRights.Send }));

// Create the queue.
nsm.CreateQueue(qd);
```

## <a name="use-shared-access-signature-authorization"></a><span data-ttu-id="48395-206">Közös hozzáférésű Jogosultságkód engedélyezési használata</span><span class="sxs-lookup"><span data-stu-id="48395-206">Use Shared Access Signature authorization</span></span>

<span data-ttu-id="48395-207">Alkalmazások az Azure .NET SDK használatával a Service Bus .NET-kódtárakra SAS engedélyezést használhatják a [SharedAccessSignatureTokenProvider](/dotnet/api/microsoft.servicebus.sharedaccesssignaturetokenprovider) osztály.</span><span class="sxs-lookup"><span data-stu-id="48395-207">Applications using the Azure .NET SDK with the Service Bus .NET libraries can use SAS authorization through the [SharedAccessSignatureTokenProvider](/dotnet/api/microsoft.servicebus.sharedaccesssignaturetokenprovider) class.</span></span> <span data-ttu-id="48395-208">Az alábbi kód bemutatja a jogkivonat-szolgáltató egy Service Bus-üzenetsorba küldéséhez használatát.</span><span class="sxs-lookup"><span data-stu-id="48395-208">The following code illustrates the use of the token provider to send messages to a Service Bus queue.</span></span>

```csharp
Uri runtimeUri = ServiceBusEnvironment.CreateServiceUri("sb",
    <yourServiceNamespace>, string.Empty);
MessagingFactory mf = MessagingFactory.Create(runtimeUri,
    TokenProvider.CreateSharedAccessSignatureTokenProvider(keyName, key));
QueueClient sendClient = mf.CreateQueueClient(qPath);

//Sending hello message to queue.
BrokeredMessage helloMessage = new BrokeredMessage("Hello, Service Bus!");
helloMessage.MessageId = "SAS-Sample-Message";
sendClient.Send(helloMessage);
```

<span data-ttu-id="48395-209">Alkalmazások is használható SAS hitelesítési módszereket, amelyek fogadja el a kapcsolati karakterláncok egy SAS-kapcsolati karakterlánc használatával.</span><span class="sxs-lookup"><span data-stu-id="48395-209">Applications can also use SAS for authentication by using a SAS connection string in methods that accept connection strings.</span></span>

<span data-ttu-id="48395-210">Vegye figyelembe, hogy SAS engedélyezési használata a Service Bus-továbbítók, használhatja a Service Bus-névtér konfigurált SAS-kulcsok.</span><span class="sxs-lookup"><span data-stu-id="48395-210">Note that to use SAS authorization with Service Bus relays, you can use SAS keys configured on the Service Bus namespace.</span></span> <span data-ttu-id="48395-211">A névtér explicit módon létrehozott egy továbbítót ([NamespaceManager](/dotnet/api/microsoft.servicebus.namespacemanager) rendelkező egy [RelayDescription](/dotnet/api/microsoft.servicebus.messaging.relaydescription)) objektum is beállíthatja, hogy a továbbító a SAS csak szabályait.</span><span class="sxs-lookup"><span data-stu-id="48395-211">If you explicitly create a relay on the namespace ([NamespaceManager](/dotnet/api/microsoft.servicebus.namespacemanager) with a [RelayDescription](/dotnet/api/microsoft.servicebus.messaging.relaydescription)) object, you can set the SAS rules just for that relay.</span></span> <span data-ttu-id="48395-212">Service Bus-előfizetések az SAS-engedélyezési használja, a Service Bus-névtér és a témakör a SAS-kulcsok is használhat.</span><span class="sxs-lookup"><span data-stu-id="48395-212">To use SAS authorization with Service Bus subscriptions, you can use SAS keys configured on a Service Bus namespace or on a topic.</span></span>

## <a name="use-the-shared-access-signature-at-http-level"></a><span data-ttu-id="48395-213">A közös hozzáférésű Jogosultságkód (HTTP szinten) használata</span><span class="sxs-lookup"><span data-stu-id="48395-213">Use the Shared Access Signature (at HTTP level)</span></span>

<span data-ttu-id="48395-214">Most, hogy tudja, hogyan hozzon létre a megosztott hozzáférési aláírásokkal bármely entitás a Service Bus, készen áll egy HTTP POST elvégzéséhez:</span><span class="sxs-lookup"><span data-stu-id="48395-214">Now that you know how to create Shared Access Signatures for any entities in Service Bus, you are ready to perform an HTTP POST:</span></span>

```http
POST https://<yournamespace>.servicebus.windows.net/<yourentity>/messages
Content-Type: application/json
Authorization: SharedAccessSignature sr=https%3A%2F%2F<yournamespace>.servicebus.windows.net%2F<yourentity>&sig=<yoursignature from code above>&se=1438205742&skn=KeyName
ContentType: application/atom+xml;type=entry;charset=utf-8
``` 

<span data-ttu-id="48395-215">Ne feledje, hogy ez minden működik.</span><span class="sxs-lookup"><span data-stu-id="48395-215">Remember, this works for everything.</span></span> <span data-ttu-id="48395-216">Az üzenetsor, témakör vagy előfizetés SAS hozhat létre.</span><span class="sxs-lookup"><span data-stu-id="48395-216">You can create SAS for a queue, topic, or subscription.</span></span> 

<span data-ttu-id="48395-217">Ha a feladó, vagy az ügyfél egy SAS-jogkivonatot, nem rendelkeznek a kulcs közvetlenül, és azok nem fordított szerezheti be, hogy a kivonat.</span><span class="sxs-lookup"><span data-stu-id="48395-217">If you give a sender or client a SAS token, they don't have the key directly, and they cannot reverse the hash to obtain it.</span></span> <span data-ttu-id="48395-218">Hozzáférése van keresztül mi eléréséhez, és mennyi ideig.</span><span class="sxs-lookup"><span data-stu-id="48395-218">As such, you have control over what they can access, and for how long.</span></span> <span data-ttu-id="48395-219">Egy fontos ne feledje, hogy ha megváltoztatja az elsődleges kulcsot a házirendben, minden megosztott hozzáférési aláírásokkal létre belőle a rendszer érvényteleníti.</span><span class="sxs-lookup"><span data-stu-id="48395-219">An important thing to remember is that if you change the primary key in the policy, any Shared Access Signatures created from it will be invalidated.</span></span>

## <a name="use-the-shared-access-signature-at-amqp-level"></a><span data-ttu-id="48395-220">A közös hozzáférésű Jogosultságkód (AMQP szinten) használata</span><span class="sxs-lookup"><span data-stu-id="48395-220">Use the Shared Access Signature (at AMQP level)</span></span>

<span data-ttu-id="48395-221">Az előző szakaszban megtudhatta, hogyan használható a SAS-jogkivonat HTTP POST-kérelmet a adatokat küldeni a Service Bus.</span><span class="sxs-lookup"><span data-stu-id="48395-221">In the previous section, you saw how to use the SAS token with an HTTP POST request for sending data to the Service Bus.</span></span> <span data-ttu-id="48395-222">Tudja, mint a speciális Message Queuing protokoll (AMQP), amely az előnyben részesített teljesítményének javítására szolgál, számos forgatókönyvben használandó protokoll használatával a Service Bus végezheti el.</span><span class="sxs-lookup"><span data-stu-id="48395-222">As you know, you can access Service Bus using the Advanced Message Queuing Protocol (AMQP) that is the preferred protocol to use for performance reasons, in many scenarios.</span></span> <span data-ttu-id="48395-223">A SAS-token használatát a AMQP a dokumentumban ismertetett [AMQP Claim-Based biztonsági 1.0-s verziójának](https://www.oasis-open.org/committees/download.php/50506/amqp-cbs-v1%200-wd02%202013-08-12.doc) , amely a munkát vázlat 2013 jól támogatott az Azure-ban, de még ma óta.</span><span class="sxs-lookup"><span data-stu-id="48395-223">The SAS token usage with AMQP is described in the document [AMQP Claim-Based Security Version 1.0](https://www.oasis-open.org/committees/download.php/50506/amqp-cbs-v1%200-wd02%202013-08-12.doc) that is in working draft since 2013 but well-supported by Azure today.</span></span>

<span data-ttu-id="48395-224">Szeretnék adatokat küldeni a Service Bus megkezdése előtt a közzétevő kell küldenie a SAS-jogkivonat egy AMQP Kivételüzenet egy jól meghatározott AMQP csomópontot **$cbs** (tekintheti meg a beszerzést, mind a SAS ellenőrzése a szolgáltatás által használt "speciális" várólista jogkivonatok).</span><span class="sxs-lookup"><span data-stu-id="48395-224">Before starting to send data to Service Bus, the publisher must send the SAS token inside an AMQP message to a well-defined AMQP node named **$cbs** (you can see it as a "special" queue used by the service to acquire and validate all the SAS tokens).</span></span> <span data-ttu-id="48395-225">A közzétevő meg kell adnia a **ReplyTo** az AMQP Kivételüzenet mezőben; ez a csomópont, amelyben a szolgáltatás adott válaszok a közzétevő a jogkivonatok érvényesség-ellenőrzése (egyszerű kérelem/válasz mintát közzétevő és a szolgáltatás között eredménye ).</span><span class="sxs-lookup"><span data-stu-id="48395-225">The publisher must specify the **ReplyTo** field inside the AMQP message; this is the node in which the service replies to the publisher with the result of the token validation (a simple request/reply pattern between publisher and service).</span></span> <span data-ttu-id="48395-226">Létrejön a válasz csomópont "a parancsprogramok," "távoli csomópont dinamikus létrehozása" beszéd az AMQP 1.0-specifikáció szerint.</span><span class="sxs-lookup"><span data-stu-id="48395-226">This reply node is created "on the fly," speaking about "dynamic creation of remote node" as described by the AMQP 1.0 specification.</span></span> <span data-ttu-id="48395-227">A SAS-jogkivonat érvényességének ellenőrzése után a közzétevő haladni, és adatokat küldeni a szolgáltatás indítása.</span><span class="sxs-lookup"><span data-stu-id="48395-227">After checking that the SAS token is valid, the publisher can go forward and start to send data to the service.</span></span>

<span data-ttu-id="48395-228">A következő lépések bemutatják, hogyan küldhet a SAS-jogkivonat AMQP protokoll használatát a [AMQP.Net Lite](https://github.com/Azure/amqpnetlite) könyvtár.</span><span class="sxs-lookup"><span data-stu-id="48395-228">The following steps show how to send the SAS token with AMQP protocol using the [AMQP.Net Lite](https://github.com/Azure/amqpnetlite) library.</span></span> <span data-ttu-id="48395-229">Ez akkor hasznos, ha nem használja a hivatalos Service Bus SDK (például a WinRT, .net Compact Framework, a .net keretrendszer Micro és monó) c. fejlesztése\#.</span><span class="sxs-lookup"><span data-stu-id="48395-229">This is useful if you can't use the official Service Bus SDK (for example on WinRT, .Net Compact Framework, .Net Micro Framework and Mono) developing in C\#.</span></span> <span data-ttu-id="48395-230">Természetesen a szalagtár akkor hasznos, annak megértésében, hogyan jogcímalapú biztonsági az AMQP szinten működik, mint megtudhatta, hogyan működik (a HTTP POST-kérelmet, és a SAS-jogkivonat belül az "Engedélyezés" fejléc küldése) HTTP szinten.</span><span class="sxs-lookup"><span data-stu-id="48395-230">Of course, this library is useful to help understand how claims-based security works at the AMQP level, as you saw how it works at the HTTP level (with an HTTP POST request and the SAS token sent inside the "Authorization" header).</span></span> <span data-ttu-id="48395-231">Ha nem kívánja ilyen AMQP átfogó ismerete, a hivatalos Service Bus SDK használhatja a .net Framework alkalmazások, amelyek fog ő elvégezze ezt.</span><span class="sxs-lookup"><span data-stu-id="48395-231">If you don't need such deep knowledge about AMQP, you can use the official Service Bus SDK with .Net Framework applications, which will do it for you.</span></span>

### <a name="c35"></a><span data-ttu-id="48395-232">C&#35;</span><span class="sxs-lookup"><span data-stu-id="48395-232">C&#35;</span></span>

```csharp
/// <summary>
/// Send claim-based security (CBS) token
/// </summary>
/// <param name="shareAccessSignature">Shared access signature (token) to send</param>
private bool PutCbsToken(Connection connection, string sasToken)
{
    bool result = true;
    Session session = new Session(connection);

    string cbsClientAddress = "cbs-client-reply-to";
    var cbsSender = new SenderLink(session, "cbs-sender", "$cbs");
    var cbsReceiver = new ReceiverLink(session, cbsClientAddress, "$cbs");

    // construct the put-token message
    var request = new Message(sasToken);
    request.Properties = new Properties();
    request.Properties.MessageId = Guid.NewGuid().ToString();
    request.Properties.ReplyTo = cbsClientAddress;
    request.ApplicationProperties = new ApplicationProperties();
    request.ApplicationProperties["operation"] = "put-token";
    request.ApplicationProperties["type"] = "servicebus.windows.net:sastoken";
    request.ApplicationProperties["name"] = Fx.Format("amqp://{0}/{1}", sbNamespace, entity);
    cbsSender.Send(request);

    // receive the response
    var response = cbsReceiver.Receive();
    if (response == null || response.Properties == null || response.ApplicationProperties == null)
    {
        result = false;
    }
    else
    {
        int statusCode = (int)response.ApplicationProperties["status-code"];
        if (statusCode != (int)HttpStatusCode.Accepted && statusCode != (int)HttpStatusCode.OK)
        {
            result = false;
        }
    }

    // the sender/receiver may be kept open for refreshing tokens
    cbsSender.Close();
    cbsReceiver.Close();
    session.Close();

    return result;
}
```

<span data-ttu-id="48395-233">A `PutCbsToken()` metódus kap a *kapcsolat* (AMQP kapcsolat osztálypéldány által biztosított a [AMQP .NET Lite könyvtár](https://github.com/Azure/amqpnetlite)), amely a TCP-kapcsolatot jelenti. a szolgáltatás és a *sasToken* paraméter, amely a SAS-token küldeni.</span><span class="sxs-lookup"><span data-stu-id="48395-233">The `PutCbsToken()` method receives the *connection* (AMQP connection class instance as provided by the [AMQP .NET Lite library](https://github.com/Azure/amqpnetlite)) that represents the TCP connection to the service and the *sasToken* parameter that is the SAS token to send.</span></span> 

> [!NOTE]
> <span data-ttu-id="48395-234">Fontos, hogy a kapcsolat létrejött-e a **SASL hitelesítési módszer beállítása külső** (és nem az alapértelmezett egyszerű, ha már nincs szükség a SAS-jogkivonat küldéséhez használt felhasználónév és jelszó).</span><span class="sxs-lookup"><span data-stu-id="48395-234">It's important that the connection is created with **SASL authentication mechanism set to EXTERNAL** (and not the default PLAIN with username and password used when you don't need to send the SAS token).</span></span>
> 
> 

<span data-ttu-id="48395-235">Ezután a közzétevő két AMQP hivatkozásokat hoz küldését a SAS-jogkivonatot, és kezelőtéglától érkezett a szolgáltatás a válasz (a token érvényességi eredmény).</span><span class="sxs-lookup"><span data-stu-id="48395-235">Next, the publisher creates two AMQP links for sending the SAS token and receiving the reply (the token validation result) from the service.</span></span>

<span data-ttu-id="48395-236">Az AMQP üzenet tulajdonságait, és egy egyszerű üzenet több információt tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="48395-236">The AMQP message contains a set of properties, and more information than a simple message.</span></span> <span data-ttu-id="48395-237">A SAS-jogkivonat neve (a saját konstruktoraikban használatával) az üzenet törzsét.</span><span class="sxs-lookup"><span data-stu-id="48395-237">The SAS token is the body of the message (using its constructor).</span></span> <span data-ttu-id="48395-238">A **"ReplyTo"** tulajdonsága a csomópont neve (módosíthatja a nevét, és a szolgáltatás által dinamikusan létrejön) fogadó hivatkozásra az ellenőrzési eredmény fogadására.</span><span class="sxs-lookup"><span data-stu-id="48395-238">The **"ReplyTo"** property is set to the node name for receiving the validation result on the receiver link (you can change its name if you want, and it will be created dynamically by the service).</span></span> <span data-ttu-id="48395-239">Az utolsó három alkalmazáshoz vagy egyéni tulajdonságok a szolgáltatást használják annak jelzésére, hogy milyen műveletet tartalmaz végrehajtásához.</span><span class="sxs-lookup"><span data-stu-id="48395-239">The last three application/custom properties are used by the service to indicate what kind of operation it has to execute.</span></span> <span data-ttu-id="48395-240">A CBS-től vázlat specifikáció szerint, fel kell a **műveletnév** ("put-token"), a **jogkivonattípusnak** (az ebben az esetben a "servicebus.windows.net:sastoken"), és a **"neve" a célközönség** , amelyhez a token (a teljes entitás) érvényes.</span><span class="sxs-lookup"><span data-stu-id="48395-240">As described by the CBS draft specification, they must be the **operation name** ("put-token"), the **type of token** (in this case, a "servicebus.windows.net:sastoken"), and the **"name" of the audience** to which the token applies (the entire entity).</span></span>

<span data-ttu-id="48395-241">A közzétevő után küld a SAS-jogkivonat a küldő hivatkozásra, olvasási kell a válasz a fogadó hivatkozásra.</span><span class="sxs-lookup"><span data-stu-id="48395-241">After sending the SAS token on the sender link, the publisher must read the reply on the receiver link.</span></span> <span data-ttu-id="48395-242">A válasz az egy egyszerű AMQP üzenet és nevű alkalmazás tulajdonsága **"állapot-kód"** , amelyek a HTTP-állapotkódot konfigurációjával megegyező értékeket tartalmazhat.</span><span class="sxs-lookup"><span data-stu-id="48395-242">The reply is a simple AMQP message with an application property named **"status-code"** that can contain the same values as an HTTP status code.</span></span>

## <a name="rights-required-for-service-bus-operations"></a><span data-ttu-id="48395-243">A Service Bus műveletekhez szükséges jogok</span><span class="sxs-lookup"><span data-stu-id="48395-243">Rights required for Service Bus operations</span></span>

<span data-ttu-id="48395-244">A következő táblázat a különféle műveletek a Service Bus erőforrásainak szükséges hozzáférési jogok.</span><span class="sxs-lookup"><span data-stu-id="48395-244">The following table shows the access rights required for various operations on Service Bus resources.</span></span>

| <span data-ttu-id="48395-245">Művelet</span><span class="sxs-lookup"><span data-stu-id="48395-245">Operation</span></span> | <span data-ttu-id="48395-246">Jogcím szükséges</span><span class="sxs-lookup"><span data-stu-id="48395-246">Claim Required</span></span> | <span data-ttu-id="48395-247">Jogcím-hatókör</span><span class="sxs-lookup"><span data-stu-id="48395-247">Claim Scope</span></span> |
| --- | --- | --- |
| <span data-ttu-id="48395-248">**Namespace**</span><span class="sxs-lookup"><span data-stu-id="48395-248">**Namespace**</span></span> | | |
| <span data-ttu-id="48395-249">A névtér engedélyezési szabály konfigurálása</span><span class="sxs-lookup"><span data-stu-id="48395-249">Configure authorization rule on a namespace</span></span> |<span data-ttu-id="48395-250">Kezelés</span><span class="sxs-lookup"><span data-stu-id="48395-250">Manage</span></span> |<span data-ttu-id="48395-251">Minden névtér cím</span><span class="sxs-lookup"><span data-stu-id="48395-251">Any namespace address</span></span> |
| <span data-ttu-id="48395-252">**Szolgáltatás-beállításjegyzék**</span><span class="sxs-lookup"><span data-stu-id="48395-252">**Service Registry**</span></span> | | |
| <span data-ttu-id="48395-253">Magánfelhő házirendek felsorolása</span><span class="sxs-lookup"><span data-stu-id="48395-253">Enumerate Private Policies</span></span> |<span data-ttu-id="48395-254">Kezelés</span><span class="sxs-lookup"><span data-stu-id="48395-254">Manage</span></span> |<span data-ttu-id="48395-255">Minden névtér cím</span><span class="sxs-lookup"><span data-stu-id="48395-255">Any namespace address</span></span> |
| <span data-ttu-id="48395-256">A névtér figyelését</span><span class="sxs-lookup"><span data-stu-id="48395-256">Begin listening on a namespace</span></span> |<span data-ttu-id="48395-257">Figyelés</span><span class="sxs-lookup"><span data-stu-id="48395-257">Listen</span></span> |<span data-ttu-id="48395-258">Minden névtér cím</span><span class="sxs-lookup"><span data-stu-id="48395-258">Any namespace address</span></span> |
| <span data-ttu-id="48395-259">Üzenetek küldése egy névtérben figyelő</span><span class="sxs-lookup"><span data-stu-id="48395-259">Send messages to a listener at a namespace</span></span> |<span data-ttu-id="48395-260">Küldés</span><span class="sxs-lookup"><span data-stu-id="48395-260">Send</span></span> |<span data-ttu-id="48395-261">Minden névtér cím</span><span class="sxs-lookup"><span data-stu-id="48395-261">Any namespace address</span></span> |
| <span data-ttu-id="48395-262">**Várólista**</span><span class="sxs-lookup"><span data-stu-id="48395-262">**Queue**</span></span> | | |
| <span data-ttu-id="48395-263">Üzenetsor létrehozása</span><span class="sxs-lookup"><span data-stu-id="48395-263">Create a queue</span></span> |<span data-ttu-id="48395-264">Kezelés</span><span class="sxs-lookup"><span data-stu-id="48395-264">Manage</span></span> |<span data-ttu-id="48395-265">Minden névtér cím</span><span class="sxs-lookup"><span data-stu-id="48395-265">Any namespace address</span></span> |
| <span data-ttu-id="48395-266">Üzenetsor törlése</span><span class="sxs-lookup"><span data-stu-id="48395-266">Delete a queue</span></span> |<span data-ttu-id="48395-267">Kezelés</span><span class="sxs-lookup"><span data-stu-id="48395-267">Manage</span></span> |<span data-ttu-id="48395-268">Bármilyen érvényes várósor címe</span><span class="sxs-lookup"><span data-stu-id="48395-268">Any valid queue address</span></span> |
| <span data-ttu-id="48395-269">A várólisták számbavétele</span><span class="sxs-lookup"><span data-stu-id="48395-269">Enumerate queues</span></span> |<span data-ttu-id="48395-270">Kezelés</span><span class="sxs-lookup"><span data-stu-id="48395-270">Manage</span></span> |<span data-ttu-id="48395-271">$ Erőforrások/várólisták</span><span class="sxs-lookup"><span data-stu-id="48395-271">/$Resources/Queues</span></span> |
| <span data-ttu-id="48395-272">A várólista leírás beolvasása</span><span class="sxs-lookup"><span data-stu-id="48395-272">Get the queue description</span></span> |<span data-ttu-id="48395-273">Kezelés</span><span class="sxs-lookup"><span data-stu-id="48395-273">Manage</span></span> |<span data-ttu-id="48395-274">Bármilyen érvényes várósor címe</span><span class="sxs-lookup"><span data-stu-id="48395-274">Any valid queue address</span></span> |
| <span data-ttu-id="48395-275">A várólisták engedélyezési szabály konfigurálása</span><span class="sxs-lookup"><span data-stu-id="48395-275">Configure authorization rule for a queue</span></span> |<span data-ttu-id="48395-276">Kezelés</span><span class="sxs-lookup"><span data-stu-id="48395-276">Manage</span></span> |<span data-ttu-id="48395-277">Bármilyen érvényes várósor címe</span><span class="sxs-lookup"><span data-stu-id="48395-277">Any valid queue address</span></span> |
| <span data-ttu-id="48395-278">Történő küldése az üzenetsorba</span><span class="sxs-lookup"><span data-stu-id="48395-278">Send into to the queue</span></span> |<span data-ttu-id="48395-279">Küldés</span><span class="sxs-lookup"><span data-stu-id="48395-279">Send</span></span> |<span data-ttu-id="48395-280">Bármilyen érvényes várósor címe</span><span class="sxs-lookup"><span data-stu-id="48395-280">Any valid queue address</span></span> |
| <span data-ttu-id="48395-281">Üzenetek fogadása egy üzenetsorból</span><span class="sxs-lookup"><span data-stu-id="48395-281">Receive messages from a queue</span></span> |<span data-ttu-id="48395-282">Figyelés</span><span class="sxs-lookup"><span data-stu-id="48395-282">Listen</span></span> |<span data-ttu-id="48395-283">Bármilyen érvényes várósor címe</span><span class="sxs-lookup"><span data-stu-id="48395-283">Any valid queue address</span></span> |
| <span data-ttu-id="48395-284">Szakítsa vagy üzenetek befejezése után az üzenetet kapta a betekintés-zárolási mód</span><span class="sxs-lookup"><span data-stu-id="48395-284">Abandon or complete messages after receiving the message in peek-lock mode</span></span> |<span data-ttu-id="48395-285">Figyelés</span><span class="sxs-lookup"><span data-stu-id="48395-285">Listen</span></span> |<span data-ttu-id="48395-286">Bármilyen érvényes várósor címe</span><span class="sxs-lookup"><span data-stu-id="48395-286">Any valid queue address</span></span> |
| <span data-ttu-id="48395-287">Késlelteti a későbbi beolvasásához üzenet</span><span class="sxs-lookup"><span data-stu-id="48395-287">Defer a message for later retrieval</span></span> |<span data-ttu-id="48395-288">Figyelés</span><span class="sxs-lookup"><span data-stu-id="48395-288">Listen</span></span> |<span data-ttu-id="48395-289">Bármilyen érvényes várósor címe</span><span class="sxs-lookup"><span data-stu-id="48395-289">Any valid queue address</span></span> |
| <span data-ttu-id="48395-290">Kézbesítetlen levelek üzenet</span><span class="sxs-lookup"><span data-stu-id="48395-290">Deadletter a message</span></span> |<span data-ttu-id="48395-291">Figyelés</span><span class="sxs-lookup"><span data-stu-id="48395-291">Listen</span></span> |<span data-ttu-id="48395-292">Bármilyen érvényes várósor címe</span><span class="sxs-lookup"><span data-stu-id="48395-292">Any valid queue address</span></span> |
| <span data-ttu-id="48395-293">Az állapot, egy üzenet-várólista munkamenethez társított beolvasása</span><span class="sxs-lookup"><span data-stu-id="48395-293">Get the state associated with a message queue session</span></span> |<span data-ttu-id="48395-294">Figyelés</span><span class="sxs-lookup"><span data-stu-id="48395-294">Listen</span></span> |<span data-ttu-id="48395-295">Bármilyen érvényes várósor címe</span><span class="sxs-lookup"><span data-stu-id="48395-295">Any valid queue address</span></span> |
| <span data-ttu-id="48395-296">Állítsa be a üzenet-várólista munkamenethez tartozó állapotát</span><span class="sxs-lookup"><span data-stu-id="48395-296">Set the state associated with a message queue session</span></span> |<span data-ttu-id="48395-297">Figyelés</span><span class="sxs-lookup"><span data-stu-id="48395-297">Listen</span></span> |<span data-ttu-id="48395-298">Bármilyen érvényes várósor címe</span><span class="sxs-lookup"><span data-stu-id="48395-298">Any valid queue address</span></span> |
| <span data-ttu-id="48395-299">**A témakör**</span><span class="sxs-lookup"><span data-stu-id="48395-299">**Topic**</span></span> | | |
| <span data-ttu-id="48395-300">Üzenettémakör létrehozása</span><span class="sxs-lookup"><span data-stu-id="48395-300">Create a topic</span></span> |<span data-ttu-id="48395-301">Kezelés</span><span class="sxs-lookup"><span data-stu-id="48395-301">Manage</span></span> |<span data-ttu-id="48395-302">Minden névtér cím</span><span class="sxs-lookup"><span data-stu-id="48395-302">Any namespace address</span></span> |
| <span data-ttu-id="48395-303">Egy témakör törlése</span><span class="sxs-lookup"><span data-stu-id="48395-303">Delete a topic</span></span> |<span data-ttu-id="48395-304">Kezelés</span><span class="sxs-lookup"><span data-stu-id="48395-304">Manage</span></span> |<span data-ttu-id="48395-305">Bármilyen érvényes témakör cím</span><span class="sxs-lookup"><span data-stu-id="48395-305">Any valid topic address</span></span> |
| <span data-ttu-id="48395-306">Témakörök számbavétele</span><span class="sxs-lookup"><span data-stu-id="48395-306">Enumerate topics</span></span> |<span data-ttu-id="48395-307">Kezelés</span><span class="sxs-lookup"><span data-stu-id="48395-307">Manage</span></span> |<span data-ttu-id="48395-308">$ Erőforrások/kapcsolatos témakörök</span><span class="sxs-lookup"><span data-stu-id="48395-308">/$Resources/Topics</span></span> |
| <span data-ttu-id="48395-309">A témakör leírás beolvasása</span><span class="sxs-lookup"><span data-stu-id="48395-309">Get the topic description</span></span> |<span data-ttu-id="48395-310">Kezelés</span><span class="sxs-lookup"><span data-stu-id="48395-310">Manage</span></span> |<span data-ttu-id="48395-311">Bármilyen érvényes témakör cím</span><span class="sxs-lookup"><span data-stu-id="48395-311">Any valid topic address</span></span> |
| <span data-ttu-id="48395-312">A témakör az engedélyezési szabály konfigurálása</span><span class="sxs-lookup"><span data-stu-id="48395-312">Configure authorization rule for a topic</span></span> |<span data-ttu-id="48395-313">Kezelés</span><span class="sxs-lookup"><span data-stu-id="48395-313">Manage</span></span> |<span data-ttu-id="48395-314">Bármilyen érvényes témakör cím</span><span class="sxs-lookup"><span data-stu-id="48395-314">Any valid topic address</span></span> |
| <span data-ttu-id="48395-315">A témakör küldése</span><span class="sxs-lookup"><span data-stu-id="48395-315">Send to the topic</span></span> |<span data-ttu-id="48395-316">Küldés</span><span class="sxs-lookup"><span data-stu-id="48395-316">Send</span></span> |<span data-ttu-id="48395-317">Bármilyen érvényes témakör cím</span><span class="sxs-lookup"><span data-stu-id="48395-317">Any valid topic address</span></span> |
| <span data-ttu-id="48395-318">**Előfizetés**</span><span class="sxs-lookup"><span data-stu-id="48395-318">**Subscription**</span></span> | | |
| <span data-ttu-id="48395-319">Előfizetés létrehozása</span><span class="sxs-lookup"><span data-stu-id="48395-319">Create a subscription</span></span> |<span data-ttu-id="48395-320">Kezelés</span><span class="sxs-lookup"><span data-stu-id="48395-320">Manage</span></span> |<span data-ttu-id="48395-321">Minden névtér cím</span><span class="sxs-lookup"><span data-stu-id="48395-321">Any namespace address</span></span> |
| <span data-ttu-id="48395-322">Előfizetés törlése</span><span class="sxs-lookup"><span data-stu-id="48395-322">Delete subscription</span></span> |<span data-ttu-id="48395-323">Kezelés</span><span class="sxs-lookup"><span data-stu-id="48395-323">Manage</span></span> |<span data-ttu-id="48395-324">.. /myTopic/Subscriptions/mySubscription</span><span class="sxs-lookup"><span data-stu-id="48395-324">../myTopic/Subscriptions/mySubscription</span></span> |
| <span data-ttu-id="48395-325">Előfizetések számbavétele</span><span class="sxs-lookup"><span data-stu-id="48395-325">Enumerate subscriptions</span></span> |<span data-ttu-id="48395-326">Kezelés</span><span class="sxs-lookup"><span data-stu-id="48395-326">Manage</span></span> |<span data-ttu-id="48395-327">.. / myTopic/előfizetések</span><span class="sxs-lookup"><span data-stu-id="48395-327">../myTopic/Subscriptions</span></span> |
| <span data-ttu-id="48395-328">Előfizetés leírását beolvasása</span><span class="sxs-lookup"><span data-stu-id="48395-328">Get subscription description</span></span> |<span data-ttu-id="48395-329">Kezelés</span><span class="sxs-lookup"><span data-stu-id="48395-329">Manage</span></span> |<span data-ttu-id="48395-330">.. /myTopic/Subscriptions/mySubscription</span><span class="sxs-lookup"><span data-stu-id="48395-330">../myTopic/Subscriptions/mySubscription</span></span> |
| <span data-ttu-id="48395-331">Szakítsa vagy üzenetek befejezése után az üzenetet kapta a betekintés-zárolási mód</span><span class="sxs-lookup"><span data-stu-id="48395-331">Abandon or complete messages after receiving the message in peek-lock mode</span></span> |<span data-ttu-id="48395-332">Figyelés</span><span class="sxs-lookup"><span data-stu-id="48395-332">Listen</span></span> |<span data-ttu-id="48395-333">.. /myTopic/Subscriptions/mySubscription</span><span class="sxs-lookup"><span data-stu-id="48395-333">../myTopic/Subscriptions/mySubscription</span></span> |
| <span data-ttu-id="48395-334">Késlelteti a későbbi beolvasásához üzenet</span><span class="sxs-lookup"><span data-stu-id="48395-334">Defer a message for later retrieval</span></span> |<span data-ttu-id="48395-335">Figyelés</span><span class="sxs-lookup"><span data-stu-id="48395-335">Listen</span></span> |<span data-ttu-id="48395-336">.. /myTopic/Subscriptions/mySubscription</span><span class="sxs-lookup"><span data-stu-id="48395-336">../myTopic/Subscriptions/mySubscription</span></span> |
| <span data-ttu-id="48395-337">Kézbesítetlen levelek üzenet</span><span class="sxs-lookup"><span data-stu-id="48395-337">Deadletter a message</span></span> |<span data-ttu-id="48395-338">Figyelés</span><span class="sxs-lookup"><span data-stu-id="48395-338">Listen</span></span> |<span data-ttu-id="48395-339">.. /myTopic/Subscriptions/mySubscription</span><span class="sxs-lookup"><span data-stu-id="48395-339">../myTopic/Subscriptions/mySubscription</span></span> |
| <span data-ttu-id="48395-340">A témakör munkamenethez tartozó állapot beolvasása</span><span class="sxs-lookup"><span data-stu-id="48395-340">Get the state associated with a topic session</span></span> |<span data-ttu-id="48395-341">Figyelés</span><span class="sxs-lookup"><span data-stu-id="48395-341">Listen</span></span> |<span data-ttu-id="48395-342">.. /myTopic/Subscriptions/mySubscription</span><span class="sxs-lookup"><span data-stu-id="48395-342">../myTopic/Subscriptions/mySubscription</span></span> |
| <span data-ttu-id="48395-343">A témakör munkamenethez tartozó állapot beállítása</span><span class="sxs-lookup"><span data-stu-id="48395-343">Set the state associated with a topic session</span></span> |<span data-ttu-id="48395-344">Figyelés</span><span class="sxs-lookup"><span data-stu-id="48395-344">Listen</span></span> |<span data-ttu-id="48395-345">.. /myTopic/Subscriptions/mySubscription</span><span class="sxs-lookup"><span data-stu-id="48395-345">../myTopic/Subscriptions/mySubscription</span></span> |
| <span data-ttu-id="48395-346">**Szabályok**</span><span class="sxs-lookup"><span data-stu-id="48395-346">**Rules**</span></span> | | |
| <span data-ttu-id="48395-347">Szabály létrehozása</span><span class="sxs-lookup"><span data-stu-id="48395-347">Create a rule</span></span> |<span data-ttu-id="48395-348">Kezelés</span><span class="sxs-lookup"><span data-stu-id="48395-348">Manage</span></span> |<span data-ttu-id="48395-349">.. /myTopic/Subscriptions/mySubscription</span><span class="sxs-lookup"><span data-stu-id="48395-349">../myTopic/Subscriptions/mySubscription</span></span> |
| <span data-ttu-id="48395-350">Szabály törlése</span><span class="sxs-lookup"><span data-stu-id="48395-350">Delete a rule</span></span> |<span data-ttu-id="48395-351">Kezelés</span><span class="sxs-lookup"><span data-stu-id="48395-351">Manage</span></span> |<span data-ttu-id="48395-352">.. /myTopic/Subscriptions/mySubscription</span><span class="sxs-lookup"><span data-stu-id="48395-352">../myTopic/Subscriptions/mySubscription</span></span> |
| <span data-ttu-id="48395-353">Szabályok számbavétele</span><span class="sxs-lookup"><span data-stu-id="48395-353">Enumerate rules</span></span> |<span data-ttu-id="48395-354">Kezelése vagy figyelésére</span><span class="sxs-lookup"><span data-stu-id="48395-354">Manage or Listen</span></span> |<span data-ttu-id="48395-355">.. /myTopic/Subscriptions/mySubscription/Rules</span><span class="sxs-lookup"><span data-stu-id="48395-355">../myTopic/Subscriptions/mySubscription/Rules</span></span> 

## <a name="next-steps"></a><span data-ttu-id="48395-356">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="48395-356">Next steps</span></span>

<span data-ttu-id="48395-357">A Service Bus üzenetkezelésről az alábbi témakörökben találhat további információkat.</span><span class="sxs-lookup"><span data-stu-id="48395-357">To learn more about Service Bus messaging, see the following topics.</span></span>

* [<span data-ttu-id="48395-358">A Service Bus alapjai</span><span class="sxs-lookup"><span data-stu-id="48395-358">Service Bus fundamentals</span></span>](service-bus-fundamentals-hybrid-solutions.md)
* [<span data-ttu-id="48395-359">Service Bus-üzenetsorok, -témakörök és -előfizetések</span><span class="sxs-lookup"><span data-stu-id="48395-359">Service Bus queues, topics, and subscriptions</span></span>](service-bus-queues-topics-subscriptions.md)
* [<span data-ttu-id="48395-360">A Service Bus-üzenetsorok használata</span><span class="sxs-lookup"><span data-stu-id="48395-360">How to use Service Bus queues</span></span>](service-bus-dotnet-get-started-with-queues.md)
* [<span data-ttu-id="48395-361">A Service Bus-üzenettémakörök és -előfizetések használata</span><span class="sxs-lookup"><span data-stu-id="48395-361">How to use Service Bus topics and subscriptions</span></span>](service-bus-dotnet-how-to-use-topics-subscriptions.md)

[Azure portal]: https://portal.azure.com