---
title: "Megosztott hozzáférési aláírásokkal aaaAzure Service Bus hitelesítési |} Microsoft Docs"
description: "Service Bus hitelesítési megosztott hozzáférési aláírásokkal – áttekintés, SAS-hitelesítés és az Azure Service Bus adatait áttekintése."
services: service-bus-messaging
documentationcenter: na
author: sethmanheim
manager: timlt
editor: 
ms.assetid: 
ms.service: service-bus-messaging
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/23/2017
ms.author: sethm
ms.openlocfilehash: 773bb11720384d7245820b56dc25b8e064ffa746
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="service-bus-authentication-with-shared-access-signatures"></a><span data-ttu-id="1c297-103">A Service Bus hitelesítési megosztott hozzáférési aláírásokkal</span><span class="sxs-lookup"><span data-stu-id="1c297-103">Service Bus authentication with Shared Access Signatures</span></span>

<span data-ttu-id="1c297-104">*Közös hozzáférésű Jogosultságkód* (SAS) hello elsődleges biztonsági mechanizmus a Service Bus üzenetkezelés.</span><span class="sxs-lookup"><span data-stu-id="1c297-104">*Shared Access Signatures* (SAS) are hello primary security mechanism for Service Bus messaging.</span></span> <span data-ttu-id="1c297-105">Ez a cikk ismerteti, amelyek SAS, hogyan működnek, és hogyan toouse platform-független módon őket.</span><span class="sxs-lookup"><span data-stu-id="1c297-105">This article discusses SAS, how they work, and how toouse them in a platform-agnostic way.</span></span>

<span data-ttu-id="1c297-106">SAS hitelesítési lehetővé teszi, hogy az alkalmazások tooauthenticate tooService Bus hello névtér, illetve üzenetküldési entitás (üzenetsor vagy témakör) az adott jogosultságok társított hello szolgáltatást konfigurált hozzáférési kulcs használata.</span><span class="sxs-lookup"><span data-stu-id="1c297-106">SAS authentication enables applications tooauthenticate tooService Bus using an access key configured on hello namespace, or on hello messaging entity (queue or topic) with which specific rights are associated.</span></span> <span data-ttu-id="1c297-107">A kulcs toogenerate egy SAS-jogkivonatot, hogy az ügyfelek ezután használhatja tooauthenticate tooService Bus használhatja.</span><span class="sxs-lookup"><span data-stu-id="1c297-107">You can then use this key toogenerate a SAS token that clients can in turn use tooauthenticate tooService Bus.</span></span>

<span data-ttu-id="1c297-108">SAS-hitelesítési támogatás a hello Azure SDK 2.0-s és újabb verziók része.</span><span class="sxs-lookup"><span data-stu-id="1c297-108">SAS authentication support is included in hello Azure SDK version 2.0 and later.</span></span>

## <a name="overview-of-sas"></a><span data-ttu-id="1c297-109">SAS áttekintése</span><span class="sxs-lookup"><span data-stu-id="1c297-109">Overview of SAS</span></span>

<span data-ttu-id="1c297-110">Megosztott hozzáférési aláírásokkal olyan hitelesítési mechanizmus biztonságos SHA-256 kivonatokkal vagy URI-k alapján.</span><span class="sxs-lookup"><span data-stu-id="1c297-110">Shared Access Signatures are an authentication mechanism based on SHA-256 secure hashes or URIs.</span></span> <span data-ttu-id="1c297-111">SAS, akkor ez egy nagyon erős eszköz összes Service Bus szolgáltatás által használt.</span><span class="sxs-lookup"><span data-stu-id="1c297-111">SAS is an extremely powerful mechanism that is used by all Service Bus services.</span></span> <span data-ttu-id="1c297-112">Tényleges használatban van, SAS két részből áll: egy *megosztott hozzáférési házirend* és egy *közös hozzáférésű Jogosultságkód* (gyakran nevezik egy *token*).</span><span class="sxs-lookup"><span data-stu-id="1c297-112">In actual use, SAS has two components: a *shared access policy* and a *Shared Access Signature* (often called a *token*).</span></span>

<span data-ttu-id="1c297-113">A Service Bus SAS hitelesítési magában foglalja a hello konfigurálása a Service Bus erőforrás társított jogosultságok titkosítási kulcsot.</span><span class="sxs-lookup"><span data-stu-id="1c297-113">SAS authentication in Service Bus involves hello configuration of a cryptographic key with associated rights on a Service Bus resource.</span></span> <span data-ttu-id="1c297-114">Ügyfelek jogcím tooService Bus erőforrások eléréséhez a SAS-jogkivonat segítségével.</span><span class="sxs-lookup"><span data-stu-id="1c297-114">Clients claim access tooService Bus resources by presenting a SAS token.</span></span> <span data-ttu-id="1c297-115">Ez a token hello erőforrás URI férnek hozzá a áll, és aláírással rendelkező hello elévülés kulcs konfigurálva.</span><span class="sxs-lookup"><span data-stu-id="1c297-115">This token consists of hello resource URI being accessed, and an expiry signed with hello configured key.</span></span>

<span data-ttu-id="1c297-116">A Service Bus közös hozzáférésű Jogosultságkód-engedélyezési szabályok konfigurálásával [továbbítja](service-bus-fundamentals-hybrid-solutions.md#relays), [várólisták](service-bus-fundamentals-hybrid-solutions.md#queues), és [témakörök](service-bus-fundamentals-hybrid-solutions.md#topics).</span><span class="sxs-lookup"><span data-stu-id="1c297-116">You can configure Shared Access Signature authorization rules on Service Bus [relays](service-bus-fundamentals-hybrid-solutions.md#relays), [queues](service-bus-fundamentals-hybrid-solutions.md#queues), and [topics](service-bus-fundamentals-hybrid-solutions.md#topics).</span></span>

<span data-ttu-id="1c297-117">SAS hitelesítési hello a következő elemeket használja:</span><span class="sxs-lookup"><span data-stu-id="1c297-117">SAS authentication uses hello following elements:</span></span>

* <span data-ttu-id="1c297-118">[Megosztott hozzáférés-engedélyezési szabály](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule): A 256 bites Base64 ábrázolás elsődleges titkosítási kulcs, egy nem kötelező másodlagos kulcsot, és a kulcs nevét és társított jogosultságok (gyűjteménye *figyelésére*, *küldése*, vagy *kezelése* jogosultságok).</span><span class="sxs-lookup"><span data-stu-id="1c297-118">[Shared Access authorization rule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule): A 256-bit primary cryptographic key in Base64 representation, an optional secondary key, and a key name and associated rights (a collection of *Listen*, *Send*, or *Manage* rights).</span></span>
* <span data-ttu-id="1c297-119">[Közös hozzáférésű Jogosultságkód](/dotnet/api/microsoft.servicebus.sharedaccesssignaturetokenprovider) token: generálta hello HMAC-SHA256 hello URI-azonosítója, amelyhez a hello erőforrás álló erőforrás-karakterlánc, és egy lejárati hello titkosítási kulccsal.</span><span class="sxs-lookup"><span data-stu-id="1c297-119">[Shared Access Signature](/dotnet/api/microsoft.servicebus.sharedaccesssignaturetokenprovider) token: Generated using hello HMAC-SHA256 of a resource string, consisting of hello URI of hello resource that is accessed and an expiry, with hello cryptographic key.</span></span> <span data-ttu-id="1c297-120">hello aláírás és egyéb hello a következő részekben leírt elemeket egy karakterlánc tooform hello SAS-jogkivonat a formátumát.</span><span class="sxs-lookup"><span data-stu-id="1c297-120">hello signature and other elements described in hello following sections are formatted into a string tooform hello SAS token.</span></span>

## <a name="shared-access-policy"></a><span data-ttu-id="1c297-121">Megosztott elérési házirendet</span><span class="sxs-lookup"><span data-stu-id="1c297-121">Shared access policy</span></span>

<span data-ttu-id="1c297-122">Egy SAS kapcsolatos fontos toounderstand, hogy egy házirend kezdődik.</span><span class="sxs-lookup"><span data-stu-id="1c297-122">An important thing toounderstand about SAS is that it starts with a policy.</span></span> <span data-ttu-id="1c297-123">Minden egyes házirend mellett dönt három adatra: **neve**, **hatókör**, és **engedélyek**.</span><span class="sxs-lookup"><span data-stu-id="1c297-123">For each policy, you decide on three pieces of information: **name**, **scope**, and **permissions**.</span></span> <span data-ttu-id="1c297-124">Hello **neve** most, hogy; adott hatókörén belül egyedi nevet.</span><span class="sxs-lookup"><span data-stu-id="1c297-124">hello **name** is just that; a unique name within that scope.</span></span> <span data-ttu-id="1c297-125">hello hatóköre elég egyszerűen: fennállt hello szóban forgó hello erőforrás URI Azonosítóját.</span><span class="sxs-lookup"><span data-stu-id="1c297-125">hello scope is easy enough: it's hello URI of hello resource in question.</span></span> <span data-ttu-id="1c297-126">A Service Bus-névtér hello hatóköre hello teljesen minősített tartománynevét (FQDN), például a `https://<yournamespace>.servicebus.windows.net/`.</span><span class="sxs-lookup"><span data-stu-id="1c297-126">For a Service Bus namespace, hello scope is hello fully qualified domain name (FQDN), such as `https://<yournamespace>.servicebus.windows.net/`.</span></span>

<span data-ttu-id="1c297-127">hello elérhető engedélyek a házirend magától értetődő-nagymértékben:</span><span class="sxs-lookup"><span data-stu-id="1c297-127">hello available permissions for a policy are largely self-explanatory:</span></span>

* <span data-ttu-id="1c297-128">Küldés</span><span class="sxs-lookup"><span data-stu-id="1c297-128">Send</span></span>
* <span data-ttu-id="1c297-129">Figyelés</span><span class="sxs-lookup"><span data-stu-id="1c297-129">Listen</span></span>
* <span data-ttu-id="1c297-130">Kezelés</span><span class="sxs-lookup"><span data-stu-id="1c297-130">Manage</span></span>

<span data-ttu-id="1c297-131">Hello házirend létrehozása után van hozzárendelve egy *elsődleges kulcs* és egy *másodlagos kulcs*.</span><span class="sxs-lookup"><span data-stu-id="1c297-131">After you create hello policy, it is assigned a *Primary Key* and a *Secondary Key*.</span></span> <span data-ttu-id="1c297-132">Ezek a kriptográfiai erős kulcsokat.</span><span class="sxs-lookup"><span data-stu-id="1c297-132">These are cryptographically strong keys.</span></span> <span data-ttu-id="1c297-133">Nem elvesznek vagy szivárgás lépett fel őket – azok mindig megtalálhatók a hello [Azure-portálon][Azure portal].</span><span class="sxs-lookup"><span data-stu-id="1c297-133">Don't lose them or leak them - they'll always be available in hello [Azure portal][Azure portal].</span></span> <span data-ttu-id="1c297-134">Generált hello kulcsok bármelyikét használhatja, és bármikor helyreállíthatók.</span><span class="sxs-lookup"><span data-stu-id="1c297-134">You can use either of hello generated keys, and you can regenerate them at any time.</span></span> <span data-ttu-id="1c297-135">Azonban ha újragenerálja vagy hello elsődleges kulcs hello házirendben módosítja, a megosztott hozzáférési aláírásokkal létre belőle a rendszer érvényteleníti.</span><span class="sxs-lookup"><span data-stu-id="1c297-135">However, if you regenerate or change hello primary key in hello policy, any Shared Access Signatures created from it will be invalidated.</span></span>

<span data-ttu-id="1c297-136">A Service Bus-névtér létrehozásakor hello teljes névtér neve automatikusan létrehozott egy házirend **RootManageSharedAccessKey**, és ez a házirend az összes jogosult.</span><span class="sxs-lookup"><span data-stu-id="1c297-136">When you create a Service Bus namespace, a policy is automatically created for hello entire namespace called **RootManageSharedAccessKey**, and this policy has all permissions.</span></span> <span data-ttu-id="1c297-137">Nem bejelentkezni **legfelső szintű**, így nem használja ezt a házirendet, kivéve, ha valóban okunk.</span><span class="sxs-lookup"><span data-stu-id="1c297-137">You don't log on as **root**, so don't use this policy unless there's a really good reason.</span></span> <span data-ttu-id="1c297-138">További házirendeket is létrehozhat a hello **konfigurálása** hello névtér hello portálon lapon.</span><span class="sxs-lookup"><span data-stu-id="1c297-138">You can create additional policies in hello **Configure** tab for hello namespace in hello portal.</span></span> <span data-ttu-id="1c297-139">Fontos toonote, amely egy Service Bus (névtér, várólista stb.) egy fa szintjének csak too12 csatolt házirendek tooit fel.</span><span class="sxs-lookup"><span data-stu-id="1c297-139">It's important toonote that a single tree level in Service Bus (namespace, queue, etc.) can only have up too12 policies attached tooit.</span></span>

## <a name="configuration-for-shared-access-signature-authentication"></a><span data-ttu-id="1c297-140">Közös hozzáférésű Jogosultságkód-hitelesítés konfigurációja</span><span class="sxs-lookup"><span data-stu-id="1c297-140">Configuration for Shared Access Signature authentication</span></span>
<span data-ttu-id="1c297-141">Konfigurálhatja a hello [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) a Szolgáltatásbusz-névterek, a várólisták vagy a témakörök szabály.</span><span class="sxs-lookup"><span data-stu-id="1c297-141">You can configure hello [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) rule on Service Bus namespaces, queues, or topics.</span></span> <span data-ttu-id="1c297-142">Konfigurálása egy [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) egy Service Bus az előfizetés jelenleg nem támogatott, de használhatja a névtér vagy témakör toosecure hozzáférés toosubscriptions konfigurált szabályokat.</span><span class="sxs-lookup"><span data-stu-id="1c297-142">Configuring a [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) on a Service Bus subscription is currently not supported, but you can use rules configured on a namespace or topic toosecure access toosubscriptions.</span></span> <span data-ttu-id="1c297-143">Működő minta azt mutatja be ezt az eljárást, lásd: hello [Service Bus előfizetések használata közös hozzáférésű Jogosultságkód (SAS) hitelesítési](http://code.msdn.microsoft.com/Using-Shared-Access-e605b37c) minta.</span><span class="sxs-lookup"><span data-stu-id="1c297-143">For a working sample that illustrates this procedure, see hello [Using Shared Access Signature (SAS) authentication with Service Bus Subscriptions](http://code.msdn.microsoft.com/Using-Shared-Access-e605b37c) sample.</span></span>

<span data-ttu-id="1c297-144">Ezek a szabályok 12 legfeljebb egy Service Bus-névtér, üzenetsor vagy témakör is lehet konfigurálni.</span><span class="sxs-lookup"><span data-stu-id="1c297-144">A maximum of 12 such rules can be configured on a Service Bus namespace, queue, or topic.</span></span> <span data-ttu-id="1c297-145">Szabályok konfigurálása a Service Bus-névtér tooall bejegyzései szerepelnek a névtér alkalmazni.</span><span class="sxs-lookup"><span data-stu-id="1c297-145">Rules that are configured on a Service Bus namespace apply tooall entities in that namespace.</span></span>

![SAS](./media/service-bus-sas/service-bus-namespace.png)

<span data-ttu-id="1c297-147">Az ábrán hello *manageRuleNS*, *sendRuleNS*, és *listenRuleNS* engedélyezési szabályok vonatkoznak V1 tooboth várólista és ez a témakör a T1, amíg a *listenRuleQ*  és *sendRuleQ* csak V1 tooqueue alkalmazása és *sendRuleT* csak tootopic T1 vonatkozik.</span><span class="sxs-lookup"><span data-stu-id="1c297-147">In this figure, hello *manageRuleNS*, *sendRuleNS*, and *listenRuleNS* authorization rules apply tooboth queue Q1 and topic T1, while *listenRuleQ* and *sendRuleQ* apply only tooqueue Q1 and *sendRuleT* applies only tootopic T1.</span></span>

<span data-ttu-id="1c297-148">a paramétereket hello egy [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) a következők:</span><span class="sxs-lookup"><span data-stu-id="1c297-148">hello key parameters of a [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) are as follows:</span></span>

| <span data-ttu-id="1c297-149">Paraméter</span><span class="sxs-lookup"><span data-stu-id="1c297-149">Parameter</span></span> | <span data-ttu-id="1c297-150">Leírás</span><span class="sxs-lookup"><span data-stu-id="1c297-150">Description</span></span> |
| --- | --- |
| <span data-ttu-id="1c297-151">*Kulcsnév*</span><span class="sxs-lookup"><span data-stu-id="1c297-151">*KeyName*</span></span> |<span data-ttu-id="1c297-152">Egy karakterlánc, amely hello engedélyezési szabályt.</span><span class="sxs-lookup"><span data-stu-id="1c297-152">A string that describes hello authorization rule.</span></span> |
| <span data-ttu-id="1c297-153">*PrimaryKey*</span><span class="sxs-lookup"><span data-stu-id="1c297-153">*PrimaryKey*</span></span> |<span data-ttu-id="1c297-154">A base64-kódolású 256 bites elsődleges kulcs aláírása és hello SAS-token ellenőrzése.</span><span class="sxs-lookup"><span data-stu-id="1c297-154">A base64-encoded 256-bit primary key for signing and validating hello SAS token.</span></span> |
| <span data-ttu-id="1c297-155">*Másodlagos kulcs*</span><span class="sxs-lookup"><span data-stu-id="1c297-155">*SecondaryKey*</span></span> |<span data-ttu-id="1c297-156">A base64-kódolású 256 bites másodlagos kulcs aláírása és hello SAS-token ellenőrzése.</span><span class="sxs-lookup"><span data-stu-id="1c297-156">A base64-encoded 256-bit secondary key for signing and validating hello SAS token.</span></span> |
| <span data-ttu-id="1c297-157">*AccessRights*</span><span class="sxs-lookup"><span data-stu-id="1c297-157">*AccessRights*</span></span> |<span data-ttu-id="1c297-158">Hello engedélyezési szabály által megadott hozzáférési jogok listáját.</span><span class="sxs-lookup"><span data-stu-id="1c297-158">A list of access rights granted by hello authorization rule.</span></span> <span data-ttu-id="1c297-159">Ezek a jogosultságok bármely gyűjtemény figyelés, a Küldés és a kezelés jogok lehet.</span><span class="sxs-lookup"><span data-stu-id="1c297-159">These rights can be any collection of Listen, Send, and Manage rights.</span></span> |

<span data-ttu-id="1c297-160">A Service Bus-névtér ki van építve, amikor egy [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule), a [kulcsnév](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_KeyName) túl beállítása**RootManageSharedAccessKey**, alapértelmezés szerint létrejön.</span><span class="sxs-lookup"><span data-stu-id="1c297-160">When a Service Bus namespace is provisioned, a [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule), with [KeyName](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_KeyName) set too**RootManageSharedAccessKey**, is created by default.</span></span>

## <a name="generate-a-shared-access-signature-token"></a><span data-ttu-id="1c297-161">Egy közös hozzáférésű Jogosultságkód (jogkivonat) létrehozása</span><span class="sxs-lookup"><span data-stu-id="1c297-161">Generate a Shared Access Signature (token)</span></span>

<span data-ttu-id="1c297-162">hello házirend maga nincs Service Bus hello hozzáférési jogkivonat.</span><span class="sxs-lookup"><span data-stu-id="1c297-162">hello policy itself is not hello access token for Service Bus.</span></span> <span data-ttu-id="1c297-163">Mely hello a létrehozott hozzáférési jogkivonat - vagy hello elsődleges vagy másodlagos kulcs használatával hello objektum.</span><span class="sxs-lookup"><span data-stu-id="1c297-163">It is hello object from which hello access token is generated - using either hello primary or secondary key.</span></span> <span data-ttu-id="1c297-164">Bármely ügyfél, amely aláírási kulcsok hello közös hozzáférésű engedélyezési szabályban megadott hozzáférési toohello hello SAS-jogkivonat hozhat létre.</span><span class="sxs-lookup"><span data-stu-id="1c297-164">Any client that has access toohello signing keys specified in hello shared access authorization rule can generate hello SAS token.</span></span> <span data-ttu-id="1c297-165">hello token jön létre, gondosan létrehozásával hello formátuma a következő karakterláncot:</span><span class="sxs-lookup"><span data-stu-id="1c297-165">hello token is generated by carefully crafting a string in hello following format:</span></span>

```
SharedAccessSignature sig=<signature-string>&se=<expiry>&skn=<keyName>&sr=<URL-encoded-resourceURI>
```

<span data-ttu-id="1c297-166">Ahol `signature-string` hello hatókör hello jogkivonat hello SHA-256-kivonata (**hatókör** hello előző szakaszban leírtak szerint) a CR LF Karakterpár fűzött és a lejárati idő (másodpercben hello epoch óta: `00:00:00 UTC` 1970. január 1. a).</span><span class="sxs-lookup"><span data-stu-id="1c297-166">Where `signature-string` is hello SHA-256 hash of hello scope of hello token (**scope** as described in hello previous section) with a CRLF appended and an expiry time (in seconds since hello epoch: `00:00:00 UTC` on 1 January 1970).</span></span> 

> [!NOTE]
> <span data-ttu-id="1c297-167">tooavoid egy rövid jogkivonat lejárati ideje, javasoljuk, hogy legalább egy 32 bites előjel nélküli egész számokat, vagy lehetőleg egy hosszú (64 bites) egész szám hello lejárati idő értéknek megfelelően kódolja.</span><span class="sxs-lookup"><span data-stu-id="1c297-167">tooavoid a short token expiry time, it is recommended that you encode hello expiry time value as at least a 32-bit unsigned integer, or preferably a long (64-bit) integer.</span></span>  
> 
> 

<span data-ttu-id="1c297-168">hello kivonatoló pszeudo kód a következő hasonló toohello és 32 bájt visszaadása.</span><span class="sxs-lookup"><span data-stu-id="1c297-168">hello hash looks similar toohello following pseudo code and returns 32 bytes.</span></span>

```
SHA-256('https://<yournamespace>.servicebus.windows.net/'+'\n'+ 1438205742)
```

<span data-ttu-id="1c297-169">hello nem kivonatolt értékei hello **SharedAccessSignature** úgy, hogy hello címzett számíthatja hello kivonatoló hello az ugyanezen paraméterekkel, toobe meg arról, hogy vissza hello ugyanazt az eredményt.</span><span class="sxs-lookup"><span data-stu-id="1c297-169">hello non-hashed values are in hello **SharedAccessSignature** string so that hello recipient can compute hello hash with hello same parameters, toobe sure that it returns hello same result.</span></span> <span data-ttu-id="1c297-170">hello URI hello hatókör határozza meg, és hello kulcsnév hello házirend használt toobe toocompute hello kivonatoló azonosítja.</span><span class="sxs-lookup"><span data-stu-id="1c297-170">hello URI specifies hello scope, and hello key name identifies hello policy toobe used toocompute hello hash.</span></span> <span data-ttu-id="1c297-171">Ez fontos biztonsági szempontból.</span><span class="sxs-lookup"><span data-stu-id="1c297-171">This is important from a security standpoint.</span></span> <span data-ttu-id="1c297-172">Hello aláírása nem egyezik a mely hello címzett (Service Bus) számítja ki, ha a hozzáférés megtagadva.</span><span class="sxs-lookup"><span data-stu-id="1c297-172">If hello signature doesn't match that which hello recipient (Service Bus) calculates, then access is denied.</span></span> <span data-ttu-id="1c297-173">Ezen a ponton biztos lehet, hogy hello küldő toohello hívóbetűt kellett, és kell jogosultságokat hello hello házirendben megadott.</span><span class="sxs-lookup"><span data-stu-id="1c297-173">At this point you can be sure that hello sender had access toohello key and should be granted hello rights specified in hello policy.</span></span>

<span data-ttu-id="1c297-174">Vegye figyelembe, hogy kell-e használnia hello kódolt erőforrás URI ehhez a művelethez.</span><span class="sxs-lookup"><span data-stu-id="1c297-174">Note that you should use hello encoded resource URI for this operation.</span></span> <span data-ttu-id="1c297-175">hello erőforrás URI hello teljes URI-címe hello Service Bus erőforrás toowhich hozzáférést igényelnek.</span><span class="sxs-lookup"><span data-stu-id="1c297-175">hello resource URI is hello full URI of hello Service Bus resource toowhich access is claimed.</span></span> <span data-ttu-id="1c297-176">Például `http://<namespace>.servicebus.windows.net/<entityPath>` vagy `sb://<namespace>.servicebus.windows.net/<entityPath>`; Ez azt jelenti, hogy `http://contoso.servicebus.windows.net/contosoTopics/T1/Subscriptions/S3`.</span><span class="sxs-lookup"><span data-stu-id="1c297-176">For example, `http://<namespace>.servicebus.windows.net/<entityPath>` or `sb://<namespace>.servicebus.windows.net/<entityPath>`; that is, `http://contoso.servicebus.windows.net/contosoTopics/T1/Subscriptions/S3`.</span></span>

<span data-ttu-id="1c297-177">az aláíráshoz használt hello közös hozzáférésű engedélyezési szabály megadott ezt az URI, vagy egyik szülőobjektumtól hierarchikus hello entitás kell konfigurálni.</span><span class="sxs-lookup"><span data-stu-id="1c297-177">hello shared access authorization rule used for signing must be configured on hello entity specified by this URI, or by one of its hierarchical parents.</span></span> <span data-ttu-id="1c297-178">Például `http://contoso.servicebus.windows.net/contosoTopics/T1` vagy `http://contoso.servicebus.windows.net` hello előző példában.</span><span class="sxs-lookup"><span data-stu-id="1c297-178">For example, `http://contoso.servicebus.windows.net/contosoTopics/T1` or `http://contoso.servicebus.windows.net` in hello previous example.</span></span>

<span data-ttu-id="1c297-179">A SAS-jogkivonat esetén érvényes hello tartozó összes erőforrást `<resourceURI>` hello használt `signature-string`.</span><span class="sxs-lookup"><span data-stu-id="1c297-179">A SAS token is valid for all resources under hello `<resourceURI>` used in hello `signature-string`.</span></span>

<span data-ttu-id="1c297-180">Hello [kulcsnév](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_KeyName) hello SAS tokent jelenti toohello **kulcsnév** közös hozzáférésű engedélyezési szabály hello toogenerate hello token használjuk.</span><span class="sxs-lookup"><span data-stu-id="1c297-180">hello [KeyName](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_KeyName) in hello SAS token refers toohello **keyName** of hello shared access authorization rule used toogenerate hello token.</span></span>

<span data-ttu-id="1c297-181">Hello *URL-kódolású-resourceURI* kell lennie hello megegyeznek a hello hello számítási hello aláírás során használt hello karakterlánc bejelentkezési URI.</span><span class="sxs-lookup"><span data-stu-id="1c297-181">hello *URL-encoded-resourceURI* must be hello same as hello URI used in hello string-to-sign during hello computation of hello signature.</span></span> <span data-ttu-id="1c297-182">Meg kell [százalék-kódolású](https://msdn.microsoft.com/library/4fkewx0t.aspx).</span><span class="sxs-lookup"><span data-stu-id="1c297-182">It should be [percent-encoded](https://msdn.microsoft.com/library/4fkewx0t.aspx).</span></span>

<span data-ttu-id="1c297-183">Ajánlott hello használt hello kulcsok rendszeres újragenerálása [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) objektum.</span><span class="sxs-lookup"><span data-stu-id="1c297-183">It is recommended that you periodically regenerate hello keys used in hello [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) object.</span></span> <span data-ttu-id="1c297-184">Alkalmazások általában használandó hello [PrimaryKey](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_PrimaryKey) toogenerate egy SAS-jogkivonatot.</span><span class="sxs-lookup"><span data-stu-id="1c297-184">Applications should generally use hello [PrimaryKey](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_PrimaryKey) toogenerate a SAS token.</span></span> <span data-ttu-id="1c297-185">Hello kulcsok újragenerálása, ha le kell cserélni hello [másodlagos kulcs](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_SecondaryKey) a hello régi elsődleges kulcs, és hozzon létre egy új kulcsot hello új elsődleges kulcsaként.</span><span class="sxs-lookup"><span data-stu-id="1c297-185">When regenerating hello keys, you should replace hello [SecondaryKey](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_SecondaryKey) with hello old primary key, and generate a new key as hello new primary key.</span></span> <span data-ttu-id="1c297-186">Ez lehetővé teszi toocontinue tokenek használatára a hitelesítéshez, amely kiállított hello régi elsődleges kulccsal, és még nem lejárt.</span><span class="sxs-lookup"><span data-stu-id="1c297-186">This enables you toocontinue using tokens for authorization that were issued with hello old primary key, and that have not yet expired.</span></span>

<span data-ttu-id="1c297-187">Ha a kulcs biztonsága sérül, és toorevoke hello kulcsot tartalmaz, újragenerálás mindkét hello [PrimaryKey](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_PrimaryKey) és hello [másodlagos kulcs](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_SecondaryKey) , egy [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule), Felülírás új kulcsokkal.</span><span class="sxs-lookup"><span data-stu-id="1c297-187">If a key is compromised and you have toorevoke hello keys, you can regenerate both hello [PrimaryKey](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_PrimaryKey) and hello [SecondaryKey](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule#Microsoft_ServiceBus_Messaging_SharedAccessAuthorizationRule_SecondaryKey) of a [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule), replacing them with new keys.</span></span> <span data-ttu-id="1c297-188">Ez az eljárás érvényteleníti összes jogkivonatot hello régi kulccsal aláírva.</span><span class="sxs-lookup"><span data-stu-id="1c297-188">This procedure invalidates all tokens signed with hello old keys.</span></span>

## <a name="how-toouse-shared-access-signature-authentication-with-service-bus"></a><span data-ttu-id="1c297-189">Hogyan toouse közös hozzáférésű Jogosultságkód hitelesítés a Service busszal</span><span class="sxs-lookup"><span data-stu-id="1c297-189">How toouse Shared Access Signature authentication with Service Bus</span></span>

<span data-ttu-id="1c297-190">a következő forgatókönyvek hello tartalmazza az engedélyezési szabályok konfigurálása, SAS-tokenje és ügyfél-hitelesítés létrehozását.</span><span class="sxs-lookup"><span data-stu-id="1c297-190">hello following scenarios include configuration of authorization rules, generation of SAS tokens, and client authorization.</span></span>

<span data-ttu-id="1c297-191">A teljes minta a Service Bus-alkalmazás, amely bemutatja a hello konfigurációs és a SAS engedélyezési, lásd: [közös hozzáférésű Jogosultságkód hitelesítés a Service busszal](http://code.msdn.microsoft.com/Shared-Access-Signature-0a88adf8).</span><span class="sxs-lookup"><span data-stu-id="1c297-191">For a full working sample of a Service Bus application that illustrates hello configuration and uses SAS authorization, see [Shared Access Signature authentication with Service Bus](http://code.msdn.microsoft.com/Shared-Access-Signature-0a88adf8).</span></span> <span data-ttu-id="1c297-192">Kapcsolódó minta azt mutatja be a SAS-engedélyezési szabályok konfigurálva a névterek vagy témakörök toosecure Service Bus előfizetések hello használata érhető el itt: [használatával közös hozzáférésű Jogosultságkód (SAS) hitelesítés a Service Bus-előfizetések ](http://code.msdn.microsoft.com/Using-Shared-Access-e605b37c).</span><span class="sxs-lookup"><span data-stu-id="1c297-192">A related sample that illustrates hello use of SAS authorization rules configured on namespaces or topics toosecure Service Bus subscriptions is available here: [Using Shared Access Signature (SAS) authentication with Service Bus Subscriptions](http://code.msdn.microsoft.com/Using-Shared-Access-e605b37c).</span></span>

## <a name="access-shared-access-authorization-rules-on-a-namespace"></a><span data-ttu-id="1c297-193">Egy névtér hozzáférés megosztott hozzáférés-engedélyezési szabályok</span><span class="sxs-lookup"><span data-stu-id="1c297-193">Access Shared Access Authorization rules on a namespace</span></span>

<span data-ttu-id="1c297-194">Műveletek hello Service Bus-névtér legfelső szintű tanúsítvány alapú hitelesítést igényelnek.</span><span class="sxs-lookup"><span data-stu-id="1c297-194">Operations on hello Service Bus namespace root require certificate authentication.</span></span> <span data-ttu-id="1c297-195">Azure-előfizetése egy felügyeleti tanúsítványt kell feltöltenie.</span><span class="sxs-lookup"><span data-stu-id="1c297-195">You must upload a management certificate for your Azure subscription.</span></span> <span data-ttu-id="1c297-196">egy felügyeleti tanúsítványt tooupload hello lépésekkel [Itt](../cloud-services/cloud-services-configure-ssl-certificate-portal.md#step-3-upload-a-certificate), hello segítségével [Azure-portálon][Azure portal].</span><span class="sxs-lookup"><span data-stu-id="1c297-196">tooupload a management certificate, follow hello steps [here](../cloud-services/cloud-services-configure-ssl-certificate-portal.md#step-3-upload-a-certificate), using hello [Azure portal][Azure portal].</span></span> <span data-ttu-id="1c297-197">Az Azure felügyeleti tanúsítványok kapcsolatos további információkért lásd: hello [Azure tanúsítványok – áttekintés](../cloud-services/cloud-services-certs-create.md#what-are-management-certificates).</span><span class="sxs-lookup"><span data-stu-id="1c297-197">For more information about Azure management certificates, see hello [Azure certificates overview](../cloud-services/cloud-services-certs-create.md#what-are-management-certificates).</span></span>

<span data-ttu-id="1c297-198">megosztott hozzáférés-engedélyezési szabályok a Service Bus-névtér eléréséhez hello végpont a következőképpen történik:</span><span class="sxs-lookup"><span data-stu-id="1c297-198">hello endpoint for accessing shared access authorization rules on a Service Bus namespace is as follows:</span></span>

```http
https://management.core.windows.net/{subscriptionId}/services/ServiceBus/namespaces/{namespace}/AuthorizationRules/
```

<span data-ttu-id="1c297-199">toocreate egy [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) objektum a Service Bus-névtér, végrehajtani a POST műveletet ezen a végponton JSON vagy XML szerializált hello szabály adatokkal.</span><span class="sxs-lookup"><span data-stu-id="1c297-199">toocreate a [SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) object on a Service Bus namespace, execute a POST operation on this endpoint with hello rule information serialized as JSON or XML.</span></span> <span data-ttu-id="1c297-200">Példa:</span><span class="sxs-lookup"><span data-stu-id="1c297-200">For example:</span></span>

```csharp
// Base address for accessing authorization rules on a namespace
string baseAddress = @"https://management.core.windows.net/<subscriptionId>/services/ServiceBus/namespaces/<namespace>/AuthorizationRules/";

// Configure authorization rule with base64-encoded 256-bit key and Send rights
var sendRule = new SharedAccessAuthorizationRule("contosoSendAll",
    SharedAccessAuthorizationRule.GenerateRandomKey(),
    new[] { AccessRights.Send });

// Operations on hello Service Bus namespace root require certificate authentication.
WebRequestHandler handler = new WebRequestHandler
{
    ClientCertificateOptions = ClientCertificateOption.Manual
};
// Access hello management certificate by subject name
handler.ClientCertificates.Add(GetCertificate(<certificateSN>));

HttpClient httpClient = new HttpClient(handler)
{
    BaseAddress = new Uri(baseAddress)
};
httpClient.DefaultRequestHeaders.Accept.Add(
    new MediaTypeWithQualityHeaderValue("application/json"));
httpClient.DefaultRequestHeaders.Add("x-ms-version", "2015-01-01");

// Execute a POST operation on hello baseAddress above toocreate an auth rule
var postResult = httpClient.PostAsJsonAsync("", sendRule).Result;
```

<span data-ttu-id="1c297-201">Ehhez hasonlóan használja a GET műveletet hello végpont tooread hello engedélyezési szabályok hello névtér konfigurálva.</span><span class="sxs-lookup"><span data-stu-id="1c297-201">Similarly, use a GET operation on hello endpoint tooread hello authorization rules configured on hello namespace.</span></span>

<span data-ttu-id="1c297-202">tooupdate vagy egy adott engedélyezési szabály törlése használja a következő végpont hello:</span><span class="sxs-lookup"><span data-stu-id="1c297-202">tooupdate or delete a specific authorization rule, use hello following endpoint:</span></span>

```http
https://management.core.windows.net/{subscriptionId}/services/ServiceBus/namespaces/{namespace}/AuthorizationRules/{KeyName}
```

## <a name="access-shared-access-authorization-rules-on-an-entity"></a><span data-ttu-id="1c297-203">Egy entitás hozzáférés megosztott hozzáférés-engedélyezési szabályok</span><span class="sxs-lookup"><span data-stu-id="1c297-203">Access Shared Access Authorization rules on an entity</span></span>

<span data-ttu-id="1c297-204">Próbál hozzáférni egy [Microsoft.ServiceBus.Messaging.SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) konfigurálva a Service Bus-üzenetsor vagy témakör keresztül hello objektum [AuthorizationRules](/dotnet/api/microsoft.servicebus.messaging.authorizationrules) hello gyűjtemény megfelelő [QueueDescription](/dotnet/api/microsoft.servicebus.messaging.queuedescription) vagy [TopicDescription](/dotnet/api/microsoft.servicebus.messaging.topicdescription).</span><span class="sxs-lookup"><span data-stu-id="1c297-204">You can access a [Microsoft.ServiceBus.Messaging.SharedAccessAuthorizationRule](/dotnet/api/microsoft.servicebus.messaging.sharedaccessauthorizationrule) object configured on a Service Bus queue or topic through hello [AuthorizationRules](/dotnet/api/microsoft.servicebus.messaging.authorizationrules) collection in hello corresponding [QueueDescription](/dotnet/api/microsoft.servicebus.messaging.queuedescription) or [TopicDescription](/dotnet/api/microsoft.servicebus.messaging.topicdescription).</span></span>

<span data-ttu-id="1c297-205">hello a következő kód bemutatja, hogyan tooadd engedélyezési szabályok várólista.</span><span class="sxs-lookup"><span data-stu-id="1c297-205">hello following code shows how tooadd authorization rules for a queue.</span></span>

```csharp
// Create an instance of NamespaceManager for hello operation
NamespaceManager nsm = NamespaceManager.CreateFromConnectionString(
    <connectionString> );
QueueDescription qd = new QueueDescription( <qPath> );

// Create a rule with send rights with keyName as "contosoQSendKey"
// and add it toohello queue description.
qd.Authorization.Add(new SharedAccessAuthorizationRule("contosoSendKey",
    SharedAccessAuthorizationRule.GenerateRandomKey(),
    new[] { AccessRights.Send }));

// Create a rule with listen rights with keyName as "contosoQListenKey"
// and add it toohello queue description.
qd.Authorization.Add(new SharedAccessAuthorizationRule("contosoQListenKey",
    SharedAccessAuthorizationRule.GenerateRandomKey(),
    new[] { AccessRights.Listen }));

// Create a rule with manage rights with keyName as "contosoQManageKey"
// and add it toohello queue description.
// A rule with manage rights must also have send and receive rights.
qd.Authorization.Add(new SharedAccessAuthorizationRule("contosoQManageKey",
    SharedAccessAuthorizationRule.GenerateRandomKey(),
    new[] {AccessRights.Manage, AccessRights.Listen, AccessRights.Send }));

// Create hello queue.
nsm.CreateQueue(qd);
```

## <a name="use-shared-access-signature-authorization"></a><span data-ttu-id="1c297-206">Közös hozzáférésű Jogosultságkód engedélyezési használata</span><span class="sxs-lookup"><span data-stu-id="1c297-206">Use Shared Access Signature authorization</span></span>

<span data-ttu-id="1c297-207">Hello Service Bus .NET-kódtárakra hello Azure .NET SDK használata alkalmazások használhatják hello SAS engedélyezést [SharedAccessSignatureTokenProvider](/dotnet/api/microsoft.servicebus.sharedaccesssignaturetokenprovider) osztály.</span><span class="sxs-lookup"><span data-stu-id="1c297-207">Applications using hello Azure .NET SDK with hello Service Bus .NET libraries can use SAS authorization through hello [SharedAccessSignatureTokenProvider](/dotnet/api/microsoft.servicebus.sharedaccesssignaturetokenprovider) class.</span></span> <span data-ttu-id="1c297-208">hello alábbi kód bemutatja, hello jogkivonat-szolgáltató toosend üzenetek tooa Service Bus-üzenetsorba hello használatát.</span><span class="sxs-lookup"><span data-stu-id="1c297-208">hello following code illustrates hello use of hello token provider toosend messages tooa Service Bus queue.</span></span>

```csharp
Uri runtimeUri = ServiceBusEnvironment.CreateServiceUri("sb",
    <yourServiceNamespace>, string.Empty);
MessagingFactory mf = MessagingFactory.Create(runtimeUri,
    TokenProvider.CreateSharedAccessSignatureTokenProvider(keyName, key));
QueueClient sendClient = mf.CreateQueueClient(qPath);

//Sending hello message tooqueue.
BrokeredMessage helloMessage = new BrokeredMessage("Hello, Service Bus!");
helloMessage.MessageId = "SAS-Sample-Message";
sendClient.Send(helloMessage);
```

<span data-ttu-id="1c297-209">Alkalmazások is használható SAS hitelesítési módszereket, amelyek fogadja el a kapcsolati karakterláncok egy SAS-kapcsolati karakterlánc használatával.</span><span class="sxs-lookup"><span data-stu-id="1c297-209">Applications can also use SAS for authentication by using a SAS connection string in methods that accept connection strings.</span></span>

<span data-ttu-id="1c297-210">Vegye figyelembe, hogy toouse SAS engedélyezési a Service Bus-továbbítók, SAS-kulcsok hello Service Bus-névtér konfigurált használja.</span><span class="sxs-lookup"><span data-stu-id="1c297-210">Note that toouse SAS authorization with Service Bus relays, you can use SAS keys configured on hello Service Bus namespace.</span></span> <span data-ttu-id="1c297-211">A hello névtér explicit módon létrehozott egy továbbítót ([NamespaceManager](/dotnet/api/microsoft.servicebus.namespacemanager) rendelkező egy [RelayDescription](/dotnet/api/microsoft.servicebus.messaging.relaydescription)) objektum számára, hogy a továbbító hello SAS szabályainak beállítása.</span><span class="sxs-lookup"><span data-stu-id="1c297-211">If you explicitly create a relay on hello namespace ([NamespaceManager](/dotnet/api/microsoft.servicebus.namespacemanager) with a [RelayDescription](/dotnet/api/microsoft.servicebus.messaging.relaydescription)) object, you can set hello SAS rules just for that relay.</span></span> <span data-ttu-id="1c297-212">toouse SAS engedélyezési Service Bus-előfizetések, a Service Bus-névtér és a témakör a SAS-kulcsok is használhatja.</span><span class="sxs-lookup"><span data-stu-id="1c297-212">toouse SAS authorization with Service Bus subscriptions, you can use SAS keys configured on a Service Bus namespace or on a topic.</span></span>

## <a name="use-hello-shared-access-signature-at-http-level"></a><span data-ttu-id="1c297-213">A közös hozzáférésű Jogosultságkód hello használata (HTTP szinten)</span><span class="sxs-lookup"><span data-stu-id="1c297-213">Use hello Shared Access Signature (at HTTP level)</span></span>

<span data-ttu-id="1c297-214">Most, hogy tudjuk, hogyan toocreate megosztott hozzáférési aláírásokkal bármely entitás a Service Bus, akkor készen áll tooperform HTTP POST:</span><span class="sxs-lookup"><span data-stu-id="1c297-214">Now that you know how toocreate Shared Access Signatures for any entities in Service Bus, you are ready tooperform an HTTP POST:</span></span>

```http
POST https://<yournamespace>.servicebus.windows.net/<yourentity>/messages
Content-Type: application/json
Authorization: SharedAccessSignature sr=https%3A%2F%2F<yournamespace>.servicebus.windows.net%2F<yourentity>&sig=<yoursignature from code above>&se=1438205742&skn=KeyName
ContentType: application/atom+xml;type=entry;charset=utf-8
``` 

<span data-ttu-id="1c297-215">Ne feledje, hogy ez minden működik.</span><span class="sxs-lookup"><span data-stu-id="1c297-215">Remember, this works for everything.</span></span> <span data-ttu-id="1c297-216">Az üzenetsor, témakör vagy előfizetés SAS hozhat létre.</span><span class="sxs-lookup"><span data-stu-id="1c297-216">You can create SAS for a queue, topic, or subscription.</span></span> 

<span data-ttu-id="1c297-217">Ha ad a feladó, vagy az ügyfél egy SAS-jogkivonatot, nem rendelkeznek hello kulcs közvetlenül, és azok nem fordított hello kivonatoló tooobtain azt.</span><span class="sxs-lookup"><span data-stu-id="1c297-217">If you give a sender or client a SAS token, they don't have hello key directly, and they cannot reverse hello hash tooobtain it.</span></span> <span data-ttu-id="1c297-218">Hozzáférése van keresztül mi eléréséhez, és mennyi ideig.</span><span class="sxs-lookup"><span data-stu-id="1c297-218">As such, you have control over what they can access, and for how long.</span></span> <span data-ttu-id="1c297-219">Egy fontos tooremember, hogy ha hello elsődleges kulcs hello házirendben módosítja, a megosztott hozzáférési aláírásokkal létre belőle a rendszer érvényteleníti.</span><span class="sxs-lookup"><span data-stu-id="1c297-219">An important thing tooremember is that if you change hello primary key in hello policy, any Shared Access Signatures created from it will be invalidated.</span></span>

## <a name="use-hello-shared-access-signature-at-amqp-level"></a><span data-ttu-id="1c297-220">A közös hozzáférésű Jogosultságkód hello használata (AMQP szinten)</span><span class="sxs-lookup"><span data-stu-id="1c297-220">Use hello Shared Access Signature (at AMQP level)</span></span>

<span data-ttu-id="1c297-221">Hello előző szakaszban megtudhatta, hogyan toouse hello SAS-jogkivonatot az adatok toohello Service Bus küldési HTTP POST-kérelmet.</span><span class="sxs-lookup"><span data-stu-id="1c297-221">In hello previous section, you saw how toouse hello SAS token with an HTTP POST request for sending data toohello Service Bus.</span></span> <span data-ttu-id="1c297-222">Mint tudja, érheti el a Service Bus használatával hello speciális Message Queuing protokoll (AMQP), amely elsődleges hello protokoll toouse teljesítményének javítására szolgál, számos forgatókönyvben.</span><span class="sxs-lookup"><span data-stu-id="1c297-222">As you know, you can access Service Bus using hello Advanced Message Queuing Protocol (AMQP) that is hello preferred protocol toouse for performance reasons, in many scenarios.</span></span> <span data-ttu-id="1c297-223">SAS-token használatát a AMQP hello hello dokumentumban ismertetett [AMQP Claim-Based biztonsági 1.0-s verziójának](https://www.oasis-open.org/committees/download.php/50506/amqp-cbs-v1%200-wd02%202013-08-12.doc) , amely a munkát vázlat 2013 jól támogatott az Azure-ban, de még ma óta.</span><span class="sxs-lookup"><span data-stu-id="1c297-223">hello SAS token usage with AMQP is described in hello document [AMQP Claim-Based Security Version 1.0](https://www.oasis-open.org/committees/download.php/50506/amqp-cbs-v1%200-wd02%202013-08-12.doc) that is in working draft since 2013 but well-supported by Azure today.</span></span>

<span data-ttu-id="1c297-224">Toosend adatok tooService Bus megkezdése előtt hello publisher kell küldenie egy AMQP üzenet tooa jól meghatározott AMQP nevű csomópont belül hello SAS-jogkivonat **$cbs** (lásd a "speciális" várólista hello szolgáltatás tooacquire által használt és az összes ellenőrzése hello SAS-tokenje).</span><span class="sxs-lookup"><span data-stu-id="1c297-224">Before starting toosend data tooService Bus, hello publisher must send hello SAS token inside an AMQP message tooa well-defined AMQP node named **$cbs** (you can see it as a "special" queue used by hello service tooacquire and validate all hello SAS tokens).</span></span> <span data-ttu-id="1c297-225">hello publisher kell megadnia a hello **ReplyTo** AMQP üdvözlőüzenetére belül mezőben; ez hello csomópont, mely hello szolgáltatás hello jogkivonatok érvényesség-ellenőrzése (egyszerű kérelem/válasz mintát közötti hello eredményét toohello közzétevő ügyfélkéréseire válaszol. közzétevő és szolgáltatás).</span><span class="sxs-lookup"><span data-stu-id="1c297-225">hello publisher must specify hello **ReplyTo** field inside hello AMQP message; this is hello node in which hello service replies toohello publisher with hello result of hello token validation (a simple request/reply pattern between publisher and service).</span></span> <span data-ttu-id="1c297-226">Létrejön a válasz csomópont "on hello menet közben,", és beszéljen "távoli csomópont dinamikus létrehozása" hello AMQP 1.0-specifikáció szerint.</span><span class="sxs-lookup"><span data-stu-id="1c297-226">This reply node is created "on hello fly," speaking about "dynamic creation of remote node" as described by hello AMQP 1.0 specification.</span></span> <span data-ttu-id="1c297-227">Adott hello SAS-jogkivonat érvényességének ellenőrzése, miután hello publisher előre képesek haladni, és toosend adatok toohello szolgáltatás elindítása.</span><span class="sxs-lookup"><span data-stu-id="1c297-227">After checking that hello SAS token is valid, hello publisher can go forward and start toosend data toohello service.</span></span>

<span data-ttu-id="1c297-228">hello következő lépések bemutatják, hogyan toosend hello-SAS-jogkivonat AMQP protokollt használnak a hello [AMQP.Net Lite](https://github.com/Azure/amqpnetlite) könyvtár.</span><span class="sxs-lookup"><span data-stu-id="1c297-228">hello following steps show how toosend hello SAS token with AMQP protocol using hello [AMQP.Net Lite](https://github.com/Azure/amqpnetlite) library.</span></span> <span data-ttu-id="1c297-229">Ez akkor hasznos, ha nem használ hello hivatalos Service Bus SDK (például a WinRT, .net Compact Framework, a .net keretrendszer Micro és monó) c. fejlesztése\#.</span><span class="sxs-lookup"><span data-stu-id="1c297-229">This is useful if you can't use hello official Service Bus SDK (for example on WinRT, .Net Compact Framework, .Net Micro Framework and Mono) developing in C\#.</span></span> <span data-ttu-id="1c297-230">Természetesen érdemes használni ezt a szalagtárat toohelp hogyan jogcímalapú biztonsági eljárásainak megértését hello AMQP szinten működik, mint megtudhatta, hogyan működik szintű hello HTTP (egy HTTP POST kérelem és hello SAS tokent küldött belül hello "Engedélyezés" fejlécet).</span><span class="sxs-lookup"><span data-stu-id="1c297-230">Of course, this library is useful toohelp understand how claims-based security works at hello AMQP level, as you saw how it works at hello HTTP level (with an HTTP POST request and hello SAS token sent inside hello "Authorization" header).</span></span> <span data-ttu-id="1c297-231">Ha nem kívánja ilyen AMQP átfogó ismerete, használhatja a hello hivatalos Service Bus SDK .net Framework alkalmazások, amelyek fog ő elvégezze ezt.</span><span class="sxs-lookup"><span data-stu-id="1c297-231">If you don't need such deep knowledge about AMQP, you can use hello official Service Bus SDK with .Net Framework applications, which will do it for you.</span></span>

### <a name="c35"></a><span data-ttu-id="1c297-232">C&#35;</span><span class="sxs-lookup"><span data-stu-id="1c297-232">C&#35;</span></span>

```csharp
/// <summary>
/// Send claim-based security (CBS) token
/// </summary>
/// <param name="shareAccessSignature">Shared access signature (token) toosend</param>
private bool PutCbsToken(Connection connection, string sasToken)
{
    bool result = true;
    Session session = new Session(connection);

    string cbsClientAddress = "cbs-client-reply-to";
    var cbsSender = new SenderLink(session, "cbs-sender", "$cbs");
    var cbsReceiver = new ReceiverLink(session, cbsClientAddress, "$cbs");

    // construct hello put-token message
    var request = new Message(sasToken);
    request.Properties = new Properties();
    request.Properties.MessageId = Guid.NewGuid().ToString();
    request.Properties.ReplyTo = cbsClientAddress;
    request.ApplicationProperties = new ApplicationProperties();
    request.ApplicationProperties["operation"] = "put-token";
    request.ApplicationProperties["type"] = "servicebus.windows.net:sastoken";
    request.ApplicationProperties["name"] = Fx.Format("amqp://{0}/{1}", sbNamespace, entity);
    cbsSender.Send(request);

    // receive hello response
    var response = cbsReceiver.Receive();
    if (response == null || response.Properties == null || response.ApplicationProperties == null)
    {
        result = false;
    }
    else
    {
        int statusCode = (int)response.ApplicationProperties["status-code"];
        if (statusCode != (int)HttpStatusCode.Accepted && statusCode != (int)HttpStatusCode.OK)
        {
            result = false;
        }
    }

    // hello sender/receiver may be kept open for refreshing tokens
    cbsSender.Close();
    cbsReceiver.Close();
    session.Close();

    return result;
}
```

<span data-ttu-id="1c297-233">Hello `PutCbsToken()` metódus kap hello *kapcsolat* (AMQP kapcsolat osztálypéldány hello által biztosított [AMQP .NET Lite könyvtár](https://github.com/Azure/amqpnetlite)), amely hello TCP kapcsolat toohello szolgáltatás és a hello jelöli *sasToken* hello SAS-token toosend paraméter.</span><span class="sxs-lookup"><span data-stu-id="1c297-233">hello `PutCbsToken()` method receives hello *connection* (AMQP connection class instance as provided by hello [AMQP .NET Lite library](https://github.com/Azure/amqpnetlite)) that represents hello TCP connection toohello service and hello *sasToken* parameter that is hello SAS token toosend.</span></span> 

> [!NOTE]
> <span data-ttu-id="1c297-234">Fontos, hogy hello kapcsolat jön létre **SASL hitelesítési módszer beállítása tooEXTERNAL** (és nem az alapértelmezett egyszerű felhasználónévvel és jelszóval, ha már nincs szükség toosend hello SAS-jogkivonat használt hello).</span><span class="sxs-lookup"><span data-stu-id="1c297-234">It's important that hello connection is created with **SASL authentication mechanism set tooEXTERNAL** (and not hello default PLAIN with username and password used when you don't need toosend hello SAS token).</span></span>
> 
> 

<span data-ttu-id="1c297-235">A következő hello publisher két AMQP hivatkozásokat hoz hello SAS-jogkivonat küldését és fogadását a hello válasz (hello jogkivonat érvényesítésére eredmény) hello szolgáltatásból.</span><span class="sxs-lookup"><span data-stu-id="1c297-235">Next, hello publisher creates two AMQP links for sending hello SAS token and receiving hello reply (hello token validation result) from hello service.</span></span>

<span data-ttu-id="1c297-236">hello AMQP üzenet tulajdonságait, és egy egyszerű üzenet több információt tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="1c297-236">hello AMQP message contains a set of properties, and more information than a simple message.</span></span> <span data-ttu-id="1c297-237">hello SAS-jogkivonat neve (a saját konstruktoraikban használatával) üdvözlőüzenetére hello törzsét.</span><span class="sxs-lookup"><span data-stu-id="1c297-237">hello SAS token is hello body of hello message (using its constructor).</span></span> <span data-ttu-id="1c297-238">Hello **"ReplyTo"** tulajdonsága toohello csomópontnév hello ellenőrzési eredmény hello fogadó hivatkozásra (módosíthatja a nevét, és a rendszer automatikusan létrehozza dinamikusan hello szolgáltatás) fogadására.</span><span class="sxs-lookup"><span data-stu-id="1c297-238">hello **"ReplyTo"** property is set toohello node name for receiving hello validation result on hello receiver link (you can change its name if you want, and it will be created dynamically by hello service).</span></span> <span data-ttu-id="1c297-239">hello utolsó három alkalmazáshoz vagy egyéni tulajdonságok által használt hello szolgáltatás tooindicate milyen művelet tooexecute rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="1c297-239">hello last three application/custom properties are used by hello service tooindicate what kind of operation it has tooexecute.</span></span> <span data-ttu-id="1c297-240">Hello CBS vázlat specifikáció szerint, fel kell-e az hello **műveletnév** ("put-token"), hello **jogkivonattípusnak** (az ebben az esetben a "servicebus.windows.net:sastoken"), és hello **" neve"hello célközönség** toowhich hello token (hello teljes entitás) érvényes.</span><span class="sxs-lookup"><span data-stu-id="1c297-240">As described by hello CBS draft specification, they must be hello **operation name** ("put-token"), hello **type of token** (in this case, a "servicebus.windows.net:sastoken"), and hello **"name" of hello audience** toowhich hello token applies (hello entire entity).</span></span>

<span data-ttu-id="1c297-241">Hello SAS-jogkivonat elküldése hello küldő hivatkozásra, után hello publisher hello válasz hello fogadó hivatkozásra kell olvasni.</span><span class="sxs-lookup"><span data-stu-id="1c297-241">After sending hello SAS token on hello sender link, hello publisher must read hello reply on hello receiver link.</span></span> <span data-ttu-id="1c297-242">hello válasz egy alkalmazás tulajdonsággal nevű egyszerű AMQP üzenet **"állapot-kód"** , amely ugyanaz, mint a HTTP-állapotkódot értékek hello tartalmazhat.</span><span class="sxs-lookup"><span data-stu-id="1c297-242">hello reply is a simple AMQP message with an application property named **"status-code"** that can contain hello same values as an HTTP status code.</span></span>

## <a name="rights-required-for-service-bus-operations"></a><span data-ttu-id="1c297-243">A Service Bus műveletekhez szükséges jogok</span><span class="sxs-lookup"><span data-stu-id="1c297-243">Rights required for Service Bus operations</span></span>

<span data-ttu-id="1c297-244">hello alábbi táblázat ismerteti a Service Bus erőforrásainak különböző műveleteihez szükséges hello hozzáférési jogok.</span><span class="sxs-lookup"><span data-stu-id="1c297-244">hello following table shows hello access rights required for various operations on Service Bus resources.</span></span>

| <span data-ttu-id="1c297-245">Művelet</span><span class="sxs-lookup"><span data-stu-id="1c297-245">Operation</span></span> | <span data-ttu-id="1c297-246">Jogcím szükséges</span><span class="sxs-lookup"><span data-stu-id="1c297-246">Claim Required</span></span> | <span data-ttu-id="1c297-247">Jogcím-hatókör</span><span class="sxs-lookup"><span data-stu-id="1c297-247">Claim Scope</span></span> |
| --- | --- | --- |
| <span data-ttu-id="1c297-248">**Namespace**</span><span class="sxs-lookup"><span data-stu-id="1c297-248">**Namespace**</span></span> | | |
| <span data-ttu-id="1c297-249">A névtér engedélyezési szabály konfigurálása</span><span class="sxs-lookup"><span data-stu-id="1c297-249">Configure authorization rule on a namespace</span></span> |<span data-ttu-id="1c297-250">Kezelés</span><span class="sxs-lookup"><span data-stu-id="1c297-250">Manage</span></span> |<span data-ttu-id="1c297-251">Minden névtér cím</span><span class="sxs-lookup"><span data-stu-id="1c297-251">Any namespace address</span></span> |
| <span data-ttu-id="1c297-252">**Szolgáltatás-beállításjegyzék**</span><span class="sxs-lookup"><span data-stu-id="1c297-252">**Service Registry**</span></span> | | |
| <span data-ttu-id="1c297-253">Magánfelhő házirendek felsorolása</span><span class="sxs-lookup"><span data-stu-id="1c297-253">Enumerate Private Policies</span></span> |<span data-ttu-id="1c297-254">Kezelés</span><span class="sxs-lookup"><span data-stu-id="1c297-254">Manage</span></span> |<span data-ttu-id="1c297-255">Minden névtér cím</span><span class="sxs-lookup"><span data-stu-id="1c297-255">Any namespace address</span></span> |
| <span data-ttu-id="1c297-256">A névtér figyelését</span><span class="sxs-lookup"><span data-stu-id="1c297-256">Begin listening on a namespace</span></span> |<span data-ttu-id="1c297-257">Figyelés</span><span class="sxs-lookup"><span data-stu-id="1c297-257">Listen</span></span> |<span data-ttu-id="1c297-258">Minden névtér cím</span><span class="sxs-lookup"><span data-stu-id="1c297-258">Any namespace address</span></span> |
| <span data-ttu-id="1c297-259">Tooa figyelő üzenetek küldése egy névtérben</span><span class="sxs-lookup"><span data-stu-id="1c297-259">Send messages tooa listener at a namespace</span></span> |<span data-ttu-id="1c297-260">Küldés</span><span class="sxs-lookup"><span data-stu-id="1c297-260">Send</span></span> |<span data-ttu-id="1c297-261">Minden névtér cím</span><span class="sxs-lookup"><span data-stu-id="1c297-261">Any namespace address</span></span> |
| <span data-ttu-id="1c297-262">**Várólista**</span><span class="sxs-lookup"><span data-stu-id="1c297-262">**Queue**</span></span> | | |
| <span data-ttu-id="1c297-263">Üzenetsor létrehozása</span><span class="sxs-lookup"><span data-stu-id="1c297-263">Create a queue</span></span> |<span data-ttu-id="1c297-264">Kezelés</span><span class="sxs-lookup"><span data-stu-id="1c297-264">Manage</span></span> |<span data-ttu-id="1c297-265">Minden névtér cím</span><span class="sxs-lookup"><span data-stu-id="1c297-265">Any namespace address</span></span> |
| <span data-ttu-id="1c297-266">Üzenetsor törlése</span><span class="sxs-lookup"><span data-stu-id="1c297-266">Delete a queue</span></span> |<span data-ttu-id="1c297-267">Kezelés</span><span class="sxs-lookup"><span data-stu-id="1c297-267">Manage</span></span> |<span data-ttu-id="1c297-268">Bármilyen érvényes várósor címe</span><span class="sxs-lookup"><span data-stu-id="1c297-268">Any valid queue address</span></span> |
| <span data-ttu-id="1c297-269">A várólisták számbavétele</span><span class="sxs-lookup"><span data-stu-id="1c297-269">Enumerate queues</span></span> |<span data-ttu-id="1c297-270">Kezelés</span><span class="sxs-lookup"><span data-stu-id="1c297-270">Manage</span></span> |<span data-ttu-id="1c297-271">$ Erőforrások/várólisták</span><span class="sxs-lookup"><span data-stu-id="1c297-271">/$Resources/Queues</span></span> |
| <span data-ttu-id="1c297-272">Első hello várólista leírása</span><span class="sxs-lookup"><span data-stu-id="1c297-272">Get hello queue description</span></span> |<span data-ttu-id="1c297-273">Kezelés</span><span class="sxs-lookup"><span data-stu-id="1c297-273">Manage</span></span> |<span data-ttu-id="1c297-274">Bármilyen érvényes várósor címe</span><span class="sxs-lookup"><span data-stu-id="1c297-274">Any valid queue address</span></span> |
| <span data-ttu-id="1c297-275">A várólisták engedélyezési szabály konfigurálása</span><span class="sxs-lookup"><span data-stu-id="1c297-275">Configure authorization rule for a queue</span></span> |<span data-ttu-id="1c297-276">Kezelés</span><span class="sxs-lookup"><span data-stu-id="1c297-276">Manage</span></span> |<span data-ttu-id="1c297-277">Bármilyen érvényes várósor címe</span><span class="sxs-lookup"><span data-stu-id="1c297-277">Any valid queue address</span></span> |
| <span data-ttu-id="1c297-278">Toohello várólistán küldése</span><span class="sxs-lookup"><span data-stu-id="1c297-278">Send into toohello queue</span></span> |<span data-ttu-id="1c297-279">Küldés</span><span class="sxs-lookup"><span data-stu-id="1c297-279">Send</span></span> |<span data-ttu-id="1c297-280">Bármilyen érvényes várósor címe</span><span class="sxs-lookup"><span data-stu-id="1c297-280">Any valid queue address</span></span> |
| <span data-ttu-id="1c297-281">Üzenetek fogadása egy üzenetsorból</span><span class="sxs-lookup"><span data-stu-id="1c297-281">Receive messages from a queue</span></span> |<span data-ttu-id="1c297-282">Figyelés</span><span class="sxs-lookup"><span data-stu-id="1c297-282">Listen</span></span> |<span data-ttu-id="1c297-283">Bármilyen érvényes várósor címe</span><span class="sxs-lookup"><span data-stu-id="1c297-283">Any valid queue address</span></span> |
| <span data-ttu-id="1c297-284">Szakítsa vagy üzenetek befejezése után üdvözlőüzenetére fogadásának betekintés-zárolási mód</span><span class="sxs-lookup"><span data-stu-id="1c297-284">Abandon or complete messages after receiving hello message in peek-lock mode</span></span> |<span data-ttu-id="1c297-285">Figyelés</span><span class="sxs-lookup"><span data-stu-id="1c297-285">Listen</span></span> |<span data-ttu-id="1c297-286">Bármilyen érvényes várósor címe</span><span class="sxs-lookup"><span data-stu-id="1c297-286">Any valid queue address</span></span> |
| <span data-ttu-id="1c297-287">Késlelteti a későbbi beolvasásához üzenet</span><span class="sxs-lookup"><span data-stu-id="1c297-287">Defer a message for later retrieval</span></span> |<span data-ttu-id="1c297-288">Figyelés</span><span class="sxs-lookup"><span data-stu-id="1c297-288">Listen</span></span> |<span data-ttu-id="1c297-289">Bármilyen érvényes várósor címe</span><span class="sxs-lookup"><span data-stu-id="1c297-289">Any valid queue address</span></span> |
| <span data-ttu-id="1c297-290">Kézbesítetlen levelek üzenet</span><span class="sxs-lookup"><span data-stu-id="1c297-290">Deadletter a message</span></span> |<span data-ttu-id="1c297-291">Figyelés</span><span class="sxs-lookup"><span data-stu-id="1c297-291">Listen</span></span> |<span data-ttu-id="1c297-292">Bármilyen érvényes várósor címe</span><span class="sxs-lookup"><span data-stu-id="1c297-292">Any valid queue address</span></span> |
| <span data-ttu-id="1c297-293">Egy üzenet-várólista munkamenethez társított hello állapot beolvasása</span><span class="sxs-lookup"><span data-stu-id="1c297-293">Get hello state associated with a message queue session</span></span> |<span data-ttu-id="1c297-294">Figyelés</span><span class="sxs-lookup"><span data-stu-id="1c297-294">Listen</span></span> |<span data-ttu-id="1c297-295">Bármilyen érvényes várósor címe</span><span class="sxs-lookup"><span data-stu-id="1c297-295">Any valid queue address</span></span> |
| <span data-ttu-id="1c297-296">Egy üzenet-várólista munkamenethez társított hello állapotának beállítása</span><span class="sxs-lookup"><span data-stu-id="1c297-296">Set hello state associated with a message queue session</span></span> |<span data-ttu-id="1c297-297">Figyelés</span><span class="sxs-lookup"><span data-stu-id="1c297-297">Listen</span></span> |<span data-ttu-id="1c297-298">Bármilyen érvényes várósor címe</span><span class="sxs-lookup"><span data-stu-id="1c297-298">Any valid queue address</span></span> |
| <span data-ttu-id="1c297-299">**A témakör**</span><span class="sxs-lookup"><span data-stu-id="1c297-299">**Topic**</span></span> | | |
| <span data-ttu-id="1c297-300">Üzenettémakör létrehozása</span><span class="sxs-lookup"><span data-stu-id="1c297-300">Create a topic</span></span> |<span data-ttu-id="1c297-301">Kezelés</span><span class="sxs-lookup"><span data-stu-id="1c297-301">Manage</span></span> |<span data-ttu-id="1c297-302">Minden névtér cím</span><span class="sxs-lookup"><span data-stu-id="1c297-302">Any namespace address</span></span> |
| <span data-ttu-id="1c297-303">Egy témakör törlése</span><span class="sxs-lookup"><span data-stu-id="1c297-303">Delete a topic</span></span> |<span data-ttu-id="1c297-304">Kezelés</span><span class="sxs-lookup"><span data-stu-id="1c297-304">Manage</span></span> |<span data-ttu-id="1c297-305">Bármilyen érvényes témakör cím</span><span class="sxs-lookup"><span data-stu-id="1c297-305">Any valid topic address</span></span> |
| <span data-ttu-id="1c297-306">Témakörök számbavétele</span><span class="sxs-lookup"><span data-stu-id="1c297-306">Enumerate topics</span></span> |<span data-ttu-id="1c297-307">Kezelés</span><span class="sxs-lookup"><span data-stu-id="1c297-307">Manage</span></span> |<span data-ttu-id="1c297-308">$ Erőforrások/kapcsolatos témakörök</span><span class="sxs-lookup"><span data-stu-id="1c297-308">/$Resources/Topics</span></span> |
| <span data-ttu-id="1c297-309">Első hello témakör leírása</span><span class="sxs-lookup"><span data-stu-id="1c297-309">Get hello topic description</span></span> |<span data-ttu-id="1c297-310">Kezelés</span><span class="sxs-lookup"><span data-stu-id="1c297-310">Manage</span></span> |<span data-ttu-id="1c297-311">Bármilyen érvényes témakör cím</span><span class="sxs-lookup"><span data-stu-id="1c297-311">Any valid topic address</span></span> |
| <span data-ttu-id="1c297-312">A témakör az engedélyezési szabály konfigurálása</span><span class="sxs-lookup"><span data-stu-id="1c297-312">Configure authorization rule for a topic</span></span> |<span data-ttu-id="1c297-313">Kezelés</span><span class="sxs-lookup"><span data-stu-id="1c297-313">Manage</span></span> |<span data-ttu-id="1c297-314">Bármilyen érvényes témakör cím</span><span class="sxs-lookup"><span data-stu-id="1c297-314">Any valid topic address</span></span> |
| <span data-ttu-id="1c297-315">Toohello témakör küldése</span><span class="sxs-lookup"><span data-stu-id="1c297-315">Send toohello topic</span></span> |<span data-ttu-id="1c297-316">Küldés</span><span class="sxs-lookup"><span data-stu-id="1c297-316">Send</span></span> |<span data-ttu-id="1c297-317">Bármilyen érvényes témakör cím</span><span class="sxs-lookup"><span data-stu-id="1c297-317">Any valid topic address</span></span> |
| <span data-ttu-id="1c297-318">**Előfizetés**</span><span class="sxs-lookup"><span data-stu-id="1c297-318">**Subscription**</span></span> | | |
| <span data-ttu-id="1c297-319">Előfizetés létrehozása</span><span class="sxs-lookup"><span data-stu-id="1c297-319">Create a subscription</span></span> |<span data-ttu-id="1c297-320">Kezelés</span><span class="sxs-lookup"><span data-stu-id="1c297-320">Manage</span></span> |<span data-ttu-id="1c297-321">Minden névtér cím</span><span class="sxs-lookup"><span data-stu-id="1c297-321">Any namespace address</span></span> |
| <span data-ttu-id="1c297-322">Előfizetés törlése</span><span class="sxs-lookup"><span data-stu-id="1c297-322">Delete subscription</span></span> |<span data-ttu-id="1c297-323">Kezelés</span><span class="sxs-lookup"><span data-stu-id="1c297-323">Manage</span></span> |<span data-ttu-id="1c297-324">.. /myTopic/Subscriptions/mySubscription</span><span class="sxs-lookup"><span data-stu-id="1c297-324">../myTopic/Subscriptions/mySubscription</span></span> |
| <span data-ttu-id="1c297-325">Előfizetések számbavétele</span><span class="sxs-lookup"><span data-stu-id="1c297-325">Enumerate subscriptions</span></span> |<span data-ttu-id="1c297-326">Kezelés</span><span class="sxs-lookup"><span data-stu-id="1c297-326">Manage</span></span> |<span data-ttu-id="1c297-327">.. / myTopic/előfizetések</span><span class="sxs-lookup"><span data-stu-id="1c297-327">../myTopic/Subscriptions</span></span> |
| <span data-ttu-id="1c297-328">Előfizetés leírását beolvasása</span><span class="sxs-lookup"><span data-stu-id="1c297-328">Get subscription description</span></span> |<span data-ttu-id="1c297-329">Kezelés</span><span class="sxs-lookup"><span data-stu-id="1c297-329">Manage</span></span> |<span data-ttu-id="1c297-330">.. /myTopic/Subscriptions/mySubscription</span><span class="sxs-lookup"><span data-stu-id="1c297-330">../myTopic/Subscriptions/mySubscription</span></span> |
| <span data-ttu-id="1c297-331">Szakítsa vagy üzenetek befejezése után üdvözlőüzenetére fogadásának betekintés-zárolási mód</span><span class="sxs-lookup"><span data-stu-id="1c297-331">Abandon or complete messages after receiving hello message in peek-lock mode</span></span> |<span data-ttu-id="1c297-332">Figyelés</span><span class="sxs-lookup"><span data-stu-id="1c297-332">Listen</span></span> |<span data-ttu-id="1c297-333">.. /myTopic/Subscriptions/mySubscription</span><span class="sxs-lookup"><span data-stu-id="1c297-333">../myTopic/Subscriptions/mySubscription</span></span> |
| <span data-ttu-id="1c297-334">Késlelteti a későbbi beolvasásához üzenet</span><span class="sxs-lookup"><span data-stu-id="1c297-334">Defer a message for later retrieval</span></span> |<span data-ttu-id="1c297-335">Figyelés</span><span class="sxs-lookup"><span data-stu-id="1c297-335">Listen</span></span> |<span data-ttu-id="1c297-336">.. /myTopic/Subscriptions/mySubscription</span><span class="sxs-lookup"><span data-stu-id="1c297-336">../myTopic/Subscriptions/mySubscription</span></span> |
| <span data-ttu-id="1c297-337">Kézbesítetlen levelek üzenet</span><span class="sxs-lookup"><span data-stu-id="1c297-337">Deadletter a message</span></span> |<span data-ttu-id="1c297-338">Figyelés</span><span class="sxs-lookup"><span data-stu-id="1c297-338">Listen</span></span> |<span data-ttu-id="1c297-339">.. /myTopic/Subscriptions/mySubscription</span><span class="sxs-lookup"><span data-stu-id="1c297-339">../myTopic/Subscriptions/mySubscription</span></span> |
| <span data-ttu-id="1c297-340">A témakör munkamenethez tartozó hello állapot beolvasása</span><span class="sxs-lookup"><span data-stu-id="1c297-340">Get hello state associated with a topic session</span></span> |<span data-ttu-id="1c297-341">Figyelés</span><span class="sxs-lookup"><span data-stu-id="1c297-341">Listen</span></span> |<span data-ttu-id="1c297-342">.. /myTopic/Subscriptions/mySubscription</span><span class="sxs-lookup"><span data-stu-id="1c297-342">../myTopic/Subscriptions/mySubscription</span></span> |
| <span data-ttu-id="1c297-343">A témakör munkamenethez tartozó hello állapotának beállítása</span><span class="sxs-lookup"><span data-stu-id="1c297-343">Set hello state associated with a topic session</span></span> |<span data-ttu-id="1c297-344">Figyelés</span><span class="sxs-lookup"><span data-stu-id="1c297-344">Listen</span></span> |<span data-ttu-id="1c297-345">.. /myTopic/Subscriptions/mySubscription</span><span class="sxs-lookup"><span data-stu-id="1c297-345">../myTopic/Subscriptions/mySubscription</span></span> |
| <span data-ttu-id="1c297-346">**Szabályok**</span><span class="sxs-lookup"><span data-stu-id="1c297-346">**Rules**</span></span> | | |
| <span data-ttu-id="1c297-347">Szabály létrehozása</span><span class="sxs-lookup"><span data-stu-id="1c297-347">Create a rule</span></span> |<span data-ttu-id="1c297-348">Kezelés</span><span class="sxs-lookup"><span data-stu-id="1c297-348">Manage</span></span> |<span data-ttu-id="1c297-349">.. /myTopic/Subscriptions/mySubscription</span><span class="sxs-lookup"><span data-stu-id="1c297-349">../myTopic/Subscriptions/mySubscription</span></span> |
| <span data-ttu-id="1c297-350">Szabály törlése</span><span class="sxs-lookup"><span data-stu-id="1c297-350">Delete a rule</span></span> |<span data-ttu-id="1c297-351">Kezelés</span><span class="sxs-lookup"><span data-stu-id="1c297-351">Manage</span></span> |<span data-ttu-id="1c297-352">.. /myTopic/Subscriptions/mySubscription</span><span class="sxs-lookup"><span data-stu-id="1c297-352">../myTopic/Subscriptions/mySubscription</span></span> |
| <span data-ttu-id="1c297-353">Szabályok számbavétele</span><span class="sxs-lookup"><span data-stu-id="1c297-353">Enumerate rules</span></span> |<span data-ttu-id="1c297-354">Kezelése vagy figyelésére</span><span class="sxs-lookup"><span data-stu-id="1c297-354">Manage or Listen</span></span> |<span data-ttu-id="1c297-355">.. /myTopic/Subscriptions/mySubscription/Rules</span><span class="sxs-lookup"><span data-stu-id="1c297-355">../myTopic/Subscriptions/mySubscription/Rules</span></span> 

## <a name="next-steps"></a><span data-ttu-id="1c297-356">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="1c297-356">Next steps</span></span>

<span data-ttu-id="1c297-357">toolearn Service Bus üzenetkezelés, kapcsolatos további információkért tekintse meg a következő témakörök hello.</span><span class="sxs-lookup"><span data-stu-id="1c297-357">toolearn more about Service Bus messaging, see hello following topics.</span></span>

* [<span data-ttu-id="1c297-358">A Service Bus alapjai</span><span class="sxs-lookup"><span data-stu-id="1c297-358">Service Bus fundamentals</span></span>](service-bus-fundamentals-hybrid-solutions.md)
* [<span data-ttu-id="1c297-359">Service Bus-üzenetsorok, -témakörök és -előfizetések</span><span class="sxs-lookup"><span data-stu-id="1c297-359">Service Bus queues, topics, and subscriptions</span></span>](service-bus-queues-topics-subscriptions.md)
* [<span data-ttu-id="1c297-360">Hogyan toouse Service Bus-üzenetsorok</span><span class="sxs-lookup"><span data-stu-id="1c297-360">How toouse Service Bus queues</span></span>](service-bus-dotnet-get-started-with-queues.md)
* [<span data-ttu-id="1c297-361">Hogyan toouse Service Bus üzenettémák és előfizetések</span><span class="sxs-lookup"><span data-stu-id="1c297-361">How toouse Service Bus topics and subscriptions</span></span>](service-bus-dotnet-how-to-use-topics-subscriptions.md)

[Azure portal]: https://portal.azure.com