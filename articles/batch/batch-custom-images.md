---
title: "Az egyéni lemezképek Azure Batch készletek kiépítése |} Microsoft Docs"
description: "Létrehozhat egy kötegelt kiépítését egyéni lemezképéről készlet számítási csomópontokra, amelyeket a szoftver- és az alkalmazáshoz szükséges adatokat tartalmazzák. Egyéni lemezkép egy hatékony módját a számítási csomópontok a Batch-alkalmazások futtatásához."
services: batch
author: tamram
manager: timlt
ms.service: batch
ms.topic: article
ms.date: 08/07/2017
ms.author: tamram
ms.openlocfilehash: 3d655766b4f2a5efb0c8c29ffa81a89f84b3e17c
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 08/29/2017
---
# <a name="use-a-custom-image-to-create-a-pool-of-virtual-machines"></a><span data-ttu-id="52da1-104">Egyéni lemezképet használ a virtuális gépek készlet létrehozása</span><span class="sxs-lookup"><span data-stu-id="52da1-104">Use a custom image to create a pool of virtual machines</span></span>

<span data-ttu-id="52da1-105">Azure Batch egyes virtuális gépek létrehozásakor meg kell adnia a virtuális gép (VM) lemezkép, amely az operációs rendszer biztosítja a készlet egyes számítási csomópont.</span><span class="sxs-lookup"><span data-stu-id="52da1-105">When you create a pool of virtual machines in Azure Batch, you specify a virtual machine (VM) image that provides the operating system for each compute node in the pool.</span></span> <span data-ttu-id="52da1-106">Virtuális gépek készletét hozhat létre, vagy egy Azure piactér lemezkép használatával, vagy egy egyéni előkészítette a Virtuálismerevlemez-kép megadásával.</span><span class="sxs-lookup"><span data-stu-id="52da1-106">You can create a pool of virtual machines either by using an Azure Marketplace image, or by providing a custom VHD image that you have prepared.</span></span> <span data-ttu-id="52da1-107">Ha egyéni lemezkép ad meg, hogy szabályozhatják, hogyan az operációs rendszer minden számítási csomópont ellátott időpontra van konfigurálva.</span><span class="sxs-lookup"><span data-stu-id="52da1-107">When you provide a custom image, you have control over how the operating system is configured at the time that each compute node is provisioned.</span></span> <span data-ttu-id="52da1-108">Az egyéni lemezképet is tartalmazhatnak, alkalmazások és a rendelkezésre álló a számítási csomóponton, amint ki van építve referenciaadatok.</span><span class="sxs-lookup"><span data-stu-id="52da1-108">Your custom image can also include applications and reference data that are available on the compute node as soon as it is provisioned.</span></span>

<span data-ttu-id="52da1-109">Egyéni lemezkép használatával is idő takarítható meg a lekérése a készlet számítási csomópontjain készen áll a Batch számítási feladatok futtatásához.</span><span class="sxs-lookup"><span data-stu-id="52da1-109">Using a custom image can save you time in getting your pool's compute nodes ready to run your Batch workload.</span></span> <span data-ttu-id="52da1-110">Mindig Azure piactér képet, és rendelkezik a kiépítése után telepíthet szoftvereket minden számítási csomópont, lehet, hogy ez a megközelítés egyéni lemezkép használatával-nél kevésbé hatékonyak.</span><span class="sxs-lookup"><span data-stu-id="52da1-110">While you can always use an Azure Marketplace image and install software on each compute node after it has been provisioned, this approach may be less efficient than using a custom image.</span></span> 

<span data-ttu-id="52da1-111">Néhány ok, amiért a forgatókönyvnek konfigurált egyéni lemezkép használatával tartalmaznia kell:</span><span class="sxs-lookup"><span data-stu-id="52da1-111">Some reasons to use a custom image that is configured for your scenario include needing to:</span></span>

- <span data-ttu-id="52da1-112">**Az operációs rendszer konfigurálása** semmiféle speciális beállítást, az operációs rendszer hajtható végre az egyéni lemezképet.</span><span class="sxs-lookup"><span data-stu-id="52da1-112">**Configure the operating system (OS)** Any special configuration of the operating system can be performed on the custom image.</span></span> 
- <span data-ttu-id="52da1-113">**Nagy alkalmazásokat telepíteni.**</span><span class="sxs-lookup"><span data-stu-id="52da1-113">**Install large applications.**</span></span> <span data-ttu-id="52da1-114">Egyéni alkalmazást is telepíthet hatékonyabb, mint az kiépítése után telepíteni őket minden számítási csomóponton.</span><span class="sxs-lookup"><span data-stu-id="52da1-114">Installing applications on a custom image is more efficient than installing them on each compute node after it is provisioned.</span></span>
- <span data-ttu-id="52da1-115">**Jelentős mennyiségű adatot másolni.**</span><span class="sxs-lookup"><span data-stu-id="52da1-115">**Copy significant amounts of data.**</span></span> <span data-ttu-id="52da1-116">Az egyéni rendszerképet másolja az adatokat, ha csak egyszer ahelyett, hogy minden számítási csomópont, időt és sávszélességet takaríthat másolni kell.</span><span class="sxs-lookup"><span data-stu-id="52da1-116">If the data is copied to the custom image, it only needs to be copied once, rather than to each compute node, saving time and bandwidth.</span></span>
- <span data-ttu-id="52da1-117">**A virtuális gép újraindul a telepítés során.**</span><span class="sxs-lookup"><span data-stu-id="52da1-117">**Reboot the VM during the setup process.**</span></span> <span data-ttu-id="52da1-118">A virtuális gép újraindul időigényes folyamat lehet, különösen akkor, ha a számítási csomópontok száma.</span><span class="sxs-lookup"><span data-stu-id="52da1-118">Rebooting the VM can be a time-consuming process, especially if you have a number of compute nodes.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="52da1-119">Előfeltételek</span><span class="sxs-lookup"><span data-stu-id="52da1-119">Prerequisites</span></span>

- <span data-ttu-id="52da1-120">**Batch-fiók létrehozása, a felhasználó előfizetéshez készlet foglalási mód.**</span><span class="sxs-lookup"><span data-stu-id="52da1-120">**A Batch account created with the User Subscription pool allocation mode.**</span></span> <span data-ttu-id="52da1-121">Egyéni lemezkép használatával virtuális gép készletek kiépítéséhez, a Batch-fiók létrehozása a felhasználó előfizetéshez [tárolókészlet foglalási mód](batch-api-basics.md#pool-allocation-mode).</span><span class="sxs-lookup"><span data-stu-id="52da1-121">To use a custom image to provision Virtual Machine pools, create your Batch account with the User Subscription [pool allocation mode](batch-api-basics.md#pool-allocation-mode).</span></span> <span data-ttu-id="52da1-122">Ennek a módnak a használatakor a Batch-készletek abban az előfizetésben lesznek lefoglalva, amelyben a fiók található.</span><span class="sxs-lookup"><span data-stu-id="52da1-122">With this mode, Batch pools are allocated into the subscription where the account resides.</span></span> <span data-ttu-id="52da1-123">Tekintse meg a [fiók](batch-api-basics.md#account) szakasz [Develop nagyméretű párhuzamos számítási solutions a kötegelt](batch-api-basics.md) a tárolókészlet foglalási mód beállításáról a Batch-fiók létrehozásakor.</span><span class="sxs-lookup"><span data-stu-id="52da1-123">See the [Account](batch-api-basics.md#account) section in [Develop large-scale parallel compute solutions with Batch](batch-api-basics.md) for information on setting the pool allocation mode when you create a Batch account.</span></span>

- <span data-ttu-id="52da1-124">**Egy Azure Storage-fiók.**</span><span class="sxs-lookup"><span data-stu-id="52da1-124">**An Azure Storage account.**</span></span> <span data-ttu-id="52da1-125">Hozzon létre egy egyéni lemezképet használó virtuális gépek készletét, egy szabványos, általános célú Azure Storage-fiókot az azonos előfizetésbe és azonos térségbe kell.</span><span class="sxs-lookup"><span data-stu-id="52da1-125">To create a pool of virtual machines using a custom image, you need a standard, general-purpose Azure Storage account in the same subscription and region.</span></span> <span data-ttu-id="52da1-126">Ha egy egyéni lemezképet hoz létre egy Azure virtuális Gépen, majd, másolja a lemezképet a tárfiókot, ahol a virtuális gép operációsrendszer-lemez helyezkedik el, és nem kell külön storage-fiók létrehozása.</span><span class="sxs-lookup"><span data-stu-id="52da1-126">If you create a custom image from an Azure VM, then you will copy the image to the storage account where the VM's OS disk resides, and you won't need to create a separate storage account.</span></span> 
    
## <a name="prepare-a-custom-image"></a><span data-ttu-id="52da1-127">Egyéni lemezkép előkészítése</span><span class="sxs-lookup"><span data-stu-id="52da1-127">Prepare a custom image</span></span>

<span data-ttu-id="52da1-128">Egyéni lemezkép előkészítése kötegelt való használatra, meg kell generalize Linux vagy a Windows meglévő telepítését.</span><span class="sxs-lookup"><span data-stu-id="52da1-128">To prepare a custom image for use with Batch, you must generalize an existing installation of Linux or Windows.</span></span> <span data-ttu-id="52da1-129">Normalizálása egy operációs rendszer telepítése eltávolítja a számítógép-specifikus adatait.</span><span class="sxs-lookup"><span data-stu-id="52da1-129">Generalizing an operating system installation removes machine-specific information.</span></span> <span data-ttu-id="52da1-130">Eredménye egy olyanra, amely a más számítógépeken és a virtuális gépek telepíthető.</span><span class="sxs-lookup"><span data-stu-id="52da1-130">The result is an image that can be installed on other computers or VMs.</span></span>  

> [!IMPORTANT]
> <span data-ttu-id="52da1-131">Kötegelt jelenleg nem támogatja a Azure használatával kezelt készlet kiépítéséhez képek.</span><span class="sxs-lookup"><span data-stu-id="52da1-131">Batch does not currently support using Azure managed images to provision a pool.</span></span> <span data-ttu-id="52da1-132">Egy készlet kiépítéséhez használatos az egyéni rendszerképet az Azure Storage kell tárolni.</span><span class="sxs-lookup"><span data-stu-id="52da1-132">The custom image you use to provision a pool must be stored in Azure Storage.</span></span> 
>
> <span data-ttu-id="52da1-133">Ha az egyéni lemezkép előkészítése, vegye figyelembe a következő szempontokat:</span><span class="sxs-lookup"><span data-stu-id="52da1-133">When preparing your custom image, keep in mind the following points:</span></span>
> - <span data-ttu-id="52da1-134">Ellenőrizze, hogy a Batch-készletek kiépítéséhez használt alap operációsrendszer-képen nincs-e semmilyen előre telepített Azure-bővítmény, például egyéni szkriptbővítmény.</span><span class="sxs-lookup"><span data-stu-id="52da1-134">Ensure that the base OS image you use to provision your Batch pools does not have any pre-installed Azure extensions, such as the Custom Script extension.</span></span> <span data-ttu-id="52da1-135">Ha a rendszerkép előre telepített bővítményt tartalmaz, az Azure problémába ütközhet a virtuális gép üzembe helyezése során.</span><span class="sxs-lookup"><span data-stu-id="52da1-135">If the image contains a pre-installed extension, Azure may encounter problems deploying the VM.</span></span>
> - <span data-ttu-id="52da1-136">Ügyeljen rá, hogy az Ön által biztosított alap operációsrendszer-kép az alapértelmezett ideiglenes meghajtót használja, mivel a Batch-csomópontügynök jelenleg ezt várja el.</span><span class="sxs-lookup"><span data-stu-id="52da1-136">Ensure that the base OS image you provide uses the default temp drive, as the Batch node agent currently expects the default temp drive.</span></span>
>
>

<span data-ttu-id="52da1-137">Egyéni lemezképként használhat meglévő előkészített Windows vagy Linux képet.</span><span class="sxs-lookup"><span data-stu-id="52da1-137">You can use any existing prepared Windows or Linux image as a custom image.</span></span> <span data-ttu-id="52da1-138">Például, ha szeretné használni egy helyi lemezképet, majd feltölti a lemezképet az Azure Storage-fiók, amely ugyanazt az előfizetést és régióban legyen, mint a Batch fiók használatával [AzCopy](../storage/storage-use-azcopy.md) vagy egy másik feltöltése.</span><span class="sxs-lookup"><span data-stu-id="52da1-138">For example, if you wish to use a local image, then upload the image to an Azure Storage account that is in the same subscription and region as your Batch account using [AzCopy](../storage/storage-use-azcopy.md) or another upload tool.</span></span>

<span data-ttu-id="52da1-139">Egyéni lemezkép előkészítheti egy új vagy meglévő Azure virtuális gépről is.</span><span class="sxs-lookup"><span data-stu-id="52da1-139">You can also prepare a custom image from a new or existing Azure VM.</span></span> <span data-ttu-id="52da1-140">Új virtuális gép létrehozásakor Azure piactér lemezkép használata az egyéni lemezképet az alapjául szolgáló lemezképhez, és majd testreszabása.</span><span class="sxs-lookup"><span data-stu-id="52da1-140">If you are creating a new VM, you can use an Azure Marketplace image as the base image for your custom image and then customize it.</span></span> <span data-ttu-id="52da1-141">Testre szabhatja az alapjául szolgáló lemezképhez, hozzon létre egy Azure virtuális Gépet, és az alkalmazások és adatok hozzáadása a hozzá.</span><span class="sxs-lookup"><span data-stu-id="52da1-141">To customize the base image, create an Azure VM and add your applications or data to it.</span></span> <span data-ttu-id="52da1-142">Majd generalize szolgáljanak, az egyéni lemezképet, és az Azure Storage mentheti a virtuális Gépet.</span><span class="sxs-lookup"><span data-stu-id="52da1-142">Then generalize the VM to serve as your custom image and save it to Azure Storage.</span></span> 

<span data-ttu-id="52da1-143">Egyéni lemezkép előkészítése az Azure virtuális gépről, kövesse az alábbi lépéseket:</span><span class="sxs-lookup"><span data-stu-id="52da1-143">To prepare a custom image from an Azure VM, follow these steps:</span></span>

1. <span data-ttu-id="52da1-144">Hozzon létre egy **nem felügyelt** Azure virtuális gép Azure Piactéri lemezképből.</span><span class="sxs-lookup"><span data-stu-id="52da1-144">Create an **unmanaged** Azure VM from an Azure Marketplace image.</span></span> <span data-ttu-id="52da1-145">Az Azure piactéren olyan képek mindkét [Windows](../virtual-machines/windows/quick-create-portal.md) és [Linux](../virtual-machines/linux/quick-create-portal.md).</span><span class="sxs-lookup"><span data-stu-id="52da1-145">Azure Marketplace includes images for both [Windows](../virtual-machines/windows/quick-create-portal.md) and [Linux](../virtual-machines/linux/quick-create-portal.md).</span></span>
    
    <span data-ttu-id="52da1-146">3. lépésében a virtuális gép létrehozási folyamata, győződjön meg arról, hogy kiválasztotta **nem** a **tárolási: használata felügyelt lemezek** lehetőséget.</span><span class="sxs-lookup"><span data-stu-id="52da1-146">On step 3 of the VM creation process, make sure that you select **No** for **Storage: Use Managed Disks** option.</span></span> <span data-ttu-id="52da1-147">Is tekintse meg a tárfiók nevét az operációsrendszer-lemez a virtuális Gépet, mivel ezt a tárfiókot is, ahol Azure menti az egyéni lemezképet:</span><span class="sxs-lookup"><span data-stu-id="52da1-147">Also take note of the storage account name for the VM's OS disk, as this storage account is also where Azure will save your custom image:</span></span>

    ![Hozzon létre egy nem felügyelt virtuális Gépet, és jegyezze fel a tárfiók neve](media/batch-custom-images/vm-create-storage.png)
 
2. <span data-ttu-id="52da1-149">Végezze el a virtuális gép létrehozásának folyamatán, és várja meg, amíg fel kell az Azure-ban.</span><span class="sxs-lookup"><span data-stu-id="52da1-149">Complete the process of creating your VM, and wait for it to be allocated by Azure.</span></span> <span data-ttu-id="52da1-150">Íme egy olyanra, amely az Azure portálon futó állapotban lévő virtuális gép mutatja:</span><span class="sxs-lookup"><span data-stu-id="52da1-150">Here's an image that shows a VM in the Azure portal in the running state:</span></span>

    ![Hozzon létre egy virtuális gép egy Piactéri rendszerképből](media/batch-custom-images/vm-status-running.png)

3. <span data-ttu-id="52da1-152">Ha a virtuális gép fut, kapcsolódni hozzá (a Windows) RDP és az SSH (linuxhoz) keresztül.</span><span class="sxs-lookup"><span data-stu-id="52da1-152">Once the VM is running, connect to it via RDP (for Windows) or SSH (for Linux).</span></span> <span data-ttu-id="52da1-153">Minden szükséges szoftvert telepíteni, illetve másolni kívánt adatokat, majd generalize a virtuális gép.</span><span class="sxs-lookup"><span data-stu-id="52da1-153">Install any necessary software or copy desired data, and then generalize the VM.</span></span> <span data-ttu-id="52da1-154">Az ismertetett lépéseket követve [a virtuális gép Generalize](https://docs.microsoft.com/en-us/azure/virtual-machines/windows/sa-copy-generalized.md#generalize-the-vm).</span><span class="sxs-lookup"><span data-stu-id="52da1-154">Follow the steps described in [Generalize the VM](https://docs.microsoft.com/en-us/azure/virtual-machines/windows/sa-copy-generalized.md#generalize-the-vm).</span></span> 
   
4. <span data-ttu-id="52da1-155">Kövesse a lépéseket a [jelentkezzen be Azure PowerShell](../virtual-machines/windows/sa-copy-generalized.md#log-in-to-azure-powershell).</span><span class="sxs-lookup"><span data-stu-id="52da1-155">Follow the steps to [Log in to Azure PowerShell](../virtual-machines/windows/sa-copy-generalized.md#log-in-to-azure-powershell).</span></span> <span data-ttu-id="52da1-156">Azure PowerShell telepítéséhez tekintse át [áttekintés az Azure PowerShell](https://docs.microsoft.com/powershell/azure/overview?view=azurermps-4.2.0).</span><span class="sxs-lookup"><span data-stu-id="52da1-156">To install Azure PowerShell, see [Overview of Azure PowerShell](https://docs.microsoft.com/powershell/azure/overview?view=azurermps-4.2.0).</span></span> 

5. <span data-ttu-id="52da1-157">A következő lépések segítségével [felszabadítani a virtuális Gépet, és állítsa a állapot általánosított](https://docs.microsoft.com/en-us/azure/virtual-machines/windows/sa-copy-generalized#deallocate-the-vm-and-set-the-state-to-generalized).</span><span class="sxs-lookup"><span data-stu-id="52da1-157">Next, follow the steps to [Deallocate the VM and set the state to generalized](https://docs.microsoft.com/en-us/azure/virtual-machines/windows/sa-copy-generalized#deallocate-the-vm-and-set-the-state-to-generalized).</span></span> 

    <span data-ttu-id="52da1-158">Az Azure portálon figyelje meg, hogy a virtuális gép felszabadítása:</span><span class="sxs-lookup"><span data-stu-id="52da1-158">In the Azure portal, notice that the VM is deallocated:</span></span>

    ![Győződjön meg arról, hogy a virtuális gép felszabadítása](media/batch-custom-images/vm-status-deallocated.png)

6.  <span data-ttu-id="52da1-160">Létrehozza és menti a VM-lemezkép az Azure Storage használata a [mentés-AzureRmVMImage](https://docs.microsoft.com/powershell/module/azurerm.compute/save-azurermvmimage) PowerShell-parancsmagot.</span><span class="sxs-lookup"><span data-stu-id="52da1-160">Create and save the VM image to Azure Storage using the [Save-AzureRmVMImage](https://docs.microsoft.com/powershell/module/azurerm.compute/save-azurermvmimage) PowerShell cmdlet.</span></span> <span data-ttu-id="52da1-161">Kövesse az utasításokat, leírt [lemezkép létrehozásához](../virtual-machines/windows/sa-copy-generalized.md#create-the-image).</span><span class="sxs-lookup"><span data-stu-id="52da1-161">Follow the instructions described in [Create the image](../virtual-machines/windows/sa-copy-generalized.md#create-the-image).</span></span>
    
    <span data-ttu-id="52da1-162">A Virtuálisgép-lemezkép menti az Azure Storage-fiók létrehozása a virtuális gép létrehozása után ez az eljárás 1. lépésben ismertetett módon.</span><span class="sxs-lookup"><span data-stu-id="52da1-162">The VM image is saved to the Azure Storage account created when the VM was created, as shown in step 1 of this procedure.</span></span> <span data-ttu-id="52da1-163">a Save-AzureRmVMImage parancsmag menti a lemezképet a **rendszer** storage-fiókhoz tartozó tárolóban.</span><span class="sxs-lookup"><span data-stu-id="52da1-163">the Save-AzureRmVMImage cmdlet saves the image to the **system** container in that storage account.</span></span> <span data-ttu-id="52da1-164">A `-DestinationContainername` paraméternév belül egy virtuális könyvtárat a **rendszer** tároló.</span><span class="sxs-lookup"><span data-stu-id="52da1-164">The `-DestinationContainername` parameter names a virtual directory within the **system** container.</span></span> <span data-ttu-id="52da1-165">A `-VHDNamePrefix` paraméter határozza meg a blob nevének egy előtagot.</span><span class="sxs-lookup"><span data-stu-id="52da1-165">The `-VHDNamePrefix` parameter specifies a prefix for the blob name.</span></span> <span data-ttu-id="52da1-166">Az előtag van $a kötőjel blob neve.</span><span class="sxs-lookup"><span data-stu-id="52da1-166">This prefix is prepended to the blob name with a hyphen.</span></span> 

    <span data-ttu-id="52da1-167">Tegyük fel például, mentés-AzureRmVMImage hívása a következő paraméterekkel:</span><span class="sxs-lookup"><span data-stu-id="52da1-167">For example, suppose you call Save-AzureRmVMImage with the following parameters:</span></span>  

        Save-AzureRmVMImage -ResourceGroupName sample-resource-group -Name vm-custom-image -DestinationContainerName batchimages -VHDNamePrefix custom -Path C:\Temp\Images\vm-custom-image.json

    <span data-ttu-id="52da1-168">Az eredményül kapott képének mentési a hely és a blob neve itt látható:</span><span class="sxs-lookup"><span data-stu-id="52da1-168">The resulting image is saved to the location and blob name shown here:</span></span>

    ![A rendszer tárolóhoz mentett VHD-fájl helyét](media/batch-custom-images/vhd-in-vm-storage-account.png)

    > [!NOTE]
    > <span data-ttu-id="52da1-170">Az Azure nem felügyelt virtuális gép több tárfiókok különböző célokra hoz létre.</span><span class="sxs-lookup"><span data-stu-id="52da1-170">An Azure unmanaged VM creates several storage accounts for different purposes.</span></span> <span data-ttu-id="52da1-171">Ha a virtuális gép létrehozása az operációsrendszer-lemezképet a tároló neve nem volt megjegyzést, majd keresése a társított tárolási figyelembe, hogy tartalmazza a **rendszer** tároló.</span><span class="sxs-lookup"><span data-stu-id="52da1-171">If you did not note the name of the storage container for the OS disk when the VM was created, then find the associated storage account that contains the **system** container.</span></span> <span data-ttu-id="52da1-172">Haladjon végig a **rendszer** tárolót, hogy az egyéni lemezképet, a megadott értékek keresése a **mentés-AzureRmVMImage** parancs.</span><span class="sxs-lookup"><span data-stu-id="52da1-172">Navigate through the **system** container to find the custom image using the values you specified for the **Save-AzureRmVMImage** command.</span></span>

## <a name="create-a-pool-from-a-custom-image-in-the-portal"></a><span data-ttu-id="52da1-173">Készlet létrehozása a portál egy egyéni lemezkép alapján</span><span class="sxs-lookup"><span data-stu-id="52da1-173">Create a pool from a custom image in the portal</span></span>

<span data-ttu-id="52da1-174">Ha mentette az egyéni lemezképet, és ismeri a helyét, a Batch-készlet erről a képről is létrehozhat.</span><span class="sxs-lookup"><span data-stu-id="52da1-174">Once you have saved your custom image and you know its location, you can create a Batch pool from that image.</span></span> <span data-ttu-id="52da1-175">Kövesse az alábbi lépéseket a készlet létrehozása az Azure-portálon:</span><span class="sxs-lookup"><span data-stu-id="52da1-175">Follow these steps to create a pool from the Azure portal:</span></span>

1. <span data-ttu-id="52da1-176">Az Azure portálon lépjen Batch-fiókjára.</span><span class="sxs-lookup"><span data-stu-id="52da1-176">Navigate to your Batch account in the Azure portal.</span></span> <span data-ttu-id="52da1-177">Ezt a fiókot az egyéni lemezképet tartalmazó tárfiókkal azonos előfizetésbe és régióban kell lennie.</span><span class="sxs-lookup"><span data-stu-id="52da1-177">This account must be in the same subscription and region as the storage account containing the custom image.</span></span> 
2. <span data-ttu-id="52da1-178">Az a **beállítások** ablak bal oldalán válassza ki a **készletek** menüpont.</span><span class="sxs-lookup"><span data-stu-id="52da1-178">In the **Settings** window on the left, select the **Pools** menu item.</span></span>
3. <span data-ttu-id="52da1-179">Az a **készletek** ablakban válassza ki a **Hozzáadás** parancsot.</span><span class="sxs-lookup"><span data-stu-id="52da1-179">In the **Pools** window, select the **Add** command.</span></span>
4. <span data-ttu-id="52da1-180">A a **a készlet hozzáadása** ablakban válassza ki **egyéni lemezkép (Linux/Windows)** a a **képtípus** legördülő menüből.</span><span class="sxs-lookup"><span data-stu-id="52da1-180">On the **Add Pool** window, select **Custom Image (Linux/Windows)** from the **Image Type** dropdown.</span></span> <span data-ttu-id="52da1-181">A portál megjeleníti az **Egyéni lemezkép** választóvezérlőt.</span><span class="sxs-lookup"><span data-stu-id="52da1-181">The portal displays the **Custom Image** picker.</span></span> <span data-ttu-id="52da1-182">Keresse meg a tárfiókot, ahol az egyéni lemezképet, és válassza ki a kívánt virtuális Merevlemezt a tárolóból.</span><span class="sxs-lookup"><span data-stu-id="52da1-182">Navigate to the storage account where your custom image is located, and select the desired VHD from the container.</span></span> 
5. <span data-ttu-id="52da1-183">Válassza ki a megfelelő **Publisher/ajánlat/Sku** az egyéni virtuális merevlemez.</span><span class="sxs-lookup"><span data-stu-id="52da1-183">Select the correct **Publisher/Offer/Sku** for your custom VHD.</span></span>
6. <span data-ttu-id="52da1-184">Adja meg a fennmaradó szükséges beállításokkal, többek között a **csomópont méretének**, **céloz dedikált csomópontok**, és **alacsony prioritású csomópont**, valamint minden szükséges, választható beállítások.</span><span class="sxs-lookup"><span data-stu-id="52da1-184">Specify the remaining required settings, including the **Node size**, **Target dedicated nodes**, and **Low priority nodes**, as well as any desired optional settings.</span></span>

    <span data-ttu-id="52da1-185">Például egy Microsoft Windows Server Datacenter 2016 egyéni lemezképet a **a készlet hozzáadása** ablak megjelenik, amint az itt látható:</span><span class="sxs-lookup"><span data-stu-id="52da1-185">For example, for a Microsoft Windows Server Datacenter 2016 custom image, the **Add Pool** window appears as shown here:</span></span>

    ![Egyéni Windows-lemezkép a készlet hozzáadása](media/batch-custom-images/add-pool-custom-image.png)
  
<span data-ttu-id="52da1-187">Ellenőrizze, hogy egy meglévő készlet egyéni lemezkép alapul, tekintse meg a **operációs rendszer** tulajdonság az erőforrás összefoglaló szakaszában a **készlet** ablak.</span><span class="sxs-lookup"><span data-stu-id="52da1-187">To check whether an existing pool is based on a custom image, see the **Operating System** property in the resource summary section of the **Pool** window.</span></span> <span data-ttu-id="52da1-188">Ha az alkalmazáskészlet egyéni lemezkép alapján készült, van-e beállítva **egyéni Virtuálisgép-lemezkép**.</span><span class="sxs-lookup"><span data-stu-id="52da1-188">If the pool was created from a custom image, it is set to **Custom VM Image**.</span></span>

<span data-ttu-id="52da1-189">A készlethez társított összes egyéni virtuális merevlemezek jelenik meg a készlet **tulajdonságok** ablak.</span><span class="sxs-lookup"><span data-stu-id="52da1-189">All custom VHDs associated with a pool are displayed on the pool's **Properties** window.</span></span>
 
## <a name="next-steps"></a><span data-ttu-id="52da1-190">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="52da1-190">Next steps</span></span>

- <span data-ttu-id="52da1-191">Kötegelt, áttekintéséért lásd: [Develop nagyméretű párhuzamos számítási solutions a kötegelt](batch-api-basics.md).</span><span class="sxs-lookup"><span data-stu-id="52da1-191">For an in-depth overview of Batch, see [Develop large-scale parallel compute solutions with Batch](batch-api-basics.md).</span></span>
- <span data-ttu-id="52da1-192">Batch-fiók létrehozásával kapcsolatos további információkért lásd: [Batch-fiók létrehozása az Azure portálon](batch-account-create-portal.md).</span><span class="sxs-lookup"><span data-stu-id="52da1-192">For information about creating a Batch account, see [Create a Batch account with the Azure portal](batch-account-create-portal.md).</span></span>