---
title: "a fejlesztők számára az Azure Batch aaaOverview |} Microsoft Docs"
description: "Ismerje meg, hogy hello Batch szolgáltatás és az API-k fejlesztési szempontból hello előnyeit."
services: batch
documentationcenter: .net
author: tamram
manager: timlt
editor: 
ms.assetid: 416b95f8-2d7b-4111-8012-679b0f60d204
ms.service: batch
ms.devlang: multiple
ms.topic: get-started-article
ms.tgt_pltfrm: na
ms.workload: big-compute
ms.date: 06/28/2017
ms.author: tamram
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: 3da9d82572b28d05d1923166bd08c26725ca3316
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="develop-large-scale-parallel-compute-solutions-with-batch"></a><span data-ttu-id="2e352-103">Nagy léptékű párhuzamos számítási megoldások fejlesztése a Batch segítségével</span><span class="sxs-lookup"><span data-stu-id="2e352-103">Develop large-scale parallel compute solutions with Batch</span></span>

<span data-ttu-id="2e352-104">Az Azure Batch szolgáltatás hello hello alapvető összetevői a áttekintés hello elsődleges szolgáltatása arról lesz szó, és erőforrásokhoz, hogy a fejlesztők kötegelt toobuild nagyméretű párhuzamos a számítási megoldások.</span><span class="sxs-lookup"><span data-stu-id="2e352-104">In this overview of hello core components of hello Azure Batch service, we discuss hello primary service features and resources that Batch developers can use toobuild large-scale parallel compute solutions.</span></span>

<span data-ttu-id="2e352-105">E kidolgozása számítási elosztott alkalmazás vagy szolgáltatás, amely közvetlen problémák [REST API] [ batch_rest_api] hívások, illetve használ egy hello [kötegelt SDK-k](batch-apis-tools.md#azure-accounts-for-batch-development), fogja használni hello erőforrások és a cikkben említett szolgáltatások számos.</span><span class="sxs-lookup"><span data-stu-id="2e352-105">Whether you're developing a distributed computational application or service that issues direct [REST API][batch_rest_api] calls or you're using one of hello [Batch SDKs](batch-apis-tools.md#azure-accounts-for-batch-development), you'll use many of hello resources and features discussed in this article.</span></span>

> [!TIP]
> <span data-ttu-id="2e352-106">Tekintse meg a magasabb szintű bemutatása toohello Batch szolgáltatás [alapjai az Azure Batch](batch-technical-overview.md).</span><span class="sxs-lookup"><span data-stu-id="2e352-106">For a higher-level introduction toohello Batch service, see [Basics of Azure Batch](batch-technical-overview.md).</span></span>
>
>

## <a name="batch-service-workflow"></a><span data-ttu-id="2e352-107">A Batch szolgáltatás munkafolyamata</span><span class="sxs-lookup"><span data-stu-id="2e352-107">Batch service workflow</span></span>
<span data-ttu-id="2e352-108">hello következő magas szintű munkafolyamat része jellemzően szinte minden alkalmazások és munkaterhelések párhuzamos feldolgozásra hello Batch szolgáltatás használó szolgáltatások:</span><span class="sxs-lookup"><span data-stu-id="2e352-108">hello following high-level workflow is typical of nearly all applications and services that use hello Batch service for processing parallel workloads:</span></span>

1. <span data-ttu-id="2e352-109">Töltse fel a hello **adatfájlok** , amelyet az tooprocess tooan [Azure Storage] [ azure_storage] fiók.</span><span class="sxs-lookup"><span data-stu-id="2e352-109">Upload hello **data files** that you want tooprocess tooan [Azure Storage][azure_storage] account.</span></span> <span data-ttu-id="2e352-110">Kötegelt elérése az Azure Blob Storage tárolóban beépített támogatását is magában foglalja, és a feladatok túl letölthesse a fájlokat[számítási csomópontok](#compute-node) hello feladatok futása közben.</span><span class="sxs-lookup"><span data-stu-id="2e352-110">Batch includes built-in support for accessing Azure Blob storage, and your tasks can download these files too[compute nodes](#compute-node) when hello tasks are run.</span></span>
2. <span data-ttu-id="2e352-111">Töltse fel a hello **alkalmazásfájlok** , amely a feladatok fogja futtatni.</span><span class="sxs-lookup"><span data-stu-id="2e352-111">Upload hello **application files** that your tasks will run.</span></span> <span data-ttu-id="2e352-112">Ezeket a fájlokat bináris fájlokat vagy parancsprogramokat és függőségi viszonyaikat, és a feladatok hello feladatokat hajt végre.</span><span class="sxs-lookup"><span data-stu-id="2e352-112">These files can be binaries or scripts and their dependencies, and are executed by hello tasks in your jobs.</span></span> <span data-ttu-id="2e352-113">A feladatok a fájlok letölthetők a tárfiók, vagy használhatja a hello [alkalmazáscsomagok](#application-packages) köteg szolgáltatás telepítéséhez és alkalmazások kezelése.</span><span class="sxs-lookup"><span data-stu-id="2e352-113">Your tasks can download these files from your Storage account, or you can use hello [application packages](#application-packages) feature of Batch for application management and deployment.</span></span>
3. <span data-ttu-id="2e352-114">Hozza létre a számítási csomópontok [készletét](#pool).</span><span class="sxs-lookup"><span data-stu-id="2e352-114">Create a [pool](#pool) of compute nodes.</span></span> <span data-ttu-id="2e352-115">Készletet hoz létre, amikor Ön adja meg a számítási csomópontok hello készlet, méretét, és hello operációs rendszer hello számát.</span><span class="sxs-lookup"><span data-stu-id="2e352-115">When you create a pool, you specify hello number of compute nodes for hello pool, their size, and hello operating system.</span></span> <span data-ttu-id="2e352-116">A feladat minden egyes feladat futtatásakor van hozzárendelve tooexecute hello csomópontok a készlet egyik.</span><span class="sxs-lookup"><span data-stu-id="2e352-116">When each task in your job runs, it's assigned tooexecute on one of hello nodes in your pool.</span></span>
4. <span data-ttu-id="2e352-117">Hozzon létre egy [feladatot](#job).</span><span class="sxs-lookup"><span data-stu-id="2e352-117">Create a [job](#job).</span></span> <span data-ttu-id="2e352-118">A feladatok tevékenységek gyűjteményeit kezelik.</span><span class="sxs-lookup"><span data-stu-id="2e352-118">A job manages a collection of tasks.</span></span> <span data-ttu-id="2e352-119">Minden feladat tooa adott készlet ahol az adott feladat tevékenységeit futni fog társítani.</span><span class="sxs-lookup"><span data-stu-id="2e352-119">You associate each job tooa specific pool where that job's tasks will run.</span></span>
5. <span data-ttu-id="2e352-120">Adja hozzá [feladatok](#task) toohello feladat.</span><span class="sxs-lookup"><span data-stu-id="2e352-120">Add [tasks](#task) toohello job.</span></span> <span data-ttu-id="2e352-121">Minden feladat hello alkalmazás vagy a korábbi tárfiókban lévő tölt le fájlokat tooprocess hello feltöltött parancsprogram fut.</span><span class="sxs-lookup"><span data-stu-id="2e352-121">Each task runs hello application or script that you uploaded tooprocess hello data files it downloads from your Storage account.</span></span> <span data-ttu-id="2e352-122">Minden feladat befejeződött, mert azt a kimeneti tooAzure tárolási feltöltheti.</span><span class="sxs-lookup"><span data-stu-id="2e352-122">As each task completes, it can upload its output tooAzure Storage.</span></span>
6. <span data-ttu-id="2e352-123">Feladatok előrehaladásának figyeléséhez, és az Azure Storage hello feladat kimenetének beolvasása.</span><span class="sxs-lookup"><span data-stu-id="2e352-123">Monitor job progress and retrieve hello task output from Azure Storage.</span></span>

<span data-ttu-id="2e352-124">hello alábbiakban vitassa meg ezeket és más erőforrások, amelyek lehetővé teszik az elosztott számítási forgatókönyv köteg hello.</span><span class="sxs-lookup"><span data-stu-id="2e352-124">hello following sections discuss these and hello other resources of Batch that enable your distributed computational scenario.</span></span>

> [!NOTE]
> <span data-ttu-id="2e352-125">Kell egy [a Batch-fiók](#account) toouse hello Batch-szolgáltatás.</span><span class="sxs-lookup"><span data-stu-id="2e352-125">You need a [Batch account](#account) toouse hello Batch service.</span></span> <span data-ttu-id="2e352-126">A legtöbb Batch-megoldás esetében szükség van [Azure Storage][azure_storage]-fiókra is a fájlok tárolásához és lekéréséhez.</span><span class="sxs-lookup"><span data-stu-id="2e352-126">Most Batch solutions also use an [Azure Storage][azure_storage] account for file storage and retrieval.</span></span> <span data-ttu-id="2e352-127">Kötegelt jelenleg csak hello **általános célú** tárfióktípus, 5. lépésében leírtak [hozzon létre egy tárfiókot](../storage/common/storage-create-storage-account.md#create-a-storage-account) a [tudnivalók az Azure storage-fiókok](../storage/common/storage-create-storage-account.md).</span><span class="sxs-lookup"><span data-stu-id="2e352-127">Batch currently supports only hello **general-purpose** storage account type, as described in step 5 of [Create a storage account](../storage/common/storage-create-storage-account.md#create-a-storage-account) in [About Azure storage accounts](../storage/common/storage-create-storage-account.md).</span></span>
>
>

## <a name="batch-service-resources"></a><span data-ttu-id="2e352-128">A Batch szolgáltatáshoz szükséges erőforrások</span><span class="sxs-lookup"><span data-stu-id="2e352-128">Batch service resources</span></span>
<span data-ttu-id="2e352-129">Az egyes erőforrások – fiókok, a következő hello számítási csomópontok, készletek, feladatok és feladatokhoz – hello Batch szolgáltatás összes megoldásokkal igényel.</span><span class="sxs-lookup"><span data-stu-id="2e352-129">Some of hello following resources--accounts, compute nodes, pools, jobs, and tasks--are required by all solutions that use hello Batch service.</span></span> <span data-ttu-id="2e352-130">Mások, például a feladatütemezések vagy az alkalmazáscsomagok ugyan hasznosak, de használatuk nem kötelező.</span><span class="sxs-lookup"><span data-stu-id="2e352-130">Others, like job schedules and application packages, are helpful, but optional, features.</span></span>

* [<span data-ttu-id="2e352-131">Fiók</span><span class="sxs-lookup"><span data-stu-id="2e352-131">Account</span></span>](#account)
* [<span data-ttu-id="2e352-132">Számítási csomópont</span><span class="sxs-lookup"><span data-stu-id="2e352-132">Compute node</span></span>](#compute-node)
* [<span data-ttu-id="2e352-133">Készlet</span><span class="sxs-lookup"><span data-stu-id="2e352-133">Pool</span></span>](#pool)
* [<span data-ttu-id="2e352-134">Feladat</span><span class="sxs-lookup"><span data-stu-id="2e352-134">Job</span></span>](#job)

  * [<span data-ttu-id="2e352-135">Feladatütemezések</span><span class="sxs-lookup"><span data-stu-id="2e352-135">Job schedules</span></span>](#scheduled-jobs)
* [<span data-ttu-id="2e352-136">Tevékenység</span><span class="sxs-lookup"><span data-stu-id="2e352-136">Task</span></span>](#task)

  * [<span data-ttu-id="2e352-137">Indítási tevékenység</span><span class="sxs-lookup"><span data-stu-id="2e352-137">Start task</span></span>](#start-task)
  * [<span data-ttu-id="2e352-138">Feladatkezelő-tevékenység</span><span class="sxs-lookup"><span data-stu-id="2e352-138">Job manager task</span></span>](#job-manager-task)
  * [<span data-ttu-id="2e352-139">Feladat-előkészítési és -kiadási tevékenységek</span><span class="sxs-lookup"><span data-stu-id="2e352-139">Job preparation and release tasks</span></span>](#job-preparation-and-release-tasks)
  * [<span data-ttu-id="2e352-140">Többpéldányos tevékenység (MPI)</span><span class="sxs-lookup"><span data-stu-id="2e352-140">Multi-instance task (MPI)</span></span>](#multi-instance-tasks)
  * [<span data-ttu-id="2e352-141">Tevékenységfüggőségek</span><span class="sxs-lookup"><span data-stu-id="2e352-141">Task dependencies</span></span>](#task-dependencies)
* [<span data-ttu-id="2e352-142">Alkalmazáscsomagok</span><span class="sxs-lookup"><span data-stu-id="2e352-142">Application packages</span></span>](#application-packages)

## <a name="account"></a><span data-ttu-id="2e352-143">Fiók</span><span class="sxs-lookup"><span data-stu-id="2e352-143">Account</span></span>
<span data-ttu-id="2e352-144">Batch-fiók egy egyedi módon azonosított entitás hello Batch szolgáltatás belül.</span><span class="sxs-lookup"><span data-stu-id="2e352-144">A Batch account is a uniquely identified entity within hello Batch service.</span></span> <span data-ttu-id="2e352-145">Minden feldolgozás Batch-fiókkal van társítva.</span><span class="sxs-lookup"><span data-stu-id="2e352-145">All processing is associated with a Batch account.</span></span>

<span data-ttu-id="2e352-146">Azure Batch-fiók hello segítségével hozhat létre [Azure-portálon](batch-account-create-portal.md) vagy programozott módon, mint például a hello [Batch Management .NET könyvtár](batch-management-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="2e352-146">You can create an Azure Batch account using hello [Azure portal](batch-account-create-portal.md) or programmatically, such as with hello [Batch Management .NET library](batch-management-dotnet.md).</span></span> <span data-ttu-id="2e352-147">Hello fiók létrehozásakor egy Azure storage-fiókban is hozzárendelhető.</span><span class="sxs-lookup"><span data-stu-id="2e352-147">When creating hello account, you can associate an Azure storage account.</span></span>

### <a name="pool-allocation-mode"></a><span data-ttu-id="2e352-148">Készletlefoglalási mód</span><span class="sxs-lookup"><span data-stu-id="2e352-148">Pool allocation mode</span></span>

<span data-ttu-id="2e352-149">Batch-fiók létrehozásakor megadhatja, hogyan történjen a számítási csomópontok [készleteinek](#pool) lefoglalása.</span><span class="sxs-lookup"><span data-stu-id="2e352-149">When you create a Batch account, you can specify how [pools](#pool) of compute nodes are allocated.</span></span> <span data-ttu-id="2e352-150">Azure Batch által kezelt előfizetést választhatja ki a számítási csomópontok tooallocate készletek, vagy a saját előfizetésének foglalhatja őket.</span><span class="sxs-lookup"><span data-stu-id="2e352-150">You can choose tooallocate pools of compute nodes in a subscription managed by Azure Batch, or you can allocate them in your own subscription.</span></span> <span data-ttu-id="2e352-151">Hello *tárolókészlet foglalási mód* hello fiók tulajdonság határozza meg, ahol készletek foglal le.</span><span class="sxs-lookup"><span data-stu-id="2e352-151">hello *pool allocation mode* property for hello account determines where pools are allocated.</span></span> 

<span data-ttu-id="2e352-152">tárolókészlet foglalási mód toouse, amely toodecide fontolja meg, amely legjobban megfelel a forgatókönyv:</span><span class="sxs-lookup"><span data-stu-id="2e352-152">toodecide which pool allocation mode toouse, consider which best fits your scenario:</span></span>

* <span data-ttu-id="2e352-153">**A Batch szolgáltatás**: Batch szolgáltatás hello alapértelmezett alkalmazáskészlet foglalási mód, amelyben készletek foglal le az Azure által kezelt előfizetések hello színfalak mögött.</span><span class="sxs-lookup"><span data-stu-id="2e352-153">**Batch Service**: Batch Service is hello default pool allocation mode, in which pools are allocated behind hello scenes in Azure-managed subscriptions.</span></span> <span data-ttu-id="2e352-154">Vegye figyelembe a legfontosabb hello Batch szolgáltatás tárolókészlet foglalási mód:</span><span class="sxs-lookup"><span data-stu-id="2e352-154">Keep in mind these key points about hello Batch Service pool allocation mode:</span></span>

    - <span data-ttu-id="2e352-155">hello Batch szolgáltatás tárolókészlet foglalási mód mind a felhőalapú szolgáltatás, és a virtuális gép készletek támogat.</span><span class="sxs-lookup"><span data-stu-id="2e352-155">hello Batch Service pool allocation mode supports both Cloud Service and Virtual Machine pools.</span></span>
    - <span data-ttu-id="2e352-156">hello Batch szolgáltatás tárolókészlet foglalási mód támogatja mindkét megosztott kulcsos hitelesítéséhez vagy [Azure Active Directory hitelesítési](batch-aad-auth.md) (az Azure AD).</span><span class="sxs-lookup"><span data-stu-id="2e352-156">hello Batch Service pool allocation mode supports both shared key authentication or [Azure Active Directory authentication](batch-aad-auth.md) (Azure AD).</span></span> 
    - <span data-ttu-id="2e352-157">Hello Batch szolgáltatás tárolókészlet foglalási üzemmóddal lefoglalt készletek vagy dedikált alacsony prioritású vagy a számítási csomópontok is használhatja.</span><span class="sxs-lookup"><span data-stu-id="2e352-157">You can use either dedicated or low-priority compute nodes in pools allocated with hello Batch Service pool allocation mode.</span></span>
    - <span data-ttu-id="2e352-158">Mód nem használható hello Batch szolgáltatás tárolókészlet foglalási Ha azt tervezi, hogy toocreate Azure virtuális gép készletek az egyéni Virtuálisgép-lemezképek, vagy ha azt tervezi, hogy a virtuális hálózati toouse.</span><span class="sxs-lookup"><span data-stu-id="2e352-158">Do not use hello Batch Service pool allocation mode if you plan toocreate Azure virtual machine pools from custom VM images, or if you plan toouse a virtual network.</span></span> <span data-ttu-id="2e352-159">Inkább hozzon létre a fiókját, hello felhasználói előfizetési tárolókészlet foglalási mód.</span><span class="sxs-lookup"><span data-stu-id="2e352-159">Create your account with hello User Subscription pool allocation mode instead.</span></span>
    - <span data-ttu-id="2e352-160">Virtuális gép készletek kiépítve hello Batch szolgáltatás tárolókészlet foglalási üzemmóddal létrehozott fiók, létre kell hozni a [Azure virtuális gépek piactér] [ vm_marketplace] képek.</span><span class="sxs-lookup"><span data-stu-id="2e352-160">Virtual Machine pools provisioned in an account created with hello Batch Service pool allocation mode must be created from [Azure Virtual Machines Marketplace][vm_marketplace] images.</span></span>

* <span data-ttu-id="2e352-161">**Felhasználói előfizetési**: hello felhasználói előfizetési készlet foglalási üzemmóddal kötegelt készletek kiosztása az hello Azure-előfizetés ahol hello-fiók létrehozása.</span><span class="sxs-lookup"><span data-stu-id="2e352-161">**User subscription**: With hello User Subscription pool allocation mode, Batch pools are allocated in hello Azure subscription where hello account is created.</span></span> <span data-ttu-id="2e352-162">Vegye figyelembe a legfontosabb hello felhasználói előfizetési tárolókészlet foglalási mód:</span><span class="sxs-lookup"><span data-stu-id="2e352-162">Keep in mind these key points about hello User Subscription pool allocation mode:</span></span>
     
    - <span data-ttu-id="2e352-163">hello felhasználói előfizetési tárolókészlet foglalási mód csak a virtuális gép készletek támogat.</span><span class="sxs-lookup"><span data-stu-id="2e352-163">hello User Subscription pool allocation mode supports only Virtual Machine pools.</span></span> <span data-ttu-id="2e352-164">A Cloud Services-készletek nem támogatottak.</span><span class="sxs-lookup"><span data-stu-id="2e352-164">It does not support Cloud Services pools.</span></span>
    - <span data-ttu-id="2e352-165">toocreate virtuálisgép-készletek egyéni Virtuálisgép-rendszerképek vagy toouse egy virtuális hálózatot a virtuális gép készletek, hello felhasználói előfizetési tárolókészlet foglalási módot kell használnia.</span><span class="sxs-lookup"><span data-stu-id="2e352-165">toocreate Virtual Machine pools from custom VM images or toouse a virtual network with Virtual Machine pools, you must use hello User Subscription pool allocation mode.</span></span>  
    - <span data-ttu-id="2e352-166">Kell használnia [Azure Active Directory hitelesítési](batch-aad-auth.md) az erőforráskészleteket, amelyekben hello felhasználói előfizetés foglal le.</span><span class="sxs-lookup"><span data-stu-id="2e352-166">You must use [Azure Active Directory authentication](batch-aad-auth.md) with pools that are allocated in hello user subscription.</span></span> 
    - <span data-ttu-id="2e352-167">Be kell állítania egy az Azure key vault a Batch-fiókhoz Ha hello készlet foglalási mód tooUser előfizetés beállítása.</span><span class="sxs-lookup"><span data-stu-id="2e352-167">You must set up an Azure key vault for your Batch account if hello pool allocation mode is set tooUser Subscription.</span></span> 
    - <span data-ttu-id="2e352-168">Egy fiók hello felhasználói előfizetési tárolókészlet foglalási üzemmóddal létrehozott készletek csak dedikált számítási csomópontok is használhatja.</span><span class="sxs-lookup"><span data-stu-id="2e352-168">You can use only dedicated compute nodes in pools in an account created with hello User Subscription pool allocation mode.</span></span> <span data-ttu-id="2e352-169">Alacsony prioritású csomópontok nem támogatottak.</span><span class="sxs-lookup"><span data-stu-id="2e352-169">Low-priority nodes are not supported.</span></span>
    - <span data-ttu-id="2e352-170">Egy fiók hello felhasználói előfizetési tárolókészlet foglalási üzemmóddal kiosztott virtuális gép készletek létre lehet hozni a [Azure virtuális gépek piactér] [ vm_marketplace] lemezképeket, vagy az egyéni lemezképek, hogy Adja meg.</span><span class="sxs-lookup"><span data-stu-id="2e352-170">Virtual Machine pools provisioned in an account with hello User Subscription pool allocation mode can be created either from [Azure Virtual Machines Marketplace][vm_marketplace] images, or from custom images that you provide.</span></span>

<span data-ttu-id="2e352-171">a következő táblázat hello hello Batch szolgáltatás és felhasználói előfizetési tárolókészlet foglalási mód hasonlítja össze.</span><span class="sxs-lookup"><span data-stu-id="2e352-171">hello following table compares hello Batch Service and User Subscription pool allocation modes.</span></span>

| <span data-ttu-id="2e352-172">**Készletlefoglalási mód**</span><span class="sxs-lookup"><span data-stu-id="2e352-172">**Pool allocation mode**</span></span>                 | <span data-ttu-id="2e352-173">**Batch szolgáltatás**</span><span class="sxs-lookup"><span data-stu-id="2e352-173">**Batch Service**</span></span>                                                                                       | <span data-ttu-id="2e352-174">**Felhasználói előfizetés**</span><span class="sxs-lookup"><span data-stu-id="2e352-174">**User Subscription**</span></span>                                                              |
|-------------------------------------------|---------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------|
| <span data-ttu-id="2e352-175">**A készletek lefoglalásának helye**</span><span class="sxs-lookup"><span data-stu-id="2e352-175">**Pools are allocated in**</span></span>               | <span data-ttu-id="2e352-176">Azure által felügyelt előfizetés</span><span class="sxs-lookup"><span data-stu-id="2e352-176">An Azure-managed subscription</span></span>                                                                           | <span data-ttu-id="2e352-177">hello felhasználói előfizetési a mely hello Batch-fiók létrehozása</span><span class="sxs-lookup"><span data-stu-id="2e352-177">hello user subscription in which hello Batch account is created</span></span>                        |
| <span data-ttu-id="2e352-178">**Támogatott konfigurációk**</span><span class="sxs-lookup"><span data-stu-id="2e352-178">**Supported configurations**</span></span>             | <ul><li><span data-ttu-id="2e352-179">Felhőszolgáltatás konfigurációja</span><span class="sxs-lookup"><span data-stu-id="2e352-179">Cloud Service Configuration</span></span></li><li><span data-ttu-id="2e352-180">Virtuálisgép-konfiguráció (Linux és Windows)</span><span class="sxs-lookup"><span data-stu-id="2e352-180">Virtual Machine Configuration (Linux and Windows)</span></span></li></ul> | <ul><li><span data-ttu-id="2e352-181">Virtuálisgép-konfiguráció (Linux és Windows)</span><span class="sxs-lookup"><span data-stu-id="2e352-181">Virtual Machine Configuration (Linux and Windows)</span></span></li></ul>                |
| <span data-ttu-id="2e352-182">**Támogatott virtuálisgép-rendszerképek**</span><span class="sxs-lookup"><span data-stu-id="2e352-182">**Supported VM images**</span></span>                  | <ul><li><span data-ttu-id="2e352-183">Azure Marketplace-rendszerképek</span><span class="sxs-lookup"><span data-stu-id="2e352-183">Azure Marketplace images</span></span></li></ul>                                                              | <ul><li><span data-ttu-id="2e352-184">Azure Marketplace-rendszerképek</span><span class="sxs-lookup"><span data-stu-id="2e352-184">Azure Marketplace images</span></span></li><li><span data-ttu-id="2e352-185">Egyéni rendszerképek</span><span class="sxs-lookup"><span data-stu-id="2e352-185">Custom images</span></span></li></ul>                   |
| <span data-ttu-id="2e352-186">**Támogatott számításicsomópont-típusok**</span><span class="sxs-lookup"><span data-stu-id="2e352-186">**Supported compute node types**</span></span>         | <ul><li><span data-ttu-id="2e352-187">Dedikált csomópontok</span><span class="sxs-lookup"><span data-stu-id="2e352-187">Dedicated nodes</span></span></li><li><span data-ttu-id="2e352-188">Alacsony prioritású csomópontok</span><span class="sxs-lookup"><span data-stu-id="2e352-188">Low-priority nodes</span></span></li></ul>                                            | <ul><li><span data-ttu-id="2e352-189">Dedikált csomópontok</span><span class="sxs-lookup"><span data-stu-id="2e352-189">Dedicated nodes</span></span></li></ul>                                                  |
| <span data-ttu-id="2e352-190">**Támogatott hitelesítés**</span><span class="sxs-lookup"><span data-stu-id="2e352-190">**Supported authentication**</span></span>             | <ul><li><span data-ttu-id="2e352-191">Megosztott kulcsos</span><span class="sxs-lookup"><span data-stu-id="2e352-191">Shared Key</span></span></li><li><span data-ttu-id="2e352-192">Azure AD</span><span class="sxs-lookup"><span data-stu-id="2e352-192">Azure AD</span></span></li></ul>                                                           | <ul><li><span data-ttu-id="2e352-193">Azure AD</span><span class="sxs-lookup"><span data-stu-id="2e352-193">Azure AD</span></span></li></ul>                                                         |
| <span data-ttu-id="2e352-194">**Azure Key Vault szükséges**</span><span class="sxs-lookup"><span data-stu-id="2e352-194">**Azure Key Vault required**</span></span>             | <span data-ttu-id="2e352-195">Nem</span><span class="sxs-lookup"><span data-stu-id="2e352-195">No</span></span>                                                                                                      | <span data-ttu-id="2e352-196">Igen</span><span class="sxs-lookup"><span data-stu-id="2e352-196">Yes</span></span>                                                                                |
| <span data-ttu-id="2e352-197">**Magkvóta**</span><span class="sxs-lookup"><span data-stu-id="2e352-197">**Core quota**</span></span>                           | <span data-ttu-id="2e352-198">A Batch-magkvóta határozza meg</span><span class="sxs-lookup"><span data-stu-id="2e352-198">Determined by Batch core quota</span></span>                                                                          | <span data-ttu-id="2e352-199">Az előfizetés magkvótája határozza meg</span><span class="sxs-lookup"><span data-stu-id="2e352-199">Determined by subscription core quota</span></span>                                              |
| <span data-ttu-id="2e352-200">**Azure Virtual Network- (Vnet-) támogatás**</span><span class="sxs-lookup"><span data-stu-id="2e352-200">**Azure Virtual Network (Vnet) support**</span></span> | <span data-ttu-id="2e352-201">A készletek létre hello felhőalapú szolgáltatás konfigurációja</span><span class="sxs-lookup"><span data-stu-id="2e352-201">Pools created with hello Cloud Service Configuration</span></span>                                                      | <span data-ttu-id="2e352-202">Virtuálisgép-konfiguráció hello létre készletek</span><span class="sxs-lookup"><span data-stu-id="2e352-202">Pools created with hello Virtual Machine Configuration</span></span>                               |
| <span data-ttu-id="2e352-203">**Vnet üzembehelyezési modell támogatása**</span><span class="sxs-lookup"><span data-stu-id="2e352-203">**Vnet deployment model supported**</span></span>      | <span data-ttu-id="2e352-204">Klasszikus üzemi modellel létrehozott Vnetek</span><span class="sxs-lookup"><span data-stu-id="2e352-204">Vnets created with classic deployment model</span></span>                                                             | <span data-ttu-id="2e352-205">A Vnetek hello klasszikus telepítési modell vagy a Azure Resource Manager</span><span class="sxs-lookup"><span data-stu-id="2e352-205">Vnets created with either hello classic deployment model or Azure   Resource Manager</span></span> |

## <a name="azure-storage-account"></a><span data-ttu-id="2e352-206">Azure Storage-fiók</span><span class="sxs-lookup"><span data-stu-id="2e352-206">Azure Storage account</span></span>

<span data-ttu-id="2e352-207">Az erőforrásfájlok és a kimeneti fájlok tárolására a legtöbb Batch-megoldás az Azure Storage-ot használja.</span><span class="sxs-lookup"><span data-stu-id="2e352-207">Most Batch solutions use Azure Storage for storing resource files and output files.</span></span>  

<span data-ttu-id="2e352-208">Kötegelt jelenleg csak hello általános célú tárfiók típusa, 5. lépésében leírtak [hozzon létre egy tárfiókot](../storage/common/storage-create-storage-account.md#create-a-storage-account) a [tudnivalók az Azure storage-fiókok](../storage/common/storage-create-storage-account.md).</span><span class="sxs-lookup"><span data-stu-id="2e352-208">Batch currently supports only hello general-purpose storage account type, as described in step 5 of [Create a storage account](../storage/common/storage-create-storage-account.md#create-a-storage-account) in [About Azure storage accounts](../storage/common/storage-create-storage-account.md).</span></span> <span data-ttu-id="2e352-209">A Batch-tevékenységeknek (beleértve a szabványos tevékenységeket, az indítási tevékenységeket, a feladat-előkészítési és a feladatkiadási tevékenységeket) olyan erőforrásfájlokat kell meghatározniuk, amelyek általános célú tárfiókokban találhatóak.</span><span class="sxs-lookup"><span data-stu-id="2e352-209">Your Batch tasks (including standard tasks, start tasks, job preparation tasks, and job release tasks) must specify resource files that reside in general-purpose storage accounts.</span></span>


## <a name="compute-node"></a><span data-ttu-id="2e352-210">Számítási csomópont</span><span class="sxs-lookup"><span data-stu-id="2e352-210">Compute node</span></span>
<span data-ttu-id="2e352-211">A számítási csomópont egy Azure virtuális gép (VM) vagy a virtuális gép, amely dedikált tooprocessing egy részét az alkalmazás terhelés a felhőalapú szolgáltatás.</span><span class="sxs-lookup"><span data-stu-id="2e352-211">A compute node is an Azure virtual machine (VM) or cloud service VM that is dedicated tooprocessing a portion of your application's workload.</span></span> <span data-ttu-id="2e352-212">egy csomópont hello mérete CPU mag, a memória-kapacitás és a helyi rendszer fájlméret toohello csomópont lefoglalt hello számát határozza meg.</span><span class="sxs-lookup"><span data-stu-id="2e352-212">hello size of a node determines hello number of CPU cores, memory capacity, and local file system size that is allocated toohello node.</span></span> <span data-ttu-id="2e352-213">Azure Cloud Services, a hello lemezképek használatával hozhat létre a Windows vagy Linux-csomópont készleteinek [Azure virtuális gépek piactér][vm_marketplace], vagy egyéni lemezképeket készíteni.</span><span class="sxs-lookup"><span data-stu-id="2e352-213">You can create pools of Windows or Linux nodes by using Azure Cloud Services, images from hello [Azure Virtual Machines Marketplace][vm_marketplace], or custom images that you prepare.</span></span> <span data-ttu-id="2e352-214">Tekintse meg a következőt hello [készlet](#pool) további információt ezen beállítások szakaszban.</span><span class="sxs-lookup"><span data-stu-id="2e352-214">See hello following [Pool](#pool) section for more information on these options.</span></span>

<span data-ttu-id="2e352-215">Csomópontok futtatható bármely végrehajtható fájl vagy parancsfájl hello operációsrendszer-környezet hello csomópont által támogatott.</span><span class="sxs-lookup"><span data-stu-id="2e352-215">Nodes can run any executable or script that is supported by hello operating system environment of hello node.</span></span> <span data-ttu-id="2e352-216">Ezek közé Windows esetén az \*.exe-, a \*.cmd-, a \*.bat-fájlok és a PowerShell-parancsfájlok tartoznak, Linux esetén pedig a bináris fájlok, valamint rendszerhéj- és Python-parancsfájlok.</span><span class="sxs-lookup"><span data-stu-id="2e352-216">This includes \*.exe, \*.cmd, \*.bat and PowerShell scripts for Windows--and binaries, shell, and Python scripts for Linux.</span></span>

<span data-ttu-id="2e352-217">A Batch szolgáltatásban működő számítási csomópontok emellett a következőket is tartalmazzák:</span><span class="sxs-lookup"><span data-stu-id="2e352-217">All compute nodes in Batch also include:</span></span>

* <span data-ttu-id="2e352-218">Szabványos [mappastruktúra](#files-and-directories), valamint az ehhez tartozó [környezeti változók](#environment-settings-for-tasks), amelyekre a tevékenységek hivatkozni tudnak.</span><span class="sxs-lookup"><span data-stu-id="2e352-218">A standard [folder structure](#files-and-directories) and associated [environment variables](#environment-settings-for-tasks) that are available for reference by tasks.</span></span>
* <span data-ttu-id="2e352-219">**Tűzfal** beállításokat, amelyek toocontrol elérésének beállítását.</span><span class="sxs-lookup"><span data-stu-id="2e352-219">**Firewall** settings that are configured toocontrol access.</span></span>
* <span data-ttu-id="2e352-220">[Távelérés](#connecting-to-compute-nodes) tooboth (Remote Desktop Protocol (RDP)) Windows és Linux (Secure Shell (SSH)) csomópontot.</span><span class="sxs-lookup"><span data-stu-id="2e352-220">[Remote access](#connecting-to-compute-nodes) tooboth Windows (Remote Desktop Protocol (RDP)) and Linux (Secure Shell (SSH)) nodes.</span></span>

## <a name="pool"></a><span data-ttu-id="2e352-221">Készlet</span><span class="sxs-lookup"><span data-stu-id="2e352-221">Pool</span></span>
<span data-ttu-id="2e352-222">A készletek olyan csomópontok gyűjteményei, amelyeken az alkalmazás fut.</span><span class="sxs-lookup"><span data-stu-id="2e352-222">A pool is a collection of nodes that your application runs on.</span></span> <span data-ttu-id="2e352-223">hello készlet hozhatók létre manuálisan, illetve automatikusan hello Batch szolgáltatás hello munkahelyi toobe végzett megadásakor.</span><span class="sxs-lookup"><span data-stu-id="2e352-223">hello pool can be created manually by you, or automatically by hello Batch service when you specify hello work toobe done.</span></span> <span data-ttu-id="2e352-224">Hozzon létre, és a készlet, amely megfelel az alkalmazás erőforrás-követelmények hello kezelése.</span><span class="sxs-lookup"><span data-stu-id="2e352-224">You can create and manage a pool that meets hello resource requirements of your application.</span></span> <span data-ttu-id="2e352-225">Egy készlet csak hello Batch-fiók, amelyben létrehozták használhatja.</span><span class="sxs-lookup"><span data-stu-id="2e352-225">A pool can be used only by hello Batch account in which it was created.</span></span> <span data-ttu-id="2e352-226">Egy Batch-fiók több készlettel is rendelkezhet.</span><span class="sxs-lookup"><span data-stu-id="2e352-226">A Batch account can have more than one pool.</span></span>

<span data-ttu-id="2e352-227">Azure Batch-készleteket hozhat létre. hello core Azure számítási platform felett.</span><span class="sxs-lookup"><span data-stu-id="2e352-227">Azure Batch pools build on top of hello core Azure compute platform.</span></span> <span data-ttu-id="2e352-228">Adja meg a nagy méretű foglalás, alkalmazástelepítés, adatok terjesztési, állapotfigyelést és rugalmas készlet számítási csomópontjain hello száma illesztését ([skálázás](#scaling-compute-resources)).</span><span class="sxs-lookup"><span data-stu-id="2e352-228">They provide large-scale allocation, application installation, data distribution, health monitoring, and flexible adjustment of hello number of compute nodes within a pool ([scaling](#scaling-compute-resources)).</span></span>

<span data-ttu-id="2e352-229">Minden csomópont tooa készlet hozzáadott egyedi nevét és IP-cím van hozzárendelve.</span><span class="sxs-lookup"><span data-stu-id="2e352-229">Every node that is added tooa pool is assigned a unique name and IP address.</span></span> <span data-ttu-id="2e352-230">Csomópont eltávolítása a készletből, toohello operációs rendszer vagy a fájlok végrehajtott módosítások elvesznek, és annak nevét, IP-cím kiadott későbbi használatra.</span><span class="sxs-lookup"><span data-stu-id="2e352-230">When a node is removed from a pool, any changes that are made toohello operating system or files are lost, and its name and IP address are released for future use.</span></span> <span data-ttu-id="2e352-231">Amikor egy csomópont kikerül egy készletből, vége van az élettartamának.</span><span class="sxs-lookup"><span data-stu-id="2e352-231">When a node leaves a pool, its lifetime is over.</span></span>

<span data-ttu-id="2e352-232">Készletet hoz létre, amikor a következő attribútumok hello is megadhat.</span><span class="sxs-lookup"><span data-stu-id="2e352-232">When you create a pool, you can specify hello following attributes.</span></span> <span data-ttu-id="2e352-233">Egyes beállítások eltérőek, attól függően, hogy hello tárolókészlet foglalási módjának hello kötegelt [fiók](#account):</span><span class="sxs-lookup"><span data-stu-id="2e352-233">Some settings differ, depending on hello pool allocation mode of hello Batch [account](#account):</span></span>

- <span data-ttu-id="2e352-234">A számítási csomópont operációs rendszere és verziója</span><span class="sxs-lookup"><span data-stu-id="2e352-234">Compute node operating system and version</span></span>
- <span data-ttu-id="2e352-235">A számítási csomópont típusa és a csomópontok kívánt száma</span><span class="sxs-lookup"><span data-stu-id="2e352-235">Compute node type and target number of nodes</span></span>
- <span data-ttu-id="2e352-236">Hello számítási csomópontok mérete</span><span class="sxs-lookup"><span data-stu-id="2e352-236">Size of hello compute nodes</span></span>
- <span data-ttu-id="2e352-237">Skálázási szabályzat</span><span class="sxs-lookup"><span data-stu-id="2e352-237">Scaling policy</span></span>
- <span data-ttu-id="2e352-238">Tevékenységütemezési szabályzat</span><span class="sxs-lookup"><span data-stu-id="2e352-238">Task scheduling policy</span></span>
- <span data-ttu-id="2e352-239">A számítási csomópontok kommunikációs állapota</span><span class="sxs-lookup"><span data-stu-id="2e352-239">Communication status for compute nodes</span></span>
- <span data-ttu-id="2e352-240">A számítási csomópontok indítási tevékenységei</span><span class="sxs-lookup"><span data-stu-id="2e352-240">Start tasks for compute nodes</span></span>
- <span data-ttu-id="2e352-241">Alkalmazáscsomagok</span><span class="sxs-lookup"><span data-stu-id="2e352-241">Application packages</span></span>
- <span data-ttu-id="2e352-242">Hálózati konfiguráció</span><span class="sxs-lookup"><span data-stu-id="2e352-242">Network configuration</span></span>

<span data-ttu-id="2e352-243">Ezek a beállítások leírását a következő részekben hello részletesebben.</span><span class="sxs-lookup"><span data-stu-id="2e352-243">Each of these settings is described in more detail in hello following sections.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="2e352-244">Batch fiókjainak hello Batch szolgáltatás tárolókészlet foglalási üzemmóddal rendelkezik, amely korlátozza a Batch-fiók magok száma hello alapértelmezett kvótát.</span><span class="sxs-lookup"><span data-stu-id="2e352-244">Batch accounts created with hello Batch Service pool allocation mode have a default quota that limits hello number of cores in a Batch account.</span></span> <span data-ttu-id="2e352-245">magok száma hello felel meg a számítási csomópontok toohello száma.</span><span class="sxs-lookup"><span data-stu-id="2e352-245">hello number of cores corresponds toohello number of compute nodes.</span></span> <span data-ttu-id="2e352-246">Hello alapértelmezett kvóták és találhat útmutatást hogyan túl[a kvóta növeléséhez](batch-quota-limit.md#increase-a-quota) a [kvótái és korlátai hello Azure Batch szolgáltatás](batch-quota-limit.md).</span><span class="sxs-lookup"><span data-stu-id="2e352-246">You can find hello default quotas and instructions on how too[increase a quota](batch-quota-limit.md#increase-a-quota) in [Quotas and limits for hello Azure Batch service](batch-quota-limit.md).</span></span> <span data-ttu-id="2e352-247">A készlet nem van elérése a cél a csomópontok számát, ha a hello core kvóta hello ok lehet.</span><span class="sxs-lookup"><span data-stu-id="2e352-247">If your pool is not achieving its target number of nodes, hello core quota might be hello reason.</span></span>
>
><span data-ttu-id="2e352-248">Batch fiókjainak hello felhasználói előfizetési tárolókészlet foglalási üzemmóddal nincs vizsgálat hello Batch szolgáltatás kvótái.</span><span class="sxs-lookup"><span data-stu-id="2e352-248">Batch accounts created with hello User Subscription pool allocation mode do not observe hello Batch service quotas.</span></span> <span data-ttu-id="2e352-249">Ehelyett a hello közös hello magkvótája megadott előfizetéshez.</span><span class="sxs-lookup"><span data-stu-id="2e352-249">Instead, they share in hello core quota for hello specified subscription.</span></span> <span data-ttu-id="2e352-250">További információkért lásd [az Azure-előfizetésekre és -szolgáltatásokra vonatkozó korlátozásokat, kvótákat és megkötéseket](../azure-subscription-service-limits.md) ismertető témakör [a virtuális gépek korlátaira](../azure-subscription-service-limits.md#virtual-machines-limits) vonatkozó részét.</span><span class="sxs-lookup"><span data-stu-id="2e352-250">For more information, see [Virtual Machines limits](../azure-subscription-service-limits.md#virtual-machines-limits) in [Azure subscription and service limits, quotas, and constraints](../azure-subscription-service-limits.md).</span></span>
>
>

### <a name="compute-node-operating-system-and-version"></a><span data-ttu-id="2e352-251">A számítási csomópont operációs rendszere és verziója</span><span class="sxs-lookup"><span data-stu-id="2e352-251">Compute node operating system and version</span></span>

<span data-ttu-id="2e352-252">A Batch-készlet létrehozásakor megadhatja a hello Azure virtuális gép konfigurációs és operációs rendszer minden számítási csomóponton hello készletben toorun kívánt hello típusú.</span><span class="sxs-lookup"><span data-stu-id="2e352-252">When you create a Batch pool, you can specify hello Azure virtual machine configuration and hello type of operating system you want toorun on each compute node in hello pool.</span></span> <span data-ttu-id="2e352-253">rendelkezésre álló kötegben konfigurációk hello két típusa van:</span><span class="sxs-lookup"><span data-stu-id="2e352-253">hello two types of configurations available in Batch are:</span></span>

- <span data-ttu-id="2e352-254">Hello **virtuálisgép-konfiguráció**, amely a készlethez tartozó hello adja meg az Azure virtuális gépek magában foglalja.</span><span class="sxs-lookup"><span data-stu-id="2e352-254">hello **Virtual Machine Configuration**, which specifies that hello pool is comprised of Azure virtual machines.</span></span> <span data-ttu-id="2e352-255">Ezek a virtuális gépek Linux- vagy Windows-rendszerképből is létrehozhatók.</span><span class="sxs-lookup"><span data-stu-id="2e352-255">These VMs may be created from either Linux or Windows images.</span></span> 

    <span data-ttu-id="2e352-256">Amikor alapuló virtuálisgép-konfiguráció hello készletet hoz létre, meg kell adnia hello csomópontok nem csak hello méretétől és hello használt képek toocreate hello forrását őket, de is hello **virtuális gép Képhivatkozás** és hello Kötegelt **csomópont ügynök SKU** toobe hello csomópontjára telepítve.</span><span class="sxs-lookup"><span data-stu-id="2e352-256">When you create a pool based on hello Virtual Machine Configuration, you must specify not only hello size of hello nodes and hello source of hello images used toocreate them, but also hello **virtual machine image reference** and hello Batch **node agent SKU** toobe installed on hello nodes.</span></span> <span data-ttu-id="2e352-257">A készlet e tulajdonságainak megadásával kapcsolatos további információk: [Provision Linux compute nodes in Azure Batch pools](batch-linux-nodes.md) (Linuxos számítási csomópontok kiépítése Azure Batch-készletekben).</span><span class="sxs-lookup"><span data-stu-id="2e352-257">For more information about specifying these pool properties, see [Provision Linux compute nodes in Azure Batch pools](batch-linux-nodes.md).</span></span>

- <span data-ttu-id="2e352-258">Hello **Felhőszolgáltatások konfigurálása**, amely adja meg a készlethez tartozó hello Azure Felhőszolgáltatások csomópontok magában foglalja.</span><span class="sxs-lookup"><span data-stu-id="2e352-258">hello **Cloud Services Configuration**, which specifies that hello pool is comprised of Azure Cloud Services nodes.</span></span> <span data-ttu-id="2e352-259">A Cloud Services *kizárólag* windowsos számítási csomópontok létrehozására használható.</span><span class="sxs-lookup"><span data-stu-id="2e352-259">Cloud Services provide Windows compute nodes *only*.</span></span>

    <span data-ttu-id="2e352-260">A felhő konfigurálása készletek rendelkezésre álló operációs rendszeren hello szereplő [Azure vendég operációs rendszereinek kiadásait és SDK-kompatibilitási mátrixát](../cloud-services/cloud-services-guestos-update-matrix.md).</span><span class="sxs-lookup"><span data-stu-id="2e352-260">Available operating systems for Cloud Services Configuration pools are listed in hello [Azure Guest OS releases and SDK compatibility matrix](../cloud-services/cloud-services-guestos-update-matrix.md).</span></span> <span data-ttu-id="2e352-261">Cloud Services csomópontok tartalmazó készletet hoz létre, ha szüksége van-e toospecify hello csomópont méretének és a *operációsrendszer-család*.</span><span class="sxs-lookup"><span data-stu-id="2e352-261">When you create a pool that contains Cloud Services nodes, you need toospecify hello node size and its *OS Family*.</span></span> <span data-ttu-id="2e352-262">Felhőszolgáltatások gyorsabban Windows rendszerű virtuális gépek olyan telepített tooAzure.</span><span class="sxs-lookup"><span data-stu-id="2e352-262">Cloud Services are deployed tooAzure more quickly than virtual machines running Windows.</span></span> <span data-ttu-id="2e352-263">Ha windowsos számítási csomópontok készleteire van szükség, előfordulhat, hogy a Cloud Services üzembe helyezési idő szempontjából teljesítményelőnyt nyújt.</span><span class="sxs-lookup"><span data-stu-id="2e352-263">If you want pools of Windows compute nodes, you may find that Cloud Services provide a performance benefit in terms of deployment time.</span></span>

    * <span data-ttu-id="2e352-264">Hello *operációsrendszer-család* is meghatározza, mely verzióit .NET hello OS lettek telepítve.</span><span class="sxs-lookup"><span data-stu-id="2e352-264">hello *OS Family* also determines which versions of .NET are installed with hello OS.</span></span>
    * <span data-ttu-id="2e352-265">A feldolgozói szerepkörök Felhőszolgáltatások belül, meg egy *operációsrendszer-verzió* (feldolgozói szerepkörök további információkért lásd: hello [információ a felhőszolgáltatások](../cloud-services/cloud-services-choose-me.md#tell-me-about-cloud-services) hello című [Cloud Services áttekintés](../cloud-services/cloud-services-choose-me.md)).</span><span class="sxs-lookup"><span data-stu-id="2e352-265">As with worker roles within Cloud Services, you can specify an *OS Version* (for more information on worker roles, see hello [Tell me about cloud services](../cloud-services/cloud-services-choose-me.md#tell-me-about-cloud-services) section in hello [Cloud Services overview](../cloud-services/cloud-services-choose-me.md)).</span></span>
    * <span data-ttu-id="2e352-266">Mivel feldolgozói szerepkörök, azt javasoljuk, hogy megadja `*` hello a *operációsrendszer-verzió* , hogy hello csomópontok automatikusan megtörténik, és toonewly kiadott verziók nem szükséges munka toocater nincs.</span><span class="sxs-lookup"><span data-stu-id="2e352-266">As with worker roles, we recommend that you specify `*` for hello *OS Version* so that hello nodes are automatically upgraded, and there is no work required toocater toonewly released versions.</span></span> <span data-ttu-id="2e352-267">hello elsődleges használati eset kijelölése egy adott operációs rendszer verziója Alkalmazáskompatibilitás tooensure, amely lehetővé teszi az előző verziókkal való kompatibilitás tesztelési toobe végre, mielőtt engedélyezné a hello verzió toobe frissítése.</span><span class="sxs-lookup"><span data-stu-id="2e352-267">hello primary use case for selecting a specific OS version is tooensure application compatibility, which allows backward compatibility testing toobe performed before allowing hello version toobe updated.</span></span> <span data-ttu-id="2e352-268">Ellenőrzés után hello *operációsrendszer-verzió* hello készlet frissíthető és telepíthető hello új operációsrendszer-lemezképek – összes futó feladat megszakadt, és helyezte.</span><span class="sxs-lookup"><span data-stu-id="2e352-268">After validation, hello *OS Version* for hello pool can be updated and hello new OS image can be installed--any running tasks are interrupted and requeued.</span></span>

<span data-ttu-id="2e352-269">Készletet hoz létre, amikor szüksége tooselect hello megfelelő **nodeAgentSkuId**hello az operációs rendszer alapjául szolgáló lemezképhez hello a VHD-fájl, attól függően, hogy.</span><span class="sxs-lookup"><span data-stu-id="2e352-269">When you create a pool, you need tooselect hello appropriate **nodeAgentSkuId**, depending on hello OS of hello base image of your VHD.</span></span> <span data-ttu-id="2e352-270">Kérhető le a rendelkezésre álló csomópont ügynök SKU eseményazonosítók tootheir leképezése az operációsrendszer-lemezképek hivatkozások hívó hello [lista támogatott csomópont ügynök SKU](https://docs.microsoft.com/rest/api/batchservice/list-supported-node-agent-skus) műveletet.</span><span class="sxs-lookup"><span data-stu-id="2e352-270">You can get a mapping of available node agent SKU ID's tootheir OS Image references by calling hello [List Supported Node Agent SKUs](https://docs.microsoft.com/rest/api/batchservice/list-supported-node-agent-skus) operation.</span></span>

<span data-ttu-id="2e352-271">Lásd: hello [fiók](#account) szakasz hello tárolókészlet foglalási mód beállításáról a Batch-fiók létrehozásakor.</span><span class="sxs-lookup"><span data-stu-id="2e352-271">See hello [Account](#account) section for information on setting hello pool allocation mode when you create a Batch account.</span></span>

#### <a name="custom-images-for-virtual-machine-pools"></a><span data-ttu-id="2e352-272">Egyéni rendszerképek virtuálisgép-készletekhez</span><span class="sxs-lookup"><span data-stu-id="2e352-272">Custom images for Virtual Machine pools</span></span>

<span data-ttu-id="2e352-273">toouse egy egyéni lemezkép tooprovision virtuálisgép-készletek, a Batch-fiók létrehozása a hello felhasználói előfizetési tárolókészlet foglalási üzemmóddal.</span><span class="sxs-lookup"><span data-stu-id="2e352-273">toouse a custom image tooprovision Virtual Machine pools, create your Batch account with hello User Subscription pool allocation mode.</span></span> <span data-ttu-id="2e352-274">Ebben a módban a kötegelt készletek hello fiókot tartalmazó hello előfizetéssé foglal le.</span><span class="sxs-lookup"><span data-stu-id="2e352-274">With this mode, Batch pools are allocated into hello subscription where hello account resides.</span></span> <span data-ttu-id="2e352-275">Lásd: hello [fiók](#account) szakasz hello tárolókészlet foglalási mód beállításáról a Batch-fiók létrehozásakor.</span><span class="sxs-lookup"><span data-stu-id="2e352-275">See hello [Account](#account) section for information on setting hello pool allocation mode when you create a Batch account.</span></span>

<span data-ttu-id="2e352-276">toouse egy egyéni lemezképet, szüksége lesz tooprepare hello lemezkép által normalizálása azt.</span><span class="sxs-lookup"><span data-stu-id="2e352-276">toouse a custom image, you'll need tooprepare hello image by generalizing it.</span></span> <span data-ttu-id="2e352-277">További információ a Linux egyéni lemezképek előkészítése az Azure virtuális gépek: [rögzítése sablonként egy Azure Linux virtuális gép toouse](../virtual-machines/linux/capture-image-nodejs.md).</span><span class="sxs-lookup"><span data-stu-id="2e352-277">For information about preparing custom Linux images from Azure VMs, see [Capture an Azure Linux VM toouse as a template](../virtual-machines/linux/capture-image-nodejs.md).</span></span> <span data-ttu-id="2e352-278">További tudnivalókat az Azure-beli virtuális gépekről származó egyéni Windows-rendszerképek előkészítéséről az [egyéni virtuálisgép-rendszerképek Azure PowerShell-lel való létrehozását ismertető](../virtual-machines/windows/tutorial-custom-images.md) cikkben találhat.</span><span class="sxs-lookup"><span data-stu-id="2e352-278">For information about preparing custom Windows images from Azure VMs, see [Create custom VM images with Azure PowerShell](../virtual-machines/windows/tutorial-custom-images.md).</span></span> 

> [!IMPORTANT]
> <span data-ttu-id="2e352-279">Az egyéni lemezképet előkészítésekor tartsa szem előtt tartva hello következő:</span><span class="sxs-lookup"><span data-stu-id="2e352-279">When preparing your custom image, keep in mind hello following:</span></span>
> - <span data-ttu-id="2e352-280">Győződjön meg arról, hogy hello alap operációsrendszer-lemezképek használhatja a kötegelt készletek does tooprovision nem rendelkezik olyan előre telepített Azure-bővítményeket, például az egyéni parancsprogramok futtatására szolgáló bővítmény hello.</span><span class="sxs-lookup"><span data-stu-id="2e352-280">Ensure that hello base OS image you use tooprovision your Batch pools does not have any pre-installed Azure extensions, such as hello Custom Script extension.</span></span> <span data-ttu-id="2e352-281">Ha hello kép egy előre telepített bővítményt tartalmazza, Azure hello VM telepítése problémák fordulhatnak elő.</span><span class="sxs-lookup"><span data-stu-id="2e352-281">If hello image contains a pre-installed extension, Azure may encounter problems deploying hello VM.</span></span>
> - <span data-ttu-id="2e352-282">Győződjön meg arról, hogy hello alap operációsrendszer-lemezképek, megadására, használ hello alapértelmezett ideiglenes meghajtón, mert hello kötegelt csomópont ügynök jelenleg vár hello alapértelmezett ideiglenes meghajtón.</span><span class="sxs-lookup"><span data-stu-id="2e352-282">Ensure that hello base OS image you provide uses hello default temp drive, as hello Batch node agent currently expects hello default temp drive.</span></span>
>
>

<span data-ttu-id="2e352-283">a virtuális gép konfigurációs készlet egyéni lemezkép használatával toocreate, létre kell hoznia egyet, vagy több szabványos Azure Storage-fiókok toostore az egyéni VHD lemezképek.</span><span class="sxs-lookup"><span data-stu-id="2e352-283">toocreate a Virtual Machine Configuration pool using a custom image, you'll need one or more standard Azure Storage accounts toostore your custom VHD images.</span></span> <span data-ttu-id="2e352-284">Az egyéni lemezképek blobként vannak tárolva.</span><span class="sxs-lookup"><span data-stu-id="2e352-284">Custom images are stored as blobs.</span></span> <span data-ttu-id="2e352-285">az egyéni lemezképek, a készlet létrehozásakor tooreference adja meg a hello hello egyéni kép VHD-blobok hello az URI-azonosítók [osDisk](https://docs.microsoft.com/rest/api/batchservice/add-a-pool-to-an-account#bk_osdisk) hello tulajdonságának [virtualMachineConfiguration](https://docs.microsoft.com/rest/api/batchservice/add-a-pool-to-an-account#bk_vmconf) tulajdonság.</span><span class="sxs-lookup"><span data-stu-id="2e352-285">tooreference your custom images when you create a pool, specify hello URIs of hello custom image VHD blobs for hello [osDisk](https://docs.microsoft.com/rest/api/batchservice/add-a-pool-to-an-account#bk_osdisk) property of hello [virtualMachineConfiguration](https://docs.microsoft.com/rest/api/batchservice/add-a-pool-to-an-account#bk_vmconf) property.</span></span>

<span data-ttu-id="2e352-286">Győződjön meg arról, hogy a storage-fiókok megfelelnek-e a következő feltételek hello:</span><span class="sxs-lookup"><span data-stu-id="2e352-286">Make sure that your storage accounts meet hello following criteria:</span></span>   

- <span data-ttu-id="2e352-287">hello storage-fiókok tartalmazó hello egyéni kép VHD-blobok kell a toobe ugyanahhoz az előfizetéshez hello, mint a Batch-fiók (hello felhasználói előfizetési) hello.</span><span class="sxs-lookup"><span data-stu-id="2e352-287">hello storage accounts containing hello custom image VHD blobs need toobe in hello same subscription as hello Batch account (hello user subscription).</span></span>
- <span data-ttu-id="2e352-288">hello megadott tárfiókok kell a hello toobe és hello Batch-fiók ugyanabban a régióban.</span><span class="sxs-lookup"><span data-stu-id="2e352-288">hello specified storage accounts need toobe in hello same region as hello Batch account.</span></span>
- <span data-ttu-id="2e352-289">Jelenleg csak a standard szintű, általános célú tárfiókok támogatottak.</span><span class="sxs-lookup"><span data-stu-id="2e352-289">Only standard general-purpose storage accounts are currently supported.</span></span> <span data-ttu-id="2e352-290">Prémium szintű storage jövőbeli hello támogatott.</span><span class="sxs-lookup"><span data-stu-id="2e352-290">Azure Premium storage will be supported in hello future.</span></span>
- <span data-ttu-id="2e352-291">Megadhat több egyéni virtuálismerevlemez-blobbal rendelkező tárfiókot, vagy több tárfiókot egyetlen blobhoz.</span><span class="sxs-lookup"><span data-stu-id="2e352-291">You can specify one storage account with multiple custom VHD blobs or multiple storage accounts each having a single blob.</span></span> <span data-ttu-id="2e352-292">Javasoljuk, hogy toouse több tárfiókot tooget a jobb teljesítmény.</span><span class="sxs-lookup"><span data-stu-id="2e352-292">We recommend you toouse multiple storage accounts tooget a better performance.</span></span>
- <span data-ttu-id="2e352-293">Egy egyedi egyéni lemezkép Virtuálismerevlemez-blobot too40 Linux Virtuálisgép-példányok vagy 20 Windows Virtuálisgép-példány képes támogatni.</span><span class="sxs-lookup"><span data-stu-id="2e352-293">One unique custom image VHD blob can support up too40 Linux VM instances or 20 Windows VM instances.</span></span> <span data-ttu-id="2e352-294">Szüksége lesz toocreate hello VHD blob toocreate készletek további virtuális gépek példányait.</span><span class="sxs-lookup"><span data-stu-id="2e352-294">You will need toocreate copies of hello VHD blob toocreate pools with more VMs.</span></span> <span data-ttu-id="2e352-295">Például egy címkészlet, amely 200 Windows virtuális gépek kell 10 egyedi VHD-blobok hello megadott **osDisk** tulajdonság.</span><span class="sxs-lookup"><span data-stu-id="2e352-295">For example, a pool with 200 Windows VMs needs 10 unique VHD blobs specified for hello **osDisk** property.</span></span>

<span data-ttu-id="2e352-296">egy készlet hello Azure-portál használatával egyéni lemezképéről toocreate:</span><span class="sxs-lookup"><span data-stu-id="2e352-296">toocreate a pool from a custom image using hello Azure portal:</span></span>

1. <span data-ttu-id="2e352-297">Keresse meg a Batch-fiók tooyour hello Azure-portálon.</span><span class="sxs-lookup"><span data-stu-id="2e352-297">Navigate tooyour Batch account in hello Azure portal.</span></span>
2. <span data-ttu-id="2e352-298">A hello **beállítások** panelen, jelölje be hello **készletek** menüpont.</span><span class="sxs-lookup"><span data-stu-id="2e352-298">On hello **Settings** blade, select hello **Pools** menu item.</span></span>
3. <span data-ttu-id="2e352-299">A hello **készletek** panelen, jelölje be hello **Hozzáadás** hello; utasításhoz **készlet hozzáadása** panel fog megjelenni.</span><span class="sxs-lookup"><span data-stu-id="2e352-299">On hello **Pools** blade, select hello **Add** command; hello **Add pool** blade will be displayed.</span></span>
4. <span data-ttu-id="2e352-300">Válassza ki **egyéni lemezkép (Linux/Windows)** hello a **képtípust** legördülő menüből.</span><span class="sxs-lookup"><span data-stu-id="2e352-300">Select **Custom Image (Linux/Windows)** from hello **Image Type** dropdown.</span></span> <span data-ttu-id="2e352-301">hello portál megjeleníti hello **egyéni lemezkép** kiválasztása.</span><span class="sxs-lookup"><span data-stu-id="2e352-301">hello portal displays hello **Custom Image** picker.</span></span> <span data-ttu-id="2e352-302">Válasszon egy vagy több virtuális merevlemezek hello azonos konténert, és kattintson hello **kiválasztása** gombra.</span><span class="sxs-lookup"><span data-stu-id="2e352-302">Choose one or more VHDs from hello same container and click hello **Select** button.</span></span> 
    <span data-ttu-id="2e352-303">Több virtuális merevlemezeket különböző storage-fiókok és a különböző tárolók támogatása a jövőbeli hello lesz hozzáadva.</span><span class="sxs-lookup"><span data-stu-id="2e352-303">Support for multiple VHDs from different storage accounts and different containers will be added in hello future.</span></span>
5. <span data-ttu-id="2e352-304">SELECT hello megfelelő **Publisher/ajánlat/Sku** az egyéni VHD-k, válassza ki a kívánt hello **gyorsítótárazását** üzemmódban, majd töltse ki az összes hello más paramétereket az hello készlet.</span><span class="sxs-lookup"><span data-stu-id="2e352-304">Select hello correct **Publisher/Offer/Sku** for your custom VHDs, select hello desired **Caching** mode, then fill in all hello other parameters for hello pool.</span></span>
6. <span data-ttu-id="2e352-305">toocheck készlet alapú egyéni lemezképet, tekintse meg a hello **operációs rendszer** hello erőforrás összefoglaló szakaszában hello tulajdonság **készlet** panelen.</span><span class="sxs-lookup"><span data-stu-id="2e352-305">toocheck if a pool is based on a custom image, see hello **Operating System** property in hello resource summary section of hello **Pool** blade.</span></span> <span data-ttu-id="2e352-306">Ez a tulajdonság értékének hello meg kell **egyéni Virtuálisgép-lemezkép**.</span><span class="sxs-lookup"><span data-stu-id="2e352-306">hello value of this property should be **Custom VM image**.</span></span>
7. <span data-ttu-id="2e352-307">A készlethez társított összes egyéni virtuális merevlemezek hello készlet megjelenő **tulajdonságok** panelen.</span><span class="sxs-lookup"><span data-stu-id="2e352-307">All custom VHDs associated with a pool are displayed on hello pool's **Properties** blade.</span></span>

### <a name="compute-node-type-and-target-number-of-nodes"></a><span data-ttu-id="2e352-308">A számítási csomópont típusa és a csomópontok kívánt száma</span><span class="sxs-lookup"><span data-stu-id="2e352-308">Compute node type and target number of nodes</span></span>

<span data-ttu-id="2e352-309">Készletet hoz létre, ha szeretné, hogy és hello cél számát az egyes csomópontok milyen típusú is megadhat.</span><span class="sxs-lookup"><span data-stu-id="2e352-309">When you create a pool, you can specify which types of compute nodes you want and hello target number for each.</span></span> <span data-ttu-id="2e352-310">számítási csomópontok hello két típusa van:</span><span class="sxs-lookup"><span data-stu-id="2e352-310">hello two types of compute nodes are:</span></span>

- <span data-ttu-id="2e352-311">**Dedikált számítási csomópontok.**</span><span class="sxs-lookup"><span data-stu-id="2e352-311">**Dedicated compute nodes.**</span></span> <span data-ttu-id="2e352-312">A dedikált számítási csomópontok az adott feladatra vannak fenntartva.</span><span class="sxs-lookup"><span data-stu-id="2e352-312">Dedicated compute nodes are reserved for your workloads.</span></span> <span data-ttu-id="2e352-313">Alacsony prioritású csomópont drágább, de azok garantált toonever foglalható.</span><span class="sxs-lookup"><span data-stu-id="2e352-313">They are more expensive than low-priority nodes, but they are guaranteed toonever be preempted.</span></span>

- <span data-ttu-id="2e352-314">**Alacsony prioritású számítási csomópontok.**</span><span class="sxs-lookup"><span data-stu-id="2e352-314">**Low-priority compute nodes.**</span></span> <span data-ttu-id="2e352-315">Alacsony prioritású csomópont előnyeit felesleges kapacitás Azure toorun a Batch számítási feladatait.</span><span class="sxs-lookup"><span data-stu-id="2e352-315">Low-priority nodes take advantage of surplus capacity in Azure toorun your Batch workloads.</span></span> <span data-ttu-id="2e352-316">Az alacsony prioritású csomópontok olcsóbbak óránként, mint a dedikáltak, és nagy számítási teljesítményt igénylő feladatok futtatását teszik lehetővé.</span><span class="sxs-lookup"><span data-stu-id="2e352-316">Low-priority nodes are less expensive per hour than dedicated nodes, and enable workloads requiring a lot of compute power.</span></span> <span data-ttu-id="2e352-317">További információ: [Alacsony prioritású virtuális gépek használata a Batch szolgáltatással](batch-low-pri-vms.md).</span><span class="sxs-lookup"><span data-stu-id="2e352-317">For more information, see [Use low-priority VMs with Batch](batch-low-pri-vms.md).</span></span>

    <span data-ttu-id="2e352-318">Az alacsony prioritású számítási csomópontok háttérbe szorulhatnak, ha az Azure-ban nem áll rendelkezése elég többletkapacitás.</span><span class="sxs-lookup"><span data-stu-id="2e352-318">Low-priority compute nodes may be preempted when Azure has insufficient surplus capacity.</span></span> <span data-ttu-id="2e352-319">Ha egy csomópont van részesítés feladatok futtatása során, hello feladatok helyezte, és futtassa újra a után a számítási csomópont újra lesz elérhető.</span><span class="sxs-lookup"><span data-stu-id="2e352-319">If a node is preempted while running tasks, hello tasks are requeued and run again once a compute node becomes available again.</span></span> <span data-ttu-id="2e352-320">Alacsony prioritású csomópont olyan munkaterhelések esetén, ahol hello feladat befejezési idő rugalmas, és hello munkahelyi van osztva sok csomópontjai között jó választás.</span><span class="sxs-lookup"><span data-stu-id="2e352-320">Low-priority nodes are a good option for workloads where hello job completion time is flexible and hello work is distributed across many nodes.</span></span> <span data-ttu-id="2e352-321">Mielőtt a forgatókönyvnek toouse alacsony prioritású csomópontok mellett dönt, győződjön meg arról, hogy a munka miatt megszakadt toopreemption minimális és könnyen toorecreate lesz.</span><span class="sxs-lookup"><span data-stu-id="2e352-321">Before you decide toouse low-priority nodes for your scenario, make sure that any work lost due toopreemption will be minimal and easy toorecreate.</span></span>

    <span data-ttu-id="2e352-322">Alacsony prioritású számítási csomópontok érhetők el csak Batch fiókjainak hello tárolókészlet foglalási módban a túl**Batch szolgáltatás**.</span><span class="sxs-lookup"><span data-stu-id="2e352-322">Low-priority compute nodes are available only for Batch accounts created with hello pool allocation mode set too**Batch Service**.</span></span>

<span data-ttu-id="2e352-323">Mindkét alacsony és dedikált számítási csomópont lehet hello azonos erőforráskészletben.</span><span class="sxs-lookup"><span data-stu-id="2e352-323">You can have both low-priority and dedicated compute nodes in hello same pool.</span></span> <span data-ttu-id="2e352-324">Minden típusú csomópont &mdash; alacsony és dedikált &mdash; van saját cél beállítás, amelynek megadhatja a szükséges hello csomópontok száma.</span><span class="sxs-lookup"><span data-stu-id="2e352-324">Each type of node &mdash; low-priority and dedicated &mdash; has its own target setting, for which you can specify hello desired number of nodes.</span></span> 
    
<span data-ttu-id="2e352-325">hello számítási csomópontok száma érték a hivatkozott tooas egy *cél* , mivel bizonyos esetekben a készlet nem fogja szükséges hello csomópontok száma.</span><span class="sxs-lookup"><span data-stu-id="2e352-325">hello number of compute nodes is referred tooas a *target* because, in some situations, your pool might not reach hello desired number of nodes.</span></span> <span data-ttu-id="2e352-326">Például egy alkalmazáskészlet lehetséges, hogy nem fog hello cél Ha eléri a hello [core kvóta](batch-quota-limit.md) a kötegelt fiókok először.</span><span class="sxs-lookup"><span data-stu-id="2e352-326">For example, a pool might not achieve hello target if it reaches hello [core quota](batch-quota-limit.md) for your Batch account first.</span></span> <span data-ttu-id="2e352-327">Vagy hello készlet nem lehetséges, hogy fog hello cél, ha telepítette az automatikus skálázás képlet toohello készlet, amely hello csomópontok maximális száma korlátozza.</span><span class="sxs-lookup"><span data-stu-id="2e352-327">Or, hello pool might not achieve hello target if you have applied an auto-scaling formula toohello pool that limits hello maximum number of nodes.</span></span>

<span data-ttu-id="2e352-328">Az alacsony prioritású és dedikált számítási csomópontok díjszabását a [Batch díjszabása](https://azure.microsoft.com/pricing/details/batch/) írja le.</span><span class="sxs-lookup"><span data-stu-id="2e352-328">For pricing information for both low-priority and dedicated compute nodes, see [Batch Pricing](https://azure.microsoft.com/pricing/details/batch/).</span></span>

### <a name="size-of-hello-compute-nodes"></a><span data-ttu-id="2e352-329">Hello számítási csomópontok mérete</span><span class="sxs-lookup"><span data-stu-id="2e352-329">Size of hello compute nodes</span></span>

<span data-ttu-id="2e352-330">A **Cloud Services-konfigurációt** használó számítási csomópontok méretét a [Sizes for Cloud Services](../cloud-services/cloud-services-sizes-specs.md) (A Cloud Servicesben érvényes méretek) című cikk tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="2e352-330">**Cloud Services Configuration** compute node sizes are listed in [Sizes for Cloud Services](../cloud-services/cloud-services-sizes-specs.md).</span></span> <span data-ttu-id="2e352-331">A Batch az `ExtraSmall`, `STANDARD_A1_V2` és `STANDARD_A2_V2` kivételével az összes Cloud Services-méretet támogatja.</span><span class="sxs-lookup"><span data-stu-id="2e352-331">Batch supports all Cloud Services sizes except `ExtraSmall`, `STANDARD_A1_V2`, and `STANDARD_A2_V2`.</span></span>

<span data-ttu-id="2e352-332">A **virtuálisgép-konfigurációt** használó számítási csomópontok méretét a [Sizes for virtual machines in Azure](../virtual-machines/linux/sizes.md) (Virtuális gépek mérete az Azure-ban, Linux) és a [Sizes for virtual machines in Azure](../virtual-machines/windows/sizes.md) (Virtuális gépek mérete az Azure-ban, Windows) című cikk tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="2e352-332">**Virtual Machine Configuration** compute node sizes are listed in [Sizes for virtual machines in Azure](../virtual-machines/linux/sizes.md) (Linux) and [Sizes for virtual machines in Azure](../virtual-machines/windows/sizes.md) (Windows).</span></span> <span data-ttu-id="2e352-333">A Batch a `STANDARD_A0`, illetve a Premium Storage típusú méretek (`STANDARD_GS`, `STANDARD_DS` és `STANDARD_DSV2` sorozat) kivételével az összes Azure virtuálisgép-méretet támogatja.</span><span class="sxs-lookup"><span data-stu-id="2e352-333">Batch supports all Azure VM sizes except `STANDARD_A0` and those with premium storage (`STANDARD_GS`, `STANDARD_DS`, and `STANDARD_DSV2` series).</span></span>

<span data-ttu-id="2e352-334">A számítási csomópont méretű kiválasztásakor vegye figyelembe a hello jellemzőit és hello csomópontján futtathatja hello alkalmazások követelményeinek.</span><span class="sxs-lookup"><span data-stu-id="2e352-334">When selecting a compute node size, consider hello characteristics and requirements of hello applications you'll run on hello nodes.</span></span> <span data-ttu-id="2e352-335">Szempontok többszálas-e hello alkalmazást, és segít a mekkora memóriát el például hello leginkább megfelelő és költséghatékony csomópont mérete határozza meg.</span><span class="sxs-lookup"><span data-stu-id="2e352-335">Aspects like whether hello application is multithreaded and how much memory it consumes can help determine hello most suitable and cost-effective node size.</span></span> <span data-ttu-id="2e352-336">Egy csomópont mérete, feltéve, hogy a feladat is egyszerre egy csomóponton fog futni tipikus tooselect.</span><span class="sxs-lookup"><span data-stu-id="2e352-336">It's typical tooselect a node size assuming one task will run on a node at a time.</span></span> <span data-ttu-id="2e352-337">Lehetséges toohave azonban több feladat (és így több alkalmazáspéldányt) [párhuzamos futtatása](batch-parallel-node-tasks.md) a számítási csomópontok feladat végrehajtása során.</span><span class="sxs-lookup"><span data-stu-id="2e352-337">However, it is possible toohave multiple tasks (and therefore multiple application instances) [run in parallel](batch-parallel-node-tasks.md) on compute nodes during job execution.</span></span> <span data-ttu-id="2e352-338">Ebben az esetben is közös toochoose nagyobb csomópont mérete tooaccommodate nőtt hello igény szerinti párhuzamos feladat-végrehajtás.</span><span class="sxs-lookup"><span data-stu-id="2e352-338">In this case, it is common toochoose a larger node size tooaccommodate hello increased demand of parallel task execution.</span></span> <span data-ttu-id="2e352-339">A további információkat a [Tevékenységütemezési szabályzat](#task-scheduling-policy) tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="2e352-339">See [Task scheduling policy](#task-scheduling-policy) for more information.</span></span>

<span data-ttu-id="2e352-340">Hello csomópontok a készlet összes azonos hello méretét.</span><span class="sxs-lookup"><span data-stu-id="2e352-340">All of hello nodes in a pool are hello same size.</span></span> <span data-ttu-id="2e352-341">Ha eltérő rendszerkövetelményeinek toorun alkalmazások tervezi, illetve szintek betölteni, ajánlott külön készletek.</span><span class="sxs-lookup"><span data-stu-id="2e352-341">If you intend toorun applications with differing system requirements and/or load levels, we recommend that you use separate pools.</span></span>

### <a name="scaling-policy"></a><span data-ttu-id="2e352-342">Skálázási szabályzat</span><span class="sxs-lookup"><span data-stu-id="2e352-342">Scaling policy</span></span>

<span data-ttu-id="2e352-343">A dinamikus munkaterhelésekhez, írási és alkalmazni egy [automatikus skálázás képlet](#scaling-compute-resources) tooa készlet.</span><span class="sxs-lookup"><span data-stu-id="2e352-343">For dynamic workloads, you can write and apply an [auto-scaling formula](#scaling-compute-resources) tooa pool.</span></span> <span data-ttu-id="2e352-344">hello Batch szolgáltatás rendszeresen értékeli ki a képletet, és különböző, feladat, és hogy paramétereinek megadása alapján hello készlet belüli csomópontok számát hello módosíthatja.</span><span class="sxs-lookup"><span data-stu-id="2e352-344">hello Batch service periodically evaluates your formula and adjusts hello number of nodes within hello pool based on various pool, job, and task parameters that you can specify.</span></span>

### <a name="task-scheduling-policy"></a><span data-ttu-id="2e352-345">Tevékenységütemezési szabályzat</span><span class="sxs-lookup"><span data-stu-id="2e352-345">Task scheduling policy</span></span>

<span data-ttu-id="2e352-346">Hello [tevékenységek maximális száma legfeljebb](batch-parallel-node-tasks.md) konfigurációs beállítás hello hello belül minden számítási csomópont párhuzamosan futtatható feladatok maximális számát határozza meg.</span><span class="sxs-lookup"><span data-stu-id="2e352-346">hello [max tasks per node](batch-parallel-node-tasks.md) configuration option determines hello maximum number of tasks that can be run in parallel on each compute node within hello pool.</span></span>

<span data-ttu-id="2e352-347">hello alapértelmezett konfigurációja határozza meg, hogy egyszerre csak egy feladat futtatása egy csomóponton, de a forgatókönyvekben, ahol azt előnyös toohave egyszerre egy csomóponton végre két vagy több feladat.</span><span class="sxs-lookup"><span data-stu-id="2e352-347">hello default configuration specifies that one task at a time runs on a node, but there are scenarios where it is beneficial toohave two or more tasks executed on a node simultaneously.</span></span> <span data-ttu-id="2e352-348">Lásd: hello [példa](batch-parallel-node-tasks.md#example-scenario) a hello [egyidejű csomópont feladatok](batch-parallel-node-tasks.md) cikk toosee hogyan előnyeit úgy használhatja ki több tevékenységek maximális száma.</span><span class="sxs-lookup"><span data-stu-id="2e352-348">See hello [example scenario](batch-parallel-node-tasks.md#example-scenario) in hello [concurrent node tasks](batch-parallel-node-tasks.md) article toosee how you can benefit from multiple tasks per node.</span></span>

<span data-ttu-id="2e352-349">Azt is megadhatja a *kitöltési mód* amely megállapítja, hogy a kötegelt között osztja el hello feladatok egyenletes készlet az összes csomópont, vagy minden csomópont, amelynek a feladatok maximális száma hello csomagok feladatok tooanother csomópontra hozzárendelése előtt.</span><span class="sxs-lookup"><span data-stu-id="2e352-349">You can also specify a *fill type* which determines whether Batch spreads hello tasks evenly across all nodes in a pool, or packs each node with hello maximum number of tasks before assigning tasks tooanother node.</span></span>

### <a name="communication-status-for-compute-nodes"></a><span data-ttu-id="2e352-350">A számítási csomópontok kommunikációs állapota</span><span class="sxs-lookup"><span data-stu-id="2e352-350">Communication status for compute nodes</span></span>

<span data-ttu-id="2e352-351">A legtöbb környezetben feladatokat egymástól függetlenül működnek, és nem kell toocommunicate egymással.</span><span class="sxs-lookup"><span data-stu-id="2e352-351">In most scenarios, tasks operate independently and do not need toocommunicate with one another.</span></span> <span data-ttu-id="2e352-352">Vannak azonban olyan alkalmazások (például [MPI-megoldások](batch-mpi.md)), ahol a tevékenységeknek kommunikálniuk kell egymással.</span><span class="sxs-lookup"><span data-stu-id="2e352-352">However, there are some applications in which tasks must communicate, like [MPI scenarios](batch-mpi.md).</span></span>

<span data-ttu-id="2e352-353">Beállíthatja, hogy a készlet tooallow **fürtök csomóponton belüli kommunikációjához kommunikációs**, hogy a készlet csomópontjain képes kommunikálni a futási időben.</span><span class="sxs-lookup"><span data-stu-id="2e352-353">You can configure a pool tooallow **internode communication**, so that nodes within a pool can communicate at runtime.</span></span> <span data-ttu-id="2e352-354">Ha engedélyezte a csomópontok közötti kommunikációt, a Cloud Services-konfigurációt használó készletekben működő csomópontok az 1100-nál magasabb portszámú portokon, a virtuálisgép-konfigurációs készletek csomópontjai pedig bármely porton képesek lesznek kommunikálni egymással.</span><span class="sxs-lookup"><span data-stu-id="2e352-354">When internode communication is enabled, nodes in Cloud Services Configuration pools can communicate with each other on ports greater than 1100, and Virtual Machine Configuration pools do not restrict traffic on any port.</span></span>

<span data-ttu-id="2e352-355">Vegye figyelembe, hogy engedélyezi a fürtök csomóponton belüli kommunikációjához kommunikációs is hatással van a fürtök hello csomópontja hello elhelyezését korlátozhatja a készletben csomópontok maximális száma hello telepítési korlátozásai miatt.</span><span class="sxs-lookup"><span data-stu-id="2e352-355">Note that enabling internode communication also impacts hello placement of hello nodes within clusters and might limit hello maximum number of nodes in a pool because of deployment restrictions.</span></span> <span data-ttu-id="2e352-356">Ha az alkalmazás nem igényli a csomópontok közötti kommunikáció, hello Batch szolgáltatás is foglaljon le csomópontok potenciálisan nagy számú toohello készlet számos különböző fürtök és adatközpontok tooenable nőtt párhuzamos feldolgozási kapacitás.</span><span class="sxs-lookup"><span data-stu-id="2e352-356">If your application does not require communication between nodes, hello Batch service can allocate a potentially large number of nodes toohello pool from many different clusters and datacenters tooenable increased parallel processing power.</span></span>

### <a name="start-tasks-for-compute-nodes"></a><span data-ttu-id="2e352-357">A számítási csomópontok indítási tevékenységei</span><span class="sxs-lookup"><span data-stu-id="2e352-357">Start tasks for compute nodes</span></span>

<span data-ttu-id="2e352-358">nem kötelező hello *feladat indítása* végrehajtása minden egyes csomóponton, hogy a csomópont csatlakozik hello készletet, és minden alkalommal, amikor a csomópont újraindul vagy lemezképet.</span><span class="sxs-lookup"><span data-stu-id="2e352-358">hello optional *start task* executes on each node as that node joins hello pool, and each time a node is restarted or reimaged.</span></span> <span data-ttu-id="2e352-359">hello kezdő tevékenység különösen fontos a számítási csomópontok előkészítése hello végrehajtási feladatok, például a feladatok hello számítási csomóponton futó hello alkalmazások telepítése.</span><span class="sxs-lookup"><span data-stu-id="2e352-359">hello start task is especially useful for preparing compute nodes for hello execution of tasks, like installing hello applications that your tasks run on hello compute nodes.</span></span>

### <a name="application-packages"></a><span data-ttu-id="2e352-360">Alkalmazáscsomagok</span><span class="sxs-lookup"><span data-stu-id="2e352-360">Application packages</span></span>

<span data-ttu-id="2e352-361">Megadhat [alkalmazáscsomagok](#application-packages) toodeploy toohello számítási csomópontok hello készletben.</span><span class="sxs-lookup"><span data-stu-id="2e352-361">You can specify [application packages](#application-packages) toodeploy toohello compute nodes in hello pool.</span></span> <span data-ttu-id="2e352-362">Alkalmazáscsomagok egyszerűbb telepítés és a feladatok futó hello alkalmazások versioning adja meg.</span><span class="sxs-lookup"><span data-stu-id="2e352-362">Application packages provide simplified deployment and versioning of hello applications that your tasks run.</span></span> <span data-ttu-id="2e352-363">A készlethez beállított alkalmazáscsomagokat a rendszer a készlethez csatlakozó összes csomópontra telepíti, illetve minden alkalommal telepíti őket, amikor egy csomópontot újraindítanak vagy rendszerképét alaphelyzetbe állítják.</span><span class="sxs-lookup"><span data-stu-id="2e352-363">Application packages that you specify for a pool are installed on every node that joins that pool, and every time a node is rebooted or reimaged.</span></span>

> [!NOTE]
> <span data-ttu-id="2e352-364">Az alkalmazáscsomagok az összes 2017. július 5. után létrehozott Batch-készleten támogatottak.</span><span class="sxs-lookup"><span data-stu-id="2e352-364">Application packages are supported on all Batch pools created after 5 July 2017.</span></span> <span data-ttu-id="2e352-365">2016. március 10. és 5. július 2017 között létrehozott, csak akkor, ha hello készlet lett létrehozva egy felhőalapú szolgáltatás konfigurációja kötegelt készletek azok támogatottak.</span><span class="sxs-lookup"><span data-stu-id="2e352-365">They are supported on Batch pools created between 10 March 2016 and 5 July 2017 only if hello pool was created using a Cloud Service configuration.</span></span> <span data-ttu-id="2e352-366">Kötegelt készletek létrehozott előzetes too10 2016. március nem támogatják az alkalmazáscsomagok.</span><span class="sxs-lookup"><span data-stu-id="2e352-366">Batch pools created prior too10 March 2016 do not support application packages.</span></span> <span data-ttu-id="2e352-367">Alkalmazás használatával kapcsolatos további információk a toodeploy az alkalmazások tooyour kötegelt csomópontok csomagokat, a következő témakörben: [központi telepítése az alkalmazások toocompute csomópontokat a kötegelt alkalmazáscsomagok](batch-application-packages.md).</span><span class="sxs-lookup"><span data-stu-id="2e352-367">For more information about using application packages toodeploy your applications tooyour Batch nodes, see [Deploy applications toocompute nodes with Batch application packages](batch-application-packages.md).</span></span>
>
>

### <a name="network-configuration"></a><span data-ttu-id="2e352-368">Hálózati konfiguráció</span><span class="sxs-lookup"><span data-stu-id="2e352-368">Network configuration</span></span>

<span data-ttu-id="2e352-369">Megadhat egy Azure hello alhálózata [virtuális hálózathoz (VNet)](../virtual-network/virtual-networks-overview.md) mely hello készlet számítási csomópontok kell létrehozni.</span><span class="sxs-lookup"><span data-stu-id="2e352-369">You can specify hello subnet of an Azure [virtual network (VNet)](../virtual-network/virtual-networks-overview.md) in which hello pool's compute nodes should be created.</span></span> <span data-ttu-id="2e352-370">Lásd: hello [készlet hálózati konfiguráció](#pool-network-configuration) szakaszban olvashat.</span><span class="sxs-lookup"><span data-stu-id="2e352-370">See hello [Pool network configuration](#pool-network-configuration) section for more information.</span></span>


## <a name="job"></a><span data-ttu-id="2e352-371">Feladat</span><span class="sxs-lookup"><span data-stu-id="2e352-371">Job</span></span>
<span data-ttu-id="2e352-372">A feladatok tevékenységek gyűjteményei.</span><span class="sxs-lookup"><span data-stu-id="2e352-372">A job is a collection of tasks.</span></span> <span data-ttu-id="2e352-373">Milyen számítási végzi el a készlet számítási csomópontjai hello feladatainak kezeli.</span><span class="sxs-lookup"><span data-stu-id="2e352-373">It manages how computation is performed by its tasks on hello compute nodes in a pool.</span></span>

* <span data-ttu-id="2e352-374">hello feladat megadja hello **készlet** mely hello munkahelyi toobe futtatásához.</span><span class="sxs-lookup"><span data-stu-id="2e352-374">hello job specifies hello **pool** in which hello work is toobe run.</span></span> <span data-ttu-id="2e352-375">Az egyes feladatokhoz saját készletet hozhat létre, de egyetlen készletet is használhat több feladathoz.</span><span class="sxs-lookup"><span data-stu-id="2e352-375">You can create a new pool for each job, or use one pool for many jobs.</span></span> <span data-ttu-id="2e352-376">A feladatütemezésbe tartozó egyes feladatokhoz külön-külön készletet hozhat létre, vagy létrehozhat egy készletet, amely a feladatütemezésbe tartozó összes feladatot tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="2e352-376">You can create a pool for each job that is associated with a job schedule, or for all jobs that are associated with a job schedule.</span></span>
* <span data-ttu-id="2e352-377">Ha szeretné, megadhatja a **feladatok prioritását** is.</span><span class="sxs-lookup"><span data-stu-id="2e352-377">You can specify an optional **job priority**.</span></span> <span data-ttu-id="2e352-378">Amikor a feladat jelenleg folyamatban lévő feladatok mint a magasabb prioritású, előre hello alacsonyabb prioritású feladatok feladatok hello várólista illeszteni a hello magasabb prioritású feladatok hello feladatok.</span><span class="sxs-lookup"><span data-stu-id="2e352-378">When a job is submitted with a higher priority than jobs that are currently in progress, hello tasks for hello higher-priority job are inserted into hello queue ahead of tasks for hello lower-priority jobs.</span></span> <span data-ttu-id="2e352-379">Ezek azonban nem előzik meg a már futó alacsonyabb prioritású feladat tevékenységeit.</span><span class="sxs-lookup"><span data-stu-id="2e352-379">Tasks in lower-priority jobs that are already running are not preempted.</span></span>
* <span data-ttu-id="2e352-380">Feldolgozással **megkötések** toospecify a feladatok esetében bizonyos korlátozások:</span><span class="sxs-lookup"><span data-stu-id="2e352-380">You can use job **constraints** toospecify certain limits for your jobs:</span></span>

    <span data-ttu-id="2e352-381">Megadhat egy **maximális wallclock idő**, így ha egy feladat futtatása hosszabb megadott hello maximális wallclock ideje, hello feladat és összes a feladat leállt.</span><span class="sxs-lookup"><span data-stu-id="2e352-381">You can set a **maximum wallclock time**, so that if a job runs for longer than hello maximum wallclock time that is specified, hello job and all of its tasks are terminated.</span></span>

    <span data-ttu-id="2e352-382">A Batch képes észlelni, ha egy tevékenység sikertelen volt, és megpróbálni újra elvégezni.</span><span class="sxs-lookup"><span data-stu-id="2e352-382">Batch can detect and then retry failed tasks.</span></span> <span data-ttu-id="2e352-383">Megadhatja a hello **feladat újbóli próbálkozások maximális számát** korlátozásként, beleértve, hogy a tevékenység *mindig* vagy *soha nem* rendszer megpróbálja újból végrehajtani.</span><span class="sxs-lookup"><span data-stu-id="2e352-383">You can specify hello **maximum number of task retries** as a constraint, including whether a task is *always* or *never* retried.</span></span> <span data-ttu-id="2e352-384">Újrapróbálkozás a feladat azt jelenti, hogy e hello feladat helyezte toobe futtassa újból.</span><span class="sxs-lookup"><span data-stu-id="2e352-384">Retrying a task means that hello task is requeued toobe run again.</span></span>
* <span data-ttu-id="2e352-385">Az ügyfélalkalmazás feladatok tooa feladat adhat hozzá, vagy megadhat egy [manager feladat](#job-manager-task).</span><span class="sxs-lookup"><span data-stu-id="2e352-385">Your client application can add tasks tooa job, or you can specify a [job manager task](#job-manager-task).</span></span> <span data-ttu-id="2e352-386">A kezelő feladat szükséges toocreate hello szükséges feladatok feladat hello információkat tartalmaz, hello manager feladat hello egyikét futtatja a számítási csomópontok hello készletben.</span><span class="sxs-lookup"><span data-stu-id="2e352-386">A job manager task contains hello information that is necessary toocreate hello required tasks for a job, with hello job manager task being run on one of hello compute nodes in hello pool.</span></span> <span data-ttu-id="2e352-387">hello feladata manager kezeli kifejezetten által kötegelt--azt kell várakoznia, amint hello feladat jön létre, és újraindítják, ha nem sikerül.</span><span class="sxs-lookup"><span data-stu-id="2e352-387">hello job manager task is handled specifically by Batch--it is queued as soon as hello job is created, and is restarted if it fails.</span></span> <span data-ttu-id="2e352-388">A feladat manager feladatok *szükséges* feladatok által létrehozott egy [feladat ütemezésének](#scheduled-jobs) mert hello csak úgy toodefine hello feladatok előtt hello feladat jön létre.</span><span class="sxs-lookup"><span data-stu-id="2e352-388">A job manager task is *required* for jobs that are created by a [job schedule](#scheduled-jobs) because it is hello only way toodefine hello tasks before hello job is instantiated.</span></span>
* <span data-ttu-id="2e352-389">Alapértelmezés szerint feladatok maradnak hello aktív állapotú hello feladat minden feladat be nem fejeződik.</span><span class="sxs-lookup"><span data-stu-id="2e352-389">By default, jobs remain in hello active state when all tasks within hello job are complete.</span></span> <span data-ttu-id="2e352-390">Ez a viselkedés módosíthatja, hogy hello feladat automatikusan leáll, amikor az összes feladat hello feladat be nem fejeződik.</span><span class="sxs-lookup"><span data-stu-id="2e352-390">You can change this behavior so that hello job is automatically terminated when all tasks in hello job are complete.</span></span> <span data-ttu-id="2e352-391">Set hello feladat **onAllTasksComplete** tulajdonság ([OnAllTasksComplete] [ net_onalltaskscomplete] a Batch .NET) túl*terminatejob* tooautomatically hello feladat leáll, ha az összes feladatainak befejeződött hello állapotban.</span><span class="sxs-lookup"><span data-stu-id="2e352-391">Set hello job's **onAllTasksComplete** property ([OnAllTasksComplete][net_onalltaskscomplete] in Batch .NET) too*terminatejob* tooautomatically terminate hello job when all of its tasks are in hello completed state.</span></span>

    <span data-ttu-id="2e352-392">Vegye figyelembe, hogy hello Batch szolgáltatás úgy ítéli meg, a feladat *nem* feladatok toohave összes a feladat befejeződött.</span><span class="sxs-lookup"><span data-stu-id="2e352-392">Note that hello Batch service considers a job with *no* tasks toohave all of its tasks completed.</span></span> <span data-ttu-id="2e352-393">Ezért ezt a funkciót általában egy [feladatkezelői tevékenységgel](#job-manager-task) használjuk.</span><span class="sxs-lookup"><span data-stu-id="2e352-393">Therefore, this option is most commonly used with a [job manager task](#job-manager-task).</span></span> <span data-ttu-id="2e352-394">Ha azt szeretné, hogy a Feladatkezelő nélkül toouse automatikus feladat futása, célszerű egy új feladat kezdetben **onAllTasksComplete** tulajdonság túl*noaction*, majd állítsa be túl*terminatejob* csak hozzáadásának feladatok toohello feladat befejezése után.</span><span class="sxs-lookup"><span data-stu-id="2e352-394">If you want toouse automatic job termination without a job manager, you should initially set a new job's **onAllTasksComplete** property too*noaction*, then set it too*terminatejob* only after you've finished adding tasks toohello job.</span></span>

### <a name="job-priority"></a><span data-ttu-id="2e352-395">A feladatok prioritása</span><span class="sxs-lookup"><span data-stu-id="2e352-395">Job priority</span></span>
<span data-ttu-id="2e352-396">Egy kötegben létrehozott prioritás toojobs rendelhet hozzá.</span><span class="sxs-lookup"><span data-stu-id="2e352-396">You can assign a priority toojobs that you create in Batch.</span></span> <span data-ttu-id="2e352-397">hello Batch szolgáltatás hello feladat toodetermine hello sorrendjét a partner feladatütemezés hello prioritási értéket használja (ez nem az toobe összetéveszthető egy [ütemezett feladat](#scheduled-jobs)).</span><span class="sxs-lookup"><span data-stu-id="2e352-397">hello Batch service uses hello priority value of hello job toodetermine hello order of job scheduling within an account (this is not toobe confused with a [scheduled job](#scheduled-jobs)).</span></span> <span data-ttu-id="2e352-398">hello prioritási érték között-1000 too1000,-1000 a legalacsonyabb prioritású hello alatt, és 1000 legmagasabb hello.</span><span class="sxs-lookup"><span data-stu-id="2e352-398">hello priority values range from -1000 too1000, with -1000 being hello lowest priority and 1000 being hello highest.</span></span> <span data-ttu-id="2e352-399">egy feladat, hívás hello tooupdate hello prioritását [egy feladat hello tulajdonságainak frissítése] [ rest_update_job] művelet (Batch REST), vagy módosítsa a hello [CloudJob.Priority] [ net_cloudjob_priority] tulajdonság (Batch .NET).</span><span class="sxs-lookup"><span data-stu-id="2e352-399">tooupdate hello priority of a job, call hello [Update hello properties of a job][rest_update_job] operation (Batch REST), or modify hello [CloudJob.Priority][net_cloudjob_priority] property (Batch .NET).</span></span>

<span data-ttu-id="2e352-400">Hello belül fiókot használja, a magasabb prioritású feladatok rendelkezik sorrend keresztül az alacsony prioritású feladatok ütemezése.</span><span class="sxs-lookup"><span data-stu-id="2e352-400">Within hello same account, higher-priority jobs have scheduling precedence over lower-priority jobs.</span></span> <span data-ttu-id="2e352-401">Egy fiók magasabb prioritási értékű feladatai nem élveznek elsőbbséget egy másik fiók alacsonyabb prioritási értékű másik feladatával szemben.</span><span class="sxs-lookup"><span data-stu-id="2e352-401">A job with a higher-priority value in one account does not have scheduling precedence over another job with a lower-priority value in a different account.</span></span>

<span data-ttu-id="2e352-402">A készletek között a feladatok ütemezése egymástól független.</span><span class="sxs-lookup"><span data-stu-id="2e352-402">Job scheduling across pools is independent.</span></span> <span data-ttu-id="2e352-403">Különböző készletek között nem garantált, hogy a rendszer egy magasabb prioritású feladatot előbbre ütemez, ha annak társított készletében nincsenek tétlen csomópontok.</span><span class="sxs-lookup"><span data-stu-id="2e352-403">Between different pools, it is not guaranteed that a higher-priority job is scheduled first if its associated pool is short of idle nodes.</span></span> <span data-ttu-id="2e352-404">A hello egyazon tárolókészlethez feladatok hello az azonos prioritási szintet van beütemezve egyenlő esélyét.</span><span class="sxs-lookup"><span data-stu-id="2e352-404">In hello same pool, jobs with hello same priority level have an equal chance of being scheduled.</span></span>

### <a name="scheduled-jobs"></a><span data-ttu-id="2e352-405">Ütemezett feladatok</span><span class="sxs-lookup"><span data-stu-id="2e352-405">Scheduled jobs</span></span>
<span data-ttu-id="2e352-406">[Sikertelen feladat ütemezésének] [ rest_job_schedules] lehetővé teszik a toocreate ismétlődő feladatok hello Batch szolgáltatás belül.</span><span class="sxs-lookup"><span data-stu-id="2e352-406">[Job schedules][rest_job_schedules] enable you toocreate recurring jobs within hello Batch service.</span></span> <span data-ttu-id="2e352-407">A feladatütemezés határozza meg, amikor toorun feladatokat, és futtassa hello feladatok toobe hello specifikációk tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="2e352-407">A job schedule specifies when toorun jobs and includes hello specifications for hello jobs toobe run.</span></span> <span data-ttu-id="2e352-408">Hello ütemezés – hello időtartama mennyi ideig adja meg ha hello ütemezés van –, és milyen gyakran feladatok hello során jönnek létre ütemezett időszak.</span><span class="sxs-lookup"><span data-stu-id="2e352-408">You can specify hello duration of hello schedule--how long and when hello schedule is in effect--and how frequently jobs are created during hello scheduled period.</span></span>

## <a name="task"></a><span data-ttu-id="2e352-409">Tevékenység</span><span class="sxs-lookup"><span data-stu-id="2e352-409">Task</span></span>
<span data-ttu-id="2e352-410">A tevékenységek olyan számítási egységek, amelyek feladathoz vannak társítva,</span><span class="sxs-lookup"><span data-stu-id="2e352-410">A task is a unit of computation that is associated with a job.</span></span> <span data-ttu-id="2e352-411">és egy csomóponton futnak.</span><span class="sxs-lookup"><span data-stu-id="2e352-411">It runs on a node.</span></span> <span data-ttu-id="2e352-412">Feladatok vannak hozzárendelve a végrehajtás tooa csomópont, vagy állítja sorba, míg egy csomópont szabad.</span><span class="sxs-lookup"><span data-stu-id="2e352-412">Tasks are assigned tooa node for execution, or are queued until a node becomes free.</span></span> <span data-ttu-id="2e352-413">Egyszerűen csak PUT, fusson a feladat egy vagy több programokat vagy parancsfájlokat a számítási csomópont tooperform hello munkahelyi kell elvégezni.</span><span class="sxs-lookup"><span data-stu-id="2e352-413">Put simply, a task runs one or more programs or scripts on a compute node tooperform hello work you need done.</span></span>

<span data-ttu-id="2e352-414">Amikor létrehozza a tevékenységet, a következőket kell megadnia:</span><span class="sxs-lookup"><span data-stu-id="2e352-414">When you create a task, you can specify:</span></span>

* <span data-ttu-id="2e352-415">Hello **parancssori** hello feladathoz.</span><span class="sxs-lookup"><span data-stu-id="2e352-415">hello **command line** for hello task.</span></span> <span data-ttu-id="2e352-416">Ez az az alkalmazás vagy a parancsfájl hello számítási csomóponton futó hello parancssor.</span><span class="sxs-lookup"><span data-stu-id="2e352-416">This is hello command line that runs your application or script on hello compute node.</span></span>

    <span data-ttu-id="2e352-417">Fontos, hogy a parancssor hello toonote nem futtatja ténylegesen a rendszerhéj alatt.</span><span class="sxs-lookup"><span data-stu-id="2e352-417">It is important toonote that hello command line does not actually run under a shell.</span></span> <span data-ttu-id="2e352-418">Ezért az nem natív módon rendszerhéj szolgáltatások előnyeinek például [környezeti változó](#environment-settings-for-tasks) bővítése (Ez magában foglalja a hello `PATH`).</span><span class="sxs-lookup"><span data-stu-id="2e352-418">Therefore, it cannot natively take advantage of shell features like [environment variable](#environment-settings-for-tasks) expansion (this includes hello `PATH`).</span></span> <span data-ttu-id="2e352-419">tootake előny ilyen a szolgáltatásokat, meg kell hívnia a hello rendszerhéj hello parancssorban – például indításával `cmd.exe` Windows csomópontján vagy `/bin/sh` Linux rendszeren:</span><span class="sxs-lookup"><span data-stu-id="2e352-419">tootake advantage of such features, you must invoke hello shell in hello command line--for example, by launching `cmd.exe` on Windows nodes or `/bin/sh` on Linux:</span></span>

    `cmd /c MyTaskApplication.exe %MY_ENV_VAR%`

    `/bin/sh -c MyTaskApplication $MY_ENV_VAR`

    <span data-ttu-id="2e352-420">Ha a feladatokat kell toorun egy alkalmazás vagy parancsprogram, amely nem része hello csomópont `PATH` vagy környezeti változók hivatkoznak, meghívása hello rendszerhéj explicit módon a hello feladat parancssorban.</span><span class="sxs-lookup"><span data-stu-id="2e352-420">If your tasks need toorun an application or script that is not in hello node's `PATH` or reference environment variables, invoke hello shell explicitly in hello task command line.</span></span>
* <span data-ttu-id="2e352-421">**Erőforrás-fájlok** hello adatok toobe feldolgozott tartalmaznak.</span><span class="sxs-lookup"><span data-stu-id="2e352-421">**Resource files** that contain hello data toobe processed.</span></span> <span data-ttu-id="2e352-422">Ezeket a fájlokat a Blob storage egy általános célú Azure Storage-fiókban automatikusan másolt toohello csomópont, parancssor hello feladat végrehajtása előtt.</span><span class="sxs-lookup"><span data-stu-id="2e352-422">These files are automatically copied toohello node from Blob storage in a general-purpose Azure Storage account before hello task's command line is executed.</span></span> <span data-ttu-id="2e352-423">További információkért lásd: hello szakaszok [kezdő tevékenység](#start-task) és [fájlok és könyvtárak](#files-and-directories).</span><span class="sxs-lookup"><span data-stu-id="2e352-423">For more information, see hello sections [Start task](#start-task) and [Files and directories](#files-and-directories).</span></span>
* <span data-ttu-id="2e352-424">Hello **környezeti változók** az alkalmazás által igényelt.</span><span class="sxs-lookup"><span data-stu-id="2e352-424">hello **environment variables** that are required by your application.</span></span> <span data-ttu-id="2e352-425">További információkért lásd: hello [környezeti beállítások feladatokhoz](#environment-settings-for-tasks) szakasz.</span><span class="sxs-lookup"><span data-stu-id="2e352-425">For more information, see hello [Environment settings for tasks](#environment-settings-for-tasks) section.</span></span>
* <span data-ttu-id="2e352-426">Hello **megkötések** alapján mely hello feladatot végre kell hajtani.</span><span class="sxs-lookup"><span data-stu-id="2e352-426">hello **constraints** under which hello task should execute.</span></span> <span data-ttu-id="2e352-427">Megkötések például hello maximális ideje, hogy hello feladat toorun, hello maximálisan megengedett számú sikertelen feladat újra meg kell próbálni, engedélyezett és hello maximális időt, amely hello feladatütemezési munkakönyvtár fájlok kerülnek.</span><span class="sxs-lookup"><span data-stu-id="2e352-427">For example, constraints include hello maximum time that hello task is allowed toorun, hello maximum number of times a failed task should be retried, and hello maximum time that files in hello task's working directory are retained.</span></span>
* <span data-ttu-id="2e352-428">**Alkalmazáscsomagok** toodeploy toohello számítási csomópont, mely hello az ütemezett toorun feladat.</span><span class="sxs-lookup"><span data-stu-id="2e352-428">**Application packages** toodeploy toohello compute node on which hello task is scheduled toorun.</span></span> <span data-ttu-id="2e352-429">[Alkalmazáscsomagok](#application-packages) egyszerűbb telepítés és a feladatok futó hello alkalmazások versioning adja meg.</span><span class="sxs-lookup"><span data-stu-id="2e352-429">[Application packages](#application-packages) provide simplified deployment and versioning of hello applications that your tasks run.</span></span> <span data-ttu-id="2e352-430">Tevékenység szintű alkalmazáscsomagok különösen hasznosak megosztott készlet környezetekben, ahol különböző feladat futtatása egy készletet, és hello készlet nem törlődik, ha egy feladat befejeződött.</span><span class="sxs-lookup"><span data-stu-id="2e352-430">Task-level application packages are especially useful in shared-pool environments, where different jobs are run on one pool, and hello pool is not deleted when a job is completed.</span></span> <span data-ttu-id="2e352-431">Ha a feladat csomópontok eltérő kevesebb feladatok hello készletben, feladat alkalmazáscsomagok minimálisra adatátvitel mivel az alkalmazás telepített csak toohello a csomópontokra, amelyeket a feladatok futtatásához.</span><span class="sxs-lookup"><span data-stu-id="2e352-431">If your job has fewer tasks than nodes in hello pool, task application packages can minimize data transfer since your application is deployed only toohello nodes that run tasks.</span></span>

<span data-ttu-id="2e352-432">Továbbá a tootasks tooperform számítási csomóponton határozza meg, a következő különleges feladatok hello is által biztosított hello Batch szolgáltatás:</span><span class="sxs-lookup"><span data-stu-id="2e352-432">In addition tootasks you define tooperform computation on a node, hello following special tasks are also provided by hello Batch service:</span></span>

* [<span data-ttu-id="2e352-433">Indítási tevékenység</span><span class="sxs-lookup"><span data-stu-id="2e352-433">Start task</span></span>](#start-task)
* [<span data-ttu-id="2e352-434">Feladatkezelő-tevékenység</span><span class="sxs-lookup"><span data-stu-id="2e352-434">Job manager task</span></span>](#job-manager-task)
* [<span data-ttu-id="2e352-435">Feladat-előkészítési és -kiadási tevékenységek</span><span class="sxs-lookup"><span data-stu-id="2e352-435">Job preparation and release tasks</span></span>](#job-preparation-and-release-tasks)
* [<span data-ttu-id="2e352-436">Többpéldányos tevékenységek (MPI)</span><span class="sxs-lookup"><span data-stu-id="2e352-436">Multi-instance tasks (MPI)</span></span>](#multi-instance-tasks)
* [<span data-ttu-id="2e352-437">Tevékenységfüggőségek</span><span class="sxs-lookup"><span data-stu-id="2e352-437">Task dependencies</span></span>](#task-dependencies)

### <a name="start-task"></a><span data-ttu-id="2e352-438">Indítási tevékenység</span><span class="sxs-lookup"><span data-stu-id="2e352-438">Start task</span></span>
<span data-ttu-id="2e352-439">Társításával egy **feladat indítása** címkészlettel, előkészítheti a hello operációsrendszer-környezet csomópontja.</span><span class="sxs-lookup"><span data-stu-id="2e352-439">By associating a **start task** with a pool, you can prepare hello operating environment of its nodes.</span></span> <span data-ttu-id="2e352-440">Például a feladatok futó hello alkalmazások telepítése és elindítása háttérfolyamatot hasonló műveletek végezhetők.</span><span class="sxs-lookup"><span data-stu-id="2e352-440">For example, you can perform actions like installing hello applications that your tasks run or starting background processes.</span></span> <span data-ttu-id="2e352-441">hello start feladat fut. minden alkalommal, amikor egy csomópont elindul, a mindaddig, amíg azt hello készletben – beleértve a hello csomópont először fel lett véve toohello címkészletet, és ha újra, vagy lemezképet</span><span class="sxs-lookup"><span data-stu-id="2e352-441">hello start task runs every time a node starts, for as long as it remains in hello pool--including when hello node is first added toohello pool and when it is restarted or reimaged.</span></span>

<span data-ttu-id="2e352-442">Egy elsődleges hello kezdő tevékenység előnye, hogy a számítási csomópont tartalmazza az összes szükséges tooconfigure hello információkat, és a feladat végrehajtásához szükséges hello alkalmazásokat telepíteni.</span><span class="sxs-lookup"><span data-stu-id="2e352-442">A primary benefit of hello start task is that it can contain all of hello information that is necessary tooconfigure a compute node and install hello applications that are required for task execution.</span></span> <span data-ttu-id="2e352-443">A készletben található csomópontok számának hello növelése ezért egyszerűen hello új cél csomópont számának megadása.</span><span class="sxs-lookup"><span data-stu-id="2e352-443">Therefore, increasing hello number of nodes in a pool is as simple as specifying hello new target node count.</span></span> <span data-ttu-id="2e352-444">hello kezdő tevékenység hello Batch szolgáltatás hello információkat tartalmaz, amelyek szükséges tooconfigure hello új csomópont, és készen áll a feladatok elfogadása beolvasása.</span><span class="sxs-lookup"><span data-stu-id="2e352-444">hello start task provides hello Batch service hello information that is needed tooconfigure hello new nodes and get them ready for accepting tasks.</span></span>

<span data-ttu-id="2e352-445">Bármely Azure Batch feladatokkal, adjon meg egy listája **erőforrásfájlok** a [Azure Storage][azure_storage], továbbá tooa **parancssori** toobe végre.</span><span class="sxs-lookup"><span data-stu-id="2e352-445">As with any Azure Batch task, you can specify a list of **resource files** in [Azure Storage][azure_storage], in addition tooa **command line** toobe executed.</span></span> <span data-ttu-id="2e352-446">hello Batch szolgáltatás hello erőforrás fájlok toohello csomópont először másolja az Azure Storage-ból, és majd a hello parancssorból futtatja.</span><span class="sxs-lookup"><span data-stu-id="2e352-446">hello Batch service first copies hello resource files toohello node from Azure Storage, and then runs hello command line.</span></span> <span data-ttu-id="2e352-447">Egy készlet kezdő tevékenység hello fájl általában listában hello feladat alkalmazás és annak függőségeit.</span><span class="sxs-lookup"><span data-stu-id="2e352-447">For a pool start task, hello file list typically contains hello task application and its dependencies.</span></span>

<span data-ttu-id="2e352-448">Hello kezdő tevékenység azonban is lehetnek a referencia-adatok toobe hello számítási csomóponton futó összes feladat által használt.</span><span class="sxs-lookup"><span data-stu-id="2e352-448">However, hello start task could also include reference data toobe used by all tasks that are running on hello compute node.</span></span> <span data-ttu-id="2e352-449">Például egy kezdő tevékenység parancssori végezhet egy `robocopy` művelet toocopy alkalmazásfájlok (amely Erőforrásfájlok voltak meghatározva, és le toohello csomópont) a hello indítása tevékenység [munkakönyvtár](#files-and-directories) toohello [megosztott mappa](#files-and-directories), majd futtassa egy olyan MSI Csomaghoz, vagy `setup.exe`.</span><span class="sxs-lookup"><span data-stu-id="2e352-449">For example, a start task's command line could perform a `robocopy` operation toocopy application files (which were specified as resource files and downloaded toohello node) from hello start task's [working directory](#files-and-directories) toohello [shared folder](#files-and-directories), and then run an MSI or `setup.exe`.</span></span>

<span data-ttu-id="2e352-450">Kívánatos általában hello Batch szolgáltatás toowait hello kezdő tevékenység toocomplete előtt annak eldöntéséhez, hogy a hello csomópont készen toobe rendelt feladatok, de konfigurálható.</span><span class="sxs-lookup"><span data-stu-id="2e352-450">It is typically desirable for hello Batch service toowait for hello start task toocomplete before considering hello node ready toobe assigned tasks, but you can configure this.</span></span>

<span data-ttu-id="2e352-451">Egy kezdő tevékenység számítási csomóponton nem sikerül, ha majd hello hello csomópont állapota frissített tooreflect hello hiba, és hello csomópont nem tartozik minden feladatot.</span><span class="sxs-lookup"><span data-stu-id="2e352-451">If a start task fails on a compute node, then hello state of hello node is updated tooreflect hello failure, and hello node is not assigned any tasks.</span></span> <span data-ttu-id="2e352-452">A kezdő tevékenység sikertelen lehet, ha az erőforrás-fájlok másolását a tárolási probléma van, vagy ha a parancssorból végre hello folyamat egy nem nulla kilépési kódot adja vissza.</span><span class="sxs-lookup"><span data-stu-id="2e352-452">A start task can fail if there is an issue copying its resource files from storage, or if hello process executed by its command line returns a nonzero exit code.</span></span>

<span data-ttu-id="2e352-453">Ha hozzáadásakor vagy módosításakor meglévő készletek hello kezdő tevékenység, újra kell indítani a számítási csomópontok hello kezdő tevékenység alkalmazott toobe toohello csomópontok.</span><span class="sxs-lookup"><span data-stu-id="2e352-453">If you add or update hello start task for an existing pool, you must reboot its compute nodes for hello start task toobe applied toohello nodes.</span></span>

>[!NOTE]
> <span data-ttu-id="2e352-454">hello teljes mérete a kezdő tevékenységre kell kisebb vagy egyenlő, mint too32768 karaktert, köztük Erőforrásfájlok és környezeti változókat.</span><span class="sxs-lookup"><span data-stu-id="2e352-454">hello total size of a start task must be less than or equal too32768 characters, including resource files and environment variables.</span></span> <span data-ttu-id="2e352-455">tooensure, hogy a kezdő tevékenység megfelel-e ezt a követelményt, használja két módszer egyikét:</span><span class="sxs-lookup"><span data-stu-id="2e352-455">tooensure that your start task meets this requirement, you can use one of two approaches:</span></span>
>
> 1. <span data-ttu-id="2e352-456">Alkalmazás csomagok toodistribute alkalmazások és adatok között a Batch-készlet minden egyes csomópontja használható.</span><span class="sxs-lookup"><span data-stu-id="2e352-456">You can use application packages toodistribute applications or data across each node in your Batch pool.</span></span> <span data-ttu-id="2e352-457">Alkalmazáscsomagok kapcsolatos további információkért lásd: [központi telepítése az alkalmazások toocompute csomópontokat a kötegelt alkalmazáscsomagok](batch-application-packages.md).</span><span class="sxs-lookup"><span data-stu-id="2e352-457">For more information about application packages, see [Deploy applications toocompute nodes with Batch application packages](batch-application-packages.md).</span></span>
> 2. <span data-ttu-id="2e352-458">Manuálisan is létrehozhatja az alkalmazások fájljait tartalmazó tömörített archívumot.</span><span class="sxs-lookup"><span data-stu-id="2e352-458">You can manually create a zipped archive containing your applications files.</span></span> <span data-ttu-id="2e352-459">A ZIP-archívum tooAzure tárolási feltöltése a blob-ként.</span><span class="sxs-lookup"><span data-stu-id="2e352-459">Upload your zipped archive tooAzure Storage as a blob.</span></span> <span data-ttu-id="2e352-460">Adja meg a kezdő tevékenység erőforrásfájl hello ZIP-archívumban.</span><span class="sxs-lookup"><span data-stu-id="2e352-460">Specify hello zipped archive as a resource file for your start task.</span></span> <span data-ttu-id="2e352-461">A kezdő tevékenység hello parancssor futtatása, előtt csomagolja ki a hello archív hello parancssorból.</span><span class="sxs-lookup"><span data-stu-id="2e352-461">Before you run hello command line for your start task, unzip hello archive from hello command line.</span></span> 
>
>    <span data-ttu-id="2e352-462">toounzip hello archív, az eszköz az Ön által választott archiválás hello is használhatja.</span><span class="sxs-lookup"><span data-stu-id="2e352-462">toounzip hello archive, you can use hello archiving tool of your choice.</span></span> <span data-ttu-id="2e352-463">Szüksége lesz tooinclude hello eszköz, a hello kezdő tevékenységre erőforrásfájl toounzip hello archív használatát.</span><span class="sxs-lookup"><span data-stu-id="2e352-463">You will need tooinclude hello tool that you use toounzip hello archive as a resource file for hello start task.</span></span>
>
>

### <a name="job-manager-task"></a><span data-ttu-id="2e352-464">Feladatkezelő tevékenység</span><span class="sxs-lookup"><span data-stu-id="2e352-464">Job manager task</span></span>
<span data-ttu-id="2e352-465">Általában egy **manager feladat** toocontrol és/vagy a figyelő feladat-végrehajtási – például toocreate és elküldeni a feladat hello feladatokat, további feladatok toorun meghatározása és a munkahelyi befejeződésének megállapítása.</span><span class="sxs-lookup"><span data-stu-id="2e352-465">You typically use a **job manager task** toocontrol and/or monitor job execution--for example, toocreate and submit hello tasks for a job, determine additional tasks toorun, and determine when work is complete.</span></span> <span data-ttu-id="2e352-466">Azonban egy kezelő feladat nem korlátozott toothese tevékenységeket.</span><span class="sxs-lookup"><span data-stu-id="2e352-466">However, a job manager task is not restricted toothese activities.</span></span> <span data-ttu-id="2e352-467">Hajthat végre semmilyen műveletet a hello feladat által igényelt teljes értékű feladat.</span><span class="sxs-lookup"><span data-stu-id="2e352-467">It is a fully fledged task that can perform any actions that are required for hello job.</span></span> <span data-ttu-id="2e352-468">Például egy kezelő feladat előfordulhat, hogy töltsön le egy paraméterként megadott fájlt, elemzése, hogy a fájl tartalmát hello és küldje el azokat a tartalom alapján további feladatokat.</span><span class="sxs-lookup"><span data-stu-id="2e352-468">For example, a job manager task might download a file that is specified as a parameter, analyze hello contents of that file, and submit additional tasks based on those contents.</span></span>

<span data-ttu-id="2e352-469">A rendszer minden más feladat előtt indítja el a feladatkezelői tevékenységeket.</span><span class="sxs-lookup"><span data-stu-id="2e352-469">A job manager task is started before all other tasks.</span></span> <span data-ttu-id="2e352-470">Hello a következő szolgáltatásokat tartalmazza:</span><span class="sxs-lookup"><span data-stu-id="2e352-470">It provides hello following features:</span></span>

* <span data-ttu-id="2e352-471">Az automatikusan nyújtja az feladatok hello Batch szolgáltatás hello feladat létrehozásakor.</span><span class="sxs-lookup"><span data-stu-id="2e352-471">It is automatically submitted as a task by hello Batch service when hello job is created.</span></span>
* <span data-ttu-id="2e352-472">Az ütemezett tooexecute előtt hello más feladatok egy feladat van.</span><span class="sxs-lookup"><span data-stu-id="2e352-472">It is scheduled tooexecute before hello other tasks in a job.</span></span>
* <span data-ttu-id="2e352-473">A társított csomópontjában hello utolsó toobe távolítja el a készletből, amikor hello alkalmazáskészlet van folyamatban downsized.</span><span class="sxs-lookup"><span data-stu-id="2e352-473">Its associated node is hello last toobe removed from a pool when hello pool is being downsized.</span></span>
* <span data-ttu-id="2e352-474">A megszakítási hello feladat összes tevékenységében kapcsolt toohello megszűnése lehet.</span><span class="sxs-lookup"><span data-stu-id="2e352-474">Its termination can be tied toohello termination of all tasks in hello job.</span></span>
* <span data-ttu-id="2e352-475">Egy feladat manager feladat hello legmagasabb prioritású virtuális gép megkapja a amikor toobe újraindítása szükséges.</span><span class="sxs-lookup"><span data-stu-id="2e352-475">A job manager task is given hello highest priority when it needs toobe restarted.</span></span> <span data-ttu-id="2e352-476">Egy üresjárati csomópont nem érhető el, ha hello Batch szolgáltatás előfordulhat, hogy leáll valamelyik hello hello készlet toomake helyiségben hello feladat manager feladat toorun többi futó feladat.</span><span class="sxs-lookup"><span data-stu-id="2e352-476">If an idle node is not available, hello Batch service might terminate one of hello other running tasks in hello pool toomake room for hello job manager task toorun.</span></span>
* <span data-ttu-id="2e352-477">Egy feladat manager feladata nem elsőbbséget élveznek a hello feladatok, más feladatok.</span><span class="sxs-lookup"><span data-stu-id="2e352-477">A job manager task in one job does not have priority over hello tasks of other jobs.</span></span> <span data-ttu-id="2e352-478">A feladatok között csak a feladatszintű prioritások érvényesek.</span><span class="sxs-lookup"><span data-stu-id="2e352-478">Across jobs, only job-level priorities are observed.</span></span>

### <a name="job-preparation-and-release-tasks"></a><span data-ttu-id="2e352-479">Feladat-előkészítési és -kiadási tevékenységek</span><span class="sxs-lookup"><span data-stu-id="2e352-479">Job preparation and release tasks</span></span>
<span data-ttu-id="2e352-480">A Batch a feladatok előtt elvégzendő beállításokhoz feladat-előkészítési tevékenységeket biztosít.</span><span class="sxs-lookup"><span data-stu-id="2e352-480">Batch provides job preparation tasks for pre-job execution setup.</span></span> <span data-ttu-id="2e352-481">A feladatkiadási tevékenységek ezzel szemben a feladat elvégzése utáni karbantartási vagy takarítási műveletekhez használhatók.</span><span class="sxs-lookup"><span data-stu-id="2e352-481">Job release tasks are for post-job maintenance or cleanup.</span></span>

* <span data-ttu-id="2e352-482">**Feladat előkészítése tevékenységet**: A feladat előkészítése tevékenység fut, amelyek toorun ütemezett feladatok minden számítási csomóponton, hello minden más feladatot feladatok végrehajtásának.</span><span class="sxs-lookup"><span data-stu-id="2e352-482">**Job preparation task**: A job preparation task runs on all compute nodes that are scheduled toorun tasks, before any of hello other job tasks are executed.</span></span> <span data-ttu-id="2e352-483">A feladat előkészítése tevékenység toocopy adatok legyen elosztva a minden feladat, de egyedi toohello feladat, például is használhatja.</span><span class="sxs-lookup"><span data-stu-id="2e352-483">You can use a job preparation task toocopy data that is shared by all tasks, but is unique toohello job, for example.</span></span>
* <span data-ttu-id="2e352-484">**Feladat kiadása tevékenység**: a feladat befejezése után a feladat kiadása tevékenység hello-készlet, amely legalább egy feladat végrehajtása minden egyes csomópontján fut-e.</span><span class="sxs-lookup"><span data-stu-id="2e352-484">**Job release task**: When a job has completed, a job release task runs on each node in hello pool that executed at least one task.</span></span> <span data-ttu-id="2e352-485">Egy feladat kiadása tevékenység toodelete hello feladat előkészítése tevékenységet a másolt vagy toocompress és feltöltése diagnosztikai napló adatok, például is használja.</span><span class="sxs-lookup"><span data-stu-id="2e352-485">You can use a job release task toodelete data that is copied by hello job preparation task, or toocompress and upload diagnostic log data, for example.</span></span>

<span data-ttu-id="2e352-486">Előkészítő feladat is, és kiadási tevékenységek teszik lehetővé a parancssor toorun toospecify hello feladat meghívásakor.</span><span class="sxs-lookup"><span data-stu-id="2e352-486">Both job preparation and release tasks allow you toospecify a command line toorun when hello task is invoked.</span></span> <span data-ttu-id="2e352-487">Ezek segítségével számos különböző funkciót érhet el, például fájlokat tölthet le, emelt jogosultsági szintű futtatást végezhet, egyéni környezeti változókat adhat meg, illetve beállíthatja a maximális végrehajtási időt, az újrapróbálások számát, illetve a fájlmegőrzési időt.</span><span class="sxs-lookup"><span data-stu-id="2e352-487">They offer features like file download, elevated execution, custom environment variables, maximum execution duration, retry count, and file retention time.</span></span>

<span data-ttu-id="2e352-488">A feladatelőkészítési és -kiadási tevékenységekkel kapcsolatos további információért lásd: [Feladat-előkészítési és -befejezési műveletek futtatása Azure Batch számítási csomópontokon](batch-job-prep-release.md).</span><span class="sxs-lookup"><span data-stu-id="2e352-488">For more information on job preparation and release tasks, see [Run job preparation and completion tasks on Azure Batch compute nodes](batch-job-prep-release.md).</span></span>

### <a name="multi-instance-task"></a><span data-ttu-id="2e352-489">Többpéldányos tevékenység</span><span class="sxs-lookup"><span data-stu-id="2e352-489">Multi-instance task</span></span>
<span data-ttu-id="2e352-490">A [többpéldányos feladat](batch-mpi.md) egy feladat, amely konfigurált toorun egynél több számítási csomóponton egyidejűleg.</span><span class="sxs-lookup"><span data-stu-id="2e352-490">A [multi-instance task](batch-mpi.md) is a task that is configured toorun on more than one compute node simultaneously.</span></span> <span data-ttu-id="2e352-491">A többpéldányos feladatokkal, engedélyezheti a nagy teljesítményű számítástechnikai számítási csomópontokat, amelyek csoportja igénylő forgatókönyvek lefoglalt együtt tooprocess egy egyetlen számítási feladat (például a Message Passing Interface (MPI)).</span><span class="sxs-lookup"><span data-stu-id="2e352-491">With multi-instance tasks, you can enable high-performance computing scenarios that require a group of compute nodes that are allocated together tooprocess a single workload (like Message Passing Interface (MPI)).</span></span>

<span data-ttu-id="2e352-492">A kötegben MPI-feladatok futtatása hello Batch .NET könyvtár részletes leírását, tekintse meg [használata többpéldányos feladatok toorun Message Passing Interface (MPI) alkalmazások az Azure Batch](batch-mpi.md).</span><span class="sxs-lookup"><span data-stu-id="2e352-492">For a detailed discussion on running MPI jobs in Batch by using hello Batch .NET library, check out [Use multi-instance tasks toorun Message Passing Interface (MPI) applications in Azure Batch](batch-mpi.md).</span></span>

### <a name="task-dependencies"></a><span data-ttu-id="2e352-493">Tevékenységfüggőségek</span><span class="sxs-lookup"><span data-stu-id="2e352-493">Task dependencies</span></span>
<span data-ttu-id="2e352-494">[Tevékenység-függőségek](batch-task-dependencies.md), mint hello név azt jelenti, teszik lehetővé, amely egy feladat attól függ, más feladatok végrehajtása előtt hello megvalósításának toospecify.</span><span class="sxs-lookup"><span data-stu-id="2e352-494">[Task dependencies](batch-task-dependencies.md), as hello name implies, allow you toospecify that a task depends on hello completion of other tasks before its execution.</span></span> <span data-ttu-id="2e352-495">Ez a funkció támogatást nyújt a "alsóbb rétegbeli" feladat használ fel egy "fölérendelt" feladat--, vagy egy felsőbb szintű tevékenység hajt végre bizonyos inicializálása egy alsóbb rétegbeli feladat által igényelt hello kimeneti helyzetekben.</span><span class="sxs-lookup"><span data-stu-id="2e352-495">This feature provides support for situations in which a "downstream" task consumes hello output of an "upstream" task--or when an upstream task performs some initialization that is required by a downstream task.</span></span> <span data-ttu-id="2e352-496">toouse ezzel a funkcióval kell első engedélyezése feladat függőségek a kötegelt.</span><span class="sxs-lookup"><span data-stu-id="2e352-496">toouse this feature, you must first enable task dependencies on your Batch job.</span></span> <span data-ttu-id="2e352-497">Ezt követően az egyes feladatok, amelyek elengedhetetlenek az egy másik (vagy sok más), megadhatja a hello feladatokat, amelyek adott feladat függ.</span><span class="sxs-lookup"><span data-stu-id="2e352-497">Then, for each task that depends on another (or many others), you specify hello tasks which that task depends on.</span></span>

<span data-ttu-id="2e352-498">Feladat függőségekkel rendelkező hasonló hello forgatókönyvek is konfigurálhatja:</span><span class="sxs-lookup"><span data-stu-id="2e352-498">With task dependencies, you can configure scenarios like hello following:</span></span>

* <span data-ttu-id="2e352-499">A *taskB* a *taskA* tevékenységtől függ (a *taskB* végrehajtása nem kezdődik meg a *taskA* befejeződéséig).</span><span class="sxs-lookup"><span data-stu-id="2e352-499">*taskB* depends on *taskA* (*taskB* will not begin execution until *taskA* has completed).</span></span>
* <span data-ttu-id="2e352-500">A *taskC* a *taskA* és a *taskB* tevékenységtől is függ.</span><span class="sxs-lookup"><span data-stu-id="2e352-500">*taskC* depends on both *taskA* and *taskB*.</span></span>
* <span data-ttu-id="2e352-501">A *taskD* egy tevékenységtartománytól függ, például az *1* – *10.* tevékenység befejeződéséig nem hajtja végre a rendszer.</span><span class="sxs-lookup"><span data-stu-id="2e352-501">*taskD* depends on a range of tasks, such as tasks *1* through *10*, before it executes.</span></span>

<span data-ttu-id="2e352-502">Tekintse meg [feladatot az Azure Batch függőségek](batch-task-dependencies.md) és hello [TaskDependencies] [ github_sample_taskdeps] hello a kódminta [azure-köteg-minták] [ github_samples] GitHub-tárházban, ez a funkció részletes olvashat.</span><span class="sxs-lookup"><span data-stu-id="2e352-502">Check out [Task dependencies in Azure Batch](batch-task-dependencies.md) and hello [TaskDependencies][github_sample_taskdeps] code sample in hello [azure-batch-samples][github_samples] GitHub repository for more in-depth details on this feature.</span></span>

## <a name="environment-settings-for-tasks"></a><span data-ttu-id="2e352-503">Környezeti beállítások tevékenységekhez</span><span class="sxs-lookup"><span data-stu-id="2e352-503">Environment settings for tasks</span></span>
<span data-ttu-id="2e352-504">Egyes feladatokat hajtja végre a Batch szolgáltatás hello rendelkezik, amely a számítási csomópontok állítja a hozzáférés tooenvironment változók.</span><span class="sxs-lookup"><span data-stu-id="2e352-504">Each task executed by hello Batch service has access tooenvironment variables that it sets on compute nodes.</span></span> <span data-ttu-id="2e352-505">Ez magában foglalja a Batch szolgáltatás hello által meghatározott környezeti változók ([szolgáltatás által definiált][msdn_env_vars]) és egyéni környezeti változókat, amelyek a feladatok adhat meg.</span><span class="sxs-lookup"><span data-stu-id="2e352-505">This includes environment variables defined by hello Batch service ([service-defined][msdn_env_vars]) and custom environment variables that you can define for your tasks.</span></span> <span data-ttu-id="2e352-506">hello alkalmazásokat és parancsfájlokat, a feladatok végrehajtása rendelkezik hozzáférési toothese környezeti változók végrehajtása során.</span><span class="sxs-lookup"><span data-stu-id="2e352-506">hello applications and scripts your tasks execute have access toothese environment variables during execution.</span></span>

<span data-ttu-id="2e352-507">Is megadhat egyéni környezeti változók hello feladat vagy feladat szinten hello feltöltése *környezeti beállítások* ezeket az entitásokat tulajdonsága.</span><span class="sxs-lookup"><span data-stu-id="2e352-507">You can set custom environment variables at hello task or job level by populating hello *environment settings* property for these entities.</span></span> <span data-ttu-id="2e352-508">Lásd például: hello [feladat tooa feladat vehető] [ rest_add_task] művelet (Batch REST API-t) vagy hello [CloudTask.EnvironmentSettings] [ net_cloudtask_env] és [ CloudJob.CommonEnvironmentSettings] [ net_job_env] Batch .NET-tulajdonságokat.</span><span class="sxs-lookup"><span data-stu-id="2e352-508">For example, see hello [Add a task tooa job][rest_add_task] operation (Batch REST API), or hello [CloudTask.EnvironmentSettings][net_cloudtask_env] and [CloudJob.CommonEnvironmentSettings][net_job_env] properties in Batch .NET.</span></span>

<span data-ttu-id="2e352-509">Az ügyfél alkalmazás vagy szolgáltatás úgy szerezheti be a tevékenység környezeti változókat is szolgáltatás határozza meg, és egyéni, hello segítségével [feladat adatainak beolvasása] [ rest_get_task_info] művelet (Batch REST) vagy való hozzáférés Hello [CloudTask.EnvironmentSettings] [ net_cloudtask_env] tulajdonság (Batch .NET).</span><span class="sxs-lookup"><span data-stu-id="2e352-509">Your client application or service can obtain a task's environment variables, both service-defined and custom, by using hello [Get information about a task][rest_get_task_info] operation (Batch REST) or by accessing hello [CloudTask.EnvironmentSettings][net_cloudtask_env] property (Batch .NET).</span></span> <span data-ttu-id="2e352-510">A számítási csomóponton végrehajtása folyamatok férhetnek hozzá ezeket és más környezeti változók hello csomóponton, például a hello ismeri `%VARIABLE_NAME%` (Windows) vagy `$VARIABLE_NAME` (Linux) szintaxisa.</span><span class="sxs-lookup"><span data-stu-id="2e352-510">Processes executing on a compute node can access these and other environment variables on hello node, for example, by using hello familiar `%VARIABLE_NAME%` (Windows) or `$VARIABLE_NAME` (Linux) syntax.</span></span>

<span data-ttu-id="2e352-511">Az összes szolgáltatás által definiált környezeti változót tartalmazó teljes listát megtalálja a [Számítási csomópont környezeti változói][msdn_env_vars] című részben.</span><span class="sxs-lookup"><span data-stu-id="2e352-511">You can find a full list of all service-defined environment variables in [Compute node environment variables][msdn_env_vars].</span></span>

## <a name="files-and-directories"></a><span data-ttu-id="2e352-512">Fájlok és könyvtárak</span><span class="sxs-lookup"><span data-stu-id="2e352-512">Files and directories</span></span>
<span data-ttu-id="2e352-513">Minden tevékenységhez tartozik egy *munkakönyvtár*, amelyben a tevékenység létrehozza a további fájlokat és alkönyvtárakat, ha ilyenekre szükség van.</span><span class="sxs-lookup"><span data-stu-id="2e352-513">Each task has a *working directory* under which it creates zero or more files and directories.</span></span> <span data-ttu-id="2e352-514">A munkakönyvtár hello feladat, feldolgozza, hello adatok által futtatott hello programnak tárolására is használható, és hello kimeneti hello feldolgozási hajtja végre.</span><span class="sxs-lookup"><span data-stu-id="2e352-514">This working directory can be used for storing hello program that is run by hello task, hello data that it processes, and hello output of hello processing it performs.</span></span> <span data-ttu-id="2e352-515">Hello feladat felhasználói fájlok és könyvtárak egy feladat tulajdonosa.</span><span class="sxs-lookup"><span data-stu-id="2e352-515">All files and directories of a task are owned by hello task user.</span></span>

<span data-ttu-id="2e352-516">hello Batch szolgáltatás közzétesz egy csomópont hello hello fájlrendszerében része *gyökérkönyvtár*.</span><span class="sxs-lookup"><span data-stu-id="2e352-516">hello Batch service exposes a portion of hello file system on a node as hello *root directory*.</span></span> <span data-ttu-id="2e352-517">Feladatok hello gyökérkönyvtár férhetnek hozzá hello hivatkozó `AZ_BATCH_NODE_ROOT_DIR` környezeti változó.</span><span class="sxs-lookup"><span data-stu-id="2e352-517">Tasks can access hello root directory by referencing hello `AZ_BATCH_NODE_ROOT_DIR` environment variable.</span></span> <span data-ttu-id="2e352-518">A környezeti változók használatával kapcsolatos további információért lásd: [Környezeti beállítások tevékenységekhez](#environment-settings-for-tasks).</span><span class="sxs-lookup"><span data-stu-id="2e352-518">For more information about using environment variables, see [Environment settings for tasks](#environment-settings-for-tasks).</span></span>

<span data-ttu-id="2e352-519">hello gyökérkönyvtár neve tartalmazza a következő könyvtárstruktúrát hello:</span><span class="sxs-lookup"><span data-stu-id="2e352-519">hello root directory contains hello following directory structure:</span></span>

![Számítási csomópont könyvtárstruktúrája][1]

* <span data-ttu-id="2e352-521">**megosztott**: Ez a könyvtár túl biztosít az olvasási/írási hozzáférést*összes* csomóponton futó feladatok.</span><span class="sxs-lookup"><span data-stu-id="2e352-521">**shared**: This directory provides read/write access too*all* tasks that run on a node.</span></span> <span data-ttu-id="2e352-522">Bármely hello csomóponton futó feladat létrehozása, olvasása, frissítése, és törölje a mappában található fájlokat.</span><span class="sxs-lookup"><span data-stu-id="2e352-522">Any task that runs on hello node can create, read, update, and delete files in this directory.</span></span> <span data-ttu-id="2e352-523">Feladatok férhetnek hozzá a könyvtárhoz hello Vezérlőpultjának `AZ_BATCH_NODE_SHARED_DIR` környezeti változó.</span><span class="sxs-lookup"><span data-stu-id="2e352-523">Tasks can access this directory by referencing hello `AZ_BATCH_NODE_SHARED_DIR` environment variable.</span></span>
* <span data-ttu-id="2e352-524">**startup**: az indítási tevékenység ezt a könyvtárat használja munkakönyvtárként.</span><span class="sxs-lookup"><span data-stu-id="2e352-524">**startup**: This directory is used by a start task as its working directory.</span></span> <span data-ttu-id="2e352-525">Az összes hello kezdő tevékenység által letöltött toohello csomópont hello fájlok itt találhatók.</span><span class="sxs-lookup"><span data-stu-id="2e352-525">All of hello files that are downloaded toohello node by hello start task are stored here.</span></span> <span data-ttu-id="2e352-526">hello kezdő tevékenység létrehozása, olvasása, frissítése, és törölje a fájlokat a könyvtárban.</span><span class="sxs-lookup"><span data-stu-id="2e352-526">hello start task can create, read, update, and delete files under this directory.</span></span> <span data-ttu-id="2e352-527">Feladatok férhetnek hozzá a könyvtárhoz hello Vezérlőpultjának `AZ_BATCH_NODE_STARTUP_DIR` környezeti változó.</span><span class="sxs-lookup"><span data-stu-id="2e352-527">Tasks can access this directory by referencing hello `AZ_BATCH_NODE_STARTUP_DIR` environment variable.</span></span>
* <span data-ttu-id="2e352-528">**Feladatok**: hello csomóponton futó minden feladatot hoz létre egy könyvtárat.</span><span class="sxs-lookup"><span data-stu-id="2e352-528">**Tasks**: A directory is created for each task that runs on hello node.</span></span> <span data-ttu-id="2e352-529">Hello Vezérlőpultjának hozzáférés `AZ_BATCH_TASK_DIR` környezeti változó.</span><span class="sxs-lookup"><span data-stu-id="2e352-529">It is accessed by referencing hello `AZ_BATCH_TASK_DIR` environment variable.</span></span>

    <span data-ttu-id="2e352-530">Minden tevékenység könyvtárban lévő hello Batch szolgáltatás létrehoz egy könyvtárat (`wd`) egyedi elérési úton megadott hello `AZ_BATCH_TASK_WORKING_DIR` környezeti változó.</span><span class="sxs-lookup"><span data-stu-id="2e352-530">Within each task directory, hello Batch service creates a working directory (`wd`) whose unique path is specified by hello `AZ_BATCH_TASK_WORKING_DIR` environment variable.</span></span> <span data-ttu-id="2e352-531">Ez a könyvtár biztosít az olvasási/írási hozzáférést toohello feladat.</span><span class="sxs-lookup"><span data-stu-id="2e352-531">This directory provides read/write access toohello task.</span></span> <span data-ttu-id="2e352-532">hello feladat létrehozása, olvasása, frissítése, és törölje a fájlokat a könyvtárban.</span><span class="sxs-lookup"><span data-stu-id="2e352-532">hello task can create, read, update, and delete files under this directory.</span></span> <span data-ttu-id="2e352-533">Ez a könyvtár megmarad hello alapján *RetentionTime* hello feladathoz megadott korlátozást.</span><span class="sxs-lookup"><span data-stu-id="2e352-533">This directory is retained based on hello *RetentionTime* constraint that is specified for hello task.</span></span>

    <span data-ttu-id="2e352-534">`stdout.txt`és `stderr.txt`: ezek a fájlok toohello feladat mappa írt hello hello feladat végrehajtása során.</span><span class="sxs-lookup"><span data-stu-id="2e352-534">`stdout.txt` and `stderr.txt`: These files are written toohello task folder during hello execution of hello task.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="2e352-535">A csomópont hello készletből való eltávolításakor *összes* a hello hello csomóponton tárolt fájlok törlődnek.</span><span class="sxs-lookup"><span data-stu-id="2e352-535">When a node is removed from hello pool, *all* of hello files that are stored on hello node are removed.</span></span>
>
>

## <a name="application-packages"></a><span data-ttu-id="2e352-536">Alkalmazáscsomagok</span><span class="sxs-lookup"><span data-stu-id="2e352-536">Application packages</span></span>
<span data-ttu-id="2e352-537">Hello [alkalmazáscsomagok](batch-application-packages.md) funkciójával egyszerűen kezelhető, és az alkalmazások telepítését a készletek toohello számítási csomópontok.</span><span class="sxs-lookup"><span data-stu-id="2e352-537">hello [application packages](batch-application-packages.md) feature provides easy management and deployment of applications toohello compute nodes in your pools.</span></span> <span data-ttu-id="2e352-538">Töltse fel és alkalmazások futnak, hello különböző verzióinak kezeli a tevékenységek, beleértve a bináris fájlok, és fájlokat támogatja.</span><span class="sxs-lookup"><span data-stu-id="2e352-538">You can upload and manage multiple versions of hello applications run by your tasks, including their binaries and support files.</span></span> <span data-ttu-id="2e352-539">Majd automatikusan telepítheti az egy vagy több ezen alkalmazások toohello számítási csomópontok a készlet.</span><span class="sxs-lookup"><span data-stu-id="2e352-539">Then you can automatically deploy one or more of these applications toohello compute nodes in your pool.</span></span>

<span data-ttu-id="2e352-540">Alkalmazáscsomagok hello készlet és a feladat szinten is megadhat.</span><span class="sxs-lookup"><span data-stu-id="2e352-540">You can specify application packages at hello pool and task level.</span></span> <span data-ttu-id="2e352-541">Amikor készletbe alkalmazáscsomagok ad meg, a hello alkalmazás telepített tooevery csomópont hello készletben.</span><span class="sxs-lookup"><span data-stu-id="2e352-541">When you specify pool application packages, hello application is deployed tooevery node in hello pool.</span></span> <span data-ttu-id="2e352-542">Feladat alkalmazáscsomagok megadásakor hello alkalmazás telepített csak toonodes, amelyek ütemezett toorun legalább egy hello feladat feladatok, hello előtt tevékenység parancssor futtatása.</span><span class="sxs-lookup"><span data-stu-id="2e352-542">When you specify task application packages, hello application is deployed only toonodes that are scheduled toorun at least one of hello job's tasks, just before hello task's command line is run.</span></span>

<span data-ttu-id="2e352-543">Kötegelt leírók hello használata Azure Storage toostore az alkalmazáscsomagok részleteit, és azok toocompute csomópontok, így a kód és a felügyeleti terhelést egyszerűsíthető.</span><span class="sxs-lookup"><span data-stu-id="2e352-543">Batch handles hello details of working with Azure Storage toostore your application packages and deploy them toocompute nodes, so both your code and management overhead can be simplified.</span></span>

<span data-ttu-id="2e352-544">toofind további hello alkalmazás csomag funkcióval kapcsolatban, tekintse meg [központi telepítése az alkalmazások toocompute csomópontokat a kötegelt alkalmazáscsomagok](batch-application-packages.md).</span><span class="sxs-lookup"><span data-stu-id="2e352-544">toofind out more about hello application package feature, check out [Deploy applications toocompute nodes with Batch application packages](batch-application-packages.md).</span></span>

> [!NOTE]
> <span data-ttu-id="2e352-545">Készlet alkalmazás csomagok tooan hozzáadásakor *meglévő* készlet, az alkalmazás hello csomagok telepített toobe toohello csomópontok újra kell indítani a számítási csomópontok.</span><span class="sxs-lookup"><span data-stu-id="2e352-545">If you add pool application packages tooan *existing* pool, you must reboot its compute nodes for hello application packages toobe deployed toohello nodes.</span></span>
>
>

## <a name="pool-and-compute-node-lifetime"></a><span data-ttu-id="2e352-546">Készlet és számítási csomópont élettartama</span><span class="sxs-lookup"><span data-stu-id="2e352-546">Pool and compute node lifetime</span></span>
<span data-ttu-id="2e352-547">Az Azure Batch-megoldás tervezésekor rendelkezik toomake a tervezési döntés és tárolókészletek létrehozása, és mennyi ideig számítási csomópontok azokat a készleten belül mindig elérhető.</span><span class="sxs-lookup"><span data-stu-id="2e352-547">When you design your Azure Batch solution, you have toomake a design decision about how and when pools are created, and how long compute nodes within those pools are kept available.</span></span>

<span data-ttu-id="2e352-548">Hello pontszámot egyik végén az egyes feladatokhoz, amelyek akkor küldenek készlet létrehozása, és hello-készlet törlése, amint a feladatok végrehajtási befejezéséhez.</span><span class="sxs-lookup"><span data-stu-id="2e352-548">On one end of hello spectrum, you can create a pool for each job that you submit, and delete hello pool as soon as its tasks finish execution.</span></span> <span data-ttu-id="2e352-549">Ez kihasználtságát a lehető legnagyobbra mert hello csomópontok csak foglal le, ha szükséges, és állítsa le, amint betöltik a tétlen.</span><span class="sxs-lookup"><span data-stu-id="2e352-549">This maximizes utilization because hello nodes are only allocated when needed, and shut down as soon as they're idle.</span></span> <span data-ttu-id="2e352-550">Amíg ez azt jelenti, hogy hello feladat hello csomópontok toobe lefoglalt kell várnia, a feladatok vannak ütemezve, amint csomópontok érhetők el külön-külön, lefoglalt, és hello fontos toonote kezdő tevékenység befejeződött.</span><span class="sxs-lookup"><span data-stu-id="2e352-550">While this means that hello job must wait for hello nodes toobe allocated, it's important toonote that tasks are scheduled for execution as soon as nodes are individually available, allocated, and hello start task has completed.</span></span> <span data-ttu-id="2e352-551">Kötegelt does *nem* Várjon, amíg a készlet összes csomópontja elérhető feladatok toohello csomópontok hozzárendelése előtt.</span><span class="sxs-lookup"><span data-stu-id="2e352-551">Batch does *not* wait until all nodes within a pool are available before assigning tasks toohello nodes.</span></span> <span data-ttu-id="2e352-552">Így garantálható az összes elérhető csomópont maximális kihasználtsága.</span><span class="sxs-lookup"><span data-stu-id="2e352-552">This ensures maximum utilization of all available nodes.</span></span>

<span data-ttu-id="2e352-553">Hello: hello pontszámot másik végén feladatok azonnal elindítani, akkor az hello legmagasabb prioritású virtuális gép, ha hozhat létre egy alkalmazáskészlet időben és elérhetővé tenni a csomópontjainak a feladat elküldése előtt.</span><span class="sxs-lookup"><span data-stu-id="2e352-553">At hello other end of hello spectrum, if having jobs start immediately is hello highest priority, you can create a pool ahead of time and make its nodes available before jobs are submitted.</span></span> <span data-ttu-id="2e352-554">Ebben a forgatókönyvben feladatok azonnal elindíthatja, de előfordulhat, hogy csomópontok azokat várakozás közben üresjárati elhelyezkedik toobe rendelve.</span><span class="sxs-lookup"><span data-stu-id="2e352-554">In this scenario, tasks can start immediately, but nodes might sit idle while waiting for them toobe assigned.</span></span>

<span data-ttu-id="2e352-555">A változó természetű, ám folyamatos terhelések kezeléséhez általában a fenti két megoldás kombinációját használjuk.</span><span class="sxs-lookup"><span data-stu-id="2e352-555">A combined approach is typically used for handling a variable, but ongoing, load.</span></span> <span data-ttu-id="2e352-556">Akkor is rendelkezik, és több feladat elküldi, de felfelé vagy lefelé toohello feladat betöltése megfelelően méretezheti hello csomópontok száma (lásd: [méretezés számítási erőforrások](#scaling-compute-resources) a következő szakasz hello).</span><span class="sxs-lookup"><span data-stu-id="2e352-556">You can have a pool that multiple jobs are submitted to, but can scale hello number of nodes up or down according toohello job load (see [Scaling compute resources](#scaling-compute-resources) in hello following section).</span></span> <span data-ttu-id="2e352-557">Ez reaktív módon, az aktuális terhelés alapján is elvégezhető, de proaktív módszert is használhat, ha a terhelés előrejelezhető.</span><span class="sxs-lookup"><span data-stu-id="2e352-557">You can do this reactively, based on current load, or proactively, if load can be predicted.</span></span>

## <a name="virtual-network-vnet-and-firewall-configuration"></a><span data-ttu-id="2e352-558">A virtuális hálózat (VNet) és a tűzfal konfigurálása</span><span class="sxs-lookup"><span data-stu-id="2e352-558">Virtual network (VNet) and firewall configuration</span></span> 

<span data-ttu-id="2e352-559">Ha az Azure Batch számítási csomópontok készletét, társíthatja hello készlet egy Azure alhálózatának [virtuális hálózathoz (VNet)](../virtual-network/virtual-networks-overview.md).</span><span class="sxs-lookup"><span data-stu-id="2e352-559">When you provision a pool of compute nodes in Azure Batch, you can associate hello pool with a subnet of an Azure [virtual network (VNet)](../virtual-network/virtual-networks-overview.md).</span></span> <span data-ttu-id="2e352-560">toolearn létre virtuális hálózatok és alhálózatok, bővebben lásd: [hozzon létre egy Azure virtuális hálózatra alhálózatok](../virtual-network/virtual-networks-create-vnet-arm-pportal.md).</span><span class="sxs-lookup"><span data-stu-id="2e352-560">toolearn more about creating a VNet with subnets, see [Create an Azure virtual network with subnets](../virtual-network/virtual-networks-create-vnet-arm-pportal.md).</span></span> 

 * <span data-ttu-id="2e352-561">hello a készlethez társított virtuális hálózaton kell lennie:</span><span class="sxs-lookup"><span data-stu-id="2e352-561">hello VNet associated with a pool must be:</span></span>

   * <span data-ttu-id="2e352-562">Az azonos Azure hello **régió** , hello Azure Batch-fiókhoz.</span><span class="sxs-lookup"><span data-stu-id="2e352-562">In hello same Azure **region** as hello Azure Batch account.</span></span>
   * <span data-ttu-id="2e352-563">Az azonos hello **előfizetés** , hello Azure Batch-fiókhoz.</span><span class="sxs-lookup"><span data-stu-id="2e352-563">In hello same **subscription** as hello Azure Batch account.</span></span>

* <span data-ttu-id="2e352-564">virtuális hálózat támogatott hello típusa attól függ, hogyan készletek lefoglalt hello Batch-fiók esetében:</span><span class="sxs-lookup"><span data-stu-id="2e352-564">hello type of VNet supported depends on how pools are being allocated for hello Batch account:</span></span>

    - <span data-ttu-id="2e352-565">Ha hello készlet foglalási mód a Batch-fiókhoz tooBatch szolgáltatás beállítása, majd egy virtuális hálózat csak toopools hello létre rendelhet **Felhőszolgáltatások konfigurálása**.</span><span class="sxs-lookup"><span data-stu-id="2e352-565">If hello pool allocation mode for your Batch account is set tooBatch Service, then you can assign a VNet only toopools created with hello **Cloud Services Configuration**.</span></span> <span data-ttu-id="2e352-566">Emellett hello megadott virtuális hálózat hello klasszikus üzembe helyezési modellel kell létrehozni.</span><span class="sxs-lookup"><span data-stu-id="2e352-566">Additionally, hello specified VNet must be created with hello classic deployment model.</span></span> <span data-ttu-id="2e352-567">Hello Azure Resource Manager üzembe helyezési modellben létre Vnetek nem támogatottak.</span><span class="sxs-lookup"><span data-stu-id="2e352-567">VNets created with hello Azure Resource Manager deployment model are not supported.</span></span>
 
    - <span data-ttu-id="2e352-568">Ha hello tárolókészlet foglalási mód a Batch-fiókhoz tooUser előfizetés van beállítva, akkor hozzárendelheti egy virtuális hálózat csak toopools hello létre **virtuálisgép-konfiguráció**.</span><span class="sxs-lookup"><span data-stu-id="2e352-568">If hello pool allocation mode for your Batch account is set tooUser Subscription, then you can assign a VNet only toopools created with hello **Virtual Machine Configuration**.</span></span> <span data-ttu-id="2e352-569">Hello létre készletek **felhőalapú szolgáltatás konfigurációja** nem támogatottak.</span><span class="sxs-lookup"><span data-stu-id="2e352-569">Pools created with hello **Cloud Service Configuration** are not supported.</span></span> <span data-ttu-id="2e352-570">hello hello Azure Resource Manager üzembe helyezési modellben vagy a klasszikus üzembe helyezési modellel hello kapcsolódó virtuális hálózatot lehet létrehozni.</span><span class="sxs-lookup"><span data-stu-id="2e352-570">hello associated VNet may be created with either hello Azure Resource Manager deployment model or hello classic deployment model.</span></span>

    <span data-ttu-id="2e352-571">Virtuális hálózat támogatási összefoglalójához táblázat szerint toopool foglalási mód, lásd: hello [tárolókészlet foglalási mód](#pool-allocation-mode) szakasz.</span><span class="sxs-lookup"><span data-stu-id="2e352-571">For a table summarizing VNet support according toopool allocation mode, see hello [Pool allocation mode](#pool-allocation-mode) section.</span></span>

* <span data-ttu-id="2e352-572">Ha hello tárolókészlet foglalási mód a Batch-fiókhoz tooBatch szolgáltatást, majd meg kell adnia hello Batch szolgáltatás egyszerű tooaccess engedélyeinek hello virtuális hálózat.</span><span class="sxs-lookup"><span data-stu-id="2e352-572">If hello pool allocation mode for your Batch account is set tooBatch Service, then you must provide permissions for hello Batch service principal tooaccess hello VNet.</span></span> <span data-ttu-id="2e352-573">hello Vnetet hozzá kell rendelnie hello [Classic Virtual Machine Contributor Role-Based hozzáférés-vezérlés (RBAC)](https://azure.microsoft.com/documentation/articles/role-based-access-built-in-roles/#classic-virtual-machine-contributor) szerepkör toohello Batch szolgáltatás egyszerű.</span><span class="sxs-lookup"><span data-stu-id="2e352-573">hello VNet must assign hello [Classic Virtual Machine Contributor Role-Based Access Control (RBAC)](https://azure.microsoft.com/documentation/articles/role-based-access-built-in-roles/#classic-virtual-machine-contributor) role toohello Batch service principal.</span></span> <span data-ttu-id="2e352-574">Hello megadott RBAC-szerepkör nem áll rendelkezésre, ha a Batch szolgáltatás hello 400 (hibás kérés) adja vissza.</span><span class="sxs-lookup"><span data-stu-id="2e352-574">If hello specified RBAC role is not provided, hello Batch service returns 400 (Bad Request).</span></span> <span data-ttu-id="2e352-575">hello szerepköre tooadd hello Azure-portálon:</span><span class="sxs-lookup"><span data-stu-id="2e352-575">tooadd hello role in hello Azure portal:</span></span>

    1. <span data-ttu-id="2e352-576">Jelölje be hello **VNet**, majd **hozzáférés-vezérlés (IAM)** > **szerepkörök** > **virtuális gép közreműködő**  >  **Hozzáadása**.</span><span class="sxs-lookup"><span data-stu-id="2e352-576">Select hello **VNet**, then **Access control (IAM)** > **Roles** > **Virtual Machine Contributor** > **Add**.</span></span>
    2. <span data-ttu-id="2e352-577">A hello **engedélyek hozzáadása** panelen, jelölje be hello **virtuális gép közreműködő** szerepkör.</span><span class="sxs-lookup"><span data-stu-id="2e352-577">On hello **Add permissions** blade, select hello **Virtual Machine Contributor** role.</span></span>
    3. <span data-ttu-id="2e352-578">A hello **engedélyek hozzáadása** panelen, keressen a hello kötegelt API.</span><span class="sxs-lookup"><span data-stu-id="2e352-578">On hello **Add permissions** blade, search for hello Batch API.</span></span> <span data-ttu-id="2e352-579">Keresse meg ezek a karakterláncok mindegyikének pedig hello API keresse:</span><span class="sxs-lookup"><span data-stu-id="2e352-579">Search for each of these strings in turn until you find hello API:</span></span>
        1. <span data-ttu-id="2e352-580">**MicrosoftAzureBatch**.</span><span class="sxs-lookup"><span data-stu-id="2e352-580">**MicrosoftAzureBatch**.</span></span>
        2. <span data-ttu-id="2e352-581">**Microsoft Azure Batch**.</span><span class="sxs-lookup"><span data-stu-id="2e352-581">**Microsoft Azure Batch**.</span></span> <span data-ttu-id="2e352-582">Újabb Azure AD-bérlők ezt a nevet használhatják.</span><span class="sxs-lookup"><span data-stu-id="2e352-582">Newer Azure AD tenants may use this name.</span></span>
        3. <span data-ttu-id="2e352-583">**ddbf3205-c6bd-46ae-8127-60eb93363864** hello azonosítója hello kötegelt API.</span><span class="sxs-lookup"><span data-stu-id="2e352-583">**ddbf3205-c6bd-46ae-8127-60eb93363864** is hello ID for hello Batch API.</span></span> 
    3. <span data-ttu-id="2e352-584">Válassza ki a kötegelt API egyszerű szolgáltatásnév hello.</span><span class="sxs-lookup"><span data-stu-id="2e352-584">Select hello Batch API service principal.</span></span> 
    4. <span data-ttu-id="2e352-585">Kattintson a **Save** (Mentés) gombra.</span><span class="sxs-lookup"><span data-stu-id="2e352-585">Click **Save**.</span></span>

        ![Rendelje hozzá a virtuális gép közreműködő szerepkört tooBatch egyszerű szolgáltatásnév](./media/batch-api-basics/iam-add-role.png)


* <span data-ttu-id="2e352-587">hello megadott alhálózati kell van-e elegendő szabad **IP-címek** tooaccommodate hello célcsomópontokat száma; Ez azt jelenti, hogy a hello összege hello `targetDedicatedNodes` és `targetLowPriorityNodes` hello címkészlet tulajdonságainak.</span><span class="sxs-lookup"><span data-stu-id="2e352-587">hello specified subnet should have enough free **IP addresses** tooaccommodate hello total number of target nodes; that is, hello sum of hello `targetDedicatedNodes` and `targetLowPriorityNodes` properties of hello pool.</span></span> <span data-ttu-id="2e352-588">Hello alhálózat nem rendelkezik elég szabad IP-cím, hello Batch szolgáltatás részben hello készlet számítási csomópontjai hello foglal le, és egy átméretezési hibát ad vissza.</span><span class="sxs-lookup"><span data-stu-id="2e352-588">If hello subnet doesn't have enough free IP addresses, hello Batch service partially allocates hello compute nodes in hello pool and returns a resize error.</span></span>

* <span data-ttu-id="2e352-589">a megadott hello alhálózati kell engedélyezi a kommunikációt a hello Batch szolgáltatás toobe képes tooschedule feladatok hello számítási csomóponton.</span><span class="sxs-lookup"><span data-stu-id="2e352-589">hello specified subnet must allow communication from hello Batch service toobe able tooschedule tasks on hello compute nodes.</span></span> <span data-ttu-id="2e352-590">Ha kommunikációs toohello számítási csomópontok megtagadta a **hálózati biztonsági csoport (NSG)** társított hello VNet, akkor a Batch szolgáltatás hello túl hello számítási csomópontok hello állapotának beállítása**használhatatlanná**.</span><span class="sxs-lookup"><span data-stu-id="2e352-590">If communication toohello compute nodes is denied by a **Network Security Group (NSG)** associated with hello VNet, then hello Batch service sets hello state of hello compute nodes too**unusable**.</span></span>

* <span data-ttu-id="2e352-591">Ha a megadott hello hálózatok vannak társítva **hálózati biztonsági csoportokkal (NSG-k)** és/vagy egy **tűzfal**, akkor néhány fenntartott portokat engedélyezni kell a bejövő kommunikáció:</span><span class="sxs-lookup"><span data-stu-id="2e352-591">If hello specified VNet has associated **Network Security Groups (NSGs)** and/or a **firewall**, then a few reserved system ports must be enabled for inbound communication:</span></span>

- <span data-ttu-id="2e352-592">A virtuálisgép-konfigurációval létrehozott készletek esetén engedélyezze a 29876-os és a 29877-es portokat, valamint a 22-es portot Linux, illetve a 3389-es portot Windows rendszer esetén.</span><span class="sxs-lookup"><span data-stu-id="2e352-592">For pools created with a virtual machine configuration, enable ports 29876 and 29877, as well as port 22 for Linux and port 3389 for Windows.</span></span> 
- <span data-ttu-id="2e352-593">A felhőszolgáltatás-konfigurációval létrehozott készletek esetén engedélyezze a 10100-as, 20100-as és 30100-as portokat.</span><span class="sxs-lookup"><span data-stu-id="2e352-593">For pools created with a cloud service configuration, enable ports 10100, 20100, and 30100.</span></span> 
- <span data-ttu-id="2e352-594">Engedélyezze a kimenő kapcsolatok tooAzure tárolót a 443-as portot.</span><span class="sxs-lookup"><span data-stu-id="2e352-594">Enable outbound connections tooAzure Storage on port 443.</span></span> <span data-ttu-id="2e352-595">Arról is győződjön meg, hogy az Azure Storage-végpont feloldható bármely, a VNET-et kiszolgáló egyéni DNS-kiszolgáló által.</span><span class="sxs-lookup"><span data-stu-id="2e352-595">Also, ensure that your Azure Storage endpoint can be resolved by any custom DNS servers that serve your VNET.</span></span> <span data-ttu-id="2e352-596">Pontosabban, URL-cím hello `<account>.table.core.windows.net` feloldhatónak kell lennie.</span><span class="sxs-lookup"><span data-stu-id="2e352-596">Specifically, a URL of hello form `<account>.table.core.windows.net` should be resolvable.</span></span>

    <span data-ttu-id="2e352-597">hello következő táblázatban található hello bejövő tooenable az erőforráskészleteket, amelyekben a virtuálisgép-konfiguráció hello segítségével létrehozott szükséges portok:</span><span class="sxs-lookup"><span data-stu-id="2e352-597">hello following table describes hello inbound ports that you need tooenable for pools that you created with hello virtual machine configuration:</span></span>

    |    <span data-ttu-id="2e352-598">Célport(ok)</span><span class="sxs-lookup"><span data-stu-id="2e352-598">Destination Port(s)</span></span>    |    <span data-ttu-id="2e352-599">Forrás IP-címe</span><span class="sxs-lookup"><span data-stu-id="2e352-599">Source IP address</span></span>      |    <span data-ttu-id="2e352-600">Hozzáad a Batch NSG-ket?</span><span class="sxs-lookup"><span data-stu-id="2e352-600">Does Batch add NSGs?</span></span>    |    <span data-ttu-id="2e352-601">A virtuális gép toobe használható szükséges?</span><span class="sxs-lookup"><span data-stu-id="2e352-601">Required for VM toobe usable?</span></span>    |    <span data-ttu-id="2e352-602">Felhasználói művelet</span><span class="sxs-lookup"><span data-stu-id="2e352-602">Action from user</span></span>   |
    |---------------------------|---------------------------|----------------------------|-------------------------------------|-----------------------|
    |    <ul><li><span data-ttu-id="2e352-603">A készletek létre hello virtuálisgép-konfiguráció: 29876, 29877</span><span class="sxs-lookup"><span data-stu-id="2e352-603">For pools created with hello virtual machine configuration: 29876, 29877</span></span></li><li><span data-ttu-id="2e352-604">A készletek hello felhőalapú szolgáltatás konfigurációja létrehozott: 10100, 20100, 30100</span><span class="sxs-lookup"><span data-stu-id="2e352-604">For pools created with hello cloud service configuration: 10100, 20100, 30100</span></span></li></ul>         |    <span data-ttu-id="2e352-605">Csak a Batch szolgáltatási szerepkör IP-címei</span><span class="sxs-lookup"><span data-stu-id="2e352-605">Only Batch service role IP addresses</span></span> |    <span data-ttu-id="2e352-606">Igen.</span><span class="sxs-lookup"><span data-stu-id="2e352-606">Yes.</span></span> <span data-ttu-id="2e352-607">Kötegelt NSG-k hozzáadása a hálózati adapterek (NIC) kapcsolódó tooVMs hello szintjén.</span><span class="sxs-lookup"><span data-stu-id="2e352-607">Batch adds NSGs at hello level of network interfaces (NIC) attached tooVMs.</span></span> <span data-ttu-id="2e352-608">Ezek az NSG-k csak a Batch szolgáltatási szerepkör IP-címeiről érkező forgalmat engedélyezik.</span><span class="sxs-lookup"><span data-stu-id="2e352-608">These NSGs allow traffic only from Batch service role IP addresses.</span></span> <span data-ttu-id="2e352-609">Akkor is, ha ezeket a portokat, a teljes weben hello megnyitásához hello forgalom lesz blokkolnánk a hozzáférését: hello hálózati adaptert.</span><span class="sxs-lookup"><span data-stu-id="2e352-609">Even if you open these ports for hello  entire web, hello traffic will get blocked at hello NIC.</span></span> |    <span data-ttu-id="2e352-610">Igen</span><span class="sxs-lookup"><span data-stu-id="2e352-610">Yes</span></span>  |  <span data-ttu-id="2e352-611">Toospecify egy NSG-t, mert a kötegelt lehetővé teszi, hogy csak a kötegelt IP-címek nem kell.</span><span class="sxs-lookup"><span data-stu-id="2e352-611">You do not need toospecify an NSG, because Batch allows only Batch IP addresses.</span></span> <br /><br /> <span data-ttu-id="2e352-612">Ha azonban NSG-t ad meg, győződjön meg arról, hogy ezek a portok nyitva vannak a bejövő forgalom számára.</span><span class="sxs-lookup"><span data-stu-id="2e352-612">However, if you do specify an NSG, please ensure that these ports are open for inbound traffic.</span></span> <br /><br /> <span data-ttu-id="2e352-613">Ha megad *, a forrás IP-cím a NSG hello, kötegelt továbbra is hozzáadja NSG-ket a csatlakoztatott hálózati tooVMs hello szintjén.</span><span class="sxs-lookup"><span data-stu-id="2e352-613">If you specify * as hello source IP in your NSG, Batch still adds NSGs at hello level of NIC attached tooVMs.</span></span> |
    |    <span data-ttu-id="2e352-614">3389, 22</span><span class="sxs-lookup"><span data-stu-id="2e352-614">3389, 22</span></span>               |    <span data-ttu-id="2e352-615">Felhasználó, használt gépek hibakeresési célra, úgy, hogy van-e távoli hozzáférési hello virtuális gép.</span><span class="sxs-lookup"><span data-stu-id="2e352-615">User machines, used for debugging purposes, so that you can remotely access hello VM.</span></span>    |    <span data-ttu-id="2e352-616">Nem</span><span class="sxs-lookup"><span data-stu-id="2e352-616">No</span></span>                                    |    <span data-ttu-id="2e352-617">Nem</span><span class="sxs-lookup"><span data-stu-id="2e352-617">No</span></span>                     |    <span data-ttu-id="2e352-618">Adja hozzá az NSG-k, ha azt szeretné, hogy toopermit távelérési (RDP/SSH-) toohello virtuális gép.</span><span class="sxs-lookup"><span data-stu-id="2e352-618">Add NSGs if you want toopermit remote access (RDP/SSH) toohello VM.</span></span>   |                 

    <span data-ttu-id="2e352-619">hello a következő táblázat ismerteti, hogy kell-e tooenable toopermit hozzáférés tooAzure tárolási hello kimenő port:</span><span class="sxs-lookup"><span data-stu-id="2e352-619">hello following table describes hello outbound port that you need tooenable toopermit access tooAzure Storage:</span></span>

    |    <span data-ttu-id="2e352-620">Kimenő port(ok)</span><span class="sxs-lookup"><span data-stu-id="2e352-620">Outbound Port(s)</span></span>    |    <span data-ttu-id="2e352-621">Cél</span><span class="sxs-lookup"><span data-stu-id="2e352-621">Destination</span></span>    |    <span data-ttu-id="2e352-622">Hozzáad a Batch NSG-ket?</span><span class="sxs-lookup"><span data-stu-id="2e352-622">Does Batch add NSGs?</span></span>    |    <span data-ttu-id="2e352-623">A virtuális gép toobe használható szükséges?</span><span class="sxs-lookup"><span data-stu-id="2e352-623">Required for VM toobe usable?</span></span>    |    <span data-ttu-id="2e352-624">Felhasználói művelet</span><span class="sxs-lookup"><span data-stu-id="2e352-624">Action from user</span></span>    |
    |------------------------|-------------------|----------------------------|-------------------------------------|------------------------|
    |    <span data-ttu-id="2e352-625">443</span><span class="sxs-lookup"><span data-stu-id="2e352-625">443</span></span>    |    <span data-ttu-id="2e352-626">Azure Storage</span><span class="sxs-lookup"><span data-stu-id="2e352-626">Azure Storage</span></span>    |    <span data-ttu-id="2e352-627">Nem</span><span class="sxs-lookup"><span data-stu-id="2e352-627">No</span></span>    |    <span data-ttu-id="2e352-628">Igen</span><span class="sxs-lookup"><span data-stu-id="2e352-628">Yes</span></span>    |    <span data-ttu-id="2e352-629">Ha minden NSG-ket, majd ellenőrizze, hogy ezt a portot nyitott toooutbound forgalom.</span><span class="sxs-lookup"><span data-stu-id="2e352-629">If you add any NSGs, then ensure that this port is open toooutbound   traffic.</span></span>    |


## <a name="scaling-compute-resources"></a><span data-ttu-id="2e352-630">A számítási erőforrások méretezése</span><span class="sxs-lookup"><span data-stu-id="2e352-630">Scaling compute resources</span></span>
<span data-ttu-id="2e352-631">A [automatikus skálázás](batch-automatic-scaling.md), hello Batch szolgáltatás dinamikusan beállítása hello toohello aktuális munkaterhelés és Erőforrás-kihasználtsága a számítási forgatókönyv szerint készlet számítási csomópontjainak számát is.</span><span class="sxs-lookup"><span data-stu-id="2e352-631">With [automatic scaling](batch-automatic-scaling.md), you can have hello Batch service dynamically adjust hello number of compute nodes in a pool according toohello current workload and resource usage of your compute scenario.</span></span> <span data-ttu-id="2e352-632">Ez lehetővé teszi, hogy toolower hello teljes költség szempontjából, az alkalmazás futtatásának csak hello erőforrások használatával van szüksége, és azokat felszabadítása nincs szükség.</span><span class="sxs-lookup"><span data-stu-id="2e352-632">This allows you toolower hello overall cost of running your application by using only hello resources you need, and releasing those you don't need.</span></span>

<span data-ttu-id="2e352-633">Az automatikus skálázáshoz írnia kell egy [automatikus skálázási képletet](batch-automatic-scaling.md#automatic-scaling-formulas), amelyet aztán társítania kell a készlethez.</span><span class="sxs-lookup"><span data-stu-id="2e352-633">You enable automatic scaling by writing an [automatic scaling formula](batch-automatic-scaling.md#automatic-scaling-formulas) and associating that formula with a pool.</span></span> <span data-ttu-id="2e352-634">hello Batch szolgáltatás hello képlet toodetermine hello cél csomópontok száma hello készletben hello következő méretezési időköz (az Ön által konfigurált időköz) használja.</span><span class="sxs-lookup"><span data-stu-id="2e352-634">hello Batch service uses hello formula toodetermine hello target number of nodes in hello pool for hello next scaling interval (an interval that you can configure).</span></span> <span data-ttu-id="2e352-635">Megadhat hello automatikus méretezési beállításainak készlet létrehozásakor azt, vagy később készlet méretezésének engedélyezése.</span><span class="sxs-lookup"><span data-stu-id="2e352-635">You can specify hello automatic scaling settings for a pool when you create it, or enable scaling on a pool later.</span></span> <span data-ttu-id="2e352-636">Hello skálázás skálázásnak engedélyezve készlet beállításait is frissítheti.</span><span class="sxs-lookup"><span data-stu-id="2e352-636">You can also update hello scaling settings on a scaling-enabled pool.</span></span>

<span data-ttu-id="2e352-637">Tegyük fel lehet, hogy egy feladat megköveteli, hogy végre feladatok toobe nagyon nagy számú elküldését.</span><span class="sxs-lookup"><span data-stu-id="2e352-637">As an example, perhaps a job requires that you submit a very large number of tasks toobe executed.</span></span> <span data-ttu-id="2e352-638">A méretezési képlet toohello készlet, amely beállítja a várólistán lévő feladatok aktuális száma hello és alapuló hello befejezési hello feladatok hello feladat hello készletben csomópontok száma hello rendelhet hozzá.</span><span class="sxs-lookup"><span data-stu-id="2e352-638">You can assign a scaling formula toohello pool that adjusts hello number of nodes in hello pool based on hello current number of queued tasks and hello completion rate of hello tasks in hello job.</span></span> <span data-ttu-id="2e352-639">hello Batch szolgáltatás rendszeres időközönként kiértékeli hello képlet és átméretezi hello készletbe, a munkaterhelés és a más képlet beállítások alapján.</span><span class="sxs-lookup"><span data-stu-id="2e352-639">hello Batch service periodically evaluates hello formula and resizes hello pool, based on workload and your other formula settings.</span></span> <span data-ttu-id="2e352-640">hello szolgáltatás csomópontok hozzáadása az aszinkron feladatok nagy számú esetén szükség szerint, és nincsenek aszinkron vagy nem futnak feladatok csomópontok eltávolítja.</span><span class="sxs-lookup"><span data-stu-id="2e352-640">hello service adds nodes as needed when there are a large number of queued tasks, and removes nodes when there are no queued or running tasks.</span></span>

<span data-ttu-id="2e352-641">Méretezési képlet alapulhat a következő metrikák hello:</span><span class="sxs-lookup"><span data-stu-id="2e352-641">A scaling formula can be based on hello following metrics:</span></span>

* <span data-ttu-id="2e352-642">**Metrikák idő** megadott hello 5 percenként összegyűjtött statisztikai alapuló órák száma.</span><span class="sxs-lookup"><span data-stu-id="2e352-642">**Time metrics** are based on statistics collected every five minutes in hello specified number of hours.</span></span>
* <span data-ttu-id="2e352-643">Az **erőforrás-mérőszámok** a CPU-használat, a sávszélesség-használat, a memóriahasználat és a csomópontok száma alapján számíthatók ki.</span><span class="sxs-lookup"><span data-stu-id="2e352-643">**Resource metrics** are based on CPU usage, bandwidth usage, memory usage, and number of nodes.</span></span>
* <span data-ttu-id="2e352-644">A **tevékenységmetrikák** alapját a tevékenységállapotok, például *Aktív* (sorban áll), *Fut* vagy *Befejezve* képezik.</span><span class="sxs-lookup"><span data-stu-id="2e352-644">**Task metrics** are based on task state, such as *Active* (queued), *Running*, or *Completed*.</span></span>

<span data-ttu-id="2e352-645">Amikor hello számát a készlet számítási csomópontjainak automatikus skálázás csökkenti, át kell gondolnia, hogyan hello hello idején futó feladatok toohandle csökkentése műveletet.</span><span class="sxs-lookup"><span data-stu-id="2e352-645">When automatic scaling decreases hello number of compute nodes in a pool, you must consider how toohandle tasks that are running at hello time of hello decrease operation.</span></span> <span data-ttu-id="2e352-646">tooaccommodate ennek, biztosít egy *csomópont-felszabadítás beállítás* , amelyeket megadhat a képletekben.</span><span class="sxs-lookup"><span data-stu-id="2e352-646">tooaccommodate this, Batch provides a *node deallocation option* that you can include in your formulas.</span></span> <span data-ttu-id="2e352-647">Például megadhatja, hogy futó feladatok vannak azonnal leállt, azonnal leállította és majd egy másik csomópontjára végrehajtásra helyezte, vagy engedélyezett toofinish hello készletből hello csomópont eltávolítása előtt.</span><span class="sxs-lookup"><span data-stu-id="2e352-647">For example, you can specify that running tasks are stopped immediately, stopped immediately and then requeued for execution on another node, or allowed toofinish before hello node is removed from hello pool.</span></span>

<span data-ttu-id="2e352-648">Az alkalmazások automatikus méretezésével kapcsolatos további információért lásd: [Számítási csomópontok automatikus méretezése egy Azure Batch-készletben](batch-automatic-scaling.md).</span><span class="sxs-lookup"><span data-stu-id="2e352-648">For more information about automatically scaling an application, see [Automatically scale compute nodes in an Azure Batch pool](batch-automatic-scaling.md).</span></span>

> [!TIP]
> <span data-ttu-id="2e352-649">toomaximize számítási erőforrás-használat, beállítása hello cél csomópontok toozero hello végén egy feladatot, de a futó feladatok toofinish.</span><span class="sxs-lookup"><span data-stu-id="2e352-649">toomaximize compute resource utilization, set hello target number of nodes toozero at hello end of a job, but allow running tasks toofinish.</span></span>
>
>

## <a name="security-with-certificates"></a><span data-ttu-id="2e352-650">Biztonság tanúsítványokkal</span><span class="sxs-lookup"><span data-stu-id="2e352-650">Security with certificates</span></span>
<span data-ttu-id="2e352-651">Amikor titkosítása vagy visszafejtése tevékenységek, például hello kulcsa bizalmas adatait általában szükség tanúsítványokra toouse egy [Azure Storage-fiók][azure_storage].</span><span class="sxs-lookup"><span data-stu-id="2e352-651">You typically need toouse certificates when you encrypt or decrypt sensitive information for tasks, like hello key for an [Azure Storage account][azure_storage].</span></span> <span data-ttu-id="2e352-652">toosupport, tanúsítványok csomópontok telepíthető.</span><span class="sxs-lookup"><span data-stu-id="2e352-652">toosupport this, you can install certificates on nodes.</span></span> <span data-ttu-id="2e352-653">Titkosított titkos kulcsok tootasks parancssori paraméterek átadása vagy beágyazott hello feladat erőforrások egyike, és hello telepített tanúsítványok csak használt toodecrypt őket.</span><span class="sxs-lookup"><span data-stu-id="2e352-653">Encrypted secrets are passed tootasks via command-line parameters or embedded in one of hello task resources, and hello installed certificates can be used toodecrypt them.</span></span>

<span data-ttu-id="2e352-654">Hello használata [Hozzáadás tanúsítvány] [ rest_add_cert] művelet (Batch REST) vagy [CertificateOperations.CreateCertificate] [ net_create_cert] metódus (Batch .NET) tooadd egy tanúsítvány tooa Batch-fiókhoz.</span><span class="sxs-lookup"><span data-stu-id="2e352-654">You use hello [Add certificate][rest_add_cert] operation (Batch REST) or [CertificateOperations.CreateCertificate][net_create_cert] method (Batch .NET) tooadd a certificate tooa Batch account.</span></span> <span data-ttu-id="2e352-655">Majd hello tanúsítványt társíthat egy új vagy meglévő készletbe.</span><span class="sxs-lookup"><span data-stu-id="2e352-655">You can then associate hello certificate with a new or existing pool.</span></span> <span data-ttu-id="2e352-656">Ha egy tanúsítvány társítva egy készletet, Batch szolgáltatás hello telepíti hello tanúsítványt hello készlet minden egyes csomóponton.</span><span class="sxs-lookup"><span data-stu-id="2e352-656">When a certificate is associated with a pool, hello Batch service installs hello certificate on each node in hello pool.</span></span> <span data-ttu-id="2e352-657">hello Batch szolgáltatás telepíti a megfelelő tanúsítványok hello indításakor hello csomópont, a feladatok (beleértve a hello kezdő tevékenység és a kezelő feladat) elindítása előtt.</span><span class="sxs-lookup"><span data-stu-id="2e352-657">hello Batch service installs hello appropriate certificates when hello node starts up, before launching any tasks (including hello start task and job manager task).</span></span>

<span data-ttu-id="2e352-658">Tanúsítványok tooan hozzáadásakor *meglévő* készletbe tartozó hello alkalmazott toobe toohello csomópontok újra kell indítani a számítási csomópontok.</span><span class="sxs-lookup"><span data-stu-id="2e352-658">If you add certificates tooan *existing* pool, you must reboot its compute nodes for hello certificates toobe applied toohello nodes.</span></span>

## <a name="error-handling"></a><span data-ttu-id="2e352-659">Hibakezelés</span><span class="sxs-lookup"><span data-stu-id="2e352-659">Error handling</span></span>
<span data-ttu-id="2e352-660">Előfordulhat, hogy szükséges toohandle feladat, mind az alkalmazás sikertelen a kötegelt megoldás belül.</span><span class="sxs-lookup"><span data-stu-id="2e352-660">You might find it necessary toohandle both task and application failures within your Batch solution.</span></span>

### <a name="task-failure-handling"></a><span data-ttu-id="2e352-661">Tevékenységhibák kezelése</span><span class="sxs-lookup"><span data-stu-id="2e352-661">Task failure handling</span></span>
<span data-ttu-id="2e352-662">A tevékenységhibák a következő kategóriákba esnek:</span><span class="sxs-lookup"><span data-stu-id="2e352-662">Task failures fall into these categories:</span></span>

* <span data-ttu-id="2e352-663">**Előfeldolgozási hibák**</span><span class="sxs-lookup"><span data-stu-id="2e352-663">**Pre-processing failures**</span></span>

    <span data-ttu-id="2e352-664">Ha egy feladat sikertelen toostart, hello feladat egy előre feldolgozási hiba van beállítva.</span><span class="sxs-lookup"><span data-stu-id="2e352-664">If a task fails toostart, a pre-processing error is set for hello task.</span></span>  

    <span data-ttu-id="2e352-665">Előre feldolgozási hibák akkor történhet, ha hello feladat Erőforrásfájlok került, hello tárfiók már nem érhető el, vagy egy másik probléma történt, hogy megakadályozta abban hello sikeres másolását fájlok toohello csomópont.</span><span class="sxs-lookup"><span data-stu-id="2e352-665">Pre-processing errors can occur if hello task's resource files have moved, hello Storage account is no longer available, or another issue was encountered that prevented hello successful copying of files toohello node.</span></span>

* <span data-ttu-id="2e352-666">**Sikertelen fájlfeltöltés**</span><span class="sxs-lookup"><span data-stu-id="2e352-666">**File upload failures**</span></span>

    <span data-ttu-id="2e352-667">Ha egy feladat a megadott fájlok feltöltése bármilyen okból nem sikerül, fájlfeltöltési hiba hello feladat van beállítva.</span><span class="sxs-lookup"><span data-stu-id="2e352-667">If uploading files that are specified for a task fails for any reason, a file upload error is set for hello task.</span></span>

    <span data-ttu-id="2e352-668">A fájl feltöltése a hiba akkor fordulhat elő, ha hello elérése az Azure Storage érvénytelen, vagy nem rendelkezik írási engedéllyel, ha hello tárfiók már nem érhető el, vagy ha egy másik probléma volt a megadott SAS talált, amely miatt nem sikerült a fájlok másolása sikeres hello hello csomópont.</span><span class="sxs-lookup"><span data-stu-id="2e352-668">File upload errors can occur if hello SAS supplied for accessing Azure Storage is invalid or does not provide write permissions, if hello storage account is no longer available, or if another issue was encountered that prevented hello successful copying of files from hello node.</span></span>    

* <span data-ttu-id="2e352-669">**Alkalmazáshibák**</span><span class="sxs-lookup"><span data-stu-id="2e352-669">**Application failures**</span></span>

    <span data-ttu-id="2e352-670">hello feladat parancssorból megadott hello folyamat is sikertelen lehet.</span><span class="sxs-lookup"><span data-stu-id="2e352-670">hello process that is specified by hello task's command line can also fail.</span></span> <span data-ttu-id="2e352-671">hello folyamat akkor számít elértnek toohave egy nem nulla kilépési kód érkezésekor hello folyamat, amely hello feladat végrehajtása sikertelen volt (lásd: *feladat kilépési kódot* hello a következő szakaszban).</span><span class="sxs-lookup"><span data-stu-id="2e352-671">hello process is deemed toohave failed when a nonzero exit code is returned by hello process that is executed by hello task (see *Task exit codes* in hello next section).</span></span>

    <span data-ttu-id="2e352-672">Az alkalmazáshibák, konfigurálhatja a kötegelt tooautomatically újrapróbálkozási hello feladat tooa megadott számú alkalommal.</span><span class="sxs-lookup"><span data-stu-id="2e352-672">For application failures, you can configure Batch tooautomatically retry hello task up tooa specified number of times.</span></span>

* <span data-ttu-id="2e352-673">**Korlátozáshibák**</span><span class="sxs-lookup"><span data-stu-id="2e352-673">**Constraint failures**</span></span>

    <span data-ttu-id="2e352-674">Megadhat egy korlátozás, amely meghatározza a feladatokat vagy tevékenységeket, hello maximális végrehajtásának időtartama hello *maxWallClockTime*.</span><span class="sxs-lookup"><span data-stu-id="2e352-674">You can set a constraint that specifies hello maximum execution duration for a job or task, hello *maxWallClockTime*.</span></span> <span data-ttu-id="2e352-675">Ez lehet hasznos, ha leáll tooprogress sikertelen feladatokhoz.</span><span class="sxs-lookup"><span data-stu-id="2e352-675">This can be useful for terminating tasks that fail tooprogress.</span></span>

    <span data-ttu-id="2e352-676">Amikor a rendszer túllépte a maximális időt hello, hello feladat be van-e megjelölve *befejeződött*, hello kilépési kód túl van-e állítva, de`0xC000013A` és hello *schedulingError* mező jelölése `{ category:"ServerError", code="TaskEnded"}`.</span><span class="sxs-lookup"><span data-stu-id="2e352-676">When hello maximum amount of time has been exceeded, hello task is marked as *completed*, but hello exit code is set too`0xC000013A` and hello *schedulingError* field is marked as `{ category:"ServerError", code="TaskEnded"}`.</span></span>

### <a name="debugging-application-failures"></a><span data-ttu-id="2e352-677">Alkalmazáshibák keresése</span><span class="sxs-lookup"><span data-stu-id="2e352-677">Debugging application failures</span></span>
* <span data-ttu-id="2e352-678">`stderr` és `stdout`</span><span class="sxs-lookup"><span data-stu-id="2e352-678">`stderr` and `stdout`</span></span>

    <span data-ttu-id="2e352-679">Végrehajtásakor előfordulhat, hogy a alkalmazás használható tootroubleshoot problémák diagnosztikai kimenetet eredményez.</span><span class="sxs-lookup"><span data-stu-id="2e352-679">During execution, an application might produce diagnostic output that you can use tootroubleshoot issues.</span></span> <span data-ttu-id="2e352-680">Hello a korábbi szakaszban [fájlok és könyvtárak](#files-and-directories), hello Batch szolgáltatás írja a standard kimenet és a standard hiba túl kimeneti`stdout.txt` és `stderr.txt` hello feladat könyvtárban található fájlok hello a számítási csomópont.</span><span class="sxs-lookup"><span data-stu-id="2e352-680">As mentioned in hello earlier section [Files and directories](#files-and-directories), hello Batch service writes standard output and standard error output too`stdout.txt` and `stderr.txt` files in hello task directory on hello compute node.</span></span> <span data-ttu-id="2e352-681">Használható hello Azure-portálon vagy az egyik hello kötegelt SDK-k toodownload ezeket a fájlokat.</span><span class="sxs-lookup"><span data-stu-id="2e352-681">You can use hello Azure portal or one of hello Batch SDKs toodownload these files.</span></span> <span data-ttu-id="2e352-682">Például le ezeket és más fájlok hibaelhárítási célból használatával [ComputeNode.GetNodeFile] [ net_getfile_node] és [CloudTask.GetNodeFile] [ net_getfile_task] hello Batch .NET könyvtárban.</span><span class="sxs-lookup"><span data-stu-id="2e352-682">For example, you can retrieve these and other files for troubleshooting purposes by using [ComputeNode.GetNodeFile][net_getfile_node] and [CloudTask.GetNodeFile][net_getfile_task] in hello Batch .NET library.</span></span>

* <span data-ttu-id="2e352-683">**Tevékenységek kilépési kódjai**</span><span class="sxs-lookup"><span data-stu-id="2e352-683">**Task exit codes**</span></span>

    <span data-ttu-id="2e352-684">Amint azt korábban említettük, a feladatok hibás jelölést hello Batch szolgáltatás Ha hello feladat által végrehajtott folyamat hello egy nem nulla kilépési kódot ad vissza.</span><span class="sxs-lookup"><span data-stu-id="2e352-684">As mentioned earlier, a task is marked as failed by hello Batch service if hello process that is executed by hello task returns a nonzero exit code.</span></span> <span data-ttu-id="2e352-685">A folyamat végrehajtásakor a feladat kötegelt tölti fel a hello feladat kilépési kód tulajdonság hello *visszatérési kód hello folyamat*.</span><span class="sxs-lookup"><span data-stu-id="2e352-685">When a task executes a process, Batch populates hello task's exit code property with hello *return code of hello process*.</span></span> <span data-ttu-id="2e352-686">Fontos, hogy a tevékenység kilépési kód toonote **nem** hello Batch szolgáltatás határozza meg.</span><span class="sxs-lookup"><span data-stu-id="2e352-686">It is important toonote that a task's exit code is **not** determined by hello Batch service.</span></span> <span data-ttu-id="2e352-687">Egy feladat kilépési kód hello folyamat saját magát vagy végre hello folyamatok hello operációs rendszere határozza meg.</span><span class="sxs-lookup"><span data-stu-id="2e352-687">A task's exit code is determined by hello process itself or hello operating system on which hello process executed.</span></span>

### <a name="accounting-for-task-failures-or-interruptions"></a><span data-ttu-id="2e352-688">Tevékenységhibák vagy -megszakítások kezelése</span><span class="sxs-lookup"><span data-stu-id="2e352-688">Accounting for task failures or interruptions</span></span>
<span data-ttu-id="2e352-689">A tevékenységek időnként meghiúsulhatnak vagy megszakadhatnak.</span><span class="sxs-lookup"><span data-stu-id="2e352-689">Tasks might occasionally fail or be interrupted.</span></span> <span data-ttu-id="2e352-690">hello feladat alkalmazás maga sikertelen lehet, hello csomópont, mely hello feladat fut. Előfordulhat, hogy újra kell indítani, vagy hello csomópont esetleg elhagyják hello készlet során egy átméretezés esetén hello készlet felszabadítás házirend beállítása tooremove csomópontok azonnal várakozás nélkül feladatok toofinish.</span><span class="sxs-lookup"><span data-stu-id="2e352-690">hello task application itself might fail, hello node on which hello task is running might be rebooted, or hello node might be removed from hello pool during a resize operation if hello pool's deallocation policy is set tooremove nodes immediately without waiting for tasks toofinish.</span></span> <span data-ttu-id="2e352-691">Minden esetben hello feladat is lehet automatikusan helyezte kötegelt végrehajtási egy másik csomópontjára.</span><span class="sxs-lookup"><span data-stu-id="2e352-691">In all cases, hello task can be automatically requeued by Batch for execution on another node.</span></span>

<span data-ttu-id="2e352-692">Egy időszakos probléma toocause egy feladat toohang lehetőség is, vagy túl hosszú tooexecute igénybe vehet.</span><span class="sxs-lookup"><span data-stu-id="2e352-692">It is also possible for an intermittent issue toocause a task toohang or take too long tooexecute.</span></span> <span data-ttu-id="2e352-693">Hello maximális végrehajtási jelenít meg olyan feladatra, állíthatja be.</span><span class="sxs-lookup"><span data-stu-id="2e352-693">You can set hello maximum execution interval for a task.</span></span> <span data-ttu-id="2e352-694">Hello maximális végrehajtási időköz túllépésekor hello Batch szolgáltatás megzavarja a hello feladat alkalmazás.</span><span class="sxs-lookup"><span data-stu-id="2e352-694">If hello maximum execution interval is exceeded, hello Batch service interrupts hello task application.</span></span>

### <a name="connecting-toocompute-nodes"></a><span data-ttu-id="2e352-695">Csatlakozás toocompute csomópontok</span><span class="sxs-lookup"><span data-stu-id="2e352-695">Connecting toocompute nodes</span></span>
<span data-ttu-id="2e352-696">További hibakeresését vagy hibaelhárítását történő bejelentkezéssel tooa számítási csomópont távolról végezheti el.</span><span class="sxs-lookup"><span data-stu-id="2e352-696">You can perform additional debugging and troubleshooting by signing in tooa compute node remotely.</span></span> <span data-ttu-id="2e352-697">Hello Azure portál toodownload Remote Desktop Protocol (RDP) fájl használata a Windows-csomópontok számára, és szerezze be a Linux-csomópontok Secure Shell (SSH)-kapcsolódási információt.</span><span class="sxs-lookup"><span data-stu-id="2e352-697">You can use hello Azure portal toodownload a Remote Desktop Protocol (RDP) file for Windows nodes and obtain Secure Shell (SSH) connection information for Linux nodes.</span></span> <span data-ttu-id="2e352-698">Is ehhez használatával hello kötegelt API-k – például [Batch .NET] [ net_rdpfile] vagy [kötegelt Python](batch-linux-nodes.md#connect-to-linux-nodes-using-ssh).</span><span class="sxs-lookup"><span data-stu-id="2e352-698">You can also do this by using hello Batch APIs--for example, with [Batch .NET][net_rdpfile] or [Batch Python](batch-linux-nodes.md#connect-to-linux-nodes-using-ssh).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="2e352-699">tooconnect tooa csomópont RDP és az SSH segítségével, akkor először létre kell hoznia egy felhasználó hello csomóponton.</span><span class="sxs-lookup"><span data-stu-id="2e352-699">tooconnect tooa node via RDP or SSH, you must first create a user on hello node.</span></span> <span data-ttu-id="2e352-700">toodo, használhatja az Azure-portálon hello [tooa csomópont felhasználói fiók hozzáadása] [ rest_create_user] hello Batch REST API használatával hívható meg hello [ComputeNode.CreateComputeNodeUser] [ net_create_user] metódus a Batch .NET vagy a hívás hello [add_user] [ py_add_user] hello kötegelt Python modul metódust.</span><span class="sxs-lookup"><span data-stu-id="2e352-700">toodo this, you can use hello Azure portal, [add a user account tooa node][rest_create_user] by using hello Batch REST API, call hello [ComputeNode.CreateComputeNodeUser][net_create_user] method in Batch .NET, or call hello [add_user][py_add_user] method in hello Batch Python module.</span></span>
>
>

### <a name="troubleshooting-problematic-compute-nodes"></a><span data-ttu-id="2e352-701">Problémás számítási csomópontok hibaelhárítása</span><span class="sxs-lookup"><span data-stu-id="2e352-701">Troubleshooting problematic compute nodes</span></span>
<span data-ttu-id="2e352-702">Olyan esetekben, ahol a műveletek egy része sikertelen a kötegelt ügyfél alkalmazás vagy szolgáltatás ellenőrizheti hello sikertelen feladatok tooidentify átirányítóban csomópont hello metaadatait.</span><span class="sxs-lookup"><span data-stu-id="2e352-702">In situations where some of your tasks are failing, your Batch client application or service can examine hello metadata of hello failed tasks tooidentify a misbehaving node.</span></span> <span data-ttu-id="2e352-703">A készletbe minden csomópont kap egy egyedi Azonosítót, és hello csomópont, amelyen a feladat futtatása hello feladat metaadatokat tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="2e352-703">Each node in a pool is given a unique ID, and hello node on which a task runs is included in hello task metadata.</span></span> <span data-ttu-id="2e352-704">Ha sikerült azonosítani a problematikus csomópontot, számos különböző műveletet elvégezhet vele:</span><span class="sxs-lookup"><span data-stu-id="2e352-704">After you've identified a problem node, you can take several actions with it:</span></span>

* <span data-ttu-id="2e352-705">**Hello csomópont újraindítása** ([REST][rest_reboot] | [.NET][net_reboot])</span><span class="sxs-lookup"><span data-stu-id="2e352-705">**Reboot hello node** ([REST][rest_reboot] | [.NET][net_reboot])</span></span>

    <span data-ttu-id="2e352-706">Újraindítás hello csomópont néha rejtett problémák, például rögzített vagy lefagyott folyamatok is törlődnek.</span><span class="sxs-lookup"><span data-stu-id="2e352-706">Restarting hello node can sometimes clear up latent issues like stuck or crashed processes.</span></span> <span data-ttu-id="2e352-707">Vegye figyelembe, hogy a készlet egy kezdő tevékenység vagy a feladatot a feladat előkészítése tevékenység használja, ha végrehajtás hello csomópont újraindításakor.</span><span class="sxs-lookup"><span data-stu-id="2e352-707">Note that if your pool uses a start task or your job uses a job preparation task, they are executed when hello node restarts.</span></span>
* <span data-ttu-id="2e352-708">**Újból lemezképet létrehozni hello csomópont** ([REST][rest_reimage] | [.NET][net_reimage])</span><span class="sxs-lookup"><span data-stu-id="2e352-708">**Reimage hello node** ([REST][rest_reimage] | [.NET][net_reimage])</span></span>

    <span data-ttu-id="2e352-709">Ez a Configuration Manager telepíti hello operációs rendszer hello csomóponton.</span><span class="sxs-lookup"><span data-stu-id="2e352-709">This reinstalls hello operating system on hello node.</span></span> <span data-ttu-id="2e352-710">Csakúgy, mint a csomópont újraindul, indítsa el a feladatok és a feladat előkészítése feladatok hello csomópont lemezképet után futtassa újra a rendszer.</span><span class="sxs-lookup"><span data-stu-id="2e352-710">As with rebooting a node, start tasks and job preparation tasks are rerun after hello node has been reimaged.</span></span>
* <span data-ttu-id="2e352-711">**Távolítsa el a hello csomópont hello készletből** ([REST][rest_remove] | [.NET][net_remove])</span><span class="sxs-lookup"><span data-stu-id="2e352-711">**Remove hello node from hello pool** ([REST][rest_remove] | [.NET][net_remove])</span></span>

    <span data-ttu-id="2e352-712">Egyes esetekben szükséges toocompletely eltávolítása hello csomópont hello készletből.</span><span class="sxs-lookup"><span data-stu-id="2e352-712">Sometimes it is necessary toocompletely remove hello node from hello pool.</span></span>
* <span data-ttu-id="2e352-713">**Hello csomóponton tevékenységütemezés letiltása** ([REST][rest_offline] | [.NET][net_offline])</span><span class="sxs-lookup"><span data-stu-id="2e352-713">**Disable task scheduling on hello node** ([REST][rest_offline] | [.NET][net_offline])</span></span>

    <span data-ttu-id="2e352-714">Ez gyakorlatilag bontja hello csomópont kapcsolatot, hogy egy további feladat tooit vannak hozzárendelve, de lehetővé teszi, hogy a hello csomópont tooremain fut, és hello készletben.</span><span class="sxs-lookup"><span data-stu-id="2e352-714">This effectively takes hello node offline so that no further tasks are assigned tooit, but allows hello node tooremain running and in hello pool.</span></span> <span data-ttu-id="2e352-715">Ez lehetővé teszi tooperform további vizsgálata hello OK hello hibák hello meghiúsult feladat adatvesztés nélkül, és további feladat hibáihoz okozó hello csomópont nélkül.</span><span class="sxs-lookup"><span data-stu-id="2e352-715">This enables you tooperform further investigation into hello cause of hello failures without losing hello failed task's data, and without hello node causing additional task failures.</span></span> <span data-ttu-id="2e352-716">Például letilthatja tevékenységütemezés hello csomópontjára, majd [jelentkezzen be távolról](#connecting-to-compute-nodes) tooexamine csomópont eseménynaplók hello, vagy más hibaelhárítás.</span><span class="sxs-lookup"><span data-stu-id="2e352-716">For example, you can disable task scheduling on hello node, then [sign in remotely](#connecting-to-compute-nodes) tooexamine hello node's event logs or perform other troubleshooting.</span></span> <span data-ttu-id="2e352-717">Miután befejezte a vizsgálatot, majd helyezheti hello csomópont újra online tevékenységütemezés engedélyezése ([REST][rest_online] | [.NET] [ net_online]), vagy a korábban tárgyalt egyéb műveleteket hajthat végre hello egyikét.</span><span class="sxs-lookup"><span data-stu-id="2e352-717">After you've finished your investigation, you can then bring hello node back online by enabling task scheduling ([REST][rest_online] | [.NET][net_online]), or perform one of hello other actions discussed earlier.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="2e352-718">Minden – ebben a szakaszban ismertetett művelettel újraindítás, a lemezkép alaphelyzetbe, távolítsa el, és tiltsa le a feladat ütemezés--, képes toospecify hello csomóponton futó feladatok kezelésének módja hello művelet végrehajtásakor.</span><span class="sxs-lookup"><span data-stu-id="2e352-718">With each action that is described in this section--reboot, reimage, remove, and disable task scheduling--you are able toospecify how tasks currently running on hello node are handled when you perform hello action.</span></span> <span data-ttu-id="2e352-719">Például, ha letilt tevékenységütemezés a csomópont használatával hello Batch .NET ügyféloldali kódtár, megadhat egy [DisableComputeNodeSchedulingOption] [ net_offline_option] felsorolási érték toospecify, hogy túl**Megszakítás miatt** futó feladatok, **újra a várólistába helyezi** a többi csomóponton ütemezés őket, vagy engedélyezheti a futó feladatok toocomplete hello művelet végrehajtása előtt (**TaskCompletion**).</span><span class="sxs-lookup"><span data-stu-id="2e352-719">For example, when you disable task scheduling on a node by using hello Batch .NET client library, you can specify a [DisableComputeNodeSchedulingOption][net_offline_option] enum value toospecify whether too**Terminate** running tasks, **Requeue** them for scheduling on other nodes, or allow running tasks toocomplete before performing hello action (**TaskCompletion**).</span></span>
>
>

## <a name="next-steps"></a><span data-ttu-id="2e352-720">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="2e352-720">Next steps</span></span>
* <span data-ttu-id="2e352-721">További tudnivalók: hello [kötegelt API-k és eszközök](batch-apis-tools.md) kötegelt megoldások érhetők el.</span><span class="sxs-lookup"><span data-stu-id="2e352-721">Learn about hello [Batch APIs and tools](batch-apis-tools.md) available for building Batch solutions.</span></span>
* <span data-ttu-id="2e352-722">A kötegelt mintaalkalmazást a részletes útmutatót [.NET Ismerkedés az Azure Batch könyvtár hello](batch-dotnet-get-started.md).</span><span class="sxs-lookup"><span data-stu-id="2e352-722">Walk through a sample Batch application step-by-step in [Get started with hello Azure Batch Library for .NET](batch-dotnet-get-started.md).</span></span> <span data-ttu-id="2e352-723">Is egy [Python verzió](batch-python-tutorial.md) hello oktatóanyag, a munkaterhelés Linux rendszeren futó számítási csomópontjain.</span><span class="sxs-lookup"><span data-stu-id="2e352-723">There is also a [Python version](batch-python-tutorial.md) of hello tutorial that runs a workload on Linux compute nodes.</span></span>
* <span data-ttu-id="2e352-724">Töltse le és build hello [kötegelt Explorer] [ github_batchexplorer] mintaprojektet használható, amíg a kötegelt megoldásokat fejleszt.</span><span class="sxs-lookup"><span data-stu-id="2e352-724">Download and build hello [Batch Explorer][github_batchexplorer] sample project for use while you develop your Batch solutions.</span></span> <span data-ttu-id="2e352-725">Hello kötegelt Explorer használja, végezhet hello alábbi, és több:</span><span class="sxs-lookup"><span data-stu-id="2e352-725">Using hello Batch Explorer, you can perform hello following and more:</span></span>

  * <span data-ttu-id="2e352-726">Készletek, feladatok és tevékenységek megfigyelése és módosítása a Batch-fiókban</span><span class="sxs-lookup"><span data-stu-id="2e352-726">Monitor and manipulate pools, jobs, and tasks within your Batch account</span></span>
  * <span data-ttu-id="2e352-727">A `stdout.txt`, az `stderr.txt` és más fájlok letöltése csomópontokról</span><span class="sxs-lookup"><span data-stu-id="2e352-727">Download `stdout.txt`, `stderr.txt`, and other files from nodes</span></span>
  * <span data-ttu-id="2e352-728">Felhasználók létrehozása csomópontokon és RDP-fájlok letöltése távoli bejelentkezéshez</span><span class="sxs-lookup"><span data-stu-id="2e352-728">Create users on nodes and download RDP files for remote login</span></span>
* <span data-ttu-id="2e352-729">Ismerje meg, hogyan túl[létrehozása Linux számítási csomópontok készleteinek](batch-linux-nodes.md).</span><span class="sxs-lookup"><span data-stu-id="2e352-729">Learn how too[create pools of Linux compute nodes](batch-linux-nodes.md).</span></span>
* <span data-ttu-id="2e352-730">A Microsoft hello [Azure Batch fórum] [ batch_forum] az MSDN Webhelyén.</span><span class="sxs-lookup"><span data-stu-id="2e352-730">Visit hello [Azure Batch forum][batch_forum] on MSDN.</span></span> <span data-ttu-id="2e352-731">hello fórum jelenti jó tooask kérdéseket, hogy most ismerkedik, vagy a kötegelt használatával szakértő.</span><span class="sxs-lookup"><span data-stu-id="2e352-731">hello forum is a good place tooask questions, whether you are just learning or are an expert in using Batch.</span></span>

[1]: ./media/batch-api-basics/node-folder-structure.png

[azure_storage]: https://azure.microsoft.com/services/storage/
[batch_forum]: https://social.msdn.microsoft.com/Forums/en-US/home?forum=azurebatch
[cloud_service_sizes]: ../cloud-services/cloud-services-sizes-specs.md
[msmpi]: https://msdn.microsoft.com/library/bb524831.aspx
[github_samples]: https://github.com/Azure/azure-batch-samples
[github_sample_taskdeps]:  https://github.com/Azure/azure-batch-samples/tree/master/CSharp/ArticleProjects/TaskDependencies
[github_batchexplorer]: https://github.com/Azure/azure-batch-samples/tree/master/CSharp/BatchExplorer
[batch_net_api]: https://msdn.microsoft.com/library/azure/mt348682.aspx
[msdn_env_vars]: https://msdn.microsoft.com/library/azure/mt743623.aspx
[net_cloudjob_jobmanagertask]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudjob.jobmanagertask.aspx
[net_cloudjob_priority]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudjob.priority.aspx
[net_cloudpool_starttask]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudpool.starttask.aspx
[net_cloudtask_env]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudtask.environmentsettings.aspx
[net_create_cert]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.certificateoperations.createcertificate.aspx
[net_create_user]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.computenode.createcomputenodeuser.aspx
[net_getfile_node]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.computenode.getnodefile.aspx
[net_getfile_task]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudtask.getnodefile.aspx
[net_job_env]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudjob.commonenvironmentsettings.aspx
[net_multiinstancesettings]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.multiinstancesettings.aspx
[net_onalltaskscomplete]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.cloudjob.onalltaskscomplete.aspx
[net_rdp]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.computenode.getrdpfile.aspx
[net_reboot]: https://msdn.microsoft.com/library/azure/mt631495.aspx
[net_reimage]: https://msdn.microsoft.com/library/azure/mt631496.aspx
[net_remove]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.pooloperations.removefrompoolasync.aspx
[net_offline]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.computenode.disableschedulingasync.aspx
[net_online]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.computenode.enableschedulingasync.aspx
[net_offline_option]: https://msdn.microsoft.com/library/azure/microsoft.azure.batch.common.disablecomputenodeschedulingoption.aspx
[net_rdpfile]: https://msdn.microsoft.com/library/azure/Mt272127.aspx
[vnet]: https://msdn.microsoft.com/library/azure/dn820174.aspx#bk_netconf

[py_add_user]: http://azure-sdk-for-python.readthedocs.io/en/latest/ref/azure.batch.operations.html#azure.batch.operations.ComputeNodeOperations.add_user

[batch_rest_api]: https://msdn.microsoft.com/library/azure/Dn820158.aspx
[rest_add_job]: https://msdn.microsoft.com/library/azure/mt282178.aspx
[rest_add_pool]: https://msdn.microsoft.com/library/azure/dn820174.aspx
[rest_add_cert]: https://msdn.microsoft.com/library/azure/dn820169.aspx
[rest_add_task]: https://msdn.microsoft.com/library/azure/dn820105.aspx
[rest_create_user]: https://msdn.microsoft.com/library/azure/dn820137.aspx
[rest_get_task_info]: https://msdn.microsoft.com/library/azure/dn820133.aspx
[rest_job_schedules]: https://msdn.microsoft.com/library/azure/mt282179.aspx
[rest_multiinstance]: https://msdn.microsoft.com/library/azure/mt637905.aspx
[rest_multiinstancesettings]: https://msdn.microsoft.com/library/azure/dn820105.aspx#multiInstanceSettings
[rest_update_job]: https://msdn.microsoft.com/library/azure/dn820162.aspx
[rest_rdp]: https://msdn.microsoft.com/library/azure/dn820120.aspx
[rest_reboot]: https://msdn.microsoft.com/library/azure/dn820171.aspx
[rest_reimage]: https://msdn.microsoft.com/library/azure/dn820157.aspx
[rest_remove]: https://msdn.microsoft.com/library/azure/dn820194.aspx
[rest_offline]: https://msdn.microsoft.com/library/azure/mt637904.aspx
[rest_online]: https://msdn.microsoft.com/library/azure/mt637907.aspx

[vm_marketplace]: https://azure.microsoft.com/marketplace/virtual-machines/
