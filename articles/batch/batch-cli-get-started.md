---
title: "A Batch Azure CLI használatának első lépései | Microsoft Docs"
description: "Gyors bevezetést olvashat Azure Batch szolgáltatás erőforrásainak kezelésére szolgáló Batch parancsokhoz az Azure CLI-ben"
services: batch
documentationcenter: 
author: tamram
manager: timlt
editor: 
ms.assetid: fcd76587-1827-4bc8-a84d-bba1cd980d85
ms.service: batch
ms.devlang: na
ms.topic: get-started-article
ms.tgt_pltfrm: multiple
ms.workload: big-compute
ms.date: 07/20/2017
ms.author: tamram
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: 9bee0344ba70c50cda36a87ea617906283040ff9
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 08/03/2017
---
# <a name="manage-batch-resources-with-azure-cli"></a><span data-ttu-id="de380-103">Batch-erőforrássok kezelése az Azure CLI-vel</span><span class="sxs-lookup"><span data-stu-id="de380-103">Manage Batch resources with Azure CLI</span></span>

<span data-ttu-id="de380-104">Az Azure CLI 2.0 az Azure új parancssori felülete, amely Azure-erőforrások felügyeletére szolgál.</span><span class="sxs-lookup"><span data-stu-id="de380-104">The Azure CLI 2.0 is Azure's new command-line experience for managing Azure resources.</span></span> <span data-ttu-id="de380-105">A szolgáltatás macOS, Linux és Windows rendszereken használható.</span><span class="sxs-lookup"><span data-stu-id="de380-105">It can be used on macOS, Linux, and Windows.</span></span> <span data-ttu-id="de380-106">Az Azure CLI 2.0-t az Azure erőforrások parancssorból történő kezelésére és felügyeletére optimalizáltuk.</span><span class="sxs-lookup"><span data-stu-id="de380-106">Azure CLI 2.0 is optimized for managing and administering Azure resources from the command line.</span></span> <span data-ttu-id="de380-107">Az Azure CLI használatával felügyelheti Azure Batch-fiókját, valamint erőforrásokat kezelhet, például készleteket, feladatokat és tevékenységeket is.</span><span class="sxs-lookup"><span data-stu-id="de380-107">You can use the Azure CLI to manage your Azure Batch accounts and to manage resources such as pools, jobs, and tasks.</span></span> <span data-ttu-id="de380-108">Az Azure CLI-vel a Batch API-k, az Azure Portal és a Batch PowerShell-parancsmagok használatával végrehajtott műveletek közül is sokat elvégezhet.</span><span class="sxs-lookup"><span data-stu-id="de380-108">With the Azure CLI, you can script many of the same tasks you carry out with the Batch APIs, Azure portal, and Batch PowerShell cmdlets.</span></span>

<span data-ttu-id="de380-109">Ez a cikk betekintést nyújt az [Azure CLI 2.0-ás verziójának](https://docs.microsoft.com/cli/azure/overview) Batch-csel történő használatába.</span><span class="sxs-lookup"><span data-stu-id="de380-109">This article provides an overview of using [Azure CLI version 2.0](https://docs.microsoft.com/cli/azure/overview) with Batch.</span></span> <span data-ttu-id="de380-110">A CLI és az Azure együttes használatával kapcsolatban további információt a [Bevezetés az Azure CLI 2.0 használatába](https://docs.microsoft.com/cli/azure/get-started-with-azure-cli) című cikkben talál.</span><span class="sxs-lookup"><span data-stu-id="de380-110">See [Get started with Azure CLI 2.0](https://docs.microsoft.com/cli/azure/get-started-with-azure-cli) for an overview of using the CLI with Azure.</span></span>

<span data-ttu-id="de380-111">A Microsoft az Azure CLI legújabb, 2.0-ás verziójának használatát ajánlja.</span><span class="sxs-lookup"><span data-stu-id="de380-111">Microsoft recommends using the latest version of the Azure CLI, version 2.0.</span></span> <span data-ttu-id="de380-112">A 2.0-ás verzióval kapcsolatban további információt az [Mostantól általánosan elérhető az Azure parancssori felületének 2.0-s verziója](https://azure.microsoft.com/blog/announcing-general-availability-of-vm-storage-and-network-azure-cli-2-0/) című blogbejegyzésben talál.</span><span class="sxs-lookup"><span data-stu-id="de380-112">For more information about version 2.0, see [Azure Command Line 2.0 now generally available](https://azure.microsoft.com/blog/announcing-general-availability-of-vm-storage-and-network-azure-cli-2-0/).</span></span>

## <a name="set-up-the-azure-cli"></a><span data-ttu-id="de380-113">Az Azure CLI beállítása</span><span class="sxs-lookup"><span data-stu-id="de380-113">Set up the Azure CLI</span></span>

<span data-ttu-id="de380-114">Az Azure CLI telepítéséhez kövesse a [Telepítse az Azure CLI-t](https://docs.microsoft.com/cli/azure/install-azure-cli.md) című cikk lépéseit.</span><span class="sxs-lookup"><span data-stu-id="de380-114">To install the Azure CLI, follow the steps outlined in [Install the Azure CLI](https://docs.microsoft.com/cli/azure/install-azure-cli.md).</span></span>

> [!TIP]
> <span data-ttu-id="de380-115">Ajánlott gyakran frissíteni az Azure CLI telepítést a szolgáltatásfrissítések és -fejlesztések kihasználása érdekében.</span><span class="sxs-lookup"><span data-stu-id="de380-115">We recommend that you update your Azure CLI installation frequently to take advantage of service updates and enhancements.</span></span>
> 
> 

## <a name="command-help"></a><span data-ttu-id="de380-116">Segítség a parancsokhoz</span><span class="sxs-lookup"><span data-stu-id="de380-116">Command help</span></span>

<span data-ttu-id="de380-117">Az Azure CLI-ben minden parancshoz megjeleníthet súgószöveget, ha a parancshoz hozzáfűzi a `-h` utótagot.</span><span class="sxs-lookup"><span data-stu-id="de380-117">You can display help text for every command in the Azure CLI by appending `-h` to the command.</span></span> <span data-ttu-id="de380-118">Az egyéb beállításokat hagyja változatlanul.</span><span class="sxs-lookup"><span data-stu-id="de380-118">Omit any other options.</span></span> <span data-ttu-id="de380-119">Példa:</span><span class="sxs-lookup"><span data-stu-id="de380-119">For example:</span></span>

* <span data-ttu-id="de380-120">Ha segítséget szeretne kérni az `az` parancshoz, írja be a következőt: `az -h`</span><span class="sxs-lookup"><span data-stu-id="de380-120">To get help for the `az` command, enter: `az -h`</span></span>
* <span data-ttu-id="de380-121">Ha le szeretné kérni az összes Batch parancs listáját a parancssori felületen, használja a következőt: `az batch -h`</span><span class="sxs-lookup"><span data-stu-id="de380-121">To get a list of all Batch commands in the CLI, use: `az batch -h`</span></span>
* <span data-ttu-id="de380-122">Ha segítséget szeretne kérni Batch-fiók létrehozásához, írja be a következőt: `az batch account create -h`</span><span class="sxs-lookup"><span data-stu-id="de380-122">To get help on creating a Batch account, enter: `az batch account create -h`</span></span>

<span data-ttu-id="de380-123">Ha bizonytalan, a `-h` parancssori kapcsoló használatával az Azure CLI bármely parancsához segítséget kérhet.</span><span class="sxs-lookup"><span data-stu-id="de380-123">When in doubt, use the `-h` command-line option to get help on any Azure CLI command.</span></span>

> [!NOTE]
> <span data-ttu-id="de380-124">Az Azure CLI korábbi verziói az `azure` előtagot használták a CLI-parancsok megkülönböztetéséhez.</span><span class="sxs-lookup"><span data-stu-id="de380-124">Earlier versions of the Azure CLI used `azure` to preface a CLI command.</span></span> <span data-ttu-id="de380-125">A 2.0-ás verzióban minden parancs az `az` előtagot használja.</span><span class="sxs-lookup"><span data-stu-id="de380-125">In version 2.0, all commands are now prefaced with `az`.</span></span> <span data-ttu-id="de380-126">Gondoskodjon róla, hogy szkriptjei a 2.0-ás verziónak megfelelő új szintaxist használják.</span><span class="sxs-lookup"><span data-stu-id="de380-126">Be sure to update your scripts to use the new syntax with version 2.0.</span></span>
>
>  

<span data-ttu-id="de380-127">További részleteket az [Azure CLI Batch-parancsaival](https://docs.microsoft.com/cli/azure/batch) kapcsolatban az Azure CLI használati útmutatójában talál.</span><span class="sxs-lookup"><span data-stu-id="de380-127">Additionally, refer to the Azure CLI reference documentation for details about [Azure CLI commands for Batch](https://docs.microsoft.com/cli/azure/batch).</span></span> 

## <a name="log-in-and-authenticate"></a><span data-ttu-id="de380-128">Bejelentkezés és hitelesítés</span><span class="sxs-lookup"><span data-stu-id="de380-128">Log in and authenticate</span></span>

<span data-ttu-id="de380-129">Az Azure CLI Batch-csel történő használatához be kell jelentkeznie és hitelesítenie kell fiókját.</span><span class="sxs-lookup"><span data-stu-id="de380-129">To use the Azure CLI with Batch, you need to log in and authenticate.</span></span> <span data-ttu-id="de380-130">Ehhez két egyszerű lépést kell követnie:</span><span class="sxs-lookup"><span data-stu-id="de380-130">There are two simple steps to follow:</span></span>

1. <span data-ttu-id="de380-131">**Bejelentkezés az Azure-ba.**</span><span class="sxs-lookup"><span data-stu-id="de380-131">**Log into Azure.**</span></span> <span data-ttu-id="de380-132">Az Azure-ba történő bejelentkezés hozzáférést biztosít az Azure Resource Manager parancsaihoz, beleértve a [Batch Management szolgáltatás](batch-management-dotnet.md) parancsait is.</span><span class="sxs-lookup"><span data-stu-id="de380-132">Logging into Azure gives you access to Azure Resource Manager commands, including [Batch Management service](batch-management-dotnet.md) commands.</span></span>  
2. <span data-ttu-id="de380-133">**Bejelentkezés a Batch-fiókjába.**</span><span class="sxs-lookup"><span data-stu-id="de380-133">**Log into your Batch account.**</span></span> <span data-ttu-id="de380-134">A Batch-fiókba történő bejelentkezés hozzáférést biztosít a Batch szolgáltatás parancsaihoz.</span><span class="sxs-lookup"><span data-stu-id="de380-134">Logging into your Batch account gives you access to Batch service commands.</span></span>   

### <a name="log-in-to-azure"></a><span data-ttu-id="de380-135">Jelentkezzen be az Azure-ba</span><span class="sxs-lookup"><span data-stu-id="de380-135">Log in to Azure</span></span>

<span data-ttu-id="de380-136">Az Azure-szolgáltatásba több módon is bejelentkezhet, ezeket részletesen a [Bejelentkezés az Azure CLI 2.0 használatával](https://docs.microsoft.com/cli/azure/authenticate-azure-cli) című cikk ismerteti:</span><span class="sxs-lookup"><span data-stu-id="de380-136">There are a few different ways to log into Azure, described in detail in [Log in with Azure CLI 2.0](https://docs.microsoft.com/cli/azure/authenticate-azure-cli):</span></span>

1. <span data-ttu-id="de380-137">[Interaktív bejelentkezés](https://docs.microsoft.com/cli/azure/authenticate-azure-cli#interactive-log-in).</span><span class="sxs-lookup"><span data-stu-id="de380-137">[Log in interactively](https://docs.microsoft.com/cli/azure/authenticate-azure-cli#interactive-log-in).</span></span> <span data-ttu-id="de380-138">Az Interaktív bejelentkezést akkor használja, ha személyesen szeretne Azure CLI-parancsokat futtatni a parancssor használatával.</span><span class="sxs-lookup"><span data-stu-id="de380-138">Log in interactively when you are running Azure CLI commands yourself from the command line.</span></span>
2. <span data-ttu-id="de380-139">[Bejelentkezés szolgáltatásnévvel](https://docs.microsoft.com/cli/azure/authenticate-azure-cli#logging-in-with-a-service-principal).</span><span class="sxs-lookup"><span data-stu-id="de380-139">[Log in with a service principal](https://docs.microsoft.com/cli/azure/authenticate-azure-cli#logging-in-with-a-service-principal).</span></span> <span data-ttu-id="de380-140">Jelentkezzen be szolgáltatásnévvel, ha szkript vagy alkalmazás használatával kíván Azure CLI-parancsokat futtatni.</span><span class="sxs-lookup"><span data-stu-id="de380-140">Log in with a service principal when you are running Azure CLI commands from a script or an application.</span></span>

<span data-ttu-id="de380-141">Ebben a cikkben az Interaktív bejelentkezést fogjuk használni az Azure-ba történő belépéshez.</span><span class="sxs-lookup"><span data-stu-id="de380-141">For the purposes of this article, we show how to log into Azure interactively.</span></span> <span data-ttu-id="de380-142">Írja be az [az login](https://docs.microsoft.com/cli/azure/#login) utasítást a parancssorba:</span><span class="sxs-lookup"><span data-stu-id="de380-142">Type [az login](https://docs.microsoft.com/cli/azure/#login) on the command line:</span></span>

```azurecli
# Log in to Azure and authenticate interactively.
az login
```

<span data-ttu-id="de380-143">Ahogyan az itt látható, az `az login` parancs egy tokent ad vissza, amely a hitelesítéshez használható.</span><span class="sxs-lookup"><span data-stu-id="de380-143">The `az login` command returns a token that you can use to authenticate, as shown here.</span></span> <span data-ttu-id="de380-144">A megjelenő utasításoknak megfelelően nyisson meg egy weblapot és küldje el a tokent az Azure-nak:</span><span class="sxs-lookup"><span data-stu-id="de380-144">Follow the instructions provided to open a web page and submit the token to Azure:</span></span>

![Jelentkezzen be az Azure-ba](./media/batch-cli-get-started/az-login.png)

<span data-ttu-id="de380-146">A [Shell-szkript minták](#sample-shell-scripts) részben felsorolt példákban is az interaktív bejelentkezés segítségével indítunk majd Azure CLI-munkamenetet.</span><span class="sxs-lookup"><span data-stu-id="de380-146">The examples listed in the [Sample shell scripts](#sample-shell-scripts) section also show how to start your Azure CLI session by logging into Azure interactively.</span></span> <span data-ttu-id="de380-147">Bejelentkezés után parancshívások használatával elkezdheti a munkát a különböző Batch Management-erőforrásokkal, többek között a Batch-fiókokkal, kulcsokkal, alkalmazáscsomagokkal és kvótákkal.</span><span class="sxs-lookup"><span data-stu-id="de380-147">Once you have logged in, you can call commands to work with Batch Management resources, including Batch accounts, keys, application packages, and quotas.</span></span>  

### <a name="log-in-to-your-batch-account"></a><span data-ttu-id="de380-148">Bejelentkezés a Batch-fiókjába</span><span class="sxs-lookup"><span data-stu-id="de380-148">Log in to your Batch account</span></span>

<span data-ttu-id="de380-149">Ahhoz, hogy az Azure CLI segítségével kezelhessen Batch-erőforrásokat, például készleteket, feladatokat és tevékenységeket, be kell jelentkeznie Batch-fiókjába, és azt hitelesítenie kell.</span><span class="sxs-lookup"><span data-stu-id="de380-149">To use the Azure CLI to manage Batch resources, such as pools, jobs, and tasks, you need to log into your Batch account and authenticate.</span></span> <span data-ttu-id="de380-150">A Batch szolgáltatásba történő bejelentkezéshez használja a [az batch account login](https://docs.microsoft.com/cli/azure/batch/account#login) parancsot.</span><span class="sxs-lookup"><span data-stu-id="de380-150">To log in to the Batch service, use the [az batch account login](https://docs.microsoft.com/cli/azure/batch/account#login) command.</span></span> 

<span data-ttu-id="de380-151">A Batch-fiók hitelesítését két módon is elvégezheti:</span><span class="sxs-lookup"><span data-stu-id="de380-151">You have two options for authenticating against your Batch account:</span></span>

- <span data-ttu-id="de380-152">**Hitelesítés az Azure Active Directory (Azure AD) használatával.**</span><span class="sxs-lookup"><span data-stu-id="de380-152">**By using Azure Active Directory (Azure AD) authentication.**</span></span> 

    <span data-ttu-id="de380-153">Az Azure AD-val történő hitelesítés az alapértelmezett beállítás az Azure CLI és a Batch együttes használatánál, és a legtöbb esethez ezt a hitelesítési módot ajánljuk.</span><span class="sxs-lookup"><span data-stu-id="de380-153">Authenticating with Azure AD is the default when you use the Azure CLI with Batch, and recommended for most scenarios.</span></span> 
    
    <span data-ttu-id="de380-154">Amikor az interaktív bejelentkezés segítségével lép be az Azure-ba, ahogyan azt az előző részben is említettük, a hitelesítő adatait a rendszer a gyorsítótárba helyezi, így az Azure CLI ugyanezeket a hitelesítő adatokat használva be tud jelentkezni Batch-fiókjába is.</span><span class="sxs-lookup"><span data-stu-id="de380-154">When you log in to Azure interactively, as described in the previous section, your credentials are cached, so the Azure CLI can log you in to your Batch account using those same credentials.</span></span> <span data-ttu-id="de380-155">Ha szolgáltatásnév használatával jelentkezik be az Azure-ba, a rendszer a szolgáltatásnév hitelesítő adatait használva fog bejelentkezni Batch-fiókjába.</span><span class="sxs-lookup"><span data-stu-id="de380-155">If you log in to Azure using a service principal, those credentials are also used to log in to your Batch account.</span></span>

    <span data-ttu-id="de380-156">Az Azure AD előnye a szerepköralapú hozzáférés-vezérlés (RBAC) használatában rejlik.</span><span class="sxs-lookup"><span data-stu-id="de380-156">An advantage of Azure AD is that it offers role-based access control (RBAC).</span></span> <span data-ttu-id="de380-157">Szerepköralapú hozzáférés-vezérlés használatával a felhasználók hozzáférése a kiosztott szerepkörtől függ, nem pedig attól, hogy rendelkeznek-e a fiókhoz tartozó hitelesítőkulccsal.</span><span class="sxs-lookup"><span data-stu-id="de380-157">With RBAC, a user's access depends on their assigned role, rather than whether or not they possess the account keys.</span></span> <span data-ttu-id="de380-158">Így ahelyett, hogy hozzáférési kulcsokat kellene kezelnie, elég ha a szerepköröket kezeli, a hozzáférést és a hitelesítést pedig az Azure AD-ra bízhatja.</span><span class="sxs-lookup"><span data-stu-id="de380-158">Instead of managing account keys, you can manage RBAC roles, and let Azure AD handle access and authentication.</span></span>  

    <span data-ttu-id="de380-159">Az Azure AD-val történő hitelesítés mindenképpen szükséges, ha Azure Batch-fiókját úgy hozta létre, hogy annak készletfelosztási módja „Felhasználói előfizetés”-re lett állítva.</span><span class="sxs-lookup"><span data-stu-id="de380-159">Authenticating with Azure AD is required if you created your Azure Batch account with its pool allocation mode set to 'User Subscription'.</span></span> 

    <span data-ttu-id="de380-160">Ahhoz, hogy az Azure AD használatával jelentkezzen be Batch-fiókjába, használja a [az batch account login](https://docs.microsoft.com/cli/azure/batch/account#login) parancsot:</span><span class="sxs-lookup"><span data-stu-id="de380-160">To log in to your Batch account using Azure AD, call the [az batch account login](https://docs.microsoft.com/cli/azure/batch/account#login) command:</span></span> 

    ```azurecli
    az batch account login -g myresource group -n mybatchaccount
    ```

- <span data-ttu-id="de380-161">**Megosztott kulcsos hitelesítés.**</span><span class="sxs-lookup"><span data-stu-id="de380-161">**By using Shared Key authentication.**</span></span>

    <span data-ttu-id="de380-162">A [megosztott kulcsos hitelesítés](https://docs.microsoft.com/rest/api/batchservice/authenticate-requests-to-the-azure-batch-service#authentication-via-shared-key) a fiókja hozzáférési kulcsait használja, hogy hitelesítse az Azure CLI-parancsokat a Batch szolgáltatás felé.</span><span class="sxs-lookup"><span data-stu-id="de380-162">[Shared Key authentication](https://docs.microsoft.com/rest/api/batchservice/authenticate-requests-to-the-azure-batch-service#authentication-via-shared-key) uses your account access keys to authenticate Azure CLI commands for the Batch service.</span></span>

    <span data-ttu-id="de380-163">Ha Batch-parancsok hívását szeretné automatizálni Azure CLI-szkriptek segítségével, használhatja a megosztott kulcsos hitelesítést, vagy létrehozhat egy Azure AD szolgáltatásnevet is.</span><span class="sxs-lookup"><span data-stu-id="de380-163">If you are creating Azure CLI scripts to automate calling Batch commands, you can use either Shared Key authentication, or an Azure AD service principal.</span></span> <span data-ttu-id="de380-164">Bizonyos esetekben viszont a megosztott kulcsos hitelesítés használata egyszerűbb lehet, mint létrehozni egy szolgáltatásnevet.</span><span class="sxs-lookup"><span data-stu-id="de380-164">In some scenarios, using Shared Key authentication may be simpler than creating a service principal.</span></span>  

    <span data-ttu-id="de380-165">A megosztott kulcsos hitelesítéssel történő bejelentkezéshez a `--shared-key-auth` kapcsolót is adja meg a parancssorban:</span><span class="sxs-lookup"><span data-stu-id="de380-165">To log in using Shared Key authentication, include the `--shared-key-auth` option on the command line:</span></span>

    ```azurecli
    az batch account login -g myresourcegroup -n mybatchaccount --shared-key-auth
    ```

<span data-ttu-id="de380-166">A [Shell-szkript minták](#sample-shell-scripts) rész példákon keresztül mutatja be, hogyan jelentkezhet be az Azure CLI-vel Batch-fiókjába mind az Azure AD, mind a megosztott kulcsos hitelesítés használatával.</span><span class="sxs-lookup"><span data-stu-id="de380-166">The examples listed in the [Sample shell scripts](#sample-shell-scripts) section show how to log into your Batch account with the Azure CLI using both Azure AD and Shared Key.</span></span>

## <a name="use-azure-batch-cli-templates-and-file-transfer-preview"></a><span data-ttu-id="de380-167">Az Azure Batch parancssori felületi sablonjainak és fájlátviteli funkciójának (előzetes verzió) használata</span><span class="sxs-lookup"><span data-stu-id="de380-167">Use Azure Batch CLI Templates and File Transfer (Preview)</span></span>

<span data-ttu-id="de380-168">Az Azure parancssori felületén végpontok között futtathat Batch-feladatokat kódírás nélkül.</span><span class="sxs-lookup"><span data-stu-id="de380-168">You can use the Azure CLI to run Batch jobs end-to-end without writing code.</span></span> <span data-ttu-id="de380-169">A Batch sablonfájljai támogatják készletek, feladatok és tevékenységek létrehozását az Azure parancssori felületéről.</span><span class="sxs-lookup"><span data-stu-id="de380-169">Batch template files support creating pools, jobs, and tasks with the Azure CLI.</span></span> <span data-ttu-id="de380-170">Az Azure parancssori felületéről feltöltheti a feladatok bemeneti fájljait a Batch-fiókhoz társított Azure Storage-fiókba, és onnan letöltheti a feladat kimeneti fájljait.</span><span class="sxs-lookup"><span data-stu-id="de380-170">You can also use the Azure CLI to upload job input files to the Azure Storage account associated with the Batch account, and download job output files from it.</span></span> <span data-ttu-id="de380-171">További információk: [Az Azure Batch parancssori felületi sablonjainak és fájlátviteli funkciójának (előzetes verzió) használata](batch-cli-templates.md).</span><span class="sxs-lookup"><span data-stu-id="de380-171">For more information, see [Use Azure Batch CLI Templates and File Transfer (Preview)](batch-cli-templates.md).</span></span>

## <a name="sample-shell-scripts"></a><span data-ttu-id="de380-172">Shell-szkript minták</span><span class="sxs-lookup"><span data-stu-id="de380-172">Sample shell scripts</span></span>

<span data-ttu-id="de380-173">A következő táblázatban felsorolt mintaszkriptek bemutatják, hogyan hajthatja végre a leggyakoribb feladatokat az Azure CLI parancsainak segítségével a Batch, és a Batch Management szolgáltatás használatával.</span><span class="sxs-lookup"><span data-stu-id="de380-173">The sample scripts listed in the following table show how to use Azure CLI commands with the Batch service and Batch Management service to accomplish common tasks.</span></span> <span data-ttu-id="de380-174">A mintaszkriptek az Azure CLI-ben és a Batch-ben elérhetőek közül számos parancsot bemutatnak.</span><span class="sxs-lookup"><span data-stu-id="de380-174">These sample scripts cover many of the commands available in the Azure CLI for Batch.</span></span> 

| <span data-ttu-id="de380-175">Szkript</span><span class="sxs-lookup"><span data-stu-id="de380-175">Script</span></span> | <span data-ttu-id="de380-176">Megjegyzések</span><span class="sxs-lookup"><span data-stu-id="de380-176">Notes</span></span> |
|---|---|
| [<span data-ttu-id="de380-177">Batch-fiók létrehozása</span><span class="sxs-lookup"><span data-stu-id="de380-177">Create a Batch account</span></span>](./scripts/batch-cli-sample-create-account.md) | <span data-ttu-id="de380-178">Létrehoz egy Batch-fiókot és hozzárendeli egy tárfiókhoz.</span><span class="sxs-lookup"><span data-stu-id="de380-178">Creates a Batch account and associates it with a storage account.</span></span> |
| [<span data-ttu-id="de380-179">Alkalmazás hozzáadása</span><span class="sxs-lookup"><span data-stu-id="de380-179">Add an application</span></span>](./scripts/batch-cli-sample-add-application.md) | <span data-ttu-id="de380-180">Hozzáad egy alkalmazást és feltölti a csomagolt bináris fájlokat.</span><span class="sxs-lookup"><span data-stu-id="de380-180">Adds an application and uploads packaged binaries.</span></span>|
| [<span data-ttu-id="de380-181">Batch-készletek kezelése</span><span class="sxs-lookup"><span data-stu-id="de380-181">Manage Batch pools</span></span>](./scripts/batch-cli-sample-manage-pool.md) | <span data-ttu-id="de380-182">Bemutatja a készletek létrehozását, átméretezését és kezelését.</span><span class="sxs-lookup"><span data-stu-id="de380-182">Demonstrates creating, resizing, and managing pools.</span></span> |
| [<span data-ttu-id="de380-183">Feladatok és tevékenységek futtatása a Batch-csel</span><span class="sxs-lookup"><span data-stu-id="de380-183">Run a job and tasks with Batch</span></span>](./scripts/batch-cli-sample-run-job.md) | <span data-ttu-id="de380-184">Bemutatja a feladatok futtatását és a tevékenységek hozzáadását.</span><span class="sxs-lookup"><span data-stu-id="de380-184">Demonstrates running a job and adding tasks.</span></span> |

## <a name="json-files-for-resource-creation"></a><span data-ttu-id="de380-185">Erőforrás létrehozása JSON-fájlok használatával</span><span class="sxs-lookup"><span data-stu-id="de380-185">JSON files for resource creation</span></span>

<span data-ttu-id="de380-186">Amikor olyan Batch-erőforrásokat hoz létre, mint a készletek és a feladatok, megadhat egy JSON-fájlt, amely az új erőforrás konfigurációját tartalmazza, ahelyett, hogy parancssori kapcsolókként adná át a paramétereket.</span><span class="sxs-lookup"><span data-stu-id="de380-186">When you create Batch resources like pools and jobs, you can specify a JSON file containing the new resource's configuration instead of passing its parameters as command-line options.</span></span> <span data-ttu-id="de380-187">Példa:</span><span class="sxs-lookup"><span data-stu-id="de380-187">For example:</span></span>

```azurecli
az batch pool create my_batch_pool.json
```

<span data-ttu-id="de380-188">Míg a legtöbb Batch-erőforrás létrehozását végre lehet hajtani mindössze parancssori kapcsolókkal, néhány szolgáltatáshoz egy olyan JSON-formátumú fájlt kell megadnia, amely tartalmazza az erőforrás adatait.</span><span class="sxs-lookup"><span data-stu-id="de380-188">While you can create most Batch resources using only command-line options, some features require that you specify a JSON-formatted file containing the resource details.</span></span> <span data-ttu-id="de380-189">Például JSON-fájlt kell használnia, ha erőforrásfájlokat szeretne meghatározni egy indítási tevékenységhez.</span><span class="sxs-lookup"><span data-stu-id="de380-189">For example, you must use a JSON file if you want to specify resource files for a start task.</span></span>

<span data-ttu-id="de380-190">Az erőforrás létrehozásához szükséges JSON-szintaxissal kapcsolatban az MSDN webhelyén található, [Batch – REST API-referencia][rest_api] című dokumentáció nyújt segítséget.</span><span class="sxs-lookup"><span data-stu-id="de380-190">To see the JSON syntax required to create a resource, refer to the [Batch REST API reference][rest_api] documentation.</span></span> <span data-ttu-id="de380-191">A REST API-referenciában mindegyik „*Erőforrástípus* hozzáadása” témakör tartalmaz egy-egy JSON-szkript mintát is az adott erőforrás létrehozásához.</span><span class="sxs-lookup"><span data-stu-id="de380-191">Each "Add *resource type*" topic in the REST API reference contains sample JSON scripts for creating that resource.</span></span> <span data-ttu-id="de380-192">Ezeket a JSON-mintaszkripteket sablonként használhatja az Azure CLI-vel használandó JSON-fájlok írásához.</span><span class="sxs-lookup"><span data-stu-id="de380-192">You can use those sample JSON scripts as templates for JSON files to use with the Azure CLI.</span></span> <span data-ttu-id="de380-193">Például, ha a készletek létrehozásához használt JSON-szintaxisra kíváncsi, tekintse meg a [Készlet hozzáadása a fiókhoz][rest_add_pool] című témakört.</span><span class="sxs-lookup"><span data-stu-id="de380-193">For example, to see the JSON syntax for pool creation, refer to [Add a pool to an account][rest_add_pool].</span></span>

<span data-ttu-id="de380-194">JSON-fájlra hivatkozó szkriptre példát a [Feladatok és tevékenységek futtatása a Batch-csel](./scripts/batch-cli-sample-run-job.md) című témakörben talál.</span><span class="sxs-lookup"><span data-stu-id="de380-194">For a sample script that specifies a JSON file, see [Run a job and tasks with Batch](./scripts/batch-cli-sample-run-job.md).</span></span>

> [!NOTE]
> <span data-ttu-id="de380-195">Ha az erőforrás létrehozásakor megad egy JSON-fájlt, a rendszer figyelmen kívül hagyja a parancssoron meghatározott többi paramétert.</span><span class="sxs-lookup"><span data-stu-id="de380-195">If you specify a JSON file when you create a resource, any other parameters that you specify on the command line for that resource are ignored.</span></span>
> 
> 

## <a name="efficient-queries-for-batch-resources"></a><span data-ttu-id="de380-196">Hatékony lekérdezések Batch-erőforrásokhoz</span><span class="sxs-lookup"><span data-stu-id="de380-196">Efficient queries for Batch resources</span></span>

<span data-ttu-id="de380-197">Minden Batch erőforrástípus támogat egy `list` parancsot, amely lekérdezi a Batch-fiókját, és listázza az adott típusú erőforrásokat.</span><span class="sxs-lookup"><span data-stu-id="de380-197">Each Batch resource type supports a `list` command that queries your Batch account and lists resources of that type.</span></span> <span data-ttu-id="de380-198">Például listázhatja a fiókja készleteit és egy feladat tevékenységeit:</span><span class="sxs-lookup"><span data-stu-id="de380-198">For example, you can list the pools in your account and the tasks in a job:</span></span>

```azurecli
az batch pool list
az batch task list --job-id job001
```

<span data-ttu-id="de380-199">Ha a `list` művelettel küld lekérdezést a Batch-szolgáltatásnak, megadhat egy OData-záradékot, amellyel korlátozhatja a visszaküldött adatok mennyiségét.</span><span class="sxs-lookup"><span data-stu-id="de380-199">When you query the Batch service with a `list` operation, you can specify an OData clause to limit the amount of data returned.</span></span> <span data-ttu-id="de380-200">Mivel a szűrés kiszolgálói oldalon történik, csak a kívánt adatok kerülnek továbbításra.</span><span class="sxs-lookup"><span data-stu-id="de380-200">Because all filtering occurs server-side, only the data you request crosses the wire.</span></span> <span data-ttu-id="de380-201">Ezekkel a záradékokkal a listaműveletek végrehajtásakor sávszélességet (és ezáltal időt) takaríthat meg.</span><span class="sxs-lookup"><span data-stu-id="de380-201">Use these clauses to save bandwidth (and therefore time) when you perform list operations.</span></span>

<span data-ttu-id="de380-202">A következő táblázat bemutatja azokat, az OData-záradékokat, amelyeket a Batch szolgáltatás támogat:</span><span class="sxs-lookup"><span data-stu-id="de380-202">The following table describes the OData clauses supported by the Batch service:</span></span>

| <span data-ttu-id="de380-203">Záradék</span><span class="sxs-lookup"><span data-stu-id="de380-203">Clause</span></span> | <span data-ttu-id="de380-204">Leírás</span><span class="sxs-lookup"><span data-stu-id="de380-204">Description</span></span> |
|---|---|
| `--select-clause [select-clause]` | <span data-ttu-id="de380-205">A tulajdonságok egy részét adja vissza minden entitás esetében.</span><span class="sxs-lookup"><span data-stu-id="de380-205">Returns a subset of properties for each entity.</span></span> |
| `--filter-clause [filter-clause]` | <span data-ttu-id="de380-206">Csak olyan entitásokat ad vissza, amelyek megfelelnek a megadott OData-kifejezésnek.</span><span class="sxs-lookup"><span data-stu-id="de380-206">Returns only entities that match the specified OData expression.</span></span> |
| `--expand-clause [expand-clause]` | <span data-ttu-id="de380-207">Az entitásadatokat egy mögöttes REST-hívással szerzi meg.</span><span class="sxs-lookup"><span data-stu-id="de380-207">Obtains the entity information in a single underlying REST call.</span></span> <span data-ttu-id="de380-208">A bővítés záradék jelenleg csak a `stats` tulajdonságot támogatja.</span><span class="sxs-lookup"><span data-stu-id="de380-208">The expand clause currently supports only the `stats` property.</span></span> |

<span data-ttu-id="de380-209">Az OData-záradékok használatát bemutató mintaszkript megtekintéséhez lásd a [Feladatok és tevékenységek futtatása a Batch-csel](./scripts/batch-cli-sample-run-job.md) című témakört.</span><span class="sxs-lookup"><span data-stu-id="de380-209">For a sample script that shows how to use an OData clause, see [Run a job and tasks with Batch](./scripts/batch-cli-sample-run-job.md).</span></span>

<span data-ttu-id="de380-210">További információt az OData-záradékokkal létrehozható hatékony lista-lekérdezésekkel kapcsolatban a [Az Azure Batch szolgáltatás hatékony lekérdezése](batch-efficient-list-queries.md) című témakörben talál.</span><span class="sxs-lookup"><span data-stu-id="de380-210">For more information on performing efficient list queries with OData clauses, see [Query the Azure Batch service efficiently](batch-efficient-list-queries.md).</span></span>

## <a name="troubleshooting-tips"></a><span data-ttu-id="de380-211">Hibaelhárítási tippek</span><span class="sxs-lookup"><span data-stu-id="de380-211">Troubleshooting tips</span></span>

<span data-ttu-id="de380-212">Az következő tippek segíthetnek az Azure CLI használata során felmerülő problémák elhárításakor:</span><span class="sxs-lookup"><span data-stu-id="de380-212">The following tips may help when you are troubleshooting Azure CLI issues:</span></span>

* <span data-ttu-id="de380-213">A `-h` segítségével **súgószöveget** kérhet bármely CLI parancshoz</span><span class="sxs-lookup"><span data-stu-id="de380-213">Use `-h` to get **help text** for any CLI command</span></span>
* <span data-ttu-id="de380-214">A `-v` és a `-vv` segítségével **részletes** parancskimenetet jeleníthet meg.</span><span class="sxs-lookup"><span data-stu-id="de380-214">Use `-v` and `-vv` to display **verbose** command output.</span></span> <span data-ttu-id="de380-215">Ha a parancs tartalmazza a `-vv` jelzőt, az Azure CLI megjeleníti a tényleges REST-kérelmeket és válaszokat is.</span><span class="sxs-lookup"><span data-stu-id="de380-215">When the `-vv` flag is included, the Azure CLI displays the actual REST requests and responses.</span></span> <span data-ttu-id="de380-216">Ezek a kapcsolók jól jönnek a teljes hibakimenet megjelenítéséhez.</span><span class="sxs-lookup"><span data-stu-id="de380-216">These switches are handy for displaying full error output.</span></span>
* <span data-ttu-id="de380-217">A  **kapcsolóval megtekintheti a** parancskimenetet JSON-fájlként`--json`.</span><span class="sxs-lookup"><span data-stu-id="de380-217">You can view **command output as JSON** with the `--json` option.</span></span> <span data-ttu-id="de380-218">Például az `az batch pool show pool001 --json` JSON-formátumban jeleníti meg a pool001 tulajdonságait.</span><span class="sxs-lookup"><span data-stu-id="de380-218">For example, `az batch pool show pool001 --json` displays pool001's properties in JSON format.</span></span> <span data-ttu-id="de380-219">Ezt követően másolhatja és módosíthatja ezt a kimenetet, hogy felhasználhassa egy `--json-file` kapcsolóval (lásd a[JSON-fájlok](#json-files) szakaszt a jelen cikk korábbi részében).</span><span class="sxs-lookup"><span data-stu-id="de380-219">You can then copy and modify this output to use in a `--json-file` (see [JSON files](#json-files) earlier in this article).</span></span>
<!---Loc Comment: Please, check link [JSON files] since it's not redirecting to any location.--->
* <span data-ttu-id="de380-220">A [Batch fórumát][batch_forum] a Batch fejlesztőcsapat tagjai is figyelik.</span><span class="sxs-lookup"><span data-stu-id="de380-220">The [Batch forum][batch_forum] is monitored by Batch team members.</span></span> <span data-ttu-id="de380-221">Ott felteheti kérdéseit, ha problémákba ütközne, vagy segítségre lenne szüksége egy adott művelethez.</span><span class="sxs-lookup"><span data-stu-id="de380-221">You can post your questions there if you run into issues or would like help with a specific operation.</span></span>

## <a name="next-steps"></a><span data-ttu-id="de380-222">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="de380-222">Next steps</span></span>

* <span data-ttu-id="de380-223">További információt az Azure CLI-vel kapcsolatban az [Azure CLI dokumentációjában](https://docs.microsoft.com/cli/azure/overview) talál.</span><span class="sxs-lookup"><span data-stu-id="de380-223">For more information about the Azure CLI, see the [Azure CLI documentation](https://docs.microsoft.com/cli/azure/overview).</span></span>
* <span data-ttu-id="de380-224">További információt a Batch-erőforrásokkal kapcsolatban a [Az Azure Batch áttekintése fejlesztők számára](batch-api-basics.md) című cikkben talál.</span><span class="sxs-lookup"><span data-stu-id="de380-224">For more information about Batch resources, see [Overview of Azure Batch for developers](batch-api-basics.md).</span></span>
* <span data-ttu-id="de380-225">További információkat készletek, feladatok és tevékenységek Batch-sablonokkal, kódírás nélkül történő létrehozásáról [az Azure Batch parancssori felületi sablonjainak és (előzetes verziójú) fájlátviteli funkciójának használatával kapcsolatos](batch-cli-templates.md) cikkben talál.</span><span class="sxs-lookup"><span data-stu-id="de380-225">For more information about using Batch templates to create pools, jobs, and tasks without writing code, see [Use Azure Batch CLI Templates and File Transfer (Preview)](batch-cli-templates.md).</span></span>

[batch_forum]: https://social.msdn.microsoft.com/forums/azure/home?forum=azurebatch
[github_readme]: https://github.com/Azure/azure-xplat-cli/blob/dev/README.md
[rest_api]: https://msdn.microsoft.com/library/azure/dn820158.aspx
[rest_add_pool]: https://msdn.microsoft.com/library/azure/dn820174.aspx
