---
title: "Azure-adatbázis PostgreSQL-kiszolgáló tűzfalszabályainak |} Microsoft Docs"
description: "Tűzfalszabályok ismerteti az Azure-adatbázis PostgreSQL-kiszolgáló számára."
services: postgresql
author: jasonwhowell
ms.author: jasonh
manager: jhubbard
editor: jasonwhowell
ms.service: postgresql
ms.topic: article
ms.date: 05/10/2017
ms.openlocfilehash: 150c4f53c5ab6a6425b6af7d286d4c1518b006f8
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 08/29/2017
---
# <a name="azure-database-for-postgresql-server-firewall-rules"></a><span data-ttu-id="e3c80-103">Azure-adatbázis PostgreSQL-kiszolgáló tűzfalszabályainak</span><span class="sxs-lookup"><span data-stu-id="e3c80-103">Azure Database for PostgreSQL Server firewall rules</span></span>
<span data-ttu-id="e3c80-104">Tűzfalak tagadni a hozzáférést minden az adatbázis-kiszolgáló csak akkor adja meg, mely számítógépek rendelkeznek engedéllyel.</span><span class="sxs-lookup"><span data-stu-id="e3c80-104">Firewalls prevent all access to your database server until you specify which computers have permission.</span></span> <span data-ttu-id="e3c80-105">A tűzfal engedélyezi a hozzáférést a kiszolgálóhoz, az egyes kérelmek az eredeti IP-címe alapján.</span><span class="sxs-lookup"><span data-stu-id="e3c80-105">The firewall grants access to the server based on the originating IP address of each request.</span></span>
<span data-ttu-id="e3c80-106">A tűzfal konfigurálásakor olyan tűzfalszabályokat adhat meg, amelyek meghatározzák az elfogadható IP-címtartományokat.</span><span class="sxs-lookup"><span data-stu-id="e3c80-106">To configure your firewall, you create firewall rules that specify ranges of acceptable IP addresses.</span></span> <span data-ttu-id="e3c80-107">Tűzfal-szabályokat hozhat létre a kiszolgálói szinten.</span><span class="sxs-lookup"><span data-stu-id="e3c80-107">You can create firewall rules at the server level.</span></span>

<span data-ttu-id="e3c80-108">**Tűzfal-szabályok:** ezek a szabályok engedélyezi az ügyfelek számára a teljes Azure-adatbázis eléréséhez PostgreSQL-kiszolgáló esetén ez azt jelenti, hogy összes adatbázis belül az azonos logikai kiszolgáló.</span><span class="sxs-lookup"><span data-stu-id="e3c80-108">**Firewall rules:** These rules enable clients to access your entire Azure Database for PostgreSQL Server, that is, all the databases within the same logical server.</span></span> <span data-ttu-id="e3c80-109">Kiszolgálószintű tűzfal-szabályokat konfigurálhatja az Azure-portál használatával vagy az Azure parancssori felület parancsait.</span><span class="sxs-lookup"><span data-stu-id="e3c80-109">Server-level firewall rules can be configured by using the Azure portal or using Azure CLI commands.</span></span> <span data-ttu-id="e3c80-110">Kiszolgálószintű tűzfal-szabályok létrehozása, az előfizetés tulajdonosa vagy egy előfizetés közreműködői kell lennie.</span><span class="sxs-lookup"><span data-stu-id="e3c80-110">To create server-level firewall rules, you must be the subscription owner or a subscription contributor.</span></span>

## <a name="firewall-overview"></a><span data-ttu-id="e3c80-111">Tűzfal áttekintése</span><span class="sxs-lookup"><span data-stu-id="e3c80-111">Firewall overview</span></span>
<span data-ttu-id="e3c80-112">Az adatbázis elérésére az Azure-adatbázis PostgreSQL-kiszolgáló alapértelmezés szerint a tűzfal blokkolja.</span><span class="sxs-lookup"><span data-stu-id="e3c80-112">All database access to your Azure Database for PostgreSQL server is blocked by the firewall by default.</span></span> <span data-ttu-id="e3c80-113">A kiszolgáló egy másik számítógépről használatának megkezdéséhez meg kell adnia egy vagy több kiszolgálószintű engedélyezésére szolgáló tűzfalszabályok a kiszolgáló elérését.</span><span class="sxs-lookup"><span data-stu-id="e3c80-113">To begin using your server from another computer, you need to specify one or more server-level firewall rules to enable access to your server.</span></span> <span data-ttu-id="e3c80-114">Használja a tűzfalszabályok adja meg, melyik IP-címtartományok engedélyezi az internetről.</span><span class="sxs-lookup"><span data-stu-id="e3c80-114">Use the firewall rules to specify which IP address ranges from the Internet to allow.</span></span> <span data-ttu-id="e3c80-115">A tűzfalszabályok nincs hatással a hozzáférést az Azure portál magát.</span><span class="sxs-lookup"><span data-stu-id="e3c80-115">Access to the Azure portal website itself is not impacted by the firewall rules.</span></span>
<span data-ttu-id="e3c80-116">Kapcsolódási kísérletek az internetről és az Azure először eltelik a tűzfalon keresztül is eléri a PostgreSQL-adatbázisban a következő ábrán látható módon:</span><span class="sxs-lookup"><span data-stu-id="e3c80-116">Connection attempts from the Internet and Azure must first pass through the firewall before they can reach your PostgreSQL Database, as shown in the following diagram:</span></span>

![A tűzfal működése áramló – példa](media/concepts-firewall-rules/1-firewall-concept.png)

## <a name="connecting-from-the-internet"></a><span data-ttu-id="e3c80-118">Csatlakozás az internetről</span><span class="sxs-lookup"><span data-stu-id="e3c80-118">Connecting from the Internet</span></span>
<span data-ttu-id="e3c80-119">Az Azure-adatbázishoz PostgreSQL-kiszolgálón lévő összes adatbázis kiszolgálószintű tűzfal-szabályokat alkalmazni.</span><span class="sxs-lookup"><span data-stu-id="e3c80-119">Server-level firewall rules apply to all databases on the Azure Database for PostgreSQL server.</span></span> <span data-ttu-id="e3c80-120">Ha a kérés IP-címe a kiszolgálószintű tűzfalszabályokban megadott tartományok egyikében található, a tűzfal engedélyezi a csatlakozást.</span><span class="sxs-lookup"><span data-stu-id="e3c80-120">If the IP address of the request is within one of the ranges specified in the server-level firewall rules, the connection is granted.</span></span>
<span data-ttu-id="e3c80-121">Ha az IP-cím, a kérelem nem az adatbázis-szintjére, vagy a kiszolgálószintű tűzfalszabály megadott tartományok belül van, a kapcsolódási kérelem sikertelen lesz.</span><span class="sxs-lookup"><span data-stu-id="e3c80-121">If the IP address of the request is not within the ranges specified in any of the database-level or server-level firewall rules, the connection request fails.</span></span>
<span data-ttu-id="e3c80-122">Például ha az alkalmazás a PostgreSQL JDBC-illesztőt csatlakozik, felmerülhet a hiba történt a csatlakozás, ha a tűzfal blokkolja a kapcsolatot.</span><span class="sxs-lookup"><span data-stu-id="e3c80-122">For example, if your application connects with JDBC driver for PostgreSQL, you may encounter this error attempting to connect when the firewall is blocking the connection.</span></span>
> <span data-ttu-id="e3c80-123">java.util.concurrent.ExecutionException: java.lang.RuntimeException: org.postgresql.util.PSQLException: végzetes: nincs pg\_hba.conf bejegyzés állomás "123.45.67.890", a felhasználó "adminuser", az adatbázis "postgresql", SSL</span><span class="sxs-lookup"><span data-stu-id="e3c80-123">java.util.concurrent.ExecutionException: java.lang.RuntimeException: org.postgresql.util.PSQLException: FATAL: no pg\_hba.conf entry for host "123.45.67.890", user "adminuser", database "postgresql", SSL</span></span>

## <a name="programmatically-managing-firewall-rules"></a><span data-ttu-id="e3c80-124">Tűzfalszabályok szoftveres kezelése</span><span class="sxs-lookup"><span data-stu-id="e3c80-124">Programmatically managing firewall rules</span></span>
<span data-ttu-id="e3c80-125">Az Azure portálon kívül tűzfalszabályok programozott módon, Azure parancssori Felülettel kezelhetők.</span><span class="sxs-lookup"><span data-stu-id="e3c80-125">In addition to the Azure portal, firewall rules can be managed programmatically using Azure CLI.</span></span>
<span data-ttu-id="e3c80-126">Lásd még: [hozzon létre és kezelheti az Azure-adatbázis PostgreSQL-tűzfalszabályok Azure parancssori felület használatával](howto-manage-firewall-using-cli.md)</span><span class="sxs-lookup"><span data-stu-id="e3c80-126">See also [Create and manage Azure Database for PostgreSQL firewall rules using Azure CLI](howto-manage-firewall-using-cli.md)</span></span>

## <a name="troubleshooting-the-database-firewall"></a><span data-ttu-id="e3c80-127">Az adatbázistűzfal hibaelhárítása</span><span class="sxs-lookup"><span data-stu-id="e3c80-127">Troubleshooting the database firewall</span></span>
<span data-ttu-id="e3c80-128">Amikor PostgreSQL-kiszolgáló szolgáltatás a Microsoft Azure adatbázishoz való hozzáférés nem a várt módon működnek várja, vegye figyelembe a következő szempontokat:</span><span class="sxs-lookup"><span data-stu-id="e3c80-128">Consider the following points when access to the Microsoft Azure Database for PostgreSQL Server service does not behave as you expect:</span></span>

* <span data-ttu-id="e3c80-129">**Az engedélyezési listán módosításai nem lépnek érvénybe még:** lehet, mint amennyit egy 5 perces késleltetést használ az vált, az Azure-adatbázishoz PostgreSQL-kiszolgáló tűzfal konfigurációjának érvénybe léptetéséhez.</span><span class="sxs-lookup"><span data-stu-id="e3c80-129">**Changes to the allow list have not taken effect yet:** There may be as much as a five-minute delay for changes to the Azure Database for PostgreSQL Server firewall configuration to take effect.</span></span>

* <span data-ttu-id="e3c80-130">**A bejelentkezés nem engedélyezett, vagy helytelen jelszót használt:** egy bejelentkezési nincs engedélye az PostgreSQL-kiszolgálóhoz tartozó Azure-adatbázis, vagy a használt jelszó nem megfelelő, ha a kapcsolat az Azure-adatbázishoz PostgreSQL-kiszolgáló megtagadva.</span><span class="sxs-lookup"><span data-stu-id="e3c80-130">**The login is not authorized or an incorrect password was used:** If a login does not have permissions on the Azure Database for PostgreSQL server or the password used is incorrect, the connection to the Azure Database for PostgreSQL server is denied.</span></span> <span data-ttu-id="e3c80-131">Egy tűzfalbeállítás létrehozása lehetővé teszi az ügyfelek számára a kiszolgálóhoz való csatlakozás megkísérlését, azonban minden egyes ügyfélnek meg kell adnia a szükséges biztonsági hitelesítő adatokat.</span><span class="sxs-lookup"><span data-stu-id="e3c80-131">Creating a firewall setting only provides clients with an opportunity to attempt connecting to your server; each client must provide the necessary security credentials.</span></span>

<span data-ttu-id="e3c80-132">Például egy JDBC-ügyfélprogram segítségével a következő hiba jelenhetnek meg.</span><span class="sxs-lookup"><span data-stu-id="e3c80-132">For example, using a JDBC client, the following error may appear.</span></span>
> <span data-ttu-id="e3c80-133">java.util.concurrent.ExecutionException: java.lang.RuntimeException: org.postgresql.util.PSQLException: végzetes: "felhasználónév" felhasználói jelszó hitelesítése sikertelen.</span><span class="sxs-lookup"><span data-stu-id="e3c80-133">java.util.concurrent.ExecutionException: java.lang.RuntimeException: org.postgresql.util.PSQLException: FATAL: password authentication failed for user "yourusername"</span></span>

* <span data-ttu-id="e3c80-134">**Dinamikus IP-cím**: Ha az internetkapcsolata dinamikus IP-címkezeléssel rendelkezik, és problémákat okoz a tűzfalon való átjutás, próbálja ki a következő megoldások valamelyikét:</span><span class="sxs-lookup"><span data-stu-id="e3c80-134">**Dynamic IP address:** If you have an Internet connection with dynamic IP addressing and you are having trouble getting through the firewall, you could try one of the following solutions:</span></span>

* <span data-ttu-id="e3c80-135">Az internetszolgáltató (ISP) kérjen a PostgreSQL-kiszolgáló az Azure-adatbázishoz hozzáférő ügyfélszámítógépekhez rendelt IP-címtartományt, és adja hozzá az IP-címtartományt, egy tűzfalszabályt.</span><span class="sxs-lookup"><span data-stu-id="e3c80-135">Ask your Internet Service Provider (ISP) for the IP address range assigned to your client computers that access the Azure Database for PostgreSQL Server, and then add the IP address range as a firewall rule.</span></span>

* <span data-ttu-id="e3c80-136">Állítson be statikus IP-címeket az ügyfélszámítógépei számára, majd adja meg az IP-címeket tűzfalszabályokként.</span><span class="sxs-lookup"><span data-stu-id="e3c80-136">Get static IP addressing instead for your client computers, and then add the IP addresses as firewall rules.</span></span>

## <a name="next-steps"></a><span data-ttu-id="e3c80-137">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="e3c80-137">Next steps</span></span>
<span data-ttu-id="e3c80-138">A kiszolgáló- és adatbázis tűzfal-szabályok létrehozása a cikkekben talál:</span><span class="sxs-lookup"><span data-stu-id="e3c80-138">For articles on creating server-level and database-level firewall rules, see:</span></span>
* [<span data-ttu-id="e3c80-139">Hozzon létre és kezelheti az Azure-adatbázis PostgreSQL-tűzfalszabályok az Azure portál használatával</span><span class="sxs-lookup"><span data-stu-id="e3c80-139">Create and manage Azure Database for PostgreSQL firewall rules using the Azure portal</span></span>](howto-manage-firewall-using-portal.md)
* [<span data-ttu-id="e3c80-140">Hozzon létre és kezelheti az Azure-adatbázis PostgreSQL-tűzfalszabályok Azure parancssori felület használatával</span><span class="sxs-lookup"><span data-stu-id="e3c80-140">Create and manage Azure Database for PostgreSQL firewall rules using Azure CLI</span></span>](howto-manage-firewall-using-cli.md)