---
title: "Azure-adatbázis PostgreSQL-kiszolgáló tűzfalszabályainak |} Microsoft Docs"
description: "Tűzfalszabályok ismerteti az Azure-adatbázis PostgreSQL-kiszolgáló számára."
services: postgresql
author: jasonwhowell
ms.author: jasonh
manager: jhubbard
editor: jasonwhowell
ms.service: postgresql
ms.topic: article
ms.date: 05/10/2017
ms.openlocfilehash: 1d46a4434c483c3612a9a7b4cdef718d6dc3e765
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="azure-database-for-postgresql-server-firewall-rules"></a><span data-ttu-id="5cf03-103">Azure-adatbázis PostgreSQL-kiszolgáló tűzfalszabályainak</span><span class="sxs-lookup"><span data-stu-id="5cf03-103">Azure Database for PostgreSQL Server firewall rules</span></span>
<span data-ttu-id="5cf03-104">Tűzfalak tooyour adatbázis-kiszolgáló minden hozzáférés tiltása, amíg megadhatja, hogy mely számítógépek rendelkeznek engedéllyel.</span><span class="sxs-lookup"><span data-stu-id="5cf03-104">Firewalls prevent all access tooyour database server until you specify which computers have permission.</span></span> <span data-ttu-id="5cf03-105">hello tűzfal engedélyezi a hozzáférést toohello kiszolgáló IP-cím az egyes kérelmek származó hello alapján.</span><span class="sxs-lookup"><span data-stu-id="5cf03-105">hello firewall grants access toohello server based on hello originating IP address of each request.</span></span>
<span data-ttu-id="5cf03-106">tooconfigure tűzfalszabályok elfogadható IP-címek tartományát adja meg a tűzfal létrehozása.</span><span class="sxs-lookup"><span data-stu-id="5cf03-106">tooconfigure your firewall, you create firewall rules that specify ranges of acceptable IP addresses.</span></span> <span data-ttu-id="5cf03-107">Hello kiszolgálószintű tűzfal-szabályokat hozhat létre.</span><span class="sxs-lookup"><span data-stu-id="5cf03-107">You can create firewall rules at hello server level.</span></span>

<span data-ttu-id="5cf03-108">**Tűzfal-szabályok:** ezeket a szabályokat a teljes Azure-adatbázis engedélyezze ügyfelek tooaccess PostgreSQL-kiszolgálón, ez azt jelenti, hogy az összes hello adatbázis belül hello azonos logikai kiszolgáló.</span><span class="sxs-lookup"><span data-stu-id="5cf03-108">**Firewall rules:** These rules enable clients tooaccess your entire Azure Database for PostgreSQL Server, that is, all hello databases within hello same logical server.</span></span> <span data-ttu-id="5cf03-109">Kiszolgálószintű tűzfal-szabályokat hello Azure-portál használatával vagy az Azure parancssori felület parancsait konfigurálhatja.</span><span class="sxs-lookup"><span data-stu-id="5cf03-109">Server-level firewall rules can be configured by using hello Azure portal or using Azure CLI commands.</span></span> <span data-ttu-id="5cf03-110">szabályok toocreate kiszolgálószintű tűzfal, hello előfizetés tulajdonosának vagy egy előfizetés közreműködőjének kell lennie.</span><span class="sxs-lookup"><span data-stu-id="5cf03-110">toocreate server-level firewall rules, you must be hello subscription owner or a subscription contributor.</span></span>

## <a name="firewall-overview"></a><span data-ttu-id="5cf03-111">Tűzfal áttekintése</span><span class="sxs-lookup"><span data-stu-id="5cf03-111">Firewall overview</span></span>
<span data-ttu-id="5cf03-112">Az összes adatbázis hozzáférés tooyour Azure adatbázis PostgreSQL-kiszolgáló alapértelmezés szerint hello tűzfal blokkolja.</span><span class="sxs-lookup"><span data-stu-id="5cf03-112">All database access tooyour Azure Database for PostgreSQL server is blocked by hello firewall by default.</span></span> <span data-ttu-id="5cf03-113">toobegin a kiszolgálót egy másik számítógépre, a használatával kell toospecify egy vagy több kiszolgálószintű tűzfal szabályok tooenable tooyour kiszolgáló.</span><span class="sxs-lookup"><span data-stu-id="5cf03-113">toobegin using your server from another computer, you need toospecify one or more server-level firewall rules tooenable access tooyour server.</span></span> <span data-ttu-id="5cf03-114">Hello tűzfal szabályok toospecify mely IP-címtartományt a hello Internet tooallow használja.</span><span class="sxs-lookup"><span data-stu-id="5cf03-114">Use hello firewall rules toospecify which IP address ranges from hello Internet tooallow.</span></span> <span data-ttu-id="5cf03-115">Hello tűzfalszabályok ne legyenek hatással Access toohello magát az Azure portál.</span><span class="sxs-lookup"><span data-stu-id="5cf03-115">Access toohello Azure portal website itself is not impacted by hello firewall rules.</span></span>
<span data-ttu-id="5cf03-116">A kapcsolódási kísérletek hello Internet, és Azure először haladnak keresztül hello tűzfal ahhoz, azok képes elérni a PostgreSQL-adatbázisban, ahogy az ábra a következő hello:</span><span class="sxs-lookup"><span data-stu-id="5cf03-116">Connection attempts from hello Internet and Azure must first pass through hello firewall before they can reach your PostgreSQL Database, as shown in hello following diagram:</span></span>

![Példa áramló hello tűzfal működése](media/concepts-firewall-rules/1-firewall-concept.png)

## <a name="connecting-from-hello-internet"></a><span data-ttu-id="5cf03-118">A hello Internet csatlakoztatása</span><span class="sxs-lookup"><span data-stu-id="5cf03-118">Connecting from hello Internet</span></span>
<span data-ttu-id="5cf03-119">Kiszolgálószintű tűzfal-szabályokat alkalmazni tooall adatbázisok hello Azure adatbázis PostgreSQL-kiszolgáló.</span><span class="sxs-lookup"><span data-stu-id="5cf03-119">Server-level firewall rules apply tooall databases on hello Azure Database for PostgreSQL server.</span></span> <span data-ttu-id="5cf03-120">Ha hello IP-cím hello kérelem hello kiszolgálószintű tűzfal szabályokban megadott hello tartományok egyikébe esik, hello kapcsolat kapnak.</span><span class="sxs-lookup"><span data-stu-id="5cf03-120">If hello IP address of hello request is within one of hello ranges specified in hello server-level firewall rules, hello connection is granted.</span></span>
<span data-ttu-id="5cf03-121">Ha hello IP-cím hello kérelem nincs belül hello tartományok hello adatbázis szintű valamelyikében vagy megadott kiszolgálószintű tűzfal-szabályok, hello kapcsolódási kérelem sikertelen lesz.</span><span class="sxs-lookup"><span data-stu-id="5cf03-121">If hello IP address of hello request is not within hello ranges specified in any of hello database-level or server-level firewall rules, hello connection request fails.</span></span>
<span data-ttu-id="5cf03-122">Például ha az alkalmazás a PostgreSQL JDBC-illesztőt csatlakozik, a hiba történt a tooconnect, amikor hello tűzfal blokkolja a hello kapcsolat találkozhat.</span><span class="sxs-lookup"><span data-stu-id="5cf03-122">For example, if your application connects with JDBC driver for PostgreSQL, you may encounter this error attempting tooconnect when hello firewall is blocking hello connection.</span></span>
> <span data-ttu-id="5cf03-123">java.util.concurrent.ExecutionException: java.lang.RuntimeException: org.postgresql.util.PSQLException: végzetes: nincs pg\_hba.conf bejegyzés állomás "123.45.67.890", a felhasználó "adminuser", az adatbázis "postgresql", SSL</span><span class="sxs-lookup"><span data-stu-id="5cf03-123">java.util.concurrent.ExecutionException: java.lang.RuntimeException: org.postgresql.util.PSQLException: FATAL: no pg\_hba.conf entry for host "123.45.67.890", user "adminuser", database "postgresql", SSL</span></span>

## <a name="programmatically-managing-firewall-rules"></a><span data-ttu-id="5cf03-124">Tűzfalszabályok szoftveres kezelése</span><span class="sxs-lookup"><span data-stu-id="5cf03-124">Programmatically managing firewall rules</span></span>
<span data-ttu-id="5cf03-125">Emellett Azure-portálon, a szabályok lehetnek tűzfal toohello felügyelt programozott módon az Azure parancssori felület használatával.</span><span class="sxs-lookup"><span data-stu-id="5cf03-125">In addition toohello Azure portal, firewall rules can be managed programmatically using Azure CLI.</span></span>
<span data-ttu-id="5cf03-126">Lásd még: [hozzon létre és kezelheti az Azure-adatbázis PostgreSQL-tűzfalszabályok Azure parancssori felület használatával](howto-manage-firewall-using-cli.md)</span><span class="sxs-lookup"><span data-stu-id="5cf03-126">See also [Create and manage Azure Database for PostgreSQL firewall rules using Azure CLI](howto-manage-firewall-using-cli.md)</span></span>

## <a name="troubleshooting-hello-database-firewall"></a><span data-ttu-id="5cf03-127">Hello adatbázis tűzfal hibaelhárítása</span><span class="sxs-lookup"><span data-stu-id="5cf03-127">Troubleshooting hello database firewall</span></span>
<span data-ttu-id="5cf03-128">Vegye figyelembe a következő pontokat, amikor hozzáférési toohello Microsoft Azure-adatbázis PostgreSQL-kiszolgáló szolgáltatás nem a várt módon működnek várt hello:</span><span class="sxs-lookup"><span data-stu-id="5cf03-128">Consider hello following points when access toohello Microsoft Azure Database for PostgreSQL Server service does not behave as you expect:</span></span>

* <span data-ttu-id="5cf03-129">**Módosítások toohello engedélyezési lista rendelkezik még nincsenek érvényben:** lehet, mint amennyit egy 5 perces késleltetést használ az Azure-adatbázis toohello PostgreSQL-kiszolgáló tűzfal konfigurációs tootake hatás változik.</span><span class="sxs-lookup"><span data-stu-id="5cf03-129">**Changes toohello allow list have not taken effect yet:** There may be as much as a five-minute delay for changes toohello Azure Database for PostgreSQL Server firewall configuration tootake effect.</span></span>

* <span data-ttu-id="5cf03-130">**hello bejelentkezési nincs engedélyezve, vagy helytelen jelszót használt:** egy bejelentkezési nincs engedélye az hello Azure Database-kiszolgáló vagy hello használt jelszó PostgreSQL helytelen az, ha hello Azure-adatbázis kapcsolati toohello PostgreSQL Server megtagadva.</span><span class="sxs-lookup"><span data-stu-id="5cf03-130">**hello login is not authorized or an incorrect password was used:** If a login does not have permissions on hello Azure Database for PostgreSQL server or hello password used is incorrect, hello connection toohello Azure Database for PostgreSQL server is denied.</span></span> <span data-ttu-id="5cf03-131">Csak egy tűzfal-beállítás létrehozásához biztosít az ügyfelek számára egy lehetőség tooattempt tooyour server; kapcsolódás minden ügyfél hello szükséges biztonsági adatokat kell megadni.</span><span class="sxs-lookup"><span data-stu-id="5cf03-131">Creating a firewall setting only provides clients with an opportunity tooattempt connecting tooyour server; each client must provide hello necessary security credentials.</span></span>

<span data-ttu-id="5cf03-132">Például egy JDBC-ügyfélprogram segítségével hello a következő hiba jelenhet meg.</span><span class="sxs-lookup"><span data-stu-id="5cf03-132">For example, using a JDBC client, hello following error may appear.</span></span>
> <span data-ttu-id="5cf03-133">java.util.concurrent.ExecutionException: java.lang.RuntimeException: org.postgresql.util.PSQLException: végzetes: "felhasználónév" felhasználói jelszó hitelesítése sikertelen.</span><span class="sxs-lookup"><span data-stu-id="5cf03-133">java.util.concurrent.ExecutionException: java.lang.RuntimeException: org.postgresql.util.PSQLException: FATAL: password authentication failed for user "yourusername"</span></span>

* <span data-ttu-id="5cf03-134">**Dinamikus IP-cím:** Ha az internethez, a dinamikus IP-címzést és tapasztal hello tűzfalon keresztül történt, próbálkozzon a következő megoldások hello egyikét:</span><span class="sxs-lookup"><span data-stu-id="5cf03-134">**Dynamic IP address:** If you have an Internet connection with dynamic IP addressing and you are having trouble getting through hello firewall, you could try one of hello following solutions:</span></span>

* <span data-ttu-id="5cf03-135">Kérje meg az internetszolgáltató (ISP) hello IP-címtartomány hozzárendelt tooyour ügyfélszámítógépek számára, hogy hozzáférési hello Azure adatbázis PostgreSQL-kiszolgáló, és adja hozzá a hello IP-címtartomány tűzfal szabály.</span><span class="sxs-lookup"><span data-stu-id="5cf03-135">Ask your Internet Service Provider (ISP) for hello IP address range assigned tooyour client computers that access hello Azure Database for PostgreSQL Server, and then add hello IP address range as a firewall rule.</span></span>

* <span data-ttu-id="5cf03-136">Első statikus IP-címzés helyette az ügyfélszámítógépek számára, és adja hozzá a hello IP-címek, tűzfal-szabályokat.</span><span class="sxs-lookup"><span data-stu-id="5cf03-136">Get static IP addressing instead for your client computers, and then add hello IP addresses as firewall rules.</span></span>

## <a name="next-steps"></a><span data-ttu-id="5cf03-137">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="5cf03-137">Next steps</span></span>
<span data-ttu-id="5cf03-138">A kiszolgáló- és adatbázis tűzfal-szabályok létrehozása a cikkekben talál:</span><span class="sxs-lookup"><span data-stu-id="5cf03-138">For articles on creating server-level and database-level firewall rules, see:</span></span>
* [<span data-ttu-id="5cf03-139">Hozzon létre és kezelheti az Azure-adatbázis PostgreSQL-tűzfalszabályok hello Azure-portál használatával</span><span class="sxs-lookup"><span data-stu-id="5cf03-139">Create and manage Azure Database for PostgreSQL firewall rules using hello Azure portal</span></span>](howto-manage-firewall-using-portal.md)
* [<span data-ttu-id="5cf03-140">Hozzon létre és kezelheti az Azure-adatbázis PostgreSQL-tűzfalszabályok Azure parancssori felület használatával</span><span class="sxs-lookup"><span data-stu-id="5cf03-140">Create and manage Azure Database for PostgreSQL firewall rules using Azure CLI</span></span>](howto-manage-firewall-using-cli.md)