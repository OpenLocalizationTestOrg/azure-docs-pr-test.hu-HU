---
title: "a többrétegű IIS aaaReplicate alapú webalkalmazását az Azure Site Recovery használatával |} Microsoft Docs"
description: "Ez a cikk ismerteti, hogyan tooreplicate IIS webkiszolgáló farm virtuális gépek Azure Site Recovery segítségével."
services: site-recovery
documentationcenter: 
author: nsoneji
manager: gauravd
editor: 
ms.assetid: 
ms.service: site-recovery
ms.workload: storage-backup-recovery
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 08/11/2017
ms.author: nisoneji
ms.openlocfilehash: 1974265b3cb05f6dc57049876306d2e08424bb97
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="replicate-a-multi-tier-iis-based-web-application-using-azure-site-recovery"></a><span data-ttu-id="c18d9-103">Azure Site Recovery segítségével többrétegű IIS-alapú webes alkalmazás replikálása</span><span class="sxs-lookup"><span data-stu-id="c18d9-103">Replicate a multi-tier IIS based web application using Azure Site Recovery</span></span>

## <a name="overview"></a><span data-ttu-id="c18d9-104">Áttekintés</span><span class="sxs-lookup"><span data-stu-id="c18d9-104">Overview</span></span>


<span data-ttu-id="c18d9-105">Alkalmazás szoftvere hello motorja egy szervezet üzleti hatékonyságot.</span><span class="sxs-lookup"><span data-stu-id="c18d9-105">Application software is hello engine of business productivity in an organization.</span></span> <span data-ttu-id="c18d9-106">Különböző webalkalmazások más célt szolgálhat egy szervezet.</span><span class="sxs-lookup"><span data-stu-id="c18d9-106">Various web applications can serve different purposes in an organization.</span></span> <span data-ttu-id="c18d9-107">Lehet, például a feldolgozását, pénzügyi alkalmazásokat és ügyfelek által használt webhelyek ezek némelyike a lehető legnagyobb mértékben kritikus végzi egy szervezet számára.</span><span class="sxs-lookup"><span data-stu-id="c18d9-107">Some of these like payroll processing, financial applications and customer facing websites can be utmost critical for an organization.</span></span> <span data-ttu-id="c18d9-108">Szüksége lesz a hello szervezet toohave fel őket és a termelékenység mindig tooprevent veszteséggel fut, és megakadályozzák fontosabb bármely sérülést toohello márka kép hello szervezet.</span><span class="sxs-lookup"><span data-stu-id="c18d9-108">It will be important for hello organization toohave them up and running at all times tooprevent loss of productivity and more importantly prevent any damage toohello brand image of hello organization.</span></span>

<span data-ttu-id="c18d9-109">Kritikus webalkalmazások általában úgy vannak beállítva, mint hello webes, az adatbázis és a különböző rétegek alkalmazás Többrétegű alkalmazások.</span><span class="sxs-lookup"><span data-stu-id="c18d9-109">Critical web applications are typically set up as multi-tier applications with hello web, database and application on different tiers.</span></span> <span data-ttu-id="c18d9-110">Különböző rétegek elosztva alatt, leszámítva hello alkalmazások lehet, hogy is használja több kiszolgáló minden egyes réteg tooload egyenleg hello forgalom.</span><span class="sxs-lookup"><span data-stu-id="c18d9-110">Apart from being spread across various tiers, hello applications may also be using multiple servers in each tier tooload balance hello traffic.</span></span> <span data-ttu-id="c18d9-111">Ezenkívül hello hozzárendelések különböző rétegek közötti és hello webkiszolgálón alapul statikus IP-címeket.</span><span class="sxs-lookup"><span data-stu-id="c18d9-111">Moreover, hello mappings between various tiers and on hello web server may be based on static IP addresses.</span></span> <span data-ttu-id="c18d9-112">Feladatátvétel esetén a leképezések némelyike kell toobe frissítve, különösen akkor, ha több webhely hello webkiszolgálón konfigurálva van.</span><span class="sxs-lookup"><span data-stu-id="c18d9-112">On failover, some of these mappings will need toobe updated, especially, if you have multiple websites configured on hello web server.</span></span> <span data-ttu-id="c18d9-113">Esetén a webalkalmazások SSL használatával tanúsítványok kötései toobe frissíteni kell.</span><span class="sxs-lookup"><span data-stu-id="c18d9-113">In case of web applications using SSL, certificate bindings will need toobe updated.</span></span>

<span data-ttu-id="c18d9-114">Hagyományos nem replikációs alapján helyreállítási módszerek tartalmaz, amely különböző konfigurációs fájlt, beállításjegyzék-beállítások, kötések, egyéni összetevők (COM vagy .NET), tartalom és is tanúsítványok és manuális lépések keresztül helyreállított hello fájlok biztonsági mentése.</span><span class="sxs-lookup"><span data-stu-id="c18d9-114">Traditional non-replication based recovery methods involve backing up of various configuration files, registry settings, bindings, custom components (COM or .NET), content and also certificates and recovering hello files through a set of manual steps.</span></span> <span data-ttu-id="c18d9-115">Ezek a technológiák egyértelműen nehézkes, amelyek nagyon eséllyel fordulnak elő, és nem méretezhető hiba.</span><span class="sxs-lookup"><span data-stu-id="c18d9-115">These techniques are clearly cumbersome, error prone and not scalable.</span></span> <span data-ttu-id="c18d9-116">Például könnyen lehetséges, hogy tooforget, tanúsítványok biztonsági mentése és hagyható nem választott, de toobuy új hello a kiszolgálóhoz tartozó tanúsítványait a feladatátvételt követően.</span><span class="sxs-lookup"><span data-stu-id="c18d9-116">It is, for example, easily possible for you tooforget backing up certificates and be left with no choice but toobuy new certificates for hello server after failover.</span></span>

<span data-ttu-id="c18d9-117">Egy jó vész-helyreállítási megoldást kell modellezési helyreállítási tervek hello körül fent összetett alkalmazási architektúrákban engedélyezése és hello teszi testre szabott tooadd lépéseket toohandle alkalmazástársítások ezért biztosító különböző rétegek közötti is rendelkeznek egy egy kattintással meg arról, hogy megoldás létrehozása a hello eseményeket, ami tooa katasztrófa RTO csökkentéséhez.</span><span class="sxs-lookup"><span data-stu-id="c18d9-117">A good disaster recovery solution, should allow modeling of recovery plans around hello above complex application architectures and also have hello ability tooadd customized steps toohandle application mappings between various tiers hence providing a single-click sure shot solution in hello event of a disaster leading tooa lower RTO.</span></span>


<span data-ttu-id="c18d9-118">Ez a cikk ismerteti, hogyan tooprotect az IIS alapú webes alkalmazás használja a [Azure Site Recovery](site-recovery-overview.md).</span><span class="sxs-lookup"><span data-stu-id="c18d9-118">This article describes how tooprotect an IIS based web application using a [Azure Site Recovery](site-recovery-overview.md).</span></span> <span data-ttu-id="c18d9-119">Ez a cikk az IIS-alapú webes alkalmazás tooAzure, hogyan teheti a vész-helyreállítási részletezéshez és feladatátvételi hello alkalmazás tooAzure adhat szakaszában gyakorlati tanácsok a három réteg replikálására.</span><span class="sxs-lookup"><span data-stu-id="c18d9-119">This article will cover best practices for replicating a three tier IIS based web application tooAzure, how you can do a disaster recovery drill, and how you can failover hello application tooAzure.</span></span>


## <a name="prerequisites"></a><span data-ttu-id="c18d9-120">Előfeltételek</span><span class="sxs-lookup"><span data-stu-id="c18d9-120">Prerequisites</span></span>

<span data-ttu-id="c18d9-121">Megkezdése előtt győződjön meg arról, hogy hello következő:</span><span class="sxs-lookup"><span data-stu-id="c18d9-121">Before you start, make sure you understand hello following:</span></span>

1. [<span data-ttu-id="c18d9-122">A virtuális gép tooAzure replikálása</span><span class="sxs-lookup"><span data-stu-id="c18d9-122">Replicating a virtual machine tooAzure</span></span>](site-recovery-vmware-to-azure.md)
1. <span data-ttu-id="c18d9-123">Hogyan túl[egy helyreállítási hálózathoz. terv](site-recovery-network-design.md)</span><span class="sxs-lookup"><span data-stu-id="c18d9-123">How too[design a recovery network](site-recovery-network-design.md)</span></span>
1. [<span data-ttu-id="c18d9-124">Ez a teszt feladatátvételi tooAzure</span><span class="sxs-lookup"><span data-stu-id="c18d9-124">Doing a test failover tooAzure</span></span>](./site-recovery-test-failover-to-azure.md)
1. [<span data-ttu-id="c18d9-125">Ez a feladatátvételi tooAzure</span><span class="sxs-lookup"><span data-stu-id="c18d9-125">Doing a failover tooAzure</span></span>](site-recovery-failover.md)
1. <span data-ttu-id="c18d9-126">Hogyan túl[tartományvezérlő replikálása](site-recovery-active-directory.md)</span><span class="sxs-lookup"><span data-stu-id="c18d9-126">How too[replicate a domain controller](site-recovery-active-directory.md)</span></span>
1. <span data-ttu-id="c18d9-127">Hogyan túl[SQL-kiszolgáló replikálása](site-recovery-sql.md)</span><span class="sxs-lookup"><span data-stu-id="c18d9-127">How too[replicate SQL Server](site-recovery-sql.md)</span></span>

## <a name="deployment-patterns"></a><span data-ttu-id="c18d9-128">Központi telepítés minták</span><span class="sxs-lookup"><span data-stu-id="c18d9-128">Deployment patterns</span></span>
<span data-ttu-id="c18d9-129">Az IIS-alapú webalkalmazás általában a következő a következő telepítési környezeteken hello egyikét:</span><span class="sxs-lookup"><span data-stu-id="c18d9-129">An IIS based web application typically follows one of hello following deployment patterns:</span></span>

<span data-ttu-id="c18d9-130">** Telepítési minta 1 ** az IIS webfarm alkalmazás kérelem Routing(ARR), az IIS-kiszolgáló és a Microsoft SQL Server alapú.</span><span class="sxs-lookup"><span data-stu-id="c18d9-130">**Deployment pattern 1 ** An IIS based web farm  with Application Request Routing(ARR), IIS Server and Microsoft SQL Server.</span></span>

![Telepítési minta](./media/site-recovery-iis/deployment-pattern1.png)

<span data-ttu-id="c18d9-132">**Telepítési minta 2** az IIS webfarm alkalmazás kérelem Routing(ARR), IIS-kiszolgálót, kiszolgáló és a Microsoft SQL Server alapú.</span><span class="sxs-lookup"><span data-stu-id="c18d9-132">**Deployment pattern 2** An IIS based web farm with Application Request Routing(ARR), IIS Server, Application Server, and Microsoft SQL Server.</span></span>


![Telepítési minta](./media/site-recovery-iis/deployment-pattern2.png)

## <a name="site-recovery-support"></a><span data-ttu-id="c18d9-134">Webhely-helyreállítási támogatás</span><span class="sxs-lookup"><span data-stu-id="c18d9-134">Site Recovery support</span></span>

<span data-ttu-id="c18d9-135">Ez a cikk VMware virtuális gépek létrehozása az IIS 7.5-ös verziója a Windows Server 2012 R2 Enterprise kiszolgálóval hello célra használták.</span><span class="sxs-lookup"><span data-stu-id="c18d9-135">For hello purpose of creating this article VMware virtual machines with IIS Server version 7.5 on Windows Server 2012 R2 Enterprise were used.</span></span> <span data-ttu-id="c18d9-136">Mivel helyreállítási helyreplikálásának alkalmazás független, hello javaslatok itt megadott várható toohold, valamint a következő forgatókönyvek és az IIS más verzióját.</span><span class="sxs-lookup"><span data-stu-id="c18d9-136">As site recovery replication is application agnostic, hello recommendations provided here are expected toohold on following scenarios as well and for different version of IIS.</span></span>

### <a name="source-and-target"></a><span data-ttu-id="c18d9-137">Forrása és célja</span><span class="sxs-lookup"><span data-stu-id="c18d9-137">Source and target</span></span>

<span data-ttu-id="c18d9-138">**A forgatókönyv**</span><span class="sxs-lookup"><span data-stu-id="c18d9-138">**Scenario**</span></span> | <span data-ttu-id="c18d9-139">**másodlagos hely tooa**</span><span class="sxs-lookup"><span data-stu-id="c18d9-139">**tooa secondary site**</span></span> | <span data-ttu-id="c18d9-140">**tooAzure**</span><span class="sxs-lookup"><span data-stu-id="c18d9-140">**tooAzure**</span></span>
--- | --- | ---
<span data-ttu-id="c18d9-141">**Hyper-V**</span><span class="sxs-lookup"><span data-stu-id="c18d9-141">**Hyper-V**</span></span> | <span data-ttu-id="c18d9-142">Igen</span><span class="sxs-lookup"><span data-stu-id="c18d9-142">Yes</span></span> | <span data-ttu-id="c18d9-143">Igen</span><span class="sxs-lookup"><span data-stu-id="c18d9-143">Yes</span></span>
<span data-ttu-id="c18d9-144">**VMware**</span><span class="sxs-lookup"><span data-stu-id="c18d9-144">**VMware**</span></span> | <span data-ttu-id="c18d9-145">Igen</span><span class="sxs-lookup"><span data-stu-id="c18d9-145">Yes</span></span> | <span data-ttu-id="c18d9-146">Igen</span><span class="sxs-lookup"><span data-stu-id="c18d9-146">Yes</span></span>
<span data-ttu-id="c18d9-147">**Fizikai kiszolgáló**</span><span class="sxs-lookup"><span data-stu-id="c18d9-147">**Physical server**</span></span> | <span data-ttu-id="c18d9-148">Nem</span><span class="sxs-lookup"><span data-stu-id="c18d9-148">No</span></span> | <span data-ttu-id="c18d9-149">Igen</span><span class="sxs-lookup"><span data-stu-id="c18d9-149">Yes</span></span>

## <a name="replicate-virtual-machines"></a><span data-ttu-id="c18d9-150">Virtuális gépek replikálása</span><span class="sxs-lookup"><span data-stu-id="c18d9-150">Replicate virtual machines</span></span>

<span data-ttu-id="c18d9-151">Hajtsa végre a [Ez az útmutató](site-recovery-vmware-to-azure.md) toostart összes hello az IIS webkiszolgáló farm virtuális gépek tooAzure replikálása.</span><span class="sxs-lookup"><span data-stu-id="c18d9-151">Follow [this guidance](site-recovery-vmware-to-azure.md) toostart replicating all hello IIS web farm virtual machines tooAzure.</span></span>

<span data-ttu-id="c18d9-152">Ha statikus IP-címet használ, akkor adja meg a használni kívánt virtuális gép tootake a hello hello hello IP [ **cél IP-címet** ](./site-recovery-replicate-vmware-to-azure.md#view-and-manage-vm-properties) a számítási és hálózati beállításainak megadása.</span><span class="sxs-lookup"><span data-stu-id="c18d9-152">If you are using a static IP then specify hello IP that you want hello virtual machine tootake in hello [**Target IP**](./site-recovery-replicate-vmware-to-azure.md#view-and-manage-vm-properties) setting in Compute and Network settings.</span></span>

![Cél IP](./media/site-recovery-active-directory/dns-target-ip.png)


## <a name="creating-a-recovery-plan"></a><span data-ttu-id="c18d9-154">Helyreállítási terv létrehozása</span><span class="sxs-lookup"><span data-stu-id="c18d9-154">Creating a recovery plan</span></span>

<span data-ttu-id="c18d9-155">A helyreállítási terv lehetővé teszi, hogy a különböző rétegek egy többrétegű alkalmazást, ezért az alkalmazás konzisztencia fenntartása hello feladatátvételi sorrendje.</span><span class="sxs-lookup"><span data-stu-id="c18d9-155">A recovery plan allows sequencing hello failover of various tiers in a multi-tier application, hence, maintaining application consistency.</span></span> <span data-ttu-id="c18d9-156">Hajtsa végre a következő lépések hello többrétegű webalkalmazás esetén a helyreállítási terv létrehozása során.</span><span class="sxs-lookup"><span data-stu-id="c18d9-156">Follow hello below steps while creating a recovery plan for a multi-tier web application.</span></span>  <span data-ttu-id="c18d9-157">[További információ a helyreállítási terv létrehozása](./site-recovery-create-recovery-plans.md).</span><span class="sxs-lookup"><span data-stu-id="c18d9-157">[Learn more about creating a recovery plan](./site-recovery-create-recovery-plans.md).</span></span>

### <a name="adding-virtual-machines-toofailover-groups"></a><span data-ttu-id="c18d9-158">Virtuális gépek toofailover csoportok hozzáadása</span><span class="sxs-lookup"><span data-stu-id="c18d9-158">Adding virtual machines toofailover groups</span></span>
<span data-ttu-id="c18d9-159">Egy tipikus többrétegű IIS-webalkalmazás olyan virtuális gépek, hello webes réteg által egy IIS-kiszolgálót és egy alkalmazás réteg SQL adatbázis-rétegből állnak.</span><span class="sxs-lookup"><span data-stu-id="c18d9-159">A typical multi-tier IIS web application will consist of a database tier with SQL virtual machines, hello web tier constituted by a IIS server and an application tier.</span></span> <span data-ttu-id="c18d9-160">Minden e virtuális gépek toodifferent csoport hozzáadása alatt réteg alapján.</span><span class="sxs-lookup"><span data-stu-id="c18d9-160">Add all these virtual machines toodifferent group based on tier as below.</span></span> <span data-ttu-id="c18d9-161">[További információ a helyreállítási terv customising](site-recovery-runbook-automation.md#customize-the-recovery-plan).</span><span class="sxs-lookup"><span data-stu-id="c18d9-161">[Learn more about customising recovery plan](site-recovery-runbook-automation.md#customize-the-recovery-plan).</span></span>

1. <span data-ttu-id="c18d9-162">Helyreállítási terv létrehozása.</span><span class="sxs-lookup"><span data-stu-id="c18d9-162">Create a recovery plan.</span></span> <span data-ttu-id="c18d9-163">Adja hozzá az, hogy azok leállítási utolsó vagy első felvet csoport 1 tooensure hello adatbázis réteg virtuális gépeket.</span><span class="sxs-lookup"><span data-stu-id="c18d9-163">Add hello database tier virtual machines under Group 1 tooensure that they are shutdown last and brought up first.</span></span>

1. <span data-ttu-id="c18d9-164">Adja hozzá a hello alkalmazás réteg virtuális gépein csoport 2 úgy, hogy azok kerülnek sorra, miután hello adatbázis-rétegből állapotba nem kerül.</span><span class="sxs-lookup"><span data-stu-id="c18d9-164">Add hello application tier virtual machines under Group 2 such that they are brought up after hello database tier has been brought up.</span></span>

1. <span data-ttu-id="c18d9-165">Hello webes réteg virtuális gépek hozzáadása csoport 3 úgy, hogy azok kerülnek sorra, miután üzembe hello alkalmazásszinten jelentkezett.</span><span class="sxs-lookup"><span data-stu-id="c18d9-165">Add hello web tier virtual machines in Group 3 such that they are brought up after hello application tier has been brought up.</span></span>

1. <span data-ttu-id="c18d9-166">Load balance virtuális gépek hozzáadása csoport 4 úgy, hogy azok kerülnek sorra, miután hello webes réteg leállását.</span><span class="sxs-lookup"><span data-stu-id="c18d9-166">Add load balance virtual machines in Group 4 such that they are brought up after hello web tier has been brought up.</span></span>


### <a name="adding-scripts-toohello-recovery-plan"></a><span data-ttu-id="c18d9-167">A parancsfájlok toohello helyreállítási terv hozzáadása</span><span class="sxs-lookup"><span data-stu-id="c18d9-167">Adding scripts toohello recovery plan</span></span>
<span data-ttu-id="c18d9-168">Szükség lehet toodo bizonyos műveletek hello Azure virtuális gépek post feladatátvételi és tesztelési célú feladatátvevő toomake IIS webkiszolgáló farm függvény megfelelően.</span><span class="sxs-lookup"><span data-stu-id="c18d9-168">You may need toodo some operations on hello Azure virtual machines post failover/Test failover toomake IIS web farm function correctly.</span></span> <span data-ttu-id="c18d9-169">Automatizálhatja hello post feladatátvételi művelet, például a DNS-bejegyzés frissítése webhelykötések módosítása, a kapcsolati karakterláncban adja hozzá a megfelelő parancsfájlokat hello helyreállítási tervben alábbi módosítása.</span><span class="sxs-lookup"><span data-stu-id="c18d9-169">You can automate hello post failover operation like updating DNS entry, changing site binding, change  in connection string  by adding corresponding scripts in hello recovery plan as below.</span></span> <span data-ttu-id="c18d9-170">[Ismerje meg, további információk hozzáadása a parancsfájl helyreállítási terv](./site-recovery-create-recovery-plans.md#add-scripts).</span><span class="sxs-lookup"><span data-stu-id="c18d9-170">[Learn more about add script recovery plan](./site-recovery-create-recovery-plans.md#add-scripts).</span></span>

#### <a name="dns-update"></a><span data-ttu-id="c18d9-171">A DNS-frissítés</span><span class="sxs-lookup"><span data-stu-id="c18d9-171">DNS Update</span></span>
<span data-ttu-id="c18d9-172">Ha a hello DNS DNS dinamikus frissítést, majd virtuális gépek általában módosítását hello DNS hello új IP-, ha elindítják a van konfigurálva.</span><span class="sxs-lookup"><span data-stu-id="c18d9-172">If hello DNS is configured for dynamic DNS update then virtual machines usually update hello DNS with hello new IP once they start.</span></span> <span data-ttu-id="c18d9-173">Ha azt szeretné, tooadd egy explicit lépés tooupdate DNS hello az új IP-címek a virtuális gépek hello majd adja hozzá ezt a [tooupdate IP a DNS-parancsfájl](https://aka.ms/asr-dns-update) a post műveletek a helyreállítási terv csoportok.</span><span class="sxs-lookup"><span data-stu-id="c18d9-173">If you want tooadd an explicit step tooupdate DNS with hello new IPs of hello virtual machines then add this [script tooupdate IP in DNS](https://aka.ms/asr-dns-update) as a post action on recovery plan groups.</span></span>  

#### <a name="connection-string-in-an-applications-webconfig"></a><span data-ttu-id="c18d9-174">Az alkalmazás web.config kapcsolati karakterlánc</span><span class="sxs-lookup"><span data-stu-id="c18d9-174">Connection string in an application’s web.config</span></span>
<span data-ttu-id="c18d9-175">hello kapcsolati karakterláncot határozza meg, amely a webhely hello hello adatbázis kommunikál.</span><span class="sxs-lookup"><span data-stu-id="c18d9-175">hello connection string specifies hello database that hello web site communicates with.</span></span>

<span data-ttu-id="c18d9-176">Hello kapcsolati karakterlánc hordoz magában, ha hello hello adatbázis virtuális gép nevét, nincs további lépések végzésére lesz szükséges post feladatátvevő és hello alkalmazás tudják tooautomatically toohello DB kapcsolatba.</span><span class="sxs-lookup"><span data-stu-id="c18d9-176">If hello connection string carries hello name of hello database virtual machine, no further steps will be needed post failover and hello application will be able tooautomatically communicate toohello DB.</span></span> <span data-ttu-id="c18d9-177">Is, ha hello IP-cím hello adatbázis virtuális gép őrzi meg, akkor nem lesz szükség tooupdate hello kapcsolati karakterláncot.</span><span class="sxs-lookup"><span data-stu-id="c18d9-177">Also, if hello IP address for hello database virtual machine is retained, it will not be needed tooupdate hello connection string.</span></span> <span data-ttu-id="c18d9-178">Ha hello kapcsolati karakterlánc utal toohello adatbázis virtuális gép IP-címet használ, el kell frissíteni toobe post feladatátvételi.</span><span class="sxs-lookup"><span data-stu-id="c18d9-178">If hello connection string refers toohello database virtual machine using an IP address, it will need toobe updated post failover.</span></span> <span data-ttu-id="c18d9-179">Például</span><span class="sxs-lookup"><span data-stu-id="c18d9-179">E.g.</span></span> <span data-ttu-id="c18d9-180">alább a kapcsolódási karakterlánc hello mutat toohello IP-127.0.1.2 DB</span><span class="sxs-lookup"><span data-stu-id="c18d9-180">hello below connection string points toohello DB with IP 127.0.1.2</span></span>

        <?xml version="1.0" encoding="utf-8"?>
        <configuration>
        <connectionStrings>
        <add name="ConnStringDb1" connectionString="Data Source= 127.0.1.2\SqlExpress; Initial Catalog=TestDB1;Integrated Security=False;" />
        </connectionStrings>
        </configuration>

<span data-ttu-id="c18d9-181">Frissítheti az hello kapcsolati karakterláncot a webes réteg hozzáadásával [IIS kapcsolat frissítő parancsfájlt](https://aka.ms/asr-update-webtier-script-classic) hello helyreállítási tervben 3 csoport után.</span><span class="sxs-lookup"><span data-stu-id="c18d9-181">You can update hello connection string in web tier by adding [IIS connection update script](https://aka.ms/asr-update-webtier-script-classic) after Group 3 in hello recovery plan.</span></span>

#### <a name="site-bindings-for-hello-application"></a><span data-ttu-id="c18d9-182">Hely kötései hello alkalmazáshoz</span><span class="sxs-lookup"><span data-stu-id="c18d9-182">Site bindings for hello application</span></span>
<span data-ttu-id="c18d9-183">Minden hely kötése típusának hello is információkat, hello IP-cím, mely hello IIS kiszolgáló figyel toohello kérelmek hello hely, a hello port számát és a hello állomásnevek hello hely kötésének áll.</span><span class="sxs-lookup"><span data-stu-id="c18d9-183">Every site consists of binding information that includes hello type of binding, hello IP address at which hello IIS server listens toohello requests for hello site, hello port number and hello host names for hello site.</span></span> <span data-ttu-id="c18d9-184">A feladatátvétel hello időpontjában ilyen kötést módosítania kell frissíteni, a hozzájuk társított runbookokat hello IP-cím megváltozása esetén toobe.</span><span class="sxs-lookup"><span data-stu-id="c18d9-184">At hello time of a failover, these bindings might need toobe updated if there is a change in hello IP address associated with them.</span></span>

> [!NOTE]
>
> <span data-ttu-id="c18d9-185">Ha "az összes ki nem osztott" az alábbi hello példában látható módon hello webhelykötések van megjelölve, nem kell tooupdate a kötés post feladatátvételi.</span><span class="sxs-lookup"><span data-stu-id="c18d9-185">If you have marked ‘all unassigned’ for hello site binding as in hello example below, you will not need tooupdate this binding post failover.</span></span> <span data-ttu-id="c18d9-186">Is, ha egy helyhez társított hello IP-cím nem változik a post feladatátvételi, hello hely kötés szükséges frissítése (hello IP-cím megőrzési függ hello hálózati architektúra és alhálózatok hozzárendelt toohello elsődleges és a helyreállítási helyeken, és ezért előfordulhat, hogy, vagy nem lehet valósítható meg a szervezet számára.)</span><span class="sxs-lookup"><span data-stu-id="c18d9-186">Also, if hello IP address associated with a site is not changed post failover, hello site binding need not be updated (Retention of hello IP address depends on hello network architecture and subnets assigned toohello primary and recovery sites and hence may or may not be feasible for your organization.)</span></span>

![SSL-kötés](./media/site-recovery-iis/sslbinding.png)

<span data-ttu-id="c18d9-188">Ha hello IP-cím társítva van egy helyhez, akkor minden hely kötései hello új IP-cím tooupdate.</span><span class="sxs-lookup"><span data-stu-id="c18d9-188">If you have associated hello IP address with a site, you will need tooupdate all site bindings with hello new IP address.</span></span> <span data-ttu-id="c18d9-189">Hozzáadhat [IIS webes réteg frissítő parancsfájlt](https://aka.ms/asr-web-tier-update-runbook-classic) a helyreállítási terv toochange hello helykötések 3 csoport után.</span><span class="sxs-lookup"><span data-stu-id="c18d9-189">You can add [IIS Web tier update script](https://aka.ms/asr-web-tier-update-runbook-classic) after Group 3 in recovery plan toochange hello site bindings.</span></span>


#### <a name="update-load-balancer-ip-address"></a><span data-ttu-id="c18d9-190">Load balancer IP-címének frissítése</span><span class="sxs-lookup"><span data-stu-id="c18d9-190">Update load balancer IP address</span></span>
<span data-ttu-id="c18d9-191">Ha a virtuális gép alkalmazáskérelmek irányítására, vegye fel [IIS ARR feladatátvételi parancsfájl](https://aka.ms/asr-iis-arrtier-failover-script-classic) csoport 4 tooupdate hello IP-cím után.</span><span class="sxs-lookup"><span data-stu-id="c18d9-191">If you have  Application Request Routing virtual machine, add [IIS ARR  failover script](https://aka.ms/asr-iis-arrtier-failover-script-classic) after Group 4 tooupdate hello IP address.</span></span>

#### <a name="hello-ssl-cert-binding-for-an-https-connection"></a><span data-ttu-id="c18d9-192">hello SSL-tanúsítvány kötés egy https-kapcsolat számára</span><span class="sxs-lookup"><span data-stu-id="c18d9-192">hello SSL cert binding for an https connection</span></span>
<span data-ttu-id="c18d9-193">Webhelyek rendelkezhet társított SSL-tanúsítvány, amely segít annak biztosításában hello webkiszolgálót és hello felhasználó böngészője közötti biztonságos kommunikációhoz.</span><span class="sxs-lookup"><span data-stu-id="c18d9-193">Websites can have an associated SSL certificate that helps in ensuring a secure communication between hello webserver and hello user’s browser.</span></span> <span data-ttu-id="c18d9-194">Ha hello webhely https-kapcsolat és egy társított https hely kötése toohello IP-cím hello IIS-kiszolgáló SSL-tanúsítvány kötést, egy új hely kötésének toobe hello cert hello az IP-címe hello az IIS virtuális gép feladatátvételi utáni hozzá lesz szüksége.</span><span class="sxs-lookup"><span data-stu-id="c18d9-194">If hello website has an https connection and an associated https site binding toohello IP address of hello IIS server with an SSL cert binding, a new site binding will need toobe added for hello cert with hello IP of hello IIS virtual machine post failover.</span></span>

<span data-ttu-id="c18d9-195">hello SSL-tanúsítványt kibocsáthatja elleni-</span><span class="sxs-lookup"><span data-stu-id="c18d9-195">hello SSL cert can be issued against-</span></span>

<span data-ttu-id="c18d9-196">a) hello teljesen minősített tartománynevét hello webhely</span><span class="sxs-lookup"><span data-stu-id="c18d9-196">a) hello fully qualified domain name of hello website</span></span><br>
<span data-ttu-id="c18d9-197">b) hello hello kiszolgáló neve</span><span class="sxs-lookup"><span data-stu-id="c18d9-197">b) hello name of hello server</span></span><br>
<span data-ttu-id="c18d9-198">c) helyettesítő tanúsítvány hello tartománynév</span><span class="sxs-lookup"><span data-stu-id="c18d9-198">c) A wildcard certificate for hello domain name</span></span><br>
<span data-ttu-id="c18d9-199">d) egy IP-cím – Ha hello SSL-tanúsítványt ad ki hello IP hello IIS-kiszolgáló ellen, hello IP-címe hello állították ki egy másik SSL-tanúsítványt kell toobe hello Azure webhely az IIS-kiszolgálón, és a tanúsítvány további SSL-kötést kell létrehozni toobe.</span><span class="sxs-lookup"><span data-stu-id="c18d9-199">d) An IP address – If hello SSL cert is issued against hello IP of hello IIS server, another SSL cert needs toobe issued against hello IP address of hello IIS server on hello Azure site and an additional SSL binding for this certificate will need toobe created.</span></span> <span data-ttu-id="c18d9-200">Ezért akkor ajánlott toonot használja az SSL-tanúsítványt IP állították ki.</span><span class="sxs-lookup"><span data-stu-id="c18d9-200">Hence, it is advisable toonot use an SSL cert issued against IP.</span></span> <span data-ttu-id="c18d9-201">Ez egy kevésbé elterjedt lehetőséget, és hamarosan megszűnnek új hitelesítésszolgáltató/böngésző fórum változások szerint.</span><span class="sxs-lookup"><span data-stu-id="c18d9-201">This is a less widely used option and will soon be deprecated as per new CA/browser forum changes.</span></span>

#### <a name="update-hello-dependency-between-hello-web-and-hello-application-tier"></a><span data-ttu-id="c18d9-202">Frissítés hello függőségi hello webes és hello alkalmazás szint között</span><span class="sxs-lookup"><span data-stu-id="c18d9-202">Update hello dependency between hello web and hello application tier</span></span>
<span data-ttu-id="c18d9-203">Ha egy adott alkalmazásfüggőséget hello hello virtuális gépek IP-címe alapján, kell tooupdate a függőségi post feladatátvételi.</span><span class="sxs-lookup"><span data-stu-id="c18d9-203">If you have an application specific dependency based on hello IP address of hello virtual machines, you need tooupdate this dependency post failover.</span></span>

## <a name="doing-a-test-failover"></a><span data-ttu-id="c18d9-204">A teszt feladatátvétel</span><span class="sxs-lookup"><span data-stu-id="c18d9-204">Doing a test failover</span></span>
<span data-ttu-id="c18d9-205">Hajtsa végre a [Ez az útmutató](site-recovery-test-failover-to-azure.md) toodo feladatátvételi tesztet.</span><span class="sxs-lookup"><span data-stu-id="c18d9-205">Follow [this guidance](site-recovery-test-failover-to-azure.md) toodo a test failover.</span></span>

1.  <span data-ttu-id="c18d9-206">Nyissa meg tooAzure portálon, és válassza a helyreállítási szolgáltatás tárolójából.</span><span class="sxs-lookup"><span data-stu-id="c18d9-206">Go tooAzure portal and select your Recovery Service vault.</span></span>
1.  <span data-ttu-id="c18d9-207">Kattintson az IIS webfarm létrehozott hello helyreállítási terv.</span><span class="sxs-lookup"><span data-stu-id="c18d9-207">Click on hello recovery plan created for IIS web farm.</span></span>
1.  <span data-ttu-id="c18d9-208">Kattintson a "Test Failover".</span><span class="sxs-lookup"><span data-stu-id="c18d9-208">Click on 'Test Failover'.</span></span>
1.  <span data-ttu-id="c18d9-209">Válassza ki a helyreállítási pont és az Azure-beli virtuális hálózat toostart hello teszt feladatátvételi folyamat.</span><span class="sxs-lookup"><span data-stu-id="c18d9-209">Select recovery point and Azure virtual network toostart hello test failover process.</span></span>
1.  <span data-ttu-id="c18d9-210">Hello másodlagos környezetben működik, ha az érvényesítést végezheti el.</span><span class="sxs-lookup"><span data-stu-id="c18d9-210">Once hello secondary environment is up, you can perform your validations.</span></span>
1.  <span data-ttu-id="c18d9-211">Ha hello ellenőrzés befejeződött, kiválaszthatja, hogy érvényesítést végrehajtani, és hello teszt feladatátvételi környezet törölve lesznek.</span><span class="sxs-lookup"><span data-stu-id="c18d9-211">Once hello validations are complete, you can select ‘Validations complete’ and hello test failover environment will be cleaned.</span></span>

## <a name="doing-a-failover"></a><span data-ttu-id="c18d9-212">A feladatátvétel</span><span class="sxs-lookup"><span data-stu-id="c18d9-212">Doing a failover</span></span>
<span data-ttu-id="c18d9-213">Hajtsa végre a [Ez az útmutató](site-recovery-failover.md) Ha feladatátvételt végez.</span><span class="sxs-lookup"><span data-stu-id="c18d9-213">Follow [this guidance](site-recovery-failover.md) when you are doing a failover.</span></span>

1.  <span data-ttu-id="c18d9-214">Nyissa meg tooAzure portálon, és válassza a helyreállítási szolgáltatás tárolójából.</span><span class="sxs-lookup"><span data-stu-id="c18d9-214">Go tooAzure portal and select your Recovery Service vault.</span></span>
1.  <span data-ttu-id="c18d9-215">Kattintson az IIS webfarm létrehozott hello helyreállítási terv.</span><span class="sxs-lookup"><span data-stu-id="c18d9-215">Click on hello recovery plan created for IIS web farm.</span></span>
1.  <span data-ttu-id="c18d9-216">Kattintson a "Failover".</span><span class="sxs-lookup"><span data-stu-id="c18d9-216">Click on 'Failover'.</span></span>
1.  <span data-ttu-id="c18d9-217">Válassza ki a helyreállítási pont toostart hello feladatátvételi folyamatot.</span><span class="sxs-lookup"><span data-stu-id="c18d9-217">Select recovery point toostart hello failover process.</span></span>

## <a name="next-steps"></a><span data-ttu-id="c18d9-218">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="c18d9-218">Next steps</span></span>
<span data-ttu-id="c18d9-219">További tudnivalók [replikálja más alkalmazások](site-recovery-workload.md) Site Recovery segítségével.</span><span class="sxs-lookup"><span data-stu-id="c18d9-219">You can learn more about [replicate other applications](site-recovery-workload.md) using Site Recovery.</span></span>
