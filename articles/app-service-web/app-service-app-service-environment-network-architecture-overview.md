---
title: "Az App Service Environment-környezetek hálózati architektúrájának áttekintése"
description: "Hálózati topológia ofApp Service-környezetek architektúra áttekintése."
services: app-service
documentationcenter: 
author: stefsch
manager: erikre
editor: 
ms.assetid: 13d03a37-1fe2-4e3e-9d57-46dfb330ba52
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 10/04/2016
ms.author: stefsch
ms.openlocfilehash: b2afe86d8774b449a257312d4e60b5f6125336ca
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 07/11/2017
---
# <a name="network-architecture-overview-of-app-service-environments"></a><span data-ttu-id="087f6-103">Az App Service Environment-környezetek hálózati architektúrájának áttekintése</span><span class="sxs-lookup"><span data-stu-id="087f6-103">Network Architecture Overview of App Service Environments</span></span>
## <a name="introduction"></a><span data-ttu-id="087f6-104">Bevezetés</span><span class="sxs-lookup"><span data-stu-id="087f6-104">Introduction</span></span>
<span data-ttu-id="087f6-105">App Service Environment-környezetek mindig létrejönnek az alhálózat egy [virtuális hálózati] [ virtualnetwork] -egy App Service Environment-környezetben futó alkalmazások képes kommunikálni az azonos virtuális hálózati topológia belül található titkos végpontok.</span><span class="sxs-lookup"><span data-stu-id="087f6-105">App Service Environments are always created within a subnet of a [virtual network][virtualnetwork] - apps running in an App Service Environment can communicate with private endpoints located within the same virtual network topology.</span></span>  <span data-ttu-id="087f6-106">Mivel az ügyfelek zárolását, előfordulhat, hogy a virtuális hálózati infrastruktúra részeit, fontos a ismerteti, amelyek egy App Service Environment-környezet a hálózati kommunikációs forgalom.</span><span class="sxs-lookup"><span data-stu-id="087f6-106">Since customers may lock down parts of their virtual network infrastructure, it is important to understand the types of network communication flows that occur with an App Service Environment.</span></span>

## <a name="general-network-flow"></a><span data-ttu-id="087f6-107">Általános hálózati folyamata</span><span class="sxs-lookup"><span data-stu-id="087f6-107">General Network Flow</span></span>
<span data-ttu-id="087f6-108">Amikor egy App Service környezetben (ASE) alkalmazások a nyilvános virtuális IP-cím (VIP) használja, minden bejövő forgalom érkezik, a adott nyilvános VIP-e.</span><span class="sxs-lookup"><span data-stu-id="087f6-108">When an App Service Environment (ASE) uses a public virtual IP address (VIP) for apps, all inbound traffic arrives on that public VIP.</span></span>  <span data-ttu-id="087f6-109">Ez magában foglalja az alkalmazások a HTTP és HTTPS-forgalom, valamint a típusú forgalom FTP, távoli hibakeresési szolgáltatás és az Azure felügyeleti műveleteket.</span><span class="sxs-lookup"><span data-stu-id="087f6-109">This includes HTTP and HTTPS traffic for apps, as well as other traffic for FTP, remote debugging functionality, and Azure management operations.</span></span>  <span data-ttu-id="087f6-110">Az adott portok (szükséges és választható) a nyilvános VIP elérhető teljes listáját lásd: a cikk a [bejövő forgalom vezérlése] [ controllinginboundtraffic] az App Service-környezetek számára.</span><span class="sxs-lookup"><span data-stu-id="087f6-110">For a full list of the specific ports (both required and optional) that are available on the public VIP see the article on [controlling inbound traffic][controllinginboundtraffic] to an App Service Environment.</span></span> 

<span data-ttu-id="087f6-111">App Service-környezetek is csak egy virtuális hálózat belső címet, más néven egy ILB (belső terheléselosztó) címet kötött futó alkalmazásokat támogatja.</span><span class="sxs-lookup"><span data-stu-id="087f6-111">App Service Environments also support running apps that are bound only to a virtual network internal address, also referred to as an ILB (internal load balancer) address.</span></span>  <span data-ttu-id="087f6-112">Egy ILB a engedélyezett ASE, HTTP és HTTPS-forgalmat az alkalmazások, valamint a távoli hibakeresési hívások, a ILB cím ügyfélszámítógépekre érkeznek.</span><span class="sxs-lookup"><span data-stu-id="087f6-112">On an ILB enabled ASE, HTTP and HTTPS traffic for apps as well as remote debugging calls, arrive on the ILB address.</span></span>  <span data-ttu-id="087f6-113">Leggyakoribb ILB-ASE konfigurációk FTP-/ FTPS-forgalmat is érkeznek ILB címre.</span><span class="sxs-lookup"><span data-stu-id="087f6-113">For most common ILB-ASE configurations, FTP/FTPS traffic will also arrive on the ILB address.</span></span>  <span data-ttu-id="087f6-114">Az Azure felügyeleti műveletek még egy ILB a nyilvános VIP-454/455 portokká erdőtől áramolnak azonban engedélyezve van a ASE.</span><span class="sxs-lookup"><span data-stu-id="087f6-114">However Azure management operations will still flow to ports 454/455 on the public VIP of an ILB enabled ASE.</span></span>

<span data-ttu-id="087f6-115">Az alábbi ábrán egy App Service-környezet, ahol az alkalmazások kötött nyilvános virtuális IP-címnek a a különböző bejövő és kimenő hálózati forgalom áttekintését tartalmazza:</span><span class="sxs-lookup"><span data-stu-id="087f6-115">The diagram below shows an overview of the various inbound and outbound network flows for an App Service Environment where the apps are bound to a public virtual IP address:</span></span>

![Általános hálózati forgalom][GeneralNetworkFlows]

<span data-ttu-id="087f6-117">Egy App Service Environment-környezet képes kommunikálni a saját felhasználói végpontok különböző.</span><span class="sxs-lookup"><span data-stu-id="087f6-117">An App Service Environment can communicate with a variety of private customer endpoints.</span></span>  <span data-ttu-id="087f6-118">Az App Service Environment-környezetben futó alkalmazások például az azonos virtuális hálózati topológia IaaS virtuális gépeken futó adatbázis-kiszolgálókat is elérheti.</span><span class="sxs-lookup"><span data-stu-id="087f6-118">For example, apps running in the App Service Environment can connect to database server(s) running on IaaS virtual machines in the same virtual network topology.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="087f6-119">A hálózati diagram megnézi, az "egyéb számítási erőforrások" telepítése egy másik alhálózat az App Service-környezetet.</span><span class="sxs-lookup"><span data-stu-id="087f6-119">Looking at the network diagram, the "Other Compute Resources" are deployed in a different Subnet from the App Service Environment.</span></span> <span data-ttu-id="087f6-120">A mértékéig ugyanazon alhálózaton lévő erőforrásokat üzembe helyezi letiltja ezeket az erőforrásokat (kivéve az adott helyen belüli-ASE Útválasztás) és ASE közötti kapcsolatot.</span><span class="sxs-lookup"><span data-stu-id="087f6-120">Deploying resources in the same Subnet with the ASE will block connectivity from ASE to those resources (except for specific intra-ASE routing).</span></span> <span data-ttu-id="087f6-121">Telepítheti egy másik alhálózat helyette (lévő ugyanazt a virtuális Hálózatot).</span><span class="sxs-lookup"><span data-stu-id="087f6-121">Deploy to a different Subnet instead (in the same VNET).</span></span> <span data-ttu-id="087f6-122">Az App Service Environment-környezet majd kell kapcsolódnia.</span><span class="sxs-lookup"><span data-stu-id="087f6-122">The App Service Environment will then be able to connect.</span></span> <span data-ttu-id="087f6-123">Nincs szükség további konfigurációra.</span><span class="sxs-lookup"><span data-stu-id="087f6-123">No additional configuration is necessary.</span></span>
> 
> 

<span data-ttu-id="087f6-124">App Service-környezetek is kommunikálni az Sql-adatbázis és az Azure Storage felügyeletével és üzemeltetésével az App Service-környezetek szükséges erőforrásokat.</span><span class="sxs-lookup"><span data-stu-id="087f6-124">App Service Environments also communicate with Sql DB and Azure Storage resources necessary for managing and operating an App Service Environment.</span></span>  <span data-ttu-id="087f6-125">Az Sql- és tárolási erőforrások kommunikáló az App Service-környezetek találhatók az App Service Environment-környezet ugyanabban a régióban, míg mások távoli Azure-régiók találhatók.</span><span class="sxs-lookup"><span data-stu-id="087f6-125">Some of the Sql and Storage resources that an App Service Environment communicates with are located in the same region as the App Service Environment, while others are located in remote Azure regions.</span></span>  <span data-ttu-id="087f6-126">Ennek eredményeképpen kimenő képes kapcsolódni az internetre mindig szükség egy App Service-környezet működését.</span><span class="sxs-lookup"><span data-stu-id="087f6-126">As a result, outbound connectivity to the Internet is always required for an App Service Environment to function properly.</span></span> 

<span data-ttu-id="087f6-127">Egy App Service Environment-környezet van telepítve egy alhálózatot, mert hálózati biztonsági csoportok segítségével szabályozhatja az alhálózat bejövő forgalmát.</span><span class="sxs-lookup"><span data-stu-id="087f6-127">Since an App Service Environment is deployed in a subnet, network security groups can be used to control inbound traffic to the subnet.</span></span>  <span data-ttu-id="087f6-128">A következő témakör az App Service-környezetek bejövő forgalom vezérlése [cikk][controllinginboundtraffic].</span><span class="sxs-lookup"><span data-stu-id="087f6-128">For details on how to control inbound traffic to an App Service Environment, see the following [article][controllinginboundtraffic].</span></span>

<span data-ttu-id="087f6-129">A következő cikk kezelésével kapcsolatos részleteket ismerteti, hogy engedélyezze a kimenő internetkapcsolat egy App Service Environment-környezet [Express Route][ExpressRoute].</span><span class="sxs-lookup"><span data-stu-id="087f6-129">For details on how to allow outbound Internet connectivity from an App Service Environment, see the following article about working with [Express Route][ExpressRoute].</span></span>  <span data-ttu-id="087f6-130">Ugyanezt a megközelítést a cikkben ismertetett vonatkozik, amikor olyan hely-hely kapcsolatot, és használata a kényszerített bújtatást.</span><span class="sxs-lookup"><span data-stu-id="087f6-130">The same approach described in the article applies when working with Site-to-Site connectivity and using forced tunneling.</span></span>

## <a name="outbound-network-addresses"></a><span data-ttu-id="087f6-131">Kimenő hálózati címek</span><span class="sxs-lookup"><span data-stu-id="087f6-131">Outbound Network Addresses</span></span>
<span data-ttu-id="087f6-132">Az App Service-környezetek lehetővé teszi a kimenő hívásokat, amikor egy IP-cím mindig társítva a kimenő hívásokat.</span><span class="sxs-lookup"><span data-stu-id="087f6-132">When an App Service Environment makes outbound calls, an IP Address is always associated with the outbound calls.</span></span>  <span data-ttu-id="087f6-133">A használt IP-cím függ, hogy a meghívott végpont található, a virtuális hálózati topológia belül vagy kívül a virtuális hálózati topológiától.</span><span class="sxs-lookup"><span data-stu-id="087f6-133">The specific IP address that is used depends on whether the endpoint being called is located within the virtual network topology, or outside of the virtual network topology.</span></span>

<span data-ttu-id="087f6-134">Ha a meghívott végpont **kívül** a virtuális hálózati topológia, majd a kimenő (más néven a kimenő NAT-cím) használt cím az App Service Environment-környezet nyilvános VIP.</span><span class="sxs-lookup"><span data-stu-id="087f6-134">If the endpoint being called is **outside** of the virtual network topology, then the outbound address (aka the outbound NAT address) that is used is the public VIP of the App Service Environment.</span></span>  <span data-ttu-id="087f6-135">Ez a cím az App Service-környezet a Tulajdonságok panelére léphet a portál felhasználói felületen található.</span><span class="sxs-lookup"><span data-stu-id="087f6-135">This address can be found in the portal user interface for the App Service Environment in Properties blade.</span></span>

![Kimenő IP-cím][OutboundIPAddress]

<span data-ttu-id="087f6-137">Ezt a címet is meg lehet határozni a ASEs, amelyek csak egy nyilvános VIP létrehozásával egy alkalmazást az App Service Environment-környezetben, és majd végrehajtása egy *nslookup* meg a webalkalmazás URL-címe.</span><span class="sxs-lookup"><span data-stu-id="087f6-137">This address can also be determined for ASEs that only have a public VIP by creating an app in the App Service Environment, and then performing an *nslookup* on the app's address.</span></span> <span data-ttu-id="087f6-138">Az eredményül kapott IP-cím, mind a nyilvános VIP, valamint az App Service Environment-kimenő NAT-cím.</span><span class="sxs-lookup"><span data-stu-id="087f6-138">The resultant IP address is both the public VIP, as well as the App Service Environment's outbound NAT address.</span></span>

<span data-ttu-id="087f6-139">Ha a meghívott végpont **belül** a virtuális hálózati topológia a hívó alkalmazás kimenő címét a belső IP-cím az egyes számítási erőforrás az alkalmazást futtatva lesz.</span><span class="sxs-lookup"><span data-stu-id="087f6-139">If the endpoint being called is **inside** of the virtual network topology, the outbound address of the calling app will be the internal IP address of the individual compute resource running the app.</span></span>  <span data-ttu-id="087f6-140">Azonban nincs virtuális hálózat belső IP-címek és alkalmazások állandó leképezéseket.</span><span class="sxs-lookup"><span data-stu-id="087f6-140">However there is not a persistent mapping of virtual network internal IP addresses to apps.</span></span>  <span data-ttu-id="087f6-141">Alkalmazások mozgathatók különböző számítási erőforrásokat, és a készlet elérhető számítási erőforrások az App Service-környezetek módosíthatja skálázás műveletek miatt.</span><span class="sxs-lookup"><span data-stu-id="087f6-141">Apps can move around across different compute resources, and the pool of available compute resources in an App Service Environment can change due to scaling operations.</span></span>

<span data-ttu-id="087f6-142">Azonban mivel az App Service-környezetek mindig egy alhálózaton belül található, akkor garantált, hogy a belső IP-cím egy alkalmazást futtató számítási erőforrás lesz mindig találhatók, az alhálózat CIDR-tartomány.</span><span class="sxs-lookup"><span data-stu-id="087f6-142">However, since an App Service Environment is always located within a subnet, you are guaranteed that the internal IP address of a compute resource running an app will always lie within the CIDR range of the subnet.</span></span>  <span data-ttu-id="087f6-143">Ennek eredményeképpen amikor a részletes ACL-ek vagy a hálózati biztonsági csoportok segítségével biztonságos hozzáférés a többi végpont a virtuális hálózaton belül, az App Service-környezet tartalmazó alhálózat tartományának kell számára hozzáférést kell biztosítani.</span><span class="sxs-lookup"><span data-stu-id="087f6-143">As a result, when fine-grained ACLs or network security groups are used to secure access to other endpoints within the virtual network, the subnet range containing the App Service Environment needs to be granted access.</span></span>

<span data-ttu-id="087f6-144">Az alábbi ábrán látható ezekről a fogalmakról részletesebben:</span><span class="sxs-lookup"><span data-stu-id="087f6-144">The following diagram shows these concepts in more detail:</span></span>

![Kimenő hálózati címek][OutboundNetworkAddresses]

<span data-ttu-id="087f6-146">A fenti ábrán:</span><span class="sxs-lookup"><span data-stu-id="087f6-146">In the above diagram:</span></span>

* <span data-ttu-id="087f6-147">Mivel az App Service Environment-környezet nyilvános VIP 192.23.1.2, a kimenő IP-cím használható, ha hívása "Internet" végpontok esetén.</span><span class="sxs-lookup"><span data-stu-id="087f6-147">Since the public VIP of the App Service Environment is 192.23.1.2, that is the outbound IP address used when making calls to "Internet" endpoints.</span></span>
* <span data-ttu-id="087f6-148">Az App Service Environment-környezet tartalmazó alhálózat CIDR-tartomány 10.0.1.0/26.</span><span class="sxs-lookup"><span data-stu-id="087f6-148">The CIDR range of the containing subnet for the App Service Environment is 10.0.1.0/26.</span></span>  <span data-ttu-id="087f6-149">Belül az azonos virtuális hálózati infrastruktúra többi végpont a címtartományán belül valahol az származó alkalmazásokból hívások jelenik meg.</span><span class="sxs-lookup"><span data-stu-id="087f6-149">Other endpoints within the same virtual network infrastructure will see calls from apps as originating from somewhere within this address range.</span></span>

## <a name="calls-between-app-service-environments"></a><span data-ttu-id="087f6-150">App Service-környezetek közötti hívások</span><span class="sxs-lookup"><span data-stu-id="087f6-150">Calls Between App Service Environments</span></span>
<span data-ttu-id="087f6-151">Egy összetettebb forgatókönyv akkor fordulhat elő, ha több App Service Environment-környezetek az azonos virtuális hálózatban lévő telepíti, és egy másik App Service Environment-környezet egy App Service Environment-környezet a kimenő meghíváshoz.</span><span class="sxs-lookup"><span data-stu-id="087f6-151">A more complex scenario can occur if you deploy multiple App Service Environments in the same virtual network, and make outbound calls from one App Service Environment to another App Service Environment.</span></span>  <span data-ttu-id="087f6-152">Az ilyen típusú kereszt-App Service Environment-környezet is hívások az "Internet" hívások tekinteni.</span><span class="sxs-lookup"><span data-stu-id="087f6-152">These types of cross App Service Environment calls will also be treated as "Internet" calls.</span></span>

<span data-ttu-id="087f6-153">Az alábbi ábrán látható példát alkalmazásokkal architektúra a egy App Service Environment-környezet (pl. "Bejárati ajtón" webalkalmazások) hívása a következő alkalmazásokat egy másik App Service-környezet (pl. belső háttér-API-alkalmazások nem feltétlenül érhető el az internetről).</span><span class="sxs-lookup"><span data-stu-id="087f6-153">The following diagram shows an example of a layered architecture with apps on one App Service Environment (e.g. "Front door" web apps) calling apps on a second App Service Environment (e.g. internal back-end API apps not intended to be accessible from the Internet).</span></span> 

![App Service-környezetek közötti hívások][CallsBetweenAppServiceEnvironments] 

<span data-ttu-id="087f6-155">A fenti példában az App Service Environment-környezet "ASE egy" 192.23.1.2 kimenő IP-címmel rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="087f6-155">In the example above the App Service Environment "ASE One" has an outbound IP address of 192.23.1.2.</span></span>  <span data-ttu-id="087f6-156">Ha a futó alkalmazások App Service-környezet elérhetővé válnak az azonos virtuális hálózatban, a kimenő hívás található egy másik App Service Environment-környezet ("ASE két") futó alkalmazások számára kimenő hívást kell hívnia a "Internet" számít.</span><span class="sxs-lookup"><span data-stu-id="087f6-156">If an app running on this App Service Environment makes an outbound call to an app running on a second App Service Environment ("ASE Two") located in the same virtual network, the outbound call will be treated as an "Internet" call.</span></span>  <span data-ttu-id="087f6-157">Ennek eredményeképpen a második érkező hálózati forgalom App Service Environment-környezet megjeleníti a 192.23.1.2 (azaz nem a alhálózati címtartományt az első App Service Environment-környezet) származó.</span><span class="sxs-lookup"><span data-stu-id="087f6-157">As a result the network traffic arriving on the second App Service Environment will show as originating from 192.23.1.2 (i.e. not the subnet address range of the first App Service Environment).</span></span>

<span data-ttu-id="087f6-158">Annak ellenére, hogy másik App Service Environment-környezetek közötti hívások tekintendők "Internet" hívások, ha mindkét App Service Environment-környezetek azonos Azure-régióban található a hálózati forgalmat a regionális Azure-hálózatot a marad, és nem halad fizikailag a nyilvános interneten keresztül.</span><span class="sxs-lookup"><span data-stu-id="087f6-158">Even though calls between different App Service Environments are treated as "Internet" calls, when both App Service Environments are located in the same Azure region the network traffic will remain on the regional Azure network and will not physically flow over the public Internet.</span></span>  <span data-ttu-id="087f6-159">Ennek eredményeképpen segítségével a hálózati biztonsági csoport az alhálózat, a második App Service Environment-környezet csak lehetővé teszi a bejövő hívások az első App Service-környezet (amelynek kimenő IP-cím 192.23.1.2), biztosítva ezzel az App Service Environment-környezetek közötti biztonságos kommunikációhoz.</span><span class="sxs-lookup"><span data-stu-id="087f6-159">As a result you can use a network security group on the subnet of the second App Service Environment to only allow inbound calls from the first App Service Environment (whose outbound IP address is 192.23.1.2), thus ensuring secure communication between the App Service Environments.</span></span>

## <a name="additional-links-and-information"></a><span data-ttu-id="087f6-160">További hivatkozások és információk</span><span class="sxs-lookup"><span data-stu-id="087f6-160">Additional Links and Information</span></span>
<span data-ttu-id="087f6-161">Összes cikket, és hogyan-a következőre az App Service Environment-környezetek érhetők el a [alkalmazásszolgáltatási környezetek – fontos fájl](../app-service/app-service-app-service-environments-readme.md).</span><span class="sxs-lookup"><span data-stu-id="087f6-161">All articles and How-To's for App Service Environments are available in the [README for Application Service Environments](../app-service/app-service-app-service-environments-readme.md).</span></span>

<span data-ttu-id="087f6-162">Részletek bejövő App Service Environment-környezetek által használt portok és a hálózati biztonsági csoportok segítségével vezérelheti, bejövő forgalom érhető [Itt][controllinginboundtraffic].</span><span class="sxs-lookup"><span data-stu-id="087f6-162">Details on inbound ports used by App Service Environments and using network security groups to control inbound traffic is available [here][controllinginboundtraffic].</span></span>

<span data-ttu-id="087f6-163">Információk felhasználó által megadott útvonalak megadása az App Service Environment-környezetek kimenő Internet-hozzáférést érhető el ezen [cikk][ExpressRoute].</span><span class="sxs-lookup"><span data-stu-id="087f6-163">Details on using user defined routes to grant outbound Internet access to App Service Environments is available in this [article][ExpressRoute].</span></span> 

<!-- LINKS -->
[virtualnetwork]: http://azure.microsoft.com/services/virtual-network/
[controllinginboundtraffic]:  http://azure.microsoft.com/documentation/articles/app-service-app-service-environment-control-inbound-traffic/
[ExpressRoute]:  http://azure.microsoft.com/documentation/articles/app-service-app-service-environment-network-configuration-expressroute/

<!-- IMAGES -->
[GeneralNetworkFlows]: ./media/app-service-app-service-environment-network-architecture-overview/NetworkOverview-1.png
[OutboundIPAddress]: ./media/app-service-app-service-environment-network-architecture-overview/OutboundIPAddress-1.png
[OutboundNetworkAddresses]: ./media/app-service-app-service-environment-network-architecture-overview/OutboundNetworkAddresses-1.png
[CallsBetweenAppServiceEnvironments]: ./media/app-service-app-service-environment-network-architecture-overview/CallsBetweenEnvironments-1.png

