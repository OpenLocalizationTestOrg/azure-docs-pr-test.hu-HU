---
title: "Az Azure Resource Manager-sablonok használatával ILB ASE létrehozása |} Microsoft Docs"
description: "Megtudhatja, hogyan hozzon létre egy belső terheléselosztó ASE Azure Resource Manager-sablonok használatával."
services: app-service
documentationcenter: 
author: stefsch
manager: nirma
editor: 
ms.assetid: 091decb6-b0de-42a1-9f2f-c18d9b2e67df
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/11/2017
ms.author: stefsch
ms.openlocfilehash: 147ab76d38c8bbbf34d35ed6c2a194d97fe711ab
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 08/03/2017
---
# <a name="how-to-create-an-ilb-ase-using-azure-resource-manager-templates"></a><span data-ttu-id="ee1d8-103">ILB ASE létrehozása Azure Resource Manager-sablonokkal</span><span class="sxs-lookup"><span data-stu-id="ee1d8-103">How To Create an ILB ASE Using Azure Resource Manager Templates</span></span>

> [!NOTE] 
> <span data-ttu-id="ee1d8-104">Ez a cikk az App Service Environment-környezet v1 tárgya.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-104">This article is about the App Service Environment v1.</span></span> <span data-ttu-id="ee1d8-105">Az App Service-környezet, amely könnyebben használható, és nagyobb teljesítményű infrastruktúra fut egy újabb verziója van telepítve.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-105">There is a newer version of the App Service Environment that is easier to use and runs on more powerful infrastructure.</span></span> <span data-ttu-id="ee1d8-106">További információt az új verzió útmutató a [az App Service Environment bemutatása](../app-service/app-service-environment/intro.md).</span><span class="sxs-lookup"><span data-stu-id="ee1d8-106">To learn more about the new version start with the [Introduction to the App  Service Environment](../app-service/app-service-environment/intro.md).</span></span>
>

## <a name="overview"></a><span data-ttu-id="ee1d8-107">Áttekintés</span><span class="sxs-lookup"><span data-stu-id="ee1d8-107">Overview</span></span>
<span data-ttu-id="ee1d8-108">App Service-környezetek nyilvános virtuális IP-címhez helyett egy virtuális hálózat belső cím hozhatók létre.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-108">App Service Environments can be created with a virtual network internal address instead of a public VIP.</span></span>  <span data-ttu-id="ee1d8-109">Ez a belső cím egy Azure összetevő neve, a belső terheléselosztó (ILB) biztosítja.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-109">This internal address is provided by an Azure component called the internal load balancer (ILB).</span></span>  <span data-ttu-id="ee1d8-110">Egy ILB ASE az Azure portál használatával hozhatók létre.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-110">An ILB ASE can be created using the Azure portal.</span></span>  <span data-ttu-id="ee1d8-111">Azt is létrehozhatók automation vállalja Azure Resource Manager-sablonok használatával.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-111">It can also be created using automation by way of Azure Resource Manager templates.</span></span>  <span data-ttu-id="ee1d8-112">Ez a cikk végigvezeti a lépéseket és az Azure Resource Manager-sablonok egy ILB ASE létrehozásához szükséges.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-112">This article walks through the steps and syntax needed to create an ILB ASE with Azure Resource Manager templates.</span></span>

<span data-ttu-id="ee1d8-113">Három lépésben történik egy ILB ASE létrehozásának automatizálása részt:</span><span class="sxs-lookup"><span data-stu-id="ee1d8-113">There are three steps involved in automating creation of an ILB ASE:</span></span>

1. <span data-ttu-id="ee1d8-114">A kiinduló ASE először egy nyilvános VIP helyett egy belső terheléselosztói címet a virtuális hálózat jön létre.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-114">First the base ASE is created in a virtual network using an internal load balancer address instead of a public VIP.</span></span>  <span data-ttu-id="ee1d8-115">Ez a lépés részeként egy legfelső szintű tartomány nevét a ILB ASE van hozzárendelve.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-115">As part of this step, a root domain name is assigned to the ILB ASE.</span></span>
2. <span data-ttu-id="ee1d8-116">A ILB ASE létrehozása után egy SSL-tanúsítvány feltöltése.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-116">Once the ILB ASE is created, an SSL certificate is uploaded.</span></span>  
3. <span data-ttu-id="ee1d8-117">A feltöltött SSL-tanúsítvány van explicit módon hozzárendelt a ILB ASE az "alapértelmezett" SSL-tanúsítványt.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-117">The uploaded SSL certificate is explicitly assigned to the ILB ASE as its "default" SSL certificate.</span></span>  <span data-ttu-id="ee1d8-118">Az SSL-tanúsítvány lesz használható az SSL-forgalmat a ILB ASE található alkalmazások, ha az alkalmazások kiiktatása használatával a közös gyökértartomány a ASE (pl. https://someapp.mycustomrootcomain.com) rendelt</span><span class="sxs-lookup"><span data-stu-id="ee1d8-118">This SSL certificate will be used for SSL traffic to apps on the ILB ASE when the apps are addressed using the common root domain assigned to the ASE (e.g. https://someapp.mycustomrootcomain.com)</span></span>

## <a name="creating-the-base-ilb-ase"></a><span data-ttu-id="ee1d8-119">A kiinduló ILB ASE létrehozása</span><span class="sxs-lookup"><span data-stu-id="ee1d8-119">Creating the Base ILB ASE</span></span>
<span data-ttu-id="ee1d8-120">Egy példa Azure Resource Manager-sablon és a társított paraméterek fájlt a Githubon érhetők [Itt][quickstartilbasecreate].</span><span class="sxs-lookup"><span data-stu-id="ee1d8-120">An example Azure Resource Manager template, and its associated parameters file, are available on GitHub [here][quickstartilbasecreate].</span></span>

<span data-ttu-id="ee1d8-121">A paraméterek a legtöbb a *azuredeploy.parameters.json* fájl megegyeznek az mind ILB ASEs, valamint nyilvános virtuális IP-címhez kötött ASEs létrehozása.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-121">Most of the parameters in the *azuredeploy.parameters.json* file are common to creating both ILB ASEs, as well as ASEs bound to a public VIP.</span></span>  <span data-ttu-id="ee1d8-122">A hívások Megjegyzés paraméterei ki az alábbi listából, vagy ha az egyediek, egy ILB ASE létrehozásakor:</span><span class="sxs-lookup"><span data-stu-id="ee1d8-122">The list below calls out parameters of special note, or that are unique, when creating an ILB ASE:</span></span>

* <span data-ttu-id="ee1d8-123">*interalLoadBalancingMode*: egy ILB lefoglalt virtuális hálózat belső címet társítani a ASE meg az FTP-szolgáltatás által figyelt ez 3, ami azt jelenti, hogy a 80/443-as port HTTP/HTTPS-forgalmat, és a/adatok portok beállítása a legtöbb esetben.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-123">*interalLoadBalancingMode*:  In most cases set this to 3, which means both HTTP/HTTPS traffic on ports 80/443, and the control/data channel ports listened to by the FTP service on the ASE, will be bound to an ILB allocated virtual network internal address.</span></span>  <span data-ttu-id="ee1d8-124">Ez a tulajdonság értéke ehelyett 2, csak az FTP-szolgáltatás kapcsolatos, portok (vezérlő és az adatokat egyaránt csatornák) társítani ILB címre, amíg változatlan marad a HTTP/HTTPS-forgalmat a nyilvános VIP-e.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-124">If this property is instead set to 2, then only the FTP service related ports (both control and data channels) will be bound to an ILB address, while the HTTP/HTTPS traffic will remain on the public VIP.</span></span>
* <span data-ttu-id="ee1d8-125">*dnsSuffix*: Ez a paraméter határozza meg az alapértelmezett gyökértartomány, amely a ASE lesz hozzárendelve.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-125">*dnsSuffix*:  This parameter defines the default root domain that will be assigned to the ASE.</span></span>  <span data-ttu-id="ee1d8-126">Az Azure App Service nyilvános változata, az alapértelmezett gyökértartomány minden webes alkalmazások nem *azurewebsites.net*.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-126">In the public variation of Azure App Service, the default root domain for all web apps is *azurewebsites.net*.</span></span>  <span data-ttu-id="ee1d8-127">Azonban mivel egy ILB ASE belső, az ügyfél virtuális hálózathoz, azt nem célszerű a használata a nyilvános service alapértelmezett legfelső szintű tartomány.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-127">However since an ILB ASE is internal to a customer's virtual network, it doesn't make sense to use the public service's default root domain.</span></span>  <span data-ttu-id="ee1d8-128">Ehelyett egy ILB ASE kell egy alapértelmezett gyökértartomány legjobb a vállalat belső virtuális hálózaton belüli használatra.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-128">Instead, an ILB ASE should have a default root domain that makes sense for use within a company's internal virtual network.</span></span>  <span data-ttu-id="ee1d8-129">Például egy kitalált, Contoso Corporation használhatja az alapértelmezett legfelső szintű tartomány *belső contoso.com* célja, hogy csak akkor lehet feloldható Contoso virtuális hálózaton belülről érhetők el alkalmazások.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-129">For example, a hypothetical Contoso Corporation might use a default root domain of *internal-contoso.com* for apps that are intended to only be resolvable and accessible within Contoso's virtual network.</span></span> 
* <span data-ttu-id="ee1d8-130">*ipSslAddressCount*: Ez a paraméter értékét 0-ra a automatikusan alapértelmezés szerint a *azuredeploy.json* fájlhoz, mert ILB ASEs csak egyetlen ILB címmel rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-130">*ipSslAddressCount*:  This parameter is automatically defaulted to a value of 0 in the *azuredeploy.json* file because ILB ASEs only have a single ILB address.</span></span>  <span data-ttu-id="ee1d8-131">Nincsenek a egy ILB ASE explicit IP-SSL címek, ezért az IP-SSL-címkészletet egy ILB ASE nulla értékre kell állítani, ellenkező esetben a létesítési hiba történik.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-131">There are no explicit IP-SSL addresses for an ILB ASE, and hence the IP-SSL address pool for an ILB ASE must be set to zero, otherwise a provisioning error will occur.</span></span> 

<span data-ttu-id="ee1d8-132">Egyszer a *azuredeploy.parameters.json* fájl ki van töltve egy ILB ASE a, a ILB ASE majd segítségével hozhatók létre a következő Powershell-kódrészletet.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-132">Once the *azuredeploy.parameters.json* file has been filled in for an ILB ASE, the ILB ASE can then be created using the following Powershell code snippet.</span></span>  <span data-ttu-id="ee1d8-133">Módosítsa a fájl elérési útjait felel meg, hol található az Azure Resource Manager sablon fájlokat a számítógépre.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-133">Change the file PATHs to match where the Azure Resource Manager template files are located on your machine.</span></span>  <span data-ttu-id="ee1d8-134">Továbbá ne feledje a saját Azure Resource Manager deployment nevét és az erőforráscsoport neve értéket ad meg.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-134">Also remember to supply your own values for the Azure Resource Manager deployment name, and resource group name.</span></span>

    $templatePath="PATH\azuredeploy.json"
    $parameterPath="PATH\azuredeploy.parameters.json"

    New-AzureRmResourceGroupDeployment -Name "CHANGEME" -ResourceGroupName "YOUR-RG-NAME-HERE" -TemplateFile $templatePath -TemplateParameterFile $parameterPath

<span data-ttu-id="ee1d8-135">Az Azure Resource Manager után a sablon nyújtják a létrehozandó ILB ASE néhány órát fog igénybe venni.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-135">After the Azure Resource Manager template is submitted it will take a few hours for the ILB ASE to be created.</span></span>  <span data-ttu-id="ee1d8-136">A létrehozása után a ILB ASE jelennek meg a portálon UX az előfizetés, a központi telepítés kiváltó App Service Environment-környezetek listájában.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-136">Once the creation completes, the ILB ASE will show up in the portal UX in the list of App Service Environments for the subscription that triggered the deployment.</span></span>

## <a name="uploading-and-configuring-the-default-ssl-certificate"></a><span data-ttu-id="ee1d8-137">Feltöltését és az "Alapértelmezett" SSL-tanúsítvány konfigurálása</span><span class="sxs-lookup"><span data-stu-id="ee1d8-137">Uploading and Configuring the "Default" SSL Certificate</span></span>
<span data-ttu-id="ee1d8-138">A ILB ASE létrehozása után egy SSL-tanúsítványt kell venniük a mértékéig alkalmazások SSL-kapcsolat létrehozásához használja az "alapértelmezett" SSL-tanúsítvány.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-138">Once the ILB ASE is created, an SSL certificate should be associated with the ASE as the "default" SSL certificate use for establishing SSL connections to apps.</span></span>  <span data-ttu-id="ee1d8-139">Van folytatása a elméleti Contoso Corporation például, ha a ASE alapértelmezett DNS-utótag *belső contoso.com*, majd kapcsolódni a *https://some-random-app.internal-contoso.com* érvényes SSL-tanúsítvány szükséges **.internal-contoso.com*.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-139">Continuing with the hypothetical Contoso Corporation example, if the ASE's default DNS suffix is *internal-contoso.com*, then a connection to *https://some-random-app.internal-contoso.com* requires an SSL certificate that is valid for **.internal-contoso.com*.</span></span> 

<span data-ttu-id="ee1d8-140">Nincsenek többféle módon, beleértve a belső hitelesítésszolgáltatók, egy tanúsítvány beszerzése egy külső kiállítótól érkező és egy önaláírt tanúsítványt használ érvényes SSL-tanúsítványt kell beszerezniük.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-140">There are a variety of ways to obtain a valid SSL certificate including internal CAs, purchasing a certificate from an external issuer, and using a self-signed certificate.</span></span>  <span data-ttu-id="ee1d8-141">Az SSL-tanúsítvány forrását, függetlenül is megfelelően konfigurálni kell a következő tanúsítvány attribútumok:</span><span class="sxs-lookup"><span data-stu-id="ee1d8-141">Regardless of the source of the SSL certificate, the following certificate attributes need to be configured properly:</span></span>

* <span data-ttu-id="ee1d8-142">*Tulajdonos*: meg kell ezt az attribútumot **.your-gyökér-tartományi-here.com*</span><span class="sxs-lookup"><span data-stu-id="ee1d8-142">*Subject*:  This attribute must be set to **.your-root-domain-here.com*</span></span>
* <span data-ttu-id="ee1d8-143">*Tulajdonos alternatív neve*: ennek az attribútumnak kell tartalmaznia a **.your-gyökér-tartományi-here.com*, és **.scm.your-gyökér-tartományi-here.com*.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-143">*Subject Alternative Name*:  This attribute must include both **.your-root-domain-here.com*, and **.scm.your-root-domain-here.com*.</span></span>  <span data-ttu-id="ee1d8-144">A második bejegyzés oka, hogy minden alkalmazáshoz társított SCM/Kudu webhely SSL-kapcsolat lesz-e az űrlap címmel történő *your-app-name.scm.your-root-domain-here.com*.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-144">The reason for the second entry is that SSL connections to the SCM/Kudu site associated with each app will be made using an address of the form *your-app-name.scm.your-root-domain-here.com*.</span></span>

<span data-ttu-id="ee1d8-145">Egy érvényes SSL-tanúsítvánnyal aktuális két további előkészítő lépések szükségesek.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-145">With a valid SSL certificate in hand, two additional preparatory steps are needed.</span></span>  <span data-ttu-id="ee1d8-146">Az SSL-tanúsítványt kell lennie a alakítja/egy .pfx fájlba menti.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-146">The SSL certificate needs to be converted/saved as a .pfx file.</span></span>  <span data-ttu-id="ee1d8-147">Ne feledje, hogy a .pfx fájl tartalmazza az összes köztes, és a legfelső szintű tanúsítványokat kell-e, és is jelszóval védeni kell.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-147">Remember that the .pfx file needs to include all intermediate and root certificates, and also needs to be secured with a password.</span></span>

<span data-ttu-id="ee1d8-148">Majd az eredményül kapott .pfx-fájlt kell Base64 kódolású karakterlánc alakítja át, mert az SSL-tanúsítvány lesz feltöltve, Azure Resource Manager-sablonnal.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-148">Then the resultant .pfx file needs to be converted into a base64 string because the SSL certificate will be uploaded using an Azure Resource Manager template.</span></span>  <span data-ttu-id="ee1d8-149">Mivel az Azure Resource Manager-sablonok szövegfájlok, a .pfx-fájlt kell konvertálni kell egy Base64 kódolású karakterlánc, azt is meg lehet adni a sablon paraméterként.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-149">Since Azure Resource Manager templates are text files, the .pfx file needs to be converted into a base64 string so it can be included as a parameter of the template.</span></span>

<span data-ttu-id="ee1d8-150">A Powershell kódrészletben látható példa önaláírt tanúsítvány létrehozása, a tanúsítvány exportálása .pfx-fájlként, a .pfx fájl átalakítása a base64 kódolású karakterlánc, karakterlánc külön fájlt, majd mentse a base64 kódolású.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-150">The Powershell code snippet below shows an example of generating a self-signed certificate, exporting the certificate as a .pfx file, converting the .pfx file into a base64 encoded string, and then saving the base64 encoded string to a separate file.</span></span>  <span data-ttu-id="ee1d8-151">A Powershell-kódot az alkalmazás base64 kódolást volt módosítani a a [Powershell parancsfájlok Blog][examplebase64encoding].</span><span class="sxs-lookup"><span data-stu-id="ee1d8-151">The Powershell code for base64 encoding was adapted from the [Powershell Scripts Blog][examplebase64encoding].</span></span>

    $certificate = New-SelfSignedCertificate -certstorelocation cert:\localmachine\my -dnsname "*.internal-contoso.com","*.scm.internal-contoso.com"

    $certThumbprint = "cert:\localMachine\my\" + $certificate.Thumbprint
    $password = ConvertTo-SecureString -String "CHANGETHISPASSWORD" -Force -AsPlainText

    $fileName = "exportedcert.pfx"
    Export-PfxCertificate -cert $certThumbprint -FilePath $fileName -Password $password     

    $fileContentBytes = get-content -encoding byte $fileName
    $fileContentEncoded = [System.Convert]::ToBase64String($fileContentBytes)
    $fileContentEncoded | set-content ($fileName + ".b64")

<span data-ttu-id="ee1d8-152">Amennyiben az SSL-tanúsítvány sikeresen generált és alakítja át a base64 kódolású karakterlánc, a példában Azure Resource Manager-sablon a Githubon [az alapértelmezett SSL-tanúsítvány konfigurálása] [ configuringDefaultSSLCertificate] is használható.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-152">Once the SSL certificate has been successfully generated and converted to a base64 encoded string, the example Azure Resource Manager template on GitHub for [configuring the default SSL certificate][configuringDefaultSSLCertificate] can be used.</span></span>

<span data-ttu-id="ee1d8-153">A paraméterek a *azuredeploy.parameters.json* fájlt az alábbiak:</span><span class="sxs-lookup"><span data-stu-id="ee1d8-153">The parameters in the *azuredeploy.parameters.json* file are listed below:</span></span>

* <span data-ttu-id="ee1d8-154">*appServiceEnvironmentName*: a konfigurálni kívánt ILB ASE nevét.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-154">*appServiceEnvironmentName*:  The name of the ILB ASE being configured.</span></span>
* <span data-ttu-id="ee1d8-155">*existingAseLocation*: az Azure-régió, ahol a ILB ASE állított tartalmazó szöveges karakterlánc.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-155">*existingAseLocation*:  Text string containing the Azure region where the ILB ASE was deployed.</span></span>  <span data-ttu-id="ee1d8-156">Például: "Déli középső Régiójában".</span><span class="sxs-lookup"><span data-stu-id="ee1d8-156">For example:  "South Central US".</span></span>
* <span data-ttu-id="ee1d8-157">*pfxBlobString*: A based64 kódolású .pfx fájlt karakterláncos ábrázolása.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-157">*pfxBlobString*:  The based64 encoded string representation of the .pfx file.</span></span>  <span data-ttu-id="ee1d8-158">A korábban bemutatott kódrészletet használja, akkor volna másolja át a "exportedcert.pfx.b64" foglalt karakterlánc és illessze be az értékeként a *pfxBlobString* attribútum.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-158">Using the code snippet shown earlier, you would copy the string contained in "exportedcert.pfx.b64" and paste it in as the value of the *pfxBlobString* attribute.</span></span>
* <span data-ttu-id="ee1d8-159">*jelszó*: A jelszót a .pfx-fájlt védi.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-159">*password*:  The password used to secure the .pfx file.</span></span>
* <span data-ttu-id="ee1d8-160">*certificateThumbprint*: A tanúsítvány ujjlenyomata.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-160">*certificateThumbprint*:  The certificate's thumbprint.</span></span>  <span data-ttu-id="ee1d8-161">Ha ez az érték lekérése Powershell (pl. *$certificate. Ujjlenyomat* a korábbi kódrészletet a), használhatja a értékével megegyező-van.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-161">If you retrieve this value from Powershell (e.g. *$certificate.Thumbprint* from the earlier code snippet), you can use the value as-is.</span></span>  <span data-ttu-id="ee1d8-162">Értékének másolása a Windows tanúsítvány párbeszédpanel, ha azonban ne felejtse el a felesleges szóközöket ki.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-162">However if you copy the value from the Windows certificate dialog, remember to strip out the extraneous spaces.</span></span>  <span data-ttu-id="ee1d8-163">A *certificateThumbprint* hasonlóan kell kinéznie: AF3143EB61D43F6727842115BB7F17BBCECAECAE</span><span class="sxs-lookup"><span data-stu-id="ee1d8-163">The *certificateThumbprint* should look something like:  AF3143EB61D43F6727842115BB7F17BBCECAECAE</span></span>
* <span data-ttu-id="ee1d8-164">*certificateName*: identitás a tanúsítvány segítségével A saját rövid karakterlánc-azonosító.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-164">*certificateName*:  A friendly string identifier of your own choosing used to identity the certificate.</span></span>  <span data-ttu-id="ee1d8-165">A név használatban van az Azure Resource Manager egyedi azonosítóját részeként a *Microsoft.Web/certificates* az SSL-tanúsítvány képviselő entitás.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-165">The name is used as part of the unique Azure Resource Manager identifier for the *Microsoft.Web/certificates* entity representing the SSL certificate.</span></span>  <span data-ttu-id="ee1d8-166">A név **kell** végződhet a következő előtagot: \_yourASENameHere_InternalLoadBalancingASE.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-166">The name **must** end with the following suffix:  \_yourASENameHere_InternalLoadBalancingASE.</span></span>  <span data-ttu-id="ee1d8-167">Ez utótag lesz a portál által azt jelzi, hogy ezzel a tanúsítvánnyal egy ILB-kompatibilis ASE biztonságossá tételéhez.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-167">This suffix is used by the portal as an indicator that the certificate is used for securing an ILB-enabled ASE.</span></span>

<span data-ttu-id="ee1d8-168">Rövidített például *azuredeploy.parameters.json* alább találja:</span><span class="sxs-lookup"><span data-stu-id="ee1d8-168">An abbreviated example of *azuredeploy.parameters.json* is shown below:</span></span>

    {
         "$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentParameters.json",
         "contentVersion": "1.0.0.0",
         "parameters": {
              "appServiceEnvironmentName": {
                   "value": "yourASENameHere"
              },
              "existingAseLocation": {
                   "value": "East US 2"
              },
              "pfxBlobString": {
                   "value": "MIIKcAIBAz...snip...snip...pkCAgfQ"
              },
              "password": {
                   "value": "PASSWORDGOESHERE"
              },
              "certificateThumbprint": {
                   "value": "AF3143EB61D43F6727842115BB7F17BBCECAECAE"
              },
              "certificateName": {
                   "value": "DefaultCertificateFor_yourASENameHere_InternalLoadBalancingASE"
              }
         }
    }

<span data-ttu-id="ee1d8-169">Egyszer a *azuredeploy.parameters.json* fájl ki van töltve, az alapértelmezett SSL-tanúsítvány a következő Powershell-kódrészletet használatával konfigurálható.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-169">Once the *azuredeploy.parameters.json* file has been filled in, the default SSL certificate can be configured using the following Powershell code snippet.</span></span>  <span data-ttu-id="ee1d8-170">Módosítsa a fájl elérési útjait felel meg, hol található az Azure Resource Manager sablon fájlokat a számítógépre.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-170">Change the file PATHs to match where the Azure Resource Manager template files are located on your machine.</span></span>  <span data-ttu-id="ee1d8-171">Továbbá ne feledje a saját Azure Resource Manager deployment nevét és az erőforráscsoport neve értéket ad meg.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-171">Also remember to supply your own values for the Azure Resource Manager deployment name, and resource group name.</span></span>

    $templatePath="PATH\azuredeploy.json"
    $parameterPath="PATH\azuredeploy.parameters.json"

    New-AzureRmResourceGroupDeployment -Name "CHANGEME" -ResourceGroupName "YOUR-RG-NAME-HERE" -TemplateFile $templatePath -TemplateParameterFile $parameterPath

<span data-ttu-id="ee1d8-172">Miután az Azure Resource Manager sablon beküldött eltarthat nagyjából előtér-ASE negyven perc percig a módosítás alkalmazására.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-172">After the Azure Resource Manager template is submitted it will take roughly forty minutes minutes per ASE front-end to apply the change.</span></span>  <span data-ttu-id="ee1d8-173">Például egy alapértelmezett méretű mértékéig két elülső-végpontok használatával, a sablon lépnek körülbelül egy óra és 20 perc befejezéséhez.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-173">For example, with a default sized ASE using two front-ends, the template will take around one hour and twenty minutes to complete.</span></span>  <span data-ttu-id="ee1d8-174">A sablon futása közben a ASE nem lehet méretezni.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-174">While the template is running the ASE will not be able to scaled.</span></span>  

<span data-ttu-id="ee1d8-175">Miután befejeződött a sablon, a ILB ASE alkalmazások HTTPS-KAPCSOLATON keresztül is elérhetők, és a kapcsolatok megfelelően történik az alapértelmezett SSL-tanúsítvány.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-175">Once the template completes, apps on the ILB ASE can be accessed over HTTPS and the connections will be secured using the default SSL certificate.</span></span>  <span data-ttu-id="ee1d8-176">Az alapértelmezett SSL-tanúsítvány fog használni, amikor a ILB ASE alkalmazások használata az alkalmazás nevét és az alapértelmezett állomásnév kombinációja tárgyalja.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-176">The default SSL certificate will be used when apps on the ILB ASE are addressed using a combination of the application name plus the default hostname.</span></span>  <span data-ttu-id="ee1d8-177">Például *https://mycustomapp.internal-contoso.com* szeretné használni az alapértelmezett SSL-tanúsítványt **.internal-contoso.com*.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-177">For example *https://mycustomapp.internal-contoso.com* would use the default SSL certificate for **.internal-contoso.com*.</span></span>

<span data-ttu-id="ee1d8-178">Azonban hasonlóan a nyilvános több-bérlős szolgáltatást futó alkalmazások, a fejlesztők is konfigurálja a egyéni állomásnevek egyes alkalmazások, és majd konfigurálja az egyedi SNI SSL-tanúsítványok kötései egyes alkalmazásokhoz.</span><span class="sxs-lookup"><span data-stu-id="ee1d8-178">However, just like apps running on the public multi-tenant service, developers can also configure custom host names for individual apps, and then configure unique SNI SSL certificate bindings for individual apps.</span></span>  

## <a name="getting-started"></a><span data-ttu-id="ee1d8-179">Bevezetés</span><span class="sxs-lookup"><span data-stu-id="ee1d8-179">Getting started</span></span>
<span data-ttu-id="ee1d8-180">App Service Environment-környezetek megkezdéséhez, lásd: [App Service Environment bemutatása](app-service-app-service-environment-intro.md)</span><span class="sxs-lookup"><span data-stu-id="ee1d8-180">To get started with App Service Environments, see [Introduction to App Service Environment](app-service-app-service-environment-intro.md)</span></span>

<span data-ttu-id="ee1d8-181">Összes cikket, és hogyan-a következőre az App Service Environment-környezetek érhetők el a [alkalmazásszolgáltatási környezetek – fontos fájl](../app-service/app-service-app-service-environments-readme.md).</span><span class="sxs-lookup"><span data-stu-id="ee1d8-181">All articles and How-To's for App Service Environments are available in the [README for Application Service Environments](../app-service/app-service-app-service-environments-readme.md).</span></span>

[!INCLUDE [app-service-web-whats-changed](../../includes/app-service-web-whats-changed.md)]

[!INCLUDE [app-service-web-try-app-service](../../includes/app-service-web-try-app-service.md)]

<!-- LINKS -->
[quickstartilbasecreate]: https://azure.microsoft.com/documentation/templates/201-web-app-ase-ilb-create/
[examplebase64encoding]: http://powershellscripts.blogspot.com/2007/02/base64-encode-file.html 
[configuringDefaultSSLCertificate]: https://azure.microsoft.com/documentation/templates/201-web-app-ase-ilb-configure-default-ssl/ 

