---
title: "Kiosztását és telepítését mikroszolgáltatások kiszámítható módon tudja az Azure-ban"
description: "Útmutató az Azure App Service egy egységként és kiszámítható módon JSON erőforrás csoport sablonok és a PowerShell-parancsprogramok használatával mikroszolgáltatások álló alkalmazás központi telepítése."
services: app-service
documentationcenter: 
author: cephalin
manager: erikre
editor: jimbe
ms.assetid: bb51e565-e462-4c60-929a-2ff90121f41d
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/06/2016
ms.author: cephalin
ms.openlocfilehash: 844f42e61ba443a4b74a52f622113e87a7781913
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 07/11/2017
---
# <a name="provision-and-deploy-microservices-predictably-in-azure"></a><span data-ttu-id="4b15b-103">Kiosztását és telepítését mikroszolgáltatások kiszámítható módon tudja az Azure-ban</span><span class="sxs-lookup"><span data-stu-id="4b15b-103">Provision and deploy microservices predictably in Azure</span></span>
<span data-ttu-id="4b15b-104">Ez az oktatóanyag bemutatja, hogyan kiosztását és telepítését, az alkalmazás összetevői [mikroszolgáltatások](https://en.wikipedia.org/wiki/Microservices) a [Azure App Service](/services/app-service/) egyetlen egységként és kiszámítható módon JSON erőforrás csoport sablonok és a PowerShell-parancsfájlok használatával.</span><span class="sxs-lookup"><span data-stu-id="4b15b-104">This tutorial shows how to provision and deploy an application composed of [microservices](https://en.wikipedia.org/wiki/Microservices) in [Azure App Service](/services/app-service/) as a single unit and in a predictable manner using JSON resource group templates and PowerShell scripting.</span></span> 

<span data-ttu-id="4b15b-105">Kiépítés és magas szintű alkalmazásokat, amelyek álló magas le mikroszolgáltatások, ismételhetőség és kiszámíthatóságot fontosságúak sikeres.</span><span class="sxs-lookup"><span data-stu-id="4b15b-105">When provisioning and deploying high-scale applications that are composed of highly decoupled microservices, repeatability and predictability are crucial to success.</span></span> <span data-ttu-id="4b15b-106">[Az Azure App Service](/services/app-service/) lehetővé teszi a webalkalmazások, mobilalkalmazások, az API apps és a logic apps tartalmazó mikroszolgáltatások létrehozására.</span><span class="sxs-lookup"><span data-stu-id="4b15b-106">[Azure App Service](/services/app-service/) enables you to create microservices that include web apps, mobile apps, API apps, and logic apps.</span></span> <span data-ttu-id="4b15b-107">[Az Azure Resource Manager](../azure-resource-manager/resource-group-overview.md) lehetővé teszi a mikroszolgáltatások kezelése egységként, például az adatbázis erőforrás-függőségek együtt, és a forrás-vezérlési beállításokkal.</span><span class="sxs-lookup"><span data-stu-id="4b15b-107">[Azure Resource Manager](../azure-resource-manager/resource-group-overview.md) enables you to manage all the microservices as a unit, together with resource dependencies such as database and source control settings.</span></span> <span data-ttu-id="4b15b-108">Most ilyen alkalmazás JSON sablonok és egyszerű PowerShell-parancsfájlok használatával is telepítheti.</span><span class="sxs-lookup"><span data-stu-id="4b15b-108">Now, you can also deploy such an application using JSON templates and simple PowerShell scripting.</span></span> 

[!INCLUDE [app-service-web-to-api-and-mobile](../../includes/app-service-web-to-api-and-mobile.md)]

## <a name="what-you-will-do"></a><span data-ttu-id="4b15b-109">Mit fog</span><span class="sxs-lookup"><span data-stu-id="4b15b-109">What you will do</span></span>
<span data-ttu-id="4b15b-110">Az oktatóanyagban a, amely tartalmazza az alkalmazás központi telepítése:</span><span class="sxs-lookup"><span data-stu-id="4b15b-110">In the tutorial, you will deploy an application that includes:</span></span>

* <span data-ttu-id="4b15b-111">Két webes alkalmazások (pl. két mikroszolgáltatások)</span><span class="sxs-lookup"><span data-stu-id="4b15b-111">Two web apps (i.e. two microservices)</span></span>
* <span data-ttu-id="4b15b-112">A háttérrendszer SQL-adatbázis</span><span class="sxs-lookup"><span data-stu-id="4b15b-112">A backend SQL Database</span></span>
* <span data-ttu-id="4b15b-113">Alkalmazásbeállítások kapcsolati karakterláncok és adatforrás-vezérlő</span><span class="sxs-lookup"><span data-stu-id="4b15b-113">App settings, connection strings, and source control</span></span>
* <span data-ttu-id="4b15b-114">Az Application insights, riasztások, automatikus skálázás beállításai</span><span class="sxs-lookup"><span data-stu-id="4b15b-114">Application insights, alerts, autoscaling settings</span></span>

## <a name="tools-you-will-use"></a><span data-ttu-id="4b15b-115">Eszközök fogja használni</span><span class="sxs-lookup"><span data-stu-id="4b15b-115">Tools you will use</span></span>
<span data-ttu-id="4b15b-116">Ebben az oktatóanyagban a következő eszközöket fogja használni.</span><span class="sxs-lookup"><span data-stu-id="4b15b-116">In this tutorial, you will use the following tools.</span></span> <span data-ttu-id="4b15b-117">Mivel ez nem az eszközök átfogó leírást, fogom igazodnak-e a végpont forgatókönyv, és csak Önnek egy rövid bevezető minden, és hol találhatók további információk.</span><span class="sxs-lookup"><span data-stu-id="4b15b-117">Since it’s not comprehensive discussion on tools, I’m going to stick to the end-to-end scenario and just give you a brief intro to each, and where you can find more information on it.</span></span> 

### <a name="azure-resource-manager-templates-json"></a><span data-ttu-id="4b15b-118">Az Azure Resource Manager-sablonokat (JSON)</span><span class="sxs-lookup"><span data-stu-id="4b15b-118">Azure Resource Manager templates (JSON)</span></span>
<span data-ttu-id="4b15b-119">Minden alkalommal, amikor a webalkalmazás létrehozása az Azure App Service-ben, például Azure Resource Manager használ a JSON-sablon létrehozásához a teljes erőforráscsoport az összetevő-erőforrások.</span><span class="sxs-lookup"><span data-stu-id="4b15b-119">Every time you create a web app in Azure App Service, for example, Azure Resource Manager uses a JSON template to create the entire resource group with the component resources.</span></span> <span data-ttu-id="4b15b-120">Egy összetett sablon, a [Azure piactér](/marketplace) hasonlóan a [méretezhető WordPress](/marketplace/partners/wordpress/scalablewordpress/) app lehetnek a MySQL-adatbázis, storage-fiókok, az App Service-csomag, a webes alkalmazás maga, a riasztási szabályok, beállítások, automatikus skálázási beállításokat, és több, és ezek a sablonok Powershellen keresztül rendelkezésre álló.</span><span class="sxs-lookup"><span data-stu-id="4b15b-120">A complex template from the [Azure Marketplace](/marketplace) like the [Scalable WordPress](/marketplace/partners/wordpress/scalablewordpress/) app can include the MySQL database, storage accounts, the App Service plan, the web app itself, alert rules, app settings, autoscale settings, and more, and all these templates are available to you through PowerShell.</span></span> <span data-ttu-id="4b15b-121">További információkért töltse le és használja ezeket a sablonokat: [az Azure PowerShell használata Azure Resource Managerrel](../powershell-azure-resource-manager.md).</span><span class="sxs-lookup"><span data-stu-id="4b15b-121">For information on how to download and use these templates, see [Using Azure PowerShell with Azure Resource Manager](../powershell-azure-resource-manager.md).</span></span>

<span data-ttu-id="4b15b-122">Az Azure Resource Manager-sablonok további információkért lásd: [Azure Resource Manager sablonok készítése](../azure-resource-manager/resource-group-authoring-templates.md)</span><span class="sxs-lookup"><span data-stu-id="4b15b-122">For more information on the Azure Resource Manager templates, see [Authoring Azure Resource Manager Templates](../azure-resource-manager/resource-group-authoring-templates.md)</span></span>

### <a name="azure-sdk-26-for-visual-studio"></a><span data-ttu-id="4b15b-123">Az Azure SDK 2.6 Visual Studio</span><span class="sxs-lookup"><span data-stu-id="4b15b-123">Azure SDK 2.6 for Visual Studio</span></span>
<span data-ttu-id="4b15b-124">A legújabb SDK tartalmazza a Resource Manager sablon támogatja a JSON-szerkesztőben fejlesztései.</span><span class="sxs-lookup"><span data-stu-id="4b15b-124">The newest SDK contains improvements to the Resource Manager template support in the JSON editor.</span></span> <span data-ttu-id="4b15b-125">Ennek használatával gyorsan hozzon létre egy erőforrás-sablon a teljesen, vagy nyisson meg egy meglévő JSON-sablon (például egy gyűjtemény letöltött sablon) módosításra, a paraméterek fájl feltöltéséhez, és az erőforráscsoport közvetlenül egy Azure-erőforráscsoport megoldás még akkor is telepíteni.</span><span class="sxs-lookup"><span data-stu-id="4b15b-125">You can use this to quickly create a resource group template from scratch or open an existing JSON template (such as a downloaded gallery template) for modification, populate the parameters file, and even deploy the resource group directly from an Azure Resource Group solution.</span></span>

<span data-ttu-id="4b15b-126">További információkért lásd: [Azure SDK 2.6 a Visual Studio](https://azure.microsoft.com/blog/2015/04/29/announcing-the-azure-sdk-2-6-for-net/).</span><span class="sxs-lookup"><span data-stu-id="4b15b-126">For more information, see [Azure SDK 2.6 for Visual Studio](https://azure.microsoft.com/blog/2015/04/29/announcing-the-azure-sdk-2-6-for-net/).</span></span>

### <a name="azure-powershell-080-or-later"></a><span data-ttu-id="4b15b-127">Az Azure PowerShell 0.8.0 vagy újabb verzió</span><span class="sxs-lookup"><span data-stu-id="4b15b-127">Azure PowerShell 0.8.0 or later</span></span>
<span data-ttu-id="4b15b-128">0.8.0 verziójától kezdve az Azure PowerShell telepítése az Azure Resource Manager modul mellett az Azure-moduljának tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="4b15b-128">Beginning in version 0.8.0, the Azure PowerShell installation includes the Azure Resource Manager module in addition to the Azure module.</span></span> <span data-ttu-id="4b15b-129">Ez a modul parancsfájllal történő lehetővé teszi az erőforráscsoportok telepítését.</span><span class="sxs-lookup"><span data-stu-id="4b15b-129">This new module enables you to script the deployment of resource groups.</span></span>

<span data-ttu-id="4b15b-130">További információkért lásd: [az Azure PowerShell használata Azure Resource Managerrel](../powershell-azure-resource-manager.md)</span><span class="sxs-lookup"><span data-stu-id="4b15b-130">For more information, see [Using Azure PowerShell with Azure Resource Manager](../powershell-azure-resource-manager.md)</span></span>

### <a name="azure-resource-explorer"></a><span data-ttu-id="4b15b-131">Azure Resource Explorer</span><span class="sxs-lookup"><span data-stu-id="4b15b-131">Azure Resource Explorer</span></span>
<span data-ttu-id="4b15b-132">Ez [preview eszköz](https://resources.azure.com) lehetővé teszi a JSON-definíciókat az előfizetését és az egyes erőforrások erőforráscsoportok vizsgálatát.</span><span class="sxs-lookup"><span data-stu-id="4b15b-132">This [preview tool](https://resources.azure.com) enables you to explore the JSON definitions of all the resource groups in your subscription and the individual resources.</span></span> <span data-ttu-id="4b15b-133">Az eszköz szerkessze a JSON-definíciók egy erőforrást, az egész hierarchiát erőforrások törlése és létrehozni az új erőforrásokat.</span><span class="sxs-lookup"><span data-stu-id="4b15b-133">In the tool, you can edit the JSON definitions of a resource, delete an entire hierarchy of resources, and create new resources.</span></span>  <span data-ttu-id="4b15b-134">Ez az eszköz könnyen elérhető információkat nagyon hasznos sablon létrehozásához, mert jeleníti meg, milyen tulajdonságok, meg kell adnia egy adott típusú erőforrás, a helyes az értékük, stb. Az erőforráscsoport a is létrehozhat a [Azure Portal](https://portal.azure.com/), majd vizsgálja meg a JSON-definíciói segítséget nyújtanak az erőforráscsoport templatize explorer eszközben.</span><span class="sxs-lookup"><span data-stu-id="4b15b-134">The information readily available in this tool is very helpful for template authoring because it shows you what properties you need to set for a particular type of resource, the correct values, etc. You can even create your resource group in the [Azure Portal](https://portal.azure.com/), then inspect its JSON definitions in the explorer tool to help you templatize the resource group.</span></span>

### <a name="deploy-to-azure-button"></a><span data-ttu-id="4b15b-135">Telepítse az Azure gomb</span><span class="sxs-lookup"><span data-stu-id="4b15b-135">Deploy to Azure button</span></span>
<span data-ttu-id="4b15b-136">Ha GitHub a verziókövetési rendszerrel használja, akkor lehet helyezni egy [az Azure gomb telepítéséhez](https://azure.microsoft.com/blog/2014/11/13/deploy-to-azure-button-for-azure-websites-2/) azokat a fontos. MD, amely lehetővé teszi a kulcsrakész központi telepítés felhasználói felület az Azure-bA.</span><span class="sxs-lookup"><span data-stu-id="4b15b-136">If you use GitHub for source control, you can put a [Deploy to Azure button](https://azure.microsoft.com/blog/2014/11/13/deploy-to-azure-button-for-azure-websites-2/) into your README.MD, which enables a turn-key deployment UI to Azure.</span></span> <span data-ttu-id="4b15b-137">Ehhez minden egyszerű webalkalmazás, amíg egy teljes erőforráscsoport telepítése egy azuredeploy.json fájlt az adattár gyökérkönyvtárában elhelyezett engedélyezheti bővítheti.</span><span class="sxs-lookup"><span data-stu-id="4b15b-137">While you can do this for any simple web app, you can extend this to enable deploying an entire resource group by putting an azuredeploy.json file in the repository root.</span></span> <span data-ttu-id="4b15b-138">A JSON-fájl, amely tartalmazza az erőforrás-csoport sablon, használják az Azure gomb telepítéséhez az erőforráscsoport létrehozásához.</span><span class="sxs-lookup"><span data-stu-id="4b15b-138">This JSON file, which contains the resource group template, will be used by the Deploy to Azure button to create the resource group.</span></span> <span data-ttu-id="4b15b-139">Egy vonatkozó példáért lásd: a [ToDoApp](https://github.com/azure-appservice-samples/ToDoApp) mintát, amely ebben az oktatóanyagban használhatja.</span><span class="sxs-lookup"><span data-stu-id="4b15b-139">For an example, see the [ToDoApp](https://github.com/azure-appservice-samples/ToDoApp) sample, which you will use in this tutorial.</span></span>

## <a name="get-the-sample-resource-group-template"></a><span data-ttu-id="4b15b-140">A minta erőforrás csoport sablon</span><span class="sxs-lookup"><span data-stu-id="4b15b-140">Get the sample resource group template</span></span>
<span data-ttu-id="4b15b-141">Most folytassuk a jobb oldali rá.</span><span class="sxs-lookup"><span data-stu-id="4b15b-141">So now let’s get right to it.</span></span>

1. <span data-ttu-id="4b15b-142">Keresse meg a [ToDoApp](https://github.com/azure-appservice-samples/ToDoApp) App Service-mintát.</span><span class="sxs-lookup"><span data-stu-id="4b15b-142">Navigate to the [ToDoApp](https://github.com/azure-appservice-samples/ToDoApp) App Service sample.</span></span>
2. <span data-ttu-id="4b15b-143">A readme.md, kattintson **az Azure telepítéséhez**.</span><span class="sxs-lookup"><span data-stu-id="4b15b-143">In readme.md, click **Deploy to Azure**.</span></span>
3. <span data-ttu-id="4b15b-144">Meg van-e a [telepítése-a-azure](https://deploy.azure.com) helyről, és kéri a felhasználótól, üzembe helyezéshez megadott paraméterek.</span><span class="sxs-lookup"><span data-stu-id="4b15b-144">You’re taken to the [deploy-to-azure](https://deploy.azure.com) site and asked to input deployment parameters.</span></span> <span data-ttu-id="4b15b-145">Figyelje meg, hogy a mezők meg a tárház nevét és az egyes véletlenszerű karakterláncokat feltöltött.</span><span class="sxs-lookup"><span data-stu-id="4b15b-145">Notice that most of the fields are populated with the repository name and some random strings for you.</span></span> <span data-ttu-id="4b15b-146">Ha azt szeretné, de a csak dolog, meg kell adni az SQL Server-rendszergazdai bejelentkezés és a jelszót, majd kattintson a mezők módosíthatja **következő**.</span><span class="sxs-lookup"><span data-stu-id="4b15b-146">You can change all the fields if you want, but the only things you have to enter are the SQL Server administrative login and the password, then click **Next**.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/gettemplate-1-deploybuttonui.png)
4. <span data-ttu-id="4b15b-147">Ezután kattintson **telepítés** a telepítés megkezdéséhez.</span><span class="sxs-lookup"><span data-stu-id="4b15b-147">Next, click **Deploy** to start the deployment process.</span></span> <span data-ttu-id="4b15b-148">Ha a folyamat befejezését fut, kattintson a http://todoapp*XXXX*. azurewebsites.net hivatkozás a telepített alkalmazás tallózással.</span><span class="sxs-lookup"><span data-stu-id="4b15b-148">Once the process runs to completion, click the http://todoapp*XXXX*.azurewebsites.net link to browse the deployed application.</span></span> 
   
   ![](./media/app-service-deploy-complex-application-predictably/gettemplate-2-deployprogress.png)
   
   <span data-ttu-id="4b15b-149">A felhasználói felületen szeretné kissé lassú lehet, amikor először megnyitja a, mert az alkalmazások csak indítása, de meggyőzni a felhasználót saját kezűleg, hogy a rendszer egy teljesen működőképes alkalmazást.</span><span class="sxs-lookup"><span data-stu-id="4b15b-149">The UI would be a little slow when you first browse to it because the apps are just starting up, but convince yourself that it’s a fully-functional application.</span></span>
5. <span data-ttu-id="4b15b-150">A telepítés lapon kattintson a **kezelése** hivatkozásra kattintva megtekintheti az új alkalmazás az Azure portálon.</span><span class="sxs-lookup"><span data-stu-id="4b15b-150">Back in the Deploy page, click the **Manage** link to see the new application in the Azure Portal.</span></span>
6. <span data-ttu-id="4b15b-151">Az a **Essentials** legördülő menüben kattintson az erőforrás-csoport hivatkozásra.</span><span class="sxs-lookup"><span data-stu-id="4b15b-151">In the **Essentials** dropdown, click the resource group link.</span></span> <span data-ttu-id="4b15b-152">Ügyeljen arra is, hogy a webalkalmazás már kapcsolódik a GitHub-tárházban alatt **külső projekt**.</span><span class="sxs-lookup"><span data-stu-id="4b15b-152">Note also that the web app is already connected to the GitHub repository under **External Project**.</span></span> 
   
   ![](./media/app-service-deploy-complex-application-predictably/gettemplate-3-portalresourcegroup.png)
7. <span data-ttu-id="4b15b-153">Az erőforráscsoport panelen jegyezze fel, hogy nincsenek már két webes alkalmazások és az erőforráscsoport egy SQL-adatbázis.</span><span class="sxs-lookup"><span data-stu-id="4b15b-153">In the resource group blade, note that there are already two web apps and one SQL Database in the resource group.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/gettemplate-4-portalresourcegroupclicked.png)

<span data-ttu-id="4b15b-154">Minden, ami az imént látott néhány rövid percben egy teljes körűen rendszerbe állított két-mikroszolgáltatási alkalmazást, az összes összetevőt, függőségek, beállítások, adatbázis, és folyamatos közzétételét, a beállítási egy automatizált vezénylési az Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="4b15b-154">Everything that you just saw in a few short minutes is a fully deployed two-microservice application, with all the components, dependencies, settings, database, and continuous publishing, set up by an automated orchestration in Azure Resource Manager.</span></span> <span data-ttu-id="4b15b-155">Összes Ez két dolgot végezhető el:</span><span class="sxs-lookup"><span data-stu-id="4b15b-155">All this was done by two things:</span></span>

* <span data-ttu-id="4b15b-156">Az Azure gomb telepítéséhez</span><span class="sxs-lookup"><span data-stu-id="4b15b-156">The Deploy to Azure button</span></span>
* <span data-ttu-id="4b15b-157">a tárház gyökérkönyvtárában azuredeploy.JSON</span><span class="sxs-lookup"><span data-stu-id="4b15b-157">azuredeploy.json in the repo root</span></span>

<span data-ttu-id="4b15b-158">Ez az alkalmazás telepítése több tíz, száz vagy ezer hányszor és minden alkalommal pontos megegyező konfigurációval rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="4b15b-158">You can deploy this same application tens, hundreds, or thousands of times and have the exact same configuration every time.</span></span> <span data-ttu-id="4b15b-159">Az ismételhetőség és a hátránya kiszámíthatóságot lehetővé teszi nagy méretű alkalmazások központi telepítése az egyszerű és az vetett bizalmat.</span><span class="sxs-lookup"><span data-stu-id="4b15b-159">The repeatability and the predictability of this approach enables you to deploy high-scale applications with ease and confidence.</span></span>

## <a name="examine-or-edit-azuredeployjson"></a><span data-ttu-id="4b15b-160">Vizsgálja meg (vagy szerkesztése) AZUREDEPLOY. JSON-BAN</span><span class="sxs-lookup"><span data-stu-id="4b15b-160">Examine (or edit) AZUREDEPLOY.JSON</span></span>
<span data-ttu-id="4b15b-161">Most nézzük hogyan a GitHub-tárházban be lett állítva.</span><span class="sxs-lookup"><span data-stu-id="4b15b-161">Now let’s look at how the GitHub repository was set up.</span></span> <span data-ttu-id="4b15b-162">Az Azure .NET SDK-ban a JSON-szerkesztő használ, ha még nem telepítette a [Azure .NET SDK 2.6](/downloads/), most megtenni.</span><span class="sxs-lookup"><span data-stu-id="4b15b-162">You will be using the JSON editor in the Azure .NET SDK, so if you haven’t already installed [Azure .NET SDK 2.6](/downloads/), do it now.</span></span>

1. <span data-ttu-id="4b15b-163">Klónozott a [ToDoApp](https://github.com/azure-appservice-samples/ToDoApp) tárházat a kedvenc git eszköz használatával.</span><span class="sxs-lookup"><span data-stu-id="4b15b-163">Clone the [ToDoApp](https://github.com/azure-appservice-samples/ToDoApp) repository using your favorite git tool.</span></span> <span data-ttu-id="4b15b-164">Az alábbi képernyőképen I vagyok ezzel a csapat Explorerben a Visual Studio 2013.</span><span class="sxs-lookup"><span data-stu-id="4b15b-164">In the screenshot below, I’m doing this in the Team Explorer in Visual Studio 2013.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/examinejson-1-vsclone.png)
2. <span data-ttu-id="4b15b-165">Az adattár gyökérkönyvtárában nyissa meg a Visual Studio azuredeploy.json.</span><span class="sxs-lookup"><span data-stu-id="4b15b-165">From the repository root, open azuredeploy.json in Visual Studio.</span></span> <span data-ttu-id="4b15b-166">Ha nem látható a JSON-vázlat ablak, Azure .NET SDK-t telepíteni szeretné.</span><span class="sxs-lookup"><span data-stu-id="4b15b-166">If you don’t see the JSON Outline pane, you need to install Azure .NET SDK.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/examinejson-2-vsjsoneditor.png)

<span data-ttu-id="4b15b-167">Nem fogom JSON formátumban minden részletét leírására, de a [több erőforrások](#resources) szakasz az erőforrás csoport sablon nyelv tanulási mutató hivatkozásokat tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="4b15b-167">I’m not going to describe every detail of the JSON format, but the [More Resources](#resources) section has links for learning the resource group template language.</span></span> <span data-ttu-id="4b15b-168">Itt csak kattintok mutatjuk be, melyek segíthetnek az érdekes szolgáltatások érdekében, hogy saját egyéni sablon az alkalmazások telepítésének első lépései.</span><span class="sxs-lookup"><span data-stu-id="4b15b-168">Here, I’m just going to show you the interesting features that can help you get started in making your own custom template for app deployment.</span></span>

### <a name="parameters"></a><span data-ttu-id="4b15b-169">Paraméterek</span><span class="sxs-lookup"><span data-stu-id="4b15b-169">Parameters</span></span>
<span data-ttu-id="4b15b-170">Tekintse meg a Paraméterek szakaszban, hogy ezek a paraméterek a legtöbb Mi a **az Azure telepítéséhez** gomb kéri a felhasználótól.</span><span class="sxs-lookup"><span data-stu-id="4b15b-170">Take a look at the parameters section to see that most of these parameters are what the **Deploy to Azure** button prompts you to input.</span></span> <span data-ttu-id="4b15b-171">A hely mögött a **az Azure telepítéséhez** gomb tölti fel a bemeneti felhasználói felület azuredeploy.json definiált paraméterek használatával.</span><span class="sxs-lookup"><span data-stu-id="4b15b-171">The site behind the **Deploy to Azure** button populates the input UI using the parameters defined in azuredeploy.json.</span></span> <span data-ttu-id="4b15b-172">Ezek a paraméterek kifejezés egyaránt használatban az erőforrás-definíciókban, például erőforrásnevek, tulajdonságértékek stb.</span><span class="sxs-lookup"><span data-stu-id="4b15b-172">These parameters are used throughout the resource definitions, such as resource names, property values, etc.</span></span>

### <a name="resources"></a><span data-ttu-id="4b15b-173">Erőforrások</span><span class="sxs-lookup"><span data-stu-id="4b15b-173">Resources</span></span>
<span data-ttu-id="4b15b-174">Az erőforrások csomópontjában tekintheti meg, hogy 4 legfelső szintű erőforrások vannak megadva, például egy SQL Server-példányt, az App Service-csomag és két webalkalmazások.</span><span class="sxs-lookup"><span data-stu-id="4b15b-174">In the resources node, you can see that 4 top-level resources are defined, including a SQL Server instance, an App Service plan, and two web apps.</span></span> 

#### <a name="app-service-plan"></a><span data-ttu-id="4b15b-175">App Service-csomag</span><span class="sxs-lookup"><span data-stu-id="4b15b-175">App Service plan</span></span>
<span data-ttu-id="4b15b-176">Kezdjük a JSON egyszerű gyökér szintű az erőforráshoz.</span><span class="sxs-lookup"><span data-stu-id="4b15b-176">Let’s start with a simple root-level resource in the JSON.</span></span> <span data-ttu-id="4b15b-177">A JSON-vázlat, kattintson az App Service-csomag nevű **[hostingPlanName]** jelölje ki a megfelelő JSON-kódot.</span><span class="sxs-lookup"><span data-stu-id="4b15b-177">In the JSON Outline, click the App Service plan named **[hostingPlanName]** to highlight the corresponding JSON code.</span></span> 

![](./media/app-service-deploy-complex-application-predictably/examinejson-3-appserviceplan.png)

<span data-ttu-id="4b15b-178">Vegye figyelembe, hogy a `type` elem meghatározza azt a karakterláncot, az App Service-csomagot (meghívta a kiszolgálófarm egy hosszú, hosszú idő telt el), és más elemek és tulajdonságok kitölti a JSON-fájlban definiált paraméterek használatával, és ehhez az erőforráshoz nincsenek beágyazott erőforrásai.</span><span class="sxs-lookup"><span data-stu-id="4b15b-178">Note that the `type` element specifies the string for an App Service plan (it was called a server farm a long, long time ago), and other elements and properties are filled in using the parameters defined in the JSON file, and this resource doesn’t have any nested resources.</span></span>

> [!NOTE]
> <span data-ttu-id="4b15b-179">Azt is fontos megjegyezni, hogy értékének `apiVersion` közli az Azure melyik verzióját a REST API-t használja a JSON az erőforrás-definícióban, és hatással lehet a módját a erőforrás kell formázni belül a `{}`.</span><span class="sxs-lookup"><span data-stu-id="4b15b-179">Note also that the value of `apiVersion` tells Azure which version of the REST API to use the JSON resource definition with, and it can affect how the resource should be formatted inside the `{}`.</span></span> 
> 
> 

#### <a name="sql-server"></a><span data-ttu-id="4b15b-180">SQL Server</span><span class="sxs-lookup"><span data-stu-id="4b15b-180">SQL Server</span></span>
<span data-ttu-id="4b15b-181">Ezután kattintson az SQL Server erőforrás-nevű **SQLServer** a JSON-Vázlat.</span><span class="sxs-lookup"><span data-stu-id="4b15b-181">Next, click on the SQL Server resource named **SQLServer** in the JSON Outline.</span></span>

![](./media/app-service-deploy-complex-application-predictably/examinejson-4-sqlserver.png)

<span data-ttu-id="4b15b-182">A kiemelt JSON-kódot kapcsolatos megjegyzések:</span><span class="sxs-lookup"><span data-stu-id="4b15b-182">Note the following about the highlighted JSON code:</span></span>

* <span data-ttu-id="4b15b-183">Paraméterek használata azt biztosítja, hogy a létrehozott erőforrások neve, konfigurálható úgy, hogy egymással konzisztenssé teszi őket.</span><span class="sxs-lookup"><span data-stu-id="4b15b-183">The use of parameters ensures that the created resources are named and configured in a way that makes them consistent with one another.</span></span>
* <span data-ttu-id="4b15b-184">Az SQL Server erőforrás két beágyazott erőforrások, akkor mindegyik rendelkezik-e meg más értéket `type`.</span><span class="sxs-lookup"><span data-stu-id="4b15b-184">The SQLServer resource has two nested resources, each has a different value for `type`.</span></span>
* <span data-ttu-id="4b15b-185">A beágyazott erőforrások belül `“resources”: […]`, ahol definiálva vannak az adatbázis és a tűzfalszabályokat, hogy egy `dependsOn` elem, amely meghatározza az erőforrás-azonosítója a gyökér szintű SQLServer erőforrás.</span><span class="sxs-lookup"><span data-stu-id="4b15b-185">The nested resources inside `“resources”: […]`, where the database and the firewall rules are defined, have a `dependsOn` element that specifies the resource ID of the root-level SQLServer resource.</span></span> <span data-ttu-id="4b15b-186">Ez alapján Azure Resource Manager "ehhez az erőforráshoz, amely már léteznie kell, más erőforrás; létrehozása előtt Ha más erőforrás van definiálva a sablonban, majd hozza létre, hogy egy először".</span><span class="sxs-lookup"><span data-stu-id="4b15b-186">This tells Azure Resource Manager, “before you create this resource, that other resource must already exist; and if that other resource is defined in the template, then create that one first”.</span></span>
  
  > [!NOTE]
  > <span data-ttu-id="4b15b-187">Részletes információk használatáról a `resourceId()` működik, lásd: [Azure Resource Manager Sablonfüggvényei](../azure-resource-manager/resource-group-template-functions-resource.md#resourceid).</span><span class="sxs-lookup"><span data-stu-id="4b15b-187">For detailed information on how to use the `resourceId()` function, see [Azure Resource Manager Template Functions](../azure-resource-manager/resource-group-template-functions-resource.md#resourceid).</span></span>
  > 
  > 
* <span data-ttu-id="4b15b-188">A hatását, hogy a `dependsOn` elem, hogy Azure Resource Manager tudhatja, mely erőforrásokat párhuzamosan lehet létrehozni és erőforrások egymás után létre kell hozni.</span><span class="sxs-lookup"><span data-stu-id="4b15b-188">The effect of the `dependsOn` element is that Azure Resource Manager can know which resources can be created in parallel and which resources must be created sequentially.</span></span> 

#### <a name="web-app"></a><span data-ttu-id="4b15b-189">Webalkalmazás</span><span class="sxs-lookup"><span data-stu-id="4b15b-189">Web app</span></span>
<span data-ttu-id="4b15b-190">Most tegyük lépjen tovább a tényleges webes alkalmazásokat, amelyek bonyolultabb.</span><span class="sxs-lookup"><span data-stu-id="4b15b-190">Now, let’s move on to the actual web apps themselves, which are more complicated.</span></span> <span data-ttu-id="4b15b-191">Kattintson a [variables('apiSiteName')] webalkalmazás a JSON-vázlat jelölje ki a JSON-kódot.</span><span class="sxs-lookup"><span data-stu-id="4b15b-191">Click the [variables(‘apiSiteName’)] web app in the JSON Outline to highlight its JSON code.</span></span> <span data-ttu-id="4b15b-192">Láthatja, hogy dolgot első sokkal ennél is érdekesebb megoldást.</span><span class="sxs-lookup"><span data-stu-id="4b15b-192">You’ll notice that things are getting much more interesting.</span></span> <span data-ttu-id="4b15b-193">Erre a célra I fog kommunikálni egyenként szolgáltatásairól:</span><span class="sxs-lookup"><span data-stu-id="4b15b-193">For this purpose, I’ll talk about the features one by one:</span></span>

##### <a name="root-resource"></a><span data-ttu-id="4b15b-194">Legfelső szintű erőforrás</span><span class="sxs-lookup"><span data-stu-id="4b15b-194">Root resource</span></span>
<span data-ttu-id="4b15b-195">A webalkalmazás két különböző erőforrások függ.</span><span class="sxs-lookup"><span data-stu-id="4b15b-195">The web app depends on two different resources.</span></span> <span data-ttu-id="4b15b-196">Ez azt jelenti, hogy az Azure Resource Manager a webalkalmazás létrehozása, csak az App Service-csomag, mind az SQL Server-példány létrehozása után.</span><span class="sxs-lookup"><span data-stu-id="4b15b-196">This means that Azure Resource Manager will create the web app only after both the App Service plan and the SQL Server instance are created.</span></span>

![](./media/app-service-deploy-complex-application-predictably/examinejson-5-webapproot.png)

##### <a name="app-settings"></a><span data-ttu-id="4b15b-197">Alkalmazásbeállítások</span><span class="sxs-lookup"><span data-stu-id="4b15b-197">App settings</span></span>
<span data-ttu-id="4b15b-198">Az alkalmazás beállításait is meg van határozva egy beágyazott erőforrásként.</span><span class="sxs-lookup"><span data-stu-id="4b15b-198">The app settings are also defined as a nested resource.</span></span>

![](./media/app-service-deploy-complex-application-predictably/examinejson-6-webappsettings.png)

<span data-ttu-id="4b15b-199">Az a `properties` eleme `config/appsettings`, két Alkalmazásbeállítások formátumban van `“<name>” : “<value>”`.</span><span class="sxs-lookup"><span data-stu-id="4b15b-199">In the `properties` element for `config/appsettings`, you have two app settings in the format `“<name>” : “<value>”`.</span></span>

* <span data-ttu-id="4b15b-200">`PROJECT`van egy [KUDU beállítás](https://github.com/projectkudu/kudu/wiki/Customizing-deployments) , amely közli az Azure-telepítés mely projektek több projektet a Visual Studio-megoldásban.</span><span class="sxs-lookup"><span data-stu-id="4b15b-200">`PROJECT` is a [KUDU setting](https://github.com/projectkudu/kudu/wiki/Customizing-deployments) that tells Azure deployment which project to use in a multi-project Visual Studio solution.</span></span> <span data-ttu-id="4b15b-201">I bemutatja, hogyan később verziókezelő van konfigurálva, de mivel a ToDoApp kód több projektet a Visual Studio-megoldásban, igazolnia kell-e ezt a beállítást.</span><span class="sxs-lookup"><span data-stu-id="4b15b-201">I will show you later how source control is configured, but since the ToDoApp code is in a multi-project Visual Studio solution, we need this setting.</span></span>
* <span data-ttu-id="4b15b-202">`clientUrl`rendszer egyszerűen egy beállítás, amely az alkalmazáskódban alkalmazás használ.</span><span class="sxs-lookup"><span data-stu-id="4b15b-202">`clientUrl` is simply an app setting that the application code uses.</span></span>

##### <a name="connection-strings"></a><span data-ttu-id="4b15b-203">Kapcsolati karakterláncok</span><span class="sxs-lookup"><span data-stu-id="4b15b-203">Connection strings</span></span>
<span data-ttu-id="4b15b-204">A kapcsolati karakterláncok egy beágyazott erőforrást is vannak meghatározva.</span><span class="sxs-lookup"><span data-stu-id="4b15b-204">The connection strings are also defined as a nested resource.</span></span>

![](./media/app-service-deploy-complex-application-predictably/examinejson-7-webappconnstr.png)

<span data-ttu-id="4b15b-205">Az a `properties` eleme `config/connectionstrings`, minden egyes kapcsolati karakterláncot is nevezünk név: érték pár, meghatározott formátumban `“<name>” : {“value”: “…”, “type”: “…”}`.</span><span class="sxs-lookup"><span data-stu-id="4b15b-205">In the `properties` element for `config/connectionstrings`, each connection string is also defined as a name:value pair, with the specific format of `“<name>” : {“value”: “…”, “type”: “…”}`.</span></span> <span data-ttu-id="4b15b-206">Az a `type` elem, a lehetséges értékek: `MySql`, `SQLServer`, `SQLAzure`, és `Custom`.</span><span class="sxs-lookup"><span data-stu-id="4b15b-206">For the `type` element, possible values are `MySql`, `SQLServer`, `SQLAzure`, and `Custom`.</span></span>

> [!TIP]
> <span data-ttu-id="4b15b-207">A karakterláncot kapcsolattípusokat végleges listájának megtekintéséhez futtassa a következő parancsot az Azure PowerShell: \[Enum]::GetNames("Microsoft.WindowsAzure.Commands.Utilities.Websites.Services.WebEntities.DatabaseType")</span><span class="sxs-lookup"><span data-stu-id="4b15b-207">For a definitive list of the connection string types, run the following command in Azure PowerShell: \[Enum]::GetNames("Microsoft.WindowsAzure.Commands.Utilities.Websites.Services.WebEntities.DatabaseType")</span></span>
> 
> 

##### <a name="source-control"></a><span data-ttu-id="4b15b-208">A verziókövetési rendszerrel</span><span class="sxs-lookup"><span data-stu-id="4b15b-208">Source control</span></span>
<span data-ttu-id="4b15b-209">A verziókövetési beállítások is meg van határozva egy beágyazott erőforrásként.</span><span class="sxs-lookup"><span data-stu-id="4b15b-209">The source control settings are also defined as a nested resource.</span></span> <span data-ttu-id="4b15b-210">Az Azure Resource Manager használja ezt az erőforrást folyamatos közzétételének konfigurálása (szerint tekintse meg `IsManualIntegration` később) és is indítsa a telepítés automatikusan a JSON-fájl feldolgozása során az alkalmazás kódját.</span><span class="sxs-lookup"><span data-stu-id="4b15b-210">Azure Resource Manager uses this resource to configure continuous publishing (see caveat on `IsManualIntegration` later) and also to kick off the deployment of application code automatically during the processing of the JSON file.</span></span>

![](./media/app-service-deploy-complex-application-predictably/examinejson-8-webappsourcecontrol.png)

<span data-ttu-id="4b15b-211">`RepoUrl`és `branch` közérthető intuitív kell lennie, és a Git-tárház és a közzététel az ág nevét kell mutatnia.</span><span class="sxs-lookup"><span data-stu-id="4b15b-211">`RepoUrl` and `branch` should be pretty intuitive and should point to the Git repository and the name of the branch to publish from.</span></span> <span data-ttu-id="4b15b-212">Ebben az esetben ezek határozzák meg a bemeneti paraméterek.</span><span class="sxs-lookup"><span data-stu-id="4b15b-212">Again, these are defined by input parameters.</span></span> 

<span data-ttu-id="4b15b-213">Vegye figyelembe, hogy a `dependsOn` elem, hogy a webes alkalmazás-erőforrást, mellett `sourcecontrols/web` is függ, `config/appsettings` és `config/connectionstrings`.</span><span class="sxs-lookup"><span data-stu-id="4b15b-213">Note in the `dependsOn` element that, in addition to the web app resource itself, `sourcecontrols/web` also depends on `config/appsettings` and `config/connectionstrings`.</span></span> <span data-ttu-id="4b15b-214">Ennek az az oka után `sourcecontrols/web` van konfigurálva, az Azure telepítési folyamat automatikusan megpróbálja telepíteni, elkészítéséhez és indítsa el az alkalmazás kódját.</span><span class="sxs-lookup"><span data-stu-id="4b15b-214">This is because once `sourcecontrols/web` is configured, the Azure deployment process will automatically attempt to deploy, build, and start the application code.</span></span> <span data-ttu-id="4b15b-215">Ezért a függőség beszúrása segítségével győződjön meg arról, hogy az alkalmazás fér hozzá a szükséges alkalmazás beállításait és a kapcsolati karakterláncokat az alkalmazás kódjának futtatása előtt.</span><span class="sxs-lookup"><span data-stu-id="4b15b-215">Therefore, inserting this dependency helps you make sure that the application has access to the required app settings and connection strings before the application code is run.</span></span> 

> [!NOTE]
> <span data-ttu-id="4b15b-216">Azt is fontos megjegyezni, hogy `IsManualIntegration` értéke `true`.</span><span class="sxs-lookup"><span data-stu-id="4b15b-216">Note also that `IsManualIntegration` is set to `true`.</span></span> <span data-ttu-id="4b15b-217">Ez a tulajdonság oka szükség ebben az oktatóanyagban ténylegesen nem tulajdonosa a GitHub-tárházban, és így nem ténylegesen engedélyt ad a folyamatos közzétételének konfigurálása Azure [ToDoApp](https://github.com/azure-appservice-samples/ToDoApp) (azaz</span><span class="sxs-lookup"><span data-stu-id="4b15b-217">This property is necessary in this tutorial because you do not actually own the GitHub repository, and thus cannot actually grant permission to Azure to configure continuous publishing from [ToDoApp](https://github.com/azure-appservice-samples/ToDoApp) (i.e.</span></span> <span data-ttu-id="4b15b-218">automatikus tárház frissítések továbbítása az Azure-bA).</span><span class="sxs-lookup"><span data-stu-id="4b15b-218">push automatic repository updates to Azure).</span></span> <span data-ttu-id="4b15b-219">Használhatja az alapértelmezett érték `false` csak akkor, ha konfigurálta a tulajdonos GitHub-felhasználó hitelesítő adatait a megadott tárház a [Azure-portálon](https://portal.azure.com/) előtt.</span><span class="sxs-lookup"><span data-stu-id="4b15b-219">You can use the default value `false` for the specified repository only if you have configured the owner’s GitHub credentials in the [Azure portal](https://portal.azure.com/) before.</span></span> <span data-ttu-id="4b15b-220">Ez azt jelenti Ha meg van adva verziókövetésének GitHub vagy BitBucket szereplő bármely alkalmazásra a [Azure Portal](https://portal.azure.com/) korábban, a felhasználó hitelesítő adatait, akkor Azure fogja a hitelesítő adatok megjegyzése és használata a jövőben telepít a GitHub vagy BitBucket bármely alkalmazás.</span><span class="sxs-lookup"><span data-stu-id="4b15b-220">In other words, if you have set up source control to GitHub or BitBucket for any app in the [Azure Portal](https://portal.azure.com/) previously, using your user credentials, then Azure will remember the credentials and use them whenever you deploy any app from GitHub or BitBucket in the future.</span></span> <span data-ttu-id="4b15b-221">Azonban ha ezt még nem végezte, telepítés JSON-sablon meghiúsul, ha Azure Resource Manager megpróbálja a webes alkalmazás verziókövetési beállítások konfigurálása, mert azt nem lehet bejelentkezni a GitHub vagy bitbucket szolgáltatásokkal a tárház tulajdonosát hitelesítő adatokkal.</span><span class="sxs-lookup"><span data-stu-id="4b15b-221">However, if you haven’t done this already, deployment of the JSON template will fail when Azure Resource Manager tries to configure the web app’s source control settings because it cannot log into GitHub or BitBucket with the repository owner’s credentials.</span></span>
> 
> 

## <a name="compare-the-json-template-with-deployed-resource-group"></a><span data-ttu-id="4b15b-222">A JSON-sablon üzembe helyezett erőforrás csoporttal összehasonlítása</span><span class="sxs-lookup"><span data-stu-id="4b15b-222">Compare the JSON template with deployed resource group</span></span>
<span data-ttu-id="4b15b-223">Itt, lépjen a a webes alkalmazás összes paneleken keresztül a [Azure Portal](https://portal.azure.com/), azonban egy másik eszköz, amely nincs csak, akkor hasznos, ha több.</span><span class="sxs-lookup"><span data-stu-id="4b15b-223">Here, you can go through all the web app’s blades in the [Azure Portal](https://portal.azure.com/), but there’s another tool that’s just as useful, if not more.</span></span> <span data-ttu-id="4b15b-224">Lépjen a [Azure erőforrás-kezelő](https://resources.azure.com) preview eszközt, amely lehetővé teszi az erőforráscsoportok JSON-ábrázolását előfizetése, a ténylegesen az Azure-háttérrendszernek léteznek.</span><span class="sxs-lookup"><span data-stu-id="4b15b-224">Go to the [Azure Resource Explorer](https://resources.azure.com) preview tool, which gives you a JSON representation of all the resource groups in your subscriptions, as they actually exist in the Azure backend.</span></span> <span data-ttu-id="4b15b-225">Megtekintheti, milyen az Azure-ban az erőforráscsoport JSON hierarchia megfelel-e a hierarchiában lévő a létrehozásához használt sablonfájl.</span><span class="sxs-lookup"><span data-stu-id="4b15b-225">You can also see how the resource group’s JSON hierarchy in Azure corresponds with the hierarchy in the template file that’s used to create it.</span></span>

<span data-ttu-id="4b15b-226">Például ha ugrani a [Azure erőforrás-kezelő](https://resources.azure.com) eszköz, és bontsa ki a Explorer csomópontokat, láthatom valahol az erőforráscsoport és a megfelelő erőforrástípusok szerint gyűjtött gyökér szintű erőforrások.</span><span class="sxs-lookup"><span data-stu-id="4b15b-226">For example, when I go to the [Azure Resource Explorer](https://resources.azure.com) tool and expand the nodes in the explorer, I can see the resource group and the root-level resources that are collected under their respective resource types.</span></span>

![](./media/app-service-deploy-complex-application-predictably/ARM-1-treeview.png)

<span data-ttu-id="4b15b-227">Ha a webes alkalmazás lebontva, webes alkalmazás konfigurációs adatait hasonló látni kell az alábbi képernyőfelvétel:</span><span class="sxs-lookup"><span data-stu-id="4b15b-227">If you drill down to a web app, you should be able to see web app configuration details similar to the below screenshot:</span></span>

![](./media/app-service-deploy-complex-application-predictably/ARM-2-jsonview.png)

<span data-ttu-id="4b15b-228">Ebben az esetben a beágyazott erőforrások kell rendelkeznie a nagyon hasonlít a JSON-sablon fájl a hierarchia, és az alkalmazásbeállítások, kapcsolati karakterláncok, stb., megfelelően a JSON ablaktáblán megjelennek kell megjelennie.</span><span class="sxs-lookup"><span data-stu-id="4b15b-228">Again, the nested resources should have a hierarchy very similar to those in your JSON template file, and you should see the app settings, connection strings, etc., properly reflected in the JSON pane.</span></span> <span data-ttu-id="4b15b-229">Itt beállítások hiányában esetleg utalhatnak a JSON-fájl, és a JSON-sablon fájl hibaelhárításához nyújt segítséget.</span><span class="sxs-lookup"><span data-stu-id="4b15b-229">The absence of settings here may indicate an issue with your JSON file and can help you troubleshoot your JSON template file.</span></span>

## <a name="deploy-the-resource-group-template-yourself"></a><span data-ttu-id="4b15b-230">Az erőforrás-csoport sablon saját kezűleg üzembe helyezése</span><span class="sxs-lookup"><span data-stu-id="4b15b-230">Deploy the resource group template yourself</span></span>
<span data-ttu-id="4b15b-231">A **az Azure telepítéséhez** gomb nagy, de lehetővé teszi az erőforrás-csoport sablon azuredeploy.json telepítése csak akkor, ha már leküldött azuredeploy.json GitHub.</span><span class="sxs-lookup"><span data-stu-id="4b15b-231">The **Deploy to Azure** button is great, but it allows you to deploy the resource group template in azuredeploy.json only if you have already pushed azuredeploy.json to GitHub.</span></span> <span data-ttu-id="4b15b-232">Az Azure .NET SDK olyan bármely JSON-sablon fájl közvetlenül a helyi számítógépről telepíthető eszközöket is biztosít.</span><span class="sxs-lookup"><span data-stu-id="4b15b-232">The Azure .NET SDK also provides the tools for you to deploy any JSON template file directly from your local machine.</span></span> <span data-ttu-id="4b15b-233">Ehhez kövesse az alábbi lépéseket:</span><span class="sxs-lookup"><span data-stu-id="4b15b-233">To do this, follow the steps below:</span></span>

1. <span data-ttu-id="4b15b-234">A Visual Studióban kattintson **fájl** > **új** > **projekt**.</span><span class="sxs-lookup"><span data-stu-id="4b15b-234">In Visual Studio, click **File** > **New** > **Project**.</span></span>
2. <span data-ttu-id="4b15b-235">Kattintson a **Visual C#** > **felhő** > **Azure erőforráscsoport**, majd kattintson a **OK**.</span><span class="sxs-lookup"><span data-stu-id="4b15b-235">Click **Visual C#** > **Cloud** > **Azure Resource Group**, then click **OK**.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/deploy-1-vsproject.png)
3. <span data-ttu-id="4b15b-236">A **Azure-sablon kiválasztása**, jelölje be **üres sablont** kattintson **OK**.</span><span class="sxs-lookup"><span data-stu-id="4b15b-236">In **Select Azure Template**, select **Blank Template** and click **OK**.</span></span>
4. <span data-ttu-id="4b15b-237">Húzza az azuredeploy.json a **sablon** az új projekt mappájából.</span><span class="sxs-lookup"><span data-stu-id="4b15b-237">Drag azuredeploy.json into the **Template** folder of your new project.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/deploy-2-copyjson.png)
5. <span data-ttu-id="4b15b-238">A Solution Explorerben nyissa meg a másolt azuredeploy.json.</span><span class="sxs-lookup"><span data-stu-id="4b15b-238">From Solution Explorer, open the copied azuredeploy.json.</span></span>
6. <span data-ttu-id="4b15b-239">Csak az alábbiakban bemutatjuk, adjuk hozzá néhány szokásos Application Insights-erőforrást a JSON-fájlt, hogy kattintva **erőforrás hozzáadása**.</span><span class="sxs-lookup"><span data-stu-id="4b15b-239">Just for the sake of the demonstration, let’s add some standard Application Insight resources to our JSON file, by clicking **Add Resource**.</span></span> <span data-ttu-id="4b15b-240">Ha csak szeretné használni a JSON-fájl központi telepítése, ugorjon a telepítés lépéseit.</span><span class="sxs-lookup"><span data-stu-id="4b15b-240">If you’re just interested in deploying the JSON file, skip to the deploy steps.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/deploy-3-newresource.png)
7. <span data-ttu-id="4b15b-241">Válassza ki **Application Insights Web Apps**, majd ellenőrizze, hogy egy meglévő App Service csomag és a webes alkalmazás van kiválasztva, és kattintson a **Hozzáadás**.</span><span class="sxs-lookup"><span data-stu-id="4b15b-241">Select **Application Insights for Web Apps**, then make sure an existing App Service plan and web app is selected, and then click **Add**.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/deploy-4-newappinsight.png)
   
   <span data-ttu-id="4b15b-242">Most már képes lesz számos új forrásanyagokban talál, attól függően, hogy az erőforrás, és hogyan kezeli, vagy az App Service-csomagot, vagy a web app függőségekkel rendelkeznek.</span><span class="sxs-lookup"><span data-stu-id="4b15b-242">You’ll now be able to see several new resources that, depending on the resource and what it does, have dependencies on either the App Service plan or the web app.</span></span> <span data-ttu-id="4b15b-243">Ezeket az erőforrásokat a meglévő definíciót szerint nincsenek engedélyezve, és módosíthatja, hogy fog.</span><span class="sxs-lookup"><span data-stu-id="4b15b-243">These resources are not enabled by their existing definition and you’re going to change that.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/deploy-5-appinsightresources.png)
8. <span data-ttu-id="4b15b-244">Kattintson a JSON-vázlat **appinsights által biztosított automatikus skálázás** jelölje ki a JSON-kódot.</span><span class="sxs-lookup"><span data-stu-id="4b15b-244">In the JSON Outline, click **appInsights AutoScale** to highlight its JSON code.</span></span> <span data-ttu-id="4b15b-245">Ez az App Service-csomag méretezési beállítása.</span><span class="sxs-lookup"><span data-stu-id="4b15b-245">This is the scaling setting for your App Service plan.</span></span>
9. <span data-ttu-id="4b15b-246">A kiemelt JSON-kódot, keresse meg a `location` és `enabled` tulajdonságok és -e meg őket alább látható módon.</span><span class="sxs-lookup"><span data-stu-id="4b15b-246">In the highlighted JSON code, locate the `location` and `enabled` properties and set them as shown below.</span></span>
   
   ![](./media/app-service-deploy-complex-application-predictably/deploy-6-autoscalesettings.png)
10. <span data-ttu-id="4b15b-247">Kattintson a JSON-vázlat **CPUHigh appinsights által biztosított** jelölje ki a JSON-kódot.</span><span class="sxs-lookup"><span data-stu-id="4b15b-247">In the JSON Outline, click **CPUHigh appInsights** to highlight its JSON code.</span></span> <span data-ttu-id="4b15b-248">Ez az értesítés.</span><span class="sxs-lookup"><span data-stu-id="4b15b-248">This is an alert.</span></span>
11. <span data-ttu-id="4b15b-249">Keresse meg a `location` és `isEnabled` tulajdonságok és -e meg őket alább látható módon.</span><span class="sxs-lookup"><span data-stu-id="4b15b-249">Locate the `location` and `isEnabled` properties and set them as shown below.</span></span> <span data-ttu-id="4b15b-250">Tegye meg ugyanezt a másik három riasztások (lila hagymák).</span><span class="sxs-lookup"><span data-stu-id="4b15b-250">Do the same for the other three alerts (purple bulbs).</span></span>
    
    ![](./media/app-service-deploy-complex-application-predictably/deploy-7-alerts.png)
12. <span data-ttu-id="4b15b-251">Most már készen áll központi telepítéséhez.</span><span class="sxs-lookup"><span data-stu-id="4b15b-251">You’re now ready to deploy.</span></span> <span data-ttu-id="4b15b-252">Kattintson jobb gombbal a projektre, és válassza ki **telepítés** > **új központi telepítési**.</span><span class="sxs-lookup"><span data-stu-id="4b15b-252">Right-click the project and select **Deploy** > **New Deployment**.</span></span>
    
    ![](./media/app-service-deploy-complex-application-predictably/deploy-8-newdeployment.png)
13. <span data-ttu-id="4b15b-253">Ha még nem tette meg, jelentkezzen be az Azure-fiókjával.</span><span class="sxs-lookup"><span data-stu-id="4b15b-253">Log into your Azure account if you haven’t already done so.</span></span>
14. <span data-ttu-id="4b15b-254">Jelöljön ki egy meglévő erőforráscsoportot az előfizetés, vagy hozzon létre egy új egy, jelöljön ki **azuredeploy.json**, és kattintson a **paraméterek szerkesztése**.</span><span class="sxs-lookup"><span data-stu-id="4b15b-254">Select an existing resource group in your subscription or create a new one, select **azuredeploy.json**, and then click **Edit Parameters**.</span></span>
    
    ![](./media/app-service-deploy-complex-application-predictably/deploy-9-deployconfig.png)
    
    <span data-ttu-id="4b15b-255">Most már képes lesz a sablonfájl töltött táblázatban definiált összes paraméterek szerkesztése.</span><span class="sxs-lookup"><span data-stu-id="4b15b-255">You’ll now be able to edit all the parameters defined in the template file in a nice table.</span></span> <span data-ttu-id="4b15b-256">Alapértelmezett értékeket meghatározó paraméterek már rendelkezik az alapértelmezett értékekre, és a paraméterek, melyek meghatározzák az engedélyezett értékek listájának jelennek meg a legördülő lista.</span><span class="sxs-lookup"><span data-stu-id="4b15b-256">Parameters that define defaults will already have their default values, and parameters that define a list of allowed values will be shown as dropdowns.</span></span>
    
    ![](./media/app-service-deploy-complex-application-predictably/deploy-10-parametereditor.png)
15. <span data-ttu-id="4b15b-257">Töltse ki a üres paramétereket, és a [ToDoApp GitHub-tárház címe](https://github.com/azure-appservice-samples/ToDoApp.git) a **repoUrl**.</span><span class="sxs-lookup"><span data-stu-id="4b15b-257">Fill in all the empty parameters, and use the [GitHub repo address for ToDoApp](https://github.com/azure-appservice-samples/ToDoApp.git) in **repoUrl**.</span></span> <span data-ttu-id="4b15b-258">Kattintson a **mentése**.</span><span class="sxs-lookup"><span data-stu-id="4b15b-258">Then, click **Save**.</span></span>
    
    ![](./media/app-service-deploy-complex-application-predictably/deploy-11-parametereditorfilled.png)
    
    > [!NOTE]
    > <span data-ttu-id="4b15b-259">Automatikus skálázás egy olyan funkció érhető el **szabványos** réteg vagy magasabb és a terv szintű riasztások a nyújtott szolgáltatások **alapvető** szintjüket, vagy újabb rendszerre, akkor be kell állítania a **sku** paramétert **szabványos** vagy **prémium** láthatók a új App Insights erőforrások könnyű fel.</span><span class="sxs-lookup"><span data-stu-id="4b15b-259">Autoscaling is a feature offered in **Standard** tier or higher, and plan-level alerts are features offered in **Basic** tier or higher, you’ll need to set the **sku** parameter to **Standard** or **Premium** in order to see all your new App Insights resources light up.</span></span>
    > 
    > 
16. <span data-ttu-id="4b15b-260">Kattintson a **telepítése**.</span><span class="sxs-lookup"><span data-stu-id="4b15b-260">Click **Deploy**.</span></span> <span data-ttu-id="4b15b-261">Ha a kiválasztott **menthetik a jelszavakat**, a jelszót a rendszer menti a paraméter fájlban **egyszerű szöveges**.</span><span class="sxs-lookup"><span data-stu-id="4b15b-261">If you selected **Save passwords**, the password will be saved in the parameter file **in plain text**.</span></span> <span data-ttu-id="4b15b-262">Ellenkező esetben kéri a jelszót a felhasználótól, a telepítési folyamat során.</span><span class="sxs-lookup"><span data-stu-id="4b15b-262">Otherwise, you’ll be asked to input the database password during the deployment process.</span></span>

<span data-ttu-id="4b15b-263">Készen is van.</span><span class="sxs-lookup"><span data-stu-id="4b15b-263">That’s it!</span></span> <span data-ttu-id="4b15b-264">Most csatlakoznia kell a [Azure Portal](https://portal.azure.com/) és a [Azure erőforrás-kezelő](https://resources.azure.com) eszközt, amely az új riasztások és a JSON új automatikus skálázási beállításokat központilag telepített alkalmazás.</span><span class="sxs-lookup"><span data-stu-id="4b15b-264">Now you just need to go to the [Azure Portal](https://portal.azure.com/) and the [Azure Resource Explorer](https://resources.azure.com) tool to see the new alerts and autoscale settings added to your JSON deployed application.</span></span>

<span data-ttu-id="4b15b-265">A jelen szakaszban szereplő lépéseket általában úgy hajthatja végre a következő:</span><span class="sxs-lookup"><span data-stu-id="4b15b-265">Your steps in this section mainly accomplished the following:</span></span>

1. <span data-ttu-id="4b15b-266">A sablonfájl előkészítése</span><span class="sxs-lookup"><span data-stu-id="4b15b-266">Prepared the template file</span></span>
2. <span data-ttu-id="4b15b-267">A paraméterfájl használata a sablonfájl létrehozása</span><span class="sxs-lookup"><span data-stu-id="4b15b-267">Created a parameter file to go with the template file</span></span>
3. <span data-ttu-id="4b15b-268">A sablonfájl paraméter fájllal telepített</span><span class="sxs-lookup"><span data-stu-id="4b15b-268">Deployed the template file with the parameter file</span></span>

<span data-ttu-id="4b15b-269">Az utolsó lépés egyszerű PowerShell parancsmag végezhető el.</span><span class="sxs-lookup"><span data-stu-id="4b15b-269">The last step is easily done by a PowerShell cmdlet.</span></span> <span data-ttu-id="4b15b-270">Mi a Visual Studio az az alkalmazás telepítésekor nyerte megtekintéséhez nyissa meg a Scripts\Deploy-AzureResourceGroup.ps1.</span><span class="sxs-lookup"><span data-stu-id="4b15b-270">To see what Visual Studio did when it deployed your application, open Scripts\Deploy-AzureResourceGroup.ps1.</span></span> <span data-ttu-id="4b15b-271">A kódot van, de csak fogom jelölje ki a megfelelő kódot kell telepítenie a sablonfájl paraméter fájllal.</span><span class="sxs-lookup"><span data-stu-id="4b15b-271">There’s a lot of code there, but I’m just going to highlight all the pertinent code you need to deploy the template file with the parameter file.</span></span>

![](./media/app-service-deploy-complex-application-predictably/deploy-12-powershellsnippet.png)

<span data-ttu-id="4b15b-272">Az utolsó parancsmag `New-AzureResourceGroup`, van, amely végrehajtja a műveletet.</span><span class="sxs-lookup"><span data-stu-id="4b15b-272">The last cmdlet, `New-AzureResourceGroup`, is the one that actually performs the action.</span></span> <span data-ttu-id="4b15b-273">Ez bizonyítania kell Önnek, hogy, tooling segítségével, a rendszer viszonylag egyszerű kiszámítható módon tudja a felhő alkalmazás központi telepítése.</span><span class="sxs-lookup"><span data-stu-id="4b15b-273">All this should demonstrate to you that, with the help of tooling, it is relatively straightforward to deploy your cloud application predictably.</span></span> <span data-ttu-id="4b15b-274">Minden alkalommal, amikor az ugyanazon paraméter fájllal ugyanazt a sablont a futtatta a parancsmagot, ugyanazt az eredményt kapja fog.</span><span class="sxs-lookup"><span data-stu-id="4b15b-274">Every time you run the cmdlet on the same template with the same parameter file, you’re going to get the same result.</span></span>

## <a name="summary"></a><span data-ttu-id="4b15b-275">Összefoglalás</span><span class="sxs-lookup"><span data-stu-id="4b15b-275">Summary</span></span>
<span data-ttu-id="4b15b-276">DevOps ismételhetőség és kiszámíthatóságot a sikeres telepítést mikroszolgáltatások álló nagy méretű kérelem kulccsal.</span><span class="sxs-lookup"><span data-stu-id="4b15b-276">In DevOps, repeatability and predictability are keys to any successful deployment of a high-scale application composed of microservices.</span></span> <span data-ttu-id="4b15b-277">Ebben az oktatóanyagban az Azure Resource Manager sablon használatával egyetlen erőforráscsoportként működnek az Azure két-mikroszolgáltatási alkalmazást telepített.</span><span class="sxs-lookup"><span data-stu-id="4b15b-277">In this tutorial, you have deployed a two-microservice application to Azure as a single resource group using the Azure Resource Manager template.</span></span> <span data-ttu-id="4b15b-278">Remélhetőleg az adott ahhoz, hogy indítsa el az alkalmazás az Azure-ban konvertálása a sablonba és kioszthatja és kiszámítható módon tudja központilag telepítenie kell a Tudásbázis.</span><span class="sxs-lookup"><span data-stu-id="4b15b-278">Hopefully, it has given you the knowledge you need in order to start converting your application in Azure into a template and can provision and deploy it predictably.</span></span> 

## <a name="next-steps"></a><span data-ttu-id="4b15b-279">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="4b15b-279">Next Steps</span></span>
<span data-ttu-id="4b15b-280">Megtudhatja, hogyan [gyors módszereit, amelyek érvényesek, és folyamatosan tegye közzé a mikroszolgáltatások alkalmazást kihívásokra](app-service-agile-software-development.md) és a központi telepítési módszerek, például a speciális [flighting telepítési](app-service-web-test-in-production-controlled-test-flight.md) könnyen.</span><span class="sxs-lookup"><span data-stu-id="4b15b-280">Find out how to [apply agile methodologies and continuously publish your microservices application with ease](app-service-agile-software-development.md) and advanced deployment techniques like [flighting deployment](app-service-web-test-in-production-controlled-test-flight.md) easily.</span></span>

<a name="resources"></a>

## <a name="more-resources"></a><span data-ttu-id="4b15b-281">További erőforrások</span><span class="sxs-lookup"><span data-stu-id="4b15b-281">More resources</span></span>
* [<span data-ttu-id="4b15b-282">Az Azure Resource Manager sablon nyelve</span><span class="sxs-lookup"><span data-stu-id="4b15b-282">Azure Resource Manager Template Language</span></span>](../azure-resource-manager/resource-group-authoring-templates.md)
* [<span data-ttu-id="4b15b-283">Az Azure Resource Manager sablonok készítése</span><span class="sxs-lookup"><span data-stu-id="4b15b-283">Authoring Azure Resource Manager Templates</span></span>](../azure-resource-manager/resource-group-authoring-templates.md)
* [<span data-ttu-id="4b15b-284">Az Azure Resource Manager Sablonfüggvényei</span><span class="sxs-lookup"><span data-stu-id="4b15b-284">Azure Resource Manager Template Functions</span></span>](../azure-resource-manager/resource-group-template-functions.md)
* [<span data-ttu-id="4b15b-285">Alkalmazás üzembe helyezése az Azure Resource Manager-sablon</span><span class="sxs-lookup"><span data-stu-id="4b15b-285">Deploy an application with Azure Resource Manager template</span></span>](../azure-resource-manager/resource-group-template-deploy.md)
* [<span data-ttu-id="4b15b-286">Az Azure PowerShell használata az Azure Resource Managerrel</span><span class="sxs-lookup"><span data-stu-id="4b15b-286">Using Azure PowerShell with Azure Resource Manager</span></span>](../azure-resource-manager/powershell-azure-resource-manager.md)
* [<span data-ttu-id="4b15b-287">Az Azure erőforráscsoport-telepítések hibaelhárítása</span><span class="sxs-lookup"><span data-stu-id="4b15b-287">Troubleshooting Resource Group Deployments in Azure</span></span>](../azure-resource-manager/resource-manager-common-deployment-errors.md)

