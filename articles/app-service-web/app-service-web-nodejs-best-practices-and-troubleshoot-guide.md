---
title: "Ajánlott eljárások és hibaelhárítási útmutatójában csomópont alkalmazások Azure-webalkalmazásokban"
description: "Ismerje meg az ajánlott eljárásokról és a csomópont-alkalmazások az Azure Web Apps hibaelhárítási lépéseket."
services: app-service\web
documentationcenter: nodejs
author: ranjithr
manager: wadeh
editor: 
ms.assetid: 387ea217-7910-4468-8987-9a1022a99bef
ms.service: app-service-web
ms.workload: web
ms.tgt_pltfrm: na
ms.devlang: nodejs
ms.topic: article
ms.date: 06/06/2016
ms.author: ranjithr
ms.openlocfilehash: d820ef3438e13332657641b06b57fa277e79f811
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 08/29/2017
---
# <a name="best-practices-and-troubleshooting-guide-for-node-applications-on-azure-web-apps"></a><span data-ttu-id="1332c-103">Ajánlott eljárások és hibaelhárítási útmutatójában csomópont alkalmazások Azure-webalkalmazásokban</span><span class="sxs-lookup"><span data-stu-id="1332c-103">Best practices and troubleshooting guide for node applications on Azure Web Apps</span></span>
[!INCLUDE [tabs](../../includes/app-service-web-get-started-nav-tabs.md)]

<span data-ttu-id="1332c-104">Ebből a cikkből megtudhatja, az ajánlott eljárásokról és a hibaelhárítási lépéseket [csomópont alkalmazások](app-service-web-get-started-nodejs.md) Azure webalkalmazás fut (a [iisnode](https://github.com/azure/iisnode)).</span><span class="sxs-lookup"><span data-stu-id="1332c-104">In this article, you will learn the best practices and troubleshooting steps for [node applications](app-service-web-get-started-nodejs.md) running on Azure Webapps (with [iisnode](https://github.com/azure/iisnode)).</span></span>

> [!WARNING]
> <span data-ttu-id="1332c-105">Körültekintően járjon el, ha a hibaelhárítási lépéseket a munkakörnyezeti helyet.</span><span class="sxs-lookup"><span data-stu-id="1332c-105">Use caution when using troubleshooting steps on your production site.</span></span> <span data-ttu-id="1332c-106">Javasoljuk, hogy például az átmeneti helyet egy nem éles a beállítás az alkalmazás hibaelhárítása, és ha a probléma fennáll, felcserélni az átmeneti rendelkező az éles webalkalmazásra.</span><span class="sxs-lookup"><span data-stu-id="1332c-106">Recommendation is to troubleshoot your app on a non-production setup for example your staging slot and when the issue is fixed, swap your staging slot with your production slot.</span></span>
> 
> 

## <a name="iisnode-configuration"></a><span data-ttu-id="1332c-107">Az IISNODE konfigurálása</span><span class="sxs-lookup"><span data-stu-id="1332c-107">IISNODE configuration</span></span>
<span data-ttu-id="1332c-108">Ez [sémafájl](https://github.com/Azure/iisnode/blob/master/src/config/iisnode_schema_x64.xml) jeleníti meg az iisnode-hoz konfigurált beállításokat.</span><span class="sxs-lookup"><span data-stu-id="1332c-108">This [schema file](https://github.com/Azure/iisnode/blob/master/src/config/iisnode_schema_x64.xml) shows all the settings that can be configured for iisnode.</span></span> <span data-ttu-id="1332c-109">A beállításokat, akkor lehet hasznos, az alkalmazás a következők:</span><span class="sxs-lookup"><span data-stu-id="1332c-109">Some of the settings that will be useful for your application are:</span></span>

* <span data-ttu-id="1332c-110">nodeProcessCountPerApplication</span><span class="sxs-lookup"><span data-stu-id="1332c-110">nodeProcessCountPerApplication</span></span>
  
    <span data-ttu-id="1332c-111">Ez a beállítás szabályozza, hogy az IIS alkalmazásonként működését csomópont folyamatok száma.</span><span class="sxs-lookup"><span data-stu-id="1332c-111">This setting controls the number of node processes that are launched per IIS application.</span></span> <span data-ttu-id="1332c-112">Alapértelmezett értéke 1.</span><span class="sxs-lookup"><span data-stu-id="1332c-112">Default value is 1.</span></span> <span data-ttu-id="1332c-113">Elindíthatja a lehető legtöbb node.exe a virtuális gép magok száma, úgy, hogy ez 0-ra.</span><span class="sxs-lookup"><span data-stu-id="1332c-113">You can launch as many node.exe’s as your VM core count by setting this to 0.</span></span> <span data-ttu-id="1332c-114">Javasolt érték 0 a legtöbb alkalmazás, használhatja az összes mag a számítógépen.</span><span class="sxs-lookup"><span data-stu-id="1332c-114">Recommended value is 0 for most application so you can utilize all of the cores on your machine.</span></span> <span data-ttu-id="1332c-115">NODE.exe az egyetlen, egy node.exe fogyaszt legfeljebb 1 mag, valamint kívül az összes mag használatára történő kívánt csomópont alkalmazás maximális teljesítménye érdekében szabadszálas.</span><span class="sxs-lookup"><span data-stu-id="1332c-115">Node.exe is single threaded so one node.exe will consume a maximum of 1 core and to get maximum performance out of your node application you would want to utilize all cores.</span></span>
* <span data-ttu-id="1332c-116">nodeProcessCommandLine</span><span class="sxs-lookup"><span data-stu-id="1332c-116">nodeProcessCommandLine</span></span>
  
    <span data-ttu-id="1332c-117">Ez a beállítás szabályozza a node.exe elérési útja.</span><span class="sxs-lookup"><span data-stu-id="1332c-117">This setting controls the path to the node.exe.</span></span> <span data-ttu-id="1332c-118">Beállíthatja, hogy ezt az értéket a node.exe verziójára mutasson.</span><span class="sxs-lookup"><span data-stu-id="1332c-118">You can set this value to point to your node.exe version.</span></span>
* <span data-ttu-id="1332c-119">maxConcurrentRequestsPerProcess</span><span class="sxs-lookup"><span data-stu-id="1332c-119">maxConcurrentRequestsPerProcess</span></span>
  
    <span data-ttu-id="1332c-120">Ez a beállítás minden node.exe iisnode által küldött egyidejű kérelmek maximális számát szabályozza.</span><span class="sxs-lookup"><span data-stu-id="1332c-120">This setting controls the maximum number of concurrent requests sent by iisnode to each node.exe.</span></span> <span data-ttu-id="1332c-121">Az azure webalkalmazás az alapértelmezett érték a végtelen.</span><span class="sxs-lookup"><span data-stu-id="1332c-121">On azure webapps, the default value for this is Infinite.</span></span> <span data-ttu-id="1332c-122">Nem kell foglalkoznia az ezt a beállítást.</span><span class="sxs-lookup"><span data-stu-id="1332c-122">You will not have to worry about this setting.</span></span> <span data-ttu-id="1332c-123">Azure webalkalmazás kívül a az alapértelmezett érték: 1024.</span><span class="sxs-lookup"><span data-stu-id="1332c-123">Outside azure webapps, the default value is 1024.</span></span> <span data-ttu-id="1332c-124">Érdemes a beállítás attól függően, hogy hány kér az alkalmazás lekérdezi, és hogy milyen gyorsan az alkalmazás minden kérést dolgoz fel.</span><span class="sxs-lookup"><span data-stu-id="1332c-124">You might want to configure this depending on how many requests your application gets and how fast your application processes each request.</span></span>
* <span data-ttu-id="1332c-125">maxNamedPipeConnectionRetry</span><span class="sxs-lookup"><span data-stu-id="1332c-125">maxNamedPipeConnectionRetry</span></span>
  
    <span data-ttu-id="1332c-126">Ez a beállítás az iisnode visszaállítja a nevesített csövön keresztül elküldeni a kérelmet node.exe élő kapcsolatot a maximálisan megengedett számú szabályozza.</span><span class="sxs-lookup"><span data-stu-id="1332c-126">This setting controls the maximum number of times iisnode will retry making connection on the named pipe to send the request over to node.exe.</span></span> <span data-ttu-id="1332c-127">Ez a beállítás namedPipeConnectionRetryDelay együtt meghatározza, hogy az egyes kérelmek iisnode belül a teljes időtúllépés.</span><span class="sxs-lookup"><span data-stu-id="1332c-127">This setting in combination with namedPipeConnectionRetryDelay determines the total timeout of each request within iisnode.</span></span> <span data-ttu-id="1332c-128">Alapértelmezett érték 200 található Azure webalkalmazás.</span><span class="sxs-lookup"><span data-stu-id="1332c-128">Default value is 200 on Azure Webapps.</span></span> <span data-ttu-id="1332c-129">Időtúllépés másodpercben teljes = (maxNamedPipeConnectionRetry \* namedPipeConnectionRetryDelay) / 1000</span><span class="sxs-lookup"><span data-stu-id="1332c-129">Total Timeout in seconds = (maxNamedPipeConnectionRetry \* namedPipeConnectionRetryDelay) / 1000</span></span>
* <span data-ttu-id="1332c-130">namedPipeConnectionRetryDelay</span><span class="sxs-lookup"><span data-stu-id="1332c-130">namedPipeConnectionRetryDelay</span></span>
  
    <span data-ttu-id="1332c-131">Ez a beállítás vezérli ideje (ms) iisnode mennyisége megvárja, hogy minden kérést küldeni az node.exe a nevesített csövön keresztül újrapróbálkozási között.</span><span class="sxs-lookup"><span data-stu-id="1332c-131">This setting controls the amount of time (in ms) iisnode will wait for between each retry to send request to node.exe over the named pipe.</span></span> <span data-ttu-id="1332c-132">Alapértelmezett érték: 250ms.</span><span class="sxs-lookup"><span data-stu-id="1332c-132">Default value is 250ms.</span></span>
    <span data-ttu-id="1332c-133">Időtúllépés másodpercben teljes = (maxNamedPipeConnectionRetry \* namedPipeConnectionRetryDelay) / 1000</span><span class="sxs-lookup"><span data-stu-id="1332c-133">Total Timeout in seconds = (maxNamedPipeConnectionRetry \* namedPipeConnectionRetryDelay) / 1000</span></span>
  
    <span data-ttu-id="1332c-134">Alapértelmezés szerint az iisnode azure webalkalmazás a teljes időtúllépés értéke 200 \* 250ms = 50 másodperc.</span><span class="sxs-lookup"><span data-stu-id="1332c-134">By default the total timeout in iisnode on azure webapps is 200 \* 250ms = 50 seconds.</span></span>
* <span data-ttu-id="1332c-135">logDirectory</span><span class="sxs-lookup"><span data-stu-id="1332c-135">logDirectory</span></span>
  
    <span data-ttu-id="1332c-136">Ez a beállítás szabályozza a könyvtárban, ahol a iisnode stdout/stderr naplózza.</span><span class="sxs-lookup"><span data-stu-id="1332c-136">This setting controls the directory where iisnode will log stdout/stderr.</span></span> <span data-ttu-id="1332c-137">Alapértelmezett érték: iisnode, amely relatív a fő parancsfájlba könyvtár (könyvtárat, amelyben fő server.js jelen)</span><span class="sxs-lookup"><span data-stu-id="1332c-137">Default value is iisnode which is relative to the main script directory (directory where main server.js is present)</span></span>
* <span data-ttu-id="1332c-138">debuggerExtensionDll</span><span class="sxs-lookup"><span data-stu-id="1332c-138">debuggerExtensionDll</span></span>
  
    <span data-ttu-id="1332c-139">Ez a beállítás határozza meg, melyik verzióját a node-inspector iisnode fogja használni, amikor a csomópont-alkalmazásban.</span><span class="sxs-lookup"><span data-stu-id="1332c-139">This setting controls what version of node-inspector iisnode will use when debugging your node application.</span></span> <span data-ttu-id="1332c-140">Az iisnode-inspector-0.7.3.dll és az iisnode-inspector.dll jelenleg ez a beállítás csak 2 érvényes értékei.</span><span class="sxs-lookup"><span data-stu-id="1332c-140">Currently iisnode-inspector-0.7.3.dll and iisnode-inspector.dll are the only 2 valid values for this setting.</span></span> <span data-ttu-id="1332c-141">Alapértelmezett érték: az iisnode-inspector-0.7.3.dll.</span><span class="sxs-lookup"><span data-stu-id="1332c-141">Default value is iisnode-inspector-0.7.3.dll.</span></span> <span data-ttu-id="1332c-142">az iisnode-inspector-0.7.3.dll verzió csomópont-inspector-0.7.3 használ, és websocket elemeket, használ, ezért szüksége lesz ahhoz, hogy a jelenlegi verzióját használják az azure webalkalmazás websocket elemeket.</span><span class="sxs-lookup"><span data-stu-id="1332c-142">iisnode-inspector-0.7.3.dll version uses node-inspector-0.7.3 and uses websockets, so you will need to enable websockets on your azure webapp to use this version.</span></span> <span data-ttu-id="1332c-143">Lásd: <http://www.ranjithr.com/?p=98> iisnode az új node-Inspector segítségével történő konfigurálásával kapcsolatos további részletekért.</span><span class="sxs-lookup"><span data-stu-id="1332c-143">See <http://www.ranjithr.com/?p=98> for more details on how to configure iisnode to use the new node-inspector.</span></span>
* <span data-ttu-id="1332c-144">flushResponse</span><span class="sxs-lookup"><span data-stu-id="1332c-144">flushResponse</span></span>
  
    <span data-ttu-id="1332c-145">Az alapértelmezett IIS működése, hogy azt puffereli érkezett válasz adatait mentése 4 MB kiürítése előtt, illetve a válasz végéig amelyik előbb következik be.</span><span class="sxs-lookup"><span data-stu-id="1332c-145">The default behavior of IIS is that it buffers response data up to 4MB before flushing, or until the end of the response, whichever comes first.</span></span> <span data-ttu-id="1332c-146">az iisnode Ez a viselkedés felülbírálásához a konfigurációs beállításokat kínál: kiüríteni válasz entitástörzsében egy kódrészletet, amint iisnode kap a node.exe, be kell állítani a iisnode/@flushResponse a Web.config fájlban a "true" attribútum:</span><span class="sxs-lookup"><span data-stu-id="1332c-146">iisnode offers a configuration setting to override this behavior: to flush a fragment of the response entity body as soon as iisnode receives it from node.exe, you need to set the iisnode/@flushResponse attribute in web.config to 'true':</span></span>
  
    ```
    <configuration>    
        <system.webServer>    
            <!-- ... -->    
            <iisnode flushResponse="true" />    
        </system.webServer>    
    </configuration>
    ```
  
    <span data-ttu-id="1332c-147">Minden válasz entitástörzsében kódrészletet a könyvelési engedélyezése lassítja a, amely csökkenti az átviteli sebessége a rendszer (az v0.1.13), ~ 5 %-kal hatókörének ezt a beállítást csak adatfolyam-választ igénylő végpontok a legjobb (pl. használatával a <location>a Web.config elemben)</span><span class="sxs-lookup"><span data-stu-id="1332c-147">Enabling flushing of every fragment of the response entity body adds performance overhead that reduces the throughput of the system by ~5% (as of v0.1.13), so it is best to scope this setting only to endpoints that require response streaming (e.g. using the <location> element in the web.config)</span></span>
  
    <span data-ttu-id="1332c-148">Továbbá a az alkalmazások, akkor is responseBufferLimit az iisnode leíró 0 értékre állítva.</span><span class="sxs-lookup"><span data-stu-id="1332c-148">In addition to this, for streaming applications, you will need to also set responseBufferLimit of your iisnode handler to 0.</span></span>
  
    ```
    <handlers>    
        <add name="iisnode" path="app.js" verb="\*" modules="iisnode" responseBufferLimit="0"/>    
    </handlers>
    ```
* <span data-ttu-id="1332c-149">watchedFiles</span><span class="sxs-lookup"><span data-stu-id="1332c-149">watchedFiles</span></span>
  
    <span data-ttu-id="1332c-150">Ez az fog kell figyelt módosítások fájlok egy pontosvesszővel elválasztott listája.</span><span class="sxs-lookup"><span data-stu-id="1332c-150">This is a semi-colon separated list of files that will be watched for changes.</span></span> <span data-ttu-id="1332c-151">Egy fájl módosításának hatására az alkalmazás újrahasznosítása.</span><span class="sxs-lookup"><span data-stu-id="1332c-151">A change to a file causes the application to recycle.</span></span> <span data-ttu-id="1332c-152">Mindegyik bejegyzés egy választható könyvtár nevét és a szükséges fájl nevét, amelyek a könyvtárat, amelyben az alkalmazás fő belépési pont található viszonyítva áll.</span><span class="sxs-lookup"><span data-stu-id="1332c-152">Each entry consists of an optional directory name plus required file name which are relative to the directory where the main application entry point is located.</span></span> <span data-ttu-id="1332c-153">A fájl neve funkciója csak helyettesítő karakterek megengedettek.</span><span class="sxs-lookup"><span data-stu-id="1332c-153">Wild cards are allowed in the file name portion only.</span></span> <span data-ttu-id="1332c-154">Alapértelmezett érték "\*. js;web.config"</span><span class="sxs-lookup"><span data-stu-id="1332c-154">Default value is “\*.js;web.config”</span></span>
* <span data-ttu-id="1332c-155">recycleSignalEnabled</span><span class="sxs-lookup"><span data-stu-id="1332c-155">recycleSignalEnabled</span></span>
  
    <span data-ttu-id="1332c-156">Alapértelmezett értéke hamis.</span><span class="sxs-lookup"><span data-stu-id="1332c-156">Default value is false.</span></span> <span data-ttu-id="1332c-157">Ha engedélyezve van, a csomópont alkalmazás csatlakozhat egy nevesített csövet (környezeti változót az IISNODE\_vezérlő\_CSŐ) és "újrahasznosítást" üzenet.</span><span class="sxs-lookup"><span data-stu-id="1332c-157">If enabled, your node application can connect to a named pipe (environment variable IISNODE\_CONTROL\_PIPE) and send a “recycle” message.</span></span> <span data-ttu-id="1332c-158">Ennek hatására a w3wp szabályosan újrahasznosítása.</span><span class="sxs-lookup"><span data-stu-id="1332c-158">This will cause the w3wp to recycle gracefully.</span></span>
* <span data-ttu-id="1332c-159">idlePageOutTimePeriod</span><span class="sxs-lookup"><span data-stu-id="1332c-159">idlePageOutTimePeriod</span></span>
  
    <span data-ttu-id="1332c-160">Alapértelmezett érték 0, ami azt jelenti, hogy ez a funkció le van tiltva.</span><span class="sxs-lookup"><span data-stu-id="1332c-160">Default value is 0 which means this feature is disabled.</span></span> <span data-ttu-id="1332c-161">Ha értéke egy értéket 0-nál nagyobbnak, iisnode fog lapon minden gyermek folyamatainak ki minden "idlePageOutTimePeriod" ezredmásodperc.</span><span class="sxs-lookup"><span data-stu-id="1332c-161">When set to some value greater than 0, iisnode will page out all its child processes every ‘idlePageOutTimePeriod’ milliseconds.</span></span> <span data-ttu-id="1332c-162">Ha szeretné megtudni, milyen lapon azt jelenti, hogy ki, tekintse meg a [dokumentáció](https://msdn.microsoft.com/library/windows/desktop/ms682606.aspx).</span><span class="sxs-lookup"><span data-stu-id="1332c-162">To understand what page out means, please refer to this [documentation](https://msdn.microsoft.com/library/windows/desktop/ms682606.aspx).</span></span> <span data-ttu-id="1332c-163">Ez a beállítás hasznos, ha alkalmazásokat, amelyek nagy mennyiségű memóriát használnak, és szeretne pageout memória lemezre alkalmanként szabadítson fel némi RAM lesz.</span><span class="sxs-lookup"><span data-stu-id="1332c-163">This setting will be useful for applications that consume a lot of memory and want to pageout memory to disk occasionally to free up some RAM.</span></span>

> [!WARNING]
> <span data-ttu-id="1332c-164">Legyen körültekintő, ha engedélyezi az éles környezetben a következő konfigurációs beállításait.</span><span class="sxs-lookup"><span data-stu-id="1332c-164">Use caution when enabling the following configuration settings on production applications.</span></span> <span data-ttu-id="1332c-165">Javasoljuk, hogy engedélyezze azokat éles alkalmazásokban.</span><span class="sxs-lookup"><span data-stu-id="1332c-165">Recommendation is to not enable them on live production applications.</span></span>
> 
> 

* <span data-ttu-id="1332c-166">debugHeaderEnabled</span><span class="sxs-lookup"><span data-stu-id="1332c-166">debugHeaderEnabled</span></span>
  
    <span data-ttu-id="1332c-167">Az alapértelmezett értéke hamis.</span><span class="sxs-lookup"><span data-stu-id="1332c-167">The default value is false.</span></span> <span data-ttu-id="1332c-168">Ha értéke igaz, az iisnode felveszi egy HTTP válasz fejléc az iisnode-debug minden HTTP-válasz küld az iisnode-debug fejléc értéke egy URL-címet.</span><span class="sxs-lookup"><span data-stu-id="1332c-168">If set to true, iisnode will add an HTTP response header iisnode-debug to every HTTP response it sends the iisnode-debug header value is a URL.</span></span> <span data-ttu-id="1332c-169">Egyes adatra diagnosztikai adatokat is a URL-cím töredéke megtekintésével, de sok jobb képi megjelenítés érik el az URL-cím megnyitása a böngészőben.</span><span class="sxs-lookup"><span data-stu-id="1332c-169">Individual pieces of diagnostic information can be gleaned by looking at the URL fragment, but a much better visualization is achieved by opening the URL in the browser.</span></span>
* <span data-ttu-id="1332c-170">loggingEnabled</span><span class="sxs-lookup"><span data-stu-id="1332c-170">loggingEnabled</span></span>
  
    <span data-ttu-id="1332c-171">Ez a beállítás az iisnode által az stdout és az stderr naplózását szabályozza.</span><span class="sxs-lookup"><span data-stu-id="1332c-171">This setting controls the logging of stdout and stderr by iisnode.</span></span> <span data-ttu-id="1332c-172">Az Iisnode stdout/stderr csomópont folyamatok elindítja azt rögzíti, és a "logDirectory" beállításban megadott könyvtárban írni.</span><span class="sxs-lookup"><span data-stu-id="1332c-172">Iisnode will capture stdout/stderr from node processes it launches and write to the directory specified in the ‘logDirectory’ setting.</span></span> <span data-ttu-id="1332c-173">A beállítás engedélyezése, az alkalmazás fogja kell írása naplók a fájlrendszerhez, és attól függően, hogy az alkalmazás által végzett naplózás mennyisége, a teljesítményre gyakorolt hatása lehet.</span><span class="sxs-lookup"><span data-stu-id="1332c-173">Once this is enable, your application will be writing logs to the file system and depending on the amount of logging done by the application, there could be performance implications.</span></span>
* <span data-ttu-id="1332c-174">devErrorsEnabled</span><span class="sxs-lookup"><span data-stu-id="1332c-174">devErrorsEnabled</span></span>
  
    <span data-ttu-id="1332c-175">Alapértelmezett értéke hamis.</span><span class="sxs-lookup"><span data-stu-id="1332c-175">Default value is false.</span></span> <span data-ttu-id="1332c-176">Ha értéke igaz, az iisnode megjeleníti a HTTP-állapotkód és a Win32-hibakód: a böngésző.</span><span class="sxs-lookup"><span data-stu-id="1332c-176">When set to true, iisnode will display the HTTP status code and Win32 error code on your browser.</span></span> <span data-ttu-id="1332c-177">A win32 kódban megoldani a problémákat bizonyos típusú hasznos lesz.</span><span class="sxs-lookup"><span data-stu-id="1332c-177">The win32 code will be helpful in debugging certain types of issues.</span></span>
* <span data-ttu-id="1332c-178">debuggingEnabled (ne engedélyezze az éles hely)</span><span class="sxs-lookup"><span data-stu-id="1332c-178">debuggingEnabled (do not enable on live production site)</span></span>
  
    <span data-ttu-id="1332c-179">Ez a beállítás szabályozza a hibakeresési funkciója.</span><span class="sxs-lookup"><span data-stu-id="1332c-179">This setting controls debugging feature.</span></span> <span data-ttu-id="1332c-180">Az Iisnode integrálva van a node-Inspector használatával.</span><span class="sxs-lookup"><span data-stu-id="1332c-180">Iisnode is integrated with node-inspector.</span></span> <span data-ttu-id="1332c-181">Ha engedélyezi ezt a beállítást, engedélyezi a csomópont alkalmazás hibakeresést.</span><span class="sxs-lookup"><span data-stu-id="1332c-181">By enabling this setting, you enable debugging of your node application.</span></span> <span data-ttu-id="1332c-182">Ha engedélyezi ezt a beállítást, a iisnode a csomópont alkalmazás felé irányuló első debug kérelem a "debuggerVirtualDir" könyvtárban található a szükséges a node-inspector fájl lesz elrendezés.</span><span class="sxs-lookup"><span data-stu-id="1332c-182">Once this setting is enabled, iisnode will layout the necessary node-inspector files in ‘debuggerVirtualDir’ directory on the first debug request to your node application.</span></span> <span data-ttu-id="1332c-183">A node-inspector betöltése http://yoursite/server.js/debug kérelmet küld.</span><span class="sxs-lookup"><span data-stu-id="1332c-183">You can load the node-inspector by sending a request to http://yoursite/server.js/debug.</span></span> <span data-ttu-id="1332c-184">A hibakeresési URL-szegmenseket "debuggerPathSegment" beállítással szabályozható.</span><span class="sxs-lookup"><span data-stu-id="1332c-184">You can control the debug URL segment with ‘debuggerPathSegment’ setting.</span></span> <span data-ttu-id="1332c-185">Alapértelmezett debuggerPathSegment által = "debug".</span><span class="sxs-lookup"><span data-stu-id="1332c-185">By default debuggerPathSegment=’debug’.</span></span> <span data-ttu-id="1332c-186">Állíthat egy GUID, például úgy, hogy megnehezíti mások számára felderítését.</span><span class="sxs-lookup"><span data-stu-id="1332c-186">You can set this to a GUID for example so that it is more difficult to be discovered by others.</span></span>
  
    <span data-ttu-id="1332c-187">Ennek ellenőrzéséhez [hivatkozás](https://tomasz.janczuk.org/2011/11/debug-nodejs-applications-on-windows.html) kapcsolatban további részleteket a hibakeresést.</span><span class="sxs-lookup"><span data-stu-id="1332c-187">Check this [link](https://tomasz.janczuk.org/2011/11/debug-nodejs-applications-on-windows.html) for more details on debugging.</span></span>

## <a name="scenarios-and-recommendationstroubleshooting"></a><span data-ttu-id="1332c-188">Forgatókönyvek és javaslatok/hibaelhárítása</span><span class="sxs-lookup"><span data-stu-id="1332c-188">Scenarios and recommendations/troubleshooting</span></span>
### <a name="my-node-application-is-making-too-many-outbound-calls"></a><span data-ttu-id="1332c-189">A csomópont-alkalmazás, hogy így túl sok kimenő hívásokat.</span><span class="sxs-lookup"><span data-stu-id="1332c-189">My node application is making too many outbound calls.</span></span>
<span data-ttu-id="1332c-190">Számos alkalmazás szeretné kimenő kapcsolatok létrehozása a rendszeres művelet részeként.</span><span class="sxs-lookup"><span data-stu-id="1332c-190">Many applications would want to make outbound connections as part of their regular operation.</span></span> <span data-ttu-id="1332c-191">Például ha a kérelem érkezik, a csomópont app szeretné lépjen kapcsolatba a REST API máshol, és néhány adatra feldolgozni a kérelmet.</span><span class="sxs-lookup"><span data-stu-id="1332c-191">For example, when a request comes in, your node app would want to contact a REST API elsewhere and get some information to process the request.</span></span> <span data-ttu-id="1332c-192">Szeretné használni kívánt megtartása életben ügynök http vagy https hívása esetén.</span><span class="sxs-lookup"><span data-stu-id="1332c-192">You would want to use a keep alive agent when making http or https calls.</span></span> <span data-ttu-id="1332c-193">Például használhatja a agentkeepalive modul a keep-alive megbízottként ezek kimenő hívása esetén.</span><span class="sxs-lookup"><span data-stu-id="1332c-193">For example, you could use the agentkeepalive module as your keep alive agent when making these outbound calls.</span></span> <span data-ttu-id="1332c-194">Ez biztosítja, hogy, hogy a sockets újra felhasználja a rendszer a virtuális gép azure webalkalmazás a és a kimenő kérelmek új szoftvercsatornák létrehozásának adódó terhelését.</span><span class="sxs-lookup"><span data-stu-id="1332c-194">This makes sure that the sockets are reused on your azure webapp VM and reducing the overhead of creating new sockets for every outbound request.</span></span> <span data-ttu-id="1332c-195">Is ez biztosítja, hogy kevesebb szoftvercsatornák számát segítségével számos kimenő kéréseket, és ezért nem lehet a kiosztott virtuális gépenként maxsocket.</span><span class="sxs-lookup"><span data-stu-id="1332c-195">Also, this makes sure that you are using less number of sockets to make many outbound requests and therefore you don’t exceed the maxSockets that are allocated per VM.</span></span> <span data-ttu-id="1332c-196">Azure-webalkalmazás ajánlást lenne, virtuális gépenként 160 sockets összesen agentKeepAlive maxsocket értékre állítja be.</span><span class="sxs-lookup"><span data-stu-id="1332c-196">Recommendation on Azure Webapps would be to set the agentKeepAlive maxSockets value to a total of 160 sockets per VM.</span></span> <span data-ttu-id="1332c-197">Ez azt jelenti, hogy ha 4 node.exe a virtuális gépen, akkor szeretné beállítása a agentKeepAlive maxsocket node.exe teljes virtuális gépenként 160 pedig 40.</span><span class="sxs-lookup"><span data-stu-id="1332c-197">This means that if you have 4 node.exe running on the VM, you would want to set the agentKeepAlive maxSockets to 40 per node.exe which is 160 total per VM.</span></span>

<span data-ttu-id="1332c-198">Példa [agentKeepALive](https://www.npmjs.com/package/agentkeepalive) konfiguráció:</span><span class="sxs-lookup"><span data-stu-id="1332c-198">Example [agentKeepALive](https://www.npmjs.com/package/agentkeepalive) configuration:</span></span>

```
var keepaliveAgent = new Agent({    
    maxSockets: 40,    
    maxFreeSockets: 10,    
    timeout: 60000,    
    keepAliveTimeout: 300000    
});
```

<span data-ttu-id="1332c-199">Ez a példa feltételezi, hogy rendelkezik-e a virtuális gépen 4 node.exe.</span><span class="sxs-lookup"><span data-stu-id="1332c-199">This example assumes you have 4 node.exe running on your VM.</span></span> <span data-ttu-id="1332c-200">Ha a virtuális gépen node.exe eltérő számú, akkor módosítsa a beállítást ennek megfelelően maxsocket.</span><span class="sxs-lookup"><span data-stu-id="1332c-200">If you have a different number of node.exe running on the VM, you will have to modify the maxSockets setting accordingly.</span></span>

### <a name="my-node-application-is-consuming-too-much-cpu"></a><span data-ttu-id="1332c-201">A csomópont-alkalmazás által felhasznált túl sok CPU.</span><span class="sxs-lookup"><span data-stu-id="1332c-201">My node application is consuming too much CPU.</span></span>
<span data-ttu-id="1332c-202">A portál magas cpu-felhasználás kapcsolatos az Azure-webalkalmazás valószínűleg kap egy javaslatot.</span><span class="sxs-lookup"><span data-stu-id="1332c-202">You will probably get a recommendation from Azure Webapps on your portal about high cpu consumption.</span></span> <span data-ttu-id="1332c-203">Figyelendő egyes figyelők is beállíthatja [metrikák](web-sites-monitor.md).</span><span class="sxs-lookup"><span data-stu-id="1332c-203">You can also setup monitors to watch for certain [metrics](web-sites-monitor.md).</span></span> <span data-ttu-id="1332c-204">Ha a CPU-használat ellenőrzése a következőn: a [Azure Portal irányítópult](../application-insights/app-insights-web-monitor-performance.md), tekintse meg a maximális értékek CPU, hogy nem hagy ki ki a maximális értékeket.</span><span class="sxs-lookup"><span data-stu-id="1332c-204">When checking the CPU usage on the [Azure Portal Dashboard](../application-insights/app-insights-web-monitor-performance.md), please check the MAX values for CPU so you don’t miss out the peak values.</span></span>
<span data-ttu-id="1332c-205">Amennyiben úgy véli, hogy az alkalmazás által felhasznált túl sok CPU, és miért nem ismertetik esetben szüksége lesz profilhoz, a node.js-alkalmazásokban.</span><span class="sxs-lookup"><span data-stu-id="1332c-205">In cases where you think your application is consuming too much CPU and you cannot explain why, you will need to profile your node application.</span></span>

### 
#### <a name="profiling-your-node-application-on-azure-webapps-with-v8-profiler"></a><span data-ttu-id="1332c-206">A csomópont alkalmazás V8-Profilkészítő rendelkező azure webalkalmazás profilkészítés</span><span class="sxs-lookup"><span data-stu-id="1332c-206">Profiling your node application on azure webapps with V8-Profiler</span></span>
<span data-ttu-id="1332c-207">Például lehet mondja ki a hello world alkalmazás kívánt profil alább látható módon:</span><span class="sxs-lookup"><span data-stu-id="1332c-207">For example, lets say you have a hello world app that you want to profile as shown below:</span></span>

```
var http = require('http');    
function WriteConsoleLog() {    
    for(var i=0;i<99999;++i) {    
        console.log('hello world');    
    }    
}

function HandleRequest() {    
    WriteConsoleLog();    
}

http.createServer(function (req, res) {    
    res.writeHead(200, {'Content-Type': 'text/html'});    
    HandleRequest();    
    res.end('Hello world!');    
}).listen(process.env.PORT);
```

<span data-ttu-id="1332c-208">Ugrás az scm hely https://yoursite.scm.azurewebsites.net/DebugConsole</span><span class="sxs-lookup"><span data-stu-id="1332c-208">Go to your scm site https://yoursite.scm.azurewebsites.net/DebugConsole</span></span>

<span data-ttu-id="1332c-209">Alább látható módon jelenik meg egy parancssort.</span><span class="sxs-lookup"><span data-stu-id="1332c-209">You will see a command prompt as shown below.</span></span> <span data-ttu-id="1332c-210">Nyissa meg a hely/wwwroot könyvtárba</span><span class="sxs-lookup"><span data-stu-id="1332c-210">Go into your site/wwwroot directory</span></span>

![](./media/app-service-web-nodejs-best-practices-and-troubleshoot-guide/scm_install_v8.png)

<span data-ttu-id="1332c-211">Futtassa a parancsot "npm telepítés v8-Profilkészítő"</span><span class="sxs-lookup"><span data-stu-id="1332c-211">Run the command “npm install v8-profiler”</span></span>

<span data-ttu-id="1332c-212">Ez telepítse v8-Profilkészítő csomópont alatt\_modulok directory és az összes függősége.</span><span class="sxs-lookup"><span data-stu-id="1332c-212">This should install v8-profiler under node\_modules directory and all of its dependencies.</span></span>
<span data-ttu-id="1332c-213">Most szerkessze a server.js profil az alkalmazáshoz.</span><span class="sxs-lookup"><span data-stu-id="1332c-213">Now, edit your server.js to profile your application.</span></span>

```
var http = require('http');    
var profiler = require('v8-profiler');    
var fs = require('fs');

function WriteConsoleLog() {    
    for(var i=0;i<99999;++i) {    
        console.log('hello world');    
    }    
}

function HandleRequest() {    
    profiler.startProfiling('HandleRequest');    
    WriteConsoleLog();    
    fs.writeFileSync('profile.cpuprofile', JSON.stringify(profiler.stopProfiling('HandleRequest')));    
}

http.createServer(function (req, res) {    
    res.writeHead(200, {'Content-Type': 'text/html'});    
    HandleRequest();    
    res.end('Hello world!');    
}).listen(process.env.PORT);
```

<span data-ttu-id="1332c-214">A fenti módosítások WriteConsoleLog függvény profilt, és a majd a profil kimeneti írni a hely wwwroot "profile.cpuprofile" fájlt.</span><span class="sxs-lookup"><span data-stu-id="1332c-214">The above changes will profile the WriteConsoleLog function and then write the profile output to ‘profile.cpuprofile’ file under your site wwwroot.</span></span> <span data-ttu-id="1332c-215">Az alkalmazás kérelmet küld.</span><span class="sxs-lookup"><span data-stu-id="1332c-215">Send a request to your application.</span></span> <span data-ttu-id="1332c-216">A hely wwwroot alapján létrehozott "profile.cpuprofile" fájl jelenik meg.</span><span class="sxs-lookup"><span data-stu-id="1332c-216">You will see a ‘profile.cpuprofile’ file created under your site wwwroot.</span></span>

![](./media/app-service-web-nodejs-best-practices-and-troubleshoot-guide/scm_profile.cpuprofile.png)

<span data-ttu-id="1332c-217">Töltse le a fájlt, és nyissa meg a fájlt a Chrome F12 eszközökkel kell.</span><span class="sxs-lookup"><span data-stu-id="1332c-217">Download this file and you will need to open this file with Chrome F12 Tools.</span></span> <span data-ttu-id="1332c-218">Kattintson az F12 billentyű lenyomása a chrome, majd kattintson a "Profilok lap".</span><span class="sxs-lookup"><span data-stu-id="1332c-218">Hit F12 on chrome, then click on the “Profiles Tab”.</span></span> <span data-ttu-id="1332c-219">Kattintson a "Load" gombra.</span><span class="sxs-lookup"><span data-stu-id="1332c-219">Click on “Load” Button.</span></span> <span data-ttu-id="1332c-220">Válassza ki az imént letöltött profile.cpuprofile fájlt.</span><span class="sxs-lookup"><span data-stu-id="1332c-220">Select your profile.cpuprofile file that you just downloaded.</span></span> <span data-ttu-id="1332c-221">Kattintson a profil épp.</span><span class="sxs-lookup"><span data-stu-id="1332c-221">Click on the profile you just loaded.</span></span>

![](./media/app-service-web-nodejs-best-practices-and-troubleshoot-guide/chrome_tools_view.png)

<span data-ttu-id="1332c-222">Látni fogja, hogy 95 %-ában felhasznált WriteConsoleLog függvény alább látható módon.</span><span class="sxs-lookup"><span data-stu-id="1332c-222">You will see that 95% of the time was consumed by WriteConsoleLog function as shown below.</span></span> <span data-ttu-id="1332c-223">Ez azt is bemutatja, a pontos sorok számát és a problémát okozó forrásfájlokat.</span><span class="sxs-lookup"><span data-stu-id="1332c-223">This also shows you the exact line numbers and source files that cause the issue.</span></span>

### <a name="my-node-application-is-consuming-too-much-memory"></a><span data-ttu-id="1332c-224">A csomópont-alkalmazás által felhasznált túl sok memóriát.</span><span class="sxs-lookup"><span data-stu-id="1332c-224">My node application is consuming too much memory.</span></span>
<span data-ttu-id="1332c-225">A portál kapcsolatos leterheli a rendszermemóriát az Azure-webalkalmazás valószínűleg kap egy javaslatot.</span><span class="sxs-lookup"><span data-stu-id="1332c-225">You will probably get a recommendation from Azure Webapps on your portal about high memory consumption.</span></span> <span data-ttu-id="1332c-226">Figyelendő egyes figyelők is beállíthatja [metrikák](web-sites-monitor.md).</span><span class="sxs-lookup"><span data-stu-id="1332c-226">You can also setup monitors to watch for certain [metrics](web-sites-monitor.md).</span></span> <span data-ttu-id="1332c-227">Ha a memóriahasználat ellenőrzése a következőn: a [Azure Portal irányítópult](../application-insights/app-insights-web-monitor-performance.md), a memória tartozó maximális értékeket. részletekért tekintse meg, hogy nem hagy ki ki a maximális értékeket.</span><span class="sxs-lookup"><span data-stu-id="1332c-227">When checking the memory usage on the [Azure Portal Dashboard](../application-insights/app-insights-web-monitor-performance.md), please check the MAX values for memory so you don’t miss out the peak values.</span></span>

#### <a name="leak-detection-and-heap-diffing-for-nodejs"></a><span data-ttu-id="1332c-228">A node.js felderítését és a halommemória Diffing szivárgás lépett fel</span><span class="sxs-lookup"><span data-stu-id="1332c-228">Leak detection and Heap Diffing for node.js</span></span>
<span data-ttu-id="1332c-229">Használhat [csomópont-memwatch](https://github.com/lloyd/node-memwatch) segítségével azonosíthatja a memória-szivárgást.</span><span class="sxs-lookup"><span data-stu-id="1332c-229">You could use [node-memwatch](https://github.com/lloyd/node-memwatch) to help you identify memory leaks.</span></span>
<span data-ttu-id="1332c-230">Hasonlóan v8-Profilkészítő memwatch telepítheti, és szerkesztheti a kódot a rögzítési és a különbözeti azonosítására, a memória halommemóriákban-szivárgást az alkalmazásban.</span><span class="sxs-lookup"><span data-stu-id="1332c-230">You can install memwatch just like v8-profiler and edit your code to capture and diff heaps to identify the memory leaks in your application.</span></span>

### <a name="my-nodeexes-are-getting-killed-randomly"></a><span data-ttu-id="1332c-231">A node.exe vannak első véletlenszerűen leállítása</span><span class="sxs-lookup"><span data-stu-id="1332c-231">My node.exe’s are getting killed randomly</span></span>
<span data-ttu-id="1332c-232">Néhány oka miért Ez történhet:</span><span class="sxs-lookup"><span data-stu-id="1332c-232">There are a few reasons why this could be happening:</span></span>

1. <span data-ttu-id="1332c-233">Az alkalmazás szűrész nem kezelt kivételek – kérjük ellenőrzés d:\\otthoni\\naplófájlok\\alkalmazás\\a kivétel lépett fel a részletes naplózás-errors.txt fájlt.</span><span class="sxs-lookup"><span data-stu-id="1332c-233">Your application is throwing uncaught exceptions – Please check d:\\home\\LogFiles\\Application\\logging-errors.txt file for the details on the exception thrown.</span></span> <span data-ttu-id="1332c-234">Ez a fájl rendelkezik a Veremkivonat, így ezt úgy javíthatja ki az alkalmazás ennek alapján.</span><span class="sxs-lookup"><span data-stu-id="1332c-234">This file has the stack trace so you can fix your application based on this.</span></span>
2. <span data-ttu-id="1332c-235">Az alkalmazás által felhasznált túl sok memóriát, amely érinti a bevezetés más folyamatokkal.</span><span class="sxs-lookup"><span data-stu-id="1332c-235">Your application is consuming too much memory which is affecting other processes from getting started.</span></span> <span data-ttu-id="1332c-236">Ha az összes virtuális gép memória megközelíti a 100 %-os, a node.exe a folyamat-kezelő ahhoz, hogy más folyamatok néhány munkájuk is sikertelen lehet leállítani.</span><span class="sxs-lookup"><span data-stu-id="1332c-236">If the total VM memory is close to 100%, your node.exe’s could be killed by the process manager to let other processes get a chance to do some work.</span></span> <span data-ttu-id="1332c-237">A javítás érdekében győződjön meg arról, hogy az alkalmazás nem memóriaszivárgást, vagy ha alkalmazás valóban nagy mennyiségű memória használatára van szüksége, adjon vertikális felskálázás sokkal több RAM memóriával rendelkező egy nagyobb virtuális géphez.</span><span class="sxs-lookup"><span data-stu-id="1332c-237">To fix this, either make sure your application is not leaking memory OR if you application really needs to use a lot of memory, please scale up to a larger VM with a lot more RAM.</span></span>

### <a name="my-node-application-does-not-start"></a><span data-ttu-id="1332c-238">A csomópont alkalmazás nem indul el</span><span class="sxs-lookup"><span data-stu-id="1332c-238">My node application does not start</span></span>
<span data-ttu-id="1332c-239">Az alkalmazás indításkor 500 hibát ad vissza, ha néhány oka lehet:</span><span class="sxs-lookup"><span data-stu-id="1332c-239">If your application is returning 500 Errors at startup, there could be a few reasons:</span></span>

1. <span data-ttu-id="1332c-240">NODE.exe nincs jelen a megfelelő helyen.</span><span class="sxs-lookup"><span data-stu-id="1332c-240">Node.exe is not present at the correct location.</span></span> <span data-ttu-id="1332c-241">Jelölje be nodeProcessCommandLine beállítást.</span><span class="sxs-lookup"><span data-stu-id="1332c-241">Check nodeProcessCommandLine setting.</span></span>
2. <span data-ttu-id="1332c-242">Fő parancsfájl verziója nem található megfelelő helyére.</span><span class="sxs-lookup"><span data-stu-id="1332c-242">Main script file is not present at the correct location.</span></span> <span data-ttu-id="1332c-243">Ellenőrizze a Web.config fájlban, és győződjön meg arról, hogy a kezelők szakaszában a fő parancsfájl neve megegyezik a fő parancsfájlt.</span><span class="sxs-lookup"><span data-stu-id="1332c-243">Check web.config and make sure the name of the main script file in the handlers section matches the main script file.</span></span>
3. <span data-ttu-id="1332c-244">Web.config konfigurációra nincs megfelelő – ellenőrizze a beállításokat neveket és-értékek.</span><span class="sxs-lookup"><span data-stu-id="1332c-244">Web.config configuration is not correct – check the settings names/values.</span></span>
4. <span data-ttu-id="1332c-245">Hidegindítás – az alkalmazás túl sokáig tart el.</span><span class="sxs-lookup"><span data-stu-id="1332c-245">Cold Start – Your application is taking too long to startup.</span></span> <span data-ttu-id="1332c-246">Ha az alkalmazás tovább tart, mint (maxNamedPipeConnectionRetry \* namedPipeConnectionRetryDelay) / 1000 másodperc, az iisnode 500 hibát ad vissza.</span><span class="sxs-lookup"><span data-stu-id="1332c-246">If your application takes longer than (maxNamedPipeConnectionRetry \* namedPipeConnectionRetryDelay) / 1000 seconds, iisnode will return 500 error.</span></span> <span data-ttu-id="1332c-247">Ezeket a beállításokat, az alkalmazás kezdete időtúllépés törlését és az 500 hiba az iisnode megelőzése érdekében kereséséhez értékek növelése.</span><span class="sxs-lookup"><span data-stu-id="1332c-247">Increase the values of these settings to match your application start time to prevent iisnode from timing out and returning the 500 error.</span></span>

### <a name="my-node-application-crashed"></a><span data-ttu-id="1332c-248">A csomópont alkalmazás összeomlott</span><span class="sxs-lookup"><span data-stu-id="1332c-248">My node application crashed</span></span>
<span data-ttu-id="1332c-249">Az alkalmazás szűrész nem kezelt kivételek – kérjük ellenőrzés d:\\otthoni\\naplófájlok\\alkalmazás\\a kivétel lépett fel a részletes naplózás-errors.txt fájlt.</span><span class="sxs-lookup"><span data-stu-id="1332c-249">Your application is throwing uncaught exceptions – Please check d:\\home\\LogFiles\\Application\\logging-errors.txt file for the details on the exception thrown.</span></span> <span data-ttu-id="1332c-250">Ez a fájl rendelkezik a Veremkivonat, így ezt úgy javíthatja ki az alkalmazás ennek alapján.</span><span class="sxs-lookup"><span data-stu-id="1332c-250">This file has the stack trace so you can fix your application based on this.</span></span>

### <a name="my-node-application-takes-too-much-time-to-startup-cold-start"></a><span data-ttu-id="1332c-251">A csomópont alkalmazás túl sok időt vesz igénybe el (Cold indítás)</span><span class="sxs-lookup"><span data-stu-id="1332c-251">My node application takes too much time to startup (Cold Start)</span></span>
<span data-ttu-id="1332c-252">Ennek leggyakoribb oka az, hogy az alkalmazás rendelkezik-e nagy mennyiségű csomópontjában fájlok\_modulok és az alkalmazás megkísérli betölteni ezeket a fájlokat a legtöbb indításakor.</span><span class="sxs-lookup"><span data-stu-id="1332c-252">Most common reason for this is that the application has a lot of files in the node\_modules and the application tries to load most of these files during startup.</span></span> <span data-ttu-id="1332c-253">Alapértelmezés szerint a fájlok találhatók, a hálózati megosztáson lévő Azure webalkalmazás, mivel betöltése sok fájlok némi időbe telhet.</span><span class="sxs-lookup"><span data-stu-id="1332c-253">By default, since your files reside on the network share on Azure Webapps, loading so many files can take some time.</span></span>
<span data-ttu-id="1332c-254">Néhány megoldások gyorsabb legyen ez a következők:</span><span class="sxs-lookup"><span data-stu-id="1332c-254">Some solutions to make this faster are:</span></span>

1. <span data-ttu-id="1332c-255">Ellenőrizze, hogy az egyszerű függőségi struktúra és a nem ismétlődő függőség npm3 használatával telepítse a modulokat.</span><span class="sxs-lookup"><span data-stu-id="1332c-255">Make sure you have a flat dependency structure and no duplicate dependencies by using npm3 to install your modules.</span></span>
2. <span data-ttu-id="1332c-256">Lusta változtassa meg a csomópont betöltése\_modulok, és nem indításkor modulok mindegyikének történik.</span><span class="sxs-lookup"><span data-stu-id="1332c-256">Try to lazy load your node\_modules and not load all of the modules at startup.</span></span> <span data-ttu-id="1332c-257">Ez azt jelenti, hogy require('module') hívása ténylegesen szükség esetén próbálja használni a modul a függvényen belülről kell elvégezni.</span><span class="sxs-lookup"><span data-stu-id="1332c-257">This means that the call to require(‘module’) should be done when you actually need it within the function you try to use the module.</span></span>
3. <span data-ttu-id="1332c-258">Az Azure webalkalmazás kínál a helyi gyorsítótár nevezett szolgáltatással.</span><span class="sxs-lookup"><span data-stu-id="1332c-258">Azure Webapps offers a feature called local cache.</span></span> <span data-ttu-id="1332c-259">Ez a szolgáltatás másolja át a tartalmat a hálózati megosztáshoz a helyi lemez a virtuális Gépen.</span><span class="sxs-lookup"><span data-stu-id="1332c-259">This feature copies your content from the network share to the local disk on the VM.</span></span> <span data-ttu-id="1332c-260">Mivel a fájlok helyi, a betöltési idő csomópont\_modulok sokkal gyorsabb.</span><span class="sxs-lookup"><span data-stu-id="1332c-260">Since the files are local, the load time of node\_modules is much faster.</span></span> <span data-ttu-id="1332c-261">-A [dokumentáció](../app-service/app-service-local-cache.md) használatát a helyi gyorsítótár részletesebben ismerteti.</span><span class="sxs-lookup"><span data-stu-id="1332c-261">- This [documentation](../app-service/app-service-local-cache.md) explains how to use Local Cache in more detail.</span></span>

## <a name="iisnode-http-status-and-substatus"></a><span data-ttu-id="1332c-262">Az IISNODE http-állapot és részállapot</span><span class="sxs-lookup"><span data-stu-id="1332c-262">IISNODE http status and substatus</span></span>
<span data-ttu-id="1332c-263">Ez [forrásfájl](https://github.com/Azure/iisnode/blob/master/src/iisnode/cnodeconstants.h) felsorolja az összes hiba esetén a lehetséges állapota/részállapot kombinációja iisnode lépjen vissza.</span><span class="sxs-lookup"><span data-stu-id="1332c-263">This [source file](https://github.com/Azure/iisnode/blob/master/src/iisnode/cnodeconstants.h) lists all the possible status/substatus combination iisnode can return in case of error.</span></span>

<span data-ttu-id="1332c-264">A win32 hibakód megtekintéséhez az alkalmazás FREB engedélyezése (Ellenőrizze, hogy csak a nem éles helyeken a teljesítményre vonatkozó megfontolásból FREB engedélyezi).</span><span class="sxs-lookup"><span data-stu-id="1332c-264">Enable FREB for your application to see the win32 error code (please make sure you enable FREB only on non-production sites for performance reasons).</span></span>

| <span data-ttu-id="1332c-265">HTTP-állapot</span><span class="sxs-lookup"><span data-stu-id="1332c-265">Http Status</span></span> | <span data-ttu-id="1332c-266">HTTP-SubStatus</span><span class="sxs-lookup"><span data-stu-id="1332c-266">Http SubStatus</span></span> | <span data-ttu-id="1332c-267">Lehetséges ok?</span><span class="sxs-lookup"><span data-stu-id="1332c-267">Possible Reason?</span></span> |
| --- | --- | --- |
| <span data-ttu-id="1332c-268">500</span><span class="sxs-lookup"><span data-stu-id="1332c-268">500</span></span> |<span data-ttu-id="1332c-269">1000</span><span class="sxs-lookup"><span data-stu-id="1332c-269">1000</span></span> |<span data-ttu-id="1332c-270">Hiba történt az egyes IISNODE kérelem terjesztéséhez probléma – ellenőrizze, hogy node.exe indult-e.</span><span class="sxs-lookup"><span data-stu-id="1332c-270">There was some issue dispatching the request to IISNODE – check if node.exe was started up.</span></span> <span data-ttu-id="1332c-271">Indításkor node.exe sikerült összeomlott.</span><span class="sxs-lookup"><span data-stu-id="1332c-271">Node.exe could have crashed on startup.</span></span> <span data-ttu-id="1332c-272">Ellenőrizze a web.config konfigurációs hibák.</span><span class="sxs-lookup"><span data-stu-id="1332c-272">Check your web.config configuration for errors.</span></span> |
| <span data-ttu-id="1332c-273">500</span><span class="sxs-lookup"><span data-stu-id="1332c-273">500</span></span> |<span data-ttu-id="1332c-274">1001</span><span class="sxs-lookup"><span data-stu-id="1332c-274">1001</span></span> |<span data-ttu-id="1332c-275">-Win32Error 0x2 - alkalmazás az URL-cím nem válaszol.</span><span class="sxs-lookup"><span data-stu-id="1332c-275">- Win32Error 0x2 - App is not responding to the URL.</span></span> <span data-ttu-id="1332c-276">Ellenőrizze az URL-cím átdolgozás szabályok, vagy hogy rendelkezik-e a helyes definiált útvonalak az express alkalmazást.</span><span class="sxs-lookup"><span data-stu-id="1332c-276">Check URL rewrite rules or if your express app has the correct routes defined.</span></span> <span data-ttu-id="1332c-277">-Win32Error 0x6d – nevesített cső elfoglalva, – Node.exe nem fogad el kérelmeket, mert a cső elfoglalva.</span><span class="sxs-lookup"><span data-stu-id="1332c-277">- Win32Error 0x6d – named pipe is busy – Node.exe is not accepting requests because the pipe is busy.</span></span> <span data-ttu-id="1332c-278">Ellenőrizze a nagy cpu-használat.</span><span class="sxs-lookup"><span data-stu-id="1332c-278">Check high cpu usage.</span></span> <span data-ttu-id="1332c-279">-Más hibák – ellenőrizze, hogy ha node.exe összeomlott.</span><span class="sxs-lookup"><span data-stu-id="1332c-279">- Other errors – check if node.exe crashed.</span></span> |
| <span data-ttu-id="1332c-280">500</span><span class="sxs-lookup"><span data-stu-id="1332c-280">500</span></span> |<span data-ttu-id="1332c-281">1002</span><span class="sxs-lookup"><span data-stu-id="1332c-281">1002</span></span> |<span data-ttu-id="1332c-282">NODE.exe összeomlott – d: Ellenőrizze\\otthoni\\naplófájlok\\naplózási-errors.txt Veremkivonat a.</span><span class="sxs-lookup"><span data-stu-id="1332c-282">Node.exe crashed – check d:\\home\\LogFiles\\logging-errors.txt for stack trace.</span></span> |
| <span data-ttu-id="1332c-283">500</span><span class="sxs-lookup"><span data-stu-id="1332c-283">500</span></span> |<span data-ttu-id="1332c-284">1003</span><span class="sxs-lookup"><span data-stu-id="1332c-284">1003</span></span> |<span data-ttu-id="1332c-285">Konfigurációs probléma pipe – soha nem kell megjelennie a, de ha így tesz, a nevesített cső konfigurációja nem megfelelő.</span><span class="sxs-lookup"><span data-stu-id="1332c-285">Pipe configuration Issue – You should never see this but if you do, the named pipe configuration is incorrect.</span></span> |
| <span data-ttu-id="1332c-286">500</span><span class="sxs-lookup"><span data-stu-id="1332c-286">500</span></span> |<span data-ttu-id="1332c-287">1004-1018</span><span class="sxs-lookup"><span data-stu-id="1332c-287">1004-1018</span></span> |<span data-ttu-id="1332c-288">Néhány hiba történt a kérelem küldésekor, vagy node.exe és a válasz feldolgozását.</span><span class="sxs-lookup"><span data-stu-id="1332c-288">There was some error while sending the request or processing the response to/from node.exe.</span></span> <span data-ttu-id="1332c-289">Ellenőrizze, hogy node.exe összeomlott.</span><span class="sxs-lookup"><span data-stu-id="1332c-289">Check if node.exe crashed.</span></span> <span data-ttu-id="1332c-290">Ellenőrizze a d:\\otthoni\\naplófájlok\\naplózási-errors.txt Veremkivonat a.</span><span class="sxs-lookup"><span data-stu-id="1332c-290">check d:\\home\\LogFiles\\logging-errors.txt for stack trace.</span></span> |
| <span data-ttu-id="1332c-291">503</span><span class="sxs-lookup"><span data-stu-id="1332c-291">503</span></span> |<span data-ttu-id="1332c-292">1000</span><span class="sxs-lookup"><span data-stu-id="1332c-292">1000</span></span> |<span data-ttu-id="1332c-293">Foglaljon le több nevesített cső kapcsolat nem elegendő memória.</span><span class="sxs-lookup"><span data-stu-id="1332c-293">Not enough memory to allocate more named pipe connections.</span></span> <span data-ttu-id="1332c-294">Ellenőrizze, hogy miért az alkalmazás nem használ a sok memóriát.</span><span class="sxs-lookup"><span data-stu-id="1332c-294">Check why your app is consuming so much memory.</span></span> <span data-ttu-id="1332c-295">Ellenőrizze a maxConcurrentRequestsPerProcess beállítás értékét.</span><span class="sxs-lookup"><span data-stu-id="1332c-295">Check maxConcurrentRequestsPerProcess setting value.</span></span> <span data-ttu-id="1332c-296">Ha nem végtelen, és nagy mennyiségű kérést rendelkezik, a hiba az érték növelése.</span><span class="sxs-lookup"><span data-stu-id="1332c-296">If its not infinite and you have a lot of requests, increase this value to prevent this error.</span></span> |
| <span data-ttu-id="1332c-297">503</span><span class="sxs-lookup"><span data-stu-id="1332c-297">503</span></span> |<span data-ttu-id="1332c-298">1001</span><span class="sxs-lookup"><span data-stu-id="1332c-298">1001</span></span> |<span data-ttu-id="1332c-299">Kérelem nem sikerült node.exe továbbítani, mert az alkalmazás újrahasznosítása van.</span><span class="sxs-lookup"><span data-stu-id="1332c-299">Request could not be dispatched to node.exe because the application is recycling.</span></span> <span data-ttu-id="1332c-300">Miután az alkalmazás rendelkezik felhasználását, kérelmek általában fel kell dolgozni.</span><span class="sxs-lookup"><span data-stu-id="1332c-300">After the application has recycled, requests should be served normally.</span></span> |
| <span data-ttu-id="1332c-301">503</span><span class="sxs-lookup"><span data-stu-id="1332c-301">503</span></span> |<span data-ttu-id="1332c-302">1002</span><span class="sxs-lookup"><span data-stu-id="1332c-302">1002</span></span> |<span data-ttu-id="1332c-303">Nem sikerült továbbítani a jelölőnégyzet win32 hibakód tényleges okból – kérelem egy node.exe számára.</span><span class="sxs-lookup"><span data-stu-id="1332c-303">Check win32 error code for actual reason – Request could not be dispatched to a node.exe.</span></span> |
| <span data-ttu-id="1332c-304">503</span><span class="sxs-lookup"><span data-stu-id="1332c-304">503</span></span> |<span data-ttu-id="1332c-305">1003</span><span class="sxs-lookup"><span data-stu-id="1332c-305">1003</span></span> |<span data-ttu-id="1332c-306">Nevesített cső jelenleg túl elfoglalt – ellenőrizze, hogy ha a csomópont nem használ-e nagy mennyiségű Processzor</span><span class="sxs-lookup"><span data-stu-id="1332c-306">Named pipe is too Busy – Check if node is consuming a lot of CPU</span></span> |

<span data-ttu-id="1332c-307">Egy beállítás belül nevű csomópont NODE.exe\_FÜGGŐBEN\_CSŐ\_példányok.</span><span class="sxs-lookup"><span data-stu-id="1332c-307">There is a setting within NODE.exe called NODE\_PENDING\_PIPE\_INSTANCES.</span></span> <span data-ttu-id="1332c-308">Azure webalkalmazás kívül alapértelmezés szerint ez az érték 4.</span><span class="sxs-lookup"><span data-stu-id="1332c-308">By default outside of azure webapps this value is 4.</span></span> <span data-ttu-id="1332c-309">Ez azt jelenti, hogy node.exe 4 kérés törléshez a nevesített csövön egyszerre.</span><span class="sxs-lookup"><span data-stu-id="1332c-309">This means that node.exe can only accept 4 requests at a time on the named pipe.</span></span> <span data-ttu-id="1332c-310">Az Azure-webalkalmazás Ez az érték 5000 van beállítva, és ennek az értéknek kell lennie elég jó azure webalkalmazás futó legtöbb csomópont alkalmazásokhoz.</span><span class="sxs-lookup"><span data-stu-id="1332c-310">On Azure Webapps, this value is set to 5000 and this value should be good enough for most node applications running on azure webapps.</span></span> <span data-ttu-id="1332c-311">Nem megjelenik 503.1003 azure webalkalmazás mert nagy érték van a csomópont\_FÜGGŐBEN\_CSŐ\_példányok.</span><span class="sxs-lookup"><span data-stu-id="1332c-311">You should not see 503.1003 on azure webapps because we have a high value for the NODE\_PENDING\_PIPE\_INSTANCES.</span></span>  |

## <a name="more-resources"></a><span data-ttu-id="1332c-312">További erőforrások</span><span class="sxs-lookup"><span data-stu-id="1332c-312">More resources</span></span>
<span data-ttu-id="1332c-313">Az alábbi hivatkozásokból tudhat meg többet az Azure App Service a node.js-alkalmazások.</span><span class="sxs-lookup"><span data-stu-id="1332c-313">Follow these links to learn more about node.js applications on Azure App Service.</span></span>

* [<span data-ttu-id="1332c-314">Ismerkedés a Node.js webalkalmazásokkal az Azure App Service-ben</span><span class="sxs-lookup"><span data-stu-id="1332c-314">Get started with Node.js web apps in Azure App Service</span></span>](app-service-web-get-started-nodejs.md)
* [<span data-ttu-id="1332c-315">A Node.js webalkalmazás hibakeresése az Azure App Service-ben</span><span class="sxs-lookup"><span data-stu-id="1332c-315">How to debug a Node.js web app in Azure App Service</span></span>](web-sites-nodejs-debug.md)
* [<span data-ttu-id="1332c-316">A Node.js modulok használata az Azure alkalmazásokkal</span><span class="sxs-lookup"><span data-stu-id="1332c-316">Using Node.js Modules with Azure applications</span></span>](../nodejs-use-node-modules-azure-apps.md)
* [<span data-ttu-id="1332c-317">Azure App Service Web Apps: Node.js</span><span class="sxs-lookup"><span data-stu-id="1332c-317">Azure App Service Web Apps: Node.js</span></span>](https://blogs.msdn.microsoft.com/silverlining/2012/06/14/windows-azure-websites-node-js/)
* [<span data-ttu-id="1332c-318">Node.js fejlesztői központ</span><span class="sxs-lookup"><span data-stu-id="1332c-318">Node.js Developer Center</span></span>](../nodejs-use-node-modules-azure-apps.md)
* [<span data-ttu-id="1332c-319">A Szupertitkos Kudu hibakereső konzol felfedezése</span><span class="sxs-lookup"><span data-stu-id="1332c-319">Exploring the Super Secret Kudu Debug Console</span></span>](https://azure.microsoft.com/documentation/videos/super-secret-kudu-debug-console-for-azure-web-sites/)

