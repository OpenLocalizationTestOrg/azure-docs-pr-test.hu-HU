---
title: "aaaHow tooControl bejövő forgalom tooan App Service Environment-környezet"
description: "További információk a hogyan tooconfigure hálózati biztonsági szabályok toocontrol bejövő forgalom tooan App Service Environment-környezet."
services: app-service
documentationcenter: 
author: ccompy
manager: erikre
editor: 
ms.assetid: 4cc82439-8791-48a4-9485-de6d8e1d1a08
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/11/2017
ms.author: stefsch
ms.openlocfilehash: e7c6e6201db6a1ea77f7a2eee29a3b5445175495
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="how-toocontrol-inbound-traffic-tooan-app-service-environment"></a><span data-ttu-id="b256b-103">Hogyan tooControl bejövő forgalom tooan App Service Environment-környezet</span><span class="sxs-lookup"><span data-stu-id="b256b-103">How tooControl Inbound Traffic tooan App Service Environment</span></span>
## <a name="overview"></a><span data-ttu-id="b256b-104">Áttekintés</span><span class="sxs-lookup"><span data-stu-id="b256b-104">Overview</span></span>
<span data-ttu-id="b256b-105">Az App Service-környezetek hozhatók létre **vagy** az Azure Resource Manager virtuális hálózati **vagy** klasszikus telepítési modell [virtuális hálózati][virtualnetwork].</span><span class="sxs-lookup"><span data-stu-id="b256b-105">An App Service Environment can be created in **either** an Azure Resource Manager virtual network, **or** a classic deployment model [virtual network][virtualnetwork].</span></span>  <span data-ttu-id="b256b-106">Egy új virtuális hálózat és az új alhálózat hello létrehozásakor az App Service-környezetek adhatók meg.</span><span class="sxs-lookup"><span data-stu-id="b256b-106">A new virtual network and new subnet can be defined at hello time an App Service Environment is created.</span></span>  <span data-ttu-id="b256b-107">Másik lehetőségként az App Service-környezetek is létrehozható egy már meglévő virtuális hálózat és a korábban létrehozott alhálózati.</span><span class="sxs-lookup"><span data-stu-id="b256b-107">Alternatively, an App Service Environment can be created in a pre-existing virtual network and pre-existing subnet.</span></span>  <span data-ttu-id="b256b-108">2016. június a módosítások a ASEs is is telepíthető az nyilvános címtartományt, vagy RFC1918 címterek (azaz Magáncímeket) használó virtuális hálózatok.</span><span class="sxs-lookup"><span data-stu-id="b256b-108">With a change made in June 2016, ASEs can also be deployed into virtual networks that use either public address ranges, or RFC1918 address spaces (i.e. private addresses).</span></span>  <span data-ttu-id="b256b-109">További információ az App Service-környezetek létrehozásáról: [hogyan tooCreate az App Service-környezetek][HowToCreateAnAppServiceEnvironment].</span><span class="sxs-lookup"><span data-stu-id="b256b-109">For more details on creating an App Service Environment see [How tooCreate an App Service Environment][HowToCreateAnAppServiceEnvironment].</span></span>

<span data-ttu-id="b256b-110">Az App Service-környezetek mindig kell létrehozni egy alhálózaton belül mert alhálózat biztosít egy olyan hálózathatárhoz használt toolock bejövő forgalom felsőbb rétegbeli eszközök és a szolgáltatások le lesz úgy, hogy a HTTP és HTTPS-forgalom csak elfogadható meghatározott felsőbb rétegbeli IP-címeket.</span><span class="sxs-lookup"><span data-stu-id="b256b-110">An App Service Environment must always be created within a subnet because a subnet provides a network boundary which can be used toolock down inbound traffic behind upstream devices and services such that HTTP and HTTPS traffic is only accepted from specific upstream IP addresses.</span></span>

<span data-ttu-id="b256b-111">Bejövő és kimenő hálózati forgalom az alhálózat segítségével kezelhető egy [hálózati biztonsági csoport][NetworkSecurityGroups].</span><span class="sxs-lookup"><span data-stu-id="b256b-111">Inbound and outbound network traffic on a subnet is controlled using a [network security group][NetworkSecurityGroups].</span></span> <span data-ttu-id="b256b-112">Bejövő forgalom vezérlése igényel a hálózati biztonsági szabályok létrehozása a hálózati biztonsági csoport, és ezután rendelje hozzá a hello hálózati biztonsági csoport hello alhálózati tartalmazó hello App Service Environment-környezet.</span><span class="sxs-lookup"><span data-stu-id="b256b-112">Controlling inbound traffic requires creating network security rules in a network security group, and then assigning hello network security group hello subnet containing hello App Service Environment.</span></span>

<span data-ttu-id="b256b-113">Ha hálózati biztonsági csoport tooa alhálózathoz van hozzárendelve, a bejövő forgalom tooapps az App Service Environment-környezet, engedélyezett vagy letiltott hello alapján hello engedélyezése, és a megtagadási hello hálózati biztonsági csoport meghatározott szabályokat.</span><span class="sxs-lookup"><span data-stu-id="b256b-113">Once a network security group is assigned tooa subnet, inbound traffic tooapps in hello App Service Environment is allowed/blocked based on hello allow and deny rules defined in hello network security group.</span></span>

[!INCLUDE [app-service-web-to-api-and-mobile](../../includes/app-service-web-to-api-and-mobile.md)]

## <a name="inbound-network-ports-used-in-an-app-service-environment"></a><span data-ttu-id="b256b-114">Szerepel az App Service-környezetek bejövő hálózati portok</span><span class="sxs-lookup"><span data-stu-id="b256b-114">Inbound Network Ports Used in an App Service Environment</span></span>
<span data-ttu-id="b256b-115">A hálózati biztonsági csoportok bejövő hálózati forgalom zárolása, mielőtt azt egy fontos tooknow hello egy App Service Environment-környezet által használt szükséges és választható hálózati portok.</span><span class="sxs-lookup"><span data-stu-id="b256b-115">Before locking down inbound network traffic with a network security group, it is important tooknow hello set of required and optional network ports used by an App Service Environment.</span></span>  <span data-ttu-id="b256b-116">Ki a forgalom toosome portok véletlenül bezárja azt eredményezheti, hogy működésképtelenné egy App Service Environment-környezetben.</span><span class="sxs-lookup"><span data-stu-id="b256b-116">Accidentally closing off traffic toosome ports can result in loss of functionality in an App Service Environment.</span></span>

<span data-ttu-id="b256b-117">hello egy App Service Environment-környezet által használt portok listája látható.</span><span class="sxs-lookup"><span data-stu-id="b256b-117">hello following is a list of ports used by an App Service Environment.</span></span> <span data-ttu-id="b256b-118">Minden portjait **TCP**, ha nincs másként jelezve egyértelműen:</span><span class="sxs-lookup"><span data-stu-id="b256b-118">All ports are **TCP**, unless otherwise clearly noted:</span></span>

* <span data-ttu-id="b256b-119">454: **port szükséges** kezelése és karbantartása az App Service Environment-környezetek SSL-en keresztüli Azure-infrastruktúra használják.</span><span class="sxs-lookup"><span data-stu-id="b256b-119">454:  **Required port** used by Azure infrastructure for managing and maintaining App Service Environments via SSL.</span></span>  <span data-ttu-id="b256b-120">Forgalom toothis portot nem blokkolja.</span><span class="sxs-lookup"><span data-stu-id="b256b-120">Do not block traffic toothis port.</span></span>  <span data-ttu-id="b256b-121">Ez a port nem mindig kötött toohello nyilvános VIP egy hajlamosnak.</span><span class="sxs-lookup"><span data-stu-id="b256b-121">This port is always bound toohello public VIP of an ASE.</span></span>
* <span data-ttu-id="b256b-122">455: **port szükséges** kezelése és karbantartása az App Service Environment-környezetek SSL-en keresztüli Azure-infrastruktúra használják.</span><span class="sxs-lookup"><span data-stu-id="b256b-122">455:  **Required port** used by Azure infrastructure for managing and maintaining App Service Environments via SSL.</span></span>  <span data-ttu-id="b256b-123">Forgalom toothis portot nem blokkolja.</span><span class="sxs-lookup"><span data-stu-id="b256b-123">Do not block traffic toothis port.</span></span>  <span data-ttu-id="b256b-124">Ez a port nem mindig kötött toohello nyilvános VIP egy hajlamosnak.</span><span class="sxs-lookup"><span data-stu-id="b256b-124">This port is always bound toohello public VIP of an ASE.</span></span>
* <span data-ttu-id="b256b-125">80: alapértelmezett port a HTTP-forgalom bejövő tooapps App Service-csomag egy App Service Environment-környezetben futtatja.</span><span class="sxs-lookup"><span data-stu-id="b256b-125">80:  Default port for inbound HTTP traffic tooapps running in App Service Plans in an App Service Environment.</span></span>  <span data-ttu-id="b256b-126">A ILB-kompatibilis ASE Ez a port nem kötött toohello ILB címe hello ASE.</span><span class="sxs-lookup"><span data-stu-id="b256b-126">On an ILB-enabled ASE, this port is bound toohello ILB address of hello ASE.</span></span>
* <span data-ttu-id="b256b-127">443-as: alapértelmezett port a bejövő SSL forgalom tooapps App Service-csomag egy App Service Environment-környezetben futtatja.</span><span class="sxs-lookup"><span data-stu-id="b256b-127">443: Default port for inbound SSL traffic tooapps running in App Service Plans in an App Service Environment.</span></span>  <span data-ttu-id="b256b-128">A ILB-kompatibilis ASE Ez a port nem kötött toohello ILB címe hello ASE.</span><span class="sxs-lookup"><span data-stu-id="b256b-128">On an ILB-enabled ASE, this port is bound toohello ILB address of hello ASE.</span></span>
* <span data-ttu-id="b256b-129">21: FTP-vezérlőcsatorna.</span><span class="sxs-lookup"><span data-stu-id="b256b-129">21:  Control channel for FTP.</span></span>  <span data-ttu-id="b256b-130">Ez a port biztonságosan blokkolható, ha az FTP nem használja.</span><span class="sxs-lookup"><span data-stu-id="b256b-130">This port can be safely blocked if FTP is not being used.</span></span>  <span data-ttu-id="b256b-131">Ezt a portot egy ILB-kompatibilis ASE lehetnek egy ASE kötött toohello ILB címet.</span><span class="sxs-lookup"><span data-stu-id="b256b-131">On an ILB-enabled ASE, this port can be bound toohello ILB address for an ASE.</span></span>
* <span data-ttu-id="b256b-132">990: ftps-t a vezérlőcsatornához.</span><span class="sxs-lookup"><span data-stu-id="b256b-132">990:  Control channel for FTPS.</span></span>  <span data-ttu-id="b256b-133">Ez a port biztonságosan blokkolható, ha még nem használ ftps-t.</span><span class="sxs-lookup"><span data-stu-id="b256b-133">This port can be safely blocked if FTPS is not being used.</span></span>  <span data-ttu-id="b256b-134">Ezt a portot egy ILB-kompatibilis ASE lehetnek egy ASE kötött toohello ILB címet.</span><span class="sxs-lookup"><span data-stu-id="b256b-134">On an ILB-enabled ASE, this port can be bound toohello ILB address for an ASE.</span></span>
* <span data-ttu-id="b256b-135">10001-10020: FTP-adatcsatornákhoz.</span><span class="sxs-lookup"><span data-stu-id="b256b-135">10001-10020: Data channels for FTP.</span></span>  <span data-ttu-id="b256b-136">Mivel a hello vezérlőcsatorna, ezeket a portokat biztonságosan blokkolható Ha FTP nincs használatban.</span><span class="sxs-lookup"><span data-stu-id="b256b-136">As with hello control channel, these ports can be safely blocked if FTP is not being used.</span></span>  <span data-ttu-id="b256b-137">Ezt a portot egy ILB-kompatibilis ASE lehetnek kötött toohello ASE tartozó ILB cím.</span><span class="sxs-lookup"><span data-stu-id="b256b-137">On an ILB-enabled ASE, this port can be bound toohello ASE's ILB address.</span></span>
* <span data-ttu-id="b256b-138">4016: a Visual Studio 2012 távoli hibakereséshez.</span><span class="sxs-lookup"><span data-stu-id="b256b-138">4016: Used for remote debugging with Visual Studio 2012.</span></span>  <span data-ttu-id="b256b-139">Ez a port biztonságosan blokkolható Ha hello szolgáltatást nem használja.</span><span class="sxs-lookup"><span data-stu-id="b256b-139">This port can be safely blocked if hello feature is not being used.</span></span>  <span data-ttu-id="b256b-140">A ILB-kompatibilis ASE Ez a port nem kötött toohello ILB címe hello ASE.</span><span class="sxs-lookup"><span data-stu-id="b256b-140">On an ILB-enabled ASE, this port is bound toohello ILB address of hello ASE.</span></span>
* <span data-ttu-id="b256b-141">4018: a Visual Studio 2013 távoli hibakereséshez.</span><span class="sxs-lookup"><span data-stu-id="b256b-141">4018: Used for remote debugging with Visual Studio 2013.</span></span>  <span data-ttu-id="b256b-142">Ez a port biztonságosan blokkolható Ha hello szolgáltatást nem használja.</span><span class="sxs-lookup"><span data-stu-id="b256b-142">This port can be safely blocked if hello feature is not being used.</span></span>  <span data-ttu-id="b256b-143">A ILB-kompatibilis ASE Ez a port nem kötött toohello ILB címe hello ASE.</span><span class="sxs-lookup"><span data-stu-id="b256b-143">On an ILB-enabled ASE, this port is bound toohello ILB address of hello ASE.</span></span>
* <span data-ttu-id="b256b-144">4020: a Visual Studio 2015-höz távoli hibakereséshez.</span><span class="sxs-lookup"><span data-stu-id="b256b-144">4020: Used for remote debugging with Visual Studio 2015.</span></span>  <span data-ttu-id="b256b-145">Ez a port biztonságosan blokkolható Ha hello szolgáltatást nem használja.</span><span class="sxs-lookup"><span data-stu-id="b256b-145">This port can be safely blocked if hello feature is not being used.</span></span>  <span data-ttu-id="b256b-146">A ILB-kompatibilis ASE Ez a port nem kötött toohello ILB címe hello ASE.</span><span class="sxs-lookup"><span data-stu-id="b256b-146">On an ILB-enabled ASE, this port is bound toohello ILB address of hello ASE.</span></span>

## <a name="outbound-connectivity-and-dns-requirements"></a><span data-ttu-id="b256b-147">Kimenő kapcsolatok és a DNS-követelmények</span><span class="sxs-lookup"><span data-stu-id="b256b-147">Outbound Connectivity and DNS Requirements</span></span>
<span data-ttu-id="b256b-148">Az App Service Environment-környezet toofunction megfelelően, azt is szükséges kimenő hozzáférést toovarious végpontok.</span><span class="sxs-lookup"><span data-stu-id="b256b-148">For an App Service Environment toofunction properly, it also requires outbound access toovarious endpoints.</span></span> <span data-ttu-id="b256b-149">Hello külső végpontok egy ASE által használt teljes listája megtalálható-e hello hello "A hálózati kapcsolat szükséges" szakasza [ExpressRoute tartozó fürthálózat-konfiguráció](app-service-app-service-environment-network-configuration-expressroute.md#required-network-connectivity) cikk.</span><span class="sxs-lookup"><span data-stu-id="b256b-149">A full list of hello external endpoints used by an ASE is in hello "Required Network Connectivity" section of hello [Network Configuration for ExpressRoute](app-service-app-service-environment-network-configuration-expressroute.md#required-network-connectivity) article.</span></span>

<span data-ttu-id="b256b-150">App Service-környezetek hello virtuális hálózat egy érvényes DNS-infrastruktúra szükséges.</span><span class="sxs-lookup"><span data-stu-id="b256b-150">App Service Environments require a valid DNS infrastructure configured for hello virtual network.</span></span>  <span data-ttu-id="b256b-151">Ha bármilyen okból hello DNS-konfiguráció esetén megváltozik egy App Service Environment-környezet létrehozása után, a fejlesztők kényszerítheti az App Service Environment-környezet toopick hello új DNS-konfiguráció.</span><span class="sxs-lookup"><span data-stu-id="b256b-151">If for any reason hello DNS configuration is changed after an App Service Environment has been created, developers can force an App Service Environment toopick up hello new DNS configuration.</span></span>  <span data-ttu-id="b256b-152">Működés közbeni környezet újraindítás hello App Service Environment-környezet felügyeleti panel az hello hello tetején található ikon "Restart" hello segítségével váltanak [Azure-portálon] [ NewPortal] hello környezet toopick, akkor másolatot hello új DNS-konfiguráció.</span><span class="sxs-lookup"><span data-stu-id="b256b-152">Triggering a rolling environment reboot using hello "Restart" icon located at hello top of hello App Service Environment management blade in hello [Azure portal][NewPortal] will cause hello environment toopick up hello new DNS configuration.</span></span>

<span data-ttu-id="b256b-153">Ajánlott továbbá, hogy egyéni DNS-kiszolgálók hello a virtuális hálózaton kell előre idő előzetes toocreating az App Service-környezetek beállítása.</span><span class="sxs-lookup"><span data-stu-id="b256b-153">It is also recommended that any custom DNS servers on hello vnet be setup ahead of time prior toocreating an App Service Environment.</span></span>  <span data-ttu-id="b256b-154">Ha egy virtuális hálózat DNS-konfiguráció megváltozott egy App Service Environment-környezet létrehozása közben, hello App Service Environment-környezet létrehozása folyamat sikertelen vezethet.</span><span class="sxs-lookup"><span data-stu-id="b256b-154">If a virtual network's DNS configuration is changed while an App Service Environment is being created, that will result in hello App Service Environment creation process failing.</span></span>  <span data-ttu-id="b256b-155">Egy hasonló tekintettel az egyéni DNS-kiszolgáló létezik a hello másik végén egy VPN gateway és hello DNS-kiszolgáló esetén nem érhető el vagy nem érhető el, hello App Service Environment-környezet létrehozása is sikertelen lesz.</span><span class="sxs-lookup"><span data-stu-id="b256b-155">In a similar vein, if a custom DNS server exists on hello other end of a VPN gateway, and hello DNS server is unreachable or unavailable, hello App Service Environment creation process will also fail.</span></span>

## <a name="creating-a-network-security-group"></a><span data-ttu-id="b256b-156">Hálózati biztonsági csoport létrehozása</span><span class="sxs-lookup"><span data-stu-id="b256b-156">Creating a Network Security Group</span></span>
<span data-ttu-id="b256b-157">Teljes hogyan hálózati biztonsági csoportok témakör hello következő [információk][NetworkSecurityGroups].</span><span class="sxs-lookup"><span data-stu-id="b256b-157">For full details on how network security groups work see hello following [information][NetworkSecurityGroups].</span></span>  <span data-ttu-id="b256b-158">hálózati biztonsági csoportok konfigurálása és alkalmazása az olyan hálózati biztonsági csoport tooa alhálózatot, amely tartalmazza az App Service Environment-környezet egy aktuális alábbi simításokat a hello Azure szolgáltatásfelügyelet példa mutatja be.</span><span class="sxs-lookup"><span data-stu-id="b256b-158">hello Azure Service Management example below touches on highlights of network security groups, with a focus on configuring and applying a network security group tooa subnet that contains an App Service Environment.</span></span>

<span data-ttu-id="b256b-159">**Megjegyzés:** hálózati biztonsági csoport konfigurálható grafikusan segítségével hello [Azure Portal](https://portal.azure.com) vagy Azure PowerShell használatával.</span><span class="sxs-lookup"><span data-stu-id="b256b-159">**Note:** Network security groups can be configured graphically using hello [Azure Portal](https://portal.azure.com) or through Azure PowerShell.</span></span>

<span data-ttu-id="b256b-160">Hálózati biztonsági csoportok először egy előfizetéshez tartozó önálló egységként jönnek létre.</span><span class="sxs-lookup"><span data-stu-id="b256b-160">Network security groups are first created as a standalone entity associated with a subscription.</span></span> <span data-ttu-id="b256b-161">Mivel a hálózati biztonsági csoportok Azure-régióban jönnek létre, győződjön meg arról, adott hello hálózati biztonsági csoport jön létre a hello azonos régióban, az App Service Environment-környezet hello.</span><span class="sxs-lookup"><span data-stu-id="b256b-161">Since network security groups are created in an Azure region, ensure that hello network security group is created in hello same region as hello App Service Environment.</span></span>

<span data-ttu-id="b256b-162">hello következő bemutatja a hálózati biztonsági csoport létrehozása:</span><span class="sxs-lookup"><span data-stu-id="b256b-162">hello following demonstrates creating a network security group:</span></span>

    New-AzureNetworkSecurityGroup -Name "testNSGexample" -Location "South Central US" -Label "Example network security group for an app service environment"

<span data-ttu-id="b256b-163">Hálózati biztonsági csoport létrehozása után egy vagy több hálózati biztonsági szabályok hozzáadása történik meg tooit.</span><span class="sxs-lookup"><span data-stu-id="b256b-163">Once a network security group is created, one or more network security rules are added tooit.</span></span>  <span data-ttu-id="b256b-164">Mivel hello meghatározott szabályok idővel megváltozhat, javasolt kimenő számozási hello toospace használt szabály prioritások toomake azt könnyen tooinsert további szabályok adott idő alatt.</span><span class="sxs-lookup"><span data-stu-id="b256b-164">Since hello set of rules may change over time, it is recommended toospace out hello numbering scheme used for rule priorities toomake it easy tooinsert additional rules over time.</span></span>

<span data-ttu-id="b256b-165">hello az alábbi példában egy szabályt, amely explicit módon engedélyezi a hozzáférést toohello kezelőportjai hello Azure-infrastruktúra toomanage igényli, és az App Service-környezetek karbantartásához.</span><span class="sxs-lookup"><span data-stu-id="b256b-165">hello example below shows a rule that explicitly grants access toohello management ports needed by hello Azure infrastructure toomanage and maintain an App Service Environment.</span></span>  <span data-ttu-id="b256b-166">Ne feledje, hogy az összes felügyeleti adatforgalmat SSL-en keresztül zajló kommunikációról védi-e ügyféltanúsítványokat, ezért annak ellenére, hogy hello portokat bármely Azure felügyeleti infrastruktúra eltérő entitás nem érhető el.</span><span class="sxs-lookup"><span data-stu-id="b256b-166">Note that all management traffic flows over SSL and is secured by client certificates, so even though hello ports are opened they are inaccessible by any entity other than Azure management infrastructure.</span></span>

    Get-AzureNetworkSecurityGroup -Name "testNSGexample" | Set-AzureNetworkSecurityRule -Name "ALLOW AzureMngmt" -Type Inbound -Priority 100 -Action Allow -SourceAddressPrefix 'INTERNET'  -SourcePortRange '*' -DestinationAddressPrefix '*' -DestinationPortRange '454-455' -Protocol TCP


<span data-ttu-id="b256b-167">Amikor zárolása hozzáférés tooport 80-as és 443-as túl "elrejtőzni" felsőbb rétegbeli eszközök és szolgáltatások mögött egy App Service-környezet, tooknow hello felsőbb rétegbeli IP-címet kell.</span><span class="sxs-lookup"><span data-stu-id="b256b-167">When locking down access tooport 80 and 443 too"hide" an App Service Environment behind upstream devices or services, you will need tooknow hello upstream IP address.</span></span>  <span data-ttu-id="b256b-168">Például ha webalkalmazási tűzfal (WAF) használ, hello WAF lesz a saját IP-cím (vagy címek) használó, amikor proxy használatát az ügynökökön forgalom tooa alárendelt App Service Environment-környezet.</span><span class="sxs-lookup"><span data-stu-id="b256b-168">For example, if you are using a web application firewall (WAF), hello WAF will have its own IP address (or addresses) which it uses when proxying traffic tooa downstream App Service Environment.</span></span>  <span data-ttu-id="b256b-169">Szüksége lesz toouse az IP-címének hello *SourceAddressPrefix* hálózati biztonsági szabály paraméter.</span><span class="sxs-lookup"><span data-stu-id="b256b-169">You will need toouse this IP address in hello *SourceAddressPrefix* parameter of a network security rule.</span></span>

<span data-ttu-id="b256b-170">A hello az alábbi példában egy adott felsőbb rétegbeli IP-címről érkező bejövő forgalom kifejezetten engedélyezett.</span><span class="sxs-lookup"><span data-stu-id="b256b-170">In hello example below, inbound traffic from a specific upstream IP address is explicitly allowed.</span></span>  <span data-ttu-id="b256b-171">cím hello *1.2.3.4* hello IP-címét egy fölérendelt WAF helyőrzőként szolgál.</span><span class="sxs-lookup"><span data-stu-id="b256b-171">hello address *1.2.3.4* is used as a placeholder for hello IP address of an upstream WAF.</span></span>  <span data-ttu-id="b256b-172">Hello érték toomatch hello címet a felsőbb rétegbeli eszköz vagy a szolgáltatás által használt módosítani.</span><span class="sxs-lookup"><span data-stu-id="b256b-172">Change hello value toomatch hello address used by your upstream device or service.</span></span>

    Get-AzureNetworkSecurityGroup -Name "testNSGexample" | Set-AzureNetworkSecurityRule -Name "RESTRICT HTTP" -Type Inbound -Priority 200 -Action Allow -SourceAddressPrefix '1.2.3.4/32'  -SourcePortRange '*' -DestinationAddressPrefix '*' -DestinationPortRange '80' -Protocol TCP
    Get-AzureNetworkSecurityGroup -Name "testNSGexample" | Set-AzureNetworkSecurityRule -Name "RESTRICT HTTPS" -Type Inbound -Priority 300 -Action Allow -SourceAddressPrefix '1.2.3.4/32'  -SourcePortRange '*' -DestinationAddressPrefix '*' -DestinationPortRange '443' -Protocol TCP

<span data-ttu-id="b256b-173">FTP-támogatás van szükség, ha a következő szabályok hello használható egy sablon toogrant hozzáférési toohello FTP vezérlő port és a channel-porttal.</span><span class="sxs-lookup"><span data-stu-id="b256b-173">If FTP support is desired, hello following rules can be used as a template toogrant access toohello FTP control port and data channel ports.</span></span>  <span data-ttu-id="b256b-174">Mivel FTP állapot-nyilvántartó protokoll, nem lehet egy hagyományos HTTP/HTTPS tűzfalhoz vagy proxyhoz eszközön keresztül képes tooroute FTP-forgalmat.</span><span class="sxs-lookup"><span data-stu-id="b256b-174">Since FTP is a stateful protocol, you may not be able tooroute FTP traffic through a traditional HTTP/HTTPS firewall or proxy device.</span></span>  <span data-ttu-id="b256b-175">Ebben az esetben szüksége lesz tooset hello *SourceAddressPrefix* tooa eltérő érték - például hello IP-címtartományt fejlesztői vagy a központi telepítési gépek mely FTP ügyfelek futnak.</span><span class="sxs-lookup"><span data-stu-id="b256b-175">In this case you will need tooset hello *SourceAddressPrefix* tooa different value - for example hello IP address range of developer or deployment machines on which FTP clients are running.</span></span> 

    Get-AzureNetworkSecurityGroup -Name "testNSGexample" | Set-AzureNetworkSecurityRule -Name "RESTRICT FTPCtrl" -Type Inbound -Priority 400 -Action Allow -SourceAddressPrefix '1.2.3.4/32'  -SourcePortRange '*' -DestinationAddressPrefix '*' -DestinationPortRange '21' -Protocol TCP
    Get-AzureNetworkSecurityGroup -Name "testNSGexample" | Set-AzureNetworkSecurityRule -Name "RESTRICT FTPDataRange" -Type Inbound -Priority 500 -Action Allow -SourceAddressPrefix '1.2.3.4/32'  -SourcePortRange '*' -DestinationAddressPrefix '*' -DestinationPortRange '10001-10020' -Protocol TCP

<span data-ttu-id="b256b-176">(**Megjegyzés:** hello adatcsatorna porttartománya hello próbaidőszak alatt módosíthatja.)</span><span class="sxs-lookup"><span data-stu-id="b256b-176">(**Note:**  hello data channel port range may change during hello preview period.)</span></span>

<span data-ttu-id="b256b-177">Távoli hibakeresés a Visual Studio használata esetén a következő szabályok hello bemutatják, hogyan férnek hozzá az toogrant.</span><span class="sxs-lookup"><span data-stu-id="b256b-177">If remote debugging with Visual Studio is used, hello following rules demonstrate how toogrant access.</span></span>  <span data-ttu-id="b256b-178">Van külön szabály minden Visual Studio támogatott verziója óta egyes verzióihoz távoli hibakereséshez másik portot használ.</span><span class="sxs-lookup"><span data-stu-id="b256b-178">There is a separate rule for each supported version of Visual Studio since each version uses a different port for remote debugging.</span></span>  <span data-ttu-id="b256b-179">FTP-hozzáférést, a távoli hibakeresési forgalom előfordulhat, hogy nem megfelelő sorrendben egy hagyományos WAF vagy a proxy-eszközön keresztül.</span><span class="sxs-lookup"><span data-stu-id="b256b-179">As with FTP access, remote debugging traffic may not flow properly through a traditional WAF or proxy device.</span></span>  <span data-ttu-id="b256b-180">Hello *SourceAddressPrefix* helyette toohello IP-címtartomány futó Visual Studio developer gépek állítható be.</span><span class="sxs-lookup"><span data-stu-id="b256b-180">hello *SourceAddressPrefix* can instead be set toohello IP address range of developer machines running Visual Studio.</span></span>

    Get-AzureNetworkSecurityGroup -Name "testNSGexample" | Set-AzureNetworkSecurityRule -Name "RESTRICT RemoteDebuggingVS2012" -Type Inbound -Priority 600 -Action Allow -SourceAddressPrefix '1.2.3.4/32'  -SourcePortRange '*' -DestinationAddressPrefix '*' -DestinationPortRange '4016' -Protocol TCP
    Get-AzureNetworkSecurityGroup -Name "testNSGexample" | Set-AzureNetworkSecurityRule -Name "RESTRICT RemoteDebuggingVS2013" -Type Inbound -Priority 700 -Action Allow -SourceAddressPrefix '1.2.3.4/32'  -SourcePortRange '*' -DestinationAddressPrefix '*' -DestinationPortRange '4018' -Protocol TCP
    Get-AzureNetworkSecurityGroup -Name "testNSGexample" | Set-AzureNetworkSecurityRule -Name "RESTRICT RemoteDebuggingVS2015" -Type Inbound -Priority 800 -Action Allow -SourceAddressPrefix '1.2.3.4/32'  -SourcePortRange '*' -DestinationAddressPrefix '*' -DestinationPortRange '4020' -Protocol TCP

## <a name="assigning-a-network-security-group-tooa-subnet"></a><span data-ttu-id="b256b-181">A hálózati biztonsági csoport tooa alhálózati hozzárendelése</span><span class="sxs-lookup"><span data-stu-id="b256b-181">Assigning a Network Security Group tooa Subnet</span></span>
<span data-ttu-id="b256b-182">Hálózati biztonsági csoport tartozik egy alapértelmezett biztonsági szabály, amely megtagadja a hozzáférést tooall külső forgalom.</span><span class="sxs-lookup"><span data-stu-id="b256b-182">A network security group has a default security rule which denies access tooall external traffic.</span></span>  <span data-ttu-id="b256b-183">hello hálózati biztonsági szabályok a fent említett kombinálásával kapott eredmény hello hello alapértelmezett biztonsági szabály blokkolja a bejövő forgalmat, hogy csak a forrás címtartományokból forgalom társított nem egy *engedélyezése* művelet tudnak toosend forgalom tooapps fut egy App Service Environment-környezetben.</span><span class="sxs-lookup"><span data-stu-id="b256b-183">hello result from combining hello network security rules described above, and hello default security rule blocking inbound traffic, is that only traffic from source address ranges associated with an *Allow* action will be able toosend traffic tooapps running in an App Service Environment.</span></span>

<span data-ttu-id="b256b-184">Hálózati biztonsági csoport biztonsági szabályai a telepítéskor, miután hozzárendelt toobe toohello alhálózati tartalmazó hello App Service Environment-környezet van szüksége.</span><span class="sxs-lookup"><span data-stu-id="b256b-184">After a network security group is populated with security rules, it needs toobe assigned toohello subnet containing hello App Service Environment.</span></span>  <span data-ttu-id="b256b-185">hello hozzárendelés parancs hello virtuális hálózat hello App Service Environment-környezet tartalmazó, valamint hello neve hello alhálózat, amelyen létrehozták hello App Service Environment-környezet hello nevet is hivatkozik.</span><span class="sxs-lookup"><span data-stu-id="b256b-185">hello assignment command references both hello name of hello virtual network where hello App Service Environment resides, as well as hello name of hello subnet where hello App Service Environment was created.</span></span>  

<span data-ttu-id="b256b-186">az alábbi példa hello folyik a hozzárendelése tooa alhálózat és a virtuális hálózat hálózati biztonsági csoport jeleníti meg:</span><span class="sxs-lookup"><span data-stu-id="b256b-186">hello example below shows a network security group being assigned tooa subnet and virtual network:</span></span>

    Get-AzureNetworkSecurityGroup -Name "testNSGexample" | Set-AzureNetworkSecurityGroupToSubnet -VirtualNetworkName 'testVNet' -SubnetName 'Subnet-test'

<span data-ttu-id="b256b-187">Miután hello hálózati biztonsági csoport a helyhozzárendelés képes lesz (hello hozzárendelés egy hosszú futású műveleteket és eltarthat néhány percig toocomplete), csak a forgalom megfelelő bejövő *engedélyezése* szabályok sikeresen eléri a hello App alkalmazást Service-környezet.</span><span class="sxs-lookup"><span data-stu-id="b256b-187">Once hello network security group assignment succeeds (hello assignment is a long-running operations and can take a few minutes toocomplete), only inbound traffic matching *Allow* rules will successfully reach apps in hello App Service Environment.</span></span>

<span data-ttu-id="b256b-188">A teljesség hello a következő példa bemutatja, hogyan tooremove, ezért nem társítható hello hálózati biztonsági csoport hello alhálózatból:</span><span class="sxs-lookup"><span data-stu-id="b256b-188">For completeness hello following example shows how tooremove and thus dis-associate hello network security group from hello subnet:</span></span>

    Get-AzureNetworkSecurityGroup -Name "testNSGexample" | Remove-AzureNetworkSecurityGroupFromSubnet -VirtualNetworkName 'testVNet' -SubnetName 'Subnet-test'

## <a name="special-considerations-for-explicit-ip-ssl"></a><span data-ttu-id="b256b-189">Explicit IP-SSL szempontjai</span><span class="sxs-lookup"><span data-stu-id="b256b-189">Special Considerations for Explicit IP-SSL</span></span>
<span data-ttu-id="b256b-190">Ha egy alkalmazás explicit IP-SSL-címmel van konfigurálva (alkalmazható *csak* tooASEs, amelyek egy nyilvános VIP), hello alapértelmezett IP-címe hello App Service Environment-környezet helyett a HTTP és HTTPS forgalmat, hello alhálózati folytatódjon egy készleten különböző portok eltérő 80-as és 443-as portot.</span><span class="sxs-lookup"><span data-stu-id="b256b-190">If an app is configured with an explicit IP-SSL address (applicable *only* tooASEs that have a public VIP), instead of using hello default IP address of hello App Service Environment, both HTTP and HTTPS traffic flows into hello subnet over a different set of ports other than ports 80 and 443.</span></span>

<span data-ttu-id="b256b-191">egyes pár hello minden IP-SSL cím által használt portok hello portál felhasználói felületen hello App Service Environment részletek UX paneljén található.</span><span class="sxs-lookup"><span data-stu-id="b256b-191">hello individual pair of ports used by each IP-SSL address can be found in hello portal user interface from hello App Service Environment's details UX blade.</span></span>  <span data-ttu-id="b256b-192">Jelölje be "az összes beállítások"--> "IP-címek".</span><span class="sxs-lookup"><span data-stu-id="b256b-192">Select "All settings" --> "IP addresses".</span></span>  <span data-ttu-id="b256b-193">"IP-címek" Hello megjelenik egy tábla összes hello App Service Environment-környezet, explicit módon konfigurált IP-SSL címeinek együtt hello speciális port párt használt tooroute HTTP és HTTPS-forgalom társított minden IP-SSL cím.</span><span class="sxs-lookup"><span data-stu-id="b256b-193">hello "IP addresses" blade shows a table of all explicitly configured IP-SSL addresses for hello App Service Environment, along with hello special port pair that is used tooroute HTTP and HTTPS traffic associated with each IP-SSL address.</span></span>  <span data-ttu-id="b256b-194">A port pár, amelyet a toobe hello DestinationPortRange paraméterek használja, amikor a szabályok konfigurálása a hálózati biztonsági csoport.</span><span class="sxs-lookup"><span data-stu-id="b256b-194">It is this port pair that needs toobe used for hello DestinationPortRange parameters when configuring rules in a network security group.</span></span>

<span data-ttu-id="b256b-195">Amikor egy alkalmazás egy ASE konfigurált toouse IP-SSL, a külső ügyfeleket nem jelenik meg, és nem kell tooworry hello különleges pár porthozzárendelés kapcsolatos.</span><span class="sxs-lookup"><span data-stu-id="b256b-195">When an app on an ASE is configured toouse IP-SSL, external customers will not see and do not need tooworry about hello special port pair mapping.</span></span>  <span data-ttu-id="b256b-196">Forgalom toohello alkalmazások általában erdőtől áramolnak toohello konfigurált IP-SSL cím.</span><span class="sxs-lookup"><span data-stu-id="b256b-196">Traffic toohello apps will flow normally toohello configured IP-SSL address.</span></span>  <span data-ttu-id="b256b-197">hello fordítási toohello speciális port pár automatikusan történik, belső hello adatforgalom utolsó szakasza során hello alhálózati tartalmazó hello ASE be.</span><span class="sxs-lookup"><span data-stu-id="b256b-197">hello translation toohello special port pair automatically happens internally during hello final leg of routing traffic into hello subnet containing hello ASE.</span></span> 

## <a name="getting-started"></a><span data-ttu-id="b256b-198">Bevezetés</span><span class="sxs-lookup"><span data-stu-id="b256b-198">Getting started</span></span>
<span data-ttu-id="b256b-199">Lásd az App Service-környezetek lépései tooget [bemutatása tooApp Service-környezet][IntroToAppServiceEnvironment]</span><span class="sxs-lookup"><span data-stu-id="b256b-199">tooget started with App Service Environments, see [Introduction tooApp Service Environment][IntroToAppServiceEnvironment]</span></span>

<span data-ttu-id="b256b-200">Összes cikket, és hogyan-a következőre az App Service Environment-környezetek érhetők el hello [alkalmazásszolgáltatási környezetek – fontos fájl](../app-service/app-service-app-service-environments-readme.md).</span><span class="sxs-lookup"><span data-stu-id="b256b-200">All articles and How-To's for App Service Environments are available in hello [README for Application Service Environments](../app-service/app-service-app-service-environments-readme.md).</span></span>

<span data-ttu-id="b256b-201">Biztonságosan csatlakozik egy App Service Environment-környezet toobackend erőforrás alkalmazások körül, lásd: [tooBackend erőforrások biztonságosan csatlakozik egy App Service Environment-környezet][SecurelyConnecttoBackend]</span><span class="sxs-lookup"><span data-stu-id="b256b-201">For details around apps securely connecting toobackend resource from an App Service Environment, see [Securely connecting tooBackend resources from an App Service Environment][SecurelyConnecttoBackend]</span></span>

<span data-ttu-id="b256b-202">Hello Azure App Service platformmal kapcsolatos további információkért lásd: [Azure App Service][AzureAppService].</span><span class="sxs-lookup"><span data-stu-id="b256b-202">For more information about hello Azure App Service platform, see [Azure App Service][AzureAppService].</span></span>

[!INCLUDE [app-service-web-whats-changed](../../includes/app-service-web-whats-changed.md)]

[!INCLUDE [app-service-web-try-app-service](../../includes/app-service-web-try-app-service.md)]

<!-- LINKS -->
[virtualnetwork]: https://azure.microsoft.com/documentation/articles/virtual-networks-faq/
[HowToCreateAnAppServiceEnvironment]: http://azure.microsoft.com/documentation/articles/app-service-web-how-to-create-an-app-service-environment/
[NetworkSecurityGroups]: https://azure.microsoft.com/documentation/articles/virtual-networks-nsg/
[AzureAppService]: http://azure.microsoft.com/documentation/articles/app-service-value-prop-what-is/
[IntroToAppServiceEnvironment]:  http://azure.microsoft.com/documentation/articles/app-service-app-service-environment-intro/
[SecurelyConnecttoBackend]:  http://azure.microsoft.com/documentation/articles/app-service-app-service-environment-securely-connecting-to-backend-resources/
[NewPortal]:  https://portal.azure.com  

<!-- IMAGES -->

