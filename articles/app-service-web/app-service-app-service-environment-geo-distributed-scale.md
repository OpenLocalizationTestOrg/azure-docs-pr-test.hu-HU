---
title: "Földrajzi alapú méretezés App Service-környezetekkel"
description: "Megtudhatja, hogyan vízszintesen skálázása a Traffic Manager és az App Service Environment-környezetek földrajzi terjesztési használó alkalmazásokat."
services: app-service
documentationcenter: 
author: stefsch
manager: erikre
editor: 
ms.assetid: c1b05ca8-3703-4d87-a9ae-819d741787fb
ms.service: app-service
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 09/07/2016
ms.author: stefsch
ms.openlocfilehash: 505301b2650c9b8bafdad352055f30e55148ab0c
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 07/11/2017
---
# <a name="geo-distributed-scale-with-app-service-environments"></a><span data-ttu-id="8a402-103">Földrajzi alapú méretezés App Service-környezetekkel</span><span class="sxs-lookup"><span data-stu-id="8a402-103">Geo Distributed Scale with App Service Environments</span></span>
## <a name="overview"></a><span data-ttu-id="8a402-104">Áttekintés</span><span class="sxs-lookup"><span data-stu-id="8a402-104">Overview</span></span>
<span data-ttu-id="8a402-105">Nagyon nagy méretű igénylő alkalmazás-forgatókönyvekre lépheti túl a számítási erőforrás-kapacitás egy központi telepítésnél, egy alkalmazás számára elérhető.</span><span class="sxs-lookup"><span data-stu-id="8a402-105">Application scenarios which require very high scale can exceed the compute resource capacity available to a single deployment of an app.</span></span>  <span data-ttu-id="8a402-106">Szavazás alkalmazások, ilyen események és közvetített Szórakozás események példák minden forgatókönyv esetén van szükség a rendkívül nagy méretű.</span><span class="sxs-lookup"><span data-stu-id="8a402-106">Voting applications, sporting events, and televised entertainment events are all examples of scenarios that require extremely high scale.</span></span> <span data-ttu-id="8a402-107">Nagy méretű követelmények által vízszintesen kiterjesztése alkalmazások esetén végrehajtott egyetlen régión belül, valamint a különböző régiókban, rendkívül Adatbetöltési követelményeinek kezeléséhez több alkalmazás központi telepítéssel rendelkező érheti el.</span><span class="sxs-lookup"><span data-stu-id="8a402-107">High scale requirements can be met by horizontally scaling out apps, with multiple app deployments being made within a single region, as well as across regions, to handle extreme load requirements.</span></span>

<span data-ttu-id="8a402-108">App Service-környezetek vízszintes kibővítési ideális platform.</span><span class="sxs-lookup"><span data-stu-id="8a402-108">App Service Environments are an ideal platform for horizontal scale out.</span></span>  <span data-ttu-id="8a402-109">Egyszer egy App Service-környezet konfigurációs van beállítva, amely képes támogatni az olyan ismert lekérdezési gyakorisága, fejlesztők telepíthet további App Service Environment-környezetek "cookie-k vágó" módon a kívánt csúcs terhelés kapacitás elérése érdekében.</span><span class="sxs-lookup"><span data-stu-id="8a402-109">Once an App Service Environment configuration has been selected that can support a known request rate, developers can deploy additional App Service Environments in "cookie cutter" fashion to attain a desired peak load capacity.</span></span>

<span data-ttu-id="8a402-110">Tegyük fel például egy alkalmazást az App Service Environment-környezet konfigurációjának futó tesztelték 20K kérelmek / másodperc (RPS) kezelésére.</span><span class="sxs-lookup"><span data-stu-id="8a402-110">For example suppose an app running on an App Service Environment configuration has been tested to handle 20K requests per second (RPS).</span></span>  <span data-ttu-id="8a402-111">Ha a kívánt csúcs terhelés kapacitás 100K RPS, majd öt (5) App Service-környezetek hozható létre és beállítani az alkalmazás kezeli a maximális tervezett terhelés biztosítása érdekében.</span><span class="sxs-lookup"><span data-stu-id="8a402-111">If the desired peak load capacity is 100K RPS, then five (5) App Service Environments can be created and configured to ensure the application can handle the maximum projected load.</span></span>

<span data-ttu-id="8a402-112">Ügyfelek általában egy egyéni (vagy személyes) tartományt használó alkalmazások hozzáférhetnek, mivel a fejlesztők szükségük van egy módszerre, alkalmazás kérelmek szét minden App Service Environment-környezet előfordulása.</span><span class="sxs-lookup"><span data-stu-id="8a402-112">Since customers typically access apps using a custom (or vanity) domain, developers need a way to distribute app requests across all of the App Service Environment instances.</span></span>  <span data-ttu-id="8a402-113">Az egyéni tartomány használatával megoldásához kiváló módja annak, hogy ehhez egy [Azure Traffic Manager-profil][AzureTrafficManagerProfile].</span><span class="sxs-lookup"><span data-stu-id="8a402-113">A great way to accomplish this is to resolve the custom domain using an [Azure Traffic Manager profile][AzureTrafficManagerProfile].</span></span>  <span data-ttu-id="8a402-114">A Traffic Manager-profil beállítható úgy, hogy az egyes App Service Environment-környezetek összes helyen.</span><span class="sxs-lookup"><span data-stu-id="8a402-114">The Traffic Manager profile can be configured to point at all of the individual App Service Environments.</span></span>  <span data-ttu-id="8a402-115">A TRAFFIC Manager automatikusan fogja kezelni a terjesztés az ügyfelek összes az App Service-környezetek, a terheléselosztás a Traffic Manager-profil beállításai alapján.</span><span class="sxs-lookup"><span data-stu-id="8a402-115">Traffic Manager will automatically handle distributing customers across all of the App Service Environments based on the load balancing settings in the Traffic Manager profile.</span></span>  <span data-ttu-id="8a402-116">Ez a megközelítés működik, függetlenül attól, hogy összes az App Service Environment-környezetek telepítése egy Azure-régió, vagy több Azure-régiók közötti világszerte telepített.</span><span class="sxs-lookup"><span data-stu-id="8a402-116">This approach works regardless of whether all of the App Service Environments are deployed in a single Azure region, or deployed worldwide across multiple Azure regions.</span></span>

<span data-ttu-id="8a402-117">Ezenkívül ügyfelek alkalmazások hozzáférhetnek a személyes tartomány keresztül, mert az ügyfelek nem tudnak a futó alkalmazások App Service-környezetek száma.</span><span class="sxs-lookup"><span data-stu-id="8a402-117">Furthermore, since customers access apps through the vanity domain, customers are unaware of the number of App Service Environments running an app.</span></span>  <span data-ttu-id="8a402-118">Ennek eredményeképpen a fejlesztők is gyorsan és egyszerűen hozzáadása és eltávolítása, App Service Environment-környezetek megfigyelt adatforgalom jelentette teher alapján.</span><span class="sxs-lookup"><span data-stu-id="8a402-118">As a result developers can quickly and easily add, and remove, App Service Environments based on observed traffic load.</span></span>

<span data-ttu-id="8a402-119">A fogalmi az alábbi ábrán az alkalmazások között három App Service Environment-környezetek egyetlen régión belül vízszintesen horizontálisan ábrázol.</span><span class="sxs-lookup"><span data-stu-id="8a402-119">The conceptual diagram below depicts an app horizontally scaled out across three App Service Environments within a single region.</span></span>

![Fogalmi architektúra][ConceptualArchitecture] 

<span data-ttu-id="8a402-121">Ez a témakör további része végigvezeti egy elosztott topológia több App Service Environment-környezetek használatával mintaalkalmazás beállításához lépéseit.</span><span class="sxs-lookup"><span data-stu-id="8a402-121">The remainder of this topic walks through the steps involved with setting up a distributed topology for the sample app using multiple App Service Environments.</span></span>

## <a name="planning-the-topology"></a><span data-ttu-id="8a402-122">A topológia tervezése</span><span class="sxs-lookup"><span data-stu-id="8a402-122">Planning the Topology</span></span>
<span data-ttu-id="8a402-123">Mielőtt egy elosztott alkalmazás erőforrásigényét létrehozására, van néhány adatra információk időben segíti.</span><span class="sxs-lookup"><span data-stu-id="8a402-123">Before building out a distributed app footprint, it helps to have a few pieces information ahead of time.</span></span>

* <span data-ttu-id="8a402-124">**Az alkalmazáshoz tartozó egyéni tartomány:** Mi az, hogy az egyéni tartománynév használó ügyfelek az alkalmazás eléréséhez?</span><span class="sxs-lookup"><span data-stu-id="8a402-124">**Custom domain for the app:**  What is the custom domain name that customers will use to access the app?</span></span>  <span data-ttu-id="8a402-125">A mintaalkalmazás az egyéni tartománynév megadása *www.scalableasedemo.com*</span><span class="sxs-lookup"><span data-stu-id="8a402-125">For the sample app the custom domain name is *www.scalableasedemo.com*</span></span>
* <span data-ttu-id="8a402-126">**Traffic Manager-tartományra:** egy tartománynevet kell létrehozásakor kell választani egy [Azure Traffic Manager-profil][AzureTrafficManagerProfile].</span><span class="sxs-lookup"><span data-stu-id="8a402-126">**Traffic Manager domain:**  A domain name needs to be chosen when creating an [Azure Traffic Manager profile][AzureTrafficManagerProfile].</span></span>  <span data-ttu-id="8a402-127">Ez a név a rendszer kombinálja a *trafficmanager.net* jelző utótaghoz, így a Traffic Manager által kezelt tartomány bejegyzést.</span><span class="sxs-lookup"><span data-stu-id="8a402-127">This name will be combined with the *trafficmanager.net* suffix to register a domain entry that is managed by Traffic Manager.</span></span>  <span data-ttu-id="8a402-128">A mintaalkalmazás, a név választott van *méretezhető ase bemutató*.</span><span class="sxs-lookup"><span data-stu-id="8a402-128">For the sample app, the name chosen is *scalable-ase-demo*.</span></span>  <span data-ttu-id="8a402-129">Ennek eredményeképpen a teljes tartománynevet a Traffic Manager által kezelt rendszer *méretezhető ase demo.trafficmanager.net*.</span><span class="sxs-lookup"><span data-stu-id="8a402-129">As a result the full domain name that is managed by Traffic Manager is *scalable-ase-demo.trafficmanager.net*.</span></span>
* <span data-ttu-id="8a402-130">**Stratégiájának a app kezdjen méretezéshez:** lesz a alkalmazás kezdjen szétosztását több App Service Environment-környezetek egy régió között?</span><span class="sxs-lookup"><span data-stu-id="8a402-130">**Strategy for scaling the app footprint:**  Will the application footprint be distributed across multiple App Service Environments in a single region?</span></span>  <span data-ttu-id="8a402-131">Több régióba?</span><span class="sxs-lookup"><span data-stu-id="8a402-131">Multiple regions?</span></span>  <span data-ttu-id="8a402-132">Vegyes-és-egyezés a mindkét megközelítés?</span><span class="sxs-lookup"><span data-stu-id="8a402-132">A mix-and-match of both approaches?</span></span>  <span data-ttu-id="8a402-133">A döntéshez az azzal kapcsolatos elvárások, ahol a felhasználói forgalom állapottesztjei származnak, valamint milyen jól méretezhető a többi egy alkalmazást támogató háttér-infrastruktúra.</span><span class="sxs-lookup"><span data-stu-id="8a402-133">The decision should be based on expectations of where customer traffic will originate, as well as how well the rest of an app's supporting back-end infrastructure can scale.</span></span>  <span data-ttu-id="8a402-134">Például a 100 %-os állapot nélküli alkalmazások, az alkalmazások is nagymértékben méretezhető több App Service Environment-környezetek kombinációját használva az Azure-régió, és a több Azure-régiók telepített App Service-környezetek /.</span><span class="sxs-lookup"><span data-stu-id="8a402-134">For example, with a 100% stateless application, an app can be massively scaled using a combination of multiple App Service Environments per Azure region,  multiplied by App Service Environments deployed across multiple Azure regions.</span></span>  <span data-ttu-id="8a402-135">A 15 + nyilvános Azure-régiók elérhető lehetőségek közül választhat az ügyfelek valóban hozhat létre egy világszerte kapacitású alkalmazás erőforrásigényét.</span><span class="sxs-lookup"><span data-stu-id="8a402-135">With 15+ public Azure regions available to choose from, customers can truly build a world-wide hyper-scale application footprint.</span></span>  <span data-ttu-id="8a402-136">Az ebben a cikkben használt mintaalkalmazás három App Service Environment-környezetek (déli középső Régiójában) egyetlen Azure régióban létrehozott.</span><span class="sxs-lookup"><span data-stu-id="8a402-136">For the sample app used for this article, three App Service Environments were created in a single Azure region (South Central US).</span></span>
* <span data-ttu-id="8a402-137">**Az App Service Environment-környezetek elnevezési konvenció:** minden App Service Environment-környezet megköveteli egy egyedi nevet.</span><span class="sxs-lookup"><span data-stu-id="8a402-137">**Naming convention for the App Service Environments:**  Each App Service Environment requires a unique name.</span></span>  <span data-ttu-id="8a402-138">Egy vagy két App Service Environment-környezetek túl már van egy elnevezési konvenciója, amellyel azonosítható, minden egyes App Service Environment-környezet számára.</span><span class="sxs-lookup"><span data-stu-id="8a402-138">Beyond one or two App Service Environments it is helpful to have a naming convention to help identify each App Service Environment.</span></span>  <span data-ttu-id="8a402-139">A mintaalkalmazás egyszerű elnevezési lett megadva.</span><span class="sxs-lookup"><span data-stu-id="8a402-139">For the sample app a simple naming convention was used.</span></span>  <span data-ttu-id="8a402-140">A három App Service Environment-környezetek neve *fe1ase*, *fe2ase*, és *fe3ase*.</span><span class="sxs-lookup"><span data-stu-id="8a402-140">The names of the three App Service Environments are *fe1ase*, *fe2ase*, and *fe3ase*.</span></span>
* <span data-ttu-id="8a402-141">**Az alkalmazások elnevezési konvenció:** az alkalmazás több példányát telepíti, mert egy nevet a telepített alkalmazás egyes példányainak van szükség.</span><span class="sxs-lookup"><span data-stu-id="8a402-141">**Naming convention for the apps:**  Since multiple instances of the app will be deployed, a name is needed for each instance of the deployed app.</span></span>  <span data-ttu-id="8a402-142">Egy kevés ismert azonban nagyon kényelmes App Service Environment-környezetek jellemzője, hogy használható-e az azonos alkalmazásnév több App Service Environment-környezetek között.</span><span class="sxs-lookup"><span data-stu-id="8a402-142">One little-known but very convenient feature of App Service Environments is that the same app name can be used across multiple App Service Environments.</span></span>  <span data-ttu-id="8a402-143">Mivel minden egyes App Service Environment-környezet csak egy egyedi tartományutótagot, a fejlesztők használhat újra a pontos néven app minden környezetben.</span><span class="sxs-lookup"><span data-stu-id="8a402-143">Since each App Service Environment has a unique domain suffix, developers can choose to re-use the exact same app name in each environment.</span></span>  <span data-ttu-id="8a402-144">Egy fejlesztő például rendelkezhetnek elnevezése a következő alkalmazásokat: *myapp.foo1.p.azurewebsites.net*, *myapp.foo2.p.azurewebsites.net*, *myapp.foo3.p.azurewebsites.net*stb.  A mintaalkalmazás azonban minden app-példány is van egy egyedi nevet.</span><span class="sxs-lookup"><span data-stu-id="8a402-144">For example a developer could have apps named as follows:  *myapp.foo1.p.azurewebsites.net*, *myapp.foo2.p.azurewebsites.net*, *myapp.foo3.p.azurewebsites.net*, etc.  For the sample app though each app instance also has a unique name.</span></span>  <span data-ttu-id="8a402-145">A használt alkalmazás-példány neve *webfrontend1*, *webfrontend2*, és *webfrontend3*.</span><span class="sxs-lookup"><span data-stu-id="8a402-145">The app instance names used are *webfrontend1*, *webfrontend2*, and *webfrontend3*.</span></span>

## <a name="setting-up-the-traffic-manager-profile"></a><span data-ttu-id="8a402-146">A Traffic Manager-profil beállítása</span><span class="sxs-lookup"><span data-stu-id="8a402-146">Setting up the Traffic Manager Profile</span></span>
<span data-ttu-id="8a402-147">Ha egy alkalmazás több példánya több App Service Environment-környezetek vannak telepítve, az egyes alkalmazásokra példányok regisztrálható a Traffic Managerrel.</span><span class="sxs-lookup"><span data-stu-id="8a402-147">Once multiple instances of an app are deployed on multiple App Service Environments, the  individual app instances can be registered with Traffic Manager.</span></span>  <span data-ttu-id="8a402-148">A mintaalkalmazás egy Traffic Manager profil van szükség a *méretezhető ase demo.trafficmanager.net* , amely irányíthatja a felhasználók számára a következő telepített alkalmazás példányra:</span><span class="sxs-lookup"><span data-stu-id="8a402-148">For the sample app a Traffic Manager profile is needed for *scalable-ase-demo.trafficmanager.net* that can route customers to any of the following deployed app instances:</span></span>

* <span data-ttu-id="8a402-149">**webfrontend1.fe1ase.p.azurewebsites.NET:** a mintaalkalmazás az első App Service Environment-környezet telepített példánya.</span><span class="sxs-lookup"><span data-stu-id="8a402-149">**webfrontend1.fe1ase.p.azurewebsites.net:**  An instance of the sample app deployed on the first App Service Environment.</span></span>
* <span data-ttu-id="8a402-150">**webfrontend2.fe2ase.p.azurewebsites.NET:** a mintaalkalmazást, a második App Service Environment-környezet telepített példánya.</span><span class="sxs-lookup"><span data-stu-id="8a402-150">**webfrontend2.fe2ase.p.azurewebsites.net:**  An instance of the sample app deployed on the second App Service Environment.</span></span>
* <span data-ttu-id="8a402-151">**webfrontend3.fe3ase.p.azurewebsites.NET:** a mintaalkalmazást, a harmadik App Service Environment-környezet telepített példánya.</span><span class="sxs-lookup"><span data-stu-id="8a402-151">**webfrontend3.fe3ase.p.azurewebsites.net:**  An instance of the sample app deployed on the third App Service Environment.</span></span>

<span data-ttu-id="8a402-152">A legegyszerűbben úgy lehet regisztrálni a több Azure App Service végpontot, az összes futó a **azonos** Azure-régió, a PowerShell használatával az [Azure Resource Manager Traffic Manager-támogatás][ARMTrafficManager].</span><span class="sxs-lookup"><span data-stu-id="8a402-152">The easiest way to register multiple Azure App Service endpoints, all running in the **same** Azure region, is with the Powershell [Azure Resource Manager Traffic Manager support][ARMTrafficManager].</span></span>  

<span data-ttu-id="8a402-153">Az első lépés, ha az Azure Traffic Manager-profil.</span><span class="sxs-lookup"><span data-stu-id="8a402-153">The first step is to create an Azure Traffic Manager profile.</span></span>  <span data-ttu-id="8a402-154">A az alábbi kód bemutatja, hogyan lett létrehozva a profil a mintaalkalmazást:</span><span class="sxs-lookup"><span data-stu-id="8a402-154">The code below shows how the profile was created for the sample app:</span></span>

    $profile = New-AzureTrafficManagerProfile –Name scalableasedemo -ResourceGroupName yourRGNameHere -TrafficRoutingMethod Weighted -RelativeDnsName scalable-ase-demo -Ttl 30 -MonitorProtocol HTTP -MonitorPort 80 -MonitorPath "/"

<span data-ttu-id="8a402-155">Értesítés az *RelativeDnsName* paraméter lett állítva: *méretezhető ase bemutató*.</span><span class="sxs-lookup"><span data-stu-id="8a402-155">Notice how the *RelativeDnsName* parameter was set to *scalable-ase-demo*.</span></span>  <span data-ttu-id="8a402-156">Ez hogyan tartománynév *méretezhető ase demo.trafficmanager.net* létrejön, és a Traffic Manager-profil társított.</span><span class="sxs-lookup"><span data-stu-id="8a402-156">This is how the domain name *scalable-ase-demo.trafficmanager.net* is created and associated with a Traffic Manager profile.</span></span>

<span data-ttu-id="8a402-157">A *TrafficRoutingMethod* paraméter határozza meg a terheléselosztási házirend Traffic Manager terhelés elosztva a rendelkezésre álló végpontok hogyan fogja használni.</span><span class="sxs-lookup"><span data-stu-id="8a402-157">The *TrafficRoutingMethod* parameter defines the load balancing policy Traffic Manager will use to determine how to spread customer load across all of the available endpoints.</span></span>  <span data-ttu-id="8a402-158">Ebben a példában a *Weighted* módszer választása.</span><span class="sxs-lookup"><span data-stu-id="8a402-158">In this example the *Weighted* method was chosen.</span></span>  <span data-ttu-id="8a402-159">Ennek eredményeképpen az ügyfelek kéréseire alatt elosztva a regisztrált alkalmazáshoz végpontok a relatív minden végponthoz társított súlyok alapján.</span><span class="sxs-lookup"><span data-stu-id="8a402-159">This will result in customer requests being spread across all of the registered application endpoints based on the relative weights associated with each endpoint.</span></span> 

<span data-ttu-id="8a402-160">A létrehozott profil minden alkalmazáspéldányban profilhoz van adva a natív Azure végpontként.</span><span class="sxs-lookup"><span data-stu-id="8a402-160">With the profile created, each app instance is added to the profile as a native Azure endpoint.</span></span>  <span data-ttu-id="8a402-161">Az alábbi kódot, lekéri az előtérbeli webes alkalmazásokra mutató hivatkozás, és hozzáadja minden alkalmazás úton Traffic Manager-végpontként a *targetresourceid azonosítója* paraméter.</span><span class="sxs-lookup"><span data-stu-id="8a402-161">The code below fetches a reference to each front end web app, and then adds each app as a Traffic Manager endpoint by way of the *TargetResourceId* parameter.</span></span>

    $webapp1 = Get-AzureRMWebApp -Name webfrontend1
    Add-AzureTrafficManagerEndpointConfig –EndpointName webfrontend1 –TrafficManagerProfile $profile –Type AzureEndpoints -TargetResourceId $webapp1.Id –EndpointStatus Enabled –Weight 10

    $webapp2 = Get-AzureRMWebApp -Name webfrontend2
    Add-AzureTrafficManagerEndpointConfig –EndpointName webfrontend2 –TrafficManagerProfile $profile –Type AzureEndpoints -TargetResourceId $webapp2.Id –EndpointStatus Enabled –Weight 10

    $webapp3 = Get-AzureRMWebApp -Name webfrontend3
    Add-AzureTrafficManagerEndpointConfig –EndpointName webfrontend3 –TrafficManagerProfile $profile –Type AzureEndpoints -TargetResourceId $webapp3.Id –EndpointStatus Enabled –Weight 10

    Set-AzureTrafficManagerProfile –TrafficManagerProfile $profile

<span data-ttu-id="8a402-162">Figyelje meg, hogyan van egy hívás *Add-AzureTrafficManagerEndpointConfig* minden egyes alkalmazás-példányhoz.</span><span class="sxs-lookup"><span data-stu-id="8a402-162">Notice how there is one call to *Add-AzureTrafficManagerEndpointConfig* for each individual app instance.</span></span>  <span data-ttu-id="8a402-163">A *targetresourceid azonosítója* paramétere minden Powershell-parancs egy telepített alkalmazás három példányt hivatkozik.</span><span class="sxs-lookup"><span data-stu-id="8a402-163">The *TargetResourceId* parameter in each Powershell command references one of the three deployed app instances.</span></span>  <span data-ttu-id="8a402-164">A Traffic Manager-profil betöltése elosztva a profillal regisztrált összes három végponton.</span><span class="sxs-lookup"><span data-stu-id="8a402-164">The Traffic Manager profile will spread load across all three endpoints registered in the profile.</span></span>

<span data-ttu-id="8a402-165">A három végpontok ugyanarra az értékre (10) használata a *súly* paraméter.</span><span class="sxs-lookup"><span data-stu-id="8a402-165">All of the three endpoints use the same value (10) for the *Weight* parameter.</span></span>  <span data-ttu-id="8a402-166">Az eredmény elterjedésének Traffic Manager-ügyfelek kéréseire minden három app példányára viszonylag egyenletes.</span><span class="sxs-lookup"><span data-stu-id="8a402-166">This results in Traffic Manager spreading customer requests across all three app instances relatively evenly.</span></span> 

## <a name="pointing-the-apps-custom-domain-at-the-traffic-manager-domain"></a><span data-ttu-id="8a402-167">Az alkalmazás egyéni tartományt, a Traffic Manager-tartományra mutat.</span><span class="sxs-lookup"><span data-stu-id="8a402-167">Pointing the App's Custom Domain at the Traffic Manager Domain</span></span>
<span data-ttu-id="8a402-168">Az utolsó lépés szükséges, hogy az egyéni tartomány, az alkalmazást a Traffic Manager-tartományra mutasson.</span><span class="sxs-lookup"><span data-stu-id="8a402-168">The final step necessary is to point the custom domain of the app at the Traffic Manager domain.</span></span>  <span data-ttu-id="8a402-169">A mintaalkalmazás Ez azt jelenti, hogy mutató *www.scalableasedemo.com* : *méretezhető ase demo.trafficmanager.net*.</span><span class="sxs-lookup"><span data-stu-id="8a402-169">For the sample app this means pointing *www.scalableasedemo.com* at *scalable-ase-demo.trafficmanager.net*.</span></span>  <span data-ttu-id="8a402-170">Ebben a lépésben kell elvégezni a tartomány tartományregisztrálóval, amely kezeli az egyéni tartomány.</span><span class="sxs-lookup"><span data-stu-id="8a402-170">This step needs to be completed with the domain registrar that manages the custom domain.</span></span>  

<span data-ttu-id="8a402-171">A regisztráló tartományi felügyeleti eszközökkel, egy olyan CNAME REKORDOT kell létrehozni, amely az egyéni tartomány, a Traffic Manager-tartományra mutat rögzíti.</span><span class="sxs-lookup"><span data-stu-id="8a402-171">Using your registrar's domain management tools, a CNAME records needs to be created which points the custom domain at the Traffic Manager domain.</span></span>  <span data-ttu-id="8a402-172">A következő ábrán látható egy példa a CNAME-konfiguráció néz:</span><span class="sxs-lookup"><span data-stu-id="8a402-172">The picture below shows an example of what this CNAME configuration looks like:</span></span>

![Egyéni tartomány CNAME][CNAMEforCustomDomain] 

<span data-ttu-id="8a402-174">Bár nem ebben a témakörben ismertetett, ne feledje, hogy az egyes alkalmazásokra feltünteti az egyéni tartományt is regisztrálva, rendelkeznie kell.</span><span class="sxs-lookup"><span data-stu-id="8a402-174">Although not covered in this topic, remember that each individual app instance needs to have the custom domain registered with it as well.</span></span>  <span data-ttu-id="8a402-175">Ellenkező esetben egy kérelem teszi az alkalmazás példánya, és az alkalmazás nem rendelkezik az egyéni tartomány regisztrál az alkalmazással, ha a kérelem sikertelen lesz.</span><span class="sxs-lookup"><span data-stu-id="8a402-175">Otherwise if a request makes it to an app instance, and the application does not have the custom domain registered with the app, the request will fail.</span></span>  

<span data-ttu-id="8a402-176">Ebben a példában az egyéni tartomány pedig *www.scalableasedemo.com*, és minden alkalmazáspéldány a vele társított egyéni tartománnyal rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="8a402-176">In this example the custom domain is *www.scalableasedemo.com*, and each application instance has the custom domain associated with it.</span></span>

![Egyéni tartomány][CustomDomain] 

<span data-ttu-id="8a402-178">Egy összefoglalása az Azure App Service-alkalmazásokhoz történő regisztrálásának egyéni tartományt, tekintse meg az alábbi cikket a [egyéni tartományok regisztrálása][RegisterCustomDomain].</span><span class="sxs-lookup"><span data-stu-id="8a402-178">For a recap of of registering a custom domain with Azure App Service apps, see the following article on [registering custom domains][RegisterCustomDomain].</span></span>

## <a name="trying-out-the-distributed-topology"></a><span data-ttu-id="8a402-179">Az Elosztott topológia kipróbálása</span><span class="sxs-lookup"><span data-stu-id="8a402-179">Trying out the Distributed Topology</span></span>
<span data-ttu-id="8a402-180">End a Traffic Manager és a DNS-konfiguráció eredménye, hogy vonatkozó kérések *www.scalableasedemo.com* halad keresztül az alábbi sorrendben:</span><span class="sxs-lookup"><span data-stu-id="8a402-180">The end result of the Traffic Manager and DNS configuration is that requests for *www.scalableasedemo.com* will flow through the following sequence:</span></span>

1. <span data-ttu-id="8a402-181">Egy böngésző vagy eszköz DNS-címkeresést tesz *www.scalableasedemo.com*</span><span class="sxs-lookup"><span data-stu-id="8a402-181">A browser or device will make a DNS lookup for *www.scalableasedemo.com*</span></span>
2. <span data-ttu-id="8a402-182">A CNAME bejegyzése a tartományregisztráló azt eredményezi, a DNS-ben az Azure Traffic Manager kell átirányítani.</span><span class="sxs-lookup"><span data-stu-id="8a402-182">The CNAME entry at the domain registrar causes the DNS lookup to be redirected to Azure Traffic Manager.</span></span>
3. <span data-ttu-id="8a402-183">DNS-címkeresést történik *méretezhető ase demo.trafficmanager.net* szemben az Azure Traffic Manager DNS-kiszolgálók egyikét.</span><span class="sxs-lookup"><span data-stu-id="8a402-183">A DNS lookup is made for *scalable-ase-demo.trafficmanager.net* against one of the Azure Traffic Manager DNS servers.</span></span>
4. <span data-ttu-id="8a402-184">A terheléselosztási házirend alapján (a *TrafficRoutingMethod* a Traffic Manager-profil létrehozásakor korábban használt paraméter), a Traffic Manager válassza ki a beállított végpontjaikra lesz, és térjen vissza az adott végpontra teljes Tartománynevét a böngésző vagy az eszköz.</span><span class="sxs-lookup"><span data-stu-id="8a402-184">Based on the load balancing policy (the *TrafficRoutingMethod* parameter used earlier when creating the Traffic Manager profile), Traffic Manager will select one of the configured endpoints and return the FQDN of that endpoint to the browser or device.</span></span>
5. <span data-ttu-id="8a402-185">Mivel a teljes Tartománynevet a végpont egy App Service Environment-környezet futó alkalmazás példány URL-címét, a böngésző vagy az eszköz felhasználói jóváhagyást kér a Microsoft Azure DNS-kiszolgáló IP-cím legyen feloldani a teljes Tartománynevet.</span><span class="sxs-lookup"><span data-stu-id="8a402-185">Since the FQDN of the endpoint is the Url of an app instance running on an App Service Environment, the browser or device will ask a Microsoft Azure DNS server to resolve the FQDN to an IP address.</span></span> 
6. <span data-ttu-id="8a402-186">A böngésző vagy az eszköz a HTTP/S kérelem elküld az IP-címre.</span><span class="sxs-lookup"><span data-stu-id="8a402-186">The browser or device will send the HTTP/S request to the IP address.</span></span>  
7. <span data-ttu-id="8a402-187">A kérelem egy időben érkeznek, az App Service Environment-környezetek egyikén futó alkalmazás példányai közül.</span><span class="sxs-lookup"><span data-stu-id="8a402-187">The request will arrive at one of the app instances running on one of the App Service Environments.</span></span>

<span data-ttu-id="8a402-188">A konzol a következő ábrán egy DNS-címkeresés a mintaalkalmazás egyéni tartomány sikeresen feloldása egy alkalmazás-példányon futó egyet a három minta App Service Environment-környezetek (ebben az esetben a második, a három App Service Environment-környezetek):</span><span class="sxs-lookup"><span data-stu-id="8a402-188">The console picture below shows a DNS lookup for the sample app's custom domain successfully resolving to an app instance running on one of the three sample App Service Environments (in this case the second of the three App Service Environments):</span></span>

![DNS-címkeresés][DNSLookup] 

## <a name="additional-links-and-information"></a><span data-ttu-id="8a402-190">További hivatkozások és információk</span><span class="sxs-lookup"><span data-stu-id="8a402-190">Additional Links and Information</span></span>
<span data-ttu-id="8a402-191">Összes cikket, és hogyan-a következőre az App Service Environment-környezetek érhetők el a [alkalmazásszolgáltatási környezetek – fontos fájl](../app-service/app-service-app-service-environments-readme.md).</span><span class="sxs-lookup"><span data-stu-id="8a402-191">All articles and How-To's for App Service Environments are available in the [README for Application Service Environments](../app-service/app-service-app-service-environments-readme.md).</span></span>

<span data-ttu-id="8a402-192">A Powershell-dokumentációja [Azure Resource Manager Traffic Manager-támogatás][ARMTrafficManager].</span><span class="sxs-lookup"><span data-stu-id="8a402-192">Documentation on the Powershell [Azure Resource Manager Traffic Manager support][ARMTrafficManager].</span></span>  

[!INCLUDE [app-service-web-whats-changed](../../includes/app-service-web-whats-changed.md)]

[!INCLUDE [app-service-web-try-app-service](../../includes/app-service-web-try-app-service.md)]

<!-- LINKS -->
[AzureTrafficManagerProfile]: ../traffic-manager/traffic-manager-manage-profiles.md
[ARMTrafficManager]: ../traffic-manager/traffic-manager-powershell-arm.md
[RegisterCustomDomain]: app-service-web-tutorial-custom-domain.md


<!-- IMAGES -->
[ConceptualArchitecture]: ./media/app-service-app-service-environment-geo-distributed-scale/ConceptualArchitecture-1.png
[CNAMEforCustomDomain]:  ./media/app-service-app-service-environment-geo-distributed-scale/CNAMECustomDomain-1.png
[DNSLookup]:  ./media/app-service-app-service-environment-geo-distributed-scale/DNSLookup-1.png
[CustomDomain]:  ./media/app-service-app-service-environment-geo-distributed-scale/CustomDomain-1.png 
