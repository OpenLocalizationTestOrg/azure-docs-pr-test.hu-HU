---
title: "Több-Bérlős webes Alkalmazásminta |} Microsoft Docs"
description: "Az architektúra áttekintése és -kialakítási minta, azt ismertetik, hogyan megvalósításához egy több-bérlős webalkalmazást az Azure-on található."
services: 
documentationcenter: .net
author: wadepickett
manager: wpickett
editor: 
ms.assetid: 4f0281d2-1555-42b0-a99d-1222fade0b0f
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 06/05/2015
ms.author: wpickett
ms.openlocfilehash: 57ba0e46139bda2d74c9f7db0ffab2f2122b0df2
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 08/03/2017
---
# <a name="multitenant-applications-in-azure"></a><span data-ttu-id="26c5b-103">Több-bérlős alkalmazásokhoz az Azure-ban</span><span class="sxs-lookup"><span data-stu-id="26c5b-103">Multitenant Applications in Azure</span></span>
<span data-ttu-id="26c5b-104">Egy több-bérlős alkalmazás, amely lehetővé teszi a különböző felhasználók vagy "bérlők," az alkalmazás megtekintéséhez, mintha az volt a saját megosztott erőforrás.</span><span class="sxs-lookup"><span data-stu-id="26c5b-104">A multitenant application is a shared resource that allows separate users, or "tenants," to view the application as though it was their own.</span></span> <span data-ttu-id="26c5b-105">A jellemző forgatókönyv, amely egy több-bérlős alkalmazás adatmodelljeinek egyike, amelyben az alkalmazás minden felhasználó kíván a felhasználói élmény testreszabásáról, de egyébként külön az ugyanazon alapvető üzleti követelmények.</span><span class="sxs-lookup"><span data-stu-id="26c5b-105">A typical scenario that lends itself to a multitenant application is one in which all users of the application may wish to customize the user experience but otherwise have the same basic business requirements.</span></span> <span data-ttu-id="26c5b-106">A nagy több-bérlős alkalmazások többek között az Office 365, az Outlook.com-os és a visualstudio.com webhelyre.</span><span class="sxs-lookup"><span data-stu-id="26c5b-106">Examples of large multitenant applications are Office 365, Outlook.com, and visualstudio.com.</span></span>

<span data-ttu-id="26c5b-107">Egy alkalmazás szolgáltató szempontjából több vállalat kiszolgálása előnyei többnyire vonatkozik költség és működési hatékonyság.</span><span class="sxs-lookup"><span data-stu-id="26c5b-107">From an application provider's perspective, the benefits of multitenancy mostly relate to operational and cost efficiencies.</span></span> <span data-ttu-id="26c5b-108">Az alkalmazás egy verzióját sok bérlők vagy ügyfelek, így a rendszer összevonása felügyeleti feladatokhoz, mint a figyelést, teljesítményhangolás, szoftverkarbantartást és az adatok biztonsági képes igényeinek.</span><span class="sxs-lookup"><span data-stu-id="26c5b-108">One version of your application can meet the needs of many tenants/customers, allowing consolidation of system administration tasks such as monitoring, performance tuning, software maintenance, and data backups.</span></span>

<span data-ttu-id="26c5b-109">A következő a legjelentősebb célokat és követelményeket a szolgáltató szempontjából a listáját tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="26c5b-109">The following provides a list of the most significant goals and requirements from a provider's perspective.</span></span>

* <span data-ttu-id="26c5b-110">**Kiépítés**: be kell tudnia új bérlők számára az alkalmazás telepítéséhez.</span><span class="sxs-lookup"><span data-stu-id="26c5b-110">**Provisioning**: You must be able to provision new tenants for the application.</span></span>  <span data-ttu-id="26c5b-111">Sok bérlő több-bérlős alkalmazásokhoz fontos általában ez a folyamat automatizálására önkiszolgáló kiépítés engedélyezése.</span><span class="sxs-lookup"><span data-stu-id="26c5b-111">For multitenant applications with a large number of tenants, it is usually necessary to automate this process by enabling self-service provisioning.</span></span>
* <span data-ttu-id="26c5b-112">**Karbantartási követelmények**: be kell tudnia, frissítse az alkalmazás és más karbantartási feladatokat végez, amíg a több bérlő-k használják.</span><span class="sxs-lookup"><span data-stu-id="26c5b-112">**Maintainability**: You must be able to upgrade the application and perform other maintenance tasks while multiple tenants are using it.</span></span>
* <span data-ttu-id="26c5b-113">**Figyelési**: mindig az alkalmazást, az esetleges problémák felismeréséhez és a hibakereséshez képesnek kell lennie.</span><span class="sxs-lookup"><span data-stu-id="26c5b-113">**Monitoring**: You must be able to monitor the application at all times to identify any problems and to troubleshoot them.</span></span> <span data-ttu-id="26c5b-114">Ez magában foglalja, minden bérlői hogyan használja az alkalmazás figyelése.</span><span class="sxs-lookup"><span data-stu-id="26c5b-114">This includes monitoring how each tenant is using the application.</span></span>

<span data-ttu-id="26c5b-115">A megfelelően megvalósított több-bérlős alkalmazás a következő előnyökkel jár a felhasználók számára.</span><span class="sxs-lookup"><span data-stu-id="26c5b-115">A properly implemented multitenant application provides the following benefits to users.</span></span>

* <span data-ttu-id="26c5b-116">**Elkülönítési**: az egyes bérlők tevékenységeit nem befolyásolják a más bérlők által az alkalmazás használatát.</span><span class="sxs-lookup"><span data-stu-id="26c5b-116">**Isolation**: The activities of individual tenants do not affect the use of the application by other tenants.</span></span> <span data-ttu-id="26c5b-117">Bérlők nem érhető el egymás adatokat.</span><span class="sxs-lookup"><span data-stu-id="26c5b-117">Tenants cannot access each other's data.</span></span> <span data-ttu-id="26c5b-118">Valószínűleg a bérlő számára, hogy rendelkeznek-e az alkalmazás kizárólagos használatát.</span><span class="sxs-lookup"><span data-stu-id="26c5b-118">It appears to the tenant as though they have exclusive use of the application.</span></span>
* <span data-ttu-id="26c5b-119">**Rendelkezésre állási**: az egyes bérlők szeretné, hogy az alkalmazás folyamatosan elérhető legyen, esetleg a szolgáltatásiszint-szerződésben garantált definiált garanciát.</span><span class="sxs-lookup"><span data-stu-id="26c5b-119">**Availability**: Individual tenants want the application to be constantly available, perhaps with guarantees defined in an SLA.</span></span> <span data-ttu-id="26c5b-120">Ebben az esetben a tevékenységeket a többi bérlő nem érinti az alkalmazás rendelkezésre állását.</span><span class="sxs-lookup"><span data-stu-id="26c5b-120">Again, the activities of other tenants should not affect the availability of the application.</span></span>
* <span data-ttu-id="26c5b-121">**Méretezhetőség**: az alkalmazás méretezi az egyes bérlők igény kielégítésére.</span><span class="sxs-lookup"><span data-stu-id="26c5b-121">**Scalability**: The application scales to meet the demand of individual tenants.</span></span> <span data-ttu-id="26c5b-122">A jelenléti és a műveletek a többi bérlő nem érintik az alkalmazás teljesítményét.</span><span class="sxs-lookup"><span data-stu-id="26c5b-122">The presence and actions of other tenants should not affect the performance of the application.</span></span>
* <span data-ttu-id="26c5b-123">**Költségek**: költségek alacsonyabbak dedikált, egyetlen-bérlő alkalmazást futtat, mert a több-bérlős lehetővé teszi, hogy az erőforrás-megosztás.</span><span class="sxs-lookup"><span data-stu-id="26c5b-123">**Costs**: Costs are lower than running a dedicated, single-tenant application because multi-tenancy enables the sharing of resources.</span></span>
* <span data-ttu-id="26c5b-124">**Testreszabhatóság miatt**.</span><span class="sxs-lookup"><span data-stu-id="26c5b-124">**Customizability**.</span></span> <span data-ttu-id="26c5b-125">Lehetővé teszi az alkalmazás különböző módokon, például fel szolgáltatásokat, színek és az emblémát módosításával, vagy még a saját kód vagy parancsfájl hozzáadása egy adott bérlő testreszabásához.</span><span class="sxs-lookup"><span data-stu-id="26c5b-125">The ability to customize the application for an individual tenant in various ways such as adding or removing features, changing colors and logos, or even adding their own code or script.</span></span>

<span data-ttu-id="26c5b-126">Röviden hogy közben számos szempontot, figyelembe kell venni egy kiválóan méretezhető kiszolgálása, számos is a célok és számos több-bérlős alkalmazás vonatkozó követelmények.</span><span class="sxs-lookup"><span data-stu-id="26c5b-126">In short, while there are many considerations that you must take into account to provide a highly scalable service, there are also a number of the goals and requirements that are common to many multitenant applications.</span></span> <span data-ttu-id="26c5b-127">Néhány nem lehet megfelelő, az adott forgatókönyveket, és egyéni célokat és követelményeket fontosságát eltérőek, mindkét esetben.</span><span class="sxs-lookup"><span data-stu-id="26c5b-127">Some may not be relevant in specific scenarios, and the importance of individual goals and requirements will differ in each scenario.</span></span> <span data-ttu-id="26c5b-128">A több-bérlős alkalmazás-szolgáltatóként ki is célokat és követelményeket, többek között a bérlők célok és követelmények, nyereségességével, számlázási, több szolgáltatási szintek, kiépítés, karbantartási követelmények figyelése és automatizálási értekezlet.</span><span class="sxs-lookup"><span data-stu-id="26c5b-128">As a provider of the multitenant application, you will also have goals and requirements such as, meeting the tenants' goals and requirements, profitability, billing, multiple service levels, provisioning, maintainability monitoring, and automation.</span></span>

<span data-ttu-id="26c5b-129">A több-bérlős alkalmazás további kialakítási szempontokkal kapcsolatban további információkért lásd: [egy több-Bérlős alkalmazást az Azure-on][Hosting a Multi-Tenant Application on Azure].</span><span class="sxs-lookup"><span data-stu-id="26c5b-129">For more information on additional design considerations of a multitenant application, see [Hosting a Multi-Tenant Application on Azure][Hosting a Multi-Tenant Application on Azure].</span></span> <span data-ttu-id="26c5b-130">A több bérlős szoftverszolgáltatás (SaaS) típusú adatbázis-alkalmazások általános adatarchitektúra-mintázataival kapcsolatos információk: [Tervminták több-bérlős SaaS-alkalmazásokhoz Azure SQL Database esetén](sql-database/sql-database-design-patterns-multi-tenancy-saas-applications.md).</span><span class="sxs-lookup"><span data-stu-id="26c5b-130">For information on common data architecture patterns of multi-tenant software-as-a-service (SaaS) database applications, see [Design Patterns for Multi-tenant SaaS Applications with Azure SQL Database](sql-database/sql-database-design-patterns-multi-tenancy-saas-applications.md).</span></span> 

<span data-ttu-id="26c5b-131">Azure számos olyan szolgáltatásokat nyújt, engedélyezi, hogy a kulcs a több-bérlős rendszerek tervezése során észlelt problémákat.</span><span class="sxs-lookup"><span data-stu-id="26c5b-131">Azure provides many features that allow you to address the key problems encountered when designing a multitenant system.</span></span>

<span data-ttu-id="26c5b-132">**Elkülönítés**</span><span class="sxs-lookup"><span data-stu-id="26c5b-132">**Isolation**</span></span>

* <span data-ttu-id="26c5b-133">Szegmens webhely bérlők által állomásfejléc vagy anélkül SSL-kommunikáció</span><span class="sxs-lookup"><span data-stu-id="26c5b-133">Segment Website Tenants by Host Headers with or without SSL communication</span></span>
* <span data-ttu-id="26c5b-134">Szegmens webhely bérlők által lekérdezés-paraméterek</span><span class="sxs-lookup"><span data-stu-id="26c5b-134">Segment Website Tenants by Query Parameters</span></span>
* <span data-ttu-id="26c5b-135">A feldolgozói szerepkörök webszolgáltatások</span><span class="sxs-lookup"><span data-stu-id="26c5b-135">Web Services in Worker Roles</span></span>
  * <span data-ttu-id="26c5b-136">Feldolgozói szerepköröket.</span><span class="sxs-lookup"><span data-stu-id="26c5b-136">Worker Roles.</span></span> <span data-ttu-id="26c5b-137">amely általában a háttérkiszolgáló az alkalmazás adatokat feldolgozó.</span><span class="sxs-lookup"><span data-stu-id="26c5b-137">that typically process data on the backend of an application.</span></span>
  * <span data-ttu-id="26c5b-138">Általában működjön, és az alkalmazások előtérbeli webes szerepkörök.</span><span class="sxs-lookup"><span data-stu-id="26c5b-138">Web Roles that typically act as the frontend for applications.</span></span>

<span data-ttu-id="26c5b-139">**Storage**</span><span class="sxs-lookup"><span data-stu-id="26c5b-139">**Storage**</span></span>

<span data-ttu-id="26c5b-140">Például az Azure SQL Database vagy az Azure Storage szolgáltatások, például a Table szolgáltatás, ami nagy mennyiségű strukturálatlan adatok tárolási szolgáltatásokat és a Blob szolgáltatás, amely nagy mennyiségű strukturálatlan szöveges vagy bináris tárolására szolgáltatásokat nyújt adatok kezelése adatok, például a video-, hang- és lemezképek.</span><span class="sxs-lookup"><span data-stu-id="26c5b-140">Data management such as Azure SQL Database or Azure Storage services such as the Table service which provides services for storage of large amounts of unstructured data and the Blob service which provides services to store large amounts of unstructured text or binary data such as video, audio and images.</span></span>

* <span data-ttu-id="26c5b-141">Az SQL-adatbázis megfelelő biztonságossá tétele több-Bérlős adatok / bérlői SQL Server bejelentkezési azonosítók.</span><span class="sxs-lookup"><span data-stu-id="26c5b-141">Securing Multitenant Data in SQL Database appropriate per-tenant SQL Server logins.</span></span>
* <span data-ttu-id="26c5b-142">Azure-táblák az alkalmazás erőforrások megadásával a tároló szintű hozzáférési házirend használatával állíthatja be az engedélyeket anélkül, hogy ki az új URL-Címeket a megosztott hozzáférési aláírásokkal védett erőforrásokhoz.</span><span class="sxs-lookup"><span data-stu-id="26c5b-142">Using Azure Tables for Application Resources By specifying a container level access policy, you can the ability to adjust permissions without having to issue new URL's for the resources protected with shared access signatures.</span></span>
* <span data-ttu-id="26c5b-143">Alkalmazás-erőforrások Azure várólisták Azure várólisták gyakran használják a bérlők nevében meghajtó feldolgozásra, de a kiépítés vagy felügyeleti szükséges munka terjesztését is felhasználhatók.</span><span class="sxs-lookup"><span data-stu-id="26c5b-143">Azure Queues for Application Resources Azure queues are commonly used to drive processing on behalf of tenants, but may also be used to distribute work required for provisioning or management.</span></span>
* <span data-ttu-id="26c5b-144">Service Bus-üzenetsorok leküldéses értesítések alkalmazás-erőforrásokkal működik egy megosztott egy szolgáltatást, használja egy adott sorba ahol mindegyik bérlő küldő csak jogosult (mivel az ACS-től kiadott jogcímeket származó) nyomni a várólistára, a szolgáltatás csak a fogadók a több bérlő érkező adatokat az üzenetsorból lekéréses engedéllyel.</span><span class="sxs-lookup"><span data-stu-id="26c5b-144">Service Bus Queues for Application Resources that pushes work to a shared a service, you can use a single queue where each tenant sender only has permissions (as derived from claims issued from ACS) to push to that queue, while only the receivers from the service have permission to pull from the queue the data coming from multiple tenants.</span></span>

<span data-ttu-id="26c5b-145">**Kapcsolati és biztonsági szolgáltatások**</span><span class="sxs-lookup"><span data-stu-id="26c5b-145">**Connection and Security Services**</span></span>

* <span data-ttu-id="26c5b-146">Az Azure Service Bus, egy üzenetkezelési infrastruktúra, amely az alkalmazások engedélyezi azok az exchange-üzenetek a lazán összekapcsolt megoldást, hogy a javított méretezési és rugalmassági között.</span><span class="sxs-lookup"><span data-stu-id="26c5b-146">Azure Service Bus, a messaging infrastructure that sits between applications allowing them to exchange messages in a loosely coupled way for improved scale and resiliency.</span></span>

<span data-ttu-id="26c5b-147">**Hálózati szolgáltatások**</span><span class="sxs-lookup"><span data-stu-id="26c5b-147">**Networking Services**</span></span>

<span data-ttu-id="26c5b-148">Azure, amely támogatja a hitelesítést, és javíthatja a kezelhetőségi az alkalmazások több hálózati szolgáltatásokat biztosít.</span><span class="sxs-lookup"><span data-stu-id="26c5b-148">Azure provides several networking services that support authentication, and improve manageability of your hosted applications.</span></span> <span data-ttu-id="26c5b-149">Ezek a szolgáltatások a következők:</span><span class="sxs-lookup"><span data-stu-id="26c5b-149">These services include the following:</span></span>

* <span data-ttu-id="26c5b-150">Az Azure virtuális hálózat megadható, hogy Ön kiépítése és virtuális magánhálózatok (VPN) kezelése az Azure-ban, valamint biztonságos hivatkozás ezen a helyszíni informatikai infrastruktúrát.</span><span class="sxs-lookup"><span data-stu-id="26c5b-150">Azure Virtual Network lets you provision and manage virtual private networks (VPNs) in Azure as well as securely link these with on-premises IT infrastructure.</span></span>
* <span data-ttu-id="26c5b-151">Virtuális hálózati Traffic Manager betöltése oszthatja el a bejövő forgalmat több üzemeltetett az Azure szolgáltatásban, hogy azok futtatja ugyanabban az adatközpontban, vagy a világ különböző üzemeltetésében teszi lehetővé.</span><span class="sxs-lookup"><span data-stu-id="26c5b-151">Virtual Network Traffic Manager allows you to load balance incoming traffic across multiple hosted Azure services whether they're running in the same datacenter or across different datacenters around the world.</span></span>
* <span data-ttu-id="26c5b-152">Azure Active Directory (Azure AD) szolgáltatás modern REST-alapú szolgáltatás, amely identitás kezelése és hozzáférés-vezérlés képességeinek biztosít a felhőalapú alkalmazásokhoz.</span><span class="sxs-lookup"><span data-stu-id="26c5b-152">Azure Active Directory (Azure AD) is a modern, REST-based service that provides identity management and access control capabilities for your cloud applications.</span></span> <span data-ttu-id="26c5b-153">Az Azure AD az Azure AD-be és felhasználók hitelesítésére ahhoz, hogy hozzáférjenek a webes alkalmazások és szolgáltatások miközben lehetővé teszi a hitelesítési és engedélyezési kívül a kódot kell figyelembe venni a funkciók egyszerű lehetőséget biztosít az alkalmazás-erőforrásokat.</span><span class="sxs-lookup"><span data-stu-id="26c5b-153">Using Azure AD for Application Resources Azure AD to provides an easy way of authenticating and authorizing users to gain access to your web applications and services while allowing the features of authentication and authorization to be factored out of your code.</span></span>
* <span data-ttu-id="26c5b-154">Az Azure Service Bus egy biztonságos üzenetküldést biztosít és adatok folyamata funkció elosztott és hibrid alkalmazások, például az Azure közötti kommunikáció üzemeltetett alkalmazások és a helyszíni alkalmazásokhoz és szolgáltatásokhoz, anélkül, hogy bonyolult tűzfal- és biztonsági infrastruktúra.</span><span class="sxs-lookup"><span data-stu-id="26c5b-154">Azure Service Bus provides a secure messaging and data flow capability for distributed and hybrid applications, such as communication between Azure hosted applications and on-premises applications and services, without requiring complex firewall and security infrastructures.</span></span> <span data-ttu-id="26c5b-155">A bérlő (például kívül a rendszer, például a helyszínen üzemeltetett) alkalmazás-erőforrásokat a Service Bus Relay használatával végpontként ki vannak téve a szolgáltatások tartozhat, és lehetnek (mivel kimondottan a bérlő kiépített szolgáltatások -és nagybetűket, a bérlő-specifikus adatok áthaladó őket).</span><span class="sxs-lookup"><span data-stu-id="26c5b-155">Using Service Bus Relay for Application Resources to The services that are exposed as endpoints may belong to the tenant (for example, hosted outside of the system, such as on-premises), or they may be services provisioned specifically for the tenant (because sensitive, tenant-specific data travels across them).</span></span>

<span data-ttu-id="26c5b-156">**Erőforrások kiépítése**</span><span class="sxs-lookup"><span data-stu-id="26c5b-156">**Provisioning Resources**</span></span>

<span data-ttu-id="26c5b-157">Azure számos módon rendelkezés új bérlők számára az alkalmazás tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="26c5b-157">Azure provides a number of ways provision new tenants for the application.</span></span> <span data-ttu-id="26c5b-158">Sok bérlő több-bérlős alkalmazásokhoz fontos általában ez a folyamat automatizálására önkiszolgáló kiépítés engedélyezése.</span><span class="sxs-lookup"><span data-stu-id="26c5b-158">For multitenant applications with a large number of tenants, it is usually necessary to automate this process by enabling self-service provisioning.</span></span>

* <span data-ttu-id="26c5b-159">Feldolgozói szerepkörök lehetővé teszi a kiépítés és deaktiválás rendelkezés bérlőnként erőforrások (például amikor egy új bérlőt jelentkezik be, vagy megszakítja a), gyűjtéséhez mérési használja, és bizonyos ütemezés kezelésére, vagy a teljesítmény küszöbértékeit metsző válaszul mutatók.</span><span class="sxs-lookup"><span data-stu-id="26c5b-159">Worker roles allow you to provision and de-provision per tenant resources (such as when a new tenant signs-up or cancels), collect metrics for metering use, and manage scale following a certain schedule or in response to the crossing of thresholds of key performance indicators.</span></span> <span data-ttu-id="26c5b-160">Ez ugyanarra a szerepkörre is felhasználhatók leküldéses frissítéseit és a frissítések a megoldáshoz.</span><span class="sxs-lookup"><span data-stu-id="26c5b-160">This same role may also be used to push out updates and upgrades to the solution.</span></span>
* <span data-ttu-id="26c5b-161">Azure-blobokat számítási létrehozásához használt, vagy már inicializálva tárolási erőforrások védelme érdekében a számítási ugyanakkor biztosítható a tároló hozzáférési házirendek az új bérlők számára szolgáltatás csomagokat, a virtuális merevlemez képek és egyéb erőforrásokhoz.</span><span class="sxs-lookup"><span data-stu-id="26c5b-161">Azure Blobs can be used to provision compute or pre-initialized storage resources for new tenants while providing container level access policies to protect the compute service Packages, VHD images and other resources.</span></span>
* <span data-ttu-id="26c5b-162">SQL adatbázis-erőforrások egy bérlő kialakítási lehetőségek a következők:</span><span class="sxs-lookup"><span data-stu-id="26c5b-162">Options for provisioning SQL Database resources for a tenant include:</span></span>
  
  * <span data-ttu-id="26c5b-163">A parancsfájlok DDL vagy beágyazott erőforrásként szerelvények belül</span><span class="sxs-lookup"><span data-stu-id="26c5b-163">DDL in scripts or embedded as resources within assemblies</span></span>
  * <span data-ttu-id="26c5b-164">SQL Server 2008 R2 DAC-csomagokat telepített programozott módon.</span><span class="sxs-lookup"><span data-stu-id="26c5b-164">SQL Server 2008 R2 DAC Packages deployed programmatically.</span></span>
  * <span data-ttu-id="26c5b-165">A fő referencia-adatbázis másolása</span><span class="sxs-lookup"><span data-stu-id="26c5b-165">Copying from a master reference database</span></span>
  * <span data-ttu-id="26c5b-166">Használja az adatbázis importálási és exportálási fájlból új adatbázisok létrehozásához.</span><span class="sxs-lookup"><span data-stu-id="26c5b-166">Using database Import and Export to provision new databases from a file.</span></span>

<!--links-->

[Hosting a Multi-Tenant Application on Azure]: http://msdn.microsoft.com/library/hh534480.aspx
[Designing Multitenant Applications on Azure]: http://msdn.microsoft.com/library/windowsazure/hh689716
