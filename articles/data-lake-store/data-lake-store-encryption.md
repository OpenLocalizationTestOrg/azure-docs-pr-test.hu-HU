---
title: az Azure Data Lake Store aaaEncryption |} Microsoft Docs
description: "A titkosítás és a kulcsrotálás működésének megismerése az Azure Data Lake Store-ban"
services: data-lake-store
documentationcenter: 
author: yagupta
manager: 
editor: 
ms.assetid: 
ms.service: data-lake-store
ms.devlang: na
ms.topic: get-started-article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 4/14/2017
ms.author: yagupta
ms.openlocfilehash: a9f3a2dce8232deba93005594d1e6a21e9c0cbee
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="encryption-of-data-in-azure-data-lake-store"></a><span data-ttu-id="4f717-103">Az adatok titkosítása az Azure Data Lake Store-ban</span><span class="sxs-lookup"><span data-stu-id="4f717-103">Encryption of data in Azure Data Lake Store</span></span>

<span data-ttu-id="4f717-104">A titkosítás az Azure Data Lake Store-ban segíti az adatok védelmét, vállalati biztonsági szabályzatok implementálását és az előírt megfelelőségi követelmények teljesítését.</span><span class="sxs-lookup"><span data-stu-id="4f717-104">Encryption in Azure Data Lake Store helps you protect your data, implement enterprise security policies, and meet regulatory compliance requirements.</span></span> <span data-ttu-id="4f717-105">Ez a cikk hello kialakítás áttekintése, és megvalósítási hello műszaki szempontjait és.</span><span class="sxs-lookup"><span data-stu-id="4f717-105">This article provides an overview of hello design, and discusses some of hello technical aspects of implementation.</span></span>

<span data-ttu-id="4f717-106">A Data Lake Store az adatok titkosítását inaktív adatok és adatátvitel esetén egyaránt támogatja.</span><span class="sxs-lookup"><span data-stu-id="4f717-106">Data Lake Store supports encryption of data both at rest and in transit.</span></span> <span data-ttu-id="4f717-107">Inaktív adatok esetén a Data Lake Store csak az alapértelmezés szerinti, átlátható titkosítást támogatja.</span><span class="sxs-lookup"><span data-stu-id="4f717-107">For data at rest, Data Lake Store supports "on by default," transparent encryption.</span></span> <span data-ttu-id="4f717-108">Kicsit részletesebben kifejtve ez az alábbiakat jelenti:</span><span class="sxs-lookup"><span data-stu-id="4f717-108">Here is what these terms mean in a bit more detail:</span></span>

* <span data-ttu-id="4f717-109">**Az alapértelmezés szerint**: egy új Data Lake Store-fiók létrehozásakor hello alapértelmezett beállítás engedélyezi-e a titkosítás.</span><span class="sxs-lookup"><span data-stu-id="4f717-109">**On by default**: When you create a new Data Lake Store account, hello default setting enables encryption.</span></span> <span data-ttu-id="4f717-110">Ezt követően Data Lake Store-ban tárolt adatok mindig titkosított előzetes toostoring állandó adathordozón.</span><span class="sxs-lookup"><span data-stu-id="4f717-110">Thereafter, data that is stored in Data Lake Store is always encrypted prior toostoring on persistent media.</span></span> <span data-ttu-id="4f717-111">Ez a hello működés az összes adat, és fiók létrehozása után nem módosítható.</span><span class="sxs-lookup"><span data-stu-id="4f717-111">This is hello behavior for all data, and it cannot be changed after an account is created.</span></span>
* <span data-ttu-id="4f717-112">**Transzparens**: Data Lake Store automatikusan adatok előzetes toopersisting, és fogadott adatok előzetes tooretrieval titkosítása.</span><span class="sxs-lookup"><span data-stu-id="4f717-112">**Transparent**: Data Lake Store automatically encrypts data prior toopersisting, and decrypts data prior tooretrieval.</span></span> <span data-ttu-id="4f717-113">hello titkosítási és konfigurált hello Data Lake Store szint: egy rendszergazda felügyeli.</span><span class="sxs-lookup"><span data-stu-id="4f717-113">hello encryption is configured and managed at hello Data Lake Store level by an administrator.</span></span> <span data-ttu-id="4f717-114">Nincs módosításai toohello adatok API-k eléréséhez.</span><span class="sxs-lookup"><span data-stu-id="4f717-114">No changes are made toohello data access APIs.</span></span> <span data-ttu-id="4f717-115">Ezért a titkosítás miatt nincs szükség módosításokra a Data Lake Store-ral kommunikáló alkalmazásokban és szolgáltatásokban.</span><span class="sxs-lookup"><span data-stu-id="4f717-115">Thus, no changes are required in applications and services that interact with Data Lake Store because of encryption.</span></span>

<span data-ttu-id="4f717-116">Az átvitt adatok (azaz a mozgásban lévő adatok) titkosítása is mindig a Data Lake Store-ban történik.</span><span class="sxs-lookup"><span data-stu-id="4f717-116">Data in transit (also known as data in motion) is also always encrypted in Data Lake Store.</span></span> <span data-ttu-id="4f717-117">Ezenkívül tooencrypting előzetes toostoring toopersistent adathordozók, hello adatok is minden esetben biztosítva átvitel közben HTTPS használatával.</span><span class="sxs-lookup"><span data-stu-id="4f717-117">In addition tooencrypting data prior toostoring toopersistent media, hello data is also always secured in transit by using HTTPS.</span></span> <span data-ttu-id="4f717-118">HTTPS hello egyetlen protokoll, amely Data Lake Store REST felületeihez hello támogatott.</span><span class="sxs-lookup"><span data-stu-id="4f717-118">HTTPS is hello only protocol that is supported for hello Data Lake Store REST interfaces.</span></span> <span data-ttu-id="4f717-119">hello következő ábra bemutatja, hogyan lesz titkosítva az adatok a Data Lake Store:</span><span class="sxs-lookup"><span data-stu-id="4f717-119">hello following diagram shows how data becomes encrypted in Data Lake Store:</span></span>

![A Data Lake Store-ban végbemenő adattitkosítás ábrája](./media/data-lake-store-encryption/fig1.png)


## <a name="set-up-encryption-with-data-lake-store"></a><span data-ttu-id="4f717-121">Titkosítás beállítása a Data Lake Store-ral</span><span class="sxs-lookup"><span data-stu-id="4f717-121">Set up encryption with Data Lake Store</span></span>

<span data-ttu-id="4f717-122">A Data Lake Store titkosításának beállítása mindig a fiók létrehozása során történik, és alapértelmezés szerint minden esetben engedélyezve van.</span><span class="sxs-lookup"><span data-stu-id="4f717-122">Encryption for Data Lake Store is set up during account creation, and it is always enabled by default.</span></span> <span data-ttu-id="4f717-123">Hello kulcsok kezelése, saját magának, vagy engedélyezze a Data Lake Store toomanage meg (Ez az alapértelmezett hello) őket.</span><span class="sxs-lookup"><span data-stu-id="4f717-123">You can either manage hello keys yourself, or allow Data Lake Store toomanage them for you (this is hello default).</span></span>

<span data-ttu-id="4f717-124">További részletekért lásd [az első lépéseket](https://docs.microsoft.com/azure/data-lake-store/data-lake-store-get-started-portal).</span><span class="sxs-lookup"><span data-stu-id="4f717-124">For more information, see [Getting started](https://docs.microsoft.com/azure/data-lake-store/data-lake-store-get-started-portal).</span></span>

## <a name="how-encryption-works-in-data-lake-store"></a><span data-ttu-id="4f717-125">A titkosítás működésének megismerése a Data Lake Store-ban</span><span class="sxs-lookup"><span data-stu-id="4f717-125">How encryption works in Data Lake Store</span></span>

<span data-ttu-id="4f717-126">hello következőket ismerteti hogyan toomanage fő titkosítási kulcsokat, és elmagyarázza, hello három különböző típusú kulcsokat használhatja a Data Lake Store az adattitkosítás.</span><span class="sxs-lookup"><span data-stu-id="4f717-126">hello following information covers how toomanage master encryption keys, and it explains hello three different types of keys you can use in data encryption for Data Lake Store.</span></span>

### <a name="master-encryption-keys"></a><span data-ttu-id="4f717-127">Titkosítási főkulcsok</span><span class="sxs-lookup"><span data-stu-id="4f717-127">Master encryption keys</span></span>

<span data-ttu-id="4f717-128">A Data Lake Store a titkosítási főkulcsok (Master Encryption Key, MEK) kezelését kétféle módon biztosítja.</span><span class="sxs-lookup"><span data-stu-id="4f717-128">Data Lake Store provides two modes for management of master encryption keys (MEKs).</span></span> <span data-ttu-id="4f717-129">Most feltételezik hello fő titkosítási kulcs hello legfelső szintű kulcs.</span><span class="sxs-lookup"><span data-stu-id="4f717-129">For now, assume that hello master encryption key is hello top-level key.</span></span> <span data-ttu-id="4f717-130">Hozzáférés toohello fő titkosítási kulcsa szükséges toodecrypt Data Lake Store-ban tárolt adatokat.</span><span class="sxs-lookup"><span data-stu-id="4f717-130">Access toohello master encryption key is required toodecrypt any data stored in Data Lake Store.</span></span>

<span data-ttu-id="4f717-131">hello fő titkosítási kulcsát kezelésére szolgáló hello két módok a következők:</span><span class="sxs-lookup"><span data-stu-id="4f717-131">hello two modes for managing hello master encryption key are as follows:</span></span>

*   <span data-ttu-id="4f717-132">Szolgáltatás által kezelt kulcsok</span><span class="sxs-lookup"><span data-stu-id="4f717-132">Service managed keys</span></span>
*   <span data-ttu-id="4f717-133">Felhasználó által kezelt kulcsok</span><span class="sxs-lookup"><span data-stu-id="4f717-133">Customer managed keys</span></span>

<span data-ttu-id="4f717-134">Mindkét üzemmódban hello fő titkosítási kulcsát az Azure Key Vault elhelyezésével védett.</span><span class="sxs-lookup"><span data-stu-id="4f717-134">In both modes, hello master encryption key is secured by storing it in Azure Key Vault.</span></span> <span data-ttu-id="4f717-135">Key Vault szolgáltatás, amely toosafeguard használt titkosítási kulcsok Azure rendkívül biztonságos teljes körűen felügyelt szolgáltatás.</span><span class="sxs-lookup"><span data-stu-id="4f717-135">Key Vault is a fully managed, highly secure service on Azure that can be used toosafeguard cryptographic keys.</span></span> <span data-ttu-id="4f717-136">További információkért lásd a [Key Vaultról](https://azure.microsoft.com/services/key-vault) szóló cikket.</span><span class="sxs-lookup"><span data-stu-id="4f717-136">For more information, see [Key Vault](https://azure.microsoft.com/services/key-vault).</span></span>

<span data-ttu-id="4f717-137">Itt található hello két módja hello MEKs kezelése által biztosított képességek rövid összehasonlítása.</span><span class="sxs-lookup"><span data-stu-id="4f717-137">Here is a brief comparison of capabilities provided by hello two modes of managing hello MEKs.</span></span>

|  | <span data-ttu-id="4f717-138">Szolgáltatás által kezelt kulcsok</span><span class="sxs-lookup"><span data-stu-id="4f717-138">Service managed keys</span></span> | <span data-ttu-id="4f717-139">Felhasználó által kezelt kulcsok</span><span class="sxs-lookup"><span data-stu-id="4f717-139">Customer managed keys</span></span> |
| --- | --- | --- |
|<span data-ttu-id="4f717-140">Hogyan történik az adatok tárolása?</span><span class="sxs-lookup"><span data-stu-id="4f717-140">How is data stored?</span></span>|<span data-ttu-id="4f717-141">Mindig titkosított előzetes toobeing tárolja.</span><span class="sxs-lookup"><span data-stu-id="4f717-141">Always encrypted prior toobeing stored.</span></span>|<span data-ttu-id="4f717-142">Mindig titkosított előzetes toobeing tárolja.</span><span class="sxs-lookup"><span data-stu-id="4f717-142">Always encrypted prior toobeing stored.</span></span>|
|<span data-ttu-id="4f717-143">Hol tárolja a titkosítási kulcs hello?</span><span class="sxs-lookup"><span data-stu-id="4f717-143">Where is hello Master Encryption Key stored?</span></span>|<span data-ttu-id="4f717-144">Key Vault</span><span class="sxs-lookup"><span data-stu-id="4f717-144">Key Vault</span></span>|<span data-ttu-id="4f717-145">Key Vault</span><span class="sxs-lookup"><span data-stu-id="4f717-145">Key Vault</span></span>|
|<span data-ttu-id="4f717-146">Bármely titkosítási kulcsok hello találhatók törölje esnek Key Vault?</span><span class="sxs-lookup"><span data-stu-id="4f717-146">Are any encryption keys stored in hello clear outside of Key Vault?</span></span> |<span data-ttu-id="4f717-147">Nem</span><span class="sxs-lookup"><span data-stu-id="4f717-147">No</span></span>|<span data-ttu-id="4f717-148">Nem</span><span class="sxs-lookup"><span data-stu-id="4f717-148">No</span></span>|
|<span data-ttu-id="4f717-149">Hello MEK lekérhetők Key Vault?</span><span class="sxs-lookup"><span data-stu-id="4f717-149">Can hello MEK be retrieved by Key Vault?</span></span>|<span data-ttu-id="4f717-150">Nem.</span><span class="sxs-lookup"><span data-stu-id="4f717-150">No.</span></span> <span data-ttu-id="4f717-151">Hello MEK Key Vault van tárolva, után csak használat titkosításához és visszafejtéséhez.</span><span class="sxs-lookup"><span data-stu-id="4f717-151">After hello MEK is stored in Key Vault, it can only be used for encryption and decryption.</span></span>|<span data-ttu-id="4f717-152">Nem.</span><span class="sxs-lookup"><span data-stu-id="4f717-152">No.</span></span> <span data-ttu-id="4f717-153">Hello MEK Key Vault van tárolva, után csak használat titkosításához és visszafejtéséhez.</span><span class="sxs-lookup"><span data-stu-id="4f717-153">After hello MEK is stored in Key Vault, it can only be used for encryption and decryption.</span></span>|
|<span data-ttu-id="4f717-154">Hello Key Vault-példány és hello MEK tulajdonosára?</span><span class="sxs-lookup"><span data-stu-id="4f717-154">Who owns hello Key Vault instance and hello MEK?</span></span>|<span data-ttu-id="4f717-155">hello Data Lake Store szolgáltatás</span><span class="sxs-lookup"><span data-stu-id="4f717-155">hello Data Lake Store service</span></span>|<span data-ttu-id="4f717-156">Saját tartozik, a saját Azure-előfizetés hello Key Vault példány.</span><span class="sxs-lookup"><span data-stu-id="4f717-156">You own hello Key Vault instance, which belongs in your own Azure subscription.</span></span> <span data-ttu-id="4f717-157">a Key Vault MEK hello szoftveres vagy hardveres kezelhető.</span><span class="sxs-lookup"><span data-stu-id="4f717-157">hello MEK in Key Vault can be managed by software or hardware.</span></span>|
|<span data-ttu-id="4f717-158">Vissza tudja vonni hozzáférés toohello MEK a hello Data Lake Store szolgáltatást?</span><span class="sxs-lookup"><span data-stu-id="4f717-158">Can you revoke access toohello MEK for hello Data Lake Store service?</span></span>|<span data-ttu-id="4f717-159">Nem</span><span class="sxs-lookup"><span data-stu-id="4f717-159">No</span></span>|<span data-ttu-id="4f717-160">Igen.</span><span class="sxs-lookup"><span data-stu-id="4f717-160">Yes.</span></span> <span data-ttu-id="4f717-161">Hozzáférés-vezérlési listák a Key Vault kezeléséhez, és hozzáférést vezérlő bejegyzések toohello szolgáltatás identitásának hello Data Lake Store szolgáltatás eltávolítása.</span><span class="sxs-lookup"><span data-stu-id="4f717-161">You can manage access control lists in Key Vault, and remove access control entries toohello service identity for hello Data Lake Store service.</span></span>|
|<span data-ttu-id="4f717-162">Végleg törölhetők hello MEK?</span><span class="sxs-lookup"><span data-stu-id="4f717-162">Can you permanently delete hello MEK?</span></span>|<span data-ttu-id="4f717-163">Nem</span><span class="sxs-lookup"><span data-stu-id="4f717-163">No</span></span>|<span data-ttu-id="4f717-164">Igen.</span><span class="sxs-lookup"><span data-stu-id="4f717-164">Yes.</span></span> <span data-ttu-id="4f717-165">Key Vault hello MEK töröl, hello hello Data Lake Store-fiók adatait nem lehet visszafejteni, bárki, beleértve a hello Data Lake Store szolgáltatást.</span><span class="sxs-lookup"><span data-stu-id="4f717-165">If you delete hello MEK from Key Vault, hello data in hello Data Lake Store account cannot be decrypted by anyone, including hello Data Lake Store service.</span></span> <br><br> <span data-ttu-id="4f717-166">Ha explicit módon biztonsági másolatából hello MEK előzetes toodeleting azt a Key Vault, hello MEK visszaállítható, és hello majd lehessen helyreállítani.</span><span class="sxs-lookup"><span data-stu-id="4f717-166">If you have explicitly backed up hello MEK prior toodeleting it from Key Vault, hello MEK can be restored, and hello data can then be recovered.</span></span> <span data-ttu-id="4f717-167">Azonban nem biztonsági másolatából hello MEK előzetes toodeleting azt a Key Vault, ha a Data Lake Store-fiók hello hello adatok soha nem visszafejthető ezt követően.</span><span class="sxs-lookup"><span data-stu-id="4f717-167">However, if you have not backed up hello MEK prior toodeleting it from Key Vault, hello data in hello Data Lake Store account can never be decrypted thereafter.</span></span>|


<span data-ttu-id="4f717-168">Ezt a különbséget a vezérelt hello MEK kezelő és hello Key Vault példány, amelyben található, hello tervezési hello részeinek van hello azonos mindkét módnál.</span><span class="sxs-lookup"><span data-stu-id="4f717-168">Aside from this difference of who manages hello MEK and hello Key Vault instance in which it resides, hello rest of hello design is hello same for both modes.</span></span>

<span data-ttu-id="4f717-169">Ha úgy dönt, hello hello mód fő titkosítási kulcsok fontos tooremember hello következő:</span><span class="sxs-lookup"><span data-stu-id="4f717-169">It's important tooremember hello following when you choose hello mode for hello master encryption keys:</span></span>

*   <span data-ttu-id="4f717-170">Kiválaszthatja, hogy toouse ügyfél felügyelt kulcsok vagy felügyelt kulcsai amikor Data Lake Store-fiók.</span><span class="sxs-lookup"><span data-stu-id="4f717-170">You can choose whether toouse customer managed keys or service managed keys when you provision a Data Lake Store account.</span></span>
*   <span data-ttu-id="4f717-171">Data Lake Store-fiók üzembe helyezése után hello módja nem módosítható.</span><span class="sxs-lookup"><span data-stu-id="4f717-171">After a Data Lake Store account is provisioned, hello mode cannot be changed.</span></span>

### <a name="encryption-and-decryption-of-data"></a><span data-ttu-id="4f717-172">Adattitkosítás és -visszafejtés</span><span class="sxs-lookup"><span data-stu-id="4f717-172">Encryption and decryption of data</span></span>

<span data-ttu-id="4f717-173">Háromféle hello kialakításában adattitkosítási kulcsokat van.</span><span class="sxs-lookup"><span data-stu-id="4f717-173">There are three types of keys that are used in hello design of data encryption.</span></span> <span data-ttu-id="4f717-174">hello a következő táblázat az összefoglalást tartalmazza:</span><span class="sxs-lookup"><span data-stu-id="4f717-174">hello following table provides a summary:</span></span>

| <span data-ttu-id="4f717-175">Kulcs</span><span class="sxs-lookup"><span data-stu-id="4f717-175">Key</span></span>                   | <span data-ttu-id="4f717-176">Rövidítés</span><span class="sxs-lookup"><span data-stu-id="4f717-176">Abbreviation</span></span> | <span data-ttu-id="4f717-177">Társítva ezzel:</span><span class="sxs-lookup"><span data-stu-id="4f717-177">Associated with</span></span> | <span data-ttu-id="4f717-178">Tárolási hely</span><span class="sxs-lookup"><span data-stu-id="4f717-178">Storage location</span></span>                             | <span data-ttu-id="4f717-179">Típus</span><span class="sxs-lookup"><span data-stu-id="4f717-179">Type</span></span>       | <span data-ttu-id="4f717-180">Megjegyzések</span><span class="sxs-lookup"><span data-stu-id="4f717-180">Notes</span></span>                                                                                                   |
|-----------------------|--------------|-----------------|----------------------------------------------|------------|---------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="4f717-181">Titkosítási főkulcs</span><span class="sxs-lookup"><span data-stu-id="4f717-181">Master Encryption Key</span></span> | <span data-ttu-id="4f717-182">MEK</span><span class="sxs-lookup"><span data-stu-id="4f717-182">MEK</span></span>          | <span data-ttu-id="4f717-183">Data Lake Store-fiók</span><span class="sxs-lookup"><span data-stu-id="4f717-183">A Data Lake Store account</span></span> | <span data-ttu-id="4f717-184">Key Vault</span><span class="sxs-lookup"><span data-stu-id="4f717-184">Key Vault</span></span>                              | <span data-ttu-id="4f717-185">Aszimmetrikus</span><span class="sxs-lookup"><span data-stu-id="4f717-185">Asymmetric</span></span> | <span data-ttu-id="4f717-186">Kezelheti a Data Lake Store, vagy Ön is.</span><span class="sxs-lookup"><span data-stu-id="4f717-186">It can be managed by Data Lake Store or you.</span></span>                                                              |
| <span data-ttu-id="4f717-187">Adattitkosítási kulcs</span><span class="sxs-lookup"><span data-stu-id="4f717-187">Data Encryption Key</span></span>   | <span data-ttu-id="4f717-188">DEK</span><span class="sxs-lookup"><span data-stu-id="4f717-188">DEK</span></span>          | <span data-ttu-id="4f717-189">Data Lake Store-fiók</span><span class="sxs-lookup"><span data-stu-id="4f717-189">A Data Lake Store account</span></span> | <span data-ttu-id="4f717-190">Állandó tároló, a Data Lake Store szolgáltatás által kezelve</span><span class="sxs-lookup"><span data-stu-id="4f717-190">Persistent storage, managed by Data Lake Store service</span></span> | <span data-ttu-id="4f717-191">Szimmetrikus</span><span class="sxs-lookup"><span data-stu-id="4f717-191">Symmetric</span></span>  | <span data-ttu-id="4f717-192">hello adattitkosítási kulcs hello MEK titkosítja.</span><span class="sxs-lookup"><span data-stu-id="4f717-192">hello DEK is encrypted by hello MEK.</span></span> <span data-ttu-id="4f717-193">hello titkosított adattitkosítási kulcs mi állandó adathordozón tárolódik.</span><span class="sxs-lookup"><span data-stu-id="4f717-193">hello encrypted DEK is what is stored on persistent media.</span></span> |
| <span data-ttu-id="4f717-194">Blokktitkosítási kulcs</span><span class="sxs-lookup"><span data-stu-id="4f717-194">Block Encryption Key</span></span>  | <span data-ttu-id="4f717-195">BEK</span><span class="sxs-lookup"><span data-stu-id="4f717-195">BEK</span></span>          | <span data-ttu-id="4f717-196">Egy adatblokk</span><span class="sxs-lookup"><span data-stu-id="4f717-196">A block of data</span></span> | <span data-ttu-id="4f717-197">None</span><span class="sxs-lookup"><span data-stu-id="4f717-197">None</span></span>                                         | <span data-ttu-id="4f717-198">Szimmetrikus</span><span class="sxs-lookup"><span data-stu-id="4f717-198">Symmetric</span></span>  | <span data-ttu-id="4f717-199">hello BEK hello adattitkosítási kulcs és hello adatblokk származik.</span><span class="sxs-lookup"><span data-stu-id="4f717-199">hello BEK is derived from hello DEK and hello data block.</span></span>                                                      |

<span data-ttu-id="4f717-200">hello a következő ábra azt mutatja be, ezek a fogalmak:</span><span class="sxs-lookup"><span data-stu-id="4f717-200">hello following diagram illustrates these concepts:</span></span>

![Adattitkosítási kulcsok](./media/data-lake-store-encryption/fig2.png)

#### <a name="pseudo-algorithm-when-a-file-is-toobe-decrypted"></a><span data-ttu-id="4f717-202">Amikor egy fájl visszafejtése toobe pszeudo algoritmust:</span><span class="sxs-lookup"><span data-stu-id="4f717-202">Pseudo algorithm when a file is toobe decrypted:</span></span>
1.  <span data-ttu-id="4f717-203">Annak ellenőrzése, hogy hello Data Lake Store-fiókot az adattitkosítási kulcs hello gyorsítótárazott és készen áll a használatra.</span><span class="sxs-lookup"><span data-stu-id="4f717-203">Check if hello DEK for hello Data Lake Store account is cached and ready for use.</span></span>
    - <span data-ttu-id="4f717-204">Ha nem, olvassa el a hello adattitkosítási kulcs titkosítása a állandó tároló, és elküldi a tooKey tároló toobe visszafejteni.</span><span class="sxs-lookup"><span data-stu-id="4f717-204">If not, then read hello encrypted DEK from persistent storage, and send it tooKey Vault toobe decrypted.</span></span> <span data-ttu-id="4f717-205">Gyorsítótár hello adattitkosítási kulcs visszafejtése a memóriában.</span><span class="sxs-lookup"><span data-stu-id="4f717-205">Cache hello decrypted DEK in memory.</span></span> <span data-ttu-id="4f717-206">Már most már készen áll a toouse.</span><span class="sxs-lookup"><span data-stu-id="4f717-206">It is now ready toouse.</span></span>
2.  <span data-ttu-id="4f717-207">A minden hello fájlban adatblokk:</span><span class="sxs-lookup"><span data-stu-id="4f717-207">For every block of data in hello file:</span></span>
    - <span data-ttu-id="4f717-208">Állandó tároló hello titkosított adatblokk olvasni.</span><span class="sxs-lookup"><span data-stu-id="4f717-208">Read hello encrypted block of data from persistent storage.</span></span>
    - <span data-ttu-id="4f717-209">Az adattitkosítási kulcs hello BEK hello és hello titkosított adatblokk létrehozása.</span><span class="sxs-lookup"><span data-stu-id="4f717-209">Generate hello BEK from hello DEK and hello encrypted block of data.</span></span>
    - <span data-ttu-id="4f717-210">Hello BEK toodecrypt adatok felhasználásával.</span><span class="sxs-lookup"><span data-stu-id="4f717-210">Use hello BEK toodecrypt data.</span></span>


#### <a name="pseudo-algorithm-when-a-block-of-data-is-toobe-encrypted"></a><span data-ttu-id="4f717-211">Amikor egy adatblokk pszeudo algoritmus toobe titkosítva:</span><span class="sxs-lookup"><span data-stu-id="4f717-211">Pseudo algorithm when a block of data is toobe encrypted:</span></span>
1.  <span data-ttu-id="4f717-212">Annak ellenőrzése, hogy hello Data Lake Store-fiókot az adattitkosítási kulcs hello gyorsítótárazott és készen áll a használatra.</span><span class="sxs-lookup"><span data-stu-id="4f717-212">Check if hello DEK for hello Data Lake Store account is cached and ready for use.</span></span>
    - <span data-ttu-id="4f717-213">Ha nem, olvassa el a hello adattitkosítási kulcs titkosítása a állandó tároló, és elküldi a tooKey tároló toobe visszafejteni.</span><span class="sxs-lookup"><span data-stu-id="4f717-213">If not, then read hello encrypted DEK from persistent storage, and send it tooKey Vault toobe decrypted.</span></span> <span data-ttu-id="4f717-214">Gyorsítótár hello adattitkosítási kulcs visszafejtése a memóriában.</span><span class="sxs-lookup"><span data-stu-id="4f717-214">Cache hello decrypted DEK in memory.</span></span> <span data-ttu-id="4f717-215">Már most már készen áll a toouse.</span><span class="sxs-lookup"><span data-stu-id="4f717-215">It is now ready toouse.</span></span>
2.  <span data-ttu-id="4f717-216">Hozzon létre egy egyedi BEK a hello adatblokk hello adattitkosítási kulcsot.</span><span class="sxs-lookup"><span data-stu-id="4f717-216">Generate a unique BEK for hello block of data from hello DEK.</span></span>
3.  <span data-ttu-id="4f717-217">Hello adatblokk hello BEK, az AES-256 titkosítás titkosítására.</span><span class="sxs-lookup"><span data-stu-id="4f717-217">Encrypt hello data block with hello BEK, by using AES-256 encryption.</span></span>
4.  <span data-ttu-id="4f717-218">Hello titkosított adatblokk adatok tárolása az állandó tároló.</span><span class="sxs-lookup"><span data-stu-id="4f717-218">Store hello encrypted data block of data on persistent storage.</span></span>

> [!NOTE] 
> <span data-ttu-id="4f717-219">A megfelelő teljesítmény érdekében hello hello az adattitkosítási kulcs törlése gyorsítótárban való rövid ideig, és ezt követően azonnal törli.</span><span class="sxs-lookup"><span data-stu-id="4f717-219">For performance reasons, hello DEK in hello clear is cached in memory for a short time, and is immediately erased afterward.</span></span> <span data-ttu-id="4f717-220">Állandó adathordozón mindig tárolt hello MEK titkosítja.</span><span class="sxs-lookup"><span data-stu-id="4f717-220">On persistent media, it is always stored encrypted by hello MEK.</span></span>

## <a name="key-rotation"></a><span data-ttu-id="4f717-221">Kulcsrotálás</span><span class="sxs-lookup"><span data-stu-id="4f717-221">Key rotation</span></span>

<span data-ttu-id="4f717-222">Ha az ügyfél által felügyelt kulcsokat használ, forgathatók hello MEK.</span><span class="sxs-lookup"><span data-stu-id="4f717-222">When you are using customer-managed keys, you can rotate hello MEK.</span></span> <span data-ttu-id="4f717-223">Hogyan tooset ügyfél által felügyelt kulcsokkal, Data Lake Store-fiók létrehozásához: toolearn [bevezetés](https://docs.microsoft.com/azure/data-lake-store/data-lake-store-get-started-portal).</span><span class="sxs-lookup"><span data-stu-id="4f717-223">toolearn how tooset up a Data Lake Store account with customer-managed keys, see [Getting started](https://docs.microsoft.com/azure/data-lake-store/data-lake-store-get-started-portal).</span></span>

### <a name="prerequisites"></a><span data-ttu-id="4f717-224">Előfeltételek</span><span class="sxs-lookup"><span data-stu-id="4f717-224">Prerequisites</span></span>

<span data-ttu-id="4f717-225">Hello Data Lake Store-fiók beállításakor kiválasztott toouse saját kulcsok.</span><span class="sxs-lookup"><span data-stu-id="4f717-225">When you set up hello Data Lake Store account, you have chosen toouse your own keys.</span></span> <span data-ttu-id="4f717-226">Ez a beállítás nem módosítható, hello fiók létrehozása után.</span><span class="sxs-lookup"><span data-stu-id="4f717-226">This option cannot be changed after hello account has been created.</span></span> <span data-ttu-id="4f717-227">hello következő lépések azt feltételezik, hogy felhasználó által felügyelt kulcsokat használ (Ez azt jelenti, választott saját kulcsok a Key Vault).</span><span class="sxs-lookup"><span data-stu-id="4f717-227">hello following steps assume that you are using customer-managed keys (that is, you have chosen your own keys from Key Vault).</span></span>

<span data-ttu-id="4f717-228">Vegye figyelembe, hogy ha hello alapértelmezett beállítások használata titkosításhoz, a mindig adattitkosítás kezeli a Data Lake Store kulcsok használatával.</span><span class="sxs-lookup"><span data-stu-id="4f717-228">Note that if you use hello default options for encryption, your data is always encrypted by using keys managed by Data Lake Store.</span></span> <span data-ttu-id="4f717-229">Ezt a beállítást nem kell hello képességét toorotate kulcsok, Data Lake Store kezeli őket.</span><span class="sxs-lookup"><span data-stu-id="4f717-229">In this option, you don't have hello ability toorotate keys, as they are managed by Data Lake Store.</span></span>

### <a name="how-toorotate-hello-mek-in-data-lake-store"></a><span data-ttu-id="4f717-230">Hogyan toorotate hello MEK Data Lake Store-ban</span><span class="sxs-lookup"><span data-stu-id="4f717-230">How toorotate hello MEK in Data Lake Store</span></span>

1. <span data-ttu-id="4f717-231">Jelentkezzen be toohello [Azure-portálon](https://portal.azure.com/).</span><span class="sxs-lookup"><span data-stu-id="4f717-231">Sign in toohello [Azure portal](https://portal.azure.com/).</span></span>
2. <span data-ttu-id="4f717-232">Keresse meg, amely tárolja a kulcsokat, a Data Lake Store-fiókjához társított toohello Key Vault példány.</span><span class="sxs-lookup"><span data-stu-id="4f717-232">Browse toohello Key Vault instance that stores your keys associated with your Data Lake Store account.</span></span> <span data-ttu-id="4f717-233">Válassza a **Kulcsok** elemet.</span><span class="sxs-lookup"><span data-stu-id="4f717-233">Select **Keys**.</span></span>

    ![Képernyőkép a Key Vaultról](./media/data-lake-store-encryption/keyvault.png)

3.  <span data-ttu-id="4f717-235">Válassza ki a Data Lake Store-fiókjához társított hello kulcsot, és ez a kulcs új verziót hoz létre.</span><span class="sxs-lookup"><span data-stu-id="4f717-235">Select hello key associated with your Data Lake Store account, and create a new version of this key.</span></span> <span data-ttu-id="4f717-236">Vegye figyelembe, hogy Data Lake Store jelenleg csak kulcs Elforgatás tooa új verzióját támogatja egy kulcsot.</span><span class="sxs-lookup"><span data-stu-id="4f717-236">Note that Data Lake Store currently only supports key rotation tooa new version of a key.</span></span> <span data-ttu-id="4f717-237">Nem támogatja a forgó tooa másik kulcsot.</span><span class="sxs-lookup"><span data-stu-id="4f717-237">It doesn't support rotating tooa different key.</span></span>

   ![Képernyőkép a Kulcsok ablakról, amelyen az Új verzió elem van kiemelve](./media/data-lake-store-encryption/keynewversion.png)

4.  <span data-ttu-id="4f717-239">Keresse meg a Data Lake Store tárfiók toohello, és válassza ki **titkosítási**.</span><span class="sxs-lookup"><span data-stu-id="4f717-239">Browse toohello Data Lake Store storage account, and select **Encryption**.</span></span>

    ![Képernyőkép a Data Lake Store-tárfiók ablakról, amelyen a Titkosítás van kiemelve](./media/data-lake-store-encryption/select-encryption.png)

5.  <span data-ttu-id="4f717-241">Egy üzenet értesíti hello kulcs kulcs új verziója érhető el.</span><span class="sxs-lookup"><span data-stu-id="4f717-241">A message notifies you that a new key version of hello key is available.</span></span> <span data-ttu-id="4f717-242">Kattintson a **elforgatása kulcs** tooupdate hello kulcs toohello új verziója.</span><span class="sxs-lookup"><span data-stu-id="4f717-242">Click **Rotate Key** tooupdate hello key toohello new version.</span></span>

    ![Képernyőkép a Data Lake Store ablakról, amelyen az üzenet és a Kulcs rotálása van kiemelve](./media/data-lake-store-encryption/rotatekey.png)

<span data-ttu-id="4f717-244">Ez a művelet gyorsabban kevesebb mint két perc alatt, és nincs lejáró tookey Elforgatás várható állásidő nélkül.</span><span class="sxs-lookup"><span data-stu-id="4f717-244">This operation should take less than two minutes, and there is no expected downtime due tookey rotation.</span></span> <span data-ttu-id="4f717-245">Hello művelet befejezése után új verziójának hello hello kulcs használatban van.</span><span class="sxs-lookup"><span data-stu-id="4f717-245">After hello operation is complete, hello new version of hello key is in use.</span></span>
