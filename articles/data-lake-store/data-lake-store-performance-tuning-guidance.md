---
title: "Data Lake Store teljesítményének hangolása irányelveit aaaAzure |} Microsoft Docs"
description: "Az Azure Data Lake Store teljesítményhangolás irányelvek"
services: data-lake-store
documentationcenter: 
author: stewu
manager: amitkul
editor: cgronlun
ms.assetid: ebde7b9f-2e51-4d43-b7ab-566417221335
ms.service: data-lake-store
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 06/30/2017
ms.author: stewu
ms.openlocfilehash: 939faa068c0f81d18d9533956f4d336bc4d0cbe3
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="tuning-azure-data-lake-store-for-performance"></a><span data-ttu-id="5d07c-103">Azure Data Lake Store teljesítményének hangolása</span><span class="sxs-lookup"><span data-stu-id="5d07c-103">Tuning Azure Data Lake Store for performance</span></span>

<span data-ttu-id="5d07c-104">Data Lake Store nagy átviteli intenzív i/o-analitikához és adatátvitelt jelölik a támogatja.</span><span class="sxs-lookup"><span data-stu-id="5d07c-104">Data Lake Store supports high-throughput for I/O intensive analytics and data movement.</span></span>  <span data-ttu-id="5d07c-105">Az Azure Data Lake Store az összes elérhető átviteli sebesség – olvashassák el vagy másodpercenként írt adatok mennyiségét hello – használata fontos tooget hello legjobb teljesítmény érdekében.</span><span class="sxs-lookup"><span data-stu-id="5d07c-105">In Azure Data Lake Store, using all available throughput – hello amount of data that can be read or written per second – is important tooget hello best performance.</span></span>  <span data-ttu-id="5d07c-106">Tetszőleges számú olvasási műveletek elvégzésével érhető el, és a lehető párhuzamosan írja.</span><span class="sxs-lookup"><span data-stu-id="5d07c-106">This is achieved by performing as many reads and writes in parallel as possible.</span></span>

![Data Lake Store-teljesítmény](./media/data-lake-store-performance-tuning-guidance/throughput.png)

<span data-ttu-id="5d07c-108">Azure Data Lake Store méretezheti tooprovide hello szükséges átviteli összes analytics forgatókönyvhöz.</span><span class="sxs-lookup"><span data-stu-id="5d07c-108">Azure Data Lake Store can scale tooprovide hello necessary throughput for all analytics scenario.</span></span> <span data-ttu-id="5d07c-109">Alapértelmezés szerint az Azure Data Lake Store-fiók toomeet hello igényeinek használati esetek széles körét biztosítja automatikusan elegendő teljesítményt.</span><span class="sxs-lookup"><span data-stu-id="5d07c-109">By default, an Azure Data Lake Store account provides automatically enough throughput toomeet hello needs of a broad category of use cases.</span></span> <span data-ttu-id="5d07c-110">Az ügyfelek futtatják az alapértelmezett határérték hello hello esetben hello ADLS-fiók lehet konfigurált tooprovide további átviteli megszüntetéséhez forduljon a Microsoft támogatási szolgálatához.</span><span class="sxs-lookup"><span data-stu-id="5d07c-110">For hello cases where customers run into hello default limit, hello ADLS account can be configured tooprovide more throughput by contacting Microsoft support.</span></span>

## <a name="data-ingestion"></a><span data-ttu-id="5d07c-111">Adatfeldolgozás</span><span class="sxs-lookup"><span data-stu-id="5d07c-111">Data ingestion</span></span>

<span data-ttu-id="5d07c-112">A forrás rendszer tooADLS eseményközpontokból, fontos, hogy a forrás hardver, a forrás hálózati hardver és a hálózati kapcsolat tooADLS hello tooconsider hello szűk lehet.</span><span class="sxs-lookup"><span data-stu-id="5d07c-112">When ingesting data from a source system tooADLS, it is important tooconsider that hello source hardware, source network hardware, and network connectivity tooADLS can be hello bottleneck.</span></span>  

![Data Lake Store-teljesítmény](./media/data-lake-store-performance-tuning-guidance/bottleneck.png)

<span data-ttu-id="5d07c-114">Fontos, hogy az adatátvitel hello tooensure nem érinti a tényezők.</span><span class="sxs-lookup"><span data-stu-id="5d07c-114">It is important tooensure that hello data movement is not affected by these factors.</span></span>

### <a name="source-hardware"></a><span data-ttu-id="5d07c-115">Forrás hardver</span><span class="sxs-lookup"><span data-stu-id="5d07c-115">Source Hardware</span></span>

<span data-ttu-id="5d07c-116">Függetlenül attól, hogy a helyszíni gépeket vagy virtuális gépek Azure-ban, hello megfelelő hardver gondosan ki kell jelölni.</span><span class="sxs-lookup"><span data-stu-id="5d07c-116">Whether you are using on-premises machines or VMs in Azure, you should carefully select hello appropriate hardware.</span></span> <span data-ttu-id="5d07c-117">A forrás lemez hardverekhez inkább az SSD-k tooHDDs, és válassza ki a gyorsabb forgórészek lemez hardver.</span><span class="sxs-lookup"><span data-stu-id="5d07c-117">For Source Disk Hardware, prefer SSDs tooHDDs and pick disk hardware with faster spindles.</span></span> <span data-ttu-id="5d07c-118">A forrás hálózati hardverek használja a hello leggyorsabb hálózati adapterek lehetséges.</span><span class="sxs-lookup"><span data-stu-id="5d07c-118">For Source Network Hardware, use hello fastest NICs possible.</span></span>  <span data-ttu-id="5d07c-119">Azure-ban Azure D14 virtuális gépek, amelyeknek hello megfelelően hatékony lemez és a hálózati hardver ajánlott.</span><span class="sxs-lookup"><span data-stu-id="5d07c-119">On Azure, we recommend Azure D14 VMs which have hello appropriately powerful disk and networking hardware.</span></span>

### <a name="network-connectivity-tooazure-data-lake-store"></a><span data-ttu-id="5d07c-120">A hálózati kapcsolat tooAzure Data Lake Store</span><span class="sxs-lookup"><span data-stu-id="5d07c-120">Network Connectivity tooAzure Data Lake Store</span></span>

<span data-ttu-id="5d07c-121">hello hálózati kapcsolat a forrásadatok és az Azure Data Lake store között előfordulhat hello szűk keresztmetszetek.</span><span class="sxs-lookup"><span data-stu-id="5d07c-121">hello network connectivity between your source data and Azure Data Lake store can sometimes be hello bottleneck.</span></span> <span data-ttu-id="5d07c-122">A forrásadatok esetén a helyszíni, érdemes lehet egy dedikált hivatkozás a [Azure ExpressRoute](https://azure.microsoft.com/en-us/services/expressroute/) .</span><span class="sxs-lookup"><span data-stu-id="5d07c-122">When your source data is On-Premises, consider using a dedicated link with [Azure ExpressRoute](https://azure.microsoft.com/en-us/services/expressroute/) .</span></span> <span data-ttu-id="5d07c-123">Ha a forrásadatok az Azure-ban, hello teljesítmény lesz legjobb ha hello adatok hello a Data Lake Store hello Azure megegyező régióban.</span><span class="sxs-lookup"><span data-stu-id="5d07c-123">If your source data is in Azure, hello performance will be best when hello data is in hello same Azure region as hello Data Lake Store.</span></span>

### <a name="configure-data-ingestion-tools-for-maximum-parallelization"></a><span data-ttu-id="5d07c-124">Maximális párhuzamos folyamatkezelést biztosítja az adatfeldolgozást eszközök konfigurálása</span><span class="sxs-lookup"><span data-stu-id="5d07c-124">Configure Data Ingestion tools for maximum parallelization</span></span>

<span data-ttu-id="5d07c-125">Miután foglalkoztak hello forrás hardver és a hálózati kapcsolat szűk keresztmetszetek a fenti, tooconfigure készen áll az adatfeldolgozást eszközök.</span><span class="sxs-lookup"><span data-stu-id="5d07c-125">Once you have addressed hello source hardware and network connectivity bottlenecks above, you are ready tooconfigure your ingestion tools.</span></span> <span data-ttu-id="5d07c-126">hello következő táblázat összefoglalja számos népszerű adatfeldolgozást eszköz hello beállításait, és itt részletes teljesítményhangolás cikkek őket.</span><span class="sxs-lookup"><span data-stu-id="5d07c-126">hello following table summarizes hello key settings for several popular ingestion tools and provides in-depth performance tuning articles for them.</span></span>  <span data-ttu-id="5d07c-127">a forgatókönyvnek toouse eszköz több arról, hogy mely toolearn látogasson el a [cikk](https://docs.microsoft.com/en-us/azure/data-lake-store/data-lake-store-data-scenarios).</span><span class="sxs-lookup"><span data-stu-id="5d07c-127">toolearn more about which tool toouse for your scenario, visit this [article](https://docs.microsoft.com/en-us/azure/data-lake-store/data-lake-store-data-scenarios).</span></span>

| <span data-ttu-id="5d07c-128">Eszköz</span><span class="sxs-lookup"><span data-stu-id="5d07c-128">Tool</span></span>               | <span data-ttu-id="5d07c-129">Beállítások</span><span class="sxs-lookup"><span data-stu-id="5d07c-129">Settings</span></span>     | <span data-ttu-id="5d07c-130">További részletekért</span><span class="sxs-lookup"><span data-stu-id="5d07c-130">More Details</span></span>                                                                 |
|--------------------|------------------------------------------------------|------------------------------|
| <span data-ttu-id="5d07c-131">PowerShell</span><span class="sxs-lookup"><span data-stu-id="5d07c-131">Powershell</span></span>       | <span data-ttu-id="5d07c-132">PerFileThreadCount, ConcurrentFileCount</span><span class="sxs-lookup"><span data-stu-id="5d07c-132">PerFileThreadCount, ConcurrentFileCount</span></span> |  [<span data-ttu-id="5d07c-133">Hivatkozás</span><span class="sxs-lookup"><span data-stu-id="5d07c-133">Link</span></span>](https://docs.microsoft.com/en-us/azure/data-lake-store/data-lake-store-get-started-powershell#performance-guidance-while-using-powershell)   |
| <span data-ttu-id="5d07c-134">AdlCopy</span><span class="sxs-lookup"><span data-stu-id="5d07c-134">AdlCopy</span></span>    | <span data-ttu-id="5d07c-135">Azure Data Lake Analytics-egységek</span><span class="sxs-lookup"><span data-stu-id="5d07c-135">Azure Data Lake Analytics units</span></span>  |   [<span data-ttu-id="5d07c-136">Hivatkozás</span><span class="sxs-lookup"><span data-stu-id="5d07c-136">Link</span></span>](https://docs.microsoft.com/en-us/azure/data-lake-store/data-lake-store-copy-data-azure-storage-blob#performance-considerations-for-using-adlcopy)         |
| <span data-ttu-id="5d07c-137">Ból a DistCp</span><span class="sxs-lookup"><span data-stu-id="5d07c-137">DistCp</span></span>            | <span data-ttu-id="5d07c-138">-m (eseményleképező)</span><span class="sxs-lookup"><span data-stu-id="5d07c-138">-m (mapper)</span></span>   | [<span data-ttu-id="5d07c-139">Hivatkozás</span><span class="sxs-lookup"><span data-stu-id="5d07c-139">Link</span></span>](https://docs.microsoft.com/en-us/azure/data-lake-store/data-lake-store-copy-data-wasb-distcp#performance-considerations-while-using-distcp)                             |
| <span data-ttu-id="5d07c-140">Azure Data Factory</span><span class="sxs-lookup"><span data-stu-id="5d07c-140">Azure Data Factory</span></span>| <span data-ttu-id="5d07c-141">parallelCopies</span><span class="sxs-lookup"><span data-stu-id="5d07c-141">parallelCopies</span></span>    | [<span data-ttu-id="5d07c-142">Hivatkozás</span><span class="sxs-lookup"><span data-stu-id="5d07c-142">Link</span></span>](../data-factory/data-factory-copy-activity-performance.md)                          |
| <span data-ttu-id="5d07c-143">Sqoop</span><span class="sxs-lookup"><span data-stu-id="5d07c-143">Sqoop</span></span>           | <span data-ttu-id="5d07c-144">FS.Azure.Block.size, -m (eseményleképező)</span><span class="sxs-lookup"><span data-stu-id="5d07c-144">fs.azure.block.size, -m (mapper)</span></span>    |   [<span data-ttu-id="5d07c-145">Hivatkozás</span><span class="sxs-lookup"><span data-stu-id="5d07c-145">Link</span></span>](https://blogs.msdn.microsoft.com/bigdatasupport/2015/02/17/sqoop-job-performance-tuning-in-hdinsight-hadoop/)        |

## <a name="structure-your-data-set"></a><span data-ttu-id="5d07c-146">Az adatkészlet struktúra</span><span class="sxs-lookup"><span data-stu-id="5d07c-146">Structure your data set</span></span>

<span data-ttu-id="5d07c-147">A Data Lake Store hello fájlméret, tárolt adatok fájlok számát, és mappastruktúrát hatással a teljesítményt.</span><span class="sxs-lookup"><span data-stu-id="5d07c-147">When data is stored in Data Lake Store, hello file size, number of files, and folder structure have an impact on performance.</span></span>  <span data-ttu-id="5d07c-148">hello alábbi szakasz ismerteti ezek a területek a bevált gyakorlat.</span><span class="sxs-lookup"><span data-stu-id="5d07c-148">hello following section describes best practices in these areas.</span></span>  

### <a name="file-size"></a><span data-ttu-id="5d07c-149">Fájlméret</span><span class="sxs-lookup"><span data-stu-id="5d07c-149">File size</span></span>

<span data-ttu-id="5d07c-150">Például a HDInsight és az Azure Data Lake Analytics analytics motorok általában egy fájl terhelés kell.</span><span class="sxs-lookup"><span data-stu-id="5d07c-150">Typically, analytics engines such as HDInsight and Azure Data Lake Analytics have a per-file overhead.</span></span>  <span data-ttu-id="5d07c-151">Ha az adatok annyi kis fájlok tárolásához, ez negatívan befolyásoló kódokat is teljesítményét.</span><span class="sxs-lookup"><span data-stu-id="5d07c-151">If you store your data as many small files, this can negatively affect performance.</span></span>  

<span data-ttu-id="5d07c-152">Az adatok általában rendezze nagyobb méretű fájlok, a jobb teljesítmény érdekében.</span><span class="sxs-lookup"><span data-stu-id="5d07c-152">In general, organize your data into larger sized files for better performance.</span></span>  <span data-ttu-id="5d07c-153">A szokásos megoldás, mint 256MB vagy annál nagyobb fájlok data készletek rendszerezését.</span><span class="sxs-lookup"><span data-stu-id="5d07c-153">As a rule of thumb, organize data sets in files of 256MB or larger.</span></span> <span data-ttu-id="5d07c-154">Bizonyos esetekben – például képeket és a bináris adatokat, nincs lehetőség tooprocess párhuzamosan őket.</span><span class="sxs-lookup"><span data-stu-id="5d07c-154">In some cases such as images and binary data, it is not possible tooprocess them in parallel.</span></span>  <span data-ttu-id="5d07c-155">Ezekben az esetekben tookeep fájlokat a 2GB ajánlott.</span><span class="sxs-lookup"><span data-stu-id="5d07c-155">In these cases, it is recommended tookeep individual files under 2GB.</span></span>

<span data-ttu-id="5d07c-156">Egyes esetekben adatok folyamatok ellenőrzése alatt tartja a hello nyers adatok, amelyek kis fájlok sok korlátozott.</span><span class="sxs-lookup"><span data-stu-id="5d07c-156">Sometimes, data pipelines have limited control over hello raw data which has lots of small files.</span></span>  <span data-ttu-id="5d07c-157">Ajánlott toohave "főzés" generáló nagyobb fájlokká az alsóbb rétegbeli alkalmazásoknak toouse.</span><span class="sxs-lookup"><span data-stu-id="5d07c-157">It is recommended toohave a “cooking” process that generates larger files toouse for downstream applications.</span></span>  

### <a name="organizing-time-series-data-in-folders"></a><span data-ttu-id="5d07c-158">A mappákban Idősoros adatok rendezése</span><span class="sxs-lookup"><span data-stu-id="5d07c-158">Organizing Time Series data in folders</span></span>

<span data-ttu-id="5d07c-159">A Hive és ADLA munkaterhelésekhez partíció törlése a idősorozat adatok segítségével néhány lekérdezést, olvassa el a hello adat, amely javítja a teljesítményt, csak egy részét.</span><span class="sxs-lookup"><span data-stu-id="5d07c-159">For Hive and ADLA workloads, partition pruning of time-series data can help some queries read only a subset of hello data which improves performance.</span></span>    

<span data-ttu-id="5d07c-160">Ezek a folyamatok, amelyek betöltik az idősorozat adatokat, gyakran a fájlok és mappák nagyon strukturált elnevezési fájljaik helyezze el.</span><span class="sxs-lookup"><span data-stu-id="5d07c-160">Those pipelines that ingest time-series data, often place their files with a very structured naming for files and folders.</span></span> <span data-ttu-id="5d07c-161">Alább látható adatok, amelyek dátum szerint szerkezete nagyon gyakori példa van:</span><span class="sxs-lookup"><span data-stu-id="5d07c-161">Below is a very common example we see for data that is structured by date:</span></span>

    \DataSet\YYYY\MM\DD\datafile_YYYY_MM_DD.tsv

<span data-ttu-id="5d07c-162">Figyelje meg, hogy hello datetime információkat egyaránt mappák és hello fájlnév megjelenik-e.</span><span class="sxs-lookup"><span data-stu-id="5d07c-162">Notice that hello datetime information appears both as folders and in hello filename.</span></span>

<span data-ttu-id="5d07c-163">Dátum és idő hello most egy közös mintát</span><span class="sxs-lookup"><span data-stu-id="5d07c-163">For date and time, hello following is a common pattern</span></span>

    \DataSet\YYYY\MM\DD\HH\mm\datafile_YYYY_MM_DD_HH_mm.tsv

<span data-ttu-id="5d07c-164">Ebben az esetben hello hozott döntés hello mappához és fájlhoz szervezettel kell optimalizálása hello nagyobb méretűek és ésszerű száma minden mappában található fájlokat.</span><span class="sxs-lookup"><span data-stu-id="5d07c-164">Again, hello choice you make with hello folder and file organization should optimize for hello larger file sizes and a reasonable number of files in each folder.</span></span>

## <a name="optimizing-io-intensive-jobs-on-hadoop-and-spark-workloads-on-hdinsight"></a><span data-ttu-id="5d07c-165">A HDInsight Hadoop és a Spark munkaterhelések egy feladat intenzív i/o optimalizálása</span><span class="sxs-lookup"><span data-stu-id="5d07c-165">Optimizing I/O intensive jobs on Hadoop and Spark workloads on HDInsight</span></span>

<span data-ttu-id="5d07c-166">Feladatok egyik hello a következő három kategóriába sorolhatók:</span><span class="sxs-lookup"><span data-stu-id="5d07c-166">Jobs fall into one of hello following three categories:</span></span>

* <span data-ttu-id="5d07c-167">**CPU-intenzív.**</span><span class="sxs-lookup"><span data-stu-id="5d07c-167">**CPU intensive.**</span></span>  <span data-ttu-id="5d07c-168">Ezek a feladatok rendelkezik hosszú kiszámításához szükséges idő minimális i/o-idő feltüntetésével.</span><span class="sxs-lookup"><span data-stu-id="5d07c-168">These jobs have long computation times with minimal I/O times.</span></span>  <span data-ttu-id="5d07c-169">Ilyen például a gépi tanulási és természetes nyelvű feladatokat dolgoz fel.</span><span class="sxs-lookup"><span data-stu-id="5d07c-169">Examples include machine learning and natural language processing jobs.</span></span>  
* <span data-ttu-id="5d07c-170">**Memóriaigényes.**</span><span class="sxs-lookup"><span data-stu-id="5d07c-170">**Memory intensive.**</span></span>  <span data-ttu-id="5d07c-171">Ezek a feladatok nagy mennyiségű memóriát használja.</span><span class="sxs-lookup"><span data-stu-id="5d07c-171">These jobs use lots of memory.</span></span>  <span data-ttu-id="5d07c-172">Például PageRank és a valós idejű elemzési feladatot.</span><span class="sxs-lookup"><span data-stu-id="5d07c-172">Examples include PageRank and real-time analytics jobs.</span></span>  
* <span data-ttu-id="5d07c-173">**I/o-igényes.**</span><span class="sxs-lookup"><span data-stu-id="5d07c-173">**I/O intensive.**</span></span>  <span data-ttu-id="5d07c-174">Ezeket a feladatokat az idő során i/o legmagasabbak.</span><span class="sxs-lookup"><span data-stu-id="5d07c-174">These jobs spend most of their time doing I/O.</span></span>  <span data-ttu-id="5d07c-175">Ilyenek például egy másolási feladat, amely csak olvasási és írási műveletet.</span><span class="sxs-lookup"><span data-stu-id="5d07c-175">A common example is a copy job which does only read and write operations.</span></span>  <span data-ttu-id="5d07c-176">Ezenkívül például az előkészítő feladatok, amelyek nagy mennyiségű adat olvasása, bizonyos adatok átalakítása hajt végre, és majd írások hello hátsó toohello adattár.</span><span class="sxs-lookup"><span data-stu-id="5d07c-176">Other examples include data preparation jobs that read a lot of data, performs some data transformation, and then writes hello data back toohello store.</span></span>  

<span data-ttu-id="5d07c-177">a következő útmutatást hello csak alkalmazható tooI/O-igényes feladatok.</span><span class="sxs-lookup"><span data-stu-id="5d07c-177">hello following guidance is only applicable tooI/O intensive jobs.</span></span>

### <a name="general-considerations-for-an-hdinsight-cluster"></a><span data-ttu-id="5d07c-178">A HDInsight-fürtök általános szempontok</span><span class="sxs-lookup"><span data-stu-id="5d07c-178">General Considerations for an HDInsight cluster</span></span>

* <span data-ttu-id="5d07c-179">**HDInsight-verziókról.**</span><span class="sxs-lookup"><span data-stu-id="5d07c-179">**HDInsight versions.**</span></span> <span data-ttu-id="5d07c-180">A legjobb teljesítmény érdekében használjon hello HDInsight legújabb kiadása.</span><span class="sxs-lookup"><span data-stu-id="5d07c-180">For best performance, use hello latest release of HDInsight.</span></span>
* <span data-ttu-id="5d07c-181">**Régiók.**</span><span class="sxs-lookup"><span data-stu-id="5d07c-181">**Regions.**</span></span> <span data-ttu-id="5d07c-182">Helyezze el hello Data Lake Store hello hello HDInsight-fürtöt és ugyanabban a régióban.</span><span class="sxs-lookup"><span data-stu-id="5d07c-182">Place hello Data Lake Store in hello same region as hello HDInsight cluster.</span></span>  

<span data-ttu-id="5d07c-183">HDInsight-fürtök két átjárócsomópontokkal és az egyes feldolgozó csomópontok állnak.</span><span class="sxs-lookup"><span data-stu-id="5d07c-183">An HDInsight cluster is composed of two head nodes and some worker nodes.</span></span> <span data-ttu-id="5d07c-184">Egyes feldolgozó csomópontok biztosít egy adott magok száma és memória, amely hello VM-típust határozza meg.</span><span class="sxs-lookup"><span data-stu-id="5d07c-184">Each worker node provides a specific number of cores and memory, which is determined by hello VM-type.</span></span>  <span data-ttu-id="5d07c-185">A feladat futtatásakor a YARN hello erőforrás egyeztető által lefoglalt hello rendelkezésre álló memória és magok toocreate tárolók.</span><span class="sxs-lookup"><span data-stu-id="5d07c-185">When running a job, YARN is hello resource negotiator that allocates hello available memory and cores toocreate containers.</span></span>  <span data-ttu-id="5d07c-186">Minden egyes tároló hello feladatok szükséges toocomplete hello feladatot futtat.</span><span class="sxs-lookup"><span data-stu-id="5d07c-186">Each container runs hello tasks needed toocomplete hello job.</span></span>  <span data-ttu-id="5d07c-187">Tárolók gyorsan párhuzamos tooprocess feladatok futtatásához.</span><span class="sxs-lookup"><span data-stu-id="5d07c-187">Containers run in parallel tooprocess tasks quickly.</span></span> <span data-ttu-id="5d07c-188">Ezért a teljesítmény növelése a lehető legtöbb párhuzamos tárolók futtatásával.</span><span class="sxs-lookup"><span data-stu-id="5d07c-188">Therefore, performance is improved by running as many parallel containers as possible.</span></span>

<span data-ttu-id="5d07c-189">Három réteg belül, amely bennünket tooincrease HDInsight-fürtök hello a tárolók száma, és használja az összes elérhető átviteli sebesség.</span><span class="sxs-lookup"><span data-stu-id="5d07c-189">There are three layers within an HDInsight cluster that can be tuned tooincrease hello number of containers and use all available throughput.</span></span>  

* <span data-ttu-id="5d07c-190">**Fizikai réteg**</span><span class="sxs-lookup"><span data-stu-id="5d07c-190">**Physical layer**</span></span>
* <span data-ttu-id="5d07c-191">**YARN réteg**</span><span class="sxs-lookup"><span data-stu-id="5d07c-191">**YARN layer**</span></span>
* <span data-ttu-id="5d07c-192">**Munkaterhelés réteg**</span><span class="sxs-lookup"><span data-stu-id="5d07c-192">**Workload layer**</span></span>

### <a name="physical-layer"></a><span data-ttu-id="5d07c-193">Fizikai réteg</span><span class="sxs-lookup"><span data-stu-id="5d07c-193">Physical Layer</span></span>

<span data-ttu-id="5d07c-194">**Futtassa a fürt további csomópontokat és/vagy nagyobb méretű virtuális gépeken.**</span><span class="sxs-lookup"><span data-stu-id="5d07c-194">**Run cluster with more nodes and/or larger sized VMs.**</span></span>  <span data-ttu-id="5d07c-195">Automatikusan nagyobb fürt lehetővé teszi, toorun további YARN tárolók a hello az alábbi képen látható módon.</span><span class="sxs-lookup"><span data-stu-id="5d07c-195">A larger cluster will enable you toorun more YARN containers as shown in hello picture below.</span></span>

![Data Lake Store-teljesítmény](./media/data-lake-store-performance-tuning-guidance/VM.png)

<span data-ttu-id="5d07c-197">**Használja a virtuális gépek nagyobb hálózati sávszélességet.**</span><span class="sxs-lookup"><span data-stu-id="5d07c-197">**Use VMs with more network bandwidth.**</span></span>  <span data-ttu-id="5d07c-198">hálózati sávszélesség mértékét hello lehet szűk keresztmetszet, ha kevesebb mint a Data Lake Store a sávszélesség.</span><span class="sxs-lookup"><span data-stu-id="5d07c-198">hello amount of network bandwidth can be a bottleneck if there is less network bandwidth than Data Lake Store throughput.</span></span>  <span data-ttu-id="5d07c-199">Különböző virtuális gépek lesz a hálózati sávszélesség mérete változó.</span><span class="sxs-lookup"><span data-stu-id="5d07c-199">Different VMs will have varying network bandwidth sizes.</span></span>  <span data-ttu-id="5d07c-200">Válassza ki a Virtuálisgép-hello legnagyobb lehetséges hálózati sávszélesség álljon.</span><span class="sxs-lookup"><span data-stu-id="5d07c-200">Choose a VM-type that has hello largest possible network bandwidth.</span></span>

### <a name="yarn-layer"></a><span data-ttu-id="5d07c-201">YARN réteg</span><span class="sxs-lookup"><span data-stu-id="5d07c-201">YARN Layer</span></span>

<span data-ttu-id="5d07c-202">**Kisebb YARN tárolók használata.**</span><span class="sxs-lookup"><span data-stu-id="5d07c-202">**Use smaller YARN containers.**</span></span>  <span data-ttu-id="5d07c-203">Minden egyes YARN tároló toocreate hello méretének csökkentésére hello további tárolók ugyanannyi erőforrást.</span><span class="sxs-lookup"><span data-stu-id="5d07c-203">Reduce hello size of each YARN container toocreate more containers with hello same amount of resources.</span></span>

![Data Lake Store-teljesítmény](./media/data-lake-store-performance-tuning-guidance/small-containers.png)

<span data-ttu-id="5d07c-205">Attól függően, hogy a munkaterhelés mindig lesz egy minimális YARN tároló mérete szükséges.</span><span class="sxs-lookup"><span data-stu-id="5d07c-205">Depending on your workload, there will always be a minimum YARN container size that is needed.</span></span> <span data-ttu-id="5d07c-206">Ha túl kicsi a tároló válassza ki, a feladatok a kevés memória problémák fog futni.</span><span class="sxs-lookup"><span data-stu-id="5d07c-206">If you pick too small a container, your jobs will run into out-of-memory issues.</span></span> <span data-ttu-id="5d07c-207">YARN tárolók általában nem 1GB-nál kisebbnek kell lennie.</span><span class="sxs-lookup"><span data-stu-id="5d07c-207">Typically YARN containers should be no smaller than 1GB.</span></span> <span data-ttu-id="5d07c-208">Közös toosee 3 GB-os YARN tárolók is.</span><span class="sxs-lookup"><span data-stu-id="5d07c-208">It’s common toosee 3GB YARN containers.</span></span> <span data-ttu-id="5d07c-209">Bizonyos munkaterhelések esetén szükség lehet a nagyobb YARN tárolók.</span><span class="sxs-lookup"><span data-stu-id="5d07c-209">For some workloads, you may need larger YARN containers.</span></span>  

<span data-ttu-id="5d07c-210">**Növelje a YARN tárolóban található magok.**</span><span class="sxs-lookup"><span data-stu-id="5d07c-210">**Increase cores per YARN container.**</span></span>  <span data-ttu-id="5d07c-211">Növelje a hello tooeach tároló tooincrease hello száma párhuzamos minden egyes tárolóban futó feladatok lefoglalt magok száma.</span><span class="sxs-lookup"><span data-stu-id="5d07c-211">Increase hello number of cores allocated tooeach container tooincrease hello number of parallel tasks that run in each container.</span></span>  <span data-ttu-id="5d07c-212">Ez a módszer alkalmazások, például a Spark, amelyek több tevékenységek maximális száma tároló.</span><span class="sxs-lookup"><span data-stu-id="5d07c-212">This works for applications like Spark which run multiple tasks per container.</span></span>  <span data-ttu-id="5d07c-213">Az alkalmazások, mint a Hive, mely egyetlen minden egyes tároló esetén a szál futott van jobb toohave tároló további magok helyett további tárolókat.</span><span class="sxs-lookup"><span data-stu-id="5d07c-213">For applications like Hive which run a single thread in each container, it is better toohave more containers rather than more cores per container.</span></span>   

### <a name="workload-layer"></a><span data-ttu-id="5d07c-214">Munkaterhelés réteg</span><span class="sxs-lookup"><span data-stu-id="5d07c-214">Workload Layer</span></span>

<span data-ttu-id="5d07c-215">**Az összes rendelkezésre álló tárolók használata.**</span><span class="sxs-lookup"><span data-stu-id="5d07c-215">**Use all available containers.**</span></span>  <span data-ttu-id="5d07c-216">Állítsa be feladatok toobe hello száma egyenlő vagy nagyobb, mint hello rendelkezésre álló tárolók, hogy az összes erőforrás ki van használva.</span><span class="sxs-lookup"><span data-stu-id="5d07c-216">Set hello number of tasks toobe equal or larger than hello number of available containers so that all resources are utilized.</span></span>

![Data Lake Store-teljesítmény](./media/data-lake-store-performance-tuning-guidance/use-containers.png)

<span data-ttu-id="5d07c-218">**A sikertelen feladatokat is költséges.**</span><span class="sxs-lookup"><span data-stu-id="5d07c-218">**Failed tasks are costly.**</span></span> <span data-ttu-id="5d07c-219">Ha egyes feladatok nagy mennyiségű adatok tooprocess, feladat sikertelenségét az egy drága újrapróbálkozási eredményez.</span><span class="sxs-lookup"><span data-stu-id="5d07c-219">If each task has a large amount of data tooprocess, then failure of a task results in an expensive retry.</span></span>  <span data-ttu-id="5d07c-220">Ezért jobban toocreate további feladatokat, amelyek kisebb mennyiségű adatot dolgozza fel.</span><span class="sxs-lookup"><span data-stu-id="5d07c-220">Therefore, it is better toocreate more tasks, each of which processes a small amount of data.</span></span>

<span data-ttu-id="5d07c-221">Továbbá toohello általános irányelveket a fenti mindegyik alkalmazáshoz különböző paraméterek elérhető tootune az adott alkalmazás tartozik.</span><span class="sxs-lookup"><span data-stu-id="5d07c-221">In addition toohello general guidelines above, each application has different parameters available tootune for that specific application.</span></span> <span data-ttu-id="5d07c-222">hello az alábbi táblázat néhány hello paraméterek és hivatkozások tooget használatába teljesítményhangolás minden alkalmazáshoz.</span><span class="sxs-lookup"><span data-stu-id="5d07c-222">hello table below lists some of hello parameters and links tooget started with performance tuning for each application.</span></span>

| <span data-ttu-id="5d07c-223">Számítási feladat</span><span class="sxs-lookup"><span data-stu-id="5d07c-223">Workload</span></span>               | <span data-ttu-id="5d07c-224">A paraméter tooset feladatok</span><span class="sxs-lookup"><span data-stu-id="5d07c-224">Parameter tooset tasks</span></span>                                                         |
|--------------------|-------------------------------------------------------------------------------------|
| [<span data-ttu-id="5d07c-225">A Spark on HDInisight</span><span class="sxs-lookup"><span data-stu-id="5d07c-225">Spark on HDInisight</span></span>](data-lake-store-performance-tuning-spark.md)       | <ul><li><span data-ttu-id="5d07c-226">NUM-végrehajtója</span><span class="sxs-lookup"><span data-stu-id="5d07c-226">Num-executors</span></span></li><li><span data-ttu-id="5d07c-227">Végrehajtó memória</span><span class="sxs-lookup"><span data-stu-id="5d07c-227">Executor-memory</span></span></li><li><span data-ttu-id="5d07c-228">Végrehajtó-magok</span><span class="sxs-lookup"><span data-stu-id="5d07c-228">Executor-cores</span></span></li></ul> |
| [<span data-ttu-id="5d07c-229">A HDInsight Hive</span><span class="sxs-lookup"><span data-stu-id="5d07c-229">Hive on HDInsight</span></span>](data-lake-store-performance-tuning-hive.md)    | <ul><li><span data-ttu-id="5d07c-230">Hive.tez.Container.size</span><span class="sxs-lookup"><span data-stu-id="5d07c-230">hive.tez.container.size</span></span></li></ul>         |
| [<span data-ttu-id="5d07c-231">A HDInsight MapReduce</span><span class="sxs-lookup"><span data-stu-id="5d07c-231">MapReduce on HDInsight</span></span>](data-lake-store-performance-tuning-mapreduce.md)            | <ul><li><span data-ttu-id="5d07c-232">Mapreduce.Map.Memory</span><span class="sxs-lookup"><span data-stu-id="5d07c-232">Mapreduce.map.memory</span></span></li><li><span data-ttu-id="5d07c-233">Mapreduce.job.Maps</span><span class="sxs-lookup"><span data-stu-id="5d07c-233">Mapreduce.job.maps</span></span></li><li><span data-ttu-id="5d07c-234">Mapreduce.reduce.Memory</span><span class="sxs-lookup"><span data-stu-id="5d07c-234">Mapreduce.reduce.memory</span></span></li><li><span data-ttu-id="5d07c-235">Mapreduce.job.reduces</span><span class="sxs-lookup"><span data-stu-id="5d07c-235">Mapreduce.job.reduces</span></span></li></ul> |
| [<span data-ttu-id="5d07c-236">A HDInsight alatt futó Storm</span><span class="sxs-lookup"><span data-stu-id="5d07c-236">Storm on HDInsight</span></span>](data-lake-store-performance-tuning-storm.md)| <ul><li><span data-ttu-id="5d07c-237">Munkavégző folyamatok száma</span><span class="sxs-lookup"><span data-stu-id="5d07c-237">Number of worker processes</span></span></li><li><span data-ttu-id="5d07c-238">Spout végrehajtó példányok száma</span><span class="sxs-lookup"><span data-stu-id="5d07c-238">Number of spout executor instances</span></span></li><li><span data-ttu-id="5d07c-239">Bolt végrehajtó példányok száma</span><span class="sxs-lookup"><span data-stu-id="5d07c-239">Number of bolt executor instances</span></span> </li><li><span data-ttu-id="5d07c-240">Spout feladatok száma</span><span class="sxs-lookup"><span data-stu-id="5d07c-240">Number of spout tasks</span></span></li><li><span data-ttu-id="5d07c-241">Bolt feladatok száma</span><span class="sxs-lookup"><span data-stu-id="5d07c-241">Number of bolt tasks</span></span></li></ul>|

## <a name="see-also"></a><span data-ttu-id="5d07c-242">Lásd még:</span><span class="sxs-lookup"><span data-stu-id="5d07c-242">See also</span></span>
* [<span data-ttu-id="5d07c-243">Az Azure Data Lake Store áttekintése</span><span class="sxs-lookup"><span data-stu-id="5d07c-243">Overview of Azure Data Lake Store</span></span>](data-lake-store-overview.md)
* [<span data-ttu-id="5d07c-244">Ismerkedés az Azure Data Lake Analytics szolgáltatással</span><span class="sxs-lookup"><span data-stu-id="5d07c-244">Get Started with Azure Data Lake Analytics</span></span>](../data-lake-analytics/data-lake-analytics-get-started-portal.md)
