---
<span data-ttu-id="7737f-101">cím: aaa "Azure Analysis Services útmutató kiegészítő lecke: dinamikus biztonsági |} Microsoft Docs"Leírás: ismerteti, hogyan toouse dinamikus biztonsági sor használatával hello Azure Analysis Services-oktatóanyag szűrők.</span><span class="sxs-lookup"><span data-stu-id="7737f-101">title: aaa"Azure Analysis Services tutorial supplemental lesson: Dynamic security | Microsoft Docs" description: Describes how toouse dynamic security by using row filters in hello Azure Analysis Services tutorial.</span></span>
<span data-ttu-id="7737f-102">szolgáltatások: analysis-szolgáltatások documentationcenter: "Szerző: minewiskan manager: erikre szerkesztőben:" címkék: "</span><span class="sxs-lookup"><span data-stu-id="7737f-102">services: analysis-services documentationcenter: '' author: minewiskan manager: erikre editor: '' tags: ''</span></span>

<span data-ttu-id="7737f-103">MS.AssetId: ms.service: analysis-szolgáltatások ms.devlang: NA ms.topic: get-started-article ms.tgt_pltfrm: NA ms.workload: na ms.date: 05/26/2017 ms.author: owend</span><span class="sxs-lookup"><span data-stu-id="7737f-103">ms.assetid: ms.service: analysis-services ms.devlang: NA ms.topic: get-started-article ms.tgt_pltfrm: NA ms.workload: na ms.date: 05/26/2017 ms.author: owend</span></span>
---
# <a name="supplemental-lesson---dynamic-security"></a><span data-ttu-id="7737f-104">Kiegészítő lecke – Dinamikus biztonság</span><span class="sxs-lookup"><span data-stu-id="7737f-104">Supplemental lesson - Dynamic security</span></span>

[!INCLUDE[analysis-services-appliesto-aas-sql2017-later](../../../includes/analysis-services-appliesto-aas-sql2017-later.md)]

<span data-ttu-id="7737f-105">Ebben a kiegészítő leckében további, dinamikus biztonságot megvalósító szerepkört hoz létre.</span><span class="sxs-lookup"><span data-stu-id="7737f-105">In this supplemental lesson, you create an additional role that implements dynamic security.</span></span> <span data-ttu-id="7737f-106">Dinamikus biztonsági hello felhasználói nevét vagy a bejelentkezési azonosító alapján hello éppen bejelentkezett felhasználó sorszintű biztonságot nyújt.</span><span class="sxs-lookup"><span data-stu-id="7737f-106">Dynamic security provides row-level security based on hello user name or login id of hello user currently logged on.</span></span> 
  
<span data-ttu-id="7737f-107">dinamikus biztonsági tooimplement, akkor hello felhasználó nevét, mely toohello modell csatlakozhat, és keresse meg a modell objektumokat és adatokat tartalmazó tábla tooyour modell hozzáadása.</span><span class="sxs-lookup"><span data-stu-id="7737f-107">tooimplement dynamic security, you add a table tooyour model containing hello user names of those users that can connect toohello model and browse model objects and data.</span></span> <span data-ttu-id="7737f-108">Ez az oktatóanyag segítségével létrehozott hello modell az Adventure Works; hello környezetben van azonban toocomplete Ez rész, hozzá kell adni a felhasználók a saját tartomány tartalmazó tábla.</span><span class="sxs-lookup"><span data-stu-id="7737f-108">hello model you create using this tutorial is in hello context of Adventure Works; however, toocomplete this lesson, you must add a table containing users from your own domain.</span></span> <span data-ttu-id="7737f-109">A hozzáadott hello felhasználónevek nem kell hello jelszavakat.</span><span class="sxs-lookup"><span data-stu-id="7737f-109">You do not need hello passwords for hello user names that are added.</span></span> <span data-ttu-id="7737f-110">egy EmployeeSecurity tábla, a felhasználók a saját tartomány mintát toocreate szolgáltatással hello beillesztés, beillesztés, az Excel-számolótábla alkalmazott adatait.</span><span class="sxs-lookup"><span data-stu-id="7737f-110">toocreate an EmployeeSecurity table, with a small sample of users from your own domain, you use hello Paste feature, pasting employee data from an Excel spreadsheet.</span></span> <span data-ttu-id="7737f-111">Egy valós forgatókönyv tartalmazó felhasználónevek hello tábla általában lenne egy tábla tényleges adatbázisból adatforrásként; például egy valós DimEmployee táblát.</span><span class="sxs-lookup"><span data-stu-id="7737f-111">In a real-world scenario, hello table containing user names would typically be a table from an actual database as a data source; for example, a real DimEmployee table.</span></span>  
  
<span data-ttu-id="7737f-112">tooimplement dinamikus biztonsági, két DAX-funkciók használata: [USERNAME függvény (DAX)](http://msdn.microsoft.com/22dddc4b-1648-4c89-8c93-f1151162b93f) és [LOOKUPVALUE függvény (DAX)](http://msdn.microsoft.com/73a51c4d-131c-4c33-a139-b1342d10caab).</span><span class="sxs-lookup"><span data-stu-id="7737f-112">tooimplement dynamic security, you use two DAX functions: [USERNAME Function (DAX)](http://msdn.microsoft.com/22dddc4b-1648-4c89-8c93-f1151162b93f) and [LOOKUPVALUE Function (DAX)](http://msdn.microsoft.com/73a51c4d-131c-4c33-a139-b1342d10caab).</span></span> <span data-ttu-id="7737f-113">Ezek a függvények a sorszűrő képletben alkalmazva egy új szerepkörben vannak meghatározva.</span><span class="sxs-lookup"><span data-stu-id="7737f-113">These functions, applied in a row filter formula, are defined in a new role.</span></span> <span data-ttu-id="7737f-114">Hello LOOKUPVALUE függvény használatával hello képlet hello EmployeeSecurity táblából értékkel adható meg.</span><span class="sxs-lookup"><span data-stu-id="7737f-114">By using hello LOOKUPVALUE function, hello formula specifies a value from hello EmployeeSecurity table.</span></span> <span data-ttu-id="7737f-115">hello képlet Ezután adja át, hogy a érték toohello felhasználónév funkció, amely a bejelentkezett felhasználó hello hello felhasználónevét határozza meg toothis szerepkör tartozik.</span><span class="sxs-lookup"><span data-stu-id="7737f-115">hello formula then passes that value toohello USERNAME function, which specifies hello user name of hello user logged on belongs toothis role.</span></span> <span data-ttu-id="7737f-116">hello felhasználói kereshet csak hello szerepkör sorszűrőket által megadott adatokat.</span><span class="sxs-lookup"><span data-stu-id="7737f-116">hello user can then browse only data specified by hello role’s row filters.</span></span> <span data-ttu-id="7737f-117">Ebben az esetben kell megadni, hogy az alkalmazottak értékesítési csak tallózással Internet értékesítési adatok hello értékesítési régiókat tagja.</span><span class="sxs-lookup"><span data-stu-id="7737f-117">In this scenario, you specify that sales employees can only browse Internet sales data for hello sales territories in which they are a member.</span></span>  
  
<span data-ttu-id="7737f-118">Ezeket a feladatokat, amelyek egyedi toothis Adventure Works táblázatos modell forgatókönyv azonban csak akkor nem feltétlenül vonatkozik tooa valós forgatókönyvvel használja, így azonosítja.</span><span class="sxs-lookup"><span data-stu-id="7737f-118">Those tasks that are unique toothis Adventure Works tabular model scenario, but would not necessarily apply tooa real-world scenario are identified as such.</span></span> <span data-ttu-id="7737f-119">Minden tevékenység hello feladat hello célját leíró további adatokat is tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="7737f-119">Each task includes additional information describing hello purpose of hello task.</span></span>  
  
<span data-ttu-id="7737f-120">Becsült idő toocomplete Ez a lecke: **30 perc**</span><span class="sxs-lookup"><span data-stu-id="7737f-120">Estimated time toocomplete this lesson: **30 minutes**</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="7737f-121">Előfeltételek</span><span class="sxs-lookup"><span data-stu-id="7737f-121">Prerequisites</span></span>  
<span data-ttu-id="7737f-122">Ez a kiegészítőlecke-témakör a táblázatos modellezésről szóló oktatóanyag része, amelyet sorrendben kell elvégezni.</span><span class="sxs-lookup"><span data-stu-id="7737f-122">This supplemental lesson topic is part of a tabular modeling tutorial, which should be completed in order.</span></span> <span data-ttu-id="7737f-123">Ez a kiegészítő lecke hello feladatok elvégzése előtt kell befejeződött az összes korábbi során tapasztalatokat.</span><span class="sxs-lookup"><span data-stu-id="7737f-123">Before performing hello tasks in this supplemental lesson, you should have completed all previous lessons.</span></span>  
  
## <a name="add-hello-dimsalesterritory-table-toohello-aw-internet-sales-tabular-model-project"></a><span data-ttu-id="7737f-124">Hello DimSalesTerritory tábla toohello AW Internet értékesítési táblázatos jelentésmodell-projekt hozzáadása</span><span class="sxs-lookup"><span data-stu-id="7737f-124">Add hello DimSalesTerritory table toohello AW Internet Sales Tabular Model Project</span></span>  
<span data-ttu-id="7737f-125">tooimplement dinamikus biztonsági Adventure Works példánkban, hozzá kell adnia a két további táblákon tooyour modell.</span><span class="sxs-lookup"><span data-stu-id="7737f-125">tooimplement dynamic security for this Adventure Works scenario, you must add two additional tables tooyour model.</span></span> <span data-ttu-id="7737f-126">hello ad hozzá (a értékesítés területén) DimSalesTerritory az első tábla hello azonos AdventureWorksDW adatbázishoz.</span><span class="sxs-lookup"><span data-stu-id="7737f-126">hello first table you add is DimSalesTerritory (as Sales Territory) from hello same AdventureWorksDW database.</span></span> <span data-ttu-id="7737f-127">Egy sor szűrő toohello SalesTerritory táblázat, amely meghatározza az adott adatok hello később telepítését bejelentkezett felhasználó hello tallózhatja.</span><span class="sxs-lookup"><span data-stu-id="7737f-127">You later apply a row filter toohello SalesTerritory table that defines hello particular data hello logged on user can browse.</span></span>  
  
#### <a name="tooadd-hello-dimsalesterritory-table"></a><span data-ttu-id="7737f-128">tooadd hello DimSalesTerritory tábla</span><span class="sxs-lookup"><span data-stu-id="7737f-128">tooadd hello DimSalesTerritory table</span></span>  
  
1.  <span data-ttu-id="7737f-129">A Táblázatos modelltallózó **Adatforrások** szakaszában kattintson a jobb gombbal a kapcsolatra, majd kattintson az **Új táblázatok importálása** gombra.</span><span class="sxs-lookup"><span data-stu-id="7737f-129">In Tabular Model Explorer > **Data Sources**, right-click your connection, and then click **Import New Tables**.</span></span>  

    <span data-ttu-id="7737f-130">Hello megszemélyesítési hitelesítő párbeszédpanel megjelenésekor írja be a hello megszemélyesítési hitelesítő adatokat használja a 2: adatok hozzáadása.</span><span class="sxs-lookup"><span data-stu-id="7737f-130">If hello Impersonation Credentials dialog box appears, type hello impersonation credentials you used in Lesson 2: Add Data.</span></span>
  
2.  <span data-ttu-id="7737f-131">A Navigátor, válassza ki a hello **DimSalesTerritory** tábla, és kattintson a **OK**.</span><span class="sxs-lookup"><span data-stu-id="7737f-131">In Navigator, select hello **DimSalesTerritory** table, and then click **OK**.</span></span>    
  
3.  <span data-ttu-id="7737f-132">A lekérdezés-szerkesztőben kattintson hello **DimSalesTerritory** lekérdezése, és távolítsa el a **SalesTerritoryAlternateKey** oszlop.</span><span class="sxs-lookup"><span data-stu-id="7737f-132">In Query Editor, click hello **DimSalesTerritory** query, and then remove **SalesTerritoryAlternateKey** column.</span></span>  
  
7.  <span data-ttu-id="7737f-133">Kattintson az **Importálás** gombra.</span><span class="sxs-lookup"><span data-stu-id="7737f-133">Click **Import**.</span></span>  
  
    <span data-ttu-id="7737f-134">hello új hozzá toohello modell munkaterületen.</span><span class="sxs-lookup"><span data-stu-id="7737f-134">hello new table is added toohello model workspace.</span></span> <span data-ttu-id="7737f-135">A AW Internet értékesítési táblázatos modell majd importálja a objektumok és hello DimSalesTerritory forrástábla adatait.</span><span class="sxs-lookup"><span data-stu-id="7737f-135">Objects and data from hello source DimSalesTerritory table are then imported into your AW Internet Sales Tabular Model.</span></span>  
  
9. <span data-ttu-id="7737f-136">Miután hello tábla importálása sikeresen megtörtént, kattintson **Bezárás**.</span><span class="sxs-lookup"><span data-stu-id="7737f-136">After hello table has been imported successfully, click **Close**.</span></span>  

## <a name="add-a-table-with-user-name-data"></a><span data-ttu-id="7737f-137">A felhasználónevekre vonatkozó adatokat tartalmazó táblázat hozzáadása</span><span class="sxs-lookup"><span data-stu-id="7737f-137">Add a table with user name data</span></span>  
<span data-ttu-id="7737f-138">hello DimEmployee tábla hello AdventureWorksDW mintaadatbázis hello AdventureWorks tartomány felhasználóinak tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="7737f-138">hello DimEmployee table in hello AdventureWorksDW sample database contains users from hello AdventureWorks domain.</span></span> <span data-ttu-id="7737f-139">Ezek a felhasználónevek nem léteznek a saját környezetében.</span><span class="sxs-lookup"><span data-stu-id="7737f-139">Those user names do not exist in your own environment.</span></span> <span data-ttu-id="7737f-140">A modellben létre kell hoznia egy táblázatot, amely a szervezet aktuális felhasználói közül tartalmaz néhányat példaként (legalább hármat).</span><span class="sxs-lookup"><span data-stu-id="7737f-140">You must create a table in your model that contains a small sample (at least three) of actual users from your organization.</span></span> <span data-ttu-id="7737f-141">Majd adja hozzá ezeket a felhasználókat tagok toohello új szerepkörként.</span><span class="sxs-lookup"><span data-stu-id="7737f-141">You then add these users as members toohello new role.</span></span> <span data-ttu-id="7737f-142">Hello jelszavak a hello minta felhasználónevek nem szükséges, de a saját tartomány kell a tényleges Windows-felhasználó nevét.</span><span class="sxs-lookup"><span data-stu-id="7737f-142">You do not need hello passwords for hello sample user names, but you do need actual Windows user names from your own domain.</span></span>  
  
#### <a name="tooadd-an-employeesecurity-table"></a><span data-ttu-id="7737f-143">egy EmployeeSecurity tábla tooadd</span><span class="sxs-lookup"><span data-stu-id="7737f-143">tooadd an EmployeeSecurity table</span></span>  
  
1.  <span data-ttu-id="7737f-144">Nyissa meg a Microsoft Excelt, és hozzon létre egy munkalapot.</span><span class="sxs-lookup"><span data-stu-id="7737f-144">Open Microsoft Excel, creating a worksheet.</span></span>  
  
2.  <span data-ttu-id="7737f-145">Hello a következő táblázat, beleértve a fejlécsor hello, másolja és illessze be hello munkalap.</span><span class="sxs-lookup"><span data-stu-id="7737f-145">Copy hello following table, including hello header row, and then paste it into hello worksheet.</span></span>  

    ```
      |EmployeeId|SalesTerritoryId|FirstName|LastName|LoginId|  
      |---------------|----------------------|--------------|-------------|------------|  
      |1|2|<user first name>|<user last name>|\<domain\username>|  
      |1|3|<user first name>|<user last name>|\<domain\username>|  
      |2|4|<user first name>|<user last name>|\<domain\username>|  
      |3|5|<user first name>|<user last name>|\<domain\username>|  
    ```

3.  <span data-ttu-id="7737f-146">Cserélje le hello utónevét, vezetéknevét és tartomány\felhasználónév hello nevét és a szervezet a három felhasználói bejelentkezési azonosítókat.</span><span class="sxs-lookup"><span data-stu-id="7737f-146">Replace hello first name, last name, and domain\username with hello names and login ids of three users in your organization.</span></span> <span data-ttu-id="7737f-147">PUT hello hello első két sorának EmployeeId 1, a felhasználó tartozik, mint egy értékesítési terület toomore megjelenítése a felhasználónak.</span><span class="sxs-lookup"><span data-stu-id="7737f-147">Put hello same user on hello first two rows, for EmployeeId 1, showing this user belongs toomore than one sales territory.</span></span> <span data-ttu-id="7737f-148">Hello EmployeeId és SalesTerritoryId mezőt hagyja szerint.</span><span class="sxs-lookup"><span data-stu-id="7737f-148">Leave hello EmployeeId and SalesTerritoryId fields as they are.</span></span>  
  
4.  <span data-ttu-id="7737f-149">Hello munkalap mentése mint **SampleEmployee**.</span><span class="sxs-lookup"><span data-stu-id="7737f-149">Save hello worksheet as **SampleEmployee**.</span></span>  
  
5.  <span data-ttu-id="7737f-150">Hello munkalapon levő cellák összes hello hello fejlécekkel együtt alkalmazott adatokkal, majd kattintson a jobb gombbal a kiválasztott hello adatokat, és kattintson **másolási**.</span><span class="sxs-lookup"><span data-stu-id="7737f-150">In hello worksheet, select all hello cells with employee data, including hello headers, then right-click hello selected data, and then click **Copy**.</span></span>  
  
6.  <span data-ttu-id="7737f-151">Az SSDT, kattintson a hello **szerkesztése** menüben, majd kattintson **Beillesztés**.</span><span class="sxs-lookup"><span data-stu-id="7737f-151">In SSDT, click hello **Edit** menu, and then click **Paste**.</span></span>  
  
    <span data-ttu-id="7737f-152">Beillesztés szürkén jelenik meg, ha egyetlen oszlop sem bármely táblájának hello modell-Tervező ablakában kattintson, és próbálkozzon újra.</span><span class="sxs-lookup"><span data-stu-id="7737f-152">If Paste is grayed out, click any column in any table in hello model designer window, and try again.</span></span>  
  
7.  <span data-ttu-id="7737f-153">A hello **Beillesztés Preview** párbeszédpanel **táblanév**, típus **EmployeeSecurity**.</span><span class="sxs-lookup"><span data-stu-id="7737f-153">In hello **Paste Preview** dialog box, in **Table Name**, type **EmployeeSecurity**.</span></span>  
  
8.  <span data-ttu-id="7737f-154">A **beillesztett adatokat toobe**, ellenőrizze a hello adatok tartalmazzák az összes hello felhasználói adatok és hello SampleEmployee munkalapról fejlécek.</span><span class="sxs-lookup"><span data-stu-id="7737f-154">In **Data toobe pasted**, verify hello data includes all hello user data and headers from hello SampleEmployee worksheet.</span></span>  
  
9. <span data-ttu-id="7737f-155">Ellenőrizze, hogy az **Első sor elemeinek használata oszlopfejlécként** be van-e jelölve, majd kattintson az **OK** gombra.</span><span class="sxs-lookup"><span data-stu-id="7737f-155">Verify **Use first row as column headers** is checked, and then click **Ok**.</span></span>  
  
    <span data-ttu-id="7737f-156">Hello SampleEmployee munkalapról másolt alkalmazott adatokra EmployeeSecurity nevű új tábla létrehozása.</span><span class="sxs-lookup"><span data-stu-id="7737f-156">A new table named EmployeeSecurity with employee data copied from hello SampleEmployee worksheet is created.</span></span>  
  
## <a name="create-relationships-between-factinternetsales-dimgeography-and-dimsalesterritory-table"></a><span data-ttu-id="7737f-157">Kapcsolatok létrehozása a FactInternetSales, a DimGeography és a DimSalesTerritory táblák között</span><span class="sxs-lookup"><span data-stu-id="7737f-157">Create relationships between FactInternetSales, DimGeography, and DimSalesTerritory table</span></span>  
<span data-ttu-id="7737f-158">hello FactInternetSales DimGeography és DimSalesTerritory tábla összes egy közös oszlop SalesTerritoryId tartalmazhat.</span><span class="sxs-lookup"><span data-stu-id="7737f-158">hello FactInternetSales, DimGeography, and DimSalesTerritory table all contain a common column, SalesTerritoryId.</span></span> <span data-ttu-id="7737f-159">hello SalesTerritoryId oszlop hello DimSalesTerritory tábla minden egyes értékesítési terület-azonosító értékeket tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="7737f-159">hello SalesTerritoryId column in hello DimSalesTerritory table contains values with a different Id for each sales territory.</span></span>  
  
#### <a name="toocreate-relationships-between-hello-factinternetsales-dimgeography-and-hello-dimsalesterritory-table"></a><span data-ttu-id="7737f-160">hello FactInternetSales DimGeography és hello DimSalesTerritory tábla toocreate kapcsolatai</span><span class="sxs-lookup"><span data-stu-id="7737f-160">toocreate relationships between hello FactInternetSales, DimGeography, and hello DimSalesTerritory table</span></span>  
  
1.  <span data-ttu-id="7737f-161">A Diagram nézetben hello **DimGeography** tábla, kattintson és tartsa lenyomva az hello **SalesTerritoryId** oszlopban, majd húzza hello kurzor toohello **SalesTerritoryId** hello oszlopa **DimSalesTerritory** tábla, majd engedje fel.</span><span class="sxs-lookup"><span data-stu-id="7737f-161">In Diagram View, in hello **DimGeography** table, click, and hold on hello **SalesTerritoryId** column, then drag hello cursor toohello **SalesTerritoryId** column in hello **DimSalesTerritory** table, and then release.</span></span>  
  
2.  <span data-ttu-id="7737f-162">A hello **FactInternetSales** tábla, kattintson és tartsa lenyomva az hello **SalesTerritoryId** oszlopban, majd húzza hello kurzor toohello **SalesTerritoryId** hello oszlopa **DimSalesTerritory** tábla, majd engedje fel.</span><span class="sxs-lookup"><span data-stu-id="7737f-162">In hello **FactInternetSales** table, click, and hold on hello **SalesTerritoryId** column, then drag hello cursor toohello **SalesTerritoryId** column in hello **DimSalesTerritory** table, and then release.</span></span>  
  
    <span data-ttu-id="7737f-163">Értesítés hello aktív tulajdonság az adott kapcsolathoz értéke HAMIS, ami azt jelenti, inaktív.</span><span class="sxs-lookup"><span data-stu-id="7737f-163">Notice hello Active property for this relationship is False, meaning it's inactive.</span></span> <span data-ttu-id="7737f-164">hello FactInternetSales táblának már van egy másik aktív kapcsolat.</span><span class="sxs-lookup"><span data-stu-id="7737f-164">hello FactInternetSales table already has another active relationship.</span></span>  
  
## <a name="hide-hello-employeesecurity-table-from-client-applications"></a><span data-ttu-id="7737f-165">Hello EmployeeSecurity tábla az ügyfélalkalmazásokból elrejtése</span><span class="sxs-lookup"><span data-stu-id="7737f-165">Hide hello EmployeeSecurity Table from client applications</span></span>  
<span data-ttu-id="7737f-166">Ebben a feladatban elrejtése hello EmployeeSecurity tábla, lekapcsolva tartja a ügyfélalkalmazás listán jelennek meg.</span><span class="sxs-lookup"><span data-stu-id="7737f-166">In this task, you hide hello EmployeeSecurity table, keeping it from appearing in a client application’s field list.</span></span> <span data-ttu-id="7737f-167">Ne feledje, hogy a táblázat elrejtése nem nyújt a táblázat számára védelmet.</span><span class="sxs-lookup"><span data-stu-id="7737f-167">Keep in mind that hiding a table does not secure it.</span></span> <span data-ttu-id="7737f-168">A felhasználók továbbra is lekérdezhetik az EmployeeSecurity tábla adatait, ha tisztában vannak annak módjával.</span><span class="sxs-lookup"><span data-stu-id="7737f-168">Users can still query EmployeeSecurity table data if they know how.</span></span> <span data-ttu-id="7737f-169">toosecure hello EmployeeSecurity tábla adatai, hogy a felhasználók képesek tooquery alatt az adatok, a későbbi tevékenység a szűrő alkalmazása.</span><span class="sxs-lookup"><span data-stu-id="7737f-169">toosecure hello EmployeeSecurity table data, preventing users from being able tooquery any of its data, you apply a filter in a later task.</span></span>  
  
#### <a name="toohide-hello-employeesecurity-table-from-client-applications"></a><span data-ttu-id="7737f-170">toohide hello EmployeeSecurity tábla ügyfélalkalmazások</span><span class="sxs-lookup"><span data-stu-id="7737f-170">toohide hello EmployeeSecurity table from client applications</span></span>  
  
-   <span data-ttu-id="7737f-171">A hello modellek tervezőjében, a Diagram nézet megnyitásához kattintson a jobb gombbal hello **alkalmazott** tábla fejlécére, és kattintson a **elrejtése az ügyféleszközök elől**.</span><span class="sxs-lookup"><span data-stu-id="7737f-171">In hello model designer, in Diagram View, right-click hello **Employee** table heading, and then click **Hide from Client Tools**.</span></span>  
  
## <a name="create-a-sales-employees-by-territory-user-role"></a><span data-ttu-id="7737f-172">Területenkénti értékesítési alkalmazottak felhasználói szerepkör létrehozása</span><span class="sxs-lookup"><span data-stu-id="7737f-172">Create a Sales Employees by Territory user role</span></span>  
<span data-ttu-id="7737f-173">Ebben a feladatban egy felhasználói szerepkört hozhat létre.</span><span class="sxs-lookup"><span data-stu-id="7737f-173">In this task, you create a user role.</span></span> <span data-ttu-id="7737f-174">Ez a szerepkör szűrője sor látható toousers mely hello DimSalesTerritory sorainak megadása.</span><span class="sxs-lookup"><span data-stu-id="7737f-174">This role includes a row filter defining which rows of hello DimSalesTerritory table are visible toousers.</span></span> <span data-ttu-id="7737f-175">hello majd szűrőhöz hello egy-a-többhöz kapcsolat irányát tooall más táblák kapcsolódó tooDimSalesTerritory.</span><span class="sxs-lookup"><span data-stu-id="7737f-175">hello filter is then applied in hello one-to-many relationship direction tooall other tables related tooDimSalesTerritory.</span></span> <span data-ttu-id="7737f-176">Is, amely biztosítja a hello teljes EmployeeSecurity táblázat lekérdezhető bármely felhasználó, amelynek hello szerepkör tagja nem szűrőt alkalmaz.</span><span class="sxs-lookup"><span data-stu-id="7737f-176">You also apply a filter that secures hello entire EmployeeSecurity table from being queryable by any user that is a member of hello role.</span></span>  
  
> [!NOTE]  
> <span data-ttu-id="7737f-177">hello értékesítési alkalmazottak hoz létre, ez a lecke területén szerepkör tagjai toobrowse (lekérdezés) csak értékesítési adatainak vagy hello értékesítési terület toowhich tartoznak korlátozza.</span><span class="sxs-lookup"><span data-stu-id="7737f-177">hello Sales Employees by Territory role you create in this lesson restricts members toobrowse (or query) only sales data for hello sales territory toowhich they belong.</span></span> <span data-ttu-id="7737f-178">Ha hozzáad egy felhasználót egy tag toohello értékesítési az alkalmazottak által területén szerepkör, amely tagja a szerepkörnek létre is létezik, [lecke 11: szerepkörök létrehozása](../tutorials/aas-lesson-11-create-roles.md), engedélyek kombinációja kap.</span><span class="sxs-lookup"><span data-stu-id="7737f-178">If you add a user as a member toohello Sales Employees by Territory role that also exists as a member in a role created in [Lesson 11: Create Roles](../tutorials/aas-lesson-11-create-roles.md), you get a combination of permissions.</span></span> <span data-ttu-id="7737f-179">Amikor egy felhasználó tagja több szerepkörök, hello engedélyek és az egyes szerepkörhöz definiált sorszűrőket halmozódik.</span><span class="sxs-lookup"><span data-stu-id="7737f-179">When a user is a member of multiple roles, hello permissions, and row filters defined for each role are cumulative.</span></span> <span data-ttu-id="7737f-180">Ez azt jelenti, hogy hello felhasználó jogosult hello nagyobb szerepkörök hello kombinációja határozza meg.</span><span class="sxs-lookup"><span data-stu-id="7737f-180">That is, hello user has hello greater permissions determined by hello combination of roles.</span></span>  
  
#### <a name="toocreate-a-sales-employees-by-territory-user-role"></a><span data-ttu-id="7737f-181">egy eladási alkalmazottak területén felhasználói szerepkör által toocreate</span><span class="sxs-lookup"><span data-stu-id="7737f-181">toocreate a Sales Employees by Territory user role</span></span>  
  
1.  <span data-ttu-id="7737f-182">Az SSDT, kattintson a hello **modell** menüben, majd kattintson **szerepkörök**.</span><span class="sxs-lookup"><span data-stu-id="7737f-182">In SSDT, click hello **Model** menu, and then click **Roles**.</span></span>  
  
2.  <span data-ttu-id="7737f-183">A **Szerepkörkezelőben** kattintson az **Új** lehetőségre.</span><span class="sxs-lookup"><span data-stu-id="7737f-183">In **Role Manager**, click **New**.</span></span>  
  
    <span data-ttu-id="7737f-184">Új szerepkör hello nincs engedély toohello lista hozzáadásával.</span><span class="sxs-lookup"><span data-stu-id="7737f-184">A new role with hello None permission is added toohello list.</span></span>  
  
3.  <span data-ttu-id="7737f-185">Hello új szerepkört, kattintson, majd a hello **neve** oszlop, nevezze át a hello szerepkör túl**értékesítési alkalmazottak terület**.</span><span class="sxs-lookup"><span data-stu-id="7737f-185">Click hello new role, and then in hello **Name** column, rename hello role too**Sales Employees by Territory**.</span></span>  
  
4.  <span data-ttu-id="7737f-186">A hello **engedélyek** oszlopban kattintson hello legördülő listára, és válassza a hello **olvasási** engedéllyel.</span><span class="sxs-lookup"><span data-stu-id="7737f-186">In hello **Permissions** column, click hello dropdown list, and then select hello **Read** permission.</span></span>  
  
5.  <span data-ttu-id="7737f-187">Kattintson a hello **tagok** fülre, majd **Hozzáadás**.</span><span class="sxs-lookup"><span data-stu-id="7737f-187">Click hello **Members** tab, and then click **Add**.</span></span>  
  
6.  <span data-ttu-id="7737f-188">A hello **felhasználó vagy csoport kiválasztása** párbeszédpanel **tooselect nevű Enter hello objektum**, típus hello első minta használt felhasználónévhez hello EmployeeSecurity tábla létrehozásakor.</span><span class="sxs-lookup"><span data-stu-id="7737f-188">In hello **Select User or Group** dialog box, in **Enter hello object named tooselect**, type hello first sample user name you used when creating hello EmployeeSecurity table.</span></span> <span data-ttu-id="7737f-189">Kattintson a **Névellenőrzés** tooverify hello felhasználó neve érvényes, és kattintson **Ok**.</span><span class="sxs-lookup"><span data-stu-id="7737f-189">Click **Check Names** tooverify hello user name is valid, and then click **Ok**.</span></span>  
  
    <span data-ttu-id="7737f-190">Ismételje meg ezt a lépést, hello hozzáadása más felhasználó példanevek hello EmployeeSecurity tábla létrehozásakor használt.</span><span class="sxs-lookup"><span data-stu-id="7737f-190">Repeat this step, adding hello other sample user names you used when creating hello EmployeeSecurity table.</span></span>  
  
7.  <span data-ttu-id="7737f-191">Kattintson a hello **sorszűrőket** fülre.</span><span class="sxs-lookup"><span data-stu-id="7737f-191">Click hello **Row Filters** tab.</span></span>  
  
8.  <span data-ttu-id="7737f-192">A hello **EmployeeSecurity** táblájában hello **DAX-szűrő** oszlop, a következő képlet típus hello:</span><span class="sxs-lookup"><span data-stu-id="7737f-192">For hello **EmployeeSecurity** table, in hello **DAX Filter** column, type hello following formula:</span></span>  
  
    ```
      =FALSE()  
    ```
  
    <span data-ttu-id="7737f-193">A képlet határozza meg, hogy az összes oszlop megoldásához toohello HAMIS logikai értékként.</span><span class="sxs-lookup"><span data-stu-id="7737f-193">This formula specifies that all columns resolve toohello false Boolean condition.</span></span> <span data-ttu-id="7737f-194">Nincs hello EmployeeSecurity tábla oszlopait hello értékesítési alkalmazottak területén felhasználói szerepkör tagjának kérdezhetők le.</span><span class="sxs-lookup"><span data-stu-id="7737f-194">No columns for hello EmployeeSecurity table can be queried by a member of hello Sales Employees by Territory user role.</span></span>  
  
9. <span data-ttu-id="7737f-195">A hello **DimSalesTerritory** tábla, a következő képlet típus hello:</span><span class="sxs-lookup"><span data-stu-id="7737f-195">For hello **DimSalesTerritory** table, type hello following formula:</span></span>  

    ```  
    ='Sales Territory'[Sales Territory Id]=LOOKUPVALUE('Employee Security'[Sales Territory Id], 
      'Employee Security'[Login Id], USERNAME(), 
      'Employee Security'[Sales Territory Id], 
      'Sales Territory'[Sales Territory Id]) 
    ```
  
    <span data-ttu-id="7737f-196">Ez a képlet hello LOOKUPVALUE függvény adja vissza hello DimEmployeeSecurity [SalesTerritoryId] oszlop összes értékének ahol hello EmployeeSecurity [LoginId] van hello ugyanaz, mint hello aktuális bejelentkezett Windows-felhasználónév és a EmployeeSecurity [ SalesTerritoryId] van hello ugyanaz, mint a hello DimSalesTerritory [SalesTerritoryId].</span><span class="sxs-lookup"><span data-stu-id="7737f-196">In this formula, hello LOOKUPVALUE function returns all values for hello DimEmployeeSecurity[SalesTerritoryId] column, where hello EmployeeSecurity[LoginId] is hello same as hello current logged on Windows user name, and EmployeeSecurity[SalesTerritoryId] is hello same as hello DimSalesTerritory[SalesTerritoryId].</span></span>  
  
    <span data-ttu-id="7737f-197">hello LOOKUPVALUE által visszaadott értékesítési terület azonosítók készlete nem használt toorestrict hello hello DimSalesTerritory táblázatban látható sorok.</span><span class="sxs-lookup"><span data-stu-id="7737f-197">hello set of sales territory IDs returned by LOOKUPVALUE is then used toorestrict hello rows shown in hello DimSalesTerritory table.</span></span> <span data-ttu-id="7737f-198">Hello hello sorára SalesTerritoryID esetén hello készlet hello LOOKUPVALUE függvény által visszaadott azonosítókat csak sorok jelennek meg.</span><span class="sxs-lookup"><span data-stu-id="7737f-198">Only rows where hello SalesTerritoryID for hello row is in hello set of IDs returned by hello LOOKUPVALUE function are displayed.</span></span>  
  
10. <span data-ttu-id="7737f-199">A Szerepkörkezelőben kattintson az **OK** gombra.</span><span class="sxs-lookup"><span data-stu-id="7737f-199">In Role Manager, click **Ok**.</span></span>  
  
## <a name="test-hello-sales-employees-by-territory-user-role"></a><span data-ttu-id="7737f-200">Hello értékesítési alkalmazottak területén felhasználói szerepkör által tesztelése</span><span class="sxs-lookup"><span data-stu-id="7737f-200">Test hello Sales Employees by Territory User Role</span></span>  
<span data-ttu-id="7737f-201">Ebben a feladatban használható SSDT tootest hello hatékonyságát hello értékesítési alkalmazottak területén felhasználói szerepkör által hello elemzés az Excelben funkciót.</span><span class="sxs-lookup"><span data-stu-id="7737f-201">In this task, you use hello Analyze in Excel feature in SSDT tootest hello efficacy of hello Sales Employees by Territory user role.</span></span> <span data-ttu-id="7737f-202">Adjon meg egy hello felhasználónevek toohello EmployeeSecurity tábla hozzáadott és hello szerepkör tagjaként.</span><span class="sxs-lookup"><span data-stu-id="7737f-202">You specify one of hello user names you added toohello EmployeeSecurity table and as a member of hello role.</span></span> <span data-ttu-id="7737f-203">Ez a felhasználónév majd lesz hello tényleges felhasználónevet észlelt a hello kapcsolat létrehozása az Excel és hello modell között.</span><span class="sxs-lookup"><span data-stu-id="7737f-203">This user name is then used as hello effective user name in hello connection created between Excel and hello model.</span></span>  
  
#### <a name="tootest-hello-sales-employees-by-territory-user-role"></a><span data-ttu-id="7737f-204">tootest hello értékesítési alkalmazottak területén felhasználói szerepkör</span><span class="sxs-lookup"><span data-stu-id="7737f-204">tootest hello Sales Employees by Territory user role</span></span>  
  
1.  <span data-ttu-id="7737f-205">Az SSDT, kattintson a hello **modell** menüben, majd kattintson **elemzés az Excelben**.</span><span class="sxs-lookup"><span data-stu-id="7737f-205">In SSDT, click hello **Model** menu, and then click **Analyze in Excel**.</span></span>  
  
2.  <span data-ttu-id="7737f-206">A hello **elemzés az Excelben** párbeszédpanel **megadása hello felhasználó neve vagy szerepe toouse tooconnect toohello modell**, jelölje be **más Windows-felhasználó**, és kattintson a **Tallózás**.</span><span class="sxs-lookup"><span data-stu-id="7737f-206">In hello **Analyze in Excel** dialog box, in **Specify hello user name or role toouse tooconnect toohello model**, select **Other Windows User**, and then click **Browse**.</span></span>  
  
3.  <span data-ttu-id="7737f-207">A hello **felhasználó vagy csoport kiválasztása** párbeszédpanel **adja meg a hello objektum neve tooselect**, írjon be egy felhasználónevet, hello EmployeeSecurity táblázat foglalja, és kattintson a **Névellenőrzés**.</span><span class="sxs-lookup"><span data-stu-id="7737f-207">In hello **Select User or Group** dialog box, in **Enter hello object name tooselect**, type a user name you included in hello EmployeeSecurity table, and then click **Check Names**.</span></span>  
  
4.  <span data-ttu-id="7737f-208">Kattintson a **Ok** tooclose hello **felhasználó vagy csoport kiválasztása** párbeszédpanel, és kattintson **Ok** tooclose hello **elemzés az Excelben** párbeszédpanel megnyitásához.</span><span class="sxs-lookup"><span data-stu-id="7737f-208">Click **Ok** tooclose hello **Select User or Group** dialog box, and then click **Ok** tooclose hello **Analyze in Excel** dialog box.</span></span>  
  
    <span data-ttu-id="7737f-209">Megnyílik az Excel, és megjelenít egy új munkafüzetet.</span><span class="sxs-lookup"><span data-stu-id="7737f-209">Excel opens with a new workbook.</span></span> <span data-ttu-id="7737f-210">Ekkor automatikusan létrejön egy kimutatás.</span><span class="sxs-lookup"><span data-stu-id="7737f-210">A PivotTable is automatically created.</span></span> <span data-ttu-id="7737f-211">hello kimutatástábla mezői lista tartalmazza a legtöbb hello adatok mezőket az új modell érhető el.</span><span class="sxs-lookup"><span data-stu-id="7737f-211">hello PivotTable Fields list includes most of hello data fields available in your new model.</span></span>  
  
    <span data-ttu-id="7737f-212">Értesítés hello EmployeeSecurity tábla nincs hello kimutatástábla mezői listája látható.</span><span class="sxs-lookup"><span data-stu-id="7737f-212">Notice hello EmployeeSecurity table is not visible in hello PivotTable Fields list.</span></span> <span data-ttu-id="7737f-213">Ezt a táblázatot elrejtette az ügyféleszközök elől az előző feladatban.</span><span class="sxs-lookup"><span data-stu-id="7737f-213">You hid this table from client tools in a previous task.</span></span>  
  
5.  <span data-ttu-id="7737f-214">A hello **mezők** listájában, a **∑ Internet értékesítési** (mértékek), jelölje be hello **InternetTotalSales** mérték.</span><span class="sxs-lookup"><span data-stu-id="7737f-214">In hello **Fields** list, in **∑ Internet Sales** (measures), select hello **InternetTotalSales** measure.</span></span> <span data-ttu-id="7737f-215">hello mérték bekerül a hello **értékek** mezőket.</span><span class="sxs-lookup"><span data-stu-id="7737f-215">hello measure is entered into hello **Values** fields.</span></span>  
  
6.  <span data-ttu-id="7737f-216">Jelölje be hello **SalesTerritoryId** hello oszlopát **DimSalesTerritory** tábla.</span><span class="sxs-lookup"><span data-stu-id="7737f-216">Select hello **SalesTerritoryId** column from hello **DimSalesTerritory** table.</span></span> <span data-ttu-id="7737f-217">hello oszlop bekerül a hello **sorfeliratok** mezőket.</span><span class="sxs-lookup"><span data-stu-id="7737f-217">hello column is entered into hello **Row Labels** fields.</span></span>  
  
    <span data-ttu-id="7737f-218">Értékesítési adataitól csak hello egy régió toowhich hello hatékony használt felhasználónévhez jelenik meg értesítés Internet tartozik.</span><span class="sxs-lookup"><span data-stu-id="7737f-218">Notice Internet sales figures appear only for hello one region toowhich hello effective user name you used belongs.</span></span> <span data-ttu-id="7737f-219">Ha egy másik oszlop, például a város hello DimGeography táblából sort címke mező, csak városokat hello értékesítési terület toowhich hello hatékony felhasználó tartozik, jelennek meg.</span><span class="sxs-lookup"><span data-stu-id="7737f-219">If you select another column, like City from hello DimGeography table as Row Label field, only cities in hello sales territory toowhich hello effective user belongs are displayed.</span></span>  
  
    <span data-ttu-id="7737f-220">Ez a felhasználó nem keresse meg, illetve bármely Internet tartoznak egyik hello eltérő területek értékesítési adatokat lekérdezni.</span><span class="sxs-lookup"><span data-stu-id="7737f-220">This user cannot browse or query any Internet sales data for territories other than hello one they belong to.</span></span> <span data-ttu-id="7737f-221">Ez a korlátozás van, mert hello hello DimSalesTerritory tábla, hello értékesítési alkalmazottak területén felhasználói szerepkör által meghatározott Sorszűrő biztosítja az összes adat adatokat kapcsolódó tooother értékesítési régiókat.</span><span class="sxs-lookup"><span data-stu-id="7737f-221">This restriction is because hello row filter defined for hello DimSalesTerritory table, in hello Sales Employees by Territory user role, secures data for all data related tooother sales territories.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="7737f-222">Lásd még:</span><span class="sxs-lookup"><span data-stu-id="7737f-222">See Also</span></span>  
[<span data-ttu-id="7737f-223">USERNAME függvény (DAX)</span><span class="sxs-lookup"><span data-stu-id="7737f-223">USERNAME Function (DAX)</span></span>](https://msdn.microsoft.com/library/hh230954.aspx)  
[<span data-ttu-id="7737f-224">LOOKUPVALUE függvény (DAX)</span><span class="sxs-lookup"><span data-stu-id="7737f-224">LOOKUPVALUE Function (DAX)</span></span>](https://msdn.microsoft.com/library/gg492170.aspx)  
[<span data-ttu-id="7737f-225">CUSTOMDATA függvény (DAX)</span><span class="sxs-lookup"><span data-stu-id="7737f-225">CUSTOMDATA Function (DAX)</span></span>](https://msdn.microsoft.com/library/hh213140.aspx)  