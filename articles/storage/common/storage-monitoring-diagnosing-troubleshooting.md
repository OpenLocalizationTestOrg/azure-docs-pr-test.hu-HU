---
title: "Figyelése, diagnosztizálása és elhárítása az Azure Storage |} Microsoft Docs"
description: "Használni a szolgáltatásokat, például a tárolási analitika, az ügyféloldali naplózás és más külső eszközök azonosításához, diagnosztizálása és Azure tárolással kapcsolatos problémák elhárításához."
services: storage
documentationcenter: 
author: fhryo-msft
manager: jahogg
editor: tysonn
ms.assetid: d1e87d98-c763-4caa-ba20-2cf85f853303
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/11/2017
ms.author: fhryo-msft
ms.openlocfilehash: 12db22d1444dc07a45db430c01407f9398e13bad
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 08/29/2017
---
# <a name="monitor-diagnose-and-troubleshoot-microsoft-azure-storage"></a><span data-ttu-id="1d2ec-103">Microsoft Azure Storage felügyelete, diagnosztizálása és hibaelhárítása</span><span class="sxs-lookup"><span data-stu-id="1d2ec-103">Monitor, diagnose, and troubleshoot Microsoft Azure Storage</span></span>
[!INCLUDE [storage-selector-portal-monitoring-diagnosing-troubleshooting](../../../includes/storage-selector-portal-monitoring-diagnosing-troubleshooting.md)]

## <a name="overview"></a><span data-ttu-id="1d2ec-104">Áttekintés</span><span class="sxs-lookup"><span data-stu-id="1d2ec-104">Overview</span></span>
<span data-ttu-id="1d2ec-105">Diagnosztizálása és elhárítása egy üzemeltetett felhőalapú környezetek elosztott alkalmazásban lévő lehet bonyolultabb, mint a hagyományos környezetekben.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-105">Diagnosing and troubleshooting issues in a distributed application hosted in a cloud environment can be more complex than in traditional environments.</span></span> <span data-ttu-id="1d2ec-106">Alkalmazások PaaS vagy infrastruktúra-szolgáltatási infrastruktúra, a helyszíni, egy mobileszközön, vagy ezek valamilyen kombinációjára is telepíthető.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-106">Applications can be deployed in a PaaS or IaaS infrastructure, on premises, on a mobile device, or in some combination of these.</span></span> <span data-ttu-id="1d2ec-107">Általában az alkalmazás hálózati forgalmat is haladnak át a nyilvános és titkos és az alkalmazás használhat több tárolási technológiák, például a Microsoft Azure Storage-táblákat, BLOB, üzenetsorok vagy fájlok mellett egyéb adatokat tárolja, például a relációs- és dokumentumszolgáltatások adatbázisok.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-107">Typically, your application's network traffic may traverse public and private networks and your application may use multiple storage technologies such as Microsoft Azure Storage Tables, Blobs, Queues, or Files in addition to other data stores such as relational and document databases.</span></span>

<span data-ttu-id="1d2ec-108">Az ilyen alkalmazásokat kezeléséhez sikeresen kell proaktív módon figyelheti azokat, és segít megérteni, hogyan diagnosztizálásához és hibaelhárításához őket, és a függő technológiák minden szempontját.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-108">To manage such applications successfully you should monitor them proactively and understand how to diagnose and troubleshoot all aspects of them and their dependent technologies.</span></span> <span data-ttu-id="1d2ec-109">Azure Storage szolgáltatás felhasználóit inkább folyamatosan figyelni a váratlan viselkedés (például a lassabb, mint a szokásos válaszidő) módosításai az alkalmazás által tárolási szolgáltatásokat, és használatát naplózási részletes adatok gyűjtéséhez és részletesen probléma elemzéséhez.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-109">As a user of Azure Storage services, you should continuously monitor the Storage services your application uses for any unexpected changes in behavior (such as slower than usual response times), and use logging to collect more detailed data and to analyze a problem in depth.</span></span> <span data-ttu-id="1d2ec-110">A diagnosztika figyelés és naplózás beszerezte nyújt segítséget az alkalmazás észlelt a probléma okának megállapításához.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-110">The diagnostics information you obtain from both monitoring and logging will help you to determine the root cause of the issue your application encountered.</span></span> <span data-ttu-id="1d2ec-111">Ezután hibaelhárítást, és határozza meg a megfelelő lépéseket, amelyekkel megoldásáról.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-111">Then you can troubleshoot the issue and determine the appropriate steps you can take to remediate it.</span></span> <span data-ttu-id="1d2ec-112">Az Azure Storage alapszintű Azure-szolgáltatás, és az ügyfelek központi telepítése az Azure infrastruktúra-megoldások többsége fontos részét képezi.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-112">Azure Storage is a core Azure service, and forms an important part of the majority of solutions that customers deploy to the Azure infrastructure.</span></span> <span data-ttu-id="1d2ec-113">Az Azure Storage kínálja egyszerűbbé teheti a figyelése, diagnosztizálása és a felhőalapú alkalmazásokban tárolási problémák elhárításához.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-113">Azure Storage includes capabilities to simplify monitoring, diagnosing, and troubleshooting storage issues in your cloud-based applications.</span></span>

> [!NOTE]
> <span data-ttu-id="1d2ec-114">Az Azure File storage nem támogatja a jelenleg naplózását.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-114">The Azure File storage does not support logging at this time.</span></span>
> 

<span data-ttu-id="1d2ec-115">Gyakorlati végpont Azure Storage-alkalmazások hibáinak elhárításához, váltásról [-végpontok hibaelhárítása az Azure Storage Metrics és a naplózás, az AzCopy és a Message Analyzer segítségével](../storage-e2e-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="1d2ec-115">For a hands-on guide to end-to-end troubleshooting in Azure Storage applications, see [End-to-End Troubleshooting using Azure Storage Metrics and Logging, AzCopy, and Message Analyzer](../storage-e2e-troubleshooting.md).</span></span>

* <span data-ttu-id="1d2ec-116">[Bevezetés]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-116">[Introduction]</span></span>
  * <span data-ttu-id="1d2ec-117">[Hogyan szerveződik, ez az útmutató]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-117">[How this guide is organized]</span></span>
* <span data-ttu-id="1d2ec-118">[a tárolás szolgáltatás figyelése]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-118">[Monitoring your storage service]</span></span>
  * <span data-ttu-id="1d2ec-119">[Figyelési szolgáltatásának állapota]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-119">[Monitoring service health]</span></span>
  * <span data-ttu-id="1d2ec-120">[Kapacitásának figyelése]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-120">[Monitoring capacity]</span></span>
  * <span data-ttu-id="1d2ec-121">[Rendelkezésre állás figyelése]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-121">[Monitoring availability]</span></span>
  * <span data-ttu-id="1d2ec-122">[A teljesítmény figyelése]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-122">[Monitoring performance]</span></span>
* <span data-ttu-id="1d2ec-123">[tárolási problémák diagnosztizálása]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-123">[Diagnosing storage issues]</span></span>
  * <span data-ttu-id="1d2ec-124">[Szolgáltatás ügynökállapottal kapcsolatos hibákkal]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-124">[Service health issues]</span></span>
  * <span data-ttu-id="1d2ec-125">[Teljesítménnyel kapcsolatos problémák]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-125">[Performance issues]</span></span>
  * <span data-ttu-id="1d2ec-126">[Hibák diagnosztizálása]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-126">[Diagnosing errors]</span></span>
  * <span data-ttu-id="1d2ec-127">[Tárolási emulátor problémák]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-127">[Storage emulator issues]</span></span>
  * <span data-ttu-id="1d2ec-128">[Tárolási naplózási eszközök]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-128">[Storage logging tools]</span></span>
  * <span data-ttu-id="1d2ec-129">[Hálózati naplózási eszközök használatával]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-129">[Using network logging tools]</span></span>
* <span data-ttu-id="1d2ec-130">[végpont nyomkövetés]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-130">[End-to-end tracing]</span></span>
  * <span data-ttu-id="1d2ec-131">[Naplóadatok válaszoknak az összekapcsolása]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-131">[Correlating log data]</span></span>
  * <span data-ttu-id="1d2ec-132">[Ügyfélkérelem-azonosító]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-132">[Client request ID]</span></span>
  * <span data-ttu-id="1d2ec-133">[Server Kérelemazonosító]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-133">[Server request ID]</span></span>
  * <span data-ttu-id="1d2ec-134">[Időbélyeg helyi időre]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-134">[Timestamps]</span></span>
* <span data-ttu-id="1d2ec-135">[hibaelhárítási útmutatás]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-135">[Troubleshooting guidance]</span></span>
  * <span data-ttu-id="1d2ec-136">[metrika AverageE2ELatency magas és alacsony AverageServerLatency]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-136">[Metrics show high AverageE2ELatency and low AverageServerLatency]</span></span>
  * <span data-ttu-id="1d2ec-137">[A mérőszámok alacsony AverageE2ELatency és alacsony AverageServerLatency értéket mutatnak, de az ügyfél nagy mértékű késleltetést tapasztal]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-137">[Metrics show low AverageE2ELatency and low AverageServerLatency but the client is experiencing high latency]</span></span>
  * <span data-ttu-id="1d2ec-138">[A mérőszámok magas AverageServerLatency értéket mutatnak]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-138">[Metrics show high AverageServerLatency]</span></span>
  * <span data-ttu-id="1d2ec-139">[Váratlan késést tapasztal az üzenetsorban található üzenetek kézbesítésekor]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-139">[You are experiencing unexpected delays in message delivery on a queue]</span></span>
  * <span data-ttu-id="1d2ec-140">[PercentThrottlingError metrika növelését]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-140">[Metrics show an increase in PercentThrottlingError]</span></span>
  * <span data-ttu-id="1d2ec-141">[PercentTimeoutError metrika növelését]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-141">[Metrics show an increase in PercentTimeoutError]</span></span>
  * <span data-ttu-id="1d2ec-142">[A mérőszámok emelkedő PercentNetworkError értéket mutatnak]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-142">[Metrics show an increase in PercentNetworkError]</span></span>
  * <span data-ttu-id="1d2ec-143">[Az ügyfél HTTP 403 (tiltott) üzeneteket fogad]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-143">[The client is receiving HTTP 403 (Forbidden) messages]</span></span>
  * <span data-ttu-id="1d2ec-144">[Az ügyfél HTTP 404-es (nem található) üzeneteket fogad]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-144">[The client is receiving HTTP 404 (Not found) messages]</span></span>
  * <span data-ttu-id="1d2ec-145">[Az ügyfél HTTP 409 (Ütközés) üzeneteket fogad]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-145">[The client is receiving HTTP 409 (Conflict) messages]</span></span>
  * <span data-ttu-id="1d2ec-146">[metrika alacsony PercentSuccess vagy analytics naplóbejegyzések rendelkezik ClientOtherErrors működésére állapotú tranzakció]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-146">[Metrics show low PercentSuccess or analytics log entries have operations with transaction status of ClientOtherErrors]</span></span>
  * <span data-ttu-id="1d2ec-147">[Teljesítmény-mérőszámait váratlan növekedését megjelenítése a tárolási kapacitás-használat]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-147">[Capacity metrics show an unexpected increase in storage capacity usage]</span></span>
  * <span data-ttu-id="1d2ec-148">[Váratlan vesznek el virtuális gépeken, amelyek csatlakoztatott virtuális merevlemezek nagy számú tapasztal]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-148">[You are experiencing unexpected reboots of Virtual Machines that have a large number of attached VHDs]</span></span>
  * <span data-ttu-id="1d2ec-149">[A probléma merül fel a fejlesztési vagy tesztelési a storage emulator használatával]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-149">[Your issue arises from using the storage emulator for development or test]</span></span>
  * <span data-ttu-id="1d2ec-150">[.NET-keretrendszerhez készült Azure SDK telepítése problémák áll kapcsolatban.]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-150">[You are encountering problems installing the Azure SDK for .NET]</span></span>
  * <span data-ttu-id="1d2ec-151">[Van egy másik probléma storage szolgáltatással]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-151">[You have a different issue with a storage service]</span></span>
  * [<span data-ttu-id="1d2ec-152">A Windows Azure File storage problémák elhárítása</span><span class="sxs-lookup"><span data-stu-id="1d2ec-152">Troubleshooting Azure File storage issues with Windows</span></span>](../files/storage-troubleshoot-windows-file-connection-problems.md)   
  * [<span data-ttu-id="1d2ec-153">A Linux és Azure File storage problémák elhárítása</span><span class="sxs-lookup"><span data-stu-id="1d2ec-153">Troubleshooting Azure File storage issues with Linux</span></span>](../files/storage-troubleshoot-linux-file-connection-problems.md)
* <span data-ttu-id="1d2ec-154">[mellékletek]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-154">[Appendices]</span></span>
  * <span data-ttu-id="1d2ec-155">[1 függelék: HTTP és HTTPS-forgalom rögzítése a Fiddler használatával]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-155">[Appendix 1: Using Fiddler to capture HTTP and HTTPS traffic]</span></span>
  * <span data-ttu-id="1d2ec-156">[2 függelék: Wireshark használó rögzítheti a hálózati forgalom]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-156">[Appendix 2: Using Wireshark to capture network traffic]</span></span>
  * <span data-ttu-id="1d2ec-157">[függelék: 3: Microsoft Message Analyzert használó rögzítheti a hálózati forgalom]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-157">[Appendix 3: Using Microsoft Message Analyzer to capture network traffic]</span></span>
  * <span data-ttu-id="1d2ec-158">[4. függelék: Segítségével Excel metrikák megtekintése és az adatok naplózása]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-158">[Appendix 4: Using Excel to view metrics and log data]</span></span>
  * <span data-ttu-id="1d2ec-159">[5. függelék: A Visual Studio Team Services az Application insights szolgáltatással figyelését.]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-159">[Appendix 5: Monitoring with Application Insights for Visual Studio Team Services]</span></span>

## <span data-ttu-id="1d2ec-160"><a name="introduction"></a>Bevezetés</span><span class="sxs-lookup"><span data-stu-id="1d2ec-160"><a name="introduction"></a>Introduction</span></span>
<span data-ttu-id="1d2ec-161">Ez az útmutató bemutatja, hogyan használja a szolgáltatások, például az Azure Storage Analytics, a bejelentkezés az Azure Storage ügyféloldali kódtárat, és más külső eszközök azonosításához, diagnosztizálása és elhárítása az Azure Storage ügyféloldali kapcsolatos hiba lépett fel.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-161">This guide shows you how to use features such as Azure Storage Analytics, client-side logging in the Azure Storage Client Library, and other third-party tools to identify, diagnose, and troubleshoot Azure Storage related issues.</span></span>

![][1]

<span data-ttu-id="1d2ec-162">Ez az útmutató elsősorban az online szolgáltatások, Azure Storage szolgáltatásainak és az informatikai szakemberek felelős, ilyen online szolgáltatások kezelésére szolgáló használó fejlesztők által olvasandó készült.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-162">This guide is intended to be read primarily by developers of online services that use Azure Storage Services and IT Pros responsible for managing such online services.</span></span> <span data-ttu-id="1d2ec-163">Ez az útmutató a céljai a következők:</span><span class="sxs-lookup"><span data-stu-id="1d2ec-163">The goals of this guide are:</span></span>

* <span data-ttu-id="1d2ec-164">Segíti a állapotának és teljesítményének az Azure Storage-fiókokat.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-164">To help you maintain the health and performance of your Azure Storage accounts.</span></span>
* <span data-ttu-id="1d2ec-165">Biztosítja, hogy a szükséges eljárások és eszközök segítségével eldöntheti, hogy ha egy hiba vagy probléma merült fel a kérelmet az Azure Storage vonatkozik.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-165">To provide you with the necessary processes and tools to help you decide if an issue or problem in an application relates to Azure Storage.</span></span>
* <span data-ttu-id="1d2ec-166">Biztosítja, hogy végrehajthatóként útmutatással Azure tárolással kapcsolatos problémák megoldása érdekében.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-166">To provide you with actionable guidance for resolving problems related to Azure Storage.</span></span>

### <span data-ttu-id="1d2ec-167"><a name="how-this-guide-is-organized"></a>Hogyan szerveződik, ez az útmutató</span><span class="sxs-lookup"><span data-stu-id="1d2ec-167"><a name="how-this-guide-is-organized"></a>How this guide is organized</span></span>
<span data-ttu-id="1d2ec-168">A szakasz "[a tárolás szolgáltatás figyelése]" állapotának és az Azure Storage szolgáltatások, Azure Storage Analytics Metrics (Storage Metrics) használatával teljesítményének figyelése.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-168">The section "[Monitoring your storage service]" describes how to monitor the health and performance of your Azure Storage services using Azure Storage Analytics Metrics (Storage Metrics).</span></span>

<span data-ttu-id="1d2ec-169">A szakasz "[tárolási problémák diagnosztizálása]" Azure Storage Analytics-naplózás használata (tárhely-naplózás) eseményadatokat ismerteti.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-169">The section "[Diagnosing storage issues]" describes how to diagnose issues using Azure Storage Analytics Logging (Storage Logging).</span></span> <span data-ttu-id="1d2ec-170">Emellett bemutatja, hogyan lehet a klienskódtárak segítségével egyikében létesítményekben az például a Storage ügyféloldali kódtára a .NET vagy az Azure SDK for Java ügyféloldali naplózás engedélyezéséhez.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-170">It also describes how to enable client-side logging using the facilities in one of the client libraries such as the Storage Client Library for .NET or the Azure SDK for Java.</span></span>

<span data-ttu-id="1d2ec-171">A szakasz "[végpont nyomkövetés]" ismerteti, hogyan hozhatók a különböző naplófájlokat és metrikai adatok tárolt adatokhoz.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-171">The section "[End-to-end tracing]" describes how you can correlate the information contained in various log files and metrics data.</span></span>

<span data-ttu-id="1d2ec-172">A szakasz "[hibaelhárítási útmutatás]" nyújt hibaelhárítási útmutatót, néhány tárolással kapcsolatos gyakoribb kapcsolatos probléma, akkor léphetnek fel.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-172">The section "[Troubleshooting guidance]" provides troubleshooting guidance for some of the common storage-related issues you might encounter.</span></span>

<span data-ttu-id="1d2ec-173">A "[mellékletek]" egyéb eszközzel, Wireshark vagy netmon eszközzel elemzése hálózati csomagadatok, a Fiddler a HTTP/HTTPS-üzenetek, elemzése és a Microsoft Message Analyzert használatával történik az adatok naplózása információkat tartalmaznak.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-173">The "[Appendices]" include information about using other tools such as Wireshark and Netmon for analyzing network packet data, Fiddler for analyzing HTTP/HTTPS messages, and Microsoft Message Analyzer for correlating log data.</span></span>

## <span data-ttu-id="1d2ec-174"><a name="monitoring-your-storage-service"></a>A storage szolgáltatás figyelése</span><span class="sxs-lookup"><span data-stu-id="1d2ec-174"><a name="monitoring-your-storage-service"></a>Monitoring your storage service</span></span>
<span data-ttu-id="1d2ec-175">Ha ismeri a Windows Teljesítményfigyelő, tulajdonképpen Storage Metrics, hogy a Windows Teljesítményfigyelő-számlálókból egy Azure Storage megfelelője.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-175">If you are familiar with Windows performance monitoring, you can think of Storage Metrics as being an Azure Storage equivalent of Windows Performance Monitor counters.</span></span> <span data-ttu-id="1d2ec-176">Storage Metrics található széles választékát metrikák (számlálók a Windows Teljesítményfigyelő terminológia) például a szolgáltatás rendelkezésre állása, a szolgáltatási kérelmek teljes száma, vagy a szolgáltatáshoz tartozó sikeres kérelmek aránya.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-176">In Storage Metrics you will find a comprehensive set of metrics (counters in Windows Performance Monitor terminology) such as service availability, total number of requests to service, or percentage of successful requests to service.</span></span> <span data-ttu-id="1d2ec-177">Az elérhető mérőszámok teljes listáját lásd: [Storage Analytics metrikák táblaséma](http://msdn.microsoft.com/library/azure/hh343264.aspx).</span><span class="sxs-lookup"><span data-stu-id="1d2ec-177">For a full list of the available metrics, see [Storage Analytics Metrics Table Schema](http://msdn.microsoft.com/library/azure/hh343264.aspx).</span></span> <span data-ttu-id="1d2ec-178">Megadhatja, hogy kívánja-e a tárolás szolgáltatás begyűjtése és összesítése metrikák minden órában vagy percben.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-178">You can specify whether you want the storage service to collect and aggregate metrics every hour or every minute.</span></span> <span data-ttu-id="1d2ec-179">Engedélyezheti őket, és figyelheti a storage-fiókok kapcsolatos további információkért lásd: [storage mérőszámainak engedélyezése és megtekintése a metrikai adatok](http://go.microsoft.com/fwlink/?LinkId=510865).</span><span class="sxs-lookup"><span data-stu-id="1d2ec-179">For more information about how to enable metrics and monitor your storage accounts, see [Enabling storage metrics and viewing metrics data](http://go.microsoft.com/fwlink/?LinkId=510865).</span></span>

<span data-ttu-id="1d2ec-180">Választhat, hogy mely óránkénti meg szeretne jeleníteni a metrikák a [Azure-portálon](https://portal.azure.com) és értesíthetők a rendszergazdák e-mailben, amikor egy óránkénti mérőszám eléri az adott szabályok konfigurálása.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-180">You can choose which hourly metrics you want to display in the [Azure portal](https://portal.azure.com) and configure rules that notify administrators by email whenever an hourly metric exceeds a particular threshold.</span></span> <span data-ttu-id="1d2ec-181">További információkért lásd: [riasztási értesítéseket kapni](/azure/monitoring-and-diagnostics/monitoring-overview-alerts.md).</span><span class="sxs-lookup"><span data-stu-id="1d2ec-181">For more information, see [Receive Alert Notifications](/azure/monitoring-and-diagnostics/monitoring-overview-alerts.md).</span></span> 

<span data-ttu-id="1d2ec-182">A tároló szolgáltatás segítségével a lehető legkedvezőbb metrikákat gyűjtő, de nem rögzíthet minden tárolási műveletet.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-182">The storage service collects metrics using a best effort, but may not record every storage operation.</span></span>

<span data-ttu-id="1d2ec-183">Az Azure portálon például a rendelkezésre állási, kérelmek teljes száma és a tárfiókon átlagos várakozási számok metrikák tekintheti meg.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-183">In the Azure portal, you can view metrics such as availability, total requests, and average latency numbers for a storage account.</span></span> <span data-ttu-id="1d2ec-184">Egy értesítési szabályt is beállítva a rendszergazda riasztást küld, ha rendelkezésre állási bizonyos szintű alá süllyed.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-184">A notification rule has also been set up to alert an administrator if availability drops below a certain level.</span></span> <span data-ttu-id="1d2ec-185">Megtekinteni az adatokat, hogy meg lehessen vizsgálni egy lehetséges terület a table szolgáltatás sikeres arány nem érik el a 100 %-os (további információkért tekintse meg a szakasz "[metrika alacsony PercentSuccess vagy analytics naplóbejegyzések rendelkezik ClientOtherErrors működésére állapotú tranzakció]").</span><span class="sxs-lookup"><span data-stu-id="1d2ec-185">From viewing this data, one possible area for investigation is the table service success percentage being below 100% (for more information, see the section "[Metrics show low PercentSuccess or analytics log entries have operations with transaction status of ClientOtherErrors]").</span></span>

<span data-ttu-id="1d2ec-186">Az Azure-alkalmazások, azok kifogástalan és teljesítő által várt folyamatosan figyelje:</span><span class="sxs-lookup"><span data-stu-id="1d2ec-186">You should continuously monitor your Azure applications to ensure they are healthy and performing as expected by:</span></span>

* <span data-ttu-id="1d2ec-187">Néhány alkalmazást, amely lehetővé teszi a baseline metrikáját létrehozó összehasonlíthatja az aktuális adatok, és az Azure storage és az alkalmazás viselkedését jelentős módosításai azonosítása.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-187">Establishing some baseline metrics for application that will enable you to compare current data and identify any significant changes in the behavior of Azure storage and your application.</span></span> <span data-ttu-id="1d2ec-188">Az alapkonfiguráció mérőszámok értékeit, sok esetben adott alkalmazást, és ki kell alakítania őket, amikor az alkalmazás teljesítménytesztelési.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-188">The values of your baseline metrics will, in many cases, be application specific and you should establish them when you are performance testing your application.</span></span>
* <span data-ttu-id="1d2ec-189">Percenkénti metrikákat rögzítése, és használja azokat aktívan figyelésére váratlan hibák és rendellenességek észlelését, például a teljesítményt a hiba száma, vagy kérje meg díjszabás.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-189">Recording minute metrics and using them to monitor actively for unexpected errors and anomalies such as spikes in error counts or request rates.</span></span>
* <span data-ttu-id="1d2ec-190">Óránkénti metrikák rögzítése segítségével figyelheti, mint átlagos értékek átlagos hiba száma és igényléséhez díjszabás.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-190">Recording hourly metrics and using them to monitor average values such as average error counts and request rates.</span></span>
* <span data-ttu-id="1d2ec-191">Diagnosztikai eszközök használatával később a szakaszban bemutatott lehetséges problémákat vizsgálja "[tárolási problémák diagnosztizálása]."</span><span class="sxs-lookup"><span data-stu-id="1d2ec-191">Investigating potential issues using diagnostics tools as discussed later in the section "[Diagnosing storage issues]."</span></span>

<span data-ttu-id="1d2ec-192">Az alábbi ábrán a diagramok bemutatják, hogyan átlagolási óránkénti metrikáihoz előforduló elrejthetők igényeiben jelentkező tevékenységben.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-192">The charts in the following image illustrate how the averaging that occurs for hourly metrics can hide spikes in activity.</span></span> <span data-ttu-id="1d2ec-193">Az óránkénti metrikák jelennek meg kérelmek, állandó száma a metrikák azt mutatják történnek valóban ingadozásokat perc során.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-193">The hourly metrics appear to show a steady rate of requests, while the minute metrics reveal the fluctuations that are really taking place.</span></span>

![][3]

<span data-ttu-id="1d2ec-194">Ez a szakasz többi ismerteti, milyen, célszerű figyelemmel kísérni metrikák és okát.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-194">The remainder of this section describes what metrics you should monitor and why.</span></span>

### <span data-ttu-id="1d2ec-195"><a name="monitoring-service-health"></a>Figyelési szolgáltatásának állapota</span><span class="sxs-lookup"><span data-stu-id="1d2ec-195"><a name="monitoring-service-health"></a>Monitoring service health</span></span>
<span data-ttu-id="1d2ec-196">Használhatja a [Azure-portálon](https://portal.azure.com) a tároló szolgáltatás (és más Azure-szolgáltatások) állapotának megtekintéséhez a világ minden Azure régióban.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-196">You can use the [Azure portal](https://portal.azure.com) to view the health of the Storage service (and other Azure services) in all the Azure regions around the world.</span></span> <span data-ttu-id="1d2ec-197">Ez lehetővé teszi, hogy azonnal láthatja, ha a vezérlőn kívül problémát érinti a társzolgáltatás használhatja az alkalmazás a régióban.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-197">This enables you to see immediately if an issue outside of your control is affecting the Storage service in the region you use for your application.</span></span>

<span data-ttu-id="1d2ec-198">A [Azure-portálon](https://portal.azure.com) is biztosít a különböző Azure-szolgáltatások érintő incidensek értesítések.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-198">The [Azure portal](https://portal.azure.com) can also provide notifications of incidents that affect the various Azure services.</span></span>
<span data-ttu-id="1d2ec-199">Megjegyzés: Ez az információ korábban rendelkezésre állt, jelszavat és az előzmények, a a [Azure szolgáltatás irányítópultját](http://status.azure.com).</span><span class="sxs-lookup"><span data-stu-id="1d2ec-199">Note: This information was previously available, along with historical data, on the [Azure Service Dashboard](http://status.azure.com).</span></span>

<span data-ttu-id="1d2ec-200">Amíg a [Azure-portálon](https://portal.azure.com) egészségügyi adatokat gyűjt a (belső kibővített figyelés), az Azure adatközpontjaiban belül is érdemes lehet egy kívül a módszert, amelyet rendszeres időközönként érni az Azure által üzemeltetett webalkalmazás több helyről szintetikus tranzakciók létrehozására bevezetése.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-200">While the [Azure portal](https://portal.azure.com) collects health information from inside the Azure datacenters (inside-out monitoring), you could also consider adopting an outside-in approach to generate synthetic transactions that periodically access your Azure-hosted web application from multiple locations.</span></span> <span data-ttu-id="1d2ec-201">A szolgáltatás által kínált [Dynatrace](http://www.dynatrace.com/en/synthetic-monitoring) és az Application Insights for Visual Studio Team Services példák a külső hátránya.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-201">The services offered by [Dynatrace](http://www.dynatrace.com/en/synthetic-monitoring) and Application Insights for Visual Studio Team Services are examples of this outside-in approach.</span></span> <span data-ttu-id="1d2ec-202">A Visual Studio Team Services Application insights szolgáltatással kapcsolatos további információkért lásd: a függelék: "[5 függelék: figyelés az Application Insights for Visual Studio Team Services](#appendix-5)."</span><span class="sxs-lookup"><span data-stu-id="1d2ec-202">For more information about Application Insights for Visual Studio Team Services, see the appendix "[Appendix 5: Monitoring with Application Insights for Visual Studio Team Services](#appendix-5)."</span></span>

### <span data-ttu-id="1d2ec-203"><a name="monitoring-capacity"></a>Kapacitásának figyelése</span><span class="sxs-lookup"><span data-stu-id="1d2ec-203"><a name="monitoring-capacity"></a>Monitoring capacity</span></span>
<span data-ttu-id="1d2ec-204">Storage mérőszámainak csak tárolja a teljesítmény-mérőszámait a blob szolgáltatás, mert a blobok általában fiók tárolt adatok legnagyobb részét (a írásának időpontjában, nincs lehetőség Storage Metrics a figyelheti a táblák és a várólisták).</span><span class="sxs-lookup"><span data-stu-id="1d2ec-204">Storage Metrics only stores capacity metrics for the blob service because blobs typically account for the largest proportion of stored data (at the time of writing, it is not possible to use Storage Metrics to monitor the capacity of your tables and queues).</span></span> <span data-ttu-id="1d2ec-205">Ezeket az adatokat a megtalálhatja a **$MetricsCapacityBlob** tábla, ha engedélyezte a Blob szolgáltatás figyelését.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-205">You can find this data in the **$MetricsCapacityBlob** table if you have enabled monitoring for the Blob service.</span></span> <span data-ttu-id="1d2ec-206">Storage mérőszámainak rögzíti az adatokat naponta egyszer, és használhatja a értékének a **RowKey** annak meghatározásához, hogy a sor tartalmaz-e olyan entitás, amely kapcsolódik a felhasználói adatok (érték **adatok**) vagy analitikai adatok (érték **analytics**).</span><span class="sxs-lookup"><span data-stu-id="1d2ec-206">Storage Metrics records this data once per day, and you can use the value of the **RowKey** to determine whether the row contains an entity that relates to user data (value **data**) or analytics data (value **analytics**).</span></span> <span data-ttu-id="1d2ec-207">Minden tárolt entitás tárolókapacitást használt információkat tartalmaz (**kapacitás** bájtban mért) és a tárolók száma (**ContainerCount**) és a blobok (**ObjectCount**) a tárfiókot használja.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-207">Each stored entity contains information about the amount of storage used (**Capacity** measured in bytes) and the current number of containers (**ContainerCount**) and blobs (**ObjectCount**) in use in the storage account.</span></span> <span data-ttu-id="1d2ec-208">További információ a kapacitási mérőszámokat tárolja a **$MetricsCapacityBlob** táblázatban, lásd: [Storage Analytics metrikák táblaséma](http://msdn.microsoft.com/library/azure/hh343264.aspx).</span><span class="sxs-lookup"><span data-stu-id="1d2ec-208">For more information about the capacity metrics stored in the **$MetricsCapacityBlob** table, see [Storage Analytics Metrics Table Schema](http://msdn.microsoft.com/library/azure/hh343264.aspx).</span></span>

> [!NOTE]
> <span data-ttu-id="1d2ec-209">Ezeket az értékeket, hogy a tárfiók kapacitás határain hamarosan eléri a korai figyelmeztetéseket, célszerű figyelemmel kísérni.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-209">You should monitor these values for an early warning that you are approaching the capacity limits of your storage account.</span></span> <span data-ttu-id="1d2ec-210">Az Azure-portálon adhat hozzá a riasztási szabályok, amelyek értesítést küldenek, ha az összesített tárolóhely-használat meghaladja, vagy a megadott küszöbérték alá esik.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-210">In the Azure portal, you can add alert rules to notify you if aggregate storage use exceeds or falls below thresholds that you specify.</span></span>
> 
> 

<span data-ttu-id="1d2ec-211">A bináris objektumok, például különféle tárolási objektumok méretének becslése talál segítséget a következő blogbejegyzésben található [az Azure Storage számlázási – sávszélesség, a tranzakciók és a kapacitás](http://blogs.msdn.com/b/windowsazurestorage/archive/2010/07/09/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity.aspx).</span><span class="sxs-lookup"><span data-stu-id="1d2ec-211">For help estimating the size of various storage objects such as blobs, see the blog post [Understanding Azure Storage Billing – Bandwidth, Transactions, and Capacity](http://blogs.msdn.com/b/windowsazurestorage/archive/2010/07/09/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity.aspx).</span></span>

### <span data-ttu-id="1d2ec-212"><a name="monitoring-availability"></a>Rendelkezésre állás figyelése</span><span class="sxs-lookup"><span data-stu-id="1d2ec-212"><a name="monitoring-availability"></a>Monitoring availability</span></span>
<span data-ttu-id="1d2ec-213">Figyelje a tárolási szolgáltatások rendelkezésre állását a tárfiókban lévő által az érték a **rendelkezésre állási** az óránként vagy percenkénti metrikákat táblázatok oszlopát – **$MetricsHourPrimaryTransactionsBlob**, **$MetricsHourPrimaryTransactionsTable**, **$MetricsHourPrimaryTransactionsQueue**, **$MetricsMinutePrimaryTransactionsBlob**, **$MetricsMinutePrimaryTransactionsTable**, **$MetricsMinutePrimaryTransactionsQueue**, **$MetricsCapacityBlob**.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-213">You should monitor the availability of the storage services in your storage account by monitoring the value in the **Availability** column in the hourly or minute metrics tables — **$MetricsHourPrimaryTransactionsBlob**, **$MetricsHourPrimaryTransactionsTable**, **$MetricsHourPrimaryTransactionsQueue**, **$MetricsMinutePrimaryTransactionsBlob**, **$MetricsMinutePrimaryTransactionsTable**, **$MetricsMinutePrimaryTransactionsQueue**, **$MetricsCapacityBlob**.</span></span> <span data-ttu-id="1d2ec-214">A **rendelkezésre állási** oszlop egy százalékos értéket tartalmaz, amely a szolgáltatás vagy az API-művelet a sor által képviselt rendelkezésre állását mutatja (a **RowKey** jeleníti meg, ha a sor tartalmaz-e a szolgáltatás egészére vagy egy adott API-művelet metrikák).</span><span class="sxs-lookup"><span data-stu-id="1d2ec-214">The **Availability** column contains a percentage value that indicates the availability of the service or the API operation represented by the row (the **RowKey** shows if the row contains metrics for the service as a whole or for a specific API operation).</span></span>

<span data-ttu-id="1d2ec-215">Bármely érték, amely kisebb, mint 100 %-os azt jelzi, hogy bizonyos tárolási kérelmeket nem működnek.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-215">Any value less than 100% indicates that some storage requests are failing.</span></span> <span data-ttu-id="1d2ec-216">Láthatja, hogy miért ezek nem működnek a metrikák adatok, amelyek különböző hiba típusú kérések számát, mint a többi oszlop megvizsgálásával **ServerTimeoutError**.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-216">You can see why they are failing by examining the other columns in the metrics data that show the numbers of requests with different error types such as **ServerTimeoutError**.</span></span> <span data-ttu-id="1d2ec-217">Lásd: várható **rendelkezésre állási** ősszel ideiglenesen 100 % okokból közben a szolgáltatás átmeneti server időtúllépések alatt áthelyezése partíciók jobb terheléselosztásához kérelem; az ügyfélalkalmazás az újrapróbálkozási logika kezelnie kell az ilyen időszakos feltételek.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-217">You should expect to see **Availability** fall temporarily below 100% for reasons such as transient server timeouts while the service moves partitions to better load-balance request; the retry logic in your client application should handle such intermittent conditions.</span></span> <span data-ttu-id="1d2ec-218">A cikk [Storage Analytics naplózott műveletekkel és az állapotüzenetek](http://msdn.microsoft.com/library/azure/hh343260.aspx) Storage Metrics tartalmaz a tranzakció-típusok listája a **rendelkezésre állási** számítási.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-218">The article [Storage Analytics Logged Operations and Status Messages](http://msdn.microsoft.com/library/azure/hh343260.aspx) lists the transaction types that Storage Metrics includes in its **Availability** calculation.</span></span>

<span data-ttu-id="1d2ec-219">A a [Azure-portálon](https://portal.azure.com), amelyek értesítést küldenek, ha a riasztási szabályok is hozzáadhat **rendelkezésre állási** a szolgáltatás a megadott küszöbérték alá esik.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-219">In the [Azure portal](https://portal.azure.com), you can add alert rules to notify you if **Availability** for a service falls below a threshold that you specify.</span></span>

<span data-ttu-id="1d2ec-220">A "[hibaelhárítási útmutatás]" című szakaszában talál néhány gyakori tárolási szolgáltatás problémákat elérhetőségének ismerteti.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-220">The "[Troubleshooting guidance]" section of this guide describes some common storage service issues related to availability.</span></span>

### <span data-ttu-id="1d2ec-221"><a name="monitoring-performance"></a>A teljesítmény figyelése</span><span class="sxs-lookup"><span data-stu-id="1d2ec-221"><a name="monitoring-performance"></a>Monitoring performance</span></span>
<span data-ttu-id="1d2ec-222">A tárolási szolgáltatások teljesítményének figyeléséhez az óránkénti és percenkénti metrikákat tábla a következő mérőszámokat is használhat.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-222">To monitor the performance of the storage services, you can use the following metrics from the hourly and minute metrics tables.</span></span>

* <span data-ttu-id="1d2ec-223">Az értékek a **AverageE2ELatency** és **AverageServerLatency** oszlopaiban végrehajtásához szükséges átlagos idő a társzolgáltatás vagy API művelet típusa tart kérelmek feldolgozásához.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-223">The values in the **AverageE2ELatency** and **AverageServerLatency** columns show the average time the storage service or API operation type is taking to process requests.</span></span> <span data-ttu-id="1d2ec-224">**AverageE2ELatency** azt méri, végpontok közötti késés, amely tartalmazza az olvasni a kérelmet, és a kérelem feldolgozásához szükséges idő mellett küldés szükséges idő (ezért tartalmazza a hálózati késés, ha a kérelem eléri a társzolgáltatás); **AverageServerLatency** biztosítása csak a feldolgozási idő, és ezért nem tartalmazza az összes hálózati késés kommunikál az ügyféllel kapcsolatos.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-224">**AverageE2ELatency** is a measure of end-to-end latency that includes the time taken to read the request and send the response in addition to the time taken to process the request (therefore includes network latency once the request reaches the storage service); **AverageServerLatency** is a measure of just the processing time and therefore excludes any network latency related to communicating with the client.</span></span> <span data-ttu-id="1d2ec-225">Című témakör "[metrika AverageE2ELatency magas és alacsony AverageServerLatency]" az útmutató információt a miért lehet jelentős különbség a két érték között.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-225">See the section "[Metrics show high AverageE2ELatency and low AverageServerLatency]" later in this guide for a discussion of why there might be a significant difference between these two values.</span></span>
* <span data-ttu-id="1d2ec-226">Az értékek a **TotalIngress** és **TotalEgress** oszlopok megjelenítése a teljes adatmennyiség bájtban érkező, és ezzel kívül a társzolgáltatás vagy a megadott API-művelet típusra.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-226">The values in the **TotalIngress** and **TotalEgress** columns show the total amount of data, in bytes, coming in to and going out of your storage service or through a specific API operation type.</span></span>
* <span data-ttu-id="1d2ec-227">Az értékek a **TotalRequests** oszlop megjelenítése a társzolgáltatás API művelet fogadó kérelmek teljes száma.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-227">The values in the **TotalRequests** column show the total number of requests that the storage service of API operation is receiving.</span></span> <span data-ttu-id="1d2ec-228">**TotalRequests** , amely megkapja a társzolgáltatás kérelmek teljes száma.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-228">**TotalRequests** is the total number of requests that the storage service receives.</span></span>

<span data-ttu-id="1d2ec-229">Általában fogja figyelni a ezek bármelyike váratlan változásokat, azt jelzi, hogy rendelkezik-e a hibát, amely vizsgálatot igényel.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-229">Typically, you will monitor for unexpected changes in any of these values as an indicator that you have an issue that requires investigation.</span></span>

<span data-ttu-id="1d2ec-230">Az a [Azure-portálon](https://portal.azure.com), amelyek értesítést küldenek, ha bármelyik ezt a szolgáltatást a metrikák alá esnek, vagy meghaladnia a küszöbértéket, melyet a riasztási szabályok is hozzáadhat.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-230">In the [Azure portal](https://portal.azure.com), you can add alert rules to notify you if any of the performance metrics for this service fall below or exceed a threshold that you specify.</span></span>

<span data-ttu-id="1d2ec-231">A "[hibaelhárítási útmutatás]" című szakaszában talál néhány gyakori tárolási szolgáltatás problémákat a teljesítménnyel kapcsolatos ismerteti.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-231">The "[Troubleshooting guidance]" section of this guide describes some common storage service issues related to performance.</span></span>

## <span data-ttu-id="1d2ec-232"><a name="diagnosing-storage-issues"></a>Tárolási problémák diagnosztizálása</span><span class="sxs-lookup"><span data-stu-id="1d2ec-232"><a name="diagnosing-storage-issues"></a>Diagnosing storage issues</span></span>
<span data-ttu-id="1d2ec-233">Számos módon, hogy előfordulhat, hogy tudomást hiba vagy probléma a alkalmazás is van, ezek közé tartoznak:</span><span class="sxs-lookup"><span data-stu-id="1d2ec-233">There are a number of ways that you might become aware of a problem or issue in your application, these include:</span></span>

* <span data-ttu-id="1d2ec-234">Súlyos hiba, amely az alkalmazás összeomlik vagy nem működik.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-234">A major failure that causes the application to crash or to stop working.</span></span>
* <span data-ttu-id="1d2ec-235">Az eredeti értékeket az előző szakaszban leírtak szerint figyeli a metrikák a jelentős változtatások "[a tárolás szolgáltatás figyelése]."</span><span class="sxs-lookup"><span data-stu-id="1d2ec-235">Significant changes from baseline values in the metrics you are monitoring as described in the previous section "[Monitoring your storage service]."</span></span>
* <span data-ttu-id="1d2ec-236">A felhasználók az alkalmazás, amely egy adott művelet nem fejeződött be, várt módon jelentések vagy, hogy néhány szolgáltatás nem működik.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-236">Reports from users of your application that some particular operation didn't complete as expected or that some feature is not working.</span></span>
* <span data-ttu-id="1d2ec-237">Hibák keletkeztek az alkalmazáson belül, amely jelennek meg a naplófájlokban vagy néhány egyéb értesítési metódussal.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-237">Errors generated within your application that appear in log files or through some other notification method.</span></span>

<span data-ttu-id="1d2ec-238">Általában az Azure storage szolgáltatások kapcsolatos problémák egyikébe négy kategóriába sorolhatók:</span><span class="sxs-lookup"><span data-stu-id="1d2ec-238">Typically, issues related to Azure storage services fall into one of four broad categories:</span></span>

* <span data-ttu-id="1d2ec-239">Az alkalmazásnak a teljesítménybeli problémát, vagy a felhasználók által jelentett, vagy a metrikák változása látható.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-239">Your application has a performance issue, either reported by your users, or revealed by changes in the performance metrics.</span></span>
* <span data-ttu-id="1d2ec-240">A probléma az Azure Storage-infrastruktúra egy vagy több régióban van.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-240">There is a problem with the Azure Storage infrastructure in one or more regions.</span></span>
* <span data-ttu-id="1d2ec-241">Az alkalmazás hibás, vagy a felhasználók által jelentett, vagy a figyelheti hiba száma metrikák egyik növekedése által feltárt léptek fel.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-241">Your application is encountering an error, either reported by your users, or revealed by an increase in one of the error count metrics you monitor.</span></span>
* <span data-ttu-id="1d2ec-242">Fejlesztési és tesztelési során előfordulhat, hogy használni a helyi storage emulator; a storage emulator használata kapcsolódik néhány problémák merülhetnek fel.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-242">During development and test, you may be using the local storage emulator; you may encounter some issues that relate specifically to usage of the storage emulator.</span></span>

<span data-ttu-id="1d2ec-243">Az alábbi szakaszok felsorolják a követendő lépések diagnosztizálásához és hibaelhárításához minden ilyen négy kapcsolatos hibákat.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-243">The following sections outline the steps you should follow to diagnose and troubleshoot issues in each of these four categories.</span></span> <span data-ttu-id="1d2ec-244">A szakasz "[hibaelhárítási útmutatás]" Ez az útmutató későbbi részletgazdagabb a gyakori problémákat tapasztalhat.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-244">The section "[Troubleshooting guidance]" later in this guide provides more detail for some common issues you may encounter.</span></span>

### <span data-ttu-id="1d2ec-245"><a name="service-health-issues"></a>Szolgáltatás ügynökállapottal kapcsolatos hibákkal</span><span class="sxs-lookup"><span data-stu-id="1d2ec-245"><a name="service-health-issues"></a>Service health issues</span></span>
<span data-ttu-id="1d2ec-246">Szolgáltatás állapotával kapcsolatos problémák jellemzően a vezérlőn kívül.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-246">Service health issues are typically outside of your control.</span></span> <span data-ttu-id="1d2ec-247">A [Azure-portálon](https://portal.azure.com) Azure szolgáltatásokkal, beleértve a tárolási szolgáltatások folyamatos problémákkal kapcsolatos információkat biztosít.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-247">The [Azure portal](https://portal.azure.com) provides information about any ongoing issues with Azure services including storage services.</span></span> <span data-ttu-id="1d2ec-248">Választotta írásvédett Georedundáns tárolás a tárfiók létrehozása után, ha az elsődleges helyen nem érhető el az adatok esetén az alkalmazás sikerült váltson ideiglenesen az írásvédett másolatát a másodlagos helyen.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-248">If you opted for Read-Access Geo-Redundant Storage when you created your storage account, then in the event of your data being unavailable in the primary location, your application could switch temporarily to the read-only copy in the secondary location.</span></span> <span data-ttu-id="1d2ec-249">Ehhez az szükséges, az alkalmazás kell váltani az elsődleges és másodlagos tárolóhelyek használata között, és lehet csak olvasható adatok a csökkentett módban való működésre.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-249">To do this, your application must be able to switch between using the primary and secondary storage locations, and be able to work in a reduced functionality mode with read-only data.</span></span> <span data-ttu-id="1d2ec-250">Az Azure Storage ügyfélkódtáraival engedélyezi annak meghatározását, amely is olvasható másodlagos tárterületre abban az esetben, ha egy elsődleges tárolási való olvasás sikertelen újrapróbálkozási házirendje.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-250">The Azure Storage Client libraries allow you to define a retry policy that can read from secondary storage in case a read from primary storage fails.</span></span> <span data-ttu-id="1d2ec-251">Az alkalmazás is ismernie kell, hogy idővel konzisztenssé a másodlagos hely adatai.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-251">Your application also needs to be aware that the data in the secondary location is eventually consistent.</span></span> <span data-ttu-id="1d2ec-252">További információkért lásd a következő blogbejegyzésben [Azure tárolási redundancia lehetőségek és az írásvédett Georedundáns redundáns tárolás](https://blogs.msdn.microsoft.com/windowsazurestorage/2013/12/11/windows-azure-storage-redundancy-options-and-read-access-geo-redundant-storage/).</span><span class="sxs-lookup"><span data-stu-id="1d2ec-252">For more information, see the blog post [Azure Storage Redundancy Options and Read Access Geo Redundant Storage](https://blogs.msdn.microsoft.com/windowsazurestorage/2013/12/11/windows-azure-storage-redundancy-options-and-read-access-geo-redundant-storage/).</span></span>

### <span data-ttu-id="1d2ec-253"><a name="performance-issues"></a>Teljesítménnyel kapcsolatos problémák</span><span class="sxs-lookup"><span data-stu-id="1d2ec-253"><a name="performance-issues"></a>Performance issues</span></span>
<span data-ttu-id="1d2ec-254">Egy alkalmazás teljesítményének megítélése szubjektív lehet, főképp a felhasználó szemszögéből.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-254">The performance of an application can be subjective, especially from a user perspective.</span></span> <span data-ttu-id="1d2ec-255">Ezért fontos, hogy rendelkezzen olyan alapmértékekkel, amelyek segíthetnek a teljesítménnyel kapcsolatos problémák azonosításában.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-255">Therefore, it is important to have baseline metrics available to help you identify where there might be a performance issue.</span></span> <span data-ttu-id="1d2ec-256">Számos tényező befolyásolhatja egy Azure storage szolgáltatás alkalmazás ügyfelek szemszögéből teljesítményére.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-256">Many factors might affect the performance of an Azure storage service from the client application perspective.</span></span> <span data-ttu-id="1d2ec-257">Ezek a tényezők a társzolgáltatás, az ügyfél vagy a hálózati infrastruktúra; előfordulhat, hogy működik. Ezért fontos egy olyan stratégia, azonosítsa a felhasználót a teljesítménycsökkenés oka forrása.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-257">These factors might operate in the storage service, in the client, or in the network infrastructure; therefore it is important to have a strategy for identifying the origin of the performance issue.</span></span>

<span data-ttu-id="1d2ec-258">Miután azonosította a teljesítménycsökkenés oka a metrikák a oka valószínűleg helyét, majd használhatja a naplófájlok diagnosztizálásához és a probléma további hibaelhárításához kapcsolatos részletes információk.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-258">After you have identified the likely location of the cause of the performance issue from the metrics, you can then use the log files to find detailed information to diagnose and troubleshoot the problem further.</span></span>

<span data-ttu-id="1d2ec-259">A szakasz "[hibaelhárítási útmutatás]" kapcsolatos néhány általános teljesítmény kapcsolatban, hogy ez az útmutató későbbi biztosít találkozhat.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-259">The section "[Troubleshooting guidance]" later in this guide provides more information about some common performance related issues you may encounter.</span></span>

### <span data-ttu-id="1d2ec-260"><a name="diagnosing-errors"></a>Hibák diagnosztizálása</span><span class="sxs-lookup"><span data-stu-id="1d2ec-260"><a name="diagnosing-errors"></a>Diagnosing errors</span></span>
<span data-ttu-id="1d2ec-261">Az alkalmazás felhasználók is értesíti az ügyfélalkalmazás által jelentett hibákat.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-261">Users of your application may notify you of errors reported by the client application.</span></span> <span data-ttu-id="1d2ec-262">Storage mérőszámainak rögzíti számát a tárolási szolgáltatások különböző típusok is, mint **NetworkError**, **ClientTimeoutError**, vagy **AuthorizationError**.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-262">Storage Metrics also records counts of different error types from your storage services such as **NetworkError**, **ClientTimeoutError**, or **AuthorizationError**.</span></span> <span data-ttu-id="1d2ec-263">Storage Metrics csak számát is különböző típusok rögzíti, miközben szerezhet be további részletes információkat az egyes kérelmek kiszolgálóoldali, az ügyféloldali és hálózati naplók megvizsgálásával.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-263">While Storage Metrics only records counts of different error types, you can obtain more detail about individual requests by examining server-side, client-side, and network logs.</span></span> <span data-ttu-id="1d2ec-264">A tároló szolgáltatás által visszaadott HTTP-állapotkód rendszerében általában arra utal, hogy a kérelem sikertelenségének okát.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-264">Typically, the HTTP status code returned by the storage service will give an indication of why the request failed.</span></span>

> [!NOTE]
> <span data-ttu-id="1d2ec-265">Ne feledje, hogy Ön látnia néhány átmeneti hiba: például átmeneti hálózati körülmények miatti hibák, vagy az alkalmazáshibák.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-265">Remember that you should expect to see some intermittent errors: for example, errors due to transient network conditions, or application errors.</span></span>
> 
> 

<span data-ttu-id="1d2ec-266">A következő erőforrások hasznosak tárolással kapcsolatos állapotának és kódjainak:</span><span class="sxs-lookup"><span data-stu-id="1d2ec-266">The following resources are useful for understanding storage-related status and error codes:</span></span>

* [<span data-ttu-id="1d2ec-267">Közös REST API hibakódok</span><span class="sxs-lookup"><span data-stu-id="1d2ec-267">Common REST API Error Codes</span></span>](http://msdn.microsoft.com/library/azure/dd179357.aspx)
* [<span data-ttu-id="1d2ec-268">BLOB szolgáltatás hibakódok</span><span class="sxs-lookup"><span data-stu-id="1d2ec-268">Blob Service Error Codes</span></span>](http://msdn.microsoft.com/library/azure/dd179439.aspx)
* [<span data-ttu-id="1d2ec-269">Várólista hibakódjai</span><span class="sxs-lookup"><span data-stu-id="1d2ec-269">Queue Service Error Codes</span></span>](http://msdn.microsoft.com/library/azure/dd179446.aspx)
* [<span data-ttu-id="1d2ec-270">Tábla hibakódjai</span><span class="sxs-lookup"><span data-stu-id="1d2ec-270">Table Service Error Codes</span></span>](http://msdn.microsoft.com/library/azure/dd179438.aspx)
* [<span data-ttu-id="1d2ec-271">Fájl hibakódjai</span><span class="sxs-lookup"><span data-stu-id="1d2ec-271">File Service Error Codes</span></span>](https://msdn.microsoft.com/library/azure/dn690119.aspx)

### <span data-ttu-id="1d2ec-272"><a name="storage-emulator-issues"></a>Tárolási emulátor problémák</span><span class="sxs-lookup"><span data-stu-id="1d2ec-272"><a name="storage-emulator-issues"></a>Storage emulator issues</span></span>
<span data-ttu-id="1d2ec-273">Az Azure SDK magában foglalja a storage emulatort, egy fejlesztő munkaállomás futtathatja.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-273">The Azure SDK includes a storage emulator you can run on a development workstation.</span></span> <span data-ttu-id="1d2ec-274">Az emulátor szimulálja az Azure storage szolgáltatásainak viselkedését a legtöbb, és hasznos során fejlesztési és tesztelési, így lehetővé teszi a Azure-előfizetés és Azure storage-fiók nélkül az Azure storage-szolgáltatásokat használó alkalmazások futtatásához.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-274">This emulator simulates most of the behavior of the Azure storage services and is useful during development and test, enabling you to run applications that use Azure storage services without the need for an Azure subscription and an Azure storage account.</span></span>

<span data-ttu-id="1d2ec-275">A "[hibaelhárítási útmutatás]" című szakaszában talál néhány gyakori problémát észlelt a storage emulator használatával ismerteti.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-275">The "[Troubleshooting guidance]" section of this guide describes some common issues encountered using the storage emulator.</span></span>

### <span data-ttu-id="1d2ec-276"><a name="storage-logging-tools"></a>Tárolási naplózási eszközök</span><span class="sxs-lookup"><span data-stu-id="1d2ec-276"><a name="storage-logging-tools"></a>Storage logging tools</span></span>
<span data-ttu-id="1d2ec-277">Tároló-naplózás biztosítja a kiszolgálóoldali naplózása tárolási kérelmeket az Azure-tárfiókot.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-277">Storage Logging provides server-side logging of storage requests in your Azure storage account.</span></span> <span data-ttu-id="1d2ec-278">Kiszolgálóoldali naplózás engedélyezése és az adatok elérését az napló kapcsolatos további információkért lásd: [tárolási naplózás engedélyezése és használata naplóadatok](http://go.microsoft.com/fwlink/?LinkId=510867).</span><span class="sxs-lookup"><span data-stu-id="1d2ec-278">For more information about how to enable server-side logging and access the log data, see [Enabling Storage Logging and Accessing Log Data](http://go.microsoft.com/fwlink/?LinkId=510867).</span></span>

<span data-ttu-id="1d2ec-279">A Storage ügyféloldali kódtára a .NET ügyféloldali napló adatokat gyűjthet, amelyek az alkalmazás által végrehajtott tárolási műveletek vonatkozik teszi lehetővé.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-279">The Storage Client Library for .NET enables you to collect client-side log data that relates to storage operations performed by your application.</span></span> <span data-ttu-id="1d2ec-280">További információkért lásd: [ügyféloldali naplózás a .NET a Storage ügyféloldali kódtára](http://go.microsoft.com/fwlink/?LinkId=510868).</span><span class="sxs-lookup"><span data-stu-id="1d2ec-280">For more information, see [Client-side Logging with the .NET Storage Client Library](http://go.microsoft.com/fwlink/?LinkId=510868).</span></span>

> [!NOTE]
> <span data-ttu-id="1d2ec-281">Bizonyos esetekben (például a SAS-hitelesítési hibák) a felhasználó, amelynek nincs kérelem adatai az található a kiszolgálóoldali tárolási naplófájljai hiba előfordulhat, hogy jelentést.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-281">In some circumstances (such as SAS authorization failures), a user may report an error for which you can find no request data in the server-side Storage logs.</span></span> <span data-ttu-id="1d2ec-282">A naplózási képességeket a Storage ügyféloldali kódtár segítségével vizsgálja meg, ha a probléma oka az, az ügyfélen, vagy vizsgálja meg a hálózati Hálózatfigyelő eszközök segítségével.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-282">You can use the logging capabilities of the Storage Client Library to investigate if the cause of the issue is on the client or use network monitoring tools to investigate the network.</span></span>
> 
> 

### <span data-ttu-id="1d2ec-283"><a name="using-network-logging-tools"></a>Hálózati naplózási eszközök használatával</span><span class="sxs-lookup"><span data-stu-id="1d2ec-283"><a name="using-network-logging-tools"></a>Using network logging tools</span></span>
<span data-ttu-id="1d2ec-284">Részletes információkat szolgáltatnak az adatok ügyfélen és kiszolgálón cseréjét, és a mögöttes hálózati feltételek mellett az ügyfél és kiszolgáló közötti forgalmat is rögzítheti.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-284">You can capture the traffic between the client and server to provide detailed information about the data the client and server are exchanging and the underlying network conditions.</span></span> <span data-ttu-id="1d2ec-285">Hasznos hálózati naplózási eszközök a következők:</span><span class="sxs-lookup"><span data-stu-id="1d2ec-285">Useful network logging tools include:</span></span>

* <span data-ttu-id="1d2ec-286">[Fiddler](http://www.telerik.com/fiddler) egy szabad webalkalmazás-proxy, amely lehetővé teszi, hogy ellenőrizze a fejlécek és a HTTP és HTTPS kérés- és üzenetek adattartalom hibakeresés.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-286">[Fiddler](http://www.telerik.com/fiddler) is a free web debugging proxy that enables you to examine the headers and payload data of HTTP and HTTPS request and response messages.</span></span> <span data-ttu-id="1d2ec-287">További információkért lásd: [1. függelékében: Fiddler használatával a HTTP és HTTPS-forgalom rögzítésére](#appendix-1).</span><span class="sxs-lookup"><span data-stu-id="1d2ec-287">For more information, see [Appendix 1: Using Fiddler to capture HTTP and HTTPS traffic](#appendix-1).</span></span>
* <span data-ttu-id="1d2ec-288">[Microsoft Hálózatfigyelő (Netmon)](http://www.microsoft.com/download/details.aspx?id=4865) és [Wireshark](http://www.wireshark.org/) vannak szabad hálózati protokoll lekérdezések, amelyek lehetővé teszik a hálózati protokollok széles köre csomag részletes információk megtekintéséhez.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-288">[Microsoft Network Monitor (Netmon)](http://www.microsoft.com/download/details.aspx?id=4865) and [Wireshark](http://www.wireshark.org/) are free network protocol analyzers that enable you to view detailed packet information for a wide range of network protocols.</span></span> <span data-ttu-id="1d2ec-289">Wireshark kapcsolatos további információkért lásd: "[2. függelékben: Wireshark használó rögzítheti a hálózati forgalom](#appendix-2)".</span><span class="sxs-lookup"><span data-stu-id="1d2ec-289">For more information about Wireshark, see "[Appendix 2: Using Wireshark to capture network traffic](#appendix-2)".</span></span>
* <span data-ttu-id="1d2ec-290">Microsoft Message Analyzert egy olyan eszköz, a Microsoft írja felül a Netmon, és hogy a hálózati csomag adatrögzítés mellett, megtekintése és elemzése a naplóadatok rögzítése más eszközök segítségével.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-290">Microsoft Message Analyzer is a tool from Microsoft that supersedes Netmon and that in addition to capturing network packet data, helps you to view and analyze the log data captured from other tools.</span></span> <span data-ttu-id="1d2ec-291">További információkért lásd: "[függelék: 3: Microsoft Message Analyzert használó rögzítheti a hálózati forgalom](#appendix-3)".</span><span class="sxs-lookup"><span data-stu-id="1d2ec-291">For more information, see "[Appendix 3: Using Microsoft Message Analyzer to capture network traffic](#appendix-3)".</span></span>
* <span data-ttu-id="1d2ec-292">Ha azt szeretné, a hálózati kapcsolat ellenőrzéséhez ellenőrizze, hogy az ügyfélszámítógép csatlakozhat az Azure storage szolgáltatást a hálózaton keresztül, nem ehhez a szabványos **ping** eszköz az ügyfélen.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-292">If you want to perform a basic connectivity test to check that your client machine can connect to the Azure storage service over the network, you cannot do this using the standard **ping** tool on the client.</span></span> <span data-ttu-id="1d2ec-293">Azonban használhatja a [ **tcping** eszköz](http://www.elifulkerson.com/projects/tcping.php) kapcsolat ellenőrzése.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-293">However, you can use the [**tcping** tool](http://www.elifulkerson.com/projects/tcping.php) to check connectivity.</span></span>

<span data-ttu-id="1d2ec-294">Sok esetben a naplóadatait tárolási naplózás és a Storage ügyféloldali kódtár elegendőek a probléma diagnosztizálásához, de bizonyos helyzetekben szükség lehet a további tájékoztatáshoz, amely a hálózati naplózási eszközök nyújt.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-294">In many cases, the log data from Storage Logging and the Storage Client Library will be sufficient to diagnose an issue, but in some scenarios, you may need the more detailed information that these network logging tools can provide.</span></span> <span data-ttu-id="1d2ec-295">Például a HTTP és HTTPS üzenetek megtekintése a Fiddler segítségével lehetővé teszi fejlécének és adattartalmának bontása, és a tárolási szolgáltatások, amelyek lehetővé teszik, hogy vizsgálja meg, hogyan ügyfélalkalmazás újrapróbálja tárolási műveletek onnan küldött adatok megtekintéséhez.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-295">For example, using Fiddler to view HTTP and HTTPS messages enables you to view header and payload data sent to and from the storage services, which would enable you to examine how a client application retries storage operations.</span></span> <span data-ttu-id="1d2ec-296">Protokoll elemzőkkel Wireshark például a csomag szintjén teszi TCP-adatok, amelyek lehetővé teszik, hogy elveszett csomagok és a problémák elhárítása engedélyezése fog működni.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-296">Protocol analyzers such as Wireshark operate at the packet level enabling you to view TCP data, which would enable you to troubleshoot lost packets and connectivity issues.</span></span> <span data-ttu-id="1d2ec-297">Az Üzenetelemző HTTP és a TCP rétegek is működnek.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-297">Message Analyzer can operate at both HTTP and TCP layers.</span></span>

## <span data-ttu-id="1d2ec-298"><a name="end-to-end-tracing"></a>Végpont nyomkövetés</span><span class="sxs-lookup"><span data-stu-id="1d2ec-298"><a name="end-to-end-tracing"></a>End-to-end tracing</span></span>
<span data-ttu-id="1d2ec-299">Végpont nyomkövetési naplófájlok számos használatát egy olyan hasznos eljárás kapcsolatos lehetséges problémákat vizsgálja.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-299">End-to-end tracing using a variety of log files is a useful technique for investigating potential issues.</span></span> <span data-ttu-id="1d2ec-300">Is használhatja a dátum/idő adatokat a metrikák adatokból utalhat, hogy hol keressen a részletes információkat, amelyek segítenek a probléma megoldásához a rendszernapló fájljaiban.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-300">You can use the date/time information from your metrics data as an indication of where to start looking in the log files for the detailed information that will help you troubleshoot the issue.</span></span>

### <span data-ttu-id="1d2ec-301"><a name="correlating-log-data"></a>Naplóadatok válaszoknak az összekapcsolása</span><span class="sxs-lookup"><span data-stu-id="1d2ec-301"><a name="correlating-log-data"></a>Correlating log data</span></span>
<span data-ttu-id="1d2ec-302">Az ügyfélalkalmazásokból napló megtekintésekor hálózati követi, és nagyon fontos tudni összefüggéseket a kiszolgálóoldali tárolási naplózási keresztül a különböző naplófájlokat kéri.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-302">When viewing logs from client applications, network traces, and server-side storage logging it is critical to be able to correlate requests across the different log files.</span></span> <span data-ttu-id="1d2ec-303">A napló-fájlok közé tartoznak a különböző mezők, melyek hasznosak lehetnek a korrelációs azonosítóként számos.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-303">The log files include a number of different fields that are useful as correlation identifiers.</span></span> <span data-ttu-id="1d2ec-304">Az ügyfél-azonosító a különböző naplókat bejegyzések összefüggéseket leghasznosabb mezőt.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-304">The client request id is the most useful field to use to correlate entries in the different logs.</span></span> <span data-ttu-id="1d2ec-305">Egyes esetekben azonban hasznos lehet a kiszolgáló kérelemazonosító vagy a időbélyegeket használja.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-305">However sometimes, it can be useful to use either the server request id or timestamps.</span></span> <span data-ttu-id="1d2ec-306">A következő szakaszokban ezekről a beállításokról további részleteket.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-306">The following sections provide more details about these options.</span></span>

### <span data-ttu-id="1d2ec-307"><a name="client-request-id"></a>Ügyfélkérelem-azonosító</span><span class="sxs-lookup"><span data-stu-id="1d2ec-307"><a name="client-request-id"></a>Client request ID</span></span>
<span data-ttu-id="1d2ec-308">A Storage ügyféloldali kódtár automatikusan hoz létre minden egyes kérés egyedi ügyfélkérelem-azonosító.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-308">The Storage Client Library automatically generates a unique client request id for every request.</span></span>

* <span data-ttu-id="1d2ec-309">Az ügyféloldali naplóban, amely a Storage ügyféloldali kódtár hoz létre, az ügyfél-azonosító szerepel a **ügyfélkérelem-azonosító** mezőjét, minden naplóbejegyzés kapcsolódó a kérést.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-309">In the client-side log that the Storage Client Library creates, the client request id appears in the **Client Request ID** field of every log entry relating to the request.</span></span>
* <span data-ttu-id="1d2ec-310">A Fiddler rögzített például egy hálózati nyomkövetést, az ügyfél-azonosítót is elérhetővé válik a kérelemüzenetek, mint a **x-ms-client-request-id** HTTP-fejléc értéke.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-310">In a network trace such as one captured by Fiddler, the client request id is visible in request messages as the **x-ms-client-request-id** HTTP header value.</span></span>
* <span data-ttu-id="1d2ec-311">A kiszolgálóoldali tárolási naplózás naplóban az ügyfélkérelem-azonosító az ügyfél kérelem azonosító oszlopban jelenik meg.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-311">In the server-side Storage Logging log, the client request id appears in the Client request ID column.</span></span>

> [!NOTE]
> <span data-ttu-id="1d2ec-312">A többszörös kéréseket megoszthatók az azonos ügyfél-azonosítót, mivel az ügyfelet hozzá lehet rendelni ezt az értéket (bár a Storage ügyféloldali kódtár automatikusan hozzárendeli az új érték) lehetőség.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-312">It is possible for multiple requests to share the same client request id because the client can assign this value (although the Storage Client Library assigns a new value automatically).</span></span> <span data-ttu-id="1d2ec-313">Bármilyen kísérlet esetén az ügyfél újrapróbálkozások, ossza meg az azonos ügyfélkérelem-azonosító. Egy kötegben, az ügyfél által küldött, ha a kötegelt rendelkezik egyetlen ügyfélkérelem-azonosító.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-313">In the case of retries from the client, all attempts share the same client request id. In the case of a batch sent from the client, the batch has a single client request id.</span></span>
> 
> 

### <span data-ttu-id="1d2ec-314"><a name="server-request-id"></a>Kiszolgáló azonosítója</span><span class="sxs-lookup"><span data-stu-id="1d2ec-314"><a name="server-request-id"></a>Server request ID</span></span>
<span data-ttu-id="1d2ec-315">A tároló szolgáltatás automatikusan létrehozza a kérelem kiszolgálóazonosítók.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-315">The storage service automatically generates server request ids.</span></span>

* <span data-ttu-id="1d2ec-316">A kiszolgáló kérelemazonosító jelenik meg a kiszolgálóoldali tárolási naplózás napló a **Kérelemazonosító fejléc** oszlop.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-316">In the server-side Storage Logging log, the server request id appears the **Request ID header** column.</span></span>
* <span data-ttu-id="1d2ec-317">A Fiddler rögzített például egy hálózati nyomkövetést, a kiszolgáló kérelemazonosító válaszüzenetek, megjelenik a **az x-ms-request-id** HTTP-fejléc értéke.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-317">In a network trace such as one captured by Fiddler, the server request id appears in response messages as the **x-ms-request-id** HTTP header value.</span></span>
* <span data-ttu-id="1d2ec-318">Az ügyféloldali naplóban, amely a Storage ügyféloldali kódtár hoz létre, a kiszolgáló kérelemazonosító megjelenik a **művelet szöveg** a naplóbejegyzést, a kiszolgáló válaszára részleteit megjelenítő oszlopában.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-318">In the client-side log that the Storage Client Library creates, the server request id appears in the **Operation Text** column for the log entry showing details of the server response.</span></span>

> [!NOTE]
> <span data-ttu-id="1d2ec-319">A társzolgáltatás mindig egyedi kiszolgálói kérelem azonosítót rendel minden kérést kap, így az ügyfél minden újrapróbálkozások és minden műveletet a kötegben szereplő egy egyedi kiszolgálói kérelem azonosítója.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-319">The storage service always assigns a unique server request id to every request it receives, so every retry attempt from the client and every operation included in a batch has a unique server request id.</span></span>
> 
> 

<span data-ttu-id="1d2ec-320">Ha a Storage ügyféloldali kódtár jelez a **StorageException** az ügyfél a **RequestInformation** tulajdonsága tartalmazza egy **RequestResult** objektum, amely tartalmazza egy **ServiceRequestID** tulajdonság.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-320">If the Storage Client Library throws a **StorageException** in the client, the **RequestInformation** property contains a **RequestResult** object that includes a **ServiceRequestID** property.</span></span> <span data-ttu-id="1d2ec-321">Emellett egy **RequestResult** objektum egy **OperationContext** példány.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-321">You can also access a **RequestResult** object from an **OperationContext** instance.</span></span>

<span data-ttu-id="1d2ec-322">Az alábbi példakód bemutatja, hogyan kell beállítani egy egyéni **ClientRequestId** csatolásával érték egy **OperationContext** a kérést a társzolgáltatás objektum.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-322">The code sample below demonstrates how to set a custom **ClientRequestId** value by attaching an **OperationContext** object the request to the storage service.</span></span> <span data-ttu-id="1d2ec-323">Azt is bemutatja, hogyan lehet lekérni a **ServerRequestId** értéket a válaszüzenetben.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-323">It also shows how to retrieve the **ServerRequestId** value from the response message.</span></span>

```csharp
//Parse the connection string for the storage account.
const string ConnectionString = "DefaultEndpointsProtocol=https;AccountName=account-name;AccountKey=account-key";
CloudStorageAccount storageAccount = CloudStorageAccount.Parse(ConnectionString);
CloudBlobClient blobClient = storageAccount.CreateCloudBlobClient();

// Create an Operation Context that includes custom ClientRequestId string based on constants defined within the application along with a Guid.
OperationContext oc = new OperationContext();
oc.ClientRequestID = String.Format("{0} {1} {2} {3}", HOSTNAME, APPNAME, USERID, Guid.NewGuid().ToString());

try
{
    CloudBlobContainer container = blobClient.GetContainerReference("democontainer");
    ICloudBlob blob = container.GetBlobReferenceFromServer("testImage.jpg", null, null, oc);  
    var downloadToPath = string.Format("./{0}", blob.Name);
    using (var fs = File.OpenWrite(downloadToPath))
    {
        blob.DownloadToStream(fs, null, null, oc);
        Console.WriteLine("\t Blob downloaded to file: {0}", downloadToPath);
    }
}
catch (StorageException storageException)
{
    Console.WriteLine("Storage exception {0} occurred", storageException.Message);
    // Multiple results may exist due to client side retry logic - each retried operation will have a unique ServiceRequestId
    foreach (var result in oc.RequestResults)
    {
            Console.WriteLine("HttpStatus: {0}, ServiceRequestId {1}", result.HttpStatusCode, result.ServiceRequestID);
    }
}
```

### <span data-ttu-id="1d2ec-324"><a name="timestamps"></a>Időbélyeg helyi időre</span><span class="sxs-lookup"><span data-stu-id="1d2ec-324"><a name="timestamps"></a>Timestamps</span></span>
<span data-ttu-id="1d2ec-325">Időbélyeg helyi időre segítségével keresse meg a kapcsolódó naplóbejegyzések, de legyen óvatos, ha bármely óraeltérés között az ügyfél és a kiszolgálóra, lehetséges, hogy létezik.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-325">You can also use timestamps to locate related log entries, but be careful of any clock skew between the client and server that may exist.</span></span> <span data-ttu-id="1d2ec-326">Plusz vagy mínusz 15 percenként megfelelő kiszolgálóoldali bejegyzések az ügyfélen időbélyeg alapján kell keresni.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-326">You should search plus or minus 15 minutes for matching server-side entries based on the timestamp on the client.</span></span> <span data-ttu-id="1d2ec-327">Ne feledje, hogy a blobok metrikák tartalmazó blob metaadatai az időtartományt a metrikáihoz tárolja a blob; Ez akkor hasznos, ha sok metrikák blobok ugyanazon perc vagy óra.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-327">Remember that the blob metadata for the blobs containing metrics indicates the time range for the metrics stored in the blob; this is useful if you have many metrics blobs for the same minute or hour.</span></span>

## <span data-ttu-id="1d2ec-328"><a name="troubleshooting-guidance"></a>Hibaelhárítási útmutató</span><span class="sxs-lookup"><span data-stu-id="1d2ec-328"><a name="troubleshooting-guidance"></a>Troubleshooting guidance</span></span>
<span data-ttu-id="1d2ec-329">Ez a szakasz segítséget az elemzés céljából, és az Azure storage szolgáltatásainak használata során felmerülő néhány gyakori problémák elhárítása az alkalmazás.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-329">This section will help you with the diagnosis and troubleshooting of some of the common issues your application may encounter when using the Azure storage services.</span></span> <span data-ttu-id="1d2ec-330">Az alábbi lista segítségével keresse meg az adott problémára vonatkozó információt.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-330">Use the list below to locate the information relevant to your specific issue.</span></span>

<span data-ttu-id="1d2ec-331">**Hibaelhárítási döntési fája**</span><span class="sxs-lookup"><span data-stu-id="1d2ec-331">**Troubleshooting Decision Tree**</span></span>

---
<span data-ttu-id="1d2ec-332">A probléma kapcsolódik a teljesítmény, a tárolási szolgáltatások közül az egyik?</span><span class="sxs-lookup"><span data-stu-id="1d2ec-332">Does your issue relate to the performance of one of the storage services?</span></span>

* <span data-ttu-id="1d2ec-333">[metrika AverageE2ELatency magas és alacsony AverageServerLatency]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-333">[Metrics show high AverageE2ELatency and low AverageServerLatency]</span></span>
* <span data-ttu-id="1d2ec-334">[A mérőszámok alacsony AverageE2ELatency és alacsony AverageServerLatency értéket mutatnak, de az ügyfél nagy mértékű késleltetést tapasztal]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-334">[Metrics show low AverageE2ELatency and low AverageServerLatency but the client is experiencing high latency]</span></span>
* <span data-ttu-id="1d2ec-335">[A mérőszámok magas AverageServerLatency értéket mutatnak]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-335">[Metrics show high AverageServerLatency]</span></span>
* <span data-ttu-id="1d2ec-336">[Váratlan késést tapasztal az üzenetsorban található üzenetek kézbesítésekor]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-336">[You are experiencing unexpected delays in message delivery on a queue]</span></span>

---
<span data-ttu-id="1d2ec-337">A probléma kapcsolódik a tárolási szolgáltatások közül az egyik rendelkezésre állásának?</span><span class="sxs-lookup"><span data-stu-id="1d2ec-337">Does your issue relate to the availability of one of the storage services?</span></span>

* <span data-ttu-id="1d2ec-338">[PercentThrottlingError metrika növelését]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-338">[Metrics show an increase in PercentThrottlingError]</span></span>
* <span data-ttu-id="1d2ec-339">[PercentTimeoutError metrika növelését]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-339">[Metrics show an increase in PercentTimeoutError]</span></span>
* <span data-ttu-id="1d2ec-340">[A mérőszámok emelkedő PercentNetworkError értéket mutatnak]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-340">[Metrics show an increase in PercentNetworkError]</span></span>

---
 <span data-ttu-id="1d2ec-341">Az ügyfélalkalmazás fogadja-e egy HTTP-válaszok aránya (például a 404-es) 4XX egy társzolgáltatás?</span><span class="sxs-lookup"><span data-stu-id="1d2ec-341">Is your client application receiving an HTTP 4XX (such as 404) response from a storage service?</span></span>

* <span data-ttu-id="1d2ec-342">[Az ügyfél HTTP 403 (tiltott) üzeneteket fogad]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-342">[The client is receiving HTTP 403 (Forbidden) messages]</span></span>
* <span data-ttu-id="1d2ec-343">[Az ügyfél HTTP 404-es (nem található) üzeneteket fogad]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-343">[The client is receiving HTTP 404 (Not found) messages]</span></span>
* <span data-ttu-id="1d2ec-344">[Az ügyfél HTTP 409 (Ütközés) üzeneteket fogad]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-344">[The client is receiving HTTP 409 (Conflict) messages]</span></span>

---
<span data-ttu-id="1d2ec-345">[metrika alacsony PercentSuccess vagy analytics naplóbejegyzések rendelkezik ClientOtherErrors működésére állapotú tranzakció]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-345">[Metrics show low PercentSuccess or analytics log entries have operations with transaction status of ClientOtherErrors]</span></span>

---
<span data-ttu-id="1d2ec-346">[Teljesítmény-mérőszámait váratlan növekedését megjelenítése a tárolási kapacitás-használat]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-346">[Capacity metrics show an unexpected increase in storage capacity usage]</span></span>

---
<span data-ttu-id="1d2ec-347">[Váratlan vesznek el virtuális gépeken, amelyek csatlakoztatott virtuális merevlemezek nagy számú tapasztal]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-347">[You are experiencing unexpected reboots of Virtual Machines that have a large number of attached VHDs]</span></span>

---
<span data-ttu-id="1d2ec-348">[A probléma merül fel a fejlesztési vagy tesztelési a storage emulator használatával]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-348">[Your issue arises from using the storage emulator for development or test]</span></span>

---
<span data-ttu-id="1d2ec-349">[.NET-keretrendszerhez készült Azure SDK telepítése problémák áll kapcsolatban.]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-349">[You are encountering problems installing the Azure SDK for .NET]</span></span>

---
<span data-ttu-id="1d2ec-350">[Van egy másik probléma storage szolgáltatással]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-350">[You have a different issue with a storage service]</span></span>

---
### <span data-ttu-id="1d2ec-351"><a name="metrics-show-high-AverageE2ELatency-and-low-AverageServerLatency"></a>Metrikák AverageE2ELatency magas és alacsony AverageServerLatency megjelenítése</span><span class="sxs-lookup"><span data-stu-id="1d2ec-351"><a name="metrics-show-high-AverageE2ELatency-and-low-AverageServerLatency"></a>Metrics show high AverageE2ELatency and low AverageServerLatency</span></span>
<span data-ttu-id="1d2ec-352">Az alábbi ábrán látható a [Azure-portálon](https://portal.azure.com) eszköz figyelési azt szemlélteti, ahol a **AverageE2ELatency** jelentősen nagyobb, mint a **AverageServerLatency**.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-352">The illustration below from the [Azure portal](https://portal.azure.com) monitoring tool shows an example where the **AverageE2ELatency** is significantly higher than the **AverageServerLatency**.</span></span>

![][4]

<span data-ttu-id="1d2ec-353">Vegye figyelembe, hogy a társzolgáltatás csak kiszámítja a metrika **AverageE2ELatency** a sikeres kéréseket, és eltérően **AverageServerLatency**, az ügyfél az adatok küldésére és fogadására a nyugtázás a tárolószolgáltatásból idejét tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-353">Note that the storage service only calculates the metric **AverageE2ELatency** for successful requests and, unlike **AverageServerLatency**, includes the time the client takes to send the data and receive acknowledgement from the storage service.</span></span> <span data-ttu-id="1d2ec-354">Ezért közötti különbségek **AverageE2ELatency** és **AverageServerLatency** miatt lassú válaszolni az ügyfélalkalmazás vagy a hálózaton feltételek miatt.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-354">Therefore, a difference between **AverageE2ELatency** and **AverageServerLatency** could be either due to the client application being slow to respond, or due to conditions on the network.</span></span>

> [!NOTE]
> <span data-ttu-id="1d2ec-355">Megtekintheti továbbá **E2ELatency** és **ServerLatency** egyéni tárolószolgáltatások művelethez a tárolási naplózási adatok naplózása.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-355">You can also view **E2ELatency** and **ServerLatency** for individual storage operations in the Storage Logging log data.</span></span>
> 
> 

#### <a name="investigating-client-performance-issues"></a><span data-ttu-id="1d2ec-356">Ügyfél teljesítménnyel kapcsolatos problémák vizsgálatában</span><span class="sxs-lookup"><span data-stu-id="1d2ec-356">Investigating client performance issues</span></span>
<span data-ttu-id="1d2ec-357">Az ügyfél lassan válaszol a lehetséges okok közé tartoznak, használjon korlátozott mennyiségű rendelkezésre álló kapcsolatok vagy -szál, vagy éppen kevés az erőforrás, például a Processzor, a memória vagy a hálózati sávszélesség.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-357">Possible reasons for the client responding slowly include having a limited number of available connections or threads, or being low on resources such as CPU, memory or network bandwidth.</span></span> <span data-ttu-id="1d2ec-358">Előfordulhat, hogy a probléma megoldásához, hatékonyabb (például a használatával a társzolgáltatás aszinkron hívások) ügyfél kódjának a módosítása, vagy a nagyobb virtuális gépek (a több maggal és memória) használatával.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-358">You may be able to resolve the issue by modifying the client code to be more efficient (for example by using asynchronous calls to the storage service), or by using a larger Virtual Machine (with more cores and more memory).</span></span>

<span data-ttu-id="1d2ec-359">A tábla- és várólista szolgáltatások esetén a Nagle algoritmus is eredményezheti, hogy magas **AverageE2ELatency** képest történő **AverageServerLatency**: további információk: a feladás egy vagy több [Nagle tartozó algoritmus nem rövid kis kérelmek felé](http://blogs.msdn.com/b/windowsazurestorage/archive/2010/06/25/nagle-s-algorithm-is-not-friendly-towards-small-requests.aspx).</span><span class="sxs-lookup"><span data-stu-id="1d2ec-359">For the table and queue services, the Nagle algorithm can also cause high **AverageE2ELatency** as compared to **AverageServerLatency**: for more information see the post [Nagle's Algorithm is Not Friendly towards Small Requests](http://blogs.msdn.com/b/windowsazurestorage/archive/2010/06/25/nagle-s-algorithm-is-not-friendly-towards-small-requests.aspx).</span></span> <span data-ttu-id="1d2ec-360">Letilthatja a kódban Nagle algoritmus használatával a **ServicePointManager** osztályt a **System.NET névtérbeli** névtér.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-360">You can disable the Nagle algorithm in code by using the **ServicePointManager** class in the **System.Net** namespace.</span></span> <span data-ttu-id="1d2ec-361">Akkor tegye ezt meg semmilyen hívásokat a táblázathoz, vagy nyissa meg a várólista-szolgáltatás az alkalmazásban, mert ez nem befolyásolja a már kapcsolatok előtt.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-361">You should do this before you make any calls to the table or queue services in your application since this does not affect connections that are already open.</span></span> <span data-ttu-id="1d2ec-362">Az alábbi példa származik a **Application_Start** a feldolgozói szerepkör metódust.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-362">The following example comes from the **Application_Start** method in a worker role.</span></span>

```csharp
var storageAccount = CloudStorageAccount.Parse(connStr);
ServicePoint tableServicePoint = ServicePointManager.FindServicePoint(storageAccount.TableEndpoint);
tableServicePoint.UseNagleAlgorithm = false;
ServicePoint queueServicePoint = ServicePointManager.FindServicePoint(storageAccount.QueueEndpoint);
queueServicePoint.UseNagleAlgorithm = false;
```

<span data-ttu-id="1d2ec-363">Ellenőrizni kell az ügyféloldali naplójában hány kérelmeket küld az ügyfélalkalmazást, és ellenőrizze a általános .NET-hez kapcsolódó szűk keresztmetszetek a ügyfélprogram, pl. a CPU, a .NET szemétgyűjtés, a hálózat kihasználtságának vagy a memória.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-363">You should check the client-side logs to see how many requests your client application is submitting, and check for general .NET related performance bottlenecks in your client such as CPU, .NET garbage collection, network utilization, or memory.</span></span> <span data-ttu-id="1d2ec-364">Kiindulási pontként .NET ügyfélalkalmazások hibaelhárításhoz, lásd: [profilkészítési, hibakeresés és nyomkövetés](http://msdn.microsoft.com/library/7fe0dd2y).</span><span class="sxs-lookup"><span data-stu-id="1d2ec-364">As a starting point for troubleshooting .NET client applications, see [Debugging, Tracing, and Profiling](http://msdn.microsoft.com/library/7fe0dd2y).</span></span>

#### <a name="investigating-network-latency-issues"></a><span data-ttu-id="1d2ec-365">Hálózati késési problémák kivizsgálása</span><span class="sxs-lookup"><span data-stu-id="1d2ec-365">Investigating network latency issues</span></span>
<span data-ttu-id="1d2ec-366">A hálózat által okozott magas végpontok közötti késés általában átmeneti feltételek miatt.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-366">Typically, high end-to-end latency caused by the network is due to transient conditions.</span></span> <span data-ttu-id="1d2ec-367">Mindkét ideiglenes és állandó hálózati problémák, például az eldobott csomagok használatával megvizsgálhatja például Wireshark vagy a Microsoft Message Analyzert eszközök segítségével.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-367">You can investigate both transient and persistent network issues such as dropped packets by using tools such as Wireshark or Microsoft Message Analyzer.</span></span>

<span data-ttu-id="1d2ec-368">Hálózati probléma elhárításához Wireshark használatával kapcsolatos további információkért lásd: "[2 függelék: Wireshark használó rögzítheti a hálózati forgalom]."</span><span class="sxs-lookup"><span data-stu-id="1d2ec-368">For more information about using Wireshark to troubleshoot network issues, see "[Appendix 2: Using Wireshark to capture network traffic]."</span></span>

<span data-ttu-id="1d2ec-369">Microsoft Message Analyzert hálózati probléma elhárításához használatával kapcsolatos további információkért lásd: "[függelék: 3: Microsoft Message Analyzert használó rögzítheti a hálózati forgalom]."</span><span class="sxs-lookup"><span data-stu-id="1d2ec-369">For more information about using Microsoft Message Analyzer to troubleshoot network issues, see "[Appendix 3: Using Microsoft Message Analyzer to capture network traffic]."</span></span>

### <span data-ttu-id="1d2ec-370"><a name="metrics-show-low-AverageE2ELatency-and-low-AverageServerLatency"></a>Metrika alacsony AverageE2ELatency és alacsony AverageServerLatency, de az ügyfél nagy késleltetésű tapasztal</span><span class="sxs-lookup"><span data-stu-id="1d2ec-370"><a name="metrics-show-low-AverageE2ELatency-and-low-AverageServerLatency"></a>Metrics show low AverageE2ELatency and low AverageServerLatency but the client is experiencing high latency</span></span>
<span data-ttu-id="1d2ec-371">Ebben a forgatókönyvben az a legvalószínűbb ok az a tárolási kérelmeket közel jár a társzolgáltatás késleltetése.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-371">In this scenario, the most likely cause is a delay in the storage requests reaching the storage service.</span></span> <span data-ttu-id="1d2ec-372">Ki kell vizsgálni, hogy miért az ügyfél kéréseit nem létesített keresztül, a blob szolgáltatás.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-372">You should investigate why requests from the client are not making it through to the blob service.</span></span>

<span data-ttu-id="1d2ec-373">Késlelteti a kérelmek küldését az ügyfél egyik lehetséges oka az, hogy vannak-e rendelkezésre álló kapcsolatok vagy szálak korlátozott számú.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-373">One possible reason for the client delaying sending requests is that there are a limited number of available connections or threads.</span></span>

<span data-ttu-id="1d2ec-374">Emellett ellenőrizze, hogy az ügyfél több újrapróbálkozások hajt végre, és vizsgálja meg az oka, hogy ez a helyzet.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-374">You should also check whether the client is performing multiple retries, and investigate the reason if this is the case.</span></span> <span data-ttu-id="1d2ec-375">Annak megállapításához, hogy az ügyfél több újrapróbálkozások hajt végre, a következőket teheti:</span><span class="sxs-lookup"><span data-stu-id="1d2ec-375">To determine whether the client is performing multiple retries, you can:</span></span>

* <span data-ttu-id="1d2ec-376">Ellenőrizze a tárolási analitika eseménynaplóit.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-376">Examine the Storage Analytics logs.</span></span> <span data-ttu-id="1d2ec-377">Ha több próbálkozás van folyamatban, látni fogja a több műveletet a azonos ügyfélkérelem-azonosító, de különböző kiszolgálói kérelem azonosítók.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-377">If multiple retries are happening, you will see multiple operations with the same client request ID but with different server request IDs.</span></span>
* <span data-ttu-id="1d2ec-378">Tanulmányozza az ügyfél.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-378">Examine the client logs.</span></span> <span data-ttu-id="1d2ec-379">A részletes naplózás tájékoztatja arról, hogy újbóli kísérlet történt.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-379">Verbose logging will indicate that a retry has occurred.</span></span>
* <span data-ttu-id="1d2ec-380">A kód hibakereséséhez, és ellenőrizze a tulajdonságait a **OperationContext** a kérelemhez társított objektumot.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-380">Debug your code, and check the properties of the **OperationContext** object associated with the request.</span></span> <span data-ttu-id="1d2ec-381">Ha a rendszer megpróbálja újból végrehajtani a műveletet a rendelkezik, a **RequestResults** tulajdonság több egyedi kiszolgálói kérelem azonosítókat tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-381">If the operation has retried, the **RequestResults** property will include multiple unique server request IDs.</span></span> <span data-ttu-id="1d2ec-382">Ellenőrizheti az egyes kérelmek kezdő és befejező időpontja.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-382">You can also check the start and end times for each request.</span></span> <span data-ttu-id="1d2ec-383">További információkért lásd: a kódminta szakaszában [Server Kérelemazonosító].</span><span class="sxs-lookup"><span data-stu-id="1d2ec-383">For more information, see the code sample in the section [Server request ID].</span></span>

<span data-ttu-id="1d2ec-384">Ha az ügyfél nincs probléma, ki kell vizsgálni a lehetséges hálózati problémák, például a csomagveszteség.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-384">If there are no issues in the client, you should investigate potential network issues such as packet loss.</span></span> <span data-ttu-id="1d2ec-385">Eszközök, például Wireshark vagy a Microsoft Message Analyzer segítségével vizsgálja meg a hálózati problémák.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-385">You can use tools such as Wireshark or Microsoft Message Analyzer to investigate network issues.</span></span>

<span data-ttu-id="1d2ec-386">Hálózati probléma elhárításához Wireshark használatával kapcsolatos további információkért lásd: "[2 függelék: Wireshark használó rögzítheti a hálózati forgalom]."</span><span class="sxs-lookup"><span data-stu-id="1d2ec-386">For more information about using Wireshark to troubleshoot network issues, see "[Appendix 2: Using Wireshark to capture network traffic]."</span></span>

<span data-ttu-id="1d2ec-387">Microsoft Message Analyzert hálózati probléma elhárításához használatával kapcsolatos további információkért lásd: "[függelék: 3: Microsoft Message Analyzert használó rögzítheti a hálózati forgalom]."</span><span class="sxs-lookup"><span data-stu-id="1d2ec-387">For more information about using Microsoft Message Analyzer to troubleshoot network issues, see "[Appendix 3: Using Microsoft Message Analyzer to capture network traffic]."</span></span>

### <span data-ttu-id="1d2ec-388"><a name="metrics-show-high-AverageServerLatency"></a>Metrika magas AverageServerLatency</span><span class="sxs-lookup"><span data-stu-id="1d2ec-388"><a name="metrics-show-high-AverageServerLatency"></a>Metrics show high AverageServerLatency</span></span>
<span data-ttu-id="1d2ec-389">Ha nagy **AverageServerLatency** blob letöltési kérelmek, érdemes használni a tárolási naplózási naplókat, ha van-e az azonos blob (vagy bináris objektumok) ismétlődő kérelmek.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-389">In the case of high **AverageServerLatency** for blob download requests, you should use the Storage Logging logs to see if there are repeated requests for the same blob (or set of blobs).</span></span> <span data-ttu-id="1d2ec-390">A blob vonatkozó kérések feltöltésére, ki kell vizsgálni, milyen blokk méretét az ügyfél által használt (például blokkolja a kisebb, mint 64 KB méretű eredményezhet terhek kivéve, ha az olvasási műveletek is a kisebb, mint 64K adattömbök), és ha több ügyfél blokkok feltölteni a párhuzamos azonos blobba.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-390">For blob upload requests, you should investigate what block size the client is using (for example, blocks less than 64K in size can result in overheads unless the reads are also in less than 64K chunks), and if multiple clients are uploading blocks to the same blob in parallel.</span></span> <span data-ttu-id="1d2ec-391">Azt is ellenőrizze igényeiben jelentkező kéréseket eredményező meghaladó számú perc metrikáját a egy második méretezhetőségi célok: is láthatja, hogy "[PercentTimeoutError metrika növelését]."</span><span class="sxs-lookup"><span data-stu-id="1d2ec-391">You should also check the per-minute metrics for spikes in the number of requests that result in exceeding the per second scalability targets: also see "[Metrics show an increase in PercentTimeoutError]."</span></span>

<span data-ttu-id="1d2ec-392">Ha magas **AverageServerLatency** blob letölthető kérelmek ismételt hiba van a kérelmek az azonos blob vagy blobok, akkor érdemes gyorsítótárazása a blobok, Azure Cache vagy az Azure Content Delivery Network (CDN) használatával.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-392">If you are seeing high **AverageServerLatency** for blob download requests when there are repeated requests the same blob or set of blobs, then you should consider caching these blobs using Azure Cache or the Azure Content Delivery Network (CDN).</span></span> <span data-ttu-id="1d2ec-393">A feltöltési kérés kapcsolódik növelheti az átviteli sebesség a nagyobb blokkméret használatával.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-393">For upload requests, you can improve the throughput by using a larger block size.</span></span> <span data-ttu-id="1d2ec-394">A lekérdezéseket akkor is valósíthat meg ügyféloldali gyorsítótárazás az ügyfeleken, hogy a lekérdezés ugyanezen műveletek végrehajtásához, és ha az adatok nem módosulnak.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-394">For queries to tables, it is also possible to implement client-side caching on clients that perform the same query operations and where the data doesn't change frequently.</span></span>

<span data-ttu-id="1d2ec-395">Magas **AverageServerLatency** értékek rosszul megtervezett táblát vagy lekérdezést, hogy a Keresés eredménye, vagy hajtsa végre a víruskereső append/illesztenie mintát tünete is lehet.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-395">High **AverageServerLatency** values can also be a symptom of poorly designed tables or queries that result in scan operations or that follow the append/prepend anti-pattern.</span></span> <span data-ttu-id="1d2ec-396">Lásd: "[PercentThrottlingError metrika növelését]" További információ.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-396">See "[Metrics show an increase in PercentThrottlingError]" for more information.</span></span>

> [!NOTE]
> <span data-ttu-id="1d2ec-397">Egy átfogó ellenőrzőlista teljesítmény ellenőrzőlistát itt találja: [Microsoft Azure tárolási teljesítmény és méretezhetőség ellenőrzőlista](storage-performance-checklist.md).</span><span class="sxs-lookup"><span data-stu-id="1d2ec-397">You can find a comprehensive checklist performance checklist here: [Microsoft Azure Storage Performance and Scalability Checklist](storage-performance-checklist.md).</span></span>
> 
> 

### <span data-ttu-id="1d2ec-398"><a name="you-are-experiencing-unexpected-delays-in-message-delivery"></a>A várólista üzenetkézbesítést váratlan késést tapasztal</span><span class="sxs-lookup"><span data-stu-id="1d2ec-398"><a name="you-are-experiencing-unexpected-delays-in-message-delivery"></a>You are experiencing unexpected delays in message delivery on a queue</span></span>
<span data-ttu-id="1d2ec-399">Ha a kérelmet ad hozzá egy üzenetet, amely egy várólista és az idő olvasása az üzenetsorból való elérhetővé válik késleltetés tapasztalja, majd kell venni a probléma diagnosztizálása érdekében az alábbi lépéseket:</span><span class="sxs-lookup"><span data-stu-id="1d2ec-399">If you are experiencing a delay between the time an application adds a message to a queue and the time it becomes available to read from the queue, then you should take the following steps to diagnose the issue:</span></span>

* <span data-ttu-id="1d2ec-400">Ellenőrizze, hogy az alkalmazás sikeresen hozzáadásával az üzenetek várólistára.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-400">Verify the application is successfully adding the messages to the queue.</span></span> <span data-ttu-id="1d2ec-401">Ellenőrizze, hogy az alkalmazás nem újra megpróbálja a **AddMessage** metódus többször előtt sikeresen lezajlottak.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-401">Check that the application is not retrying the **AddMessage** method several times before succeeding.</span></span> <span data-ttu-id="1d2ec-402">A Storage ügyféloldali kódtár naplók bármely, a tárolási műveletek miatti ismételt próbálkozás jeleníti meg.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-402">The Storage Client Library logs will show any repeated retries of storage operations.</span></span>
* <span data-ttu-id="1d2ec-403">Ellenőrizze, nincs óra eltérésére között a feldolgozói szerepkör, amely az üzenet a várólistában van, és a feldolgozói szerepkör, amely kiolvassa az üzenetet az üzenetsorból, amely megkönnyíti a jelenik meg, mintha késik a feldolgozása.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-403">Verify there is no clock skew between the worker role that adds the message to the queue and the worker role that reads the message from the queue that makes it appear as if there is a delay in processing.</span></span>
* <span data-ttu-id="1d2ec-404">Ellenőrizze, hogy ha a feldolgozói szerepkör, amely olvassa be az üzenetek a várólista nem működik.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-404">Check if the worker role that reads the messages from the queue is failing.</span></span> <span data-ttu-id="1d2ec-405">Ha a várólista-ügyfél a **GetMessage** metódust, de nem tudja válaszolni nyugtázást, az üzenet nem látható, amíg a várólista marad a **invisibilityTimeout** időszakának lejártáig.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-405">If a queue client calls the **GetMessage** method but fails to respond with an acknowledgement, the message will remain invisible on the queue until the **invisibilityTimeout** period expires.</span></span> <span data-ttu-id="1d2ec-406">Ezen a ponton az üzenet feldolgozásához újra elérhetővé válik.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-406">At this point, the message becomes available for processing again.</span></span>
* <span data-ttu-id="1d2ec-407">Ellenőrizze, hogy ha a várólista hossza nő adott idő alatt.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-407">Check if the queue length is growing over time.</span></span> <span data-ttu-id="1d2ec-408">Ez akkor fordulhat elő, ha nem rendelkezik elegendő munkavállalók minden más munkavállalók helyez várakozási üzenetek feldolgozásához használható.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-408">This can occur if you do not have sufficient workers available to process all of the messages that other workers are placing on the queue.</span></span> <span data-ttu-id="1d2ec-409">Azt is ellenőrizze a mérni kívánt láthatja Ha törlési kéréseket sikertelen és a dequeue üzeneteken, ami azt jelezheti ismétlődő sikertelen kísérlet történt az üzenet törlése.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-409">You should also check the metrics to see if delete requests are failing and the dequeue count on messages, which might indicate repeated failed attempts to delete the message.</span></span>
* <span data-ttu-id="1d2ec-410">Vizsgálja meg a tárolási naplózás keresse meg a várólista-műveleteket, amelyek rendelkeznek a vártnál nagyobb **E2ELatency** és **ServerLatency** értékek idő szokásosnál hosszabb időszakra.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-410">Examine the Storage Logging logs for any queue operations that have higher than expected **E2ELatency** and **ServerLatency** values over a longer period of time than usual.</span></span>

### <span data-ttu-id="1d2ec-411"><a name="metrics-show-an-increase-in-PercentThrottlingError"></a>PercentThrottlingError metrika növelését</span><span class="sxs-lookup"><span data-stu-id="1d2ec-411"><a name="metrics-show-an-increase-in-PercentThrottlingError"></a>Metrics show an increase in PercentThrottlingError</span></span>
<span data-ttu-id="1d2ec-412">Sávszélesség-szabályozási hiba történik, amikor a túllépi a méretezhetőségi célok tároló szolgáltatás.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-412">Throttling errors occur when you exceed the scalability targets of a storage service.</span></span> <span data-ttu-id="1d2ec-413">A tároló szolgáltatás ezt a végzi annak érdekében, hogy nincs egyetlen ügyfél vagy a bérlői csökkenti a többi szolgáltatás használhatja.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-413">The storage service does this to ensure that no single client or tenant can use the service at the expense of others.</span></span> <span data-ttu-id="1d2ec-414">További információkért lásd: [Azure Storage méretezhetőségi és teljesítménycéloknak](storage-scalability-targets.md) méretezhetőségi célok storage-fiókok és a storage-fiókok partíciókról teljesítménycéloknak.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-414">For more information, see [Azure Storage Scalability and Performance Targets](storage-scalability-targets.md) for details on scalability targets for storage accounts and performance targets for partitions within storage accounts.</span></span>

<span data-ttu-id="1d2ec-415">Ha a **PercentThrottlingError** metrika növelését megjeleníteni, amelyek sávszélesség-szabályozási hiba miatt nem kérelem azon százaléka, ki kell vizsgálni helyzetek egyikében:</span><span class="sxs-lookup"><span data-stu-id="1d2ec-415">If the **PercentThrottlingError** metric show an increase in the percentage of requests that are failing with a throttling error, you need to investigate one of two scenarios:</span></span>

* <span data-ttu-id="1d2ec-416">[PercentThrottlingError átmeneti növekedése]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-416">[Transient increase in PercentThrottlingError]</span></span>
* <span data-ttu-id="1d2ec-417">[Állandó növekedése PercentThrottlingError hiba]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-417">[Permanent increase in PercentThrottlingError error]</span></span>

<span data-ttu-id="1d2ec-418">Megnövelheti a **PercentThrottlingError** gyakran kerül sor, megnövelheti a storage-kérelmek számát egy időben, vagy ha kezdetben betölteni az alkalmazás tesztelése.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-418">An increase in **PercentThrottlingError** often occurs at the same time as an increase in the number of storage requests, or when you are initially load testing your application.</span></span> <span data-ttu-id="1d2ec-419">Ez lehet, hogy is manifest magát az ügyfél "503-as kiszolgáló foglalt" vagy "500 művelet időtúllépése" HTTP állapotüzenete tárolási műveletek.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-419">This may also manifest itself in the client as "503 Server Busy" or "500 Operation Timeout" HTTP status messages from storage operations.</span></span>

#### <span data-ttu-id="1d2ec-420"><a name="transient-increase-in-PercentThrottlingError"></a>PercentThrottlingError átmeneti növekedése</span><span class="sxs-lookup"><span data-stu-id="1d2ec-420"><a name="transient-increase-in-PercentThrottlingError"></a>Transient increase in PercentThrottlingError</span></span>
<span data-ttu-id="1d2ec-421">Ha Ön értékének igényeiben jelentkező **PercentThrottlingError** , amely az alkalmazás a nagy aktivitású időszakok egybe, meg kell valósítania az ügyfél egy exponenciális (lineáris) vissza az újbóli próbálkozások stratégiával ki: Ezzel csökkenthető a partíció azonnali terhelése, és az alkalmazás számára a forgalom igényeiben jelentkező simítja segítségével.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-421">If you are seeing spikes in the value of **PercentThrottlingError** that coincide with periods of high activity for the application, you should implement an exponential (not linear) back off strategy for retries in your client: this will reduce the immediate load on the partition and help your application to smooth out spikes in traffic.</span></span> <span data-ttu-id="1d2ec-422">A Storage ügyféloldali kódtár segítségével újrapróbálkozási-házirendek implementálásához kapcsolatos további információkért lásd: [Microsoft.WindowsAzure.Storage.RetryPolicies Namespace](http://msdn.microsoft.com/library/azure/microsoft.windowsazure.storage.retrypolicies.aspx).</span><span class="sxs-lookup"><span data-stu-id="1d2ec-422">For more information about how to implement retry policies using the Storage Client Library, see [Microsoft.WindowsAzure.Storage.RetryPolicies Namespace](http://msdn.microsoft.com/library/azure/microsoft.windowsazure.storage.retrypolicies.aspx).</span></span>

> [!NOTE]
> <span data-ttu-id="1d2ec-423">Is találkozhat értékének igényeiben jelentkező **PercentThrottlingError** , amely nem esik egybe az alkalmazás a nagy aktivitású időszakokkal: Itt a legvalószínűbb ok az a partíciók terheléselosztás javítása áthelyezését tároló szolgáltatást.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-423">You may also see spikes in the value of **PercentThrottlingError** that do not coincide with periods of high activity for the application: the most likely cause here is the storage service moving partitions to improve load balancing.</span></span>
> 
> 

#### <span data-ttu-id="1d2ec-424"><a name="permanent-increase-in-PercentThrottlingError"></a>Állandó növekedése PercentThrottlingError hiba</span><span class="sxs-lookup"><span data-stu-id="1d2ec-424"><a name="permanent-increase-in-PercentThrottlingError"></a>Permanent increase in PercentThrottlingError error</span></span>
<span data-ttu-id="1d2ec-425">Ha Ön folyamatosan magas értéket **PercentThrottlingError** a végleges növelését a tranzakció-köteteket, vagy amikor a kezdeti betöltés hajtja végre a következő teszteli, az alkalmazásra, majd fel kell mérnie, hogy az alkalmazás adattárolási partíciókat használja, és e közeledik egy tárfiók a méretezhetőségi célok.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-425">If you are seeing a consistently high value for **PercentThrottlingError** following a permanent increase in your transaction volumes, or when you are performing your initial load tests on your application, then you need to evaluate how your application is using storage partitions and whether it is approaching the scalability targets for a storage account.</span></span> <span data-ttu-id="1d2ec-426">Például ha Ön szabályozás hibákat a várólista (amely számít egyetlen partícióra), majd érdemes további várólisták segítségével a tranzakciók elosztva több partíciót.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-426">For example, if you are seeing throttling errors on a queue (which counts as a single partition), then you should consider using additional queues to spread the transactions across multiple partitions.</span></span> <span data-ttu-id="1d2ec-427">Ha Ön szabályozás hibák táblán, fontolja meg egy másik particionálási sémát a tranzakciók elosztva több partíciót széles körének partíciókulcs-értékek használatával szeretné.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-427">If you are seeing throttling errors on a table, you need to consider using a different partitioning scheme to spread your transactions across multiple partitions by using a wider range of partition key values.</span></span> <span data-ttu-id="1d2ec-428">Ennek a problémának egy közös ok: a prepend hozzáfűzése elleni mintát ahol dátumát jelöli ki a partíciós kulcs, és majd egy adott napon összes adatot ír egy partíciót: terhelés, ennek eredményeként a írási szűk keresztmetszetek.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-428">One common cause of this issue is the prepend/append anti-pattern where you select the date as the partition key and then all data on a particular day is written to one partition: under load, this can result in a write bottleneck.</span></span> <span data-ttu-id="1d2ec-429">Fontolja meg egy másik particionálási tervezési vagy mérlegelje, hogy a blob storage használatával jobb megoldás lehet kell.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-429">You should either consider a different partitioning design or evaluate whether using blob storage might be a better solution.</span></span> <span data-ttu-id="1d2ec-430">Kell ellenőrizze, hogy a sávszélesség-szabályozás miatt a forgalom igényeiben jelentkező végbemegy, és vizsgálja meg a minta kérelem simítás módjait.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-430">You should also check if the throttling is occurring as a result of spikes in your traffic and investigate ways of smoothing your pattern of requests.</span></span>

<span data-ttu-id="1d2ec-431">Ha a tranzakciók szét több partíciót, továbbra is kell a méretezhetőségének korlátai, a tárolási fiókjában tudomást.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-431">If you distribute your transactions across multiple partitions, you must still be aware of the scalability limits set for the storage account.</span></span> <span data-ttu-id="1d2ec-432">Például ha tíz várólisták a legfeljebb 2000 1KB üzenetek másodpercenkénti feldolgozási, akkor lesz teljes legfeljebb 20 000 üzenetek / másodperc, a tárfiók.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-432">For example, if you used ten queues each processing the maximum of 2,000 1KB messages per second, you will be at the overall limit of 20,000 messages per second for the storage account.</span></span> <span data-ttu-id="1d2ec-433">Ha kell feldolgozni másodpercenként több mint 20 000 entitások, érdemes lehet több tárfiókot használni.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-433">If you need to process more than 20,000 entities per second, you should consider using multiple storage accounts.</span></span> <span data-ttu-id="1d2ec-434">Meg kell is figyelembe kell vennie, hogy méretét a kérelmek és entitások akkor van hatása, ha a társzolgáltatás az ügyfelek azelőtt gyorsítja fel a: Ha nagyobb kérelmek és entitások, akkor előfordulhat, hogy lehet halmozódni hamarabb.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-434">You should also bear in mind that the size of your requests and entities has an impact on when the storage service throttles your clients: if you have larger requests and entities, you may be throttled sooner.</span></span>

<span data-ttu-id="1d2ec-435">Nem elég hatékony Lekérdezéstervezés is okozhat, hogy elérte a méretezhetőségi korlátok, a táblázat partíciókat.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-435">Inefficient query design can also cause you to hit the scalability limits for table partitions.</span></span> <span data-ttu-id="1d2ec-436">Például, amely egy partíció csak kiválaszt egy százalék entitások, de, amely megvizsgálja egy partíció összes entitásának szűrő egy lekérdezést kell minden egyes entitás eléréséhez.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-436">For example, a query with a filter that only selects one percent of the entities in a partition but that scans all the entities in a partition will need to access each entity.</span></span> <span data-ttu-id="1d2ec-437">Minden entitás, olvassa el az adott partíció; tranzakciók száma is beleszámít. ezért könnyen képes elérni a méretezhetőségi célok.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-437">Every entity read will count towards the total number of transactions in that partition; therefore, you can easily reach the scalability targets.</span></span>

> [!NOTE]
> <span data-ttu-id="1d2ec-438">A teljesítmény tesztelés egyetlen lekérdezés nem elég hatékony tervet, az alkalmazás kódproblémájáról van.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-438">Your performance testing should reveal any inefficient query designs in your application.</span></span>
> 
> 

### <span data-ttu-id="1d2ec-439"><a name="metrics-show-an-increase-in-PercentTimeoutError"></a>PercentTimeoutError metrika növelését</span><span class="sxs-lookup"><span data-stu-id="1d2ec-439"><a name="metrics-show-an-increase-in-PercentTimeoutError"></a>Metrics show an increase in PercentTimeoutError</span></span>
<span data-ttu-id="1d2ec-440">A metrika növekedése **PercentTimeoutError** a tárolási szolgáltatások egyike.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-440">Your metrics show an increase in **PercentTimeoutError** for one of your storage services.</span></span> <span data-ttu-id="1d2ec-441">Egy időben az ügyfél fogad az "500 művelet időtúllépése" HTTP-állapot üzenetek nagy mennyiségű tárolási műveletek.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-441">At the same time, the client receives a high volume of "500 Operation Timeout" HTTP status messages from storage operations.</span></span>

> [!NOTE]
> <span data-ttu-id="1d2ec-442">Ideiglenesen a tárolási szolgáltatásként időtúllépést betöltése kiegyensúlyozza kérelmeket egy új kiszolgálóra helyezi át a partíció jelenhet meg.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-442">You may see timeout errors temporarily as the storage service load balances requests by moving a partition to a new server.</span></span>
> 
> 

<span data-ttu-id="1d2ec-443">A **PercentTimeoutError** mérőszáma egyszerűsítése érdekében a következő metrikákat: **ClientTimeoutError**, **AnonymousClientTimeoutError**, **SASClientTimeoutError**, **ServerTimeoutError**, **AnonymousServerTimeoutError**, és **SASServerTimeoutError**.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-443">The **PercentTimeoutError** metric is an aggregation of the following metrics: **ClientTimeoutError**, **AnonymousClientTimeoutError**, **SASClientTimeoutError**, **ServerTimeoutError**, **AnonymousServerTimeoutError**, and **SASServerTimeoutError**.</span></span>

<span data-ttu-id="1d2ec-444">A kiszolgáló időkorlátja a kiszolgálón hiba okozza.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-444">The server timeouts are caused by an error on the server.</span></span> <span data-ttu-id="1d2ec-445">Az ügyfél-időtúllépések fordulhat elő, mert a kiszolgálón egy művelet túllépte az; az ügyfél által megadott például egy ügyfél a Storage ügyféloldali kódtár segítségével állíthatja be művelet időtúllépés használatával a **ServerTimeout** tulajdonsága a **QueueRequestOptions** osztály.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-445">The client timeouts happen because an operation on the server has exceeded the timeout specified by the client; for example, a client using the Storage Client Library can set a timeout for an operation by using the **ServerTimeout** property of the **QueueRequestOptions** class.</span></span>

<span data-ttu-id="1d2ec-446">Kiszolgáló időkorlátja a tároló szolgáltatás, amely további vizsgálatot igényel problémát jelez.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-446">Server timeouts indicate a problem with the storage service that requires further investigation.</span></span> <span data-ttu-id="1d2ec-447">Metrikák is használhatja, ha hogy elérte-e a szolgáltatás a méretezhetőségének korlátai, és bármely igényeiben jelentkező a forgalom okozta probléma azonosításához.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-447">You can use metrics to see if you are hitting the scalability limits for the service and to identify any spikes in traffic that might be causing this problem.</span></span> <span data-ttu-id="1d2ec-448">Ha a probléma időszakos, lehet terheléselosztás miatt a szolgáltatás tevékenység.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-448">If the problem is intermittent, it may be due to load-balancing activity in the service.</span></span> <span data-ttu-id="1d2ec-449">Ha a probléma állandó, és nem okozza az alkalmazás elérte-e a szolgáltatás a méretezhetőségének korlátai, a problémának a megoldásához kell előléptetése.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-449">If the problem is persistent and is not caused by your application hitting the scalability limits of the service, you should raise a support issue.</span></span> <span data-ttu-id="1d2ec-450">Az ügyfél-időtúllépések döntse el, ha az időtúllépés értéke egy megfelelő értéket, az ügyfél és vagy az időkorlát értékének megadása a ügyfél módosítása, vagy vizsgálja meg, hogyan javíthatja a teljesítményét a műveletek a tárolás szolgáltatás például a táblázat lekérdezések optimalizálása, vagy az üzenetek méretének csökkentését.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-450">For client timeouts, you must decide if the timeout is set to an appropriate value in the client and either change the timeout value set in the client or investigate how you can improve the performance of the operations in the storage service, for example by optimizing your table queries or reducing the size of your messages.</span></span>

### <span data-ttu-id="1d2ec-451"><a name="metrics-show-an-increase-in-PercentNetworkError"></a>PercentNetworkError metrika növelését</span><span class="sxs-lookup"><span data-stu-id="1d2ec-451"><a name="metrics-show-an-increase-in-PercentNetworkError"></a>Metrics show an increase in PercentNetworkError</span></span>
<span data-ttu-id="1d2ec-452">A metrika növekedése **PercentNetworkError** a tárolási szolgáltatások egyike.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-452">Your metrics show an increase in **PercentNetworkError** for one of your storage services.</span></span> <span data-ttu-id="1d2ec-453">A **PercentNetworkError** mérőszáma egyszerűsítése érdekében a következő metrikákat: **NetworkError**, **AnonymousNetworkError**, és **SASNetworkError**.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-453">The **PercentNetworkError** metric is an aggregation of the following metrics: **NetworkError**, **AnonymousNetworkError**, and **SASNetworkError**.</span></span> <span data-ttu-id="1d2ec-454">Ezek akkor, ha a tároló szolgáltatás észleli a hálózati hiba, ha az ügyfél egy tárolási kérést.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-454">These occur when the storage service detects a network error when the client makes a storage request.</span></span>

<span data-ttu-id="1d2ec-455">Ez a hiba leggyakoribb oka egy ügyfél leválasztása időtúllépés járjon le a storage szolgáltatásban.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-455">The most common cause of this error is a client disconnecting before a timeout expires in the storage service.</span></span> <span data-ttu-id="1d2ec-456">Az ügyfél tudni, miért és mikor az ügyfél bontja a kapcsolatot a társzolgáltatás ki kell vizsgálni a kódot.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-456">You should investigate the code in your client to understand why and when the client disconnects from the storage service.</span></span> <span data-ttu-id="1d2ec-457">Vizsgálja meg az ügyfél hálózati problémák Wireshark, Microsoft Message Analyzert vagy Tcping is használja.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-457">You can also use Wireshark, Microsoft Message Analyzer, or Tcping to investigate network connectivity issues from the client.</span></span> <span data-ttu-id="1d2ec-458">Ezek az eszközök ismertetett a [mellékletek].</span><span class="sxs-lookup"><span data-stu-id="1d2ec-458">These tools are described in the [Appendices].</span></span>

### <span data-ttu-id="1d2ec-459"><a name="the-client-is-receiving-403-messages"></a>Az ügyfél HTTP 403 (tiltott) üzeneteket fogad</span><span class="sxs-lookup"><span data-stu-id="1d2ec-459"><a name="the-client-is-receiving-403-messages"></a>The client is receiving HTTP 403 (Forbidden) messages</span></span>
<span data-ttu-id="1d2ec-460">Ha az ügyfélalkalmazást szűrész HTTP 403 (tiltott) hibák, a legvalószínűbb oka, hogy az ügyfél használ egy lejárt közös hozzáférésű Jogosultságkód (SAS) tárolási kérelmet küld a (bár egyéb lehetséges okok a következők: óra eltérésére, érvénytelen kulcsokat, és üres fejlécekkel együtt).</span><span class="sxs-lookup"><span data-stu-id="1d2ec-460">If your client application is throwing HTTP 403 (Forbidden) errors, a likely cause is that the client is using an expired Shared Access Signature (SAS) when it sends a storage request (although other possible causes include clock skew, invalid keys, and empty headers).</span></span> <span data-ttu-id="1d2ec-461">Ha egy lejárt SAS-kulcsot az okot, nem látják azokat a bejegyzéseket a kiszolgálóoldali tárolási naplózás naplóadatokat.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-461">If an expired SAS key is the cause, you will not see any entries in the server-side Storage Logging log data.</span></span> <span data-ttu-id="1d2ec-462">Az alábbi táblázat megmutatja, az ügyféloldali naplóból állítja elő a Storage ügyféloldali kódtár, amely bemutatja, hogy ez a probléma lépett fel:</span><span class="sxs-lookup"><span data-stu-id="1d2ec-462">The following table shows a sample from the client-side log generated by the Storage Client Library that illustrates this issue occurring:</span></span>

| <span data-ttu-id="1d2ec-463">Forrás</span><span class="sxs-lookup"><span data-stu-id="1d2ec-463">Source</span></span> | <span data-ttu-id="1d2ec-464">A részletességi</span><span class="sxs-lookup"><span data-stu-id="1d2ec-464">Verbosity</span></span> | <span data-ttu-id="1d2ec-465">A részletességi</span><span class="sxs-lookup"><span data-stu-id="1d2ec-465">Verbosity</span></span> | <span data-ttu-id="1d2ec-466">Ügyfélkérelem-azonosító</span><span class="sxs-lookup"><span data-stu-id="1d2ec-466">Client request id</span></span> | <span data-ttu-id="1d2ec-467">A művelet szöveg</span><span class="sxs-lookup"><span data-stu-id="1d2ec-467">Operation text</span></span> |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="1d2ec-468">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="1d2ec-468">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="1d2ec-469">Információ</span><span class="sxs-lookup"><span data-stu-id="1d2ec-469">Information</span></span> |<span data-ttu-id="1d2ec-470">3</span><span class="sxs-lookup"><span data-stu-id="1d2ec-470">3</span></span> |<span data-ttu-id="1d2ec-471">85d077ab-...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-471">85d077ab-…</span></span> |<span data-ttu-id="1d2ec-472">A hely elsődleges hely módban PrimaryOnly művelet elindítása.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-472">Starting operation with location Primary per location mode PrimaryOnly.</span></span> |
| <span data-ttu-id="1d2ec-473">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="1d2ec-473">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="1d2ec-474">Információ</span><span class="sxs-lookup"><span data-stu-id="1d2ec-474">Information</span></span> |<span data-ttu-id="1d2ec-475">3</span><span class="sxs-lookup"><span data-stu-id="1d2ec-475">3</span></span> |<span data-ttu-id="1d2ec-476">85d077ab-...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-476">85d077ab -…</span></span> |<span data-ttu-id="1d2ec-477">Indítása szinkron kérelem https://domemaildist.blob.core.windows.netazureimblobcontainer/blobCreatedViaSAS.txt?sv=2014-02-14&amp;sr = c&amp;si = mypolicy&amp;sig OFnd4Rd7z01fIvh % 2BmcR6zbudIH2F5Ikm % 2FyhNYZEmJNQ % = 3D&amp;api-version = 2014-02-14.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-477">Starting synchronous request to https://domemaildist.blob.core.windows.netazureimblobcontainer/blobCreatedViaSAS.txt?sv=2014-02-14&amp;sr=c&amp;si=mypolicy&amp;sig=OFnd4Rd7z01fIvh%2BmcR6zbudIH2F5Ikm%2FyhNYZEmJNQ%3D&amp;api-version=2014-02-14.</span></span> |
| <span data-ttu-id="1d2ec-478">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="1d2ec-478">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="1d2ec-479">Információ</span><span class="sxs-lookup"><span data-stu-id="1d2ec-479">Information</span></span> |<span data-ttu-id="1d2ec-480">3</span><span class="sxs-lookup"><span data-stu-id="1d2ec-480">3</span></span> |<span data-ttu-id="1d2ec-481">85d077ab-...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-481">85d077ab -…</span></span> |<span data-ttu-id="1d2ec-482">Válaszra való várakozás közben.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-482">Waiting for response.</span></span> |
| <span data-ttu-id="1d2ec-483">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="1d2ec-483">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="1d2ec-484">Figyelmeztetés</span><span class="sxs-lookup"><span data-stu-id="1d2ec-484">Warning</span></span> |<span data-ttu-id="1d2ec-485">2</span><span class="sxs-lookup"><span data-stu-id="1d2ec-485">2</span></span> |<span data-ttu-id="1d2ec-486">85d077ab-...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-486">85d077ab -…</span></span> |<span data-ttu-id="1d2ec-487">Kivétel keletkezett a válaszra való várakozás közben: A távoli kiszolgáló hibát adott vissza: (403-as) tiltott...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-487">Exception thrown while waiting for response: The remote server returned an error: (403) Forbidden..</span></span> |
| <span data-ttu-id="1d2ec-488">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="1d2ec-488">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="1d2ec-489">Információ</span><span class="sxs-lookup"><span data-stu-id="1d2ec-489">Information</span></span> |<span data-ttu-id="1d2ec-490">3</span><span class="sxs-lookup"><span data-stu-id="1d2ec-490">3</span></span> |<span data-ttu-id="1d2ec-491">85d077ab-...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-491">85d077ab -…</span></span> |<span data-ttu-id="1d2ec-492">A válasz érkezett.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-492">Response received.</span></span> <span data-ttu-id="1d2ec-493">Állapotkód = 403-as, a kérelem azonosítója = 9d67c64a-64ed-4b0d-9515-3b14bbcdc63d, Content-MD5 = ETag =.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-493">Status code = 403, Request ID = 9d67c64a-64ed-4b0d-9515-3b14bbcdc63d, Content-MD5 = , ETag = .</span></span> |
| <span data-ttu-id="1d2ec-494">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="1d2ec-494">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="1d2ec-495">Figyelmeztetés</span><span class="sxs-lookup"><span data-stu-id="1d2ec-495">Warning</span></span> |<span data-ttu-id="1d2ec-496">2</span><span class="sxs-lookup"><span data-stu-id="1d2ec-496">2</span></span> |<span data-ttu-id="1d2ec-497">85d077ab-...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-497">85d077ab -…</span></span> |<span data-ttu-id="1d2ec-498">Kivétel történt a művelet során: A távoli kiszolgáló hibát adott vissza: (403-as) tiltott...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-498">Exception thrown during the operation: The remote server returned an error: (403) Forbidden..</span></span> |
| <span data-ttu-id="1d2ec-499">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="1d2ec-499">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="1d2ec-500">Információ</span><span class="sxs-lookup"><span data-stu-id="1d2ec-500">Information</span></span> |<span data-ttu-id="1d2ec-501">3</span><span class="sxs-lookup"><span data-stu-id="1d2ec-501">3</span></span> |<span data-ttu-id="1d2ec-502">85d077ab-...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-502">85d077ab -…</span></span> |<span data-ttu-id="1d2ec-503">Annak ellenőrzése, ha a műveletet meg kell ismételni.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-503">Checking if the operation should be retried.</span></span> <span data-ttu-id="1d2ec-504">Ismétlések száma = 0, HTTP-állapotkód = 403-as, kivétel = a távoli kiszolgáló hibát adott vissza: (403-as) tiltott...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-504">Retry count = 0, HTTP status code = 403, Exception = The remote server returned an error: (403) Forbidden..</span></span> |
| <span data-ttu-id="1d2ec-505">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="1d2ec-505">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="1d2ec-506">Információ</span><span class="sxs-lookup"><span data-stu-id="1d2ec-506">Information</span></span> |<span data-ttu-id="1d2ec-507">3</span><span class="sxs-lookup"><span data-stu-id="1d2ec-507">3</span></span> |<span data-ttu-id="1d2ec-508">85d077ab-...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-508">85d077ab -…</span></span> |<span data-ttu-id="1d2ec-509">A következő helyre van beállítva elsődleges, a hely mód alapján.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-509">The next location has been set to Primary, based on the location mode.</span></span> |
| <span data-ttu-id="1d2ec-510">Microsoft.WindowsAzure.Storage</span><span class="sxs-lookup"><span data-stu-id="1d2ec-510">Microsoft.WindowsAzure.Storage</span></span> |<span data-ttu-id="1d2ec-511">Hiba</span><span class="sxs-lookup"><span data-stu-id="1d2ec-511">Error</span></span> |<span data-ttu-id="1d2ec-512">1</span><span class="sxs-lookup"><span data-stu-id="1d2ec-512">1</span></span> |<span data-ttu-id="1d2ec-513">85d077ab-...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-513">85d077ab -…</span></span> |<span data-ttu-id="1d2ec-514">Újrapróbálkozási házirend nem engedélyezi az újrapróbálkozást.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-514">Retry policy did not allow for a retry.</span></span> <span data-ttu-id="1d2ec-515">Sikertelen a távoli kiszolgálóval hibát adott vissza: (403-as) tiltott.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-515">Failing with The remote server returned an error: (403) Forbidden.</span></span> |

<span data-ttu-id="1d2ec-516">Ebben az esetben kell vizsgálni, miért a SAS-jogkivonat lejár az ügyfélszámítógép elküldi a jogkivonatot a kiszolgálóra:</span><span class="sxs-lookup"><span data-stu-id="1d2ec-516">In this scenario, you should investigate why the SAS token is expiring before the client sends the token to the server:</span></span>

* <span data-ttu-id="1d2ec-517">Általában a kezdő időpont, amikor létrehoz egy SAS-t egy ügyfélen szeretné azonnal nincs beállítva.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-517">Typically, you should not set a start time when you create a SAS for a client to use immediately.</span></span> <span data-ttu-id="1d2ec-518">Ha a gazdagép a SAS használatával az aktuális idő és a tárolás szolgáltatás létrehozásakor, akkor lehetséges, hogy a társzolgáltatás fogadására, amely még nem érvényes SAS közötti kis óra különbségek vannak.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-518">If there are small clock differences between the host generating the SAS using the current time and the storage service, then it is possible for the storage service to receive a SAS that is not yet valid.</span></span>
* <span data-ttu-id="1d2ec-519">SAS-kód nem egy nagyon rövid lejárati időt kell beállítani.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-519">You should not set a very short expiry time on a SAS.</span></span> <span data-ttu-id="1d2ec-520">Ebben az esetben kis óra különbségei az SA-kat és a tárolás szolgáltatás létrehozása a gazdagép látszólag lejár a vártnál korábban SAS vezethet.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-520">Again, small clock differences between the host generating the SAS and the storage service can lead to a SAS apparently expiring earlier than anticipated.</span></span>
* <span data-ttu-id="1d2ec-521">Az SAS-kulcsot a verzió paramétere does (például **sv = 2015-04-05**) felel meg a Storage ügyféloldali kódtár használata verziójának?</span><span class="sxs-lookup"><span data-stu-id="1d2ec-521">Does the version parameter in the SAS key (for example **sv=2015-04-05**) match the version of the Storage Client Library you are using?</span></span> <span data-ttu-id="1d2ec-522">Azt javasoljuk, hogy mindig a legújabb verzióját használja a [a Storage ügyféloldali kódtára](https://www.nuget.org/packages/WindowsAzure.Storage/).</span><span class="sxs-lookup"><span data-stu-id="1d2ec-522">We recommend that you always use the latest version of the [Storage Client Library](https://www.nuget.org/packages/WindowsAzure.Storage/).</span></span>
* <span data-ttu-id="1d2ec-523">A tárelérési kulcsok újragenerálása, ha ez bármely létező SAS-tokenje érvénytelenné tehetik.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-523">If you regenerate your storage access keys, this can invalidate any existing SAS tokens.</span></span> <span data-ttu-id="1d2ec-524">Erre akkor lehet problémát, ha az ügyfél gyorsítótár alkalmazások hosszú lejárati idővel rendelkező SAS-tokenje.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-524">This may be an issue if you generate SAS tokens with a long expiry time for client applications to cache.</span></span>

<span data-ttu-id="1d2ec-525">A Storage ügyféloldali kódtár SAS-tokenje létrehozásához használ, majd esetén könnyen összeállíthat egy érvényes tokent.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-525">If you are using the Storage Client Library to generate SAS tokens, then it is easy to build a valid token.</span></span> <span data-ttu-id="1d2ec-526">Azonban ha a Storage REST API-t használ, és kézzel jogkivonatokat hoz létre, a biztonsági Társítások figyelmesen olvassa el a témakör [egy közös hozzáférésű Jogosultságkód hozzáférést delegálása](http://msdn.microsoft.com/library/azure/ee395415.aspx).</span><span class="sxs-lookup"><span data-stu-id="1d2ec-526">However, if you are using the Storage REST API and constructing the SAS tokens by hand you should carefully read the topic [Delegating Access with a Shared Access Signature](http://msdn.microsoft.com/library/azure/ee395415.aspx).</span></span>

### <span data-ttu-id="1d2ec-527"><a name="the-client-is-receiving-404-messages"></a>Az ügyfél HTTP 404-es (nem található) üzeneteket fogad</span><span class="sxs-lookup"><span data-stu-id="1d2ec-527"><a name="the-client-is-receiving-404-messages"></a>The client is receiving HTTP 404 (Not found) messages</span></span>
<span data-ttu-id="1d2ec-528">Ha az ügyfélalkalmazás egy HTTP 404-es (nem található) üzenetet kap, a kiszolgálóról, ez azt jelenti, hogy az objektum az ügyfél próbált használni (például egy entitás, tábla, blob, tároló vagy várólista) nem létezik a tároló szolgáltatást.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-528">If the client application receives an HTTP 404 (Not found) message from the server, this implies that the object the client was attempting to use (such as an entity, table, blob, container, or queue) does not exist in the storage service.</span></span> <span data-ttu-id="1d2ec-529">Számos, ennek lehetséges okai például:</span><span class="sxs-lookup"><span data-stu-id="1d2ec-529">There are a number of possible reasons for this, such as:</span></span>

* <span data-ttu-id="1d2ec-530">[Az ügyfél vagy egy másik folyamat a korábban az objektum törölve]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-530">[The client or another process previously deleted the object]</span></span>
* <span data-ttu-id="1d2ec-531">[Egy közös hozzáférésű Jogosultságkód (SAS) hitelesítési hiba]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-531">[A Shared Access Signature (SAS) authorization issue]</span></span>
* <span data-ttu-id="1d2ec-532">[Ügyféloldali JavaScript-kód nincs engedélye az objektumhoz való hozzáférést]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-532">[Client-side JavaScript code does not have permission to access the object]</span></span>
* <span data-ttu-id="1d2ec-533">[Hálózati hiba]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-533">[Network failure]</span></span>

#### <span data-ttu-id="1d2ec-534"><a name="client-previously-deleted-the-object"></a>Az ügyfél vagy egy másik folyamat a korábban az objektum törölve</span><span class="sxs-lookup"><span data-stu-id="1d2ec-534"><a name="client-previously-deleted-the-object"></a>The client or another process previously deleted the object</span></span>
<span data-ttu-id="1d2ec-535">A forgatókönyvek, ahol az ügyfél megpróbálja olvasása, frissítése vagy törölni az adatokat egy társzolgáltatás esetében általában könnyen azonosítható a kiszolgálóoldali naplók egy korábbi művelet, amely a szóban forgó objektum törlése a tárolószolgáltatásból.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-535">In scenarios where the client is attempting to read, update, or delete data in a storage service it is usually easy to identify in the server-side logs a previous operation that deleted the object in question from the storage service.</span></span> <span data-ttu-id="1d2ec-536">Nagyon gyakran a naplózási adatokat jeleníti meg, hogy egy másik felhasználó vagy folyamat az objektum törölve.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-536">Very often, the log data shows that another user or process deleted the object.</span></span> <span data-ttu-id="1d2ec-537">A kiszolgálóoldali tárolási naplózás naplóban művelet-típusa és a kért objektum-kulcs típusú oszlopok megjelenítése objektum törlésekor az ügyfelet.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-537">In the server-side Storage Logging log, the operation-type and requested-object-key columns show when a client deleted an object.</span></span>

<span data-ttu-id="1d2ec-538">A forgatókönyvben, ha egy ügyfél próbál egy olyan objektum beszúrására akkor előfordulhat, hogy azonnal nem válik egyértelművé, ezért az eredmény (nem található) HTTP 404-es választ fényében, hogy az ügyfél egy új objektumot hoz létre.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-538">In the scenario where a client is attempting to insert an object, it may not be immediately obvious why this results in an HTTP 404 (Not found) response given that the client is creating a new object.</span></span> <span data-ttu-id="1d2ec-539">Azonban ha az ügyfél hoz létre egy blobot, képesnek kell lennie a blob-tároló, ha az ügyfél hoz létre a várólista található képesnek kell lennie egy üzenetet, és az ügyfél hozzáadásával egy sort kell lennie a táblázatban találja.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-539">However, if the client is creating a blob it must be able to find the blob container, if the client is creating a message it must be able to find a queue, and if the client is adding a row it must be able to find the table.</span></span>

<span data-ttu-id="1d2ec-540">Az ügyféloldali napló a Storage ügyféloldali kódtára a segítségével megismerheti a részletes ismertetése amikor az ügyfél elküldi a társzolgáltatás bizonyos kérésekre.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-540">You can use the client-side log from the Storage Client Library to gain a more detailed understanding of when the client sends specific requests to the storage service.</span></span>

<span data-ttu-id="1d2ec-541">A következő ügyféloldali napló a Storage ügyféloldali kódtár által generált szemlélteti a problémát, ha az ügyfél akkor hoz létre a BLOB nem található a tárolóban.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-541">The following client-side log generated by the Storage Client library illustrates the problem when the client cannot find the container for the blob it is creating.</span></span> <span data-ttu-id="1d2ec-542">Ez a napló tartalmazza a tárolási műveletet az alábbiak közül:</span><span class="sxs-lookup"><span data-stu-id="1d2ec-542">This log includes details of the following storage operations:</span></span>

| <span data-ttu-id="1d2ec-543">Kérelem azonosítója</span><span class="sxs-lookup"><span data-stu-id="1d2ec-543">Request ID</span></span> | <span data-ttu-id="1d2ec-544">Művelet</span><span class="sxs-lookup"><span data-stu-id="1d2ec-544">Operation</span></span> |
| --- | --- |
| <span data-ttu-id="1d2ec-545">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-545">07b26a5d-...</span></span> |<span data-ttu-id="1d2ec-546">**DeleteIfExists** metódus a blob-tároló törlése.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-546">**DeleteIfExists** method to delete the blob container.</span></span> <span data-ttu-id="1d2ec-547">Vegye figyelembe, hogy ez a művelet tartalmaz egy **HEAD** kérelmet a tároló meglétének ellenőrzése.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-547">Note that this operation includes a **HEAD** request to check for the existence of the container.</span></span> |
| <span data-ttu-id="1d2ec-548">e2d06d78...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-548">e2d06d78…</span></span> |<span data-ttu-id="1d2ec-549">**CreateIfNotExists** módszer a blob-tároló létrehozása.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-549">**CreateIfNotExists** method to create the blob container.</span></span> <span data-ttu-id="1d2ec-550">Vegye figyelembe, hogy ez a művelet tartalmaz egy **HEAD** kérésére, amely ellenőrzi, hogy létezik-e a tárolóban.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-550">Note that this operation includes a **HEAD** request that checks for the existence of the container.</span></span> <span data-ttu-id="1d2ec-551">A **HEAD** 404-es üzenetet adja vissza, de továbbra is.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-551">The **HEAD** returns a 404 message but continues.</span></span> |
| <span data-ttu-id="1d2ec-552">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-552">de8b1c3c-...</span></span> |<span data-ttu-id="1d2ec-553">**UploadFromStream** metódus létrehozása a blob.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-553">**UploadFromStream** method to create the blob.</span></span> <span data-ttu-id="1d2ec-554">A **PUT** kérelem a 404-es üzenettel sikertelen</span><span class="sxs-lookup"><span data-stu-id="1d2ec-554">The **PUT** request fails with a 404 message</span></span> |

<span data-ttu-id="1d2ec-555">Naplóbejegyzéseket:</span><span class="sxs-lookup"><span data-stu-id="1d2ec-555">Log entries:</span></span>

| <span data-ttu-id="1d2ec-556">Kérelem azonosítója</span><span class="sxs-lookup"><span data-stu-id="1d2ec-556">Request ID</span></span> | <span data-ttu-id="1d2ec-557">A művelet szöveg</span><span class="sxs-lookup"><span data-stu-id="1d2ec-557">Operation Text</span></span> |
| --- | --- |
| <span data-ttu-id="1d2ec-558">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-558">07b26a5d-...</span></span> |<span data-ttu-id="1d2ec-559">Kezdő https://domemaildist.blob.core.windows.net/azuremmblobcontainer szinkron kérelmet.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-559">Starting synchronous request to https://domemaildist.blob.core.windows.net/azuremmblobcontainer.</span></span> |
| <span data-ttu-id="1d2ec-560">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-560">07b26a5d-...</span></span> |<span data-ttu-id="1d2ec-561">StringToSign = HEAD...x-ms-client-request-id:07b26a5d-...x-ms-date:Tue, 2014. jún 03. 10:33:11 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-561">StringToSign = HEAD............x-ms-client-request-id:07b26a5d-....x-ms-date:Tue, 03 Jun 2014 10:33:11 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span></span> |
| <span data-ttu-id="1d2ec-562">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-562">07b26a5d-...</span></span> |<span data-ttu-id="1d2ec-563">Válaszra való várakozás közben.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-563">Waiting for response.</span></span> |
| <span data-ttu-id="1d2ec-564">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-564">07b26a5d-...</span></span> |<span data-ttu-id="1d2ec-565">A válasz érkezett.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-565">Response received.</span></span> <span data-ttu-id="1d2ec-566">Állapotkód = 200 kérés azonosítója = eeead849... Content-MD5 = ETag = &quot;0x8D14D2DC63D059B&quot;.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-566">Status code = 200, Request ID = eeead849-...Content-MD5 = , ETag =    &quot;0x8D14D2DC63D059B&quot;.</span></span> |
| <span data-ttu-id="1d2ec-567">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-567">07b26a5d-...</span></span> |<span data-ttu-id="1d2ec-568">Válaszfejlécek sikerült feldolgozni, folytatás a többi részének a műveletet.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-568">Response headers were processed successfully, proceeding with the rest of the operation.</span></span> |
| <span data-ttu-id="1d2ec-569">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-569">07b26a5d-...</span></span> |<span data-ttu-id="1d2ec-570">Választörzs letöltése.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-570">Downloading response body.</span></span> |
| <span data-ttu-id="1d2ec-571">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-571">07b26a5d-...</span></span> |<span data-ttu-id="1d2ec-572">A művelet sikeresen befejeződött.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-572">Operation completed successfully.</span></span> |
| <span data-ttu-id="1d2ec-573">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-573">07b26a5d-...</span></span> |<span data-ttu-id="1d2ec-574">Kezdő https://domemaildist.blob.core.windows.net/azuremmblobcontainer szinkron kérelmet.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-574">Starting synchronous request to https://domemaildist.blob.core.windows.net/azuremmblobcontainer.</span></span> |
| <span data-ttu-id="1d2ec-575">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-575">07b26a5d-...</span></span> |<span data-ttu-id="1d2ec-576">StringToSign = DELETE...x-ms-client-request-id:07b26a5d-...x-ms-date:Tue, 2014. jún 03. 10:33:12 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-576">StringToSign = DELETE............x-ms-client-request-id:07b26a5d-....x-ms-date:Tue, 03 Jun 2014 10:33:12    GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span></span> |
| <span data-ttu-id="1d2ec-577">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-577">07b26a5d-...</span></span> |<span data-ttu-id="1d2ec-578">Válaszra való várakozás közben.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-578">Waiting for response.</span></span> |
| <span data-ttu-id="1d2ec-579">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-579">07b26a5d-...</span></span> |<span data-ttu-id="1d2ec-580">A válasz érkezett.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-580">Response received.</span></span> <span data-ttu-id="1d2ec-581">Állapotkód = 202, kérelem azonosítója = 6ab2a4cf-..., Content-MD5 = ETag =.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-581">Status code = 202, Request ID = 6ab2a4cf-..., Content-MD5 = , ETag = .</span></span> |
| <span data-ttu-id="1d2ec-582">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-582">07b26a5d-...</span></span> |<span data-ttu-id="1d2ec-583">Válaszfejlécek sikerült feldolgozni, folytatás a többi részének a műveletet.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-583">Response headers were processed successfully, proceeding with the rest of the operation.</span></span> |
| <span data-ttu-id="1d2ec-584">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-584">07b26a5d-...</span></span> |<span data-ttu-id="1d2ec-585">Választörzs letöltése.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-585">Downloading response body.</span></span> |
| <span data-ttu-id="1d2ec-586">07b26a5d-...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-586">07b26a5d-...</span></span> |<span data-ttu-id="1d2ec-587">A művelet sikeresen befejeződött.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-587">Operation completed successfully.</span></span> |
| <span data-ttu-id="1d2ec-588">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-588">e2d06d78-...</span></span> |<span data-ttu-id="1d2ec-589">Kezdő https://domemaildist.blob.core.windows.net/azuremmblobcontainer aszinkron kérelem.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-589">Starting asynchronous request to https://domemaildist.blob.core.windows.net/azuremmblobcontainer.</span></span></td> |
| <span data-ttu-id="1d2ec-590">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-590">e2d06d78-...</span></span> |<span data-ttu-id="1d2ec-591">StringToSign = HEAD...x-ms-client-request-id:e2d06d78-...x-ms-date:Tue, 2014. jún 03. 10:33:12 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-591">StringToSign = HEAD............x-ms-client-request-id:e2d06d78-....x-ms-date:Tue, 03 Jun 2014 10:33:12 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span></span> |
| <span data-ttu-id="1d2ec-592">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-592">e2d06d78-...</span></span> |<span data-ttu-id="1d2ec-593">Válaszra való várakozás közben.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-593">Waiting for response.</span></span> |
| <span data-ttu-id="1d2ec-594">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-594">de8b1c3c-...</span></span> |<span data-ttu-id="1d2ec-595">Kezdő https://domemaildist.blob.core.windows.net/azuremmblobcontainer/blobCreated.txt szinkron kérelmet.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-595">Starting synchronous request to https://domemaildist.blob.core.windows.net/azuremmblobcontainer/blobCreated.txt.</span></span> |
| <span data-ttu-id="1d2ec-596">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-596">de8b1c3c-...</span></span> |<span data-ttu-id="1d2ec-597">StringToSign = PUT... 64.qCmF+TQLPhq/YYK50mP9ZQ==...x-MS-BLOB-Type:BlockBlob.x-MS-Client-Request-ID:de8b1c3c-...x-MS-Date:TUE, 2014. jún 03. 10:33:12 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer/blobCreated.txt.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-597">StringToSign = PUT...64.qCmF+TQLPhq/YYK50mP9ZQ==........x-ms-blob-type:BlockBlob.x-ms-client-request-id:de8b1c3c-....x-ms-date:Tue, 03 Jun 2014 10:33:12 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer/blobCreated.txt.</span></span> |
| <span data-ttu-id="1d2ec-598">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-598">de8b1c3c-...</span></span> |<span data-ttu-id="1d2ec-599">Felkészülés a kérelem adatokat írni.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-599">Preparing to write request data.</span></span> |
| <span data-ttu-id="1d2ec-600">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-600">e2d06d78-...</span></span> |<span data-ttu-id="1d2ec-601">Kivétel keletkezett a válaszra való várakozás közben: A távoli kiszolgáló hibát adott vissza: (404) nem található.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-601">Exception thrown while waiting for response: The remote server returned an error: (404) Not Found..</span></span> |
| <span data-ttu-id="1d2ec-602">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-602">e2d06d78-...</span></span> |<span data-ttu-id="1d2ec-603">A válasz érkezett.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-603">Response received.</span></span> <span data-ttu-id="1d2ec-604">Állapotkód: 404-es, a kérelem azonosítója = = 353ae3bc-..., Content-MD5 = ETag =.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-604">Status code = 404, Request ID = 353ae3bc-..., Content-MD5 = , ETag = .</span></span> |
| <span data-ttu-id="1d2ec-605">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-605">e2d06d78-...</span></span> |<span data-ttu-id="1d2ec-606">Válaszfejlécek sikerült feldolgozni, folytatás a többi részének a műveletet.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-606">Response headers were processed successfully, proceeding with the rest of the operation.</span></span> |
| <span data-ttu-id="1d2ec-607">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-607">e2d06d78-...</span></span> |<span data-ttu-id="1d2ec-608">Választörzs letöltése.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-608">Downloading response body.</span></span> |
| <span data-ttu-id="1d2ec-609">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-609">e2d06d78-...</span></span> |<span data-ttu-id="1d2ec-610">A művelet sikeresen befejeződött.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-610">Operation completed successfully.</span></span> |
| <span data-ttu-id="1d2ec-611">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-611">e2d06d78-...</span></span> |<span data-ttu-id="1d2ec-612">Kezdő https://domemaildist.blob.core.windows.net/azuremmblobcontainer aszinkron kérelem.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-612">Starting asynchronous request to https://domemaildist.blob.core.windows.net/azuremmblobcontainer.</span></span> |
| <span data-ttu-id="1d2ec-613">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-613">e2d06d78-...</span></span> |<span data-ttu-id="1d2ec-614">StringToSign = PUT... 0...x-MS-Client-Request-ID:e2d06d78-...x-MS-Date:TUE, 2014. jún 03. 10:33:12 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-614">StringToSign = PUT...0.........x-ms-client-request-id:e2d06d78-....x-ms-date:Tue, 03 Jun 2014 10:33:12 GMT.x-ms-version:2014-02-14./domemaildist/azuremmblobcontainer.restype:container.</span></span> |
| <span data-ttu-id="1d2ec-615">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-615">e2d06d78-...</span></span> |<span data-ttu-id="1d2ec-616">Válaszra való várakozás közben.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-616">Waiting for response.</span></span> |
| <span data-ttu-id="1d2ec-617">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-617">de8b1c3c-...</span></span> |<span data-ttu-id="1d2ec-618">Kérelem az adatok írásakor.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-618">Writing request data.</span></span> |
| <span data-ttu-id="1d2ec-619">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-619">de8b1c3c-...</span></span> |<span data-ttu-id="1d2ec-620">Válaszra való várakozás közben.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-620">Waiting for response.</span></span> |
| <span data-ttu-id="1d2ec-621">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-621">e2d06d78-...</span></span> |<span data-ttu-id="1d2ec-622">Kivétel keletkezett a válaszra való várakozás közben: A távoli kiszolgáló hibát adott vissza: (409) ütközés...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-622">Exception thrown while waiting for response: The remote server returned an error: (409) Conflict..</span></span> |
| <span data-ttu-id="1d2ec-623">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-623">e2d06d78-...</span></span> |<span data-ttu-id="1d2ec-624">A válasz érkezett.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-624">Response received.</span></span> <span data-ttu-id="1d2ec-625">Állapotkód = 409, a kérelem azonosítója = c27da20e-..., Content-MD5 = ETag =.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-625">Status code = 409, Request ID = c27da20e-..., Content-MD5 = , ETag = .</span></span> |
| <span data-ttu-id="1d2ec-626">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-626">e2d06d78-...</span></span> |<span data-ttu-id="1d2ec-627">Csomagletöltési hiba adott válasz törzse.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-627">Downloading error response body.</span></span> |
| <span data-ttu-id="1d2ec-628">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-628">de8b1c3c-...</span></span> |<span data-ttu-id="1d2ec-629">Kivétel keletkezett a válaszra való várakozás közben: A távoli kiszolgáló hibát adott vissza: (404) nem található.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-629">Exception thrown while waiting for response: The remote server returned an error: (404) Not Found..</span></span> |
| <span data-ttu-id="1d2ec-630">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-630">de8b1c3c-...</span></span> |<span data-ttu-id="1d2ec-631">A válasz érkezett.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-631">Response received.</span></span> <span data-ttu-id="1d2ec-632">Állapotkód: 404-es, a kérelem azonosítója = = 0eaeab3e-..., Content-MD5 = ETag =.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-632">Status code = 404, Request ID = 0eaeab3e-..., Content-MD5 = , ETag = .</span></span> |
| <span data-ttu-id="1d2ec-633">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-633">de8b1c3c-...</span></span> |<span data-ttu-id="1d2ec-634">Kivétel történt a művelet során: A távoli kiszolgáló hibát adott vissza: (404) nem található.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-634">Exception thrown during the operation: The remote server returned an error: (404) Not Found..</span></span> |
| <span data-ttu-id="1d2ec-635">de8b1c3c-...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-635">de8b1c3c-...</span></span> |<span data-ttu-id="1d2ec-636">Újrapróbálkozási házirend nem engedélyezi az újrapróbálkozást.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-636">Retry policy did not allow for a retry.</span></span> <span data-ttu-id="1d2ec-637">Sikertelen a távoli kiszolgálóval hibát adott vissza: (404) nem található.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-637">Failing with The remote server returned an error: (404) Not Found..</span></span> |
| <span data-ttu-id="1d2ec-638">e2d06d78-...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-638">e2d06d78-...</span></span> |<span data-ttu-id="1d2ec-639">Újrapróbálkozási házirend nem engedélyezi az újrapróbálkozást.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-639">Retry policy did not allow for a retry.</span></span> <span data-ttu-id="1d2ec-640">Sikertelen a távoli kiszolgálóval hibát adott vissza: (409) ütközés...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-640">Failing with The remote server returned an error: (409) Conflict..</span></span> |

<span data-ttu-id="1d2ec-641">Ebben a példában a napló jeleníti meg, hogy az ügyfél van kihagyásos érkező kéréseket a **CreateIfNotExists** érkező kéréseket (... kérelem azonosítója e2d06d78) metódust a **UploadFromStream** metódus (de8b1c3c-...); Ez akkor történik meg, mert az ügyfélalkalmazás aszinkron módon hívja a ezeket a módszereket.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-641">In this example, the log shows that the client is interleaving requests from the **CreateIfNotExists** method (request id e2d06d78…) with the requests from the **UploadFromStream** method (de8b1c3c-...); this is happening because the client application is invoking these methods asynchronously.</span></span> <span data-ttu-id="1d2ec-642">Az ügyfél számára, győződjön meg arról, hogy létrehozza a tároló előtt minden adatok feltöltése a blob a tárolóban lévő aszinkron kódot kell módosítani.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-642">You should modify the asynchronous code in the client to ensure that it creates the container before attempting to upload any data to a blob in that container.</span></span> <span data-ttu-id="1d2ec-643">Ideális esetben a tárolók előre kell létrehoznia.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-643">Ideally, you should create all your containers in advance.</span></span>

#### <span data-ttu-id="1d2ec-644"><a name="SAS-authorization-issue"></a>Egy közös hozzáférésű Jogosultságkód (SAS) hitelesítési hiba</span><span class="sxs-lookup"><span data-stu-id="1d2ec-644"><a name="SAS-authorization-issue"></a>A Shared Access Signature (SAS) authorization issue</span></span>
<span data-ttu-id="1d2ec-645">Ha az ügyfélalkalmazás megpróbálja, amely nem tartalmazza a szükséges engedélyekkel a művelet SAS-kulcsot használ, a tároló szolgáltatás (nem található) HTTP 404 üzenetben visszaadja az ügyfélnek.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-645">If the client application attempts to use a SAS key that does not include the necessary permissions for the operation, the storage service returns an HTTP 404 (Not found) message to the client.</span></span> <span data-ttu-id="1d2ec-646">Egy időben, látni fogja emellett nullától eltérő értéket **SASAuthorizationError** a metrikák a.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-646">At the same time, you will also see a non-zero value for **SASAuthorizationError** in the metrics.</span></span>

<span data-ttu-id="1d2ec-647">Az alábbi táblázat a naplózás tárolási naplófájlból kiszolgálóoldali napló mintaüzenet:</span><span class="sxs-lookup"><span data-stu-id="1d2ec-647">The following table shows a sample server-side log message from the Storage Logging log file:</span></span>

| <span data-ttu-id="1d2ec-648">Név</span><span class="sxs-lookup"><span data-stu-id="1d2ec-648">Name</span></span> | <span data-ttu-id="1d2ec-649">Érték</span><span class="sxs-lookup"><span data-stu-id="1d2ec-649">Value</span></span> |
| --- | --- |
| <span data-ttu-id="1d2ec-650">Kérelem kezdési ideje</span><span class="sxs-lookup"><span data-stu-id="1d2ec-650">Request start time</span></span> | <span data-ttu-id="1d2ec-651">2014-05-30T06:17:48.4473697Z</span><span class="sxs-lookup"><span data-stu-id="1d2ec-651">2014-05-30T06:17:48.4473697Z</span></span> |
| <span data-ttu-id="1d2ec-652">Művelet típusa</span><span class="sxs-lookup"><span data-stu-id="1d2ec-652">Operation type</span></span>     | <span data-ttu-id="1d2ec-653">GetBlobProperties</span><span class="sxs-lookup"><span data-stu-id="1d2ec-653">GetBlobProperties</span></span>            |
| <span data-ttu-id="1d2ec-654">Szolgáltatáskérés állapota</span><span class="sxs-lookup"><span data-stu-id="1d2ec-654">Request status</span></span>     | <span data-ttu-id="1d2ec-655">SASAuthorizationError</span><span class="sxs-lookup"><span data-stu-id="1d2ec-655">SASAuthorizationError</span></span>        |
| <span data-ttu-id="1d2ec-656">HTTP-állapotkód:</span><span class="sxs-lookup"><span data-stu-id="1d2ec-656">HTTP status code</span></span>   | <span data-ttu-id="1d2ec-657">404</span><span class="sxs-lookup"><span data-stu-id="1d2ec-657">404</span></span>                          |
| <span data-ttu-id="1d2ec-658">Hitelesítés típusa</span><span class="sxs-lookup"><span data-stu-id="1d2ec-658">Authentication type</span></span>| <span data-ttu-id="1d2ec-659">SAS</span><span class="sxs-lookup"><span data-stu-id="1d2ec-659">Sas</span></span>                          |
| <span data-ttu-id="1d2ec-660">Szolgáltatás típusa</span><span class="sxs-lookup"><span data-stu-id="1d2ec-660">Service type</span></span>       | <span data-ttu-id="1d2ec-661">Blob</span><span class="sxs-lookup"><span data-stu-id="1d2ec-661">Blob</span></span>                         |
| <span data-ttu-id="1d2ec-662">Kérelem URL-címe</span><span class="sxs-lookup"><span data-stu-id="1d2ec-662">Request URL</span></span>        | <span data-ttu-id="1d2ec-663">https://domemaildist.BLOB.Core.Windows.NET/azureimblobcontainer/blobCreatedViaSAS.txt</span><span class="sxs-lookup"><span data-stu-id="1d2ec-663">https://domemaildist.blob.core.windows.net/azureimblobcontainer/blobCreatedViaSAS.txt</span></span> |
| <span data-ttu-id="1d2ec-664">nbsp;</span><span class="sxs-lookup"><span data-stu-id="1d2ec-664">nbsp;</span></span>              |   <span data-ttu-id="1d2ec-665">? sv 2014-02-14 = & sr = c & si = mypolicy & sig = XXXXX&;api-version = 2014-02-14</span><span class="sxs-lookup"><span data-stu-id="1d2ec-665">?sv=2014-02-14&sr=c&si=mypolicy&sig=XXXXX&;api-version=2014-02-14</span></span> |
| <span data-ttu-id="1d2ec-666">Kérelemfejlécet azonosítója</span><span class="sxs-lookup"><span data-stu-id="1d2ec-666">Request id header</span></span>  | <span data-ttu-id="1d2ec-667">a1f348d5-8032-4912-93EF-b393e5252a3b</span><span class="sxs-lookup"><span data-stu-id="1d2ec-667">a1f348d5-8032-4912-93ef-b393e5252a3b</span></span> |
| <span data-ttu-id="1d2ec-668">Ügyfélkérelem-azonosító</span><span class="sxs-lookup"><span data-stu-id="1d2ec-668">Client request ID</span></span>  | <span data-ttu-id="1d2ec-669">2d064953-8436-4ee0-aa0c-65cb874f7929</span><span class="sxs-lookup"><span data-stu-id="1d2ec-669">2d064953-8436-4ee0-aa0c-65cb874f7929</span></span> |


<span data-ttu-id="1d2ec-670">Ki kell vizsgálni, hogy miért az ügyfélalkalmazás megpróbálja végrehajtania egy műveletet nem kapta meg engedélyeket.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-670">You should investigate why your client application is attempting to perform an operation it has not been granted permissions for.</span></span>

#### <span data-ttu-id="1d2ec-671"><a name="JavaScript-code-does-not-have-permission"></a>Ügyféloldali JavaScript-kód nincs engedélye az objektumhoz való hozzáférést</span><span class="sxs-lookup"><span data-stu-id="1d2ec-671"><a name="JavaScript-code-does-not-have-permission"></a>Client-side JavaScript code does not have permission to access the object</span></span>
<span data-ttu-id="1d2ec-672">Ha a JavaScript-ügyfelet kell használnia, és a társzolgáltatás HTTP 404-es üzeneteket ad eredményül, keressen a böngészőben a következő JavaScript-hibák:</span><span class="sxs-lookup"><span data-stu-id="1d2ec-672">If you are using a JavaScript client and the storage service is returning HTTP 404 messages, you check for the following JavaScript errors in the browser:</span></span>

```
SEC7120: Origin http://localhost:56309 not found in Access-Control-Allow-Origin header.
SCRIPT7002: XMLHttpRequest: Network Error 0x80070005, Access is denied.
```

> [!NOTE]
> <span data-ttu-id="1d2ec-673">Az Internet Explorer az F12 fejlesztői eszközök segítségével nyomon követni az ügyféloldali JavaScript problémák elhárításakor a böngésző és a tárolási szolgáltatás között cserélt üzeneteket.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-673">You can use the F12 Developer Tools in Internet Explorer to trace the messages exchanged between the browser and the storage service when you are troubleshooting client-side JavaScript issues.</span></span>
> 
> 

<span data-ttu-id="1d2ec-674">Ezek a hibák fordulhat elő, mert a webböngésző valósítja meg a [ugyanazt](http://www.w3.org/Security/wiki/Same_Origin_Policy) biztonsági korlátozása, hogy a webes hívja az API-t egy másik tartományban a tartományból a lap származik.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-674">These errors occur because the web browser implements the [same origin policy](http://www.w3.org/Security/wiki/Same_Origin_Policy) security restriction that prevents a web page from calling an API in a different domain from the domain the page comes from.</span></span>

<span data-ttu-id="1d2ec-675">A JavaScript probléma Cross Origin Resource Sharing (CORS) is konfigurálhat a ügyfelet társzolgáltatás.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-675">To work around the JavaScript issue, you can configure Cross Origin Resource Sharing (CORS) for the storage service the client is accessing.</span></span> <span data-ttu-id="1d2ec-676">További információkért lásd: [Azure Storage szolgáltatásainak Cross-Origin Resource Sharing (CORS) támogatása](http://msdn.microsoft.com/library/azure/dn535601.aspx).</span><span class="sxs-lookup"><span data-stu-id="1d2ec-676">For more information, see [Cross-Origin Resource Sharing (CORS) Support for Azure Storage Services](http://msdn.microsoft.com/library/azure/dn535601.aspx).</span></span>

<span data-ttu-id="1d2ec-677">A következő példakód bemutatja, hogyan konfigurálja a blob szolgáltatást, hogy a blob storage szolgáltatásban blob eléréséhez a Contoso tartományban futó JavaScript engedélyezése:</span><span class="sxs-lookup"><span data-stu-id="1d2ec-677">The following code sample shows how to configure your blob service to allow JavaScript running in the Contoso domain to access a blob in your blob storage service:</span></span>

```csharp
CloudBlobClient client = new CloudBlobClient(blobEndpoint, new StorageCredentials(accountName, accountKey));
// Set the service properties.
ServiceProperties sp = client.GetServiceProperties();
sp.DefaultServiceVersion = "2013-08-15";
CorsRule cr = new CorsRule();
cr.AllowedHeaders.Add("*");
cr.AllowedMethods = CorsHttpMethods.Get | CorsHttpMethods.Put;
cr.AllowedOrigins.Add("http://www.contoso.com");
cr.ExposedHeaders.Add("x-ms-*");
cr.MaxAgeInSeconds = 5;
sp.Cors.CorsRules.Clear();
sp.Cors.CorsRules.Add(cr);
client.SetServiceProperties(sp);
```

#### <span data-ttu-id="1d2ec-678"><a name="network-failure"></a>Hálózati hiba</span><span class="sxs-lookup"><span data-stu-id="1d2ec-678"><a name="network-failure"></a>Network Failure</span></span>
<span data-ttu-id="1d2ec-679">Bizonyos körülmények között elveszett hálózati csomagokat a HTTP 404-es üzenetek vissza az ügyfélnek társzolgáltatás vezethet.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-679">In some circumstances, lost network packets can lead to the storage service returning HTTP 404 messages to the client.</span></span> <span data-ttu-id="1d2ec-680">Például, ha az ügyfélalkalmazást entitás törlése a table szolgáltatásból megjelenik az ügyfél egy tárolási kivétel jelentés throw egy "HTTP 404-es (nem található)" a table szolgáltatásból a hibaállapot-üzeneteket.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-680">For example, when your client application is deleting an entity from the table service you see the client throw a storage exception reporting an "HTTP 404 (Not Found)" status message from the table service.</span></span> <span data-ttu-id="1d2ec-681">Ha a tábla a table storage szolgáltatásban vizsgálja meg, megjelenik az, hogy a szolgáltatás minden volt törölni egy entitást, kért.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-681">When you investigate the table in the table storage service, you see that the service did delete the entity as requested.</span></span>

<span data-ttu-id="1d2ec-682">A kivétel részletes adatai az ügyfél tartalmazza a kéréshez a table szolgáltatás által hozzárendelt kérelemazonosító (7e84f12d...): Ez az információ segítségével a keresőkifejezéssel kereshet a kiszolgálóoldali tárolási naplók a kérelem részletes adatait a **kérelemfejlécet-azonosító** oszlop a naplófájlban.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-682">The exception details in the client include the request id (7e84f12d…) assigned by the table service for the request: you can use this information to locate the request details in the server-side storage logs by searching in the **request-id-header** column in the log file.</span></span> <span data-ttu-id="1d2ec-683">A metrikák hibák például ez történik, és kereshet a naplófájlok a metrikák rögzített Ez a hiba ideje alapján azonosítására is használhatja.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-683">You could also use the metrics to identify when failures such as this occur and then search the log files based on the time the metrics recorded this error.</span></span> <span data-ttu-id="1d2ec-684">A naplóbejegyzés jeleníti meg, hogy a törlése nem sikerült egy "HTTP (404) ügyfél más hiba" állapotüzenetet.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-684">This log entry shows that the delete failed with an "HTTP (404) Client Other Error" status message.</span></span> <span data-ttu-id="1d2ec-685">Az azonos naplóbejegyzés is tartalmaz az ügyfél által generált kérelemazonosító a **ügyfélkérelem-azonosító** oszlop (813ea74f...).</span><span class="sxs-lookup"><span data-stu-id="1d2ec-685">The same log entry also includes the request id generated by the client in the **client-request-id** column (813ea74f…).</span></span>

<span data-ttu-id="1d2ec-686">A kiszolgálóoldali napló is azonos egy másik belépési **ügyfélkérelem-azonosító** értékét (813ea74f...) a sikeres művelet ugyanaz az entitás, valamint az ugyanazon ügyféltől törlése.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-686">The server-side log also includes another entry with the same **client-request-id** value (813ea74f…) for a successful delete operation for the same entity, and from the same client.</span></span> <span data-ttu-id="1d2ec-687">A sikeres törlési művelete rövid idő került sor, a sikertelen kérelem törlése előtt.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-687">This successful delete operation took place very shortly before the failed delete request.</span></span>

<span data-ttu-id="1d2ec-688">Ebben a forgatókönyvben ennek legvalószínűbb oka az, hogy az ügyfél az entitás delete kérelmet küldött a table szolgáltatás, amely sikeres volt, de nem kapott nyugtázást a kiszolgáló (lehet, hogy oka egy átmeneti hálózati probléma).</span><span class="sxs-lookup"><span data-stu-id="1d2ec-688">The most likely cause of this scenario is that the client sent a delete request for the entity to the table service, which succeeded, but did not receive an acknowledgement from the server (perhaps due to a temporary network issue).</span></span> <span data-ttu-id="1d2ec-689">Az ügyfél ezután automatikusan újra megpróbálja a műveletet (azonos **ügyfélkérelem-azonosító**), és ily módon tett újrapróbálkozás sikertelen volt, mert az entitás már törlődött.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-689">The client then automatically retried the operation (using the same **client-request-id**), and this retry failed because the entity had already been deleted.</span></span>

<span data-ttu-id="1d2ec-690">Ha a probléma gyakran előfordul, ki kell vizsgálni, miért az ügyfél nem képes a table szolgáltatásból nyugtázásának érkezésére.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-690">If this problem occurs frequently, you should investigate why the client is failing to receive acknowledgements from the table service.</span></span> <span data-ttu-id="1d2ec-691">Ha a probléma időszakos, azt kell feldolgozzák-e a "HTTP (404) nem található" hiba és -e jelentkezni, az ügyfél, azonban az ügyfél továbbra is.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-691">If the problem is intermittent, you should trap the "HTTP (404) Not Found" error and log it in the client, but allow the client to continue.</span></span>

### <span data-ttu-id="1d2ec-692"><a name="the-client-is-receiving-409-messages"></a>Az ügyfél HTTP 409 (Ütközés) üzeneteket fogad</span><span class="sxs-lookup"><span data-stu-id="1d2ec-692"><a name="the-client-is-receiving-409-messages"></a>The client is receiving HTTP 409 (Conflict) messages</span></span>
<span data-ttu-id="1d2ec-693">Az alábbi táblázatban láthatók a kiszolgálóoldali keresse meg a két Ügyfélműveletek kivonatát: **DeleteIfExists** után azonnal az **CreateIfNotExists** blob-tároló azonos név használata.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-693">The following table shows an extract from the server-side log for two client operations: **DeleteIfExists** followed immediately by **CreateIfNotExists** using the same blob container name.</span></span> <span data-ttu-id="1d2ec-694">Vegye figyelembe, hogy minden ügyfél művelet eredménye két kérelmet a rendszer kiszolgálóra küldi, először egy **GetContainerProperties** kérelem ellenőrizze, hogy a tároló létezik-e, majd a **DeleteContainer** vagy **CreateContainer** kérelmet.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-694">Note that each client operation results in two requests sent to the server, first a **GetContainerProperties** request to check if the container exists, followed by the **DeleteContainer** or **CreateContainer** request.</span></span>

| <span data-ttu-id="1d2ec-695">időbélyeg</span><span class="sxs-lookup"><span data-stu-id="1d2ec-695">Timestamp</span></span> | <span data-ttu-id="1d2ec-696">Művelet</span><span class="sxs-lookup"><span data-stu-id="1d2ec-696">Operation</span></span> | <span data-ttu-id="1d2ec-697">eredménye</span><span class="sxs-lookup"><span data-stu-id="1d2ec-697">Result</span></span> | <span data-ttu-id="1d2ec-698">Tárolónév</span><span class="sxs-lookup"><span data-stu-id="1d2ec-698">Container name</span></span> | <span data-ttu-id="1d2ec-699">Ügyfélkérelem-azonosító</span><span class="sxs-lookup"><span data-stu-id="1d2ec-699">Client request id</span></span> |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="1d2ec-700">05:10:13.7167225</span><span class="sxs-lookup"><span data-stu-id="1d2ec-700">05:10:13.7167225</span></span> |<span data-ttu-id="1d2ec-701">GetContainerProperties</span><span class="sxs-lookup"><span data-stu-id="1d2ec-701">GetContainerProperties</span></span> |<span data-ttu-id="1d2ec-702">200</span><span class="sxs-lookup"><span data-stu-id="1d2ec-702">200</span></span> |<span data-ttu-id="1d2ec-703">mmcont</span><span class="sxs-lookup"><span data-stu-id="1d2ec-703">mmcont</span></span> |<span data-ttu-id="1d2ec-704">c9f52c89-...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-704">c9f52c89-…</span></span> |
| <span data-ttu-id="1d2ec-705">05:10:13.8167325</span><span class="sxs-lookup"><span data-stu-id="1d2ec-705">05:10:13.8167325</span></span> |<span data-ttu-id="1d2ec-706">DeleteContainer</span><span class="sxs-lookup"><span data-stu-id="1d2ec-706">DeleteContainer</span></span> |<span data-ttu-id="1d2ec-707">202</span><span class="sxs-lookup"><span data-stu-id="1d2ec-707">202</span></span> |<span data-ttu-id="1d2ec-708">mmcont</span><span class="sxs-lookup"><span data-stu-id="1d2ec-708">mmcont</span></span> |<span data-ttu-id="1d2ec-709">c9f52c89-...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-709">c9f52c89-…</span></span> |
| <span data-ttu-id="1d2ec-710">05:10:13.8987407</span><span class="sxs-lookup"><span data-stu-id="1d2ec-710">05:10:13.8987407</span></span> |<span data-ttu-id="1d2ec-711">GetContainerProperties</span><span class="sxs-lookup"><span data-stu-id="1d2ec-711">GetContainerProperties</span></span> |<span data-ttu-id="1d2ec-712">404</span><span class="sxs-lookup"><span data-stu-id="1d2ec-712">404</span></span> |<span data-ttu-id="1d2ec-713">mmcont</span><span class="sxs-lookup"><span data-stu-id="1d2ec-713">mmcont</span></span> |<span data-ttu-id="1d2ec-714">bc881924-...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-714">bc881924-…</span></span> |
| <span data-ttu-id="1d2ec-715">05:10:14.2147723</span><span class="sxs-lookup"><span data-stu-id="1d2ec-715">05:10:14.2147723</span></span> |<span data-ttu-id="1d2ec-716">CreateContainer</span><span class="sxs-lookup"><span data-stu-id="1d2ec-716">CreateContainer</span></span> |<span data-ttu-id="1d2ec-717">409</span><span class="sxs-lookup"><span data-stu-id="1d2ec-717">409</span></span> |<span data-ttu-id="1d2ec-718">mmcont</span><span class="sxs-lookup"><span data-stu-id="1d2ec-718">mmcont</span></span> |<span data-ttu-id="1d2ec-719">bc881924-...</span><span class="sxs-lookup"><span data-stu-id="1d2ec-719">bc881924-…</span></span> |

<span data-ttu-id="1d2ec-720">Az ügyfélalkalmazás kódja törli, és azonnal újra létrehozza a blobtárolót az azonos név használata: a **CreateIfNotExists** (ügyfél kérelem azonosítója bc881924-...) metódus idővel a HTTP 409 (Ütközés) hibaüzenettel meghiúsul.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-720">The code in the client application deletes and then immediately recreates a blob container using the same name: the **CreateIfNotExists** method (Client request ID bc881924-…) eventually fails with the HTTP 409 (Conflict) error.</span></span> <span data-ttu-id="1d2ec-721">Ha törli az ügyfél a blobtárolók, táblák, vagy olyan várólisták esetében egy rövid időszak neve előtt ismét elérhetővé válik.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-721">When a client deletes blob containers, tables, or queues there is a brief period before the name becomes available again.</span></span>

<span data-ttu-id="1d2ec-722">Az ügyfélalkalmazás kell használni egyedi tároló neve, ha a törlése és ismételt létrehozása minta közös új tárolók létrehozza.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-722">The client application should use unique container names whenever it creates new containers if the delete/recreate pattern is common.</span></span>

### <span data-ttu-id="1d2ec-723"><a name="metrics-show-low-percent-success"></a>Metrika alacsony PercentSuccess vagy analytics naplóbejegyzések rendelkezik ClientOtherErrors működésére a tranzakció állapota</span><span class="sxs-lookup"><span data-stu-id="1d2ec-723"><a name="metrics-show-low-percent-success"></a>Metrics show low PercentSuccess or analytics log entries have operations with transaction status of ClientOtherErrors</span></span>
<span data-ttu-id="1d2ec-724">A **PercentSuccess** metrika százalékos arányát sikerrel járt-e a HTTP-állapotkód alapján műveleteket rögzíti.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-724">The **PercentSuccess** metric captures the percent of operations that were successful based on their HTTP Status Code.</span></span> <span data-ttu-id="1d2ec-725">A 2XX állapotkódok műveletek száma sikeres, mivel az állapotkódnak 3XX, 4XX és 5XX tartományok műveletek szerint sikertelen és alacsonyabb bájtjai számítanak. a **PercentSucess** Átjárómetrika értékeként.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-725">Operations with status codes of 2XX count as successful, whereas operations with status codes in 3XX, 4XX and 5XX ranges are counted as unsuccessful and lower the **PercentSucess** metric value.</span></span> <span data-ttu-id="1d2ec-726">A tranzakció állapota a rögzített ezeket a műveleteket a kiszolgálóoldali tárolási naplófájlokban **ClientOtherErrors**.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-726">In the server-side storage log files, these operations are recorded with a transaction status of **ClientOtherErrors**.</span></span>

<span data-ttu-id="1d2ec-727">Fontos megjegyezni, hogy ezek a műveletek sikeresen befejeződött, és ezért nem befolyásolják a más mutatókat, például a rendelkezésre állási.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-727">It is important to note that these operations have completed successfully and therefore do not affect other metrics such as availability.</span></span> <span data-ttu-id="1d2ec-728">Néhány művelet, hogy sikeresen végrehajtható legyen, de a sikertelen HTTP-állapotkódok eredményezhet, amely többek között:</span><span class="sxs-lookup"><span data-stu-id="1d2ec-728">Some examples of operations that execute successfully but that can result in unsuccessful HTTP status codes include:</span></span>

* <span data-ttu-id="1d2ec-729">**ResourceNotFound** (nem található 404-es), például a GET kérelem blob, amely nem létezik.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-729">**ResourceNotFound** (Not Found 404), for example from a GET request to a blob that does not exist.</span></span>
* <span data-ttu-id="1d2ec-730">**ResouceAlreadyExists** (ütközés 409), például egy **CreateIfNotExist** műveletet, ha az erőforrás már létezik.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-730">**ResouceAlreadyExists** (Conflict 409), for example from a **CreateIfNotExist** operation where the resource already exists.</span></span>
* <span data-ttu-id="1d2ec-731">**ConditionNotMet** (nem módosított 304), például az egy feltételes művelet, például amikor egy ügyfél küld egy **ETag** érték és a HTTP **If-None-Match** fejléc kéréséhez lemezkép csak akkor, ha az utolsó művelet óta frissült.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-731">**ConditionNotMet** (Not Modified 304), for example from a conditional operation such as when a client sends an **ETag** value and an HTTP **If-None-Match** header to request an image only if it has been updated since the last operation.</span></span>

<span data-ttu-id="1d2ec-732">Közös REST API hiba megtekintéséhez, amely a tárolási szolgáltatások ad vissza, az oldalon található [közös REST API hibakódok](http://msdn.microsoft.com/library/azure/dd179357.aspx).</span><span class="sxs-lookup"><span data-stu-id="1d2ec-732">You can find a list of common REST API error codes that the storage services return on the page [Common REST API Error Codes](http://msdn.microsoft.com/library/azure/dd179357.aspx).</span></span>

### <span data-ttu-id="1d2ec-733"><a name="capacity-metrics-show-an-unexpected-increase"></a>Teljesítmény-mérőszámait váratlan növekedését megjelenítése a tárolási kapacitás-használat</span><span class="sxs-lookup"><span data-stu-id="1d2ec-733"><a name="capacity-metrics-show-an-unexpected-increase"></a>Capacity metrics show an unexpected increase in storage capacity usage</span></span>
<span data-ttu-id="1d2ec-734">Hirtelen jelenik meg, ha a tárfiókban lévő kapacitás használati váratlan változásai használatával megvizsgálhatja a okok miatt a rendelkezésre állási metrikák; első megtekintésével például növekedése sikertelen törlési kérelmek vezethet, előfordulhat, hogy rendelkezik várhatóan kell szabadítson fel helyet alkalmazás adott karbantartási műveleteket lehet, hogy nem az elvárásoknak megfelelően működik (például azért, mert lejárt a szabadítson fel helyet használt SAS-tokenje) használt blob-tároló mennyiségének olyan növekedése száma.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-734">If you see sudden, unexpected changes in capacity usage in your storage account, you can investigate the reasons by first looking at your availability metrics; for example, an increase in the number of failed delete requests might lead to an increase in the amount of blob storage you are using as application specific cleanup operations you might have expected to be freeing up space may not be working as expected (for example, because the SAS tokens used for freeing up space have expired).</span></span>

### <span data-ttu-id="1d2ec-735"><a name="you-are-experiencing-unexpected-reboots"></a>Váratlan újraindítások Azure virtuális gépek, amelyek csatlakoztatott virtuális merevlemezek nagy számú tapasztal</span><span class="sxs-lookup"><span data-stu-id="1d2ec-735"><a name="you-are-experiencing-unexpected-reboots"></a>You are experiencing unexpected reboots of Azure Virtual Machines that have a large number of attached VHDs</span></span>
<span data-ttu-id="1d2ec-736">Ha egy Azure virtuális gép (VM) ugyanabban a tárfiókban lévő csatlakoztatott virtuális merevlemezek nagy mennyiségű, meghaladhatja a a méretezhetőségi célok, az egyes tárfiók a virtuális gép leállását okozza.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-736">If an Azure Virtual Machine (VM) has a large number of attached VHDs that are in the same storage account, you could exceed the scalability targets for an individual storage account causing the VM to fail.</span></span> <span data-ttu-id="1d2ec-737">Jelölje be a tárfiók percenkénti metrikákat (**TotalRequests**/**TotalIngress**/**TotalEgress**) a teljesítményt, amelyek mérete meghaladja a méretezhetőségi célok tárfiókok esetén.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-737">You should check the minute metrics for the storage account (**TotalRequests**/**TotalIngress**/**TotalEgress**) for spikes that exceed the scalability targets for a storage account.</span></span> <span data-ttu-id="1d2ec-738">Című témakör "[PercentThrottlingError metrika növelését]" támogatásért, ha sávszélesség-szabályozás történt a tárfiók számára.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-738">See the section "[Metrics show an increase in PercentThrottlingError]" for assistance in determining if throttling has occurred on your storage account.</span></span>

<span data-ttu-id="1d2ec-739">Általában minden egyes bemeneti vagy kimeneti művelet a virtuális gép virtuális merevlemez az eszköz **első oldal** vagy **Put lap** az alapul szolgáló oldalakra vonatkozó blob műveleteket.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-739">In general, each individual input or output operation on a VHD from a Virtual Machine translates to **Get Page** or **Put Page** operations on the underlying page blob.</span></span> <span data-ttu-id="1d2ec-740">Ezért a környezetnek a becsült IOPS segítségével is rendelkezik egyetlen tárfiókokban alapján az adott viselkedést az alkalmazás hány virtuális merevlemezek finomítsa.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-740">Therefore, you can use the estimated IOPS for your environment to tune how many VHDs you can have in a single storage account based on the specific behavior of your application.</span></span> <span data-ttu-id="1d2ec-741">Legfeljebb 40 lemezek rendelkező egyetlen tárfiókokban nem ajánlott.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-741">We do not recommend having more than 40 disks in a single storage account.</span></span> <span data-ttu-id="1d2ec-742">Lásd: [Azure Storage méretezhetőségi és teljesítménycéloknak](storage-scalability-targets.md) az aktuális méretezhetőségi célok storage-fiókok részleteit, különösen tárfióknak a típusa tartozó összes kérelem sebesség és a teljes sávszélesség használata.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-742">See [Azure Storage Scalability and Performance Targets](storage-scalability-targets.md) for details of the current scalability targets for storage accounts, in particular the total request rate and total bandwidth for the type of storage account you are using.</span></span>
<span data-ttu-id="1d2ec-743">Ha a tárfiók túllépte a vonatkozó méretezhetőségi célok, helyezze a virtuális merevlemezek több különböző tárfiókokban a tevékenység minden egyes számlára csökkentése érdekében.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-743">If you are exceeding the scalability targets for your storage account, you should place your VHDs in multiple different storage accounts to reduce the activity in each individual account.</span></span>

### <span data-ttu-id="1d2ec-744"><a name="your-issue-arises-from-using-the-storage-emulator"></a>A probléma merül fel a fejlesztési vagy tesztelési a storage emulator használatával</span><span class="sxs-lookup"><span data-stu-id="1d2ec-744"><a name="your-issue-arises-from-using-the-storage-emulator"></a>Your issue arises from using the storage emulator for development or test</span></span>
<span data-ttu-id="1d2ec-745">Általában a storage emulatorral a fejlesztés során, és ellenőrizze, hogy elkerülése érdekében szükség az Azure storage-fiók.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-745">You typically use the storage emulator during development and test to avoid the requirement for an Azure storage account.</span></span> <span data-ttu-id="1d2ec-746">A gyakori problémákat, amik akkor léphetnek fel, a storage emulator használata esetén a következők:</span><span class="sxs-lookup"><span data-stu-id="1d2ec-746">The common issues that can occur when you are using the storage emulator are:</span></span>

* <span data-ttu-id="1d2ec-747">[A storage emulator az "X" a szolgáltatás nem működik]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-747">[Feature "X" is not working in the storage emulator]</span></span>
* <span data-ttu-id="1d2ec-748">[Hiba történt "a HTTP-fejlécek egyikéhez értéke nem megfelelő formátumú" a storage emulator használata esetén]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-748">[Error "The value for one of the HTTP headers is not in the correct format" when using the storage emulator]</span></span>
* <span data-ttu-id="1d2ec-749">[A storage emulator futtatása rendszergazdai jogosultságokra van szüksége]</span><span class="sxs-lookup"><span data-stu-id="1d2ec-749">[Running the storage emulator requires administrative privileges]</span></span>

#### <span data-ttu-id="1d2ec-750"><a name="feature-X-is-not-working"></a>A storage emulator az "X" a szolgáltatás nem működik</span><span class="sxs-lookup"><span data-stu-id="1d2ec-750"><a name="feature-X-is-not-working"></a>Feature "X" is not working in the storage emulator</span></span>
<span data-ttu-id="1d2ec-751">A storage emulator nem támogatja a Funkciók, például a szolgáltatás az Azure storage szolgáltatások.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-751">The storage emulator does not support all of the features of the Azure storage services such as the file service.</span></span> <span data-ttu-id="1d2ec-752">További információkért lásd: [Use the Azure Storage Emulator for Development and Testing](storage-use-emulator.md) (Fejlesztés és tesztelés az Azure Storage Emulatorral).</span><span class="sxs-lookup"><span data-stu-id="1d2ec-752">For more information, see [Use the Azure Storage Emulator for Development and Testing](storage-use-emulator.md).</span></span>

<span data-ttu-id="1d2ec-753">Ezeket a szolgáltatásokat, és a storage emulator nem támogatja használja az Azure storage szolgáltatás a felhőben.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-753">For those features that the storage emulator does not support, use the Azure storage service in the cloud.</span></span>

#### <span data-ttu-id="1d2ec-754"><a name="error-HTTP-header-not-correct-format"></a>Hiba történt "a HTTP-fejlécek egyikéhez értéke nem megfelelő formátumú" a storage emulator használata esetén</span><span class="sxs-lookup"><span data-stu-id="1d2ec-754"><a name="error-HTTP-header-not-correct-format"></a>Error "The value for one of the HTTP headers is not in the correct format" when using the storage emulator</span></span>
<span data-ttu-id="1d2ec-755">Teszteli az alkalmazás, például a Storage ügyféloldali kódtára a helyi storage emulator és metódus hívások elleni használó **CreateIfNotExists** sikertelen, és a hibaüzenet a következő, "a HTTP-fejlécek egyikéhez értéke nem a megfelelő formátumban."</span><span class="sxs-lookup"><span data-stu-id="1d2ec-755">You are testing your application that use the Storage Client Library against the local storage emulator and method calls such as **CreateIfNotExists** fail with the error message "The value for one of the HTTP headers is not in the correct format."</span></span> <span data-ttu-id="1d2ec-756">Ez azt jelzi, hogy a storage emulator használata verziója nem támogatja a storage ügyféloldali kódtár használata verzióját.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-756">This indicates that the version of the storage emulator you are using does not support the version of the storage client library you are using.</span></span> <span data-ttu-id="1d2ec-757">A Storage ügyféloldali kódtára a fejlécet ad **x-ms-version** teszi minden kérelemre.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-757">The Storage Client Library adds the header **x-ms-version** to all the requests it makes.</span></span> <span data-ttu-id="1d2ec-758">Ha a storage emulator nem ismeri fel az értéket a **x-ms-version** fejléc, hogy elutasítja a kérelmet.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-758">If the storage emulator does not recognize the value in the **x-ms-version** header, it rejects the request.</span></span>

<span data-ttu-id="1d2ec-759">A tárolási Szalagtári ügyfél naplók segítségével értékének láthatja a **x-ms-version fejlécnek** akkor küld.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-759">You can use the Storage Library Client logs to see the value of the **x-ms-version header** it is sending.</span></span> <span data-ttu-id="1d2ec-760">Azt is láthatja, értékét a **x-ms-version fejlécnek** Fiddler a kérelmek nyomon követésére, az ügyfélalkalmazás használatakor.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-760">You can also see the value of the **x-ms-version header** if you use Fiddler to trace the requests from your client application.</span></span>

<span data-ttu-id="1d2ec-761">Ebben a forgatókönyvben rendszerint azért fordul elő, ha telepít, és a Storage ügyféloldali kódtár legújabb verzióját használja a storage emulator frissítése nélkül.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-761">This scenario typically occurs if you install and use the latest version of the Storage Client Library without updating the storage emulator.</span></span> <span data-ttu-id="1d2ec-762">Meg kell a storage emulator legújabb verziójának telepítéséhez, vagy használjon felhőalapú tárolás helyett az emulátor fejlesztési és tesztelési.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-762">You should either install the latest version of the storage emulator, or use cloud storage instead of the emulator for development and test.</span></span>

#### <span data-ttu-id="1d2ec-763"><a name="storage-emulator-requires-administrative-privileges"></a>A storage emulator futtatása rendszergazdai jogosultságokra van szüksége</span><span class="sxs-lookup"><span data-stu-id="1d2ec-763"><a name="storage-emulator-requires-administrative-privileges"></a>Running the storage emulator requires administrative privileges</span></span>
<span data-ttu-id="1d2ec-764">Kéri a rendszergazdai hitelesítő adatok a storage emulator futtatásakor.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-764">You are prompted for administrator credentials when you run the storage emulator.</span></span> <span data-ttu-id="1d2ec-765">Ez csak akkor történik, az első alkalommal a storage emulator vannak inicializálása közben.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-765">This only occurs when you are initializing the storage emulator for the first time.</span></span> <span data-ttu-id="1d2ec-766">Miután a storage emulator inicializálta, nem kell újra futtatásához rendszergazdai jogosultságokkal.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-766">After you have initialized the storage emulator, you do not need administrative privileges to run it again.</span></span>

<span data-ttu-id="1d2ec-767">További információkért lásd: [Use the Azure Storage Emulator for Development and Testing](storage-use-emulator.md) (Fejlesztés és tesztelés az Azure Storage Emulatorral).</span><span class="sxs-lookup"><span data-stu-id="1d2ec-767">For more information, see [Use the Azure Storage Emulator for Development and Testing](storage-use-emulator.md).</span></span> <span data-ttu-id="1d2ec-768">Vegye figyelembe, hogy a Visual Studio, amely rendszergazdai jogosultságokkal is szüksége lesz a storage emulator is lehet inicializálni.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-768">Note that you can also initialize the storage emulator in Visual Studio, which will also require administrative privileges.</span></span>

### <span data-ttu-id="1d2ec-769"><a name="you-are-encountering-problems-installing-the-Windows-Azure-SDK"></a>.NET-keretrendszerhez készült Azure SDK telepítése problémák áll kapcsolatban.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-769"><a name="you-are-encountering-problems-installing-the-Windows-Azure-SDK"></a>You are encountering problems installing the Azure SDK for .NET</span></span>
<span data-ttu-id="1d2ec-770">A storage emulator telepítése a helyi számítógépen próbálja telepíteni az SDK-t, sikertelen.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-770">When you try to install the SDK, it fails trying to install the storage emulator on your local machine.</span></span> <span data-ttu-id="1d2ec-771">A telepítési naplófájl tartalmazza az alábbi üzenetek egyike:</span><span class="sxs-lookup"><span data-stu-id="1d2ec-771">The installation log contains one of the following messages:</span></span>

* <span data-ttu-id="1d2ec-772">CAQuietExec: Hiba: nem érhető el az SQL-példány</span><span class="sxs-lookup"><span data-stu-id="1d2ec-772">CAQuietExec:  Error: Unable to access SQL instance</span></span>
* <span data-ttu-id="1d2ec-773">CAQuietExec: Hiba: nem hozható létre adatbázis</span><span class="sxs-lookup"><span data-stu-id="1d2ec-773">CAQuietExec:  Error: Unable to create database</span></span>

<span data-ttu-id="1d2ec-774">Az OK: a meglévő LocalDB telepítési kapcsolatos problémát.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-774">The cause is an issue with existing LocalDB installation.</span></span> <span data-ttu-id="1d2ec-775">Alapértelmezés szerint a storage Emulator LocalDB megőrizni az adatokat, amikor azt szimulálja az Azure storage szolgáltatások.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-775">By default, the storage emulator uses LocalDB to persist data when it simulates the Azure storage services.</span></span> <span data-ttu-id="1d2ec-776">A következő parancsok futtatásával egy parancssori ablakban az SDK telepítése előtt alaphelyzetbe állíthatja a LocalDB példányához.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-776">You can reset your LocalDB instance by running the following commands in a command-prompt window before trying to install the SDK.</span></span>

```
sqllocaldb stop v11.0
sqllocaldb delete v11.0
delete %USERPROFILE%\WAStorageEmulatorDb3*.*
sqllocaldb create v11.0
```

<span data-ttu-id="1d2ec-777">A **törlése** parancs eltávolítja a régi adatbázisfájlok a storage emulator az előző telepítések.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-777">The **delete** command removes any old database files from previous installations of the storage emulator.</span></span>

### <span data-ttu-id="1d2ec-778"><a name="you-have-a-different-issue-with-a-storage-service"></a>Van egy másik probléma storage szolgáltatással</span><span class="sxs-lookup"><span data-stu-id="1d2ec-778"><a name="you-have-a-different-issue-with-a-storage-service"></a>You have a different issue with a storage service</span></span>
<span data-ttu-id="1d2ec-779">Ha az előző hibaelhárítási szakaszok nem adja meg a problémát tapasztal storage szolgáltatással, el kell fogadnia a következő módon diagnosztizálásának és a hiba elhárításához.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-779">If the previous troubleshooting sections do not include the issue you are having with a storage service, you should adopt the following approach to diagnosing and troubleshooting your issue.</span></span>

* <span data-ttu-id="1d2ec-780">Ellenőrizze a metrikákat, ha bármi is módosul az a várt viszonyítási viselkedése.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-780">Check your metrics to see if there is any change from your expected base-line behavior.</span></span> <span data-ttu-id="1d2ec-781">A metrikák a esetleg meg tudja határozni, hogy a probléma átmeneti és végleges, és mely tárolási műveletek érinti a problémát.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-781">From the metrics, you may be able to determine whether the issue is transient or permanent, and which storage operations the issue is affecting.</span></span>
* <span data-ttu-id="1d2ec-782">A metrikák információk segítségével keresse meg a kiszolgálóoldali naplóadatokat előforduló hibákat további részletes információt nyújt segítséget.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-782">You can use the metrics information to help you search your server-side log data for more detailed information about any errors that are occurring.</span></span> <span data-ttu-id="1d2ec-783">Ezek az információk segítenek elhárításához és hárítsa el a problémát.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-783">This information may help you troubleshoot and resolve the issue.</span></span>
* <span data-ttu-id="1d2ec-784">Ha a kiszolgálóoldali naplókban lévő információk nem elegendő a probléma elhárításához sikeresen, a Storage ügyféloldali kódtár ügyféloldali naplók segítségével vizsgálja meg az ügyfélalkalmazást és a Fiddler, Wireshark vagy Microsoft Message Analyzert, vizsgálja meg a hálózat működését.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-784">If the information in the server-side logs is not sufficient to troubleshoot the issue successfully, you can use the Storage Client Library client-side logs to investigate the behavior of your client application, and tools such as Fiddler, Wireshark, and Microsoft Message Analyzer to investigate your network.</span></span>

<span data-ttu-id="1d2ec-785">A Fiddler használatával kapcsolatos további információkért lásd: "[1 függelék: HTTP és HTTPS-forgalom rögzítése a Fiddler használatával]."</span><span class="sxs-lookup"><span data-stu-id="1d2ec-785">For more information about using Fiddler, see "[Appendix 1: Using Fiddler to capture HTTP and HTTPS traffic]."</span></span>

<span data-ttu-id="1d2ec-786">Wireshark használatával kapcsolatos további információkért lásd: "[2 függelék: Wireshark használó rögzítheti a hálózati forgalom]."</span><span class="sxs-lookup"><span data-stu-id="1d2ec-786">For more information about using Wireshark, see "[Appendix 2: Using Wireshark to capture network traffic]."</span></span>

<span data-ttu-id="1d2ec-787">Microsoft Message Analyzert használatával kapcsolatos további információkért lásd: "[függelék: 3: Microsoft Message Analyzert használó rögzítheti a hálózati forgalom]."</span><span class="sxs-lookup"><span data-stu-id="1d2ec-787">For more information about using Microsoft Message Analyzer, see "[Appendix 3: Using Microsoft Message Analyzer to capture network traffic]."</span></span>

## <span data-ttu-id="1d2ec-788"><a name="appendices"></a>Mellékletek</span><span class="sxs-lookup"><span data-stu-id="1d2ec-788"><a name="appendices"></a>Appendices</span></span>
<span data-ttu-id="1d2ec-789">A mellékletek azt tapasztalhatja hasznos diagnosztizálása és elhárítása az Azure Storage (és az egyéb szolgáltatásokkal) eszközöket írja le.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-789">The appendices describe several tools that you may find useful when you are diagnosing and troubleshooting issues with Azure Storage (and other services).</span></span> <span data-ttu-id="1d2ec-790">Ezek az eszközök nem része az Azure Storage és harmadik féltől származó termékekre.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-790">These tools are not part of Azure Storage and some are third-party products.</span></span> <span data-ttu-id="1d2ec-791">Így az eszközök ismertetett ezen mellékletek nem tartoznak egyetlen támogatási szerződést, előfordulhat, hogy a Microsoft Azure vagy az Azure Storage, és ezért a kiértékelési folyamat részeként meg kell vizsgálni a licencelési és támogatási lehetőségekről a szolgáltató ezen eszközök.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-791">As such, the tools discussed in these appendices are not covered by any support agreement you may have with Microsoft Azure or Azure Storage, and therefore as part of your evaluation process you should examine the licensing and support options available from the providers of these tools.</span></span>

### <span data-ttu-id="1d2ec-792"><a name="appendix-1"></a>1. függelék: A HTTP és HTTPS-forgalom rögzítésére Fiddler segítségével</span><span class="sxs-lookup"><span data-stu-id="1d2ec-792"><a name="appendix-1"></a>Appendix 1: Using Fiddler to capture HTTP and HTTPS traffic</span></span>
<span data-ttu-id="1d2ec-793">[Fiddler](http://www.telerik.com/fiddler) az eszköz a HTTP és HTTPS-forgalmat az ügyfélalkalmazást és a használ az Azure storage szolgáltatás közötti elemzéséhez.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-793">[Fiddler](http://www.telerik.com/fiddler) is a useful tool for analyzing the HTTP and HTTPS traffic between your client application and the Azure storage service you are using.</span></span>

> [!NOTE]
> <span data-ttu-id="1d2ec-794">Fiddler tudja dekódolni a HTTPS-forgalom; olvassa el a Fiddler dokumentáció konfigurációkat annak megértése, hogyan teszi ezt, és a biztonsági vonatkozó következmények ismertetése.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-794">Fiddler can decode HTTPS traffic; you should read the Fiddler documentation carefully to understand how it does this, and to understand the security implications.</span></span>
> 
> 

<span data-ttu-id="1d2ec-795">Ebben a függelékben egy rövid útmutató arról, hogyan konfigurálhatja a helyi számítógépen, amelyen telepítette a Fiddler és az Azure storage szolgáltatások közötti forgalom rögzítése a Fiddler.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-795">This appendix provides a brief walkthrough of how to configure Fiddler to capture traffic between the local machine where you have installed Fiddler and the Azure storage services.</span></span>

<span data-ttu-id="1d2ec-796">Miután Fiddler indítása, a helyi számítógépen a HTTP és HTTPS-forgalom rögzítése kezdi.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-796">After you have launched Fiddler, it will begin capturing HTTP and HTTPS traffic on your local machine.</span></span> <span data-ttu-id="1d2ec-797">Az alábbiakban néhány hasznos parancsokat szabályozásához a Fiddler:</span><span class="sxs-lookup"><span data-stu-id="1d2ec-797">The following are some useful commands for controlling Fiddler:</span></span>

* <span data-ttu-id="1d2ec-798">Állítsa le és indítsa el a forgalom rögzítése.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-798">Stop and start capturing traffic.</span></span> <span data-ttu-id="1d2ec-799">A főmenü Ugrás **fájl** , majd **forgalom rögzítése** váltáshoz rögzítése a be- és kikapcsolható.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-799">On the main menu, go to **File** and then click **Capture Traffic** to toggle capturing on and off.</span></span>
* <span data-ttu-id="1d2ec-800">Rögzített forgalmi adatok mentése.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-800">Save captured traffic data.</span></span> <span data-ttu-id="1d2ec-801">A főmenü Ugrás **fájl**, kattintson a **mentése**, és kattintson a **minden munkamenet**: Ez lehetővé teszi, hogy a forgalom munkamenet archív fájlba mentése.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-801">On the main menu, go to **File**, click **Save**, and then click **All Sessions**: this enables you to save the traffic in a Session Archive file.</span></span> <span data-ttu-id="1d2ec-802">Töltse be újra a később elemzéshez munkamenet-archívum létrehozása, vagy küldje el, ha a Microsoft támogatási kérelmet.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-802">You can reload a Session Archive later for analysis, or send it if requested to Microsoft support.</span></span>

<span data-ttu-id="1d2ec-803">A Fiddler rögzíti a forgalom mennyiségének korlátozásához használhatja a szűrők, amelyet megadtak a **szűrők** fülre. Az alábbi képernyőfelvételen látható egy szűrő, amely csak a küldött forgalmat rögzíti a **contosoemaildist.table.core.windows.net** tárolási végpont:</span><span class="sxs-lookup"><span data-stu-id="1d2ec-803">To limit the amount of traffic that Fiddler captures, you can use filters that you configure in the **Filters** tab. The following screenshot shows a filter that captures only traffic sent to the **contosoemaildist.table.core.windows.net** storage endpoint:</span></span>

![][5]

### <span data-ttu-id="1d2ec-804"><a name="appendix-2"></a>2. függelékben: Wireshark használó rögzítheti a hálózati forgalom</span><span class="sxs-lookup"><span data-stu-id="1d2ec-804"><a name="appendix-2"></a>Appendix 2: Using Wireshark to capture network traffic</span></span>
<span data-ttu-id="1d2ec-805">[Wireshark](http://www.wireshark.org/) van egy hálózati protokollelemző eszköz, amely lehetővé teszi a hálózati protokollok széles köre csomag részletes információk megtekintése.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-805">[Wireshark](http://www.wireshark.org/) is a network protocol analyzer that enables you to view detailed packet information for a wide range of network protocols.</span></span>

<span data-ttu-id="1d2ec-806">Az alábbi eljárás bemutatja, hogyan részletes csomagok információit a helyi számítógépről érkező forgalom rögzítésére telepítési Wireshark a table szolgáltatásba az Azure-tárfiókot.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-806">The following procedure shows you how to capture detailed packet information for traffic from the local machine where you installed Wireshark to the table service in your Azure storage account.</span></span>

1. <span data-ttu-id="1d2ec-807">Indítsa el a Wireshark a helyi számítógépen.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-807">Launch Wireshark on your local machine.</span></span>
2. <span data-ttu-id="1d2ec-808">Az a **Start** területen válassza ki a helyi hálózati adapter vagy az internethez csatlakozó felületek.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-808">In the **Start** section, select the local network interface or interfaces that are connected to the internet.</span></span>
3. <span data-ttu-id="1d2ec-809">Kattintson a **beállítások rögzítése**.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-809">Click **Capture Options**.</span></span>
4. <span data-ttu-id="1d2ec-810">Adja hozzá egy szűrőt, amely a **rögzítési szűrő** szövegmező.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-810">Add a filter to the **Capture Filter** textbox.</span></span> <span data-ttu-id="1d2ec-811">Például **contosoemaildist.table.core.windows.net gazdagép** Wireshark csak a table szolgáltatási végpont a által küldött és csomagok rögzítéséhez konfigurálja a **contosoemaildist** tárfiók.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-811">For example, **host contosoemaildist.table.core.windows.net** will configure Wireshark to capture only packets sent to or from the table service endpoint in the **contosoemaildist** storage account.</span></span> <span data-ttu-id="1d2ec-812">Tekintse meg a [rögzítése szűrők teljes listájának](http://wiki.wireshark.org/CaptureFilters).</span><span class="sxs-lookup"><span data-stu-id="1d2ec-812">Check out the [complete list of Capture Filters](http://wiki.wireshark.org/CaptureFilters).</span></span>
   
   ![][6]
5. <span data-ttu-id="1d2ec-813">Kattintson a **Start**.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-813">Click **Start**.</span></span> <span data-ttu-id="1d2ec-814">Wireshark most rögzíti összes csomagokat küldjön vagy a table szolgáltatási végpont a használata az ügyfélalkalmazást a helyi számítógépen.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-814">Wireshark will now capture all the packets send to or from the table service endpoint as you use your client application on your local machine.</span></span>
6. <span data-ttu-id="1d2ec-815">Miután végzett, a fő menüben kattintson a **rögzítése** , majd **leállítása**.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-815">When you have finished, on the main menu click **Capture** and then **Stop**.</span></span>
7. <span data-ttu-id="1d2ec-816">A rögzített adatok Wireshark rögzítése fájlba mentése, a főmenü kattintson **fájl** , majd **mentése**.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-816">To save the captured data in a Wireshark Capture File, on the main menu click **File** and then **Save**.</span></span>

<span data-ttu-id="1d2ec-817">WireShark ki olyan hibákat, amelyek szerepelnek a **packetlist** ablak.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-817">WireShark will highlight any errors that exist in the **packetlist** window.</span></span> <span data-ttu-id="1d2ec-818">Is használhatja a **szakértő Info** ablakban (kattintson **elemzés**, majd **szakértő Info**) a hibák és figyelmeztetések összegzésének megtekintése.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-818">You can also use the **Expert Info** window (click **Analyze**, then **Expert Info**) to view a summary of errors and warnings.</span></span>

![][7]

<span data-ttu-id="1d2ec-819">Úgy is dönt, hogy az alkalmazási rétegre látja a TCP-adatok csomagot jobb gombbal, majd válassza a TCP-adatok megtekintheti **hajtsa végre a TCP-folyam**.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-819">You can also chose to view the TCP data as the application layer sees it by right-clicking on the TCP data and selecting **Follow TCP Stream**.</span></span> <span data-ttu-id="1d2ec-820">Ez különösen fontos, ha a biztonsági másolat nélkül rögzítési szűrő rögzített.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-820">This is particularly useful if you captured your dump without a capture filter.</span></span> <span data-ttu-id="1d2ec-821">További információkért lásd: [következő TCP-adatfolyamok](http://www.wireshark.org/docs/wsug_html_chunked/ChAdvFollowTCPSection.html).</span><span class="sxs-lookup"><span data-stu-id="1d2ec-821">For more information, see [Following TCP Streams](http://www.wireshark.org/docs/wsug_html_chunked/ChAdvFollowTCPSection.html).</span></span>

![][8]

> [!NOTE]
> <span data-ttu-id="1d2ec-822">Wireshark használatával kapcsolatos további információkért lásd: a [Wireshark felhasználók útmutató](http://www.wireshark.org/docs/wsug_html_chunked).</span><span class="sxs-lookup"><span data-stu-id="1d2ec-822">For more information about using Wireshark, see the [Wireshark Users Guide](http://www.wireshark.org/docs/wsug_html_chunked).</span></span>
> 
> 

### <span data-ttu-id="1d2ec-823"><a name="appendix-3"></a>3. függelék: Microsoft Message Analyzert segítségével rögzítheti a hálózati forgalom</span><span class="sxs-lookup"><span data-stu-id="1d2ec-823"><a name="appendix-3"></a>Appendix 3: Using Microsoft Message Analyzer to capture network traffic</span></span>
<span data-ttu-id="1d2ec-824">Microsoft Message Analyzert használja a HTTP és HTTPS-forgalom rögzítése a Fiddler hasonló módon, és a hálózati forgalom rögzítése a Wireshark hasonló módon.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-824">You can use Microsoft Message Analyzer to capture HTTP and HTTPS traffic in a similar way to Fiddler, and capture network traffic in a similar way to Wireshark.</span></span>

#### <a name="configure-a-web-tracing-session-using-microsoft-message-analyzer"></a><span data-ttu-id="1d2ec-825">Egy webes nyomkövetési munkamenet használ a Microsoft Message Analyzert konfigurálása</span><span class="sxs-lookup"><span data-stu-id="1d2ec-825">Configure a web tracing session using Microsoft Message Analyzer</span></span>
<span data-ttu-id="1d2ec-826">Egy webes nyomkövetési munkamenet a Microsoft Message Analyzert, futtassa a Microsoft Message Analyzert alkalmazást használ HTTP és HTTPS-forgalmat, majd a konfigurálása a **fájl** menüben kattintson **rögzítési/nyomkövetési**.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-826">To configure a web tracing session for HTTP and HTTPS traffic using Microsoft Message Analyzer, run the Microsoft Message Analyzer application and then on the **File** menu, click **Capture/Trace**.</span></span> <span data-ttu-id="1d2ec-827">Válassza ki a rendelkezésre álló nyomkövetési forgatókönyvek listáját, **webproxy**.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-827">In the list of available trace scenarios, select **Web Proxy**.</span></span> <span data-ttu-id="1d2ec-828">Ezt a a **nyomkövetési forgatókönyv konfigurációjának** panelen, a a **HostnameFilter** szövegmező, a tárolási végpontok neveket adhat hozzá (ezekkel a nevekkel megjeleníthetők a [Azure-portálon](https://portal.azure.com)).</span><span class="sxs-lookup"><span data-stu-id="1d2ec-828">Then in the **Trace Scenario Configuration** panel, in the **HostnameFilter** textbox, add the names of your storage endpoints (you can look up these names in the [Azure portal](https://portal.azure.com)).</span></span> <span data-ttu-id="1d2ec-829">Például, ha az Azure storage-fiók neve **contosodata**, adja hozzá a következőt a **HostnameFilter** szövegmező:</span><span class="sxs-lookup"><span data-stu-id="1d2ec-829">For example, if the name of your Azure storage account is **contosodata**, you should add the following to the **HostnameFilter** textbox:</span></span>

```
contosodata.blob.core.windows.net contosodata.table.core.windows.net contosodata.queue.core.windows.net
```

> [!NOTE]
> <span data-ttu-id="1d2ec-830">A szóköz karakter választja el a gazdagép neve.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-830">A space character separates the hostnames.</span></span>
> 
> 

<span data-ttu-id="1d2ec-831">Amikor készen áll a nyomkövetési adatok gyűjtése indításához kattintson a **Start With** gombra.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-831">When you are ready to start collecting trace data, click the **Start With** button.</span></span>

<span data-ttu-id="1d2ec-832">További információt a Microsoft Message Analyzert **webproxy** nyomkövetési című [Microsoft-PEF-WebProxy szolgáltató](http://technet.microsoft.com/library/jj674814.aspx).</span><span class="sxs-lookup"><span data-stu-id="1d2ec-832">For more information about the Microsoft Message Analyzer **Web Proxy** trace, see [Microsoft-PEF-WebProxy Provider](http://technet.microsoft.com/library/jj674814.aspx).</span></span>

<span data-ttu-id="1d2ec-833">A beépített **webproxy** nyomkövetési Microsoft Message Analyzert a Fiddler alapul; ügyféloldali HTTPS-forgalom rögzítése és nem titkosított HTTPS üzenetek megjelenítése.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-833">The built-in **Web Proxy** trace in Microsoft Message Analyzer is based on Fiddler; it can capture client-side HTTPS traffic and display unencrypted HTTPS messages.</span></span> <span data-ttu-id="1d2ec-834">A **webproxy** works nyomkövetése minden HTTP és HTTPS-forgalom, amely azt hozzáférést ad a nem titkosított üzeneteket helyi proxy konfigurálása.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-834">The **Web Proxy** trace works by configuring a local proxy for all HTTP and HTTPS traffic that gives it access to unencrypted messages.</span></span>

#### <a name="diagnosing-network-issues-using-microsoft-message-analyzer"></a><span data-ttu-id="1d2ec-835">Microsoft Message Analyzert használata a hálózati problémák diagnosztizálása</span><span class="sxs-lookup"><span data-stu-id="1d2ec-835">Diagnosing network issues using Microsoft Message Analyzer</span></span>
<span data-ttu-id="1d2ec-836">A Microsoft Message Analyzert használata mellett **webproxy** nyomkövetés rögzítése a HTTP/HTTPs-forgalmat az ügyfélalkalmazást és a tárolási szolgáltatás között részleteit, használhatja a beépített **helyi kapcsolat réteg** nyomkövetési rögzítheti a hálózati csomagok információit.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-836">In addition to using the Microsoft Message Analyzer **Web Proxy** trace to capture details of the HTTP/HTTPs traffic between the client application and the storage service, you can also use the built-in **Local Link Layer** trace to capture network packet information.</span></span> <span data-ttu-id="1d2ec-837">Ez lehetővé teszi, hogy hasonló, amely a Wireshark rögzítése és diagnosztizálhatják az adatok rögzítéséhez hálózati problémák, mint eldobott csomagok.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-837">This enables you to capture data similar to that which you can capture with Wireshark, and diagnose network issues such as dropped packets.</span></span>

<span data-ttu-id="1d2ec-838">Az alábbi képernyőfelvételen szereplő példán látható **helyi kapcsolat réteg** egy nyomkövetési **tájékoztató** állapotüzenetek a **DiagnosisTypes** oszlop.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-838">The following screenshot shows an example **Local Link Layer** trace with some **informational** messages in the **DiagnosisTypes** column.</span></span> <span data-ttu-id="1d2ec-839">A megfelelő ikonra kattintva a **DiagnosisTypes** oszlop az üzenet részleteit jeleníti meg.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-839">Clicking on an icon in the **DiagnosisTypes** column shows the details of the message.</span></span> <span data-ttu-id="1d2ec-840">Ebben a példában a kiszolgáló üzenet #305 újraküldött, mert nem kapott nyugtázást az ügyfél:</span><span class="sxs-lookup"><span data-stu-id="1d2ec-840">In this example, the server retransmitted message #305 because it did not receive an acknowledgement from the client:</span></span>

![][9]

<span data-ttu-id="1d2ec-841">Amikor a nyomkövetési munkamenet hoz létre a Microsoft Message Analyzert, úgy, hogy csökkenti a nyomkövetés a zaj is megadhat.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-841">When you create the trace session in Microsoft Message Analyzer, you can specify filters to reduce the amount of noise in the trace.</span></span> <span data-ttu-id="1d2ec-842">Az a **rögzítése / nyomkövetési** Itt adhatja meg a nyomkövetési lapon kattintson a a **konfigurálása** melletti hivatkozásra **Microsoft-Windows-NDIS-PacketCapture**.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-842">On the **Capture / Trace** page where you define the trace, click on the **Configure** link next to **Microsoft-Windows-NDIS-PacketCapture**.</span></span> <span data-ttu-id="1d2ec-843">Az alábbi képernyőfelvételen látható a konfigurációkat, amelyek a TCP-forgalom három adattárolási szolgáltatások IP-címek szűrése:</span><span class="sxs-lookup"><span data-stu-id="1d2ec-843">The following screenshot shows a configuration that filters TCP traffic for the IP addresses of three storage services:</span></span>

![][10]

<span data-ttu-id="1d2ec-844">A Microsoft Message Analyzer helyi kapcsolat réteg nyomkövetési kapcsolatos további információkért lásd: [Microsoft-PEF-NDIS-PacketCapture szolgáltató](http://technet.microsoft.com/library/jj659264.aspx).</span><span class="sxs-lookup"><span data-stu-id="1d2ec-844">For more information about the Microsoft Message Analyzer Local Link Layer trace, see [Microsoft-PEF-NDIS-PacketCapture Provider](http://technet.microsoft.com/library/jj659264.aspx).</span></span>

### <span data-ttu-id="1d2ec-845"><a name="appendix-4"></a>4. függelék: Segítségével Excel metrikák megtekintése és az adatok naplózása</span><span class="sxs-lookup"><span data-stu-id="1d2ec-845"><a name="appendix-4"></a>Appendix 4: Using Excel to view metrics and log data</span></span>
<span data-ttu-id="1d2ec-846">Sok eszközei lehetővé teszik a Storage Metrics adatok letöltése az Azure table storage segítségével egyszerűen az adatok betöltése az Excel megtekintése és elemzése tagolt formátumú.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-846">Many tools enable you to download the Storage Metrics data from Azure table storage in a delimited format that makes it easy to load the data into Excel for viewing and analysis.</span></span> <span data-ttu-id="1d2ec-847">Az Azure blob storage tárolási naplózási adatok már Excelbe betöltése tagolt formátumú.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-847">Storage Logging data from Azure blob storage is already in a delimited format that you can load into Excel.</span></span> <span data-ttu-id="1d2ec-848">Azonban akkor adja hozzá a megfelelő oszlopának fejlécére kattintva rendezhető, a következő információ alapján [Storage Analytics naplóformátumban](http://msdn.microsoft.com/library/azure/hh343259.aspx) és [Storage Analytics metrikák táblaséma](http://msdn.microsoft.com/library/azure/hh343264.aspx).</span><span class="sxs-lookup"><span data-stu-id="1d2ec-848">However, you will need to add appropriate column headings based in the information at [Storage Analytics Log Format](http://msdn.microsoft.com/library/azure/hh343259.aspx) and [Storage Analytics Metrics Table Schema](http://msdn.microsoft.com/library/azure/hh343264.aspx).</span></span>

<span data-ttu-id="1d2ec-849">Az a tárolási naplózási adatok importálása Excelbe, miután a blob storage-ból tölthetik le:</span><span class="sxs-lookup"><span data-stu-id="1d2ec-849">To import your Storage Logging data into Excel after you download it from blob storage:</span></span>

* <span data-ttu-id="1d2ec-850">Az a **adatok** menüben kattintson a **a szöveg**.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-850">On the **Data** menu, click **From Text**.</span></span>
* <span data-ttu-id="1d2ec-851">Keresse meg a naplófájlt megtekintheti, és kattintson a kívánt **importálási**.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-851">Browse to the log file you want to view and click **Import**.</span></span>
* <span data-ttu-id="1d2ec-852">Az 1. lépésében a **varázslóban**, jelölje be **tagolt**.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-852">On step 1 of the **Text Import Wizard**, select **Delimited**.</span></span>

<span data-ttu-id="1d2ec-853">Az 1. lépésében a **varázslóban**, jelölje be **pontosvessző** csak elválasztóként idézőjel, válassza a **Szöveghatároló**.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-853">On step 1 of the **Text Import Wizard**, select **Semicolon** as the only delimiter and choose double-quote as the **Text qualifier**.</span></span> <span data-ttu-id="1d2ec-854">Kattintson a **Befejezés** , és válassza ki az adatok helyét a munkafüzetet.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-854">Then click **Finish** and choose where to place the data in your workbook.</span></span>

### <span data-ttu-id="1d2ec-855"><a name="appendix-5"></a>5. függelék: A Visual Studio Team Services az Application insights szolgáltatással figyelését.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-855"><a name="appendix-5"></a>Appendix 5: Monitoring with Application Insights for Visual Studio Team Services</span></span>
<span data-ttu-id="1d2ec-856">Az Application Insights szolgáltatás Visual Studio Team Services, a teljesítmény és rendelkezésre állásának figyelésére szolgáló részeként is használja.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-856">You can also use the Application Insights feature for Visual Studio Team Services as part of your performance and availability monitoring.</span></span> <span data-ttu-id="1d2ec-857">Ez az eszköz a következőket teheti:</span><span class="sxs-lookup"><span data-stu-id="1d2ec-857">This tool can:</span></span>

* <span data-ttu-id="1d2ec-858">Ellenőrizze, hogy a webes szolgáltatás megfelelően üzemel és rugalmas.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-858">Make sure your web service is available and responsive.</span></span> <span data-ttu-id="1d2ec-859">Hogy az alkalmazás egy webhely vagy egy eszköz-alkalmazást, amely egy webszolgáltatás-bővítmény használ, azt a világ különböző helyekről néhány percenként az URL-cím tesztelése, és jelzi, ha probléma van.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-859">Whether your app is a web site or a device app that uses a web service, it can test your URL every few minutes from locations around the world, and let you know if there's a problem.</span></span>
* <span data-ttu-id="1d2ec-860">Gyorsan diagnosztizálhatja a webszolgáltatás kivételek, illetve bármely problémák.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-860">Quickly diagnose any performance issues or exceptions in your web service.</span></span> <span data-ttu-id="1d2ec-861">Annak megállapítása, ha Processzor- vagy egyéb erőforrások vannak nyújtja, a kivételek az híváslánc megjelenik le, és könnyen megkereshetjük a naplókivonatokat.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-861">Find out if CPU or other resources are being stretched, get stack traces from exceptions, and easily search through log traces.</span></span> <span data-ttu-id="1d2ec-862">Ha az alkalmazás teljesítmény elfogadható korlátok alá csökken, elküldhetjük egy e-mailt.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-862">If the app's performance drops below acceptable limits, we can send you an email.</span></span> <span data-ttu-id="1d2ec-863">.NET- és a Java webes szolgáltatásokat is figyelhet.</span><span class="sxs-lookup"><span data-stu-id="1d2ec-863">You can monitor both .NET and Java web services.</span></span>

<span data-ttu-id="1d2ec-864">További információt a [Mi az Application Insights?](../../application-insights/app-insights-overview.md).</span><span class="sxs-lookup"><span data-stu-id="1d2ec-864">You can find more information at [What is Application Insights?](../../application-insights/app-insights-overview.md).</span></span>

<!--Anchors-->
[Bevezetés]: #introduction
[Hogyan szerveződik, ez az útmutató]: #how-this-guide-is-organized

[a tárolás szolgáltatás figyelése]: #monitoring-your-storage-service
[Figyelési szolgáltatásának állapota]: #monitoring-service-health
[Kapacitásának figyelése]: #monitoring-capacity
[Rendelkezésre állás figyelése]: #monitoring-availability
[A teljesítmény figyelése]: #monitoring-performance

[tárolási problémák diagnosztizálása]: #diagnosing-storage-issues
[Szolgáltatás ügynökállapottal kapcsolatos hibákkal]: #service-health-issues
[Teljesítménnyel kapcsolatos problémák]: #performance-issues
[Hibák diagnosztizálása]: #diagnosing-errors
[Tárolási emulátor problémák]: #storage-emulator-issues
[Tárolási naplózási eszközök]: #storage-logging-tools
[Hálózati naplózási eszközök használatával]: #using-network-logging-tools

[végpont nyomkövetés]: #end-to-end-tracing
[Naplóadatok válaszoknak az összekapcsolása]: #correlating-log-data
[Ügyfélkérelem-azonosító]: #client-request-id
[Server Kérelemazonosító]: #server-request-id
[Időbélyeg helyi időre]: #timestamps

[hibaelhárítási útmutatás]: #troubleshooting-guidance
[metrika AverageE2ELatency magas és alacsony AverageServerLatency]: #metrics-show-high-AverageE2ELatency-and-low-AverageServerLatency
[A mérőszámok alacsony AverageE2ELatency és alacsony AverageServerLatency értéket mutatnak, de az ügyfél nagy mértékű késleltetést tapasztal]: #metrics-show-low-AverageE2ELatency-and-low-AverageServerLatency
[A mérőszámok magas AverageServerLatency értéket mutatnak]: #metrics-show-high-AverageServerLatency
[Váratlan késést tapasztal az üzenetsorban található üzenetek kézbesítésekor]: #you-are-experiencing-unexpected-delays-in-message-delivery

[PercentThrottlingError metrika növelését]: #metrics-show-an-increase-in-PercentThrottlingError
[PercentThrottlingError átmeneti növekedése]: #transient-increase-in-PercentThrottlingError
[Állandó növekedése PercentThrottlingError hiba]: #permanent-increase-in-PercentThrottlingError
[PercentTimeoutError metrika növelését]: #metrics-show-an-increase-in-PercentTimeoutError
[A mérőszámok emelkedő PercentNetworkError értéket mutatnak]: #metrics-show-an-increase-in-PercentNetworkError

[Az ügyfél HTTP 403 (tiltott) üzeneteket fogad]: #the-client-is-receiving-403-messages
[Az ügyfél HTTP 404-es (nem található) üzeneteket fogad]: #the-client-is-receiving-404-messages
[Az ügyfél vagy egy másik folyamat a korábban az objektum törölve]: #client-previously-deleted-the-object
[Egy közös hozzáférésű Jogosultságkód (SAS) hitelesítési hiba]: #SAS-authorization-issue
[Ügyféloldali JavaScript-kód nincs engedélye az objektumhoz való hozzáférést]: #JavaScript-code-does-not-have-permission
[Hálózati hiba]: #network-failure
[Az ügyfél HTTP 409 (Ütközés) üzeneteket fogad]: #the-client-is-receiving-409-messages

[metrika alacsony PercentSuccess vagy analytics naplóbejegyzések rendelkezik ClientOtherErrors működésére állapotú tranzakció]: #metrics-show-low-percent-success
[Teljesítmény-mérőszámait váratlan növekedését megjelenítése a tárolási kapacitás-használat]: #capacity-metrics-show-an-unexpected-increase
[Váratlan vesznek el virtuális gépeken, amelyek csatlakoztatott virtuális merevlemezek nagy számú tapasztal]: #you-are-experiencing-unexpected-reboots
[A probléma merül fel a fejlesztési vagy tesztelési a storage emulator használatával]: #your-issue-arises-from-using-the-storage-emulator
[A storage emulator az "X" a szolgáltatás nem működik]: #feature-X-is-not-working
[Hiba történt "a HTTP-fejlécek egyikéhez értéke nem megfelelő formátumú" a storage emulator használata esetén]: #error-HTTP-header-not-correct-format
[A storage emulator futtatása rendszergazdai jogosultságokra van szüksége]: #storage-emulator-requires-administrative-privileges
[.NET-keretrendszerhez készült Azure SDK telepítése problémák áll kapcsolatban.]: #you-are-encountering-problems-installing-the-Windows-Azure-SDK
[Van egy másik probléma storage szolgáltatással]: #you-have-a-different-issue-with-a-storage-service

[mellékletek]: #appendices
[1 függelék: HTTP és HTTPS-forgalom rögzítése a Fiddler használatával]: #appendix-1
[2 függelék: Wireshark használó rögzítheti a hálózati forgalom]: #appendix-2
[függelék: 3: Microsoft Message Analyzert használó rögzítheti a hálózati forgalom]: #appendix-3
[4. függelék: Segítségével Excel metrikák megtekintése és az adatok naplózása]: #appendix-4
[5. függelék: A Visual Studio Team Services az Application insights szolgáltatással figyelését.]: #appendix-5

<!--Image references-->
[1]: ./media/storage-monitoring-diagnosing-troubleshooting/overview.png
[3]: ./media/storage-monitoring-diagnosing-troubleshooting/hour-minute-metrics.png
[4]: ./media/storage-monitoring-diagnosing-troubleshooting/high-e2e-latency.png
[5]: ./media/storage-monitoring-diagnosing-troubleshooting/fiddler-screenshot.png
[6]: ./media/storage-monitoring-diagnosing-troubleshooting/wireshark-screenshot-1.png
[7]: ./media/storage-monitoring-diagnosing-troubleshooting/wireshark-screenshot-2.png
[8]: ./media/storage-monitoring-diagnosing-troubleshooting/wireshark-screenshot-3.png
[9]: ./media/storage-monitoring-diagnosing-troubleshooting/mma-screenshot-1.png
[10]: ./media/storage-monitoring-diagnosing-troubleshooting/mma-screenshot-2.png
