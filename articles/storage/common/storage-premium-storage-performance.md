---
title: "Prémium szintű Azure Storage: Teljesítmény kialakítása |} Microsoft Docs"
description: "Prémium szintű Azure Storage használatával nagy teljesítményű alkalmazások tervezése. Prémium szintű Storage nagy teljesítményű, alacsony késésű támogatása az Azure virtuális gépeken futó I/O-igényes munkaterhelések kínál."
services: storage
documentationcenter: na
author: aungoo-msft
manager: tadb
editor: tysonn
ms.assetid: e6a409c3-d31a-4704-a93c-0a04fdc95960
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/27/2017
ms.author: aungoo
ms.openlocfilehash: 5b5c8b4a0d490aee4b3d33f9222011d7864e4490
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 08/29/2017
---
# <a name="azure-premium-storage-design-for-high-performance"></a><span data-ttu-id="f34c3-104">Prémium szintű Azure Storage: Nagy teljesítményű kialakítása</span><span class="sxs-lookup"><span data-stu-id="f34c3-104">Azure Premium Storage: Design for High Performance</span></span>
## <a name="overview"></a><span data-ttu-id="f34c3-105">Áttekintés</span><span class="sxs-lookup"><span data-stu-id="f34c3-105">Overview</span></span>
<span data-ttu-id="f34c3-106">Ez a cikk útmutatást nyújt a prémium szintű Azure Storage használatával nagy teljesítményű alkalmazások létrehozásához.</span><span class="sxs-lookup"><span data-stu-id="f34c3-106">This article provides guidelines for building high performance applications using Azure Premium Storage.</span></span> <span data-ttu-id="f34c3-107">A megjelenő utasításokat az alkalmazás által használt technológiák alkalmazandó ajánlott eljárások teljesítményének együtt dokumentumban is használhatja.</span><span class="sxs-lookup"><span data-stu-id="f34c3-107">You can use the instructions provided in this document combined with performance best practices applicable to technologies used by your application.</span></span> <span data-ttu-id="f34c3-108">Mutatja be az irányelveket, ez a dokumentum példaként, prémium szintű Storage futó SQL Server használta azt.</span><span class="sxs-lookup"><span data-stu-id="f34c3-108">To illustrate the guidelines, we have used SQL Server running on Premium Storage as an example throughout this document.</span></span>

<span data-ttu-id="f34c3-109">Ebben a cikkben a tárolási réteg teljesítményének forgatókönyvei oldjuk, amíg szüksége lesz az alkalmazási rétegre optimalizálása érdekében.</span><span class="sxs-lookup"><span data-stu-id="f34c3-109">While we address performance scenarios for the Storage layer in this article, you will need to optimize the application layer.</span></span> <span data-ttu-id="f34c3-110">Például ha prémium szintű Azure Storage SharePoint-Farm üzemeltet, használhatja az SQL Server ebben a cikkben említett példákat követik az adatbázis-kiszolgáló optimalizálása érdekében.</span><span class="sxs-lookup"><span data-stu-id="f34c3-110">For example, if you are hosting a SharePoint Farm on Azure Premium Storage, you can use the SQL Server examples from this article to optimize the database server.</span></span> <span data-ttu-id="f34c3-111">Emellett optimalizálhatja a SharePoint-Farm webkiszolgáló és a legtöbb teljesítmény-alkalmazáskiszolgáló.</span><span class="sxs-lookup"><span data-stu-id="f34c3-111">Additionally, optimize the SharePoint Farm's Web server and Application server to get the most performance.</span></span>

<span data-ttu-id="f34c3-112">Ez a cikk segít a prémium szintű Azure Storage alkalmazás teljesítményének optimalizálására kapcsolatos gyakori kérdéseket a következő válasz</span><span class="sxs-lookup"><span data-stu-id="f34c3-112">This article will help answer following common questions about optimizing application performance on Azure Premium Storage,</span></span>

* <span data-ttu-id="f34c3-113">Az alkalmazás teljesítményének méréséhez hogyan?</span><span class="sxs-lookup"><span data-stu-id="f34c3-113">How to measure your application performance?</span></span>  
* <span data-ttu-id="f34c3-114">Miért meg nem jelenik meg várt nagy teljesítményű?</span><span class="sxs-lookup"><span data-stu-id="f34c3-114">Why are you not seeing expected high performance?</span></span>  
* <span data-ttu-id="f34c3-115">Mely tényezők befolyásolják az alkalmazások teljesítményéről, a prémium szintű Storage?</span><span class="sxs-lookup"><span data-stu-id="f34c3-115">Which factors influence your application performance on Premium Storage?</span></span>  
* <span data-ttu-id="f34c3-116">Hogyan hajtsa végre ezeket a tényezők befolyásolják a prémium szintű Storage az alkalmazás teljesítményének?</span><span class="sxs-lookup"><span data-stu-id="f34c3-116">How do these factors influence performance of your application on Premium Storage?</span></span>  
* <span data-ttu-id="f34c3-117">Hogyan is optimalizálhatja az IOPS, sávszélesség és a késleltetés?</span><span class="sxs-lookup"><span data-stu-id="f34c3-117">How can you optimize for IOPS, Bandwidth and Latency?</span></span>  

<span data-ttu-id="f34c3-118">Adtunk ezeket az irányelveket kifejezetten a prémium szintű Storage, mert prémium szintű Storage munkaterheléseinek magas teljesítmény-és nagybetűket.</span><span class="sxs-lookup"><span data-stu-id="f34c3-118">We have provided these guidelines specifically for Premium Storage because workloads running on Premium Storage are highly performance sensitive.</span></span> <span data-ttu-id="f34c3-119">Példák adtunk meg, ahol.</span><span class="sxs-lookup"><span data-stu-id="f34c3-119">We have provided examples where appropriate.</span></span> <span data-ttu-id="f34c3-120">Is alkalmazhat az egyes ezeket az irányelveket a szabványos tárolólemezek IaaS virtuális gépeken futó alkalmazások.</span><span class="sxs-lookup"><span data-stu-id="f34c3-120">You can also apply some of these guidelines to applications running on IaaS VMs with Standard Storage disks.</span></span>

<span data-ttu-id="f34c3-121">Mielőtt elkezdené, ha még nem ismeri a prémium szintű Storage, először olvassa el a [prémium szintű Storage: nagy teljesítményű tárolást Azure virtuális gépek terheléseihez](../storage-premium-storage.md) és [Azure Storage méretezhetőségi és Performance Targets](storage-scalability-targets.md)cikkeket.</span><span class="sxs-lookup"><span data-stu-id="f34c3-121">Before you begin, if you are new to Premium Storage, first read the [Premium Storage: High-Performance Storage for Azure Virtual Machine Workloads](../storage-premium-storage.md) and [Azure Storage Scalability and Performance Targets](storage-scalability-targets.md) articles.</span></span>

## <a name="application-performance-indicators"></a><span data-ttu-id="f34c3-122">Alkalmazás teljesítménymutatók</span><span class="sxs-lookup"><span data-stu-id="f34c3-122">Application Performance Indicators</span></span>
<span data-ttu-id="f34c3-123">Azt ellenőrzéséhez, hogy helyes-e használatával teljesítmény mutatókat, például egy alkalmazás hajt végre, hogy milyen gyorsan alkalmazás feldolgozása egy felhasználói kérelem mennyi adatot az alkalmazás kérés feldolgozása, hány kér az alkalmazás feldolgozása az egy adott időtartam, mennyi ideig vár arra, hogy a kérés elküldése után kapott választ a felhasználó rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="f34c3-123">We assess whether an application is performing well or not using performance indicators like, how fast an application is processing a user request, how much data an application is processing per request, how many requests is an application processing in a specific period of time, how long a user has to wait to get a response after submitting their request.</span></span> <span data-ttu-id="f34c3-124">Ezek teljesítménymutatók műszaki feltételei, IOPS, az átviteli vagy a sávszélesség és a késleltetés.</span><span class="sxs-lookup"><span data-stu-id="f34c3-124">The technical terms for these performance indicators are, IOPS, Throughput or Bandwidth, and Latency.</span></span>

<span data-ttu-id="f34c3-125">Ebben a szakaszban ismertetjük a közös teljesítménymutatók prémium szintű Storage környezetében.</span><span class="sxs-lookup"><span data-stu-id="f34c3-125">In this section, we will discuss the common performance indicators in the context of Premium Storage.</span></span> <span data-ttu-id="f34c3-126">A következő szakaszban, összegyűjtése Alkalmazáskövetelményeket, akkor megtudhatja, hogyan mérésére ezek teljesítménymutatók, az alkalmazás.</span><span class="sxs-lookup"><span data-stu-id="f34c3-126">In the following section, Gathering Application Requirements, you will learn how to measure these performance indicators for your application.</span></span> <span data-ttu-id="f34c3-127">Később az alkalmazások teljesítményének optimalizálása megtudhatja, hogyan ezek teljesítménymutatók és a javaslatok érdekében befolyásoló tényezők.</span><span class="sxs-lookup"><span data-stu-id="f34c3-127">Later in Optimizing Application Performance, you will learn about the factors affecting these performance indicators and recommendations to optimize them.</span></span>

## <a name="iops"></a><span data-ttu-id="f34c3-128">IO</span><span class="sxs-lookup"><span data-stu-id="f34c3-128">IOPS</span></span>
<span data-ttu-id="f34c3-129">IOPS-érték száma, hogy az alkalmazás egy második küld a tárolólemezek a kérelem.</span><span class="sxs-lookup"><span data-stu-id="f34c3-129">IOPS is number of requests that your application is sending to the storage disks in one second.</span></span> <span data-ttu-id="f34c3-130">Egy bemeneti/kimeneti műveleti olvashatók a sémaadatok, vagy szekvenciális vagy véletlenszerű írását.</span><span class="sxs-lookup"><span data-stu-id="f34c3-130">An input/output operation could be read or write, sequential or random.</span></span> <span data-ttu-id="f34c3-131">Sok egyidejű felhasználói kérés feldolgozása azonnal kell OLTP alkalmazások, például egy online kereskedelmi webhelyen.</span><span class="sxs-lookup"><span data-stu-id="f34c3-131">OLTP applications like an online retail website need to process many concurrent user requests immediately.</span></span> <span data-ttu-id="f34c3-132">A felhasználói kérelmek insert és igényes adatbázis tranzakciók, amelyek az alkalmazás gyorsan kell feldolgozni frissítése.</span><span class="sxs-lookup"><span data-stu-id="f34c3-132">The user requests are insert and update intensive database transactions, which the application must process quickly.</span></span> <span data-ttu-id="f34c3-133">Ezért OLTP alkalmazásoknak nagyon magas iops-érték.</span><span class="sxs-lookup"><span data-stu-id="f34c3-133">Therefore, OLTP applications require very high IOPS.</span></span> <span data-ttu-id="f34c3-134">Ilyen alkalmazásokat kezeléséhez a kis- és véletlenszerű I/O kérelmek több millió.</span><span class="sxs-lookup"><span data-stu-id="f34c3-134">Such applications handle millions of small and random IO requests.</span></span> <span data-ttu-id="f34c3-135">Ha egy kérelmet, az alkalmazás infrastruktúrát IOPS optimalizálás kell tervezésekor.</span><span class="sxs-lookup"><span data-stu-id="f34c3-135">If you have such an application, you must design the application infrastructure to optimize for IOPS.</span></span> <span data-ttu-id="f34c3-136">A későbbi szakasz ismerteti *alkalmazások teljesítményének optimalizálása*, tárgyaljuk részletesen a tényezőket kell figyelembe venni magas iops-érték eléréséhez.</span><span class="sxs-lookup"><span data-stu-id="f34c3-136">In the later section, *Optimizing Application Performance*, we discuss in detail all the factors that you must consider to get high IOPS.</span></span>

<span data-ttu-id="f34c3-137">Ha csatlakoztat egy prémium szintű tároló lemez a virtuális gép, méretezhető, a lemez specifikáció szerint IOPS garantált számos Azure rendelkezések.</span><span class="sxs-lookup"><span data-stu-id="f34c3-137">When you attach a premium storage disk to your high scale VM, Azure provisions for you a guaranteed number of IOPS as per the disk specification.</span></span> <span data-ttu-id="f34c3-138">Például egy P50 lemez 7500 IOPS látja el.</span><span class="sxs-lookup"><span data-stu-id="f34c3-138">For example, a P50 disk provisions 7500 IOPS.</span></span> <span data-ttu-id="f34c3-139">Minden nagy méretű Virtuálisgép-méretet is rendelkezik egy adott IOPS-korláttal is kiálló tárolókkal.</span><span class="sxs-lookup"><span data-stu-id="f34c3-139">Each high scale VM size also has a specific IOPS limit that it can sustain.</span></span> <span data-ttu-id="f34c3-140">Például egy szabványos GS5 virtuális gép rendelkezik 80000 IOPS korlátozza.</span><span class="sxs-lookup"><span data-stu-id="f34c3-140">For example, a Standard GS5 VM has 80,000 IOPS limit.</span></span>

## <a name="throughput"></a><span data-ttu-id="f34c3-141">Teljesítmény</span><span class="sxs-lookup"><span data-stu-id="f34c3-141">Throughput</span></span>
<span data-ttu-id="f34c3-142">Átviteli vagy a sávszélesség nem az alkalmazás küld a tárolólemezek a megadott időszak adatmennyiséget.</span><span class="sxs-lookup"><span data-stu-id="f34c3-142">Throughput or Bandwidth is the amount of data that your application is sending to the storage disks in a specified interval.</span></span> <span data-ttu-id="f34c3-143">Az alkalmazás IO-egység nagy méretű bemeneti/kimeneti műveleteket hajt végre, ha magas teljesítményt igényel.</span><span class="sxs-lookup"><span data-stu-id="f34c3-143">If your application is performing input/output operations with large IO unit sizes, it requires high Throughput.</span></span> <span data-ttu-id="f34c3-144">Adatraktár alkalmazások általában ki, amely egyszerre nagy részének adatok eléréséhez, és általában a tömeges műveletek végrehajtása vizsgálat számításigényes műveletek.</span><span class="sxs-lookup"><span data-stu-id="f34c3-144">Data warehouse applications tend to issue scan intensive operations that access large portions of data at a time and commonly perform bulk operations.</span></span> <span data-ttu-id="f34c3-145">Ez azt jelenti az ilyen alkalmazások magasabb teljesítményt igényelnek.</span><span class="sxs-lookup"><span data-stu-id="f34c3-145">In other words, such applications require higher Throughput.</span></span> <span data-ttu-id="f34c3-146">Ha van ilyen alkalmazás, a teljesítmény optimalizálása érdekében az infrastruktúra tervezése kell.</span><span class="sxs-lookup"><span data-stu-id="f34c3-146">If you have such an application, you must design its infrastructure to optimize for Throughput.</span></span> <span data-ttu-id="f34c3-147">A következő szakaszban arról lesz szó részletesen a tényezőket, ennek érdekében kell beállításakor.</span><span class="sxs-lookup"><span data-stu-id="f34c3-147">In the next section, we discuss in detail the factors you must tune to achieve this.</span></span>

<span data-ttu-id="f34c3-148">Ha csatlakoztat egy prémium szintű tároló lemez egy nagy méretű virtuális Gépet az Azure rendelkezések átviteli adott lemez specifikáció szerint.</span><span class="sxs-lookup"><span data-stu-id="f34c3-148">When you attach a premium storage disk to a high scale VM, Azure provisions Throughput as per that disk specification.</span></span> <span data-ttu-id="f34c3-149">Például egy P50 lemez második lemezenként átviteli kiépítését 250 MB.</span><span class="sxs-lookup"><span data-stu-id="f34c3-149">For example, a P50 disk provisions 250 MB per second disk Throughput.</span></span> <span data-ttu-id="f34c3-150">Minden nagy méretű Virtuálisgép-méretet is kiálló tárolókkal adott átviteli korlátozás is rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="f34c3-150">Each high scale VM size also has as specific Throughput limit that it can sustain.</span></span> <span data-ttu-id="f34c3-151">Például szabványos GS5 virtuális Gépnek legyen 2000 MB maximális átviteli sebességgel száma másodpercenként.</span><span class="sxs-lookup"><span data-stu-id="f34c3-151">For example, Standard GS5 VM has a maximum throughput of 2,000 MB per second.</span></span> 

<span data-ttu-id="f34c3-152">Nincs olyan átviteli sebesség és IOPS, ahogy az alábbi képlet közötti kapcsolat.</span><span class="sxs-lookup"><span data-stu-id="f34c3-152">There is a relation between Throughput and IOPS as shown in the formula below.</span></span>

![](media/storage-premium-storage-performance/image1.png)

<span data-ttu-id="f34c3-153">Ezért fontos az optimális átviteli sebesség és IOPS értékeket, amelyeket az alkalmazás által igényelt határozza meg.</span><span class="sxs-lookup"><span data-stu-id="f34c3-153">Therefore, it is important to determine the optimal Throughput and IOPS values that your application requires.</span></span> <span data-ttu-id="f34c3-154">Próbálja ki valamelyik optimalizálása, a másik is lekérdezi hatással.</span><span class="sxs-lookup"><span data-stu-id="f34c3-154">As you try to optimize one, the other also gets affected.</span></span> <span data-ttu-id="f34c3-155">Egy későbbi szakasz ismerteti *alkalmazások teljesítményének optimalizálása*, iops-érték és a teljesítmény optimalizálása a további részleteket ismertetik.</span><span class="sxs-lookup"><span data-stu-id="f34c3-155">In a later section, *Optimizing Application Performance*, we will discuss in more details about optimizing IOPS and Throughput.</span></span>

## <a name="latency"></a><span data-ttu-id="f34c3-156">Késés</span><span class="sxs-lookup"><span data-stu-id="f34c3-156">Latency</span></span>
<span data-ttu-id="f34c3-157">Késleltetés az az idő szükséges a egy alkalmazás egyetlen kérelem, elküldheti a tárolólemezek küldésére és fogadására a választ az ügyfélnek.</span><span class="sxs-lookup"><span data-stu-id="f34c3-157">Latency is the time it takes an application to receive a single request, send it to the storage disks and send the response to the client.</span></span> <span data-ttu-id="f34c3-158">Ez az IOPS és átviteli sebesség mellett az alkalmazások teljesítményének kritikus mértékét.</span><span class="sxs-lookup"><span data-stu-id="f34c3-158">This is a critical measure of an application's performance in addition to IOPS and Throughput.</span></span> <span data-ttu-id="f34c3-159">A prémium szintű tároló lemez késését az lekérdezni a következő kérelmet, és tájékoztatni az alkalmazás szükséges idő.</span><span class="sxs-lookup"><span data-stu-id="f34c3-159">The Latency of a premium storage disk is the time it takes to retrieve the information for a request and communicate it back to your application.</span></span> <span data-ttu-id="f34c3-160">Prémium szintű Storage konzisztens kis késleltetést biztosít.</span><span class="sxs-lookup"><span data-stu-id="f34c3-160">Premium Storage provides consistent low latencies.</span></span> <span data-ttu-id="f34c3-161">Ha engedélyezi a csak olvasható-állomás gyorsítótárazását a prémium szintű storage lemezeken, sokkal alacsonyabb olvasási késése kaphat.</span><span class="sxs-lookup"><span data-stu-id="f34c3-161">If you enable ReadOnly host caching on premium storage disks, you can get much lower read latency.</span></span> <span data-ttu-id="f34c3-162">Ismertetjük lemez gyorsítótárazása a szakasz későbbi részében részletesebben a *alkalmazások teljesítményének optimalizálása*.</span><span class="sxs-lookup"><span data-stu-id="f34c3-162">We will discuss Disk Caching in more detail in later section on *Optimizing Application Performance*.</span></span>

<span data-ttu-id="f34c3-163">Ha az alkalmazás magasabb iops-érték és átviteli sebesség eléréséhez optimalizálása, az hatással a késés az alkalmazás.</span><span class="sxs-lookup"><span data-stu-id="f34c3-163">When you are optimizing your application to get higher IOPS and Throughput, it will affect the Latency of your application.</span></span> <span data-ttu-id="f34c3-164">Miután az alkalmazás teljesítményének hangolása, kiértékelésének eredménye mindig a késés nagy késleltetésű váratlan viselkedés elkerülése érdekében az alkalmazás.</span><span class="sxs-lookup"><span data-stu-id="f34c3-164">After tuning the application performance, always evaluate the Latency of the application to avoid unexpected high latency behavior.</span></span>

## <a name="gather-application-performance-requirements"></a><span data-ttu-id="f34c3-165">Alkalmazás teljesítmény követelmények összegyűjtése</span><span class="sxs-lookup"><span data-stu-id="f34c3-165">Gather Application Performance Requirements</span></span>
<span data-ttu-id="f34c3-166">A prémium szintű Azure Storage futó nagy teljesítményű alkalmazások tervezésének első lépése van, az alkalmazás teljesítményének követelmények megértése érdekében.</span><span class="sxs-lookup"><span data-stu-id="f34c3-166">The first step in designing high performance applications running on Azure Premium Storage is, to understand the performance requirements of your application.</span></span> <span data-ttu-id="f34c3-167">Miután összegyűjtötte teljesítménykövetelményeknek, optimalizálhatja az alkalmazás a legoptimálisabb teljesítmény eléréséhez.</span><span class="sxs-lookup"><span data-stu-id="f34c3-167">After you gather performance requirements, you can optimize your application to achieve the most optimal performance.</span></span>

<span data-ttu-id="f34c3-168">Az előző szakasz azt magyarázza a közös teljesítménymutatók, IOPS, az átviteli sebesség és a késleltetés.</span><span class="sxs-lookup"><span data-stu-id="f34c3-168">In the previous section, we explained the common performance indicators, IOPS, Throughput and Latency.</span></span> <span data-ttu-id="f34c3-169">Meg kell adnia, amely ezen teljesítménymutatók létfontosságúak az alkalmazás számára a kívánt felhasználói élmény.</span><span class="sxs-lookup"><span data-stu-id="f34c3-169">You must identify which of these performance indicators are critical to your application to deliver the desired user experience.</span></span> <span data-ttu-id="f34c3-170">Például magas iops értéket számít legtöbb másodpercenként több millió tranzakciók feldolgozása OLTP-alkalmazásokhoz.</span><span class="sxs-lookup"><span data-stu-id="f34c3-170">For example, high IOPS matters most to OLTP applications processing millions of transactions in a second.</span></span> <span data-ttu-id="f34c3-171">Mivel a magas teljesítmény fontos a nagy mennyiségű adat feldolgozása egy második Data Warehouse-alkalmazások.</span><span class="sxs-lookup"><span data-stu-id="f34c3-171">Whereas, high Throughput is critical for Data Warehouse applications processing large amounts of data in a second.</span></span> <span data-ttu-id="f34c3-172">Valós idejű alkalmazások, például élő videoadatfolyam webhelyek elengedhetetlen a rendkívül alacsony késleltetés.</span><span class="sxs-lookup"><span data-stu-id="f34c3-172">Extremely low Latency is crucial for real-time applications like live video streaming websites.</span></span>

<span data-ttu-id="f34c3-173">A következő mértékcsoport teljes élettartamuk az alkalmazás maximális teljesítménye követelményeinek.</span><span class="sxs-lookup"><span data-stu-id="f34c3-173">Next, measure the maximum performance requirements of your application throughout its lifetime.</span></span> <span data-ttu-id="f34c3-174">Az alábbi minta ellenőrzőlista használják a Kezdés.</span><span class="sxs-lookup"><span data-stu-id="f34c3-174">Use the sample checklist below as a start.</span></span> <span data-ttu-id="f34c3-175">Jegyezze fel a maximális teljesítménykövetelményeknek normál során, a csúcsidőre és a munkaidőn kívüli munkaterhelés időszakok.</span><span class="sxs-lookup"><span data-stu-id="f34c3-175">Record the maximum performance requirements during normal, peak and off-hours workload periods.</span></span> <span data-ttu-id="f34c3-176">Az összes munkaterhelés szint követelményeinek azonosításával fogja tudni határoznia azt, az alkalmazás általános teljesítmény-követelmény.</span><span class="sxs-lookup"><span data-stu-id="f34c3-176">By identifying requirements for all workloads levels, you will be able to determine the overall performance requirement of your application.</span></span> <span data-ttu-id="f34c3-177">Például az elektronikus kereskedelmi webhely normál munkaterhelését lesz a tranzakciók működik a legtöbb nap során.</span><span class="sxs-lookup"><span data-stu-id="f34c3-177">For example, the normal workload of an e-commerce website will be the transactions it serves during most days in a year.</span></span> <span data-ttu-id="f34c3-178">A maximális munkaterhelést a webhely lesz a tranzakciók során ünnepi vagy különleges pénztári események szolgál.</span><span class="sxs-lookup"><span data-stu-id="f34c3-178">The peak workload of the website will be the transactions it serves during holiday season or special sale events.</span></span> <span data-ttu-id="f34c3-179">A maximális munkaterhelést általában tapasztalt korlátozott időtartamra, de megkövetelheti az alkalmazás két vagy több alkalommal a normál működésének méretezése.</span><span class="sxs-lookup"><span data-stu-id="f34c3-179">The peak workload is typically experienced for a limited period, but can require your application to scale two or more times its normal operation.</span></span> <span data-ttu-id="f34c3-180">Ismerje meg az 50. percentilis, 90 PERCENTILIS és 99 érték követelményeinek.</span><span class="sxs-lookup"><span data-stu-id="f34c3-180">Find out the 50 percentile, 90 percentile and 99 percentile requirements.</span></span> <span data-ttu-id="f34c3-181">Ez segít a teljesítmény követelmények minden kiugró szűrheti, és a próbálkozások összpontosíthat optimalizálja a a megfelelő értékeket.</span><span class="sxs-lookup"><span data-stu-id="f34c3-181">This helps filter out any outliers in the performance requirements and you can focus your efforts on optimizing for the right values.</span></span>

<span data-ttu-id="f34c3-182">**Alkalmazás teljesítmény követelmények ellenőrzőlista**</span><span class="sxs-lookup"><span data-stu-id="f34c3-182">**Application Performance Requirements Checklist**</span></span>

| <span data-ttu-id="f34c3-183">**Teljesítménnyel kapcsolatos követelmények**</span><span class="sxs-lookup"><span data-stu-id="f34c3-183">**Performance requirements**</span></span> | <span data-ttu-id="f34c3-184">**50. percentilis**</span><span class="sxs-lookup"><span data-stu-id="f34c3-184">**50 Percentile**</span></span> | <span data-ttu-id="f34c3-185">**90 százalékos érték**</span><span class="sxs-lookup"><span data-stu-id="f34c3-185">**90 Percentile**</span></span> | <span data-ttu-id="f34c3-186">**99 PERCENTILIS**</span><span class="sxs-lookup"><span data-stu-id="f34c3-186">**99  Percentile**</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="f34c3-187">Legfeljebb</span><span class="sxs-lookup"><span data-stu-id="f34c3-187">Max.</span></span> <span data-ttu-id="f34c3-188">Másodpercenkénti tranzakciók</span><span class="sxs-lookup"><span data-stu-id="f34c3-188">Transactions per second</span></span> | | | |
| <span data-ttu-id="f34c3-189">% Olvasási műveletek</span><span class="sxs-lookup"><span data-stu-id="f34c3-189">% Read operations</span></span> | | | |
| <span data-ttu-id="f34c3-190">% Írási műveletek</span><span class="sxs-lookup"><span data-stu-id="f34c3-190">% Write operations</span></span> | | | |
| <span data-ttu-id="f34c3-191">% Véletlenszerű műveletek</span><span class="sxs-lookup"><span data-stu-id="f34c3-191">% Random operations</span></span> | | | |
| <span data-ttu-id="f34c3-192">% Egymást követő műveletek</span><span class="sxs-lookup"><span data-stu-id="f34c3-192">% Sequential operations</span></span> | | | |
| <span data-ttu-id="f34c3-193">IO-kérelem méret</span><span class="sxs-lookup"><span data-stu-id="f34c3-193">IO request size</span></span> | | | |
| <span data-ttu-id="f34c3-194">Átlagos átviteli sebessége</span><span class="sxs-lookup"><span data-stu-id="f34c3-194">Average Throughput</span></span> | | | |
| <span data-ttu-id="f34c3-195">Legfeljebb</span><span class="sxs-lookup"><span data-stu-id="f34c3-195">Max.</span></span> <span data-ttu-id="f34c3-196">Teljesítmény</span><span class="sxs-lookup"><span data-stu-id="f34c3-196">Throughput</span></span> | | | |
| <span data-ttu-id="f34c3-197">Perc.</span><span class="sxs-lookup"><span data-stu-id="f34c3-197">Min.</span></span> <span data-ttu-id="f34c3-198">Késés</span><span class="sxs-lookup"><span data-stu-id="f34c3-198">Latency</span></span> | | | |
| <span data-ttu-id="f34c3-199">Átlagos késleltetése</span><span class="sxs-lookup"><span data-stu-id="f34c3-199">Average Latency</span></span> | | | |
| <span data-ttu-id="f34c3-200">Legfeljebb</span><span class="sxs-lookup"><span data-stu-id="f34c3-200">Max.</span></span> <span data-ttu-id="f34c3-201">CPU</span><span class="sxs-lookup"><span data-stu-id="f34c3-201">CPU</span></span> | | | |
| <span data-ttu-id="f34c3-202">Átlagos CPU</span><span class="sxs-lookup"><span data-stu-id="f34c3-202">Average CPU</span></span> | | | |
| <span data-ttu-id="f34c3-203">Legfeljebb</span><span class="sxs-lookup"><span data-stu-id="f34c3-203">Max.</span></span> <span data-ttu-id="f34c3-204">Memory (Memória)</span><span class="sxs-lookup"><span data-stu-id="f34c3-204">Memory</span></span> | | | |
| <span data-ttu-id="f34c3-205">Átlagos memória</span><span class="sxs-lookup"><span data-stu-id="f34c3-205">Average Memory</span></span> | | | |
| <span data-ttu-id="f34c3-206">Várólistamélység</span><span class="sxs-lookup"><span data-stu-id="f34c3-206">Queue Depth</span></span> | | | |

> [!NOTE]
> <span data-ttu-id="f34c3-207">Vegye figyelembe ezeket a számokat az alkalmazás a várt jövőbeli növekedésére alapján méretezés.</span><span class="sxs-lookup"><span data-stu-id="f34c3-207">You should consider scaling these numbers based on expected future growth of your application.</span></span> <span data-ttu-id="f34c3-208">Célszerű egy tervezése növekedési időben, mert később a teljesítmény fokozása infrastruktúráját módosítása nehezebb lehet.</span><span class="sxs-lookup"><span data-stu-id="f34c3-208">It is a good idea to plan for growth ahead of time, because it could be harder to change the infrastructure for improving performance later.</span></span>
>
>

<span data-ttu-id="f34c3-209">Ha egy meglévő alkalmazást, és szeretne áttérni a tanúsítványszolgáltatás prémium szintű Storage, először hozzon létre a meglévő alkalmazáshoz a fent ellenőrzőlista.</span><span class="sxs-lookup"><span data-stu-id="f34c3-209">If you have an existing application and want to move to Premium Storage, first build the checklist above for the existing application.</span></span> <span data-ttu-id="f34c3-210">Ezt követően egy prototípus az alkalmazás a prémium szintű Storage felépítéséhez, és irányelveket leírtak alapján alkalmazás *alkalmazások teljesítményének optimalizálása* a jelen dokumentum későbbi szakaszában.</span><span class="sxs-lookup"><span data-stu-id="f34c3-210">Then, build a prototype of your application on Premium Storage and design the application based on guidelines described in *Optimizing Application Performance* in a later section of this document.</span></span> <span data-ttu-id="f34c3-211">A következő szakasz az segítségével gyűjtse össze a TELJESÍTMÉNYMÉRÉSEK eszközöket írja le.</span><span class="sxs-lookup"><span data-stu-id="f34c3-211">The next section describes the tools you can use to gather the performance measurements.</span></span>

<span data-ttu-id="f34c3-212">A feladatlista létrehozása a meglévő alkalmazás a prototípus hasonló.</span><span class="sxs-lookup"><span data-stu-id="f34c3-212">Create a checklist similar to your existing application for the prototype.</span></span> <span data-ttu-id="f34c3-213">Benchmarking eszközökkel szimulálása a munkaterhelések, és mérheti a prototípus alkalmazás teljesítményére.</span><span class="sxs-lookup"><span data-stu-id="f34c3-213">Using Benchmarking tools you can simulate the workloads and measure performance on the prototype application.</span></span> <span data-ttu-id="f34c3-214">Szakaszt [Benchmarking](#benchmarking) további.</span><span class="sxs-lookup"><span data-stu-id="f34c3-214">See the section on [Benchmarking](#benchmarking) to learn more.</span></span> <span data-ttu-id="f34c3-215">Így ellenőrizheti, hogy prémium szintű Storage egyezik-e, vagy művelet túllépje a alkalmazás teljesítményre vonatkozó követelmények módon.</span><span class="sxs-lookup"><span data-stu-id="f34c3-215">By doing so you can determine whether Premium Storage can match or surpass your application performance requirements.</span></span> <span data-ttu-id="f34c3-216">Az azonos útmutatást majd éles alkalmazás is létrehozható.</span><span class="sxs-lookup"><span data-stu-id="f34c3-216">Then you can implement the same guidelines for your production application.</span></span>

### <a name="counters-to-measure-application-performance-requirements"></a><span data-ttu-id="f34c3-217">Alkalmazás teljesítménykövetelményeknek mérésére számlálók</span><span class="sxs-lookup"><span data-stu-id="f34c3-217">Counters to measure application performance requirements</span></span>
<span data-ttu-id="f34c3-218">A legjobb méréséhez az alkalmazás teljesítménykövetelményeknek módja Teljesítményfigyelő, a kiszolgálón futó operációs rendszer által biztosított eszközök segítségével.</span><span class="sxs-lookup"><span data-stu-id="f34c3-218">The best way to measure performance requirements of your application, is to use performance-monitoring tools provided by the operating system of the server.</span></span> <span data-ttu-id="f34c3-219">A Windows Teljesítményfigyelő és iostat Linux használhatja.</span><span class="sxs-lookup"><span data-stu-id="f34c3-219">You can use PerfMon for Windows and iostat for Linux.</span></span> <span data-ttu-id="f34c3-220">Ezek az eszközök rögzítése mindegyik mértéknek, tekintse meg a fenti szakaszban a megfelelő számlálókat.</span><span class="sxs-lookup"><span data-stu-id="f34c3-220">These tools capture counters corresponding to each measure explained in the above section.</span></span> <span data-ttu-id="f34c3-221">Ezek a számlálók értékeit rögzíteni kell, amikor az alkalmazás fut, a normál, maximális és a munkaidőn kívüli munkaterhelések.</span><span class="sxs-lookup"><span data-stu-id="f34c3-221">You must capture the values of these counters when your application is running its normal, peak and off-hours workloads.</span></span>

<span data-ttu-id="f34c3-222">A teljesítményszámlálók processzor, memória, és minden egyes logikai lemez és a kiszolgáló fizikai lemez érhetők el.</span><span class="sxs-lookup"><span data-stu-id="f34c3-222">The PerfMon counters are available for processor, memory and, each logical disk and physical disk of your server.</span></span> <span data-ttu-id="f34c3-223">Prémium szintű storage lemezek használatakor egy virtuális gép a fizikai lemez számlálók prémium szintű storage lemezek, és logikai lemez számlálók a prémium szintű storage lemezeken létrehozott minden kötet.</span><span class="sxs-lookup"><span data-stu-id="f34c3-223">When you use premium storage disks with a VM, the physical disk counters are for each premium storage disk, and logical disk counters are for each volume created on the premium storage disks.</span></span> <span data-ttu-id="f34c3-224">A lemezeket, az alkalmazás munkaterhelés üzemeltető értékeit kell rögzíti.</span><span class="sxs-lookup"><span data-stu-id="f34c3-224">You must capture the values for the disks that host your application workload.</span></span> <span data-ttu-id="f34c3-225">Ha egy-egy logikai és fizikai lemezek közötti leképezéseket, olvassa el a fizikai lemez számlálók; Ellenkező esetben tekintse meg a logikai lemez számlálókat.</span><span class="sxs-lookup"><span data-stu-id="f34c3-225">If there is a one to one mapping between logical and physical disks, you can refer to physical disk counters; otherwise refer to the logical disk counters.</span></span> <span data-ttu-id="f34c3-226">Linux a iostat parancs lemez- és CPU-kihasználtság jelentést hoz létre.</span><span class="sxs-lookup"><span data-stu-id="f34c3-226">On Linux, the iostat command generates a CPU and disk utilization report.</span></span> <span data-ttu-id="f34c3-227">A lemezhasználati jelentés nyújt a fizikai eszköz vagy a partíció statisztikai adatokat.</span><span class="sxs-lookup"><span data-stu-id="f34c3-227">The disk utilization report provides statistics per physical device or partition.</span></span> <span data-ttu-id="f34c3-228">Ha az adatokhoz és a naplófájlhoz az adatbázis-kiszolgáló külön lemezeken, az adatgyűjtést mindkét lemezhez.</span><span class="sxs-lookup"><span data-stu-id="f34c3-228">If you have a database server with its data and log on separate disks, collect this data for both disks.</span></span> <span data-ttu-id="f34c3-229">Alábbi táblázat ismerteti a lemezek, a processzor és memóriájára vonatkozóan:</span><span class="sxs-lookup"><span data-stu-id="f34c3-229">Below table describes counters for disks, processor and memory:</span></span>

| <span data-ttu-id="f34c3-230">A számláló</span><span class="sxs-lookup"><span data-stu-id="f34c3-230">Counter</span></span> | <span data-ttu-id="f34c3-231">Leírás</span><span class="sxs-lookup"><span data-stu-id="f34c3-231">Description</span></span> | <span data-ttu-id="f34c3-232">Teljesítményfigyelő</span><span class="sxs-lookup"><span data-stu-id="f34c3-232">PerfMon</span></span> | <span data-ttu-id="f34c3-233">Iostat</span><span class="sxs-lookup"><span data-stu-id="f34c3-233">Iostat</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="f34c3-234">**IOPS vagy tranzakciók száma másodpercenként**</span><span class="sxs-lookup"><span data-stu-id="f34c3-234">**IOPS or Transactions per second**</span></span> |<span data-ttu-id="f34c3-235">A tárolási lemezre másodpercenként kiadott i/o-kérelmek száma.</span><span class="sxs-lookup"><span data-stu-id="f34c3-235">Number of I/O requests issued to the storage disk per second.</span></span> |<span data-ttu-id="f34c3-236">Lemezolvasások/mp</span><span class="sxs-lookup"><span data-stu-id="f34c3-236">Disk Reads/sec</span></span> <br> <span data-ttu-id="f34c3-237">Lemezírás/mp</span><span class="sxs-lookup"><span data-stu-id="f34c3-237">Disk Writes/sec</span></span> |<span data-ttu-id="f34c3-238">TP-k</span><span class="sxs-lookup"><span data-stu-id="f34c3-238">tps</span></span> <br> <span data-ttu-id="f34c3-239">r/s</span><span class="sxs-lookup"><span data-stu-id="f34c3-239">r/s</span></span> <br> <span data-ttu-id="f34c3-240">w/s</span><span class="sxs-lookup"><span data-stu-id="f34c3-240">w/s</span></span> |
| <span data-ttu-id="f34c3-241">**Lemez olvasása és írása**</span><span class="sxs-lookup"><span data-stu-id="f34c3-241">**Disk Reads and Writes**</span></span> |<span data-ttu-id="f34c3-242">%-át olvasási és írási műveleteket végrehajtani a lemezen.</span><span class="sxs-lookup"><span data-stu-id="f34c3-242">% of Reads and Write operations performed on the disk.</span></span> |<span data-ttu-id="f34c3-243">% Lemez olvasási idő</span><span class="sxs-lookup"><span data-stu-id="f34c3-243">% Disk Read Time</span></span> <br> <span data-ttu-id="f34c3-244">% Lemezre írási ideje</span><span class="sxs-lookup"><span data-stu-id="f34c3-244">% Disk Write Time</span></span> |<span data-ttu-id="f34c3-245">r/s</span><span class="sxs-lookup"><span data-stu-id="f34c3-245">r/s</span></span> <br> <span data-ttu-id="f34c3-246">w/s</span><span class="sxs-lookup"><span data-stu-id="f34c3-246">w/s</span></span> |
| <span data-ttu-id="f34c3-247">**Átviteli sebesség**</span><span class="sxs-lookup"><span data-stu-id="f34c3-247">**Throughput**</span></span> |<span data-ttu-id="f34c3-248">Írni vagy olvasni a lemezre másodpercenként adatok mennyisége.</span><span class="sxs-lookup"><span data-stu-id="f34c3-248">Amount of data read from or written to the disk per second.</span></span> |<span data-ttu-id="f34c3-249">Lemez sebessége olvasott bájt/mp</span><span class="sxs-lookup"><span data-stu-id="f34c3-249">Disk Read Bytes/sec</span></span> <br> <span data-ttu-id="f34c3-250">Lemez írási bájtok/s</span><span class="sxs-lookup"><span data-stu-id="f34c3-250">Disk Write Bytes/sec</span></span> |<span data-ttu-id="f34c3-251">kB_read/s</span><span class="sxs-lookup"><span data-stu-id="f34c3-251">kB_read/s</span></span> <br> <span data-ttu-id="f34c3-252">kB_wrtn/s</span><span class="sxs-lookup"><span data-stu-id="f34c3-252">kB_wrtn/s</span></span> |
| <span data-ttu-id="f34c3-253">**Késés**</span><span class="sxs-lookup"><span data-stu-id="f34c3-253">**Latency**</span></span> |<span data-ttu-id="f34c3-254">A lemez IO-kérelem végrehajtásához teljes időtartam.</span><span class="sxs-lookup"><span data-stu-id="f34c3-254">Total time to complete a disk IO request.</span></span> |<span data-ttu-id="f34c3-255">Átlagos lemez mp/Olvasás</span><span class="sxs-lookup"><span data-stu-id="f34c3-255">Average Disk sec/Read</span></span> <br> <span data-ttu-id="f34c3-256">Átlagos lemez mp/írás</span><span class="sxs-lookup"><span data-stu-id="f34c3-256">Average disk sec/Write</span></span> |<span data-ttu-id="f34c3-257">await</span><span class="sxs-lookup"><span data-stu-id="f34c3-257">await</span></span> <br> <span data-ttu-id="f34c3-258">svctm</span><span class="sxs-lookup"><span data-stu-id="f34c3-258">svctm</span></span> |
| <span data-ttu-id="f34c3-259">**IO-méret**</span><span class="sxs-lookup"><span data-stu-id="f34c3-259">**IO size**</span></span> |<span data-ttu-id="f34c3-260">I/o méretét a tárolólemezek problémák kéri.</span><span class="sxs-lookup"><span data-stu-id="f34c3-260">The size of I/O requests issues to the storage disks.</span></span> |<span data-ttu-id="f34c3-261">Átlagos lemezátviteli/beolvasott bájtok száma</span><span class="sxs-lookup"><span data-stu-id="f34c3-261">Average Disk Bytes/Read</span></span> <br> <span data-ttu-id="f34c3-262">Átlagos írási bájtok/írás</span><span class="sxs-lookup"><span data-stu-id="f34c3-262">Average Disk Bytes/Write</span></span> |<span data-ttu-id="f34c3-263">avgrq-sz</span><span class="sxs-lookup"><span data-stu-id="f34c3-263">avgrq-sz</span></span> |
| <span data-ttu-id="f34c3-264">**Várólistamélység**</span><span class="sxs-lookup"><span data-stu-id="f34c3-264">**Queue Depth**</span></span> |<span data-ttu-id="f34c3-265">A lekérdezések képernyőn olvasható, vagy a tárolási lemezre váró függőben lévő i/o száma.</span><span class="sxs-lookup"><span data-stu-id="f34c3-265">Number of outstanding I/O requests waiting to be read form or written to the storage disk.</span></span> |<span data-ttu-id="f34c3-266">Lemezvárólista jelenlegi hossza</span><span class="sxs-lookup"><span data-stu-id="f34c3-266">Current Disk Queue Length</span></span> |<span data-ttu-id="f34c3-267">avgqu-sz</span><span class="sxs-lookup"><span data-stu-id="f34c3-267">avgqu-sz</span></span> |
| <span data-ttu-id="f34c3-268">**Max. Memória**</span><span class="sxs-lookup"><span data-stu-id="f34c3-268">**Max. Memory**</span></span> |<span data-ttu-id="f34c3-269">Zökkenőmentesen működjön az alkalmazás futtatásához szükséges memória mérete</span><span class="sxs-lookup"><span data-stu-id="f34c3-269">Amount of memory required to run application smoothly</span></span> |<span data-ttu-id="f34c3-270">% Előjegyzett memória</span><span class="sxs-lookup"><span data-stu-id="f34c3-270">% Committed Bytes in Use</span></span> |<span data-ttu-id="f34c3-271">Vmstat használata</span><span class="sxs-lookup"><span data-stu-id="f34c3-271">Use vmstat</span></span> |
| <span data-ttu-id="f34c3-272">**Max. PROCESSZOR**</span><span class="sxs-lookup"><span data-stu-id="f34c3-272">**Max. CPU**</span></span> |<span data-ttu-id="f34c3-273">Zökkenőmentesen működjön az alkalmazás futtatásához szükséges CPU összeg</span><span class="sxs-lookup"><span data-stu-id="f34c3-273">Amount CPU required to run application smoothly</span></span> |<span data-ttu-id="f34c3-274">Processzor kihasználtsága</span><span class="sxs-lookup"><span data-stu-id="f34c3-274">% Processor time</span></span> |<span data-ttu-id="f34c3-275">% haszn.</span><span class="sxs-lookup"><span data-stu-id="f34c3-275">%util</span></span> |

<span data-ttu-id="f34c3-276">További információ [iostat](http://linuxcommand.org/man_pages/iostat1.html) és [PerfMon](https://msdn.microsoft.com/library/aa645516.aspx).</span><span class="sxs-lookup"><span data-stu-id="f34c3-276">Learn more about [iostat](http://linuxcommand.org/man_pages/iostat1.html) and [PerfMon](https://msdn.microsoft.com/library/aa645516.aspx).</span></span>

## <a name="optimizing-application-performance"></a><span data-ttu-id="f34c3-277">Az alkalmazások teljesítményének optimalizálása</span><span class="sxs-lookup"><span data-stu-id="f34c3-277">Optimizing Application Performance</span></span>
<span data-ttu-id="f34c3-278">A fő prémium szintű Storage futó alkalmazást teljesítményét befolyásoló tényezők jellegét a IO kérelmeket, Virtuálisgép-méretet, a lemez mérete, lemezek, a lemez gyorsítótár, a többszálas végrehajtás és várólistamélység számát is.</span><span class="sxs-lookup"><span data-stu-id="f34c3-278">The main factors that influence performance of an application running on Premium Storage are Nature of IO Requests, VM size, Disk size, Number of disks, Disk Caching, Multithreading and Queue Depth.</span></span> <span data-ttu-id="f34c3-279">A rendszer által biztosított forgatógombját ezek közül néhány tényező vezérelhető.</span><span class="sxs-lookup"><span data-stu-id="f34c3-279">You can control some of these factors with knobs provided by the system.</span></span> <span data-ttu-id="f34c3-280">Legtöbb alkalmazás nem adhat meg egy lehetőség, hogy a IO-méret és várólistamélység alter közvetlenül.</span><span class="sxs-lookup"><span data-stu-id="f34c3-280">Most applications may not give you an option to alter the IO size and Queue Depth directly.</span></span> <span data-ttu-id="f34c3-281">Például az SQL Server használatakor nem választható, I/O méret- és várólista mélységét.</span><span class="sxs-lookup"><span data-stu-id="f34c3-281">For example, if you are using SQL Server, you cannot choose the IO size and queue depth.</span></span> <span data-ttu-id="f34c3-282">SQL Server úgy dönt, hogy optimális I/O méret- és várólista mélysége értékeket a legtöbb teljesítményre van szüksége.</span><span class="sxs-lookup"><span data-stu-id="f34c3-282">SQL Server chooses the optimal IO size and queue depth values to get the most performance.</span></span> <span data-ttu-id="f34c3-283">Fontos tudni, hogy mindkét típusú tényezők hatással az alkalmazások teljesítményéről, hogy a teljesítmény igényeinek megfelelő erőforrásokat oszthat.</span><span class="sxs-lookup"><span data-stu-id="f34c3-283">It is important to understand the effects of both types of factors on your application performance, so that you can provision appropriate resources to meet performance needs.</span></span>

<span data-ttu-id="f34c3-284">Ebben a szakaszban tekintse meg az alkalmazás követelményeinek ellenőrzőlista létrehozott, mennyire szükséges az alkalmazás teljesítményének optimalizálása érdekében.</span><span class="sxs-lookup"><span data-stu-id="f34c3-284">Throughout this section, refer to the application requirements checklist that you created, to identify how much you need to optimize your application performance.</span></span> <span data-ttu-id="f34c3-285">Amely alapján, fogja meg tudja határozni, mely tényezők ebben a szakaszban ismertetett kell hangolását.</span><span class="sxs-lookup"><span data-stu-id="f34c3-285">Based on that, you will be able to determine which factors from this section you will need to tune.</span></span> <span data-ttu-id="f34c3-286">Tanúsítsa minden tényező hatással az alkalmazások teljesítményéről, futtassa az alkalmazást telepítő összehasonlítási eszközöket.</span><span class="sxs-lookup"><span data-stu-id="f34c3-286">To witness the effects of each factor on your application performance, run benchmarking tools on your application setup.</span></span> <span data-ttu-id="f34c3-287">Tekintse meg a [Benchmarking](#Benchmarking) szakasz lépései a Windows és Linux virtuális gépek közös összehasonlítási eszközök futtatása a jelen cikk végén.</span><span class="sxs-lookup"><span data-stu-id="f34c3-287">Refer to the [Benchmarking](#Benchmarking) section at the end of this article for steps to run common benchmarking tools on Windows and Linux VMs.</span></span>

### <a name="optimizing-iops-throughput-and-latency-at-a-glance"></a><span data-ttu-id="f34c3-288">Egy pillanat alatt IOPS, az átviteli sebesség és a késleltetés optimalizálása</span><span class="sxs-lookup"><span data-stu-id="f34c3-288">Optimizing IOPS, Throughput and Latency at a glance</span></span>
<span data-ttu-id="f34c3-289">Az alábbi táblázat összefoglalja a teljesítmény tényezők és a lépéseket IOPS, az átviteli sebesség és a késleltetés optimalizálására.</span><span class="sxs-lookup"><span data-stu-id="f34c3-289">The table below summarizes all the performance factors and the steps to optimize IOPS, Throughput and Latency.</span></span> <span data-ttu-id="f34c3-290">A az összegzés a következő részekben egyes tényező sokkal több mélységét.</span><span class="sxs-lookup"><span data-stu-id="f34c3-290">The sections following this summary will describe each factor is much more depth.</span></span>

| &nbsp; | <span data-ttu-id="f34c3-291">**IOPS**</span><span class="sxs-lookup"><span data-stu-id="f34c3-291">**IOPS**</span></span> | <span data-ttu-id="f34c3-292">**Átviteli sebesség**</span><span class="sxs-lookup"><span data-stu-id="f34c3-292">**Throughput**</span></span> | <span data-ttu-id="f34c3-293">**Késés**</span><span class="sxs-lookup"><span data-stu-id="f34c3-293">**Latency**</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="f34c3-294">**Példa**</span><span class="sxs-lookup"><span data-stu-id="f34c3-294">**Example Scenario**</span></span> |<span data-ttu-id="f34c3-295">Vállalati OLTP alkalmazás igénylő nagyon magas tranzakciók második sebessége.</span><span class="sxs-lookup"><span data-stu-id="f34c3-295">Enterprise OLTP application requiring very high transactions per second rate.</span></span> |<span data-ttu-id="f34c3-296">Vállalati adatraktározási alkalmazás feldolgozási nagymennyiségű adat.</span><span class="sxs-lookup"><span data-stu-id="f34c3-296">Enterprise Data warehousing application processing large amounts of data.</span></span> |<span data-ttu-id="f34c3-297">Közel valós idejű alkalmazások felhasználói kérésekre, például online játékok azonnali válasz igényelnek.</span><span class="sxs-lookup"><span data-stu-id="f34c3-297">Near real-time applications requiring instant responses to user requests, like online gaming.</span></span> |
| <span data-ttu-id="f34c3-298">Teljesítmény tényezők</span><span class="sxs-lookup"><span data-stu-id="f34c3-298">Performance factors</span></span> | &nbsp; | &nbsp; | &nbsp; |
| <span data-ttu-id="f34c3-299">**IO-méret**</span><span class="sxs-lookup"><span data-stu-id="f34c3-299">**IO size**</span></span> |<span data-ttu-id="f34c3-300">Kisebb IO-méretet eredményez magasabb iops-érték.</span><span class="sxs-lookup"><span data-stu-id="f34c3-300">Smaller IO size yields higher IOPS.</span></span> |<span data-ttu-id="f34c3-301">Nagyobb IO mérete nagyobb átviteli teljesítményt eredményez.</span><span class="sxs-lookup"><span data-stu-id="f34c3-301">Larger IO size to yields higher Throughput.</span></span> | &nbsp;|
| <span data-ttu-id="f34c3-302">**Virtuálisgép-mérettel**</span><span class="sxs-lookup"><span data-stu-id="f34c3-302">**VM size**</span></span> |<span data-ttu-id="f34c3-303">A Virtuálisgép-méretet, amely nagyobb, mint az alkalmazás követelményeinek IOPS nyújt használja.</span><span class="sxs-lookup"><span data-stu-id="f34c3-303">Use a VM size that offers IOPS greater than your application requirement.</span></span> <span data-ttu-id="f34c3-304">Virtuálisgép-méretek és az IOPS-korlátok vonatkoznak itt talál.</span><span class="sxs-lookup"><span data-stu-id="f34c3-304">See VM sizes and their IOPS limits here.</span></span> |<span data-ttu-id="f34c3-305">A Virtuálisgép-méretet használata átviteli korlát nagyobb, mint az alkalmazás követelményeinek.</span><span class="sxs-lookup"><span data-stu-id="f34c3-305">Use a VM size with Throughput limit greater than your application requirement.</span></span> <span data-ttu-id="f34c3-306">Virtuálisgép-méretek és az átviteli sebességének korlátai itt talál.</span><span class="sxs-lookup"><span data-stu-id="f34c3-306">See VM sizes and their Throughput limits here.</span></span> |<span data-ttu-id="f34c3-307">Használja a virtuális gép méretét, hogy ajánlatok méretezési korlátok nagyobb, mint az alkalmazás követelményeinek.</span><span class="sxs-lookup"><span data-stu-id="f34c3-307">Use a VM size that offers scale limits greater than your application requirement.</span></span> <span data-ttu-id="f34c3-308">Virtuálisgép-méretek és azok korlátok itt talál.</span><span class="sxs-lookup"><span data-stu-id="f34c3-308">See VM sizes and their limits here.</span></span> |
| <span data-ttu-id="f34c3-309">**Lemez mérete**</span><span class="sxs-lookup"><span data-stu-id="f34c3-309">**Disk size**</span></span> |<span data-ttu-id="f34c3-310">A lemez mérete nagyobb, mint az alkalmazás követelményeinek IOPS által használható.</span><span class="sxs-lookup"><span data-stu-id="f34c3-310">Use a disk size that offers IOPS greater than your application requirement.</span></span> <span data-ttu-id="f34c3-311">Lemez méretét és az IOPS-korlátok vonatkoznak itt talál.</span><span class="sxs-lookup"><span data-stu-id="f34c3-311">See disk sizes and their IOPS limits here.</span></span> |<span data-ttu-id="f34c3-312">A lemez mérete nagyobb, mint az alkalmazás követelményeinek átviteli korlátot használja.</span><span class="sxs-lookup"><span data-stu-id="f34c3-312">Use a disk size with Throughput limit greater than your application requirement.</span></span> <span data-ttu-id="f34c3-313">Lemez méretét és az átviteli sebességének korlátai itt talál.</span><span class="sxs-lookup"><span data-stu-id="f34c3-313">See disk sizes and their Throughput limits here.</span></span> |<span data-ttu-id="f34c3-314">Használja a lemez méretét, hogy ajánlatok méretezési korlátok nagyobb, mint az alkalmazás követelményeinek.</span><span class="sxs-lookup"><span data-stu-id="f34c3-314">Use a disk size that offers scale limits greater than your application requirement.</span></span> <span data-ttu-id="f34c3-315">Lemezméret és azok korlátok itt talál.</span><span class="sxs-lookup"><span data-stu-id="f34c3-315">See disk sizes and their limits here.</span></span> |
| <span data-ttu-id="f34c3-316">**Virtuális gép és a lemez méretkorlátai**</span><span class="sxs-lookup"><span data-stu-id="f34c3-316">**VM and Disk Scale Limits**</span></span> |<span data-ttu-id="f34c3-317">A kiválasztott Virtuálisgép-méretet a IOPS-korláttal prémium szintű tároló lemez nem csatlakoztatható által vezérelt teljes IOPS-nál nagyobbnak kell lennie.</span><span class="sxs-lookup"><span data-stu-id="f34c3-317">IOPS limit of the VM size chosen should be greater than total IOPS driven by premium storage disks attached to it.</span></span> |<span data-ttu-id="f34c3-318">A Virtuálisgép-méretet választott átviteli legfeljebb teljes átviteli sebesség nem csatlakoztatható prémium tárolólemezek által vezérelt nagyobbnak kell lennie.</span><span class="sxs-lookup"><span data-stu-id="f34c3-318">Throughput limit of the VM size chosen should be greater than total Throughput driven by premium storage disks attached to it.</span></span> |<span data-ttu-id="f34c3-319">A kiválasztott Virtuálisgép-méretet a méretkorlátai teljes méretkorlátai csatolt prémium tárolólemezek nagyobbnak kell lennie.</span><span class="sxs-lookup"><span data-stu-id="f34c3-319">Scale limits of the VM size chosen must be greater than total scale limits of attached premium storage disks.</span></span> |
| <span data-ttu-id="f34c3-320">**A lemezes gyorsítótárazás**</span><span class="sxs-lookup"><span data-stu-id="f34c3-320">**Disk Caching**</span></span> |<span data-ttu-id="f34c3-321">Csak olvasható gyorsítótárának engedélyezése a prémium szintű tároló lemez is van olvasási nehéz műveletek olvasási magasabb IOPS eléréséhez.</span><span class="sxs-lookup"><span data-stu-id="f34c3-321">Enable ReadOnly Cache on premium storage disks with Read heavy operations to get higher Read IOPS.</span></span> | &nbsp; |<span data-ttu-id="f34c3-322">Csak olvasható gyorsítótárának engedélyezése a prémium szintű storage lemezeken készen nehéz műveletekkel lekérni nagyon alacsony olvasási késések fordulnak elő.</span><span class="sxs-lookup"><span data-stu-id="f34c3-322">Enable ReadOnly Cache on premium storage disks with Ready heavy operations to get very low Read latencies.</span></span> |
| <span data-ttu-id="f34c3-323">**Lemez csíkozást**</span><span class="sxs-lookup"><span data-stu-id="f34c3-323">**Disk Striping**</span></span> |<span data-ttu-id="f34c3-324">Több lemez használata, és paritásos azok egymáshoz kombinált magasabb iops-érték és átviteli határérték beolvasása.</span><span class="sxs-lookup"><span data-stu-id="f34c3-324">Use multiple disks and stripe them together to get a combined higher IOPS and Throughput limit.</span></span> <span data-ttu-id="f34c3-325">Vegye figyelembe, hogy a kombinált felső határ az egyes virtuális gép csatolt premium lemezek kombinált határain nagyobbnak kell lennie.</span><span class="sxs-lookup"><span data-stu-id="f34c3-325">Note that the combined limit per VM should be higher than the combined limits of attached premium disks.</span></span> | &nbsp; | &nbsp; |
| <span data-ttu-id="f34c3-326">**Paritásos mérete**</span><span class="sxs-lookup"><span data-stu-id="f34c3-326">**Stripe Size**</span></span> |<span data-ttu-id="f34c3-327">Paritásos mérete kisebb véletlenszerű kisméretű I/O minta OLTP alkalmazások látható.</span><span class="sxs-lookup"><span data-stu-id="f34c3-327">Smaller stripe size for random small IO pattern seen in OLTP applications.</span></span> <span data-ttu-id="f34c3-328">SQL-kiszolgáló OLTP alkalmazás például használja a 64 KB-os méret paritásos.</span><span class="sxs-lookup"><span data-stu-id="f34c3-328">E.g., use stripe size of 64KB for SQL Server OLTP application.</span></span> |<span data-ttu-id="f34c3-329">Adatraktár alkalmazások látható szekvenciális nagy IO minta nagyobb paritásos mérete.</span><span class="sxs-lookup"><span data-stu-id="f34c3-329">Larger stripe size for sequential large IO pattern seen in Data Warehouse applications.</span></span> <span data-ttu-id="f34c3-330">Például használható a paritásos mérete 256 KB-os SQL Server Data warehouse alkalmazás.</span><span class="sxs-lookup"><span data-stu-id="f34c3-330">E.g., use 256KB stripe size for SQL Server Data warehouse application.</span></span> | &nbsp; |
| <span data-ttu-id="f34c3-331">**Többszálas**</span><span class="sxs-lookup"><span data-stu-id="f34c3-331">**Multithreading**</span></span> |<span data-ttu-id="f34c3-332">A használt többszálas, amelyekkel kérelmek száma nagyobb a prémium szintű Storage, amelyek magasabb iops-érték és az átvitel.</span><span class="sxs-lookup"><span data-stu-id="f34c3-332">Use multithreading to push higher number of requests to Premium Storage that will lead to higher IOPS and Throughput.</span></span> <span data-ttu-id="f34c3-333">SQL-kiszolgálón állítsa például SQL Server több processzort lefoglalni nagy MAXDOP érték.</span><span class="sxs-lookup"><span data-stu-id="f34c3-333">For example, on SQL Server set a high MAXDOP value to allocate more CPUs to SQL Server.</span></span> | &nbsp; | &nbsp; |
| <span data-ttu-id="f34c3-334">**Várólistamélység**</span><span class="sxs-lookup"><span data-stu-id="f34c3-334">**Queue Depth**</span></span> |<span data-ttu-id="f34c3-335">Nagyobb várólistamélység magasabb IOPS adja eredményül.</span><span class="sxs-lookup"><span data-stu-id="f34c3-335">Larger Queue Depth yields higher IOPS.</span></span> |<span data-ttu-id="f34c3-336">Nagyobb várólistamélység nagyobb átviteli teljesítményt eredményez.</span><span class="sxs-lookup"><span data-stu-id="f34c3-336">Larger Queue Depth yields higher Throughput.</span></span> |<span data-ttu-id="f34c3-337">Kisebb várólistamélység kisebb késések adja eredményül.</span><span class="sxs-lookup"><span data-stu-id="f34c3-337">Smaller Queue Depth yields lower latencies.</span></span> |

## <a name="nature-of-io-requests"></a><span data-ttu-id="f34c3-338">IO-kérelmek jellege</span><span class="sxs-lookup"><span data-stu-id="f34c3-338">Nature of IO Requests</span></span>
<span data-ttu-id="f34c3-339">IO-kérelmet, amely az alkalmazás végrehajtását fogja bemeneti/kimeneti műveleti egység.</span><span class="sxs-lookup"><span data-stu-id="f34c3-339">An IO request is a unit of input/output operation that your application will be performing.</span></span> <span data-ttu-id="f34c3-340">IO-kérelmeket, véletlenszerű vagy egymást követő, jellege azonosító olvasási vagy írási, kisebb vagy nagyobb, segítenek meghatározni az alkalmazás teljesítményének követelményeinek.</span><span class="sxs-lookup"><span data-stu-id="f34c3-340">Identifying the nature of IO requests, random or sequential, read or write, small or large, will help you determine the performance requirements of your application.</span></span> <span data-ttu-id="f34c3-341">Nagyon fontos IO kérelmekről, a jobb oldali vonatkozó döntések meghozatalában az alkalmazás-infrastruktúra tervezésekor jellege megértése.</span><span class="sxs-lookup"><span data-stu-id="f34c3-341">It is very important to understand the nature of IO requests, to make the right decisions when designing your application infrastructure.</span></span>

<span data-ttu-id="f34c3-342">IO-méret a legfontosabb tényezők egyike.</span><span class="sxs-lookup"><span data-stu-id="f34c3-342">IO size is one of the more important factors.</span></span> <span data-ttu-id="f34c3-343">Az IO érték a bemeneti/kimeneti műveleti kérelem, az alkalmazás által generált méretét.</span><span class="sxs-lookup"><span data-stu-id="f34c3-343">The IO size is the size of the input/output operation request generated by your application.</span></span> <span data-ttu-id="f34c3-344">Az IO-méret jelentős hatással van a teljesítményre, különösen ha az iops-érték és a sávszélesség, amelyekkel az alkalmazás érhet el a.</span><span class="sxs-lookup"><span data-stu-id="f34c3-344">The IO size has a significant impact on performance especially on the IOPS and Bandwidth that the application is able to achieve.</span></span> <span data-ttu-id="f34c3-345">A következő képlet mutatja az IOPS, kapcsolatát IO-méret és a sávszélesség/átviteli sebességet.</span><span class="sxs-lookup"><span data-stu-id="f34c3-345">The following formula shows the relationship between IOPS, IO size and Bandwidth/Throughput.</span></span>  
    ![](media/storage-premium-storage-performance/image1.png)

<span data-ttu-id="f34c3-346">Egyes alkalmazások IO mérete, alter, míg egyes alkalmazások azonban nem teszik lehetővé.</span><span class="sxs-lookup"><span data-stu-id="f34c3-346">Some applications allow you to alter their IO size, while some applications do not.</span></span> <span data-ttu-id="f34c3-347">Például az SQL Server maga optimális IO méretét határozza meg, és nem biztosít a felhasználók bármilyen módosításhoz forgatógombját.</span><span class="sxs-lookup"><span data-stu-id="f34c3-347">For example, SQL Server determines the optimal IO size itself, and does not provide users with any knobs to change it.</span></span> <span data-ttu-id="f34c3-348">Másrészről, Oracle biztosít egy paraméter, [DB\_BLOKKOLÁSA\_mérete](https://docs.oracle.com/cd/B19306_01/server.102/b14211/iodesign.htm#i28815) használatával, amely konfigurálható a i/o-kérés méretét az adatbázis.</span><span class="sxs-lookup"><span data-stu-id="f34c3-348">On the other hand, Oracle provides a parameter called [DB\_BLOCK\_SIZE](https://docs.oracle.com/cd/B19306_01/server.102/b14211/iodesign.htm#i28815) using which you can configure the I/O request size of the database.</span></span>

<span data-ttu-id="f34c3-349">Ha egy alkalmazás, amely nem engedélyezi, hogy a IO Oldalméret módosítása oly módon, használ használja az útmutatást ebben a cikkben a KPI-t, amely a legjobban megfelelő az alkalmazás teljesítményének optimalizálása érdekében.</span><span class="sxs-lookup"><span data-stu-id="f34c3-349">If you are using an application, which does not allow you to change the IO size, use the guidelines in this article to optimize the performance KPI that is most relevant to your application.</span></span> <span data-ttu-id="f34c3-350">Például:</span><span class="sxs-lookup"><span data-stu-id="f34c3-350">For example,</span></span>

* <span data-ttu-id="f34c3-351">OLTP okoz a kis- és véletlenszerű I/O kérelmek több millió.</span><span class="sxs-lookup"><span data-stu-id="f34c3-351">An OLTP application generates millions of small and random IO requests.</span></span> <span data-ttu-id="f34c3-352">Az ilyen típusú IO kérelmek kezeléséhez, tervezésekor kell az alkalmazás infrastruktúráját magasabb iops-érték beolvasása.</span><span class="sxs-lookup"><span data-stu-id="f34c3-352">To handle these type of IO requests, you must design your application infrastructure to get higher IOPS.</span></span>  
* <span data-ttu-id="f34c3-353">Egy alkalmazás adatraktározási nagy és a szekvenciális I/O kérelmeket állít elő.</span><span class="sxs-lookup"><span data-stu-id="f34c3-353">A data warehousing application generates large and sequential IO requests.</span></span> <span data-ttu-id="f34c3-354">Az ilyen típusú IO kérelmek kezeléséhez, a nagyobb sávszélességet vagy átviteli sebesség eléréséhez infrastruktúrát kell tervezésekor.</span><span class="sxs-lookup"><span data-stu-id="f34c3-354">To handle these type of IO requests, you must design your application infrastructure to get higher Bandwidth or Throughput.</span></span>

<span data-ttu-id="f34c3-355">Egy alkalmazás, amely lehetővé teszi a IO Oldalméret módosítása oly módon, használata a szokásos megoldás használata mellett egyéb teljesítmény irányelvek IO mérete</span><span class="sxs-lookup"><span data-stu-id="f34c3-355">If you are using an application, which allows you to change the IO size, use this rule of thumb for the IO size in addition to other performance guidelines,</span></span>

* <span data-ttu-id="f34c3-356">IO-méret kisebb magasabb IOPS eléréséhez.</span><span class="sxs-lookup"><span data-stu-id="f34c3-356">Smaller IO size to get higher IOPS.</span></span> <span data-ttu-id="f34c3-357">Például 8 KB-os OLTP alkalmazásokra vonatkozóan.</span><span class="sxs-lookup"><span data-stu-id="f34c3-357">For example, 8 KB for an OLTP application.</span></span>  
* <span data-ttu-id="f34c3-358">IO-méret nagyobb nagyobb sávszélesség/átviteli sebesség eléréséhez.</span><span class="sxs-lookup"><span data-stu-id="f34c3-358">Larger IO size to get higher Bandwidth/Throughput.</span></span> <span data-ttu-id="f34c3-359">Például 1024 KB data warehouse alkalmazáshoz.</span><span class="sxs-lookup"><span data-stu-id="f34c3-359">For example, 1024 KB for a data warehouse application.</span></span>

<span data-ttu-id="f34c3-360">Íme egy példa a hogyan kiszámíthatja az iops-érték és átviteli/sávszélesség az alkalmazáshoz.</span><span class="sxs-lookup"><span data-stu-id="f34c3-360">Here is an example on how you can calculate the IOPS and Throughput/Bandwidth for your application.</span></span> <span data-ttu-id="f34c3-361">Érdemes lehet egy alkalmazás P30 lemezt használ.</span><span class="sxs-lookup"><span data-stu-id="f34c3-361">Consider an application using a P30 disk.</span></span> <span data-ttu-id="f34c3-362">A maximális iops-érték és P30 lemez átviteli/sávszélesség érhető el egy 5000 iops teljesítményt és 200 MB / s kulcsattribútumokkal.</span><span class="sxs-lookup"><span data-stu-id="f34c3-362">The maximum IOPS and Throughput/Bandwidth a P30 disk can achieve is 5000 IOPS and 200 MB per second respectively.</span></span> <span data-ttu-id="f34c3-363">Most ha az alkalmazás által a maximális IOPS a P30 lemezről, és használhatja például a 8 KB-os kisebb IO-méretet, a létrejövő fogja tudni lekérni sávszélessége 40 MB másodpercenkénti számát.</span><span class="sxs-lookup"><span data-stu-id="f34c3-363">Now, if your application requires the maximum IOPS from the P30 disk and you use a smaller IO size like 8 KB, the resulting Bandwidth you will be able to get is 40 MB per second.</span></span> <span data-ttu-id="f34c3-364">Azonban ha az alkalmazás által a maximális átviteli sebesség/sávszélesség P30 lemezről, és IO nagyobb mint 1024 KB méretű használ, az eredményül kapott IOPS lesz, 200 iops-érték.</span><span class="sxs-lookup"><span data-stu-id="f34c3-364">However, if your application requires the maximum Throughput/Bandwidth from P30 disk, and you use a larger IO size like 1024 KB, the resulting IOPS will be less, 200 IOPS.</span></span> <span data-ttu-id="f34c3-365">Ezért hangolja a IO-méret, úgy, hogy mind az alkalmazás iops-érték és átviteli/sávszélesség követelménynek megfelel-e.</span><span class="sxs-lookup"><span data-stu-id="f34c3-365">Therefore, tune the IO size such that it meets both your application's IOPS and Throughput/Bandwidth requirement.</span></span> <span data-ttu-id="f34c3-366">Az alábbi táblázat összefoglalja a különböző IO méretű és a megfelelő IOPS és átviteli P30 lemez.</span><span class="sxs-lookup"><span data-stu-id="f34c3-366">Table below summarizes the different IO sizes and their corresponding IOPS and Throughput for a P30 disk.</span></span>

| <span data-ttu-id="f34c3-367">Alkalmazás követelményeinek</span><span class="sxs-lookup"><span data-stu-id="f34c3-367">Application Requirement</span></span> | <span data-ttu-id="f34c3-368">I/o-mérete</span><span class="sxs-lookup"><span data-stu-id="f34c3-368">I/O size</span></span> | <span data-ttu-id="f34c3-369">IO</span><span class="sxs-lookup"><span data-stu-id="f34c3-369">IOPS</span></span> | <span data-ttu-id="f34c3-370">Átviteli sebesség/sávszélesség</span><span class="sxs-lookup"><span data-stu-id="f34c3-370">Throughput/Bandwidth</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="f34c3-371">Maximális iops-érték</span><span class="sxs-lookup"><span data-stu-id="f34c3-371">Max IOPS</span></span> |<span data-ttu-id="f34c3-372">8 KB</span><span class="sxs-lookup"><span data-stu-id="f34c3-372">8 KB</span></span> |<span data-ttu-id="f34c3-373">5,000</span><span class="sxs-lookup"><span data-stu-id="f34c3-373">5,000</span></span> |<span data-ttu-id="f34c3-374">40 MB / s</span><span class="sxs-lookup"><span data-stu-id="f34c3-374">40 MB per second</span></span> |
| <span data-ttu-id="f34c3-375">Maximális átviteli sebesség</span><span class="sxs-lookup"><span data-stu-id="f34c3-375">Max Throughput</span></span> |<span data-ttu-id="f34c3-376">1024 KB</span><span class="sxs-lookup"><span data-stu-id="f34c3-376">1024 KB</span></span> |<span data-ttu-id="f34c3-377">200</span><span class="sxs-lookup"><span data-stu-id="f34c3-377">200</span></span> |<span data-ttu-id="f34c3-378">200 MB / s</span><span class="sxs-lookup"><span data-stu-id="f34c3-378">200 MB per second</span></span> |
| <span data-ttu-id="f34c3-379">Maximális átviteli sebesség + magas iops-érték</span><span class="sxs-lookup"><span data-stu-id="f34c3-379">Max Throughput + high IOPS</span></span> |<span data-ttu-id="f34c3-380">64 KB</span><span class="sxs-lookup"><span data-stu-id="f34c3-380">64 KB</span></span> |<span data-ttu-id="f34c3-381">3,200</span><span class="sxs-lookup"><span data-stu-id="f34c3-381">3,200</span></span> |<span data-ttu-id="f34c3-382">200 MB / s</span><span class="sxs-lookup"><span data-stu-id="f34c3-382">200 MB per second</span></span> |
| <span data-ttu-id="f34c3-383">Maximális iops-érték + magas teljesítmény</span><span class="sxs-lookup"><span data-stu-id="f34c3-383">Max IOPS + high Throughput</span></span> |<span data-ttu-id="f34c3-384">32 KB</span><span class="sxs-lookup"><span data-stu-id="f34c3-384">32 KB</span></span> |<span data-ttu-id="f34c3-385">5,000</span><span class="sxs-lookup"><span data-stu-id="f34c3-385">5,000</span></span> |<span data-ttu-id="f34c3-386">160 MB / s</span><span class="sxs-lookup"><span data-stu-id="f34c3-386">160 MB per second</span></span> |

<span data-ttu-id="f34c3-387">Iops-érték és egy prémium szintű tároló lemez a maximális értéknél nagyobb sávszélességet, amelyet több premium lemezek csíkozott együtt.</span><span class="sxs-lookup"><span data-stu-id="f34c3-387">To get IOPS and Bandwidth higher than the maximum value of a single premium storage disk, use multiple premium disks striped together.</span></span> <span data-ttu-id="f34c3-388">Például paritásos két P30 lemezek egy 10 000 IOPS kombinált IOPS vagy egy kombinált átviteli sebesség 400 MB másodpercenként eléréséhez.</span><span class="sxs-lookup"><span data-stu-id="f34c3-388">For example, stripe two P30 disks to get a combined IOPS of 10,000 IOPS or a combined Throughput of 400 MB per second.</span></span> <span data-ttu-id="f34c3-389">A következő szakaszban leírtak kell használnia a virtuális gép méretét, amely támogatja a kombinált IOPS és-átviteli sebességet.</span><span class="sxs-lookup"><span data-stu-id="f34c3-389">As explained in the next section, you must use a VM size that supports the combined disk IOPS and Throughput.</span></span>

> [!NOTE]
> <span data-ttu-id="f34c3-390">Növelésével vagy IOPS, vagy a másik is növeli a teljesítményt, ellenőrizze, hogy nem kattint az átviteli vagy IOPS-korlátok vonatkoznak, a lemez vagy a virtuális gép amikor vagy az egyik növelését.</span><span class="sxs-lookup"><span data-stu-id="f34c3-390">As you increase either IOPS or Throughput the other also increases, make sure you do not hit throughput or IOPS limits of the disk or VM when increasing either one.</span></span>
>
>

<span data-ttu-id="f34c3-391">IO-méret hatással az alkalmazások teljesítményének tanúsítsa, futtathatja a virtuális gép és a lemezek összehasonlítási eszközöket.</span><span class="sxs-lookup"><span data-stu-id="f34c3-391">To witness the effects of IO size on application performance, you can run benchmarking tools on your VM and disks.</span></span> <span data-ttu-id="f34c3-392">Hozzon létre több tesztelési futtatják, és minden egyes futtatásához különböző IO-méret a hatás láthatja.</span><span class="sxs-lookup"><span data-stu-id="f34c3-392">Create multiple test runs and use different IO size for each run to see the impact.</span></span> <span data-ttu-id="f34c3-393">Tekintse meg a [Benchmarking](#Benchmarking) szakaszban olvashat a jelen cikk végén.</span><span class="sxs-lookup"><span data-stu-id="f34c3-393">Refer to the [Benchmarking](#Benchmarking) section at the end of this article for more details.</span></span>

## <a name="high-scale-vm-sizes"></a><span data-ttu-id="f34c3-394">Nagy méretű VM-méretek</span><span class="sxs-lookup"><span data-stu-id="f34c3-394">High Scale VM Sizes</span></span>
<span data-ttu-id="f34c3-395">Amikor elkezdi az alkalmazások fejlesztése, az első tennivalók egyik, válassza ki a virtuális gépek, az alkalmazás futtatásához.</span><span class="sxs-lookup"><span data-stu-id="f34c3-395">When you start designing an application, one of the first things to do is, choose a VM to host your application.</span></span> <span data-ttu-id="f34c3-396">Prémium szintű Storage nagy skálázási Virtuálisgép-méretek, futtatható egy magas helyi lemez i/o-teljesítmény és nagyobb számítási teljesítményt igénylő alkalmazásokhoz tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="f34c3-396">Premium Storage comes with High Scale VM sizes that can run applications requiring higher compute power and a high local disk I/O performance.</span></span> <span data-ttu-id="f34c3-397">Virtuális gépeken gyorsabb processzorok, memória-core magasabb arány és egy Solid-State meghajtót (SSD) adja meg a helyi lemezen.</span><span class="sxs-lookup"><span data-stu-id="f34c3-397">These VMs provide faster processors, a higher memory-to-core ratio, and a Solid-State Drive (SSD) for the local disk.</span></span> <span data-ttu-id="f34c3-398">Prémium szintű Storage támogató magas méretezési virtuális gépek többek között a DS, DSv2 és GS adatsorozat virtuális gépek.</span><span class="sxs-lookup"><span data-stu-id="f34c3-398">Examples of High Scale VMs supporting Premium Storage are the DS, DSv2 and GS series VMs.</span></span>

<span data-ttu-id="f34c3-399">Magas méretezési virtuális gépek különböző méretű mag, memória, az operációs rendszer és ideiglenes lemezméretet eltérő számú érhetők el.</span><span class="sxs-lookup"><span data-stu-id="f34c3-399">High Scale VMs are available in different sizes with a different number of CPU cores, memory, OS and temporary disk size.</span></span> <span data-ttu-id="f34c3-400">Minden egyes Virtuálisgép-méretet is rendelkezik, összekapcsolhatja azt a virtuális gép adatok lemezek maximális számát.</span><span class="sxs-lookup"><span data-stu-id="f34c3-400">Each VM size also has maximum number of data disks that you can attach to the VM.</span></span> <span data-ttu-id="f34c3-401">Ezért hatással lesz a kiválasztott Virtuálisgép-méretet, mennyi feldolgozást, memória, és a tárolási kapacitás érhető el az alkalmazást.</span><span class="sxs-lookup"><span data-stu-id="f34c3-401">Therefore, the chosen VM size will affect how much processing, memory, and storage capacity is available for your application.</span></span> <span data-ttu-id="f34c3-402">Hatással van a számítási és tárolási költségű.</span><span class="sxs-lookup"><span data-stu-id="f34c3-402">It also affects the Compute and Storage cost.</span></span> <span data-ttu-id="f34c3-403">Például az alábbiakban a legnagyobb Virtuálisgép-méretet a DS-ben több, DSv2 adatsorozat és GS több előírásainak:</span><span class="sxs-lookup"><span data-stu-id="f34c3-403">For example, below are the specifications of the largest VM size in a DS series, DSv2 series and a GS series:</span></span>

| <span data-ttu-id="f34c3-404">Virtuális gép mérete</span><span class="sxs-lookup"><span data-stu-id="f34c3-404">VM size</span></span> | <span data-ttu-id="f34c3-405">Processzormagok</span><span class="sxs-lookup"><span data-stu-id="f34c3-405">CPU cores</span></span> | <span data-ttu-id="f34c3-406">Memory (Memória)</span><span class="sxs-lookup"><span data-stu-id="f34c3-406">Memory</span></span> | <span data-ttu-id="f34c3-407">Virtuális gép mérete</span><span class="sxs-lookup"><span data-stu-id="f34c3-407">VM disk sizes</span></span> | <span data-ttu-id="f34c3-408">Legfeljebb</span><span class="sxs-lookup"><span data-stu-id="f34c3-408">Max.</span></span> <span data-ttu-id="f34c3-409">Az adatlemezek</span><span class="sxs-lookup"><span data-stu-id="f34c3-409">data disks</span></span> | <span data-ttu-id="f34c3-410">Gyorsítótár mérete</span><span class="sxs-lookup"><span data-stu-id="f34c3-410">Cache size</span></span> | <span data-ttu-id="f34c3-411">IO</span><span class="sxs-lookup"><span data-stu-id="f34c3-411">IOPS</span></span> | <span data-ttu-id="f34c3-412">Gyorsítótár IO sávszélességkorlátok</span><span class="sxs-lookup"><span data-stu-id="f34c3-412">Bandwidth Cache IO limits</span></span> |
| --- | --- | --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="f34c3-413">Standard_DS14</span><span class="sxs-lookup"><span data-stu-id="f34c3-413">Standard_DS14</span></span> |<span data-ttu-id="f34c3-414">16</span><span class="sxs-lookup"><span data-stu-id="f34c3-414">16</span></span> |<span data-ttu-id="f34c3-415">112 GB</span><span class="sxs-lookup"><span data-stu-id="f34c3-415">112 GB</span></span> |<span data-ttu-id="f34c3-416">AZ OPERÁCIÓS RENDSZER 1023 GB-OS =</span><span class="sxs-lookup"><span data-stu-id="f34c3-416">OS = 1023 GB</span></span> <br> <span data-ttu-id="f34c3-417">Helyi SSD 224 GB =</span><span class="sxs-lookup"><span data-stu-id="f34c3-417">Local SSD = 224 GB</span></span> |<span data-ttu-id="f34c3-418">32</span><span class="sxs-lookup"><span data-stu-id="f34c3-418">32</span></span> |<span data-ttu-id="f34c3-419">576 GB</span><span class="sxs-lookup"><span data-stu-id="f34c3-419">576 GB</span></span> |<span data-ttu-id="f34c3-420">50 000 IOPS</span><span class="sxs-lookup"><span data-stu-id="f34c3-420">50,000 IOPS</span></span> <br> <span data-ttu-id="f34c3-421">512 MB / s</span><span class="sxs-lookup"><span data-stu-id="f34c3-421">512 MB per second</span></span> |<span data-ttu-id="f34c3-422">4000 IOPS és 33 MB / s</span><span class="sxs-lookup"><span data-stu-id="f34c3-422">4,000 IOPS and 33 MB per second</span></span> |
| <span data-ttu-id="f34c3-423">Standard_GS5</span><span class="sxs-lookup"><span data-stu-id="f34c3-423">Standard_GS5</span></span> |<span data-ttu-id="f34c3-424">32</span><span class="sxs-lookup"><span data-stu-id="f34c3-424">32</span></span> |<span data-ttu-id="f34c3-425">448 GB</span><span class="sxs-lookup"><span data-stu-id="f34c3-425">448 GB</span></span> |<span data-ttu-id="f34c3-426">AZ OPERÁCIÓS RENDSZER 1023 GB-OS =</span><span class="sxs-lookup"><span data-stu-id="f34c3-426">OS = 1023 GB</span></span> <br> <span data-ttu-id="f34c3-427">Helyi SSD 896 GB =</span><span class="sxs-lookup"><span data-stu-id="f34c3-427">Local SSD = 896 GB</span></span> |<span data-ttu-id="f34c3-428">64</span><span class="sxs-lookup"><span data-stu-id="f34c3-428">64</span></span> |<span data-ttu-id="f34c3-429">4224 GB</span><span class="sxs-lookup"><span data-stu-id="f34c3-429">4224 GB</span></span> |<span data-ttu-id="f34c3-430">80000 IOPS</span><span class="sxs-lookup"><span data-stu-id="f34c3-430">80,000 IOPS</span></span> <br> <span data-ttu-id="f34c3-431">2000 MB / s</span><span class="sxs-lookup"><span data-stu-id="f34c3-431">2,000 MB per second</span></span> |<span data-ttu-id="f34c3-432">5000 iops teljesítményt és 50 MB / s</span><span class="sxs-lookup"><span data-stu-id="f34c3-432">5,000 IOPS and 50 MB per second</span></span> |

<span data-ttu-id="f34c3-433">Az összes elérhető Azure Virtuálisgép-méretek teljes listájának megtekintéséhez lásd [Windows Virtuálisgép-méretek](../../virtual-machines/windows/sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) vagy [Linux Virtuálisgép-méretek](../../virtual-machines/windows/sizes.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="f34c3-433">To view a complete list of all available Azure VM sizes, refer to [Windows VM sizes](../../virtual-machines/windows/sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) or [Linux VM sizes](../../virtual-machines/windows/sizes.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span> <span data-ttu-id="f34c3-434">Válassza ki a virtuális gép méretét, amelyek megfelelnek és méretezhető, a kívánt alkalmazáshoz teljesítményre vonatkozó követelmények.</span><span class="sxs-lookup"><span data-stu-id="f34c3-434">Choose a VM size that can meet and scale to your desired application performance requirements.</span></span> <span data-ttu-id="f34c3-435">Továbbá a Virtuálisgép-méretek kiválasztásakor a következő szempontokat figyelembe venni.</span><span class="sxs-lookup"><span data-stu-id="f34c3-435">In addition to this, take into account following important considerations when choosing VM sizes.</span></span>

<span data-ttu-id="f34c3-436">*Méretkorlátai*</span><span class="sxs-lookup"><span data-stu-id="f34c3-436">*Scale Limits*</span></span>  
<span data-ttu-id="f34c3-437">A maximális IOPS-korlátok vonatkoznak virtuális gépenként, és lemezenként különböző és egymástól független.</span><span class="sxs-lookup"><span data-stu-id="f34c3-437">The maximum IOPS limits per VM and per disk are different and independent of each other.</span></span> <span data-ttu-id="f34c3-438">Győződjön meg arról, hogy az alkalmazás befolyásoló tényezők iops-érték a virtuális Gépet, valamint a premium lemezek nem csatlakoztatható keretein belül.</span><span class="sxs-lookup"><span data-stu-id="f34c3-438">Make sure that the application is driving IOPS within the limits of the VM as well as the premium disks attached to it.</span></span> <span data-ttu-id="f34c3-439">Ellenkező esetben az alkalmazások teljesítményének szabályozása fog tapasztalni.</span><span class="sxs-lookup"><span data-stu-id="f34c3-439">Otherwise, application performance will experience throttling.</span></span>

<span data-ttu-id="f34c3-440">Tegyük fel tegyük fel, hogy egy alkalmazás legfeljebb 4000 IOPS mérete.</span><span class="sxs-lookup"><span data-stu-id="f34c3-440">As an example, suppose an application requirement is a maximum of 4,000 IOPS.</span></span> <span data-ttu-id="f34c3-441">Ennek érdekében a virtuális gép DS1 P30 lemez kiépítéséhez.</span><span class="sxs-lookup"><span data-stu-id="f34c3-441">To achieve this, you provision a P30 disk on a DS1 VM.</span></span> <span data-ttu-id="f34c3-442">A P30 lemez legfeljebb 5000 iops teljesítményt biztosíthat.</span><span class="sxs-lookup"><span data-stu-id="f34c3-442">The P30 disk can deliver up to 5,000 IOPS.</span></span> <span data-ttu-id="f34c3-443">Azonban a DS1 virtuális Gépet a 3,200 IOPS korlátozódik.</span><span class="sxs-lookup"><span data-stu-id="f34c3-443">However, the DS1 VM is limited to 3,200 IOPS.</span></span> <span data-ttu-id="f34c3-444">Ennek következtében az alkalmazások teljesítményéről fog kell korlátozza a virtuális gép határérték 3,200 IOPS, és lesz a teljesítmény csökkenését.</span><span class="sxs-lookup"><span data-stu-id="f34c3-444">Consequently, the application performance will be constrained by the VM limit at 3,200 IOPS and there will be degraded performance.</span></span> <span data-ttu-id="f34c3-445">Ennek elkerülése érdekében válasszon, amelynek mindkét virtuális gép és a lemez mérete: alkalmazás követelményeinek.</span><span class="sxs-lookup"><span data-stu-id="f34c3-445">To prevent this situation, choose a VM and disk size that will both meet application requirements.</span></span>

<span data-ttu-id="f34c3-446">*A művelet költsége*</span><span class="sxs-lookup"><span data-stu-id="f34c3-446">*Cost of Operation*</span></span>  
<span data-ttu-id="f34c3-447">Sok esetben az is elképzelhető, hogy a prémium szintű Storage használatával művelet teljes költsége alacsonyabb, mint a standard szintű tárolást használ.</span><span class="sxs-lookup"><span data-stu-id="f34c3-447">In many cases, it is possible that your overall cost of operation using Premium Storage is lower than using Standard Storage.</span></span>

<span data-ttu-id="f34c3-448">Vegyük példaként 16 000 IOPS igénylő alkalmazás.</span><span class="sxs-lookup"><span data-stu-id="f34c3-448">For example, consider an application requiring 16,000 IOPS.</span></span> <span data-ttu-id="f34c3-449">A teljesítmény eléréséhez szüksége lesz egy szabványos\_biztosíthat 16000 32 standard tárolási 1 TB méretű lemezek használatával a maximális IOPS D14 Azure IaaS virtuális.</span><span class="sxs-lookup"><span data-stu-id="f34c3-449">To achieve this performance, you will need a Standard\_D14 Azure IaaS VM, which can give a maximum IOPS of 16,000 using 32 standard storage 1TB disks.</span></span> <span data-ttu-id="f34c3-450">Minden 1TB standard tároló lemez legfeljebb 500 IOPS érhető el.</span><span class="sxs-lookup"><span data-stu-id="f34c3-450">Each 1TB standard storage disk can achieve a maximum of 500 IOPS.</span></span> <span data-ttu-id="f34c3-451">A virtuális gép havonkénti becsült költségét $1,570 lesz.</span><span class="sxs-lookup"><span data-stu-id="f34c3-451">The estimated cost of this VM per month will be $1,570.</span></span> <span data-ttu-id="f34c3-452">A havi költségét 32 szabványos tárolólemezek $1,638 lesz.</span><span class="sxs-lookup"><span data-stu-id="f34c3-452">The monthly cost of 32 standard storage disks will be $1,638.</span></span> <span data-ttu-id="f34c3-453">Becsült havi összköltsége $3,208 lesz.</span><span class="sxs-lookup"><span data-stu-id="f34c3-453">The estimated total monthly cost will be $3,208.</span></span>

<span data-ttu-id="f34c3-454">Azonban ha üzemeltetett ugyanahhoz az alkalmazáshoz, a prémium szintű Storage, szüksége lesz kisebb Virtuálisgép-méretet és kevesebb a prémium szintű storage lemezt, így csökkentve a teljes költség szempontjából.</span><span class="sxs-lookup"><span data-stu-id="f34c3-454">However, if you hosted the same application on Premium Storage, you will need a smaller VM size and fewer premium storage disks, thus reducing the overall cost.</span></span> <span data-ttu-id="f34c3-455">Szabványos\_DS13 VM is megfeleljenek a 16 000 IOPS négy P30 lemezekkel.</span><span class="sxs-lookup"><span data-stu-id="f34c3-455">A Standard\_DS13 VM can meet the 16,000 IOPS requirement using four P30 disks.</span></span> <span data-ttu-id="f34c3-456">A DS13 virtuális Gépnek legyen a maximális IOPS 25,600, és minden P30 lemezhez tartozik egy maximális IOPS az 5000.</span><span class="sxs-lookup"><span data-stu-id="f34c3-456">The DS13 VM has a maximum IOPS of 25,600 and each P30 disk has a maximum IOPS of 5,000.</span></span> <span data-ttu-id="f34c3-457">A teljes, ez a konfiguráció érhető el 5000 x 4 = 20 000 iops-érték.</span><span class="sxs-lookup"><span data-stu-id="f34c3-457">Overall, this configuration can achieve 5,000 x 4 = 20,000 IOPS.</span></span> <span data-ttu-id="f34c3-458">A virtuális gép havonkénti becsült költségét $1,003 lesz.</span><span class="sxs-lookup"><span data-stu-id="f34c3-458">The estimated cost of this VM per month will be $1,003.</span></span> <span data-ttu-id="f34c3-459">Prémium szintű storage-lemezek négy P30 havi költségét $544.34 lesz.</span><span class="sxs-lookup"><span data-stu-id="f34c3-459">The monthly cost of four P30 premium storage disks will be $544.34.</span></span> <span data-ttu-id="f34c3-460">Becsült havi összköltsége $1,544 lesz.</span><span class="sxs-lookup"><span data-stu-id="f34c3-460">The estimated total monthly cost will be $1,544.</span></span>

<span data-ttu-id="f34c3-461">Az alábbi táblázat összefoglalja a költség bontásban tartalmazza az ebben a forgatókönyvben a Standard és prémium szintű Storage.</span><span class="sxs-lookup"><span data-stu-id="f34c3-461">Table below summarizes the cost breakdown of this scenario for Standard and Premium Storage.</span></span>

| &nbsp; | <span data-ttu-id="f34c3-462">**Standard**</span><span class="sxs-lookup"><span data-stu-id="f34c3-462">**Standard**</span></span> | <span data-ttu-id="f34c3-463">**Prémium**</span><span class="sxs-lookup"><span data-stu-id="f34c3-463">**Premium**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="f34c3-464">**Havonta VM költsége**</span><span class="sxs-lookup"><span data-stu-id="f34c3-464">**Cost of VM per month**</span></span> |<span data-ttu-id="f34c3-465">$1,570.58 (szabványos\_D14)</span><span class="sxs-lookup"><span data-stu-id="f34c3-465">$1,570.58 (Standard\_D14)</span></span> |<span data-ttu-id="f34c3-466">$1,003.66 (szabványos\_DS13)</span><span class="sxs-lookup"><span data-stu-id="f34c3-466">$1,003.66 (Standard\_DS13)</span></span> |
| <span data-ttu-id="f34c3-467">**A lemezekkel kapcsolatos költségek havonta**</span><span class="sxs-lookup"><span data-stu-id="f34c3-467">**Cost of Disks per month**</span></span> |<span data-ttu-id="f34c3-468">$1,638.40 (32 x 1 TB-os lemezeken)</span><span class="sxs-lookup"><span data-stu-id="f34c3-468">$1,638.40 (32 x 1 TB disks)</span></span> |<span data-ttu-id="f34c3-469">$544.34 (4 x P30 lemez)</span><span class="sxs-lookup"><span data-stu-id="f34c3-469">$544.34 (4 x P30 disks)</span></span> |
| <span data-ttu-id="f34c3-470">**Teljes költség szempontjából, havonta**</span><span class="sxs-lookup"><span data-stu-id="f34c3-470">**Overall Cost per month**</span></span> |<span data-ttu-id="f34c3-471">$3,208.98</span><span class="sxs-lookup"><span data-stu-id="f34c3-471">$3,208.98</span></span> |<span data-ttu-id="f34c3-472">$1,544.34</span><span class="sxs-lookup"><span data-stu-id="f34c3-472">$1,544.34</span></span> |

<span data-ttu-id="f34c3-473">*Linux Disztribúciókkal*</span><span class="sxs-lookup"><span data-stu-id="f34c3-473">*Linux Distros*</span></span>  

<span data-ttu-id="f34c3-474">Prémium szintű Azure Storage le a virtuális gépek teljesítménye azonos szinten Windows és Linux rendszerű.</span><span class="sxs-lookup"><span data-stu-id="f34c3-474">With Azure Premium Storage, you get the same level of Performance for VMs running Windows and Linux.</span></span> <span data-ttu-id="f34c3-475">Sok változatban is elkészíti a Linux disztribúciókkal támogatott, és a teljes listája látható [Itt](../../virtual-machines/linux/endorsed-distros.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="f34c3-475">We support many flavors of Linux distros, and you can see the complete list [here](../../virtual-machines/linux/endorsed-distros.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span> <span data-ttu-id="f34c3-476">Fontos megjegyezni, hogy különböző disztribúciókkal alkalmasabbak a különböző típusú munkaterhelések.</span><span class="sxs-lookup"><span data-stu-id="f34c3-476">It is important to note that different distros are better suited for different types of workloads.</span></span> <span data-ttu-id="f34c3-477">Attól függően, hogy a munkaterhelésnek futó distro különböző teljesítményszintet jelenik meg.</span><span class="sxs-lookup"><span data-stu-id="f34c3-477">You will see different levels of performance depending on the distro your workload is running on.</span></span> <span data-ttu-id="f34c3-478">A Linux disztribúciókkal el az alkalmazás tesztelése, és válassza ki azt, amelyik a legjobban.</span><span class="sxs-lookup"><span data-stu-id="f34c3-478">Test the Linux distros with your application and choose the one that works best.</span></span>

<span data-ttu-id="f34c3-479">Prémium szintű Storage a Linux operációs rendszert futtató, ellenőrizze a legújabb frissítéseket a szükséges illesztőprogramokról magas teljesítmény biztosítása érdekében.</span><span class="sxs-lookup"><span data-stu-id="f34c3-479">When running Linux with Premium Storage, check the latest updates about required drivers to ensure high performance.</span></span>

## <a name="premium-storage-disk-sizes"></a><span data-ttu-id="f34c3-480">Prémium szintű tároló lemez mérete</span><span class="sxs-lookup"><span data-stu-id="f34c3-480">Premium Storage Disk Sizes</span></span>
<span data-ttu-id="f34c3-481">Prémium szintű Storage jelenleg kínál hét mérete.</span><span class="sxs-lookup"><span data-stu-id="f34c3-481">Azure Premium Storage offers seven disk sizes currently.</span></span> <span data-ttu-id="f34c3-482">Minden lemez mérethatár különböző méretezési IOPS, sávszélesség és tárolására.</span><span class="sxs-lookup"><span data-stu-id="f34c3-482">Each disk size has a different scale limit for IOPS, Bandwidth and Storage.</span></span> <span data-ttu-id="f34c3-483">Válassza ki a jobb oldali prémium szintű tároló lemez mérete attól függően, hogy az alkalmazás követelményei és a nagy méretű Virtuálisgép-méretet.</span><span class="sxs-lookup"><span data-stu-id="f34c3-483">Choose the right Premium Storage Disk size depending on the application requirements and the high scale VM size.</span></span> <span data-ttu-id="f34c3-484">Az alábbi táblázat a hét lemezt méretek és azok képességeinek.</span><span class="sxs-lookup"><span data-stu-id="f34c3-484">The table below shows the seven disks sizes and their capabilities.</span></span> <span data-ttu-id="f34c3-485">P4 és P6 méretek jelenleg csak a felügyelt lemezek támogatott.</span><span class="sxs-lookup"><span data-stu-id="f34c3-485">P4 and P6 sizes are currently only supported for Managed Disks.</span></span>

| <span data-ttu-id="f34c3-486">Prémium szintű lemezek típusa</span><span class="sxs-lookup"><span data-stu-id="f34c3-486">Premium Disks Type</span></span>  | <span data-ttu-id="f34c3-487">P4</span><span class="sxs-lookup"><span data-stu-id="f34c3-487">P4</span></span>    | <span data-ttu-id="f34c3-488">P6</span><span class="sxs-lookup"><span data-stu-id="f34c3-488">P6</span></span>    | <span data-ttu-id="f34c3-489">P10</span><span class="sxs-lookup"><span data-stu-id="f34c3-489">P10</span></span>   | <span data-ttu-id="f34c3-490">P20</span><span class="sxs-lookup"><span data-stu-id="f34c3-490">P20</span></span>   | <span data-ttu-id="f34c3-491">P30</span><span class="sxs-lookup"><span data-stu-id="f34c3-491">P30</span></span>   | <span data-ttu-id="f34c3-492">P40</span><span class="sxs-lookup"><span data-stu-id="f34c3-492">P40</span></span>   | <span data-ttu-id="f34c3-493">P50</span><span class="sxs-lookup"><span data-stu-id="f34c3-493">P50</span></span>   | 
|---------------------|-------|-------|-------|-------|-------|-------|-------|
| <span data-ttu-id="f34c3-494">Lemezméret</span><span class="sxs-lookup"><span data-stu-id="f34c3-494">Disk size</span></span>           | <span data-ttu-id="f34c3-495">32 GB</span><span class="sxs-lookup"><span data-stu-id="f34c3-495">32 GB</span></span> | <span data-ttu-id="f34c3-496">64 GB</span><span class="sxs-lookup"><span data-stu-id="f34c3-496">64 GB</span></span> | <span data-ttu-id="f34c3-497">128 GB</span><span class="sxs-lookup"><span data-stu-id="f34c3-497">128 GB</span></span>| <span data-ttu-id="f34c3-498">512 GB</span><span class="sxs-lookup"><span data-stu-id="f34c3-498">512 GB</span></span>            | <span data-ttu-id="f34c3-499">1024 GB (1 TB)</span><span class="sxs-lookup"><span data-stu-id="f34c3-499">1024 GB (1 TB)</span></span>    | <span data-ttu-id="f34c3-500">2048 GB (2 TB)</span><span class="sxs-lookup"><span data-stu-id="f34c3-500">2048 GB (2 TB)</span></span>    | <span data-ttu-id="f34c3-501">4095 GB (4 TB)</span><span class="sxs-lookup"><span data-stu-id="f34c3-501">4095 GB (4 TB)</span></span>    | 
| <span data-ttu-id="f34c3-502">IOPS-érték lemezenként</span><span class="sxs-lookup"><span data-stu-id="f34c3-502">IOPS per disk</span></span>       | <span data-ttu-id="f34c3-503">120</span><span class="sxs-lookup"><span data-stu-id="f34c3-503">120</span></span>   | <span data-ttu-id="f34c3-504">240</span><span class="sxs-lookup"><span data-stu-id="f34c3-504">240</span></span>   | <span data-ttu-id="f34c3-505">500</span><span class="sxs-lookup"><span data-stu-id="f34c3-505">500</span></span>   | <span data-ttu-id="f34c3-506">2300</span><span class="sxs-lookup"><span data-stu-id="f34c3-506">2300</span></span>              | <span data-ttu-id="f34c3-507">5000</span><span class="sxs-lookup"><span data-stu-id="f34c3-507">5000</span></span>              | <span data-ttu-id="f34c3-508">7500</span><span class="sxs-lookup"><span data-stu-id="f34c3-508">7500</span></span>              | <span data-ttu-id="f34c3-509">7500</span><span class="sxs-lookup"><span data-stu-id="f34c3-509">7500</span></span>              | 
| <span data-ttu-id="f34c3-510">Adattovábbítás lemezenként</span><span class="sxs-lookup"><span data-stu-id="f34c3-510">Throughput per disk</span></span> | <span data-ttu-id="f34c3-511">25 MB / s</span><span class="sxs-lookup"><span data-stu-id="f34c3-511">25 MB per second</span></span>  | <span data-ttu-id="f34c3-512">50 MB / s</span><span class="sxs-lookup"><span data-stu-id="f34c3-512">50 MB per second</span></span>  | <span data-ttu-id="f34c3-513">100 MB / s</span><span class="sxs-lookup"><span data-stu-id="f34c3-513">100 MB per second</span></span> | <span data-ttu-id="f34c3-514">150 MB / s</span><span class="sxs-lookup"><span data-stu-id="f34c3-514">150 MB per second</span></span> | <span data-ttu-id="f34c3-515">200 MB / s</span><span class="sxs-lookup"><span data-stu-id="f34c3-515">200 MB per second</span></span> | <span data-ttu-id="f34c3-516">250 MB / s</span><span class="sxs-lookup"><span data-stu-id="f34c3-516">250 MB per second</span></span> | <span data-ttu-id="f34c3-517">250 MB / s</span><span class="sxs-lookup"><span data-stu-id="f34c3-517">250 MB per second</span></span> | 


<span data-ttu-id="f34c3-518">Hány lemezek határozza meg, hogy a lemez méretet választott.</span><span class="sxs-lookup"><span data-stu-id="f34c3-518">How many disks you choose depends on the disk size chosen.</span></span> <span data-ttu-id="f34c3-519">Használhat egyetlen P50 lemez vagy több lemez is P10 az alkalmazás követelményeinek teljesítéséhez.</span><span class="sxs-lookup"><span data-stu-id="f34c3-519">You could use a single P50 disk or multiple P10 disks to meet your application requirement.</span></span> <span data-ttu-id="f34c3-520">A választott meghozásakor lenti fiókokkal kapcsolatos megfontolások figyelembe.</span><span class="sxs-lookup"><span data-stu-id="f34c3-520">Take into account considerations listed below when making the choice.</span></span>

<span data-ttu-id="f34c3-521">*(Iops-érték és átviteli) méretkorlátai*</span><span class="sxs-lookup"><span data-stu-id="f34c3-521">*Scale Limits (IOPS and Throughput)*</span></span>  
<span data-ttu-id="f34c3-522">Az iops-érték és az átviteli Sebességkorlát minden prémium szintű lemez méretének különböző és független származik a virtuális gép méretezési korlátok.</span><span class="sxs-lookup"><span data-stu-id="f34c3-522">The IOPS and Throughput limits of each Premium disk size is different and independent from the VM scale limits.</span></span> <span data-ttu-id="f34c3-523">Győződjön meg arról, hogy a teljes IOPS és átviteli lemezeiről van-e a kiválasztott Virtuálisgép-méretet a méretezési korlátok.</span><span class="sxs-lookup"><span data-stu-id="f34c3-523">Make sure that the total IOPS and Throughput from the disks are within scale limits of the chosen VM size.</span></span>

<span data-ttu-id="f34c3-524">Ha például egy alkalmazás mérete legfeljebb 250 MB/s átviteli sebesség és DS4 virtuális gép egyetlen P30 lemezt használ.</span><span class="sxs-lookup"><span data-stu-id="f34c3-524">For example, if an application requirement is a maximum of 250 MB/sec Throughput and you are using a DS4 VM with a single P30 disk.</span></span> <span data-ttu-id="f34c3-525">DS4 virtuális gép akár 256 MB/s átviteli sebesség biztosíthat.</span><span class="sxs-lookup"><span data-stu-id="f34c3-525">The DS4 VM can give up to 256 MB/sec Throughput.</span></span> <span data-ttu-id="f34c3-526">Azonban egyetlen P30 lemez rendelkezik 200 MB/s átviteli sebesség korlátot. Ezért az alkalmazás korlátozott, 200 MB/s a lemez korlát miatt kell.</span><span class="sxs-lookup"><span data-stu-id="f34c3-526">However, a single P30 disk has Throughput limit of 200 MB/sec. Consequently, the application will be constrained at 200 MB/sec due to the disk limit.</span></span> <span data-ttu-id="f34c3-527">Megoldásához, ezt a határt, a virtuális gép adatok lemezek létrehozásához egynél több, vagy P40 vagy P50 a lemezek átméretezése.</span><span class="sxs-lookup"><span data-stu-id="f34c3-527">To overcome this limit, provision more than one data disks to the VM or resize your disks to P40 or P50.</span></span>

> [!NOTE]
> <span data-ttu-id="f34c3-528">Olvasási szolgálja ki a gyorsítótár nem szerepelnek a IOPS lemez és a teljesítményt, ezért nem tárgy lemez határértékekhez.</span><span class="sxs-lookup"><span data-stu-id="f34c3-528">Reads served by the cache are not included in the disk IOPS and Throughput, hence not subject to disk limits.</span></span> <span data-ttu-id="f34c3-529">Gyorsítótár a külön iops-érték és átviteli felső határ az egyes virtuális gép van.</span><span class="sxs-lookup"><span data-stu-id="f34c3-529">Cache has its separate IOPS and Throughput limit per VM.</span></span>
>
> <span data-ttu-id="f34c3-530">Például kezdetben az olvasási és írási műveletek a következők 60MB/s és 40MB/s kulcsattribútumokkal.</span><span class="sxs-lookup"><span data-stu-id="f34c3-530">For example, initially your reads and writes are 60MB/sec and 40MB/sec respectively.</span></span> <span data-ttu-id="f34c3-531">Az idő múlásával a gyorsítótár bemelegedett, és több és több olvasási szolgál a gyorsítótárból.</span><span class="sxs-lookup"><span data-stu-id="f34c3-531">Over time, the cache warms up and serves more and more of the reads from the cache.</span></span> <span data-ttu-id="f34c3-532">Ezt követően magasabb írási teljesítményt érheti el a lemez.</span><span class="sxs-lookup"><span data-stu-id="f34c3-532">Then, you can get higher write Throughput from the disk.</span></span>
>
>

<span data-ttu-id="f34c3-533">*Lemezek száma*</span><span class="sxs-lookup"><span data-stu-id="f34c3-533">*Number of Disks*</span></span>  
<span data-ttu-id="f34c3-534">Szüksége lesz, mivel felméri alkalmazáskövetelményeket lemezek számának meghatározásához.</span><span class="sxs-lookup"><span data-stu-id="f34c3-534">Determine the number of disks you will need by assessing application requirements.</span></span> <span data-ttu-id="f34c3-535">Minden egyes Virtuálisgép-méretet is van korlátozva, összekapcsolhatja azt a virtuális lemezek számát.</span><span class="sxs-lookup"><span data-stu-id="f34c3-535">Each VM size also has a limit on the number of disks that you can attach to the VM.</span></span> <span data-ttu-id="f34c3-536">Ez általában kétszer magok száma.</span><span class="sxs-lookup"><span data-stu-id="f34c3-536">Typically, this is twice the number of cores.</span></span> <span data-ttu-id="f34c3-537">Győződjön meg arról, hogy a Virtuálisgép-méretet választott képesek támogatni a szükséges lemezek számát.</span><span class="sxs-lookup"><span data-stu-id="f34c3-537">Ensure that the VM size you choose can support the number of disks needed.</span></span>

<span data-ttu-id="f34c3-538">Ne feledje, hogy a prémium szintű Storage lemezeken lehetnek szabványos tárolólemezek képest magasabb teljesítménybeli képességek.</span><span class="sxs-lookup"><span data-stu-id="f34c3-538">Remember, the Premium Storage disks have higher performance capabilities compared to Standard Storage disks.</span></span> <span data-ttu-id="f34c3-539">Ezért ha telepít át az alkalmazást az Azure infrastruktúra-szolgáltatási virtuális gép a szabványos tároló prémium szintű Storage, valószínűleg szüksége lesz a az alkalmazás azonosnak vagy annál magasabb teljesítmény érdekében kevesebb premium lemezek.</span><span class="sxs-lookup"><span data-stu-id="f34c3-539">Therefore, if you are migrating your application from Azure IaaS VM using Standard Storage to Premium Storage, you will likely need fewer premium disks to achieve the same or higher performance for your application.</span></span>

## <a name="disk-caching"></a><span data-ttu-id="f34c3-540">A lemezes gyorsítótárazás</span><span class="sxs-lookup"><span data-stu-id="f34c3-540">Disk Caching</span></span>
<span data-ttu-id="f34c3-541">Magas méretezési virtuális gépeket, amely kihasználja a prémium szintű Azure Storage BlobCache nevezett többrétegű gyorsítótárazási technológiát rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="f34c3-541">High Scale VMs that leverage Azure Premium Storage have a multi-tier caching technology called BlobCache.</span></span> <span data-ttu-id="f34c3-542">BlobCache a virtuális gép memória és a helyi SSD használ a gyorsítótárazáshoz.</span><span class="sxs-lookup"><span data-stu-id="f34c3-542">BlobCache uses a combination of the Virtual Machine RAM and local SSD for caching.</span></span> <span data-ttu-id="f34c3-543">Ez a gyorsítótár a prémium szintű Storage állandó és a virtuális gép helyi lemezek érhető el.</span><span class="sxs-lookup"><span data-stu-id="f34c3-543">This cache is available for the Premium Storage persistent disks and the VM local disks.</span></span> <span data-ttu-id="f34c3-544">Alapértelmezés szerint a gyorsítótár beállítás értéke olvasási/írási operációsrendszer-lemezek és a csak olvasható: prémium szintű Storage üzemeltetett adatlemezek.</span><span class="sxs-lookup"><span data-stu-id="f34c3-544">By default, this cache setting is set to Read/Write for OS disks and ReadOnly for data disks hosted on Premium Storage.</span></span> <span data-ttu-id="f34c3-545">A lemez gyorsítótárazás engedélyezve van a prémium szintű Storage lemezeken, a nagy méretű virtuális gépek érhető el a rendkívül magas szintű teljesítmény, mint az alapul szolgáló lemez teljesítménye.</span><span class="sxs-lookup"><span data-stu-id="f34c3-545">With disk caching enabled on the Premium Storage disks, the high scale VMs can achieve extremely high levels of performance that exceed the underlying disk performance.</span></span>

> [!WARNING]
> <span data-ttu-id="f34c3-546">Az Azure-lemezek gyorsítótár beállításainak megváltoztatása szervezőről, és újra csatlakoztatja a céllemezt.</span><span class="sxs-lookup"><span data-stu-id="f34c3-546">Changing the cache setting of an Azure disk detaches and re-attaches the target disk.</span></span> <span data-ttu-id="f34c3-547">Ha az operációs rendszer tárolására, a virtuális gép újraindul.</span><span class="sxs-lookup"><span data-stu-id="f34c3-547">If it is the operating system disk, the VM is restarted.</span></span> <span data-ttu-id="f34c3-548">Minden alkalmazások és szolgáltatások, amely befolyásolhatja a megszakítás a lemezgyorsítótár-beállítás módosítása előtt állítsa le.</span><span class="sxs-lookup"><span data-stu-id="f34c3-548">Stop all applications/services that might be affected by this disruption before changing the disk cache setting.</span></span>
>
>

<span data-ttu-id="f34c3-549">BlobCache működésével kapcsolatos további tudnivalókért tekintse meg a belső [prémium szintű Azure Storage](https://azure.microsoft.com/blog/azure-premium-storage-now-generally-available-2/) blogbejegyzést.</span><span class="sxs-lookup"><span data-stu-id="f34c3-549">To learn more about how BlobCache works, refer to the Inside [Azure Premium Storage](https://azure.microsoft.com/blog/azure-premium-storage-now-generally-available-2/) blog post.</span></span>

<span data-ttu-id="f34c3-550">Fontos, a lemezek megfelelő halmazát gyorsítótárának engedélyezése.</span><span class="sxs-lookup"><span data-stu-id="f34c3-550">It is important to enable cache on the right set of disks.</span></span> <span data-ttu-id="f34c3-551">E kell gyorsítótárazása lemezen prémium lemezen, vagy nem függ a munkaterhelés mintát, hogy a lemez végző.</span><span class="sxs-lookup"><span data-stu-id="f34c3-551">Whether you should enable disk caching on a premium disk or not will depend on the workload pattern that disk will be handling.</span></span> <span data-ttu-id="f34c3-552">Az alábbi táblázat az alapértelmezett operációsrendszer- és adatlemezek-gyorsítótárának beállításait.</span><span class="sxs-lookup"><span data-stu-id="f34c3-552">Table below shows the default cache settings for OS and Data disks.</span></span>

| <span data-ttu-id="f34c3-553">**Lemeztípus**</span><span class="sxs-lookup"><span data-stu-id="f34c3-553">**Disk Type**</span></span> | <span data-ttu-id="f34c3-554">**Alapértelmezett gyorsítótár beállítás**</span><span class="sxs-lookup"><span data-stu-id="f34c3-554">**Default Cache Setting**</span></span> |
| --- | --- |
| <span data-ttu-id="f34c3-555">Operációsrendszer-lemez</span><span class="sxs-lookup"><span data-stu-id="f34c3-555">OS disk</span></span> |<span data-ttu-id="f34c3-556">ReadWrite</span><span class="sxs-lookup"><span data-stu-id="f34c3-556">ReadWrite</span></span> |
| <span data-ttu-id="f34c3-557">Adatlemez</span><span class="sxs-lookup"><span data-stu-id="f34c3-557">Data disk</span></span> |<span data-ttu-id="f34c3-558">None</span><span class="sxs-lookup"><span data-stu-id="f34c3-558">None</span></span> |

<span data-ttu-id="f34c3-559">Az alábbiakban az adatlemezek, ajánlott lemez-gyorsítótárának beállításait</span><span class="sxs-lookup"><span data-stu-id="f34c3-559">Following are the recommended disk cache settings for data disks,</span></span>

| <span data-ttu-id="f34c3-560">**Gyorsítótárazása lemezen**</span><span class="sxs-lookup"><span data-stu-id="f34c3-560">**Disk Caching Setting**</span></span> | <span data-ttu-id="f34c3-561">**Mikor érdemes használni ezt a beállítást a javaslat**</span><span class="sxs-lookup"><span data-stu-id="f34c3-561">**Recommendation on when to use this setting**</span></span> |
| --- | --- |
| <span data-ttu-id="f34c3-562">None</span><span class="sxs-lookup"><span data-stu-id="f34c3-562">None</span></span> |<span data-ttu-id="f34c3-563">Gazdagép-gyorsítótár beállítása None a csak írható és írási műveleteket.</span><span class="sxs-lookup"><span data-stu-id="f34c3-563">Configure host-cache as None for write-only and write-heavy disks.</span></span> |
| <span data-ttu-id="f34c3-564">csak olvasható</span><span class="sxs-lookup"><span data-stu-id="f34c3-564">ReadOnly</span></span> |<span data-ttu-id="f34c3-565">Gazdagép-gyorsítótár beállítása csak olvasható a csak olvasható és írható-olvasható.</span><span class="sxs-lookup"><span data-stu-id="f34c3-565">Configure host-cache as ReadOnly for read-only and read-write disks.</span></span> |
| <span data-ttu-id="f34c3-566">ReadWrite</span><span class="sxs-lookup"><span data-stu-id="f34c3-566">ReadWrite</span></span> |<span data-ttu-id="f34c3-567">Gazdagép-gyorsítótár beállítása ReadWrite csak akkor, ha az alkalmazás megfelelően kezeli a gyorsítótárazott adatok írása állandó lemezekre, amikor szükséges.</span><span class="sxs-lookup"><span data-stu-id="f34c3-567">Configure host-cache as ReadWrite only if your application properly  handles writing cached data to persistent disks when needed.</span></span> |

<span data-ttu-id="f34c3-568">*Csak olvasható*</span><span class="sxs-lookup"><span data-stu-id="f34c3-568">*ReadOnly*</span></span>  
<span data-ttu-id="f34c3-569">Csak olvasható, a prémium szintű Storage-adatok gyorsítótárazása lemezek konfigurálásával olvasási kis késleltetésű eléréséhez, és nagyon magas IOPS olvasási és az átvitel lekérése az alkalmazáshoz.</span><span class="sxs-lookup"><span data-stu-id="f34c3-569">By configuring ReadOnly caching on Premium Storage data disks, you can achieve low Read latency and get very high Read IOPS and Throughput for your application.</span></span> <span data-ttu-id="f34c3-570">Ez a két okok miatt</span><span class="sxs-lookup"><span data-stu-id="f34c3-570">This is due two reasons,</span></span>

1. <span data-ttu-id="f34c3-571">Olvasási gyorsítótár, amely a Virtuálisgép-memória és a helyi SSD végre, és sokkal gyorsabb, mint az olvasások az adatlemezt, amely az Azure blob storage-ból.</span><span class="sxs-lookup"><span data-stu-id="f34c3-571">Reads performed from cache, which is on the VM memory and local SSD, are much faster than reads from the data disk, which is on the Azure blob storage.</span></span>  
2. <span data-ttu-id="f34c3-572">Prémium szintű Storage nem tartoznak bele az olvasási gyorsítótár, a lemez IOPS felé, és az átvitel helyről.</span><span class="sxs-lookup"><span data-stu-id="f34c3-572">Premium Storage does not count the Reads served from cache, towards the disk IOPS and Throughput.</span></span> <span data-ttu-id="f34c3-573">Ezért az alkalmazás, magasabb teljes iops-érték és a teljesítményt érhet el.</span><span class="sxs-lookup"><span data-stu-id="f34c3-573">Therefore, your application is able to achieve higher total IOPS and Throughput.</span></span>

<span data-ttu-id="f34c3-574">*ReadWrite*</span><span class="sxs-lookup"><span data-stu-id="f34c3-574">*ReadWrite*</span></span>  
<span data-ttu-id="f34c3-575">Alapértelmezés szerint az operációs rendszer lemezek rendelkeznek ReadWrite gyorsítótárazás engedélyezve van.</span><span class="sxs-lookup"><span data-stu-id="f34c3-575">By default, the OS disks have ReadWrite caching enabled.</span></span> <span data-ttu-id="f34c3-576">Támogatja a gyorsítótárazást az adatokat, valamint a lemezek ReadWrite nemrég jelentek meg.</span><span class="sxs-lookup"><span data-stu-id="f34c3-576">We have recently added support for ReadWrite caching on data disks as well.</span></span> <span data-ttu-id="f34c3-577">Gyorsítótárazás ReadWrite használ, ha az adatokat írni a gyorsítótár állandó lemezek megfelelő úgy kell rendelkeznie.</span><span class="sxs-lookup"><span data-stu-id="f34c3-577">If you are using ReadWrite caching, you must have a proper way to write the data from cache to persistent disks.</span></span> <span data-ttu-id="f34c3-578">Például az SQL Server kezeli a gyorsítótárazott adatok írása az állandó tároló lemezek önállóan.</span><span class="sxs-lookup"><span data-stu-id="f34c3-578">For example, SQL Server handles writing cached data to the persistent storage disks on its own.</span></span> <span data-ttu-id="f34c3-579">ReadWrite gyorsítótár használata olyan alkalmazás, amely nem kezeli a szükséges adatok megőrzése adatok elvesztéséhez vezethet, ha a virtuális gép összeomlik.</span><span class="sxs-lookup"><span data-stu-id="f34c3-579">Using ReadWrite cache with an application that does not handle persisting the required data can lead to data loss, if the VM crashes.</span></span>

<span data-ttu-id="f34c3-580">Tegyük fel, alkalmazhatja ezeket az irányelveket SQL Serveren megtalálható a prémium szintű Storage a következő tevékenységek végrehajtásával</span><span class="sxs-lookup"><span data-stu-id="f34c3-580">As an example, you can apply these guidelines to SQL Server running on Premium Storage by doing the following,</span></span>

1. <span data-ttu-id="f34c3-581">"ReadOnly" gyorsítótár konfigurálása prémium szintű storage lemezeken adatok-fájlokat tartalmazó.</span><span class="sxs-lookup"><span data-stu-id="f34c3-581">Configure "ReadOnly" cache on premium storage disks hosting data files.</span></span>  
   <span data-ttu-id="f34c3-582">a.</span><span class="sxs-lookup"><span data-stu-id="f34c3-582">a.</span></span>  <span data-ttu-id="f34c3-583">A gyors olvassa be az gyorsítótár alacsonyabb az SQL Server lekérdezési idő óta lapok sokkal gyorsabb olvassa be a gyorsítótár képest közvetlenül az adatok a lemezeket.</span><span class="sxs-lookup"><span data-stu-id="f34c3-583">The fast reads from cache lower the SQL Server query time since data pages are retrieved much faster from the cache compared to directly from the data disks.</span></span>  
   <span data-ttu-id="f34c3-584">b.</span><span class="sxs-lookup"><span data-stu-id="f34c3-584">b.</span></span>  <span data-ttu-id="f34c3-585">Olvasási kiszolgálás a gyorsítótárból, azt jelenti, hogy van további átviteli sebesség érhető el prémium adatlemezek.</span><span class="sxs-lookup"><span data-stu-id="f34c3-585">Serving reads from cache, means there is additional Throughput available from premium data disks.</span></span> <span data-ttu-id="f34c3-586">SQL Server is használja a további átviteli további lapok és más műveletek, például a biztonsági mentés/visszaállítás felé, a batch-terhelések és index újraépíti.</span><span class="sxs-lookup"><span data-stu-id="f34c3-586">SQL Server can use this additional Throughput towards retrieving more data pages and other operations like backup/restore, batch loads, and index rebuilds.</span></span>  
2. <span data-ttu-id="f34c3-587">Konfigurálja a naplófájlokat tároló prémium szintű storage lemezeken "None" gyorsítótárazza.</span><span class="sxs-lookup"><span data-stu-id="f34c3-587">Configure "None" cache on premium storage disks hosting the log files.</span></span>  
   <span data-ttu-id="f34c3-588">a.</span><span class="sxs-lookup"><span data-stu-id="f34c3-588">a.</span></span>  <span data-ttu-id="f34c3-589">Naplófájlok elsősorban írási műveleteket műveletek rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="f34c3-589">Log files have primarily write-heavy operations.</span></span> <span data-ttu-id="f34c3-590">Ezért azokat nem tudják igénybe venni a csak olvasható gyorsítótárának.</span><span class="sxs-lookup"><span data-stu-id="f34c3-590">Therefore, they do not benefit from the ReadOnly cache.</span></span>

## <a name="disk-striping"></a><span data-ttu-id="f34c3-591">Lemez csíkozást</span><span class="sxs-lookup"><span data-stu-id="f34c3-591">Disk Striping</span></span>
<span data-ttu-id="f34c3-592">Ha egy virtuális gép csatlakozik a állandó lemezek több prémium szintű storage nagy adatmennyiség esetén a lemezt az IOPs, a sávszélesség és a tárolási kapacitás összesítésére együtt is csíkozott.</span><span class="sxs-lookup"><span data-stu-id="f34c3-592">When a high scale VM is attached with several premium storage persistent disks, the disks can be striped together to aggregate their IOPs, bandwidth, and storage capacity.</span></span>

<span data-ttu-id="f34c3-593">Windows, a segítségével a tárolóhelyek paritásos lemezek együtt.</span><span class="sxs-lookup"><span data-stu-id="f34c3-593">On Windows, you can use Storage Spaces to stripe disks together.</span></span> <span data-ttu-id="f34c3-594">A készletbe konfigurálnia kell egy oszlopot az egyes lemezek.</span><span class="sxs-lookup"><span data-stu-id="f34c3-594">You must configure one column for each disk in a pool.</span></span> <span data-ttu-id="f34c3-595">Ellenkező esetben csíkozott kötetek általános teljesítménye lehet kisebb, mint a várt, a forgalom a lemezeken egyenetlen eloszlását eredményezheti.</span><span class="sxs-lookup"><span data-stu-id="f34c3-595">Otherwise, the overall performance of striped volume can be lower than expected, due to uneven distribution of traffic across the disks.</span></span>

<span data-ttu-id="f34c3-596">Fontos: A kiszolgáló-kezelő felhasználói felületén, legfeljebb 8 csíkozott kötetek oszlopok száma állíthatók be.</span><span class="sxs-lookup"><span data-stu-id="f34c3-596">Important: Using Server Manager UI, you can set the total number of columns up to 8 for a striped volume.</span></span> <span data-ttu-id="f34c3-597">Több mint 8 lemez csatlakoztatása, a PowerShell segítségével hozza létre a kötetet.</span><span class="sxs-lookup"><span data-stu-id="f34c3-597">When attaching more than 8 disks, use PowerShell to create the volume.</span></span> <span data-ttu-id="f34c3-598">PowerShell használatával beállíthatja az oszlopok számának egyenlőnek a lemezek számát.</span><span class="sxs-lookup"><span data-stu-id="f34c3-598">Using PowerShell, you can set the number of columns equal to the number of disks.</span></span> <span data-ttu-id="f34c3-599">Például, ha egy egyetlen paritásos készlet; 16 lemezek vannak Adja meg a 16 oszlopai a *numberofcolumns tulajdonsághoz* paramétere a *New-VirtualDisk* PowerShell-parancsmagot.</span><span class="sxs-lookup"><span data-stu-id="f34c3-599">For example, if there are 16 disks in a single stripe set; specify 16 columns in the *NumberOfColumns* parameter of the *New-VirtualDisk* PowerShell cmdlet.</span></span>

<span data-ttu-id="f34c3-600">Linux esetében használható együtt a paritásos lemezek MDADM segédprogramot.</span><span class="sxs-lookup"><span data-stu-id="f34c3-600">On Linux, use the MDADM utility to stripe disks together.</span></span> <span data-ttu-id="f34c3-601">A részletes lépéseket Linux csíkozást lemezeinek tekintse meg a [szoftver RAID konfigurálása Linux](../../virtual-machines/linux/configure-raid.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="f34c3-601">For detailed steps on striping disks on Linux refer to [Configure Software RAID on Linux](../../virtual-machines/linux/configure-raid.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span>

<span data-ttu-id="f34c3-602">*Paritásos mérete*</span><span class="sxs-lookup"><span data-stu-id="f34c3-602">*Stripe Size*</span></span>  
<span data-ttu-id="f34c3-603">A lemez csíkozást egy fontos konfigurációs paritásos mérete.</span><span class="sxs-lookup"><span data-stu-id="f34c3-603">An important configuration in disk striping is the stripe size.</span></span> <span data-ttu-id="f34c3-604">A paritásos méretét vagy a blokkméret a legkisebb adattömb, alkalmazás csíkozott kötetek meg lehet oldani.</span><span class="sxs-lookup"><span data-stu-id="f34c3-604">The stripe size or block size is the smallest chunk of data that application can address on a striped volume.</span></span> <span data-ttu-id="f34c3-605">A paritásos konfigurálnia függ típusát és az alkalmazás a kérelem mintát.</span><span class="sxs-lookup"><span data-stu-id="f34c3-605">The stripe size you configure depends on the type of application and its request pattern.</span></span> <span data-ttu-id="f34c3-606">Ha úgy dönt, hogy a megfelelő paritásos mérete, előfordulhat, hogy IO hibás illesztés hibákat, ami az alkalmazás teljesítménye.</span><span class="sxs-lookup"><span data-stu-id="f34c3-606">If you choose the wrong stripe size, it could lead to IO misalignment, which leads to degraded performance of your application.</span></span>

<span data-ttu-id="f34c3-607">Például ha az alkalmazás által generált IO kérelmet a paritásos lemez mérete nagyobb, a tárolórendszer írja azt paritásos egység határain túlnyúló egynél több lemezen.</span><span class="sxs-lookup"><span data-stu-id="f34c3-607">For example, if an IO request generated by your application is bigger than the disk stripe size, the storage system writes it across stripe unit boundaries on more than one disk.</span></span> <span data-ttu-id="f34c3-608">Amikor az adatok eléréséhez, hogy a kérés teljesítéséhez el egynél több paritásos egységek között lesz.</span><span class="sxs-lookup"><span data-stu-id="f34c3-608">When it is time to access that data, it will have to seek across more than one stripe units to complete the request.</span></span> <span data-ttu-id="f34c3-609">Az ilyen viselkedést kumulatív hatása teljesítményének jelentős csökkenéséhez vezethet.</span><span class="sxs-lookup"><span data-stu-id="f34c3-609">The cumulative effect of such behavior can lead to substantial performance degradation.</span></span> <span data-ttu-id="f34c3-610">Másrészről Ha IO kérés mérete kisebb, mint paritásos mérete, és ha véletlenszerű ideiglenesek, a IO kérelmek előfordulhat, hogy egyezzen azon a lemezen szűk keresztmetszetet, és végső soron terhelése IO teljesítményét.</span><span class="sxs-lookup"><span data-stu-id="f34c3-610">On the other hand, if the IO request size is smaller than stripe size, and if it is random in nature, the IO requests may add up on the same disk causing a bottleneck and ultimately degrading the IO performance.</span></span>

<span data-ttu-id="f34c3-611">Munkaterhelés típusától függően az alkalmazás fut, válassza ki a megfelelő paritásos méretét.</span><span class="sxs-lookup"><span data-stu-id="f34c3-611">Depending on the type of workload your application is running, choose an appropriate stripe size.</span></span> <span data-ttu-id="f34c3-612">A véletlenszerű kisméretű I/O kéréseket használja a paritásos mérete kisebb lesz.</span><span class="sxs-lookup"><span data-stu-id="f34c3-612">For random small IO requests, use a smaller stripe size.</span></span> <span data-ttu-id="f34c3-613">Mivel a nagy szekvenciális I/O kérelmek paritásos nagyobb méretű használja.</span><span class="sxs-lookup"><span data-stu-id="f34c3-613">Whereas, for large sequential IO requests use a larger stripe size.</span></span> <span data-ttu-id="f34c3-614">Ismerje meg a paritásos mérete javaslatok az alkalmazás a prémium szintű Storage fog futni.</span><span class="sxs-lookup"><span data-stu-id="f34c3-614">Find out the stripe size recommendations for the application you will be running on Premium Storage.</span></span> <span data-ttu-id="f34c3-615">Az SQL Server 64 KB-os OLTP-munkaterhelések és 256 KB-os adatok vámraktározási munkaterhelések paritásos méretének beállítása.</span><span class="sxs-lookup"><span data-stu-id="f34c3-615">For SQL Server, configure stripe size of 64KB for OLTP workloads and 256KB for data warehousing workloads.</span></span> <span data-ttu-id="f34c3-616">Lásd: [teljesítmény az Azure virtuális gépeken futó SQL Server ajánlott eljárásai](../../virtual-machines/windows/sql/virtual-machines-windows-sql-performance.md#disks-guidance) további.</span><span class="sxs-lookup"><span data-stu-id="f34c3-616">See [Performance best practices for SQL Server on Azure VMs](../../virtual-machines/windows/sql/virtual-machines-windows-sql-performance.md#disks-guidance) to learn more.</span></span>

> [!NOTE]
> <span data-ttu-id="f34c3-617">Akkor is paritásos együtt legfeljebb 32 prémium szintű storage DS több virtuális gép és 64 prémium szintű storage lemezek a GS több virtuális gép.</span><span class="sxs-lookup"><span data-stu-id="f34c3-617">You can stripe together a maximum of 32 premium storage disks on a DS series VM and 64 premium storage disks on a GS series VM.</span></span>
>
>

## <a name="multi-threading"></a><span data-ttu-id="f34c3-618">Többszálú</span><span class="sxs-lookup"><span data-stu-id="f34c3-618">Multi-threading</span></span>
<span data-ttu-id="f34c3-619">Azure platform prémium szintű Storage nagymértékben párhuzamos van kialakítva.</span><span class="sxs-lookup"><span data-stu-id="f34c3-619">Azure has designed Premium Storage platform to be massively parallel.</span></span> <span data-ttu-id="f34c3-620">Ezért a többszálas alkalmazások egyszálas alkalmazásnál jobb teljesítményt éri el.</span><span class="sxs-lookup"><span data-stu-id="f34c3-620">Therefore, a multi-threaded application achieves much higher performance than a single-threaded application.</span></span> <span data-ttu-id="f34c3-621">A többszálas alkalmazások felosztja a feladatai be több szálak között, és növeli az hatékonyságát, a futtatása a virtuális gép és a lemez erőforrások maximális felügyelniük.</span><span class="sxs-lookup"><span data-stu-id="f34c3-621">A multi-threaded application splits up its tasks across multiple threads and increases efficiency of its execution by utilizing the VM and disk resources to the maximum.</span></span>

<span data-ttu-id="f34c3-622">Például ha az alkalmazás egy processzormag két szálat használ a virtuális gép fut, a CPU válthat a két szál a hatékonyság elérése.</span><span class="sxs-lookup"><span data-stu-id="f34c3-622">For example, if your application is running on a single core VM using two threads, the CPU can switch between the two threads to achieve efficiency.</span></span> <span data-ttu-id="f34c3-623">Egy szál a lemez IO befejezéséhez vár, amíg a CPU-t a más szál válthat.</span><span class="sxs-lookup"><span data-stu-id="f34c3-623">While one thread is waiting on a disk IO to complete, the CPU can switch to the other thread.</span></span> <span data-ttu-id="f34c3-624">Ezzel a módszerrel több mint egy szál volna két szállal érhető el.</span><span class="sxs-lookup"><span data-stu-id="f34c3-624">In this way, two threads can accomplish more than a single thread would.</span></span> <span data-ttu-id="f34c3-625">Ha a virtuális gépen a több mag, továbbá csökkenti futási időt mivel minden egyes core feladatokat is végre párhuzamosan.</span><span class="sxs-lookup"><span data-stu-id="f34c3-625">If the VM has more than one core, it further decreases running time since each core can execute tasks in parallel.</span></span>

<span data-ttu-id="f34c3-626">Nem lehet változtatni vásárolt alkalmazás valósít meg egyetlen szálkezelési vagy többszálas.</span><span class="sxs-lookup"><span data-stu-id="f34c3-626">You may not be able to change the way an off-the-shelf application implements single threading or multi-threading.</span></span> <span data-ttu-id="f34c3-627">Például SQL-kiszolgáló nem képes Többprocesszoros és Többmagos kezelésére.</span><span class="sxs-lookup"><span data-stu-id="f34c3-627">For example, SQL Server is capable of handling multi-CPU and multi-core.</span></span> <span data-ttu-id="f34c3-628">SQL Server azonban úgy dönt, milyen feltételek mellett azt fogja használni, egy vagy több szál a lekérdezés feldolgozásához.</span><span class="sxs-lookup"><span data-stu-id="f34c3-628">However, SQL Server decides under what conditions it will leverage one or more threads to process a query.</span></span> <span data-ttu-id="f34c3-629">Ez lekérdezéseinek futtatásához, és használatával többszálas indexeket építenek.</span><span class="sxs-lookup"><span data-stu-id="f34c3-629">It can run queries and build indexes using multi-threading.</span></span> <span data-ttu-id="f34c3-630">Egy lekérdezést, amely magában foglalja a nagy táblák illesztése és az adatok rendezése visszatér a felhasználó, az SQL Server valószínűleg több szál fogja használni.</span><span class="sxs-lookup"><span data-stu-id="f34c3-630">For a query that involves joining large tables and sorting data before returning to the user, SQL Server will likely use multiple threads.</span></span> <span data-ttu-id="f34c3-631">A felhasználó azonban nem tudja ellenőrizni, hogy az SQL Server használatával egyetlen szálon vagy több szál lekérdezést hajtanak.</span><span class="sxs-lookup"><span data-stu-id="f34c3-631">However, a user cannot control whether SQL Server executes a query using a single thread or multiple threads.</span></span>

<span data-ttu-id="f34c3-632">Nincsenek konfigurációs beállítások, amelyek befolyásolják a módosíthatja, többszálas vagy párhuzamos feldolgozása: egy alkalmazást.</span><span class="sxs-lookup"><span data-stu-id="f34c3-632">There are configuration settings that you can alter to influence this multi-threading or parallel processing of an application.</span></span> <span data-ttu-id="f34c3-633">Például az SQL Server esetén is a legnagyobb mértékben a párhuzamosság konfigurációs.</span><span class="sxs-lookup"><span data-stu-id="f34c3-633">For example, in case of SQL Server it is the maximum Degree of Parallelism configuration.</span></span> <span data-ttu-id="f34c3-634">Ez a beállítás nevű MAXDOP, konfigurálhatja az SQL-kiszolgáló is használhatja, amikor párhuzamos processzorok maximális száma feldolgozása.</span><span class="sxs-lookup"><span data-stu-id="f34c3-634">This setting called MAXDOP, allows you to configure the maximum number of processors SQL Server can use when parallel processing.</span></span> <span data-ttu-id="f34c3-635">Egyéni lekérdezések vagy indexművelet MAXDOP konfigurálható.</span><span class="sxs-lookup"><span data-stu-id="f34c3-635">You can configure MAXDOP for individual queries or index operations.</span></span> <span data-ttu-id="f34c3-636">Ez akkor hasznos, ha a rendszer teljesítményének kritikus fontosságú alkalmazások erőforrások szeretné.</span><span class="sxs-lookup"><span data-stu-id="f34c3-636">This is beneficial when you want to balance resources of your system for a performance critical application.</span></span>

<span data-ttu-id="f34c3-637">Tegyük fel, hogy az alkalmazás SQL Server használatával nagy lekérdezés és egyszerre egy index művelet végrehajtása történik.</span><span class="sxs-lookup"><span data-stu-id="f34c3-637">For example, say your application using SQL Server is executing a large query and an index operation at the same time.</span></span> <span data-ttu-id="f34c3-638">Tételezzük fel, hogy tényleg az index művelet további performant a nagy lekérdezés képest.</span><span class="sxs-lookup"><span data-stu-id="f34c3-638">Let us assume that you wanted the index operation to be more performant compared to the large query.</span></span> <span data-ttu-id="f34c3-639">Ebben az esetben a lekérdezés MAXDOP értéke meghaladja az indexművelet MAXDOP értékét állíthatja be.</span><span class="sxs-lookup"><span data-stu-id="f34c3-639">In such a case, you can set MAXDOP value of the index operation to be higher than the MAXDOP value for the query.</span></span> <span data-ttu-id="f34c3-640">Ezzel a módszerrel az SQL Server több processzorral, amelyek kihasználhatják a az index művelet képest, a nagy lekérdezéshez kezelésével processzorok számát tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="f34c3-640">This way, SQL Server has more number of processors that it can leverage for the index operation compared to the number of processors it can dedicate to the large query.</span></span> <span data-ttu-id="f34c3-641">Ne feledje, hogy az SQL Server minden művelethez használandó szálak száma nem szabályozhatja.</span><span class="sxs-lookup"><span data-stu-id="f34c3-641">Remember, you do not control the number of threads SQL Server will use for each operation.</span></span> <span data-ttu-id="f34c3-642">Szabályozhatja az éppen kijelölt processzorok maximális száma többszálas.</span><span class="sxs-lookup"><span data-stu-id="f34c3-642">You can control the maximum number of processors being dedicated for multi-threading.</span></span>

<span data-ttu-id="f34c3-643">További információ [szintű párhuzamosság fok](https://technet.microsoft.com/library/ms188611.aspx) az SQL Server kiszolgálón.</span><span class="sxs-lookup"><span data-stu-id="f34c3-643">Learn more about [Degrees of Parallelism](https://technet.microsoft.com/library/ms188611.aspx) in SQL Server.</span></span> <span data-ttu-id="f34c3-644">Ismerje meg ezek a beállítások, amelyek befolyásolják többszálas teljesítményének optimalizálása érdekében az alkalmazás és a konfigurációját.</span><span class="sxs-lookup"><span data-stu-id="f34c3-644">Find out such settings that influence multi-threading in your application and their configurations to optimize performance.</span></span>

## <a name="queue-depth"></a><span data-ttu-id="f34c3-645">Várólistamélység</span><span class="sxs-lookup"><span data-stu-id="f34c3-645">Queue Depth</span></span>
<span data-ttu-id="f34c3-646">A várólistamélység vagy a várólista hossza vagy a várólista-méret függőben lévő I/O kérelmek számát a rendszer.</span><span class="sxs-lookup"><span data-stu-id="f34c3-646">The Queue Depth or Queue Length or Queue Size is the number of pending IO requests in the system.</span></span> <span data-ttu-id="f34c3-647">Várólistamélység értéke határozza meg, hány I/O műveletek az alkalmazás is sor fel, a tárolólemezek meg fog feldolgozása.</span><span class="sxs-lookup"><span data-stu-id="f34c3-647">The value of Queue Depth determines how many IO operations your application can line up, which the storage disks will be processing.</span></span> <span data-ttu-id="f34c3-648">Ez a cikk ti, IOPS, az átviteli sebesség és a késleltetés a tárgyalt összes három alkalmazás teljesítménymutatók is érint.</span><span class="sxs-lookup"><span data-stu-id="f34c3-648">It affects all the three application performance indicators that we discussed in this article viz., IOPS, Throughput and Latency.</span></span>

<span data-ttu-id="f34c3-649">Feldolgozási sor mélysége és a többszálas szorosan kapcsolódó.</span><span class="sxs-lookup"><span data-stu-id="f34c3-649">Queue Depth and multi-threading are closely related.</span></span> <span data-ttu-id="f34c3-650">Várólistamélység azt jelzi, hogy mennyit többszálas lehet érhetik el az alkalmazást.</span><span class="sxs-lookup"><span data-stu-id="f34c3-650">The Queue Depth value indicates how much multi-threading can be achieved by the application.</span></span> <span data-ttu-id="f34c3-651">Ha a várólistamélység túl nagy, alkalmazás végrehajtható további műveletek egyidejűleg, ez azt jelenti, több többszálas.</span><span class="sxs-lookup"><span data-stu-id="f34c3-651">If the Queue Depth is large, application can execute more operations concurrently, in other words, more multi-threading.</span></span> <span data-ttu-id="f34c3-652">Ha a várólistamélység kicsi, annak ellenére, hogy az alkalmazás többszálas, nem lesz elég kéréseket a párhuzamos végrehajtás egymás mellett.</span><span class="sxs-lookup"><span data-stu-id="f34c3-652">If the Queue Depth is small, even though application is multi-threaded, it will not have enough requests lined up for concurrent execution.</span></span>

<span data-ttu-id="f34c3-653">Általában kész alkalmazások esetében nem végezhető módosíthatja a várólistamélység, mert ha beállított helytelenül jó-nál több kárt fog tenni.</span><span class="sxs-lookup"><span data-stu-id="f34c3-653">Typically, off the shelf applications do not allow you to change the queue depth, because if set incorrectly it will do more harm than good.</span></span> <span data-ttu-id="f34c3-654">Alkalmazások várólistamélységének optimális teljesítményének eléréséhez megfelelő értékét állítja be.</span><span class="sxs-lookup"><span data-stu-id="f34c3-654">Applications will set the right value of queue depth to get the optimal performance.</span></span> <span data-ttu-id="f34c3-655">Fontos azonban megérteni a fogalom, hogy a teljesítménnyel kapcsolatos problémák elhárítása az alkalmazás.</span><span class="sxs-lookup"><span data-stu-id="f34c3-655">However, it is important to understand this concept so that you can troubleshoot performance issues with your application.</span></span> <span data-ttu-id="f34c3-656">Várólistamélység eredő összehasonlítási eszközök futtatásával a rendszeren is láthatja.</span><span class="sxs-lookup"><span data-stu-id="f34c3-656">You can also observe the effects of queue depth by running benchmarking tools on your system.</span></span>

<span data-ttu-id="f34c3-657">Egyes alkalmazások adja meg annak a várólistamélység befolyásolják.</span><span class="sxs-lookup"><span data-stu-id="f34c3-657">Some applications provide settings to influence the Queue Depth.</span></span> <span data-ttu-id="f34c3-658">Például a MAXDOP (legnagyobb mértékben párhuzamossági) beállítást az előző szakaszban ismertetett SQL Server.</span><span class="sxs-lookup"><span data-stu-id="f34c3-658">For example, the MAXDOP (maximum degree of parallelism) setting in SQL Server explained in previous section.</span></span> <span data-ttu-id="f34c3-659">MAXDOP módja a várólistamélység befolyásolják és többszálas, bár nem módosíthatók közvetlenül a SQL Server Várólistamélységének értékét.</span><span class="sxs-lookup"><span data-stu-id="f34c3-659">MAXDOP is a way to influence Queue Depth and multi-threading, although it does not directly change the Queue Depth value of SQL Server.</span></span>

<span data-ttu-id="f34c3-660">*Magas várólistamélység*</span><span class="sxs-lookup"><span data-stu-id="f34c3-660">*High Queue Depth*</span></span>  
<span data-ttu-id="f34c3-661">Magas várólistamélység sorok be több műveletet a lemezen.</span><span class="sxs-lookup"><span data-stu-id="f34c3-661">A high queue depth lines up more operations on the disk.</span></span> <span data-ttu-id="f34c3-662">A lemez tudja a következő kérés időben a várólistán.</span><span class="sxs-lookup"><span data-stu-id="f34c3-662">The disk knows the next request in its queue ahead of time.</span></span> <span data-ttu-id="f34c3-663">Következésképpen a lemez időben műveletek ütemezése és az optimális sorrendben dolgozza fel őket.</span><span class="sxs-lookup"><span data-stu-id="f34c3-663">Consequently, the disk can schedule operations ahead of time and process them in an optimal sequence.</span></span> <span data-ttu-id="f34c3-664">Az alkalmazás további kérelmeket küld a lemezt, mert a lemez további párhuzamos IOs tud feldolgozni.</span><span class="sxs-lookup"><span data-stu-id="f34c3-664">Since the application is sending more requests to the disk, the disk can process more parallel IOs.</span></span> <span data-ttu-id="f34c3-665">Végső soron az alkalmazás magasabb IOPS érhet el lesz.</span><span class="sxs-lookup"><span data-stu-id="f34c3-665">Ultimately, the application will be able to achieve higher IOPS.</span></span> <span data-ttu-id="f34c3-666">Alkalmazás feldolgozása további kérelmeket, mert a teljes átviteli képessége – az alkalmazás is növeli.</span><span class="sxs-lookup"><span data-stu-id="f34c3-666">Since application is processing more requests, the total Throughput of the application also increases.</span></span>

<span data-ttu-id="f34c3-667">Általában az alkalmazás érhető el maximális átviteli sebesség a 8-16 + kiugró IO-csatlakoztatott lemez.</span><span class="sxs-lookup"><span data-stu-id="f34c3-667">Typically, an application can achieve maximum Throughput with 8-16+ outstanding IOs per attached disk.</span></span> <span data-ttu-id="f34c3-668">Ha egy várólistamélység, alkalmazás elég IOs nem küldését a rendszer, és kisebb mennyiségű fogja feldolgozni egy adott időszakban.</span><span class="sxs-lookup"><span data-stu-id="f34c3-668">If a Queue Depth is one, application is not pushing enough IOs to the system, and it will process less amount of in a given period.</span></span> <span data-ttu-id="f34c3-669">Ez azt jelenti kevesebb átviteli sebességet.</span><span class="sxs-lookup"><span data-stu-id="f34c3-669">In other words, less Throughput.</span></span>

<span data-ttu-id="f34c3-670">Például az SQL Server egy lekérdezést "4" MAXDOP értékének beállításakor arról értesíti az SQL Server, hogy legfeljebb négy magok használhat a lekérdezés végrehajtásához.</span><span class="sxs-lookup"><span data-stu-id="f34c3-670">For example, in SQL Server, setting the MAXDOP value for a query to "4" informs SQL Server that it can use up to four cores to execute the query.</span></span> <span data-ttu-id="f34c3-671">SQL Server ajánlott várólista mélységének értékét, és a lekérdezés végrehajtása a magok száma határozza meg.</span><span class="sxs-lookup"><span data-stu-id="f34c3-671">SQL Server will determine what is best queue depth value and the number of cores for the query execution.</span></span>

<span data-ttu-id="f34c3-672">*Optimális Várólistamélységének*</span><span class="sxs-lookup"><span data-stu-id="f34c3-672">*Optimal Queue Depth*</span></span>  
<span data-ttu-id="f34c3-673">Nagyon magas várólista mélységének értékét is rendelkezik a hátrányai is.</span><span class="sxs-lookup"><span data-stu-id="f34c3-673">Very high queue depth value also has its drawbacks.</span></span> <span data-ttu-id="f34c3-674">Ha várólista mélység értéke túl magas, az alkalmazás megpróbálja meghajtó nagyon magas iops-érték.</span><span class="sxs-lookup"><span data-stu-id="f34c3-674">If queue depth value is too high, the application will try to drive very high IOPS.</span></span> <span data-ttu-id="f34c3-675">Ha alkalmazás állandó lemezek, amelyek elegendő kiosztott IOPS van, ez negatívan befolyásoló kódokat is alkalmazáskéséseknek.</span><span class="sxs-lookup"><span data-stu-id="f34c3-675">Unless application has persistent disks with sufficient provisioned IOPS, this can negatively affect application latencies.</span></span> <span data-ttu-id="f34c3-676">IOPS, a késés és a várólistamélység közötti kapcsolatot a következő képlet mutatja be.</span><span class="sxs-lookup"><span data-stu-id="f34c3-676">Following formula shows the relationship between IOPS, Latency and Queue Depth.</span></span>  
    ![](media/storage-premium-storage-performance/image6.png)

<span data-ttu-id="f34c3-677">Minden nagy értékű, de az optimális érték, amely elegendő IOPS, az alkalmazás által biztosított késések befolyásolása nélkül ne konfigurálja a Várólistamélységet.</span><span class="sxs-lookup"><span data-stu-id="f34c3-677">You should not configure Queue Depth to any high value, but to an optimal value, which can deliver enough IOPS for the application without affecting latencies.</span></span> <span data-ttu-id="f34c3-678">Például, ha a kérelem várakozási ideje 1 ezredmásodpercre kell, 5000 iops teljesítményt eléréséhez szükséges várólistamélység, QD = 5000 x 0,001 = 5.</span><span class="sxs-lookup"><span data-stu-id="f34c3-678">For example, if the application latency needs to be 1 millisecond, the Queue Depth required to achieve 5,000 IOPS is, QD = 5000 x 0.001 = 5.</span></span>

<span data-ttu-id="f34c3-679">*Várólistamélység csíkozott kötetek*</span><span class="sxs-lookup"><span data-stu-id="f34c3-679">*Queue Depth for Striped Volume*</span></span>  
<span data-ttu-id="f34c3-680">A csíkozott kötetek karbantartása elég magas várólistamélység úgy, hogy minden lemezhez tartozik egy maximális várólistamélység külön-külön.</span><span class="sxs-lookup"><span data-stu-id="f34c3-680">For a striped volume, maintain a high enough queue depth such that, every disk has a peak queue depth individually.</span></span> <span data-ttu-id="f34c3-681">Vegye figyelembe például olyan alkalmazás, amely a leküldéses értesítések egy várólistamélység 2, és a paritásos 4 lemezek szerepelnek.</span><span class="sxs-lookup"><span data-stu-id="f34c3-681">For example, consider an application that pushes a queue depth of 2 and there are 4 disks in the stripe.</span></span> <span data-ttu-id="f34c3-682">A két IO kérelmek kerül, a két lemez, és két lemez fennmaradó lesz tétlen.</span><span class="sxs-lookup"><span data-stu-id="f34c3-682">The two IO requests will go to two disks and remaining two disks will be idle.</span></span> <span data-ttu-id="f34c3-683">A várólistamélység ezért konfigurálni úgy, hogy a lemezek foglalt lehet.</span><span class="sxs-lookup"><span data-stu-id="f34c3-683">Therefore, configure the queue depth such that all the disks can be busy.</span></span> <span data-ttu-id="f34c3-684">Az alábbi képlet mutatja be a csíkozott kötetek várólistamélységének meghatározásához.</span><span class="sxs-lookup"><span data-stu-id="f34c3-684">Formula below shows how to determine the queue depth of striped volumes.</span></span>  
    ![](media/storage-premium-storage-performance/image7.png)

## <a name="throttling"></a><span data-ttu-id="f34c3-685">Szabályozás</span><span class="sxs-lookup"><span data-stu-id="f34c3-685">Throttling</span></span>
<span data-ttu-id="f34c3-686">Prémium szintű Storage Azure rendelkezések megadott iops-érték és átviteli száma attól függően, hogy a Virtuálisgép-méretek és a választott mérete.</span><span class="sxs-lookup"><span data-stu-id="f34c3-686">Azure Premium Storage provisions specified number of IOPS and Throughput depending on the VM sizes and disk sizes you choose.</span></span> <span data-ttu-id="f34c3-687">Az alkalmazás próbál IOPS vagy átviteli meghajtó felett Mi a virtuális gép vagy a lemez kezelni tud, működés felső korlátjának, bármikor prémium szintű Storage szabályozás fogja azt.</span><span class="sxs-lookup"><span data-stu-id="f34c3-687">Anytime your application tries to drive IOPS or Throughput above these limits of what the VM or disk can handle, Premium Storage will throttle it.</span></span> <span data-ttu-id="f34c3-688">Ez akkor jelentkezik, az alkalmazás teljesítménye formájában.</span><span class="sxs-lookup"><span data-stu-id="f34c3-688">This manifests in the form of degraded performance in your application.</span></span> <span data-ttu-id="f34c3-689">Ez is nagyobb késleltetéssel járhat jelenti azt, csökkentheti a teljesítményt, illetve nem csökkentheti iops-érték.</span><span class="sxs-lookup"><span data-stu-id="f34c3-689">This can mean higher latency, lower Throughput or lower IOPS.</span></span> <span data-ttu-id="f34c3-690">Ha prémium szintű Storage nem szabályozás, az alkalmazás teljesen feladatátadáshoz alapján meghaladó mi erőforrásaihoz képesek elérése érdekében.</span><span class="sxs-lookup"><span data-stu-id="f34c3-690">If Premium Storage does not throttle, your application could completely fail by exceeding what its resources are capable of achieving.</span></span> <span data-ttu-id="f34c3-691">Igen szabályozás miatt a teljesítményproblémák elkerüléséhez mindig kiépíteni az alkalmazás elegendő erőforrással.</span><span class="sxs-lookup"><span data-stu-id="f34c3-691">So, to avoid performance issues due to throttling, always provision sufficient resources for your application.</span></span> <span data-ttu-id="f34c3-692">Vegye figyelembe, mi ismertettük a Virtuálisgép-méretek és a lemez mérete a fenti szakaszban.</span><span class="sxs-lookup"><span data-stu-id="f34c3-692">Take into consideration what we discussed in the VM sizes and Disk sizes sections above.</span></span> <span data-ttu-id="f34c3-693">A legjobb módja, hogy megtudja, milyen erőforrásokra lesz szüksége a az alkalmazás futtatásához teljesítménymérésre.</span><span class="sxs-lookup"><span data-stu-id="f34c3-693">Benchmarking is the best way to figure out what resources you will need to host your application.</span></span>

## <a name="benchmarking"></a><span data-ttu-id="f34c3-694">Teljesítménymérésre</span><span class="sxs-lookup"><span data-stu-id="f34c3-694">Benchmarking</span></span>
<span data-ttu-id="f34c3-695">Az alkalmazás a különböző terhelésekhez szimulálva és az alkalmazások teljesítményéről, az egyes munkaterhelésekhez tartozó mérési teljesítménymérésre.</span><span class="sxs-lookup"><span data-stu-id="f34c3-695">Benchmarking is the process of simulating different workloads on your application and measuring the application performance for each workload.</span></span> <span data-ttu-id="f34c3-696">Egy korábbi szakaszában leírt lépések alapján összegyűjtötte alkalmazások teljesítménybeli követelményei.</span><span class="sxs-lookup"><span data-stu-id="f34c3-696">Using the steps described in an earlier section, you have gathered the application performance requirements.</span></span> <span data-ttu-id="f34c3-697">Összehasonlítási eszközök futtatja az alkalmazást futtató gépeken, azt is meghatározhatja, hogy az alkalmazás érhető el prémium szintű Storage a teljesítményszintet.</span><span class="sxs-lookup"><span data-stu-id="f34c3-697">By running benchmarking tools on the VMs hosting the application, you can determine the performance levels that your application can achieve with Premium Storage.</span></span> <span data-ttu-id="f34c3-698">Ez a szakasz azt biztosít egy szabványos DS14 virtuális Gépet, a prémium szintű Azure Storage lemezek kiépített teljesítménymérésre példái.</span><span class="sxs-lookup"><span data-stu-id="f34c3-698">In this section, we provide you examples of benchmarking a Standard DS14 VM provisioned with Azure Premium Storage disks.</span></span>

<span data-ttu-id="f34c3-699">Rendelkezik használtuk közös összehasonlítási eszközök Iometer és FIO, a Windows és Linux kulcsattribútumokkal.</span><span class="sxs-lookup"><span data-stu-id="f34c3-699">We have used common benchmarking tools Iometer and FIO, for Windows and Linux respectively.</span></span> <span data-ttu-id="f34c3-700">Ezek az eszközök nem tudott származtatni egy éleshez hasonlító munkaterhelés szimulálva több szál, és mérheti a rendszer teljesítményét.</span><span class="sxs-lookup"><span data-stu-id="f34c3-700">These tools spawn multiple threads simulating a production like workload, and measure the system performance.</span></span> <span data-ttu-id="f34c3-701">Eszközök segítségével is konfigurálhatja például blokk méretét és a várólista mélység, amely általában nem módosítható az alkalmazás paramétereit.</span><span class="sxs-lookup"><span data-stu-id="f34c3-701">Using the tools you can also configure parameters like block size and queue depth, which you normally cannot change for an application.</span></span> <span data-ttu-id="f34c3-702">Ez lehetővé teszi annak a maximális teljesítmény nagy méretű virtuális gép különböző típusú alkalmazások és szolgáltatások a premium lemezek látva nagyobb rugalmasságot.</span><span class="sxs-lookup"><span data-stu-id="f34c3-702">This gives you more flexibility to drive the maximum performance on a high scale VM provisioned with premium disks for different types of application workloads.</span></span> <span data-ttu-id="f34c3-703">Minden egyes összehasonlítási eszköz olvashat további [Iometer](http://www.iometer.org/) és [FIO](http://freecode.com/projects/fio).</span><span class="sxs-lookup"><span data-stu-id="f34c3-703">To learn more about each benchmarking tool visit [Iometer](http://www.iometer.org/) and [FIO](http://freecode.com/projects/fio).</span></span>

<span data-ttu-id="f34c3-704">Kövesse az alábbi példák, hozzon létre egy szabványos DS14 virtuális Gépet, és 11 prémium szintű Storage lemez csatolása a virtuális gép.</span><span class="sxs-lookup"><span data-stu-id="f34c3-704">To follow the examples below, create a Standard DS14 VM and attach 11 Premium Storage disks to the VM.</span></span> <span data-ttu-id="f34c3-705">A 11 lemezek-állomás gyorsítótárazását, "None" 10 lemezek konfigurálásához, valamint azokat a NoCacheWrites nevű kötet paritásos.</span><span class="sxs-lookup"><span data-stu-id="f34c3-705">Of the 11 disks, configure 10 disks with host caching as "None" and stripe them into a volume called NoCacheWrites.</span></span> <span data-ttu-id="f34c3-706">Állomás, mint a "ReadOnly" fennmaradó gyorsítótárazás konfigurálása, és hozzon létre egy kötetet CacheReads meghívásra ezt a lemezt.</span><span class="sxs-lookup"><span data-stu-id="f34c3-706">Configure host caching as "ReadOnly" on the remaining disk and create a volume called CacheReads with this disk.</span></span> <span data-ttu-id="f34c3-707">A telepítővel lesz a maximális olvasási és írási teljesítményt szabványos DS14 VM megjelenítéséhez.</span><span class="sxs-lookup"><span data-stu-id="f34c3-707">Using this setup, you will be able to see the maximum Read and Write performance from a Standard DS14 VM.</span></span> <span data-ttu-id="f34c3-708">Részletes lépéseket a premium lemezek DS14 virtuális gép létrehozása, Ugrás [létrehozása és használata a prémium szintű Storage fiókot a virtuális gép adatlemezt](../storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="f34c3-708">For detailed steps about creating a DS14 VM with premium disks, go to [Create and use a Premium Storage account for a virtual machine data disk](../storage-premium-storage.md).</span></span>

<span data-ttu-id="f34c3-709">*A gyorsítótár előkészítése*</span><span class="sxs-lookup"><span data-stu-id="f34c3-709">*Warming up the Cache*</span></span>  
<span data-ttu-id="f34c3-710">A lemezt a csak olvasható-állomás gyorsítótárazását fog tudni lemez korlátnál magasabb IOPS biztosítják.</span><span class="sxs-lookup"><span data-stu-id="f34c3-710">The disk with ReadOnly host caching will be able to give higher IOPS than the disk limit.</span></span> <span data-ttu-id="f34c3-711">Ahhoz, hogy a maximális olvasási teljesítmény a gazdagép-gyorsítótárból, először meg kell kezeléséből a gyorsítótár, a lemez.</span><span class="sxs-lookup"><span data-stu-id="f34c3-711">To get this maximum read performance from the host cache, first you must warm up the cache of this disk.</span></span> <span data-ttu-id="f34c3-712">Ez biztosítja, hogy az olvasási IOs összehasonlítási eszköztől találkozik CacheReads köteten ténylegesen találatok száma a gyorsítótárban, és nem a lemezt közvetlenül.</span><span class="sxs-lookup"><span data-stu-id="f34c3-712">This ensures that the Read IOs which benchmarking tool will drive on CacheReads volume actually hits the cache and not the disk directly.</span></span> <span data-ttu-id="f34c3-713">A gyorsítótár találatok eredményt a egyetlen gyorsítótárból további IOPS lemez engedélyezve van.</span><span class="sxs-lookup"><span data-stu-id="f34c3-713">The cache hits result in additional IOPS from the single cache enabled disk.</span></span>

> <span data-ttu-id="f34c3-714">**Fontos:**</span><span class="sxs-lookup"><span data-stu-id="f34c3-714">**Important:**</span></span>  
> <span data-ttu-id="f34c3-715">Meg kell kezeléséből a gyorsítótár futtatása teljesítménymérésre, minden alkalommal, amikor a virtuális gép újraindítása előtt.</span><span class="sxs-lookup"><span data-stu-id="f34c3-715">You must warm up the cache before running benchmarking, every time VM is rebooted.</span></span>
>
>

#### <a name="iometer"></a><span data-ttu-id="f34c3-716">Iometer</span><span class="sxs-lookup"><span data-stu-id="f34c3-716">Iometer</span></span>
<span data-ttu-id="f34c3-717">[Töltse le a Iometer eszközt](http://sourceforge.net/projects/iometer/files/iometer-stable/2006-07-27/iometer-2006.07.27.win32.i386-setup.exe/download) a virtuális Gépen.</span><span class="sxs-lookup"><span data-stu-id="f34c3-717">[Download the Iometer tool](http://sourceforge.net/projects/iometer/files/iometer-stable/2006-07-27/iometer-2006.07.27.win32.i386-setup.exe/download) on the VM.</span></span>

<span data-ttu-id="f34c3-718">*Fájl tesztelése*</span><span class="sxs-lookup"><span data-stu-id="f34c3-718">*Test file*</span></span>  
<span data-ttu-id="f34c3-719">Iometer a köteten, amelyen futtatja az összehasonlítási teszt tárolt teszt fájlt használ.</span><span class="sxs-lookup"><span data-stu-id="f34c3-719">Iometer uses a test file that is stored on the volume on which you will run the benchmarking test.</span></span> <span data-ttu-id="f34c3-720">Olvasási meghajtók, és írja be a teszt fájlhoz, a lemez mérésére az iops-érték és az átvitel.</span><span class="sxs-lookup"><span data-stu-id="f34c3-720">It drives Reads and Writes on this test file to measure the disk IOPS and Throughput.</span></span> <span data-ttu-id="f34c3-721">Iometer hoz létre a fájl tesztelése, ha nincs megadva egy.</span><span class="sxs-lookup"><span data-stu-id="f34c3-721">Iometer creates this test file if you have not provided one.</span></span> <span data-ttu-id="f34c3-722">Hozzon létre egy 200 GB-os tesztfájl iobw.tst nevű CacheReads és NoCacheWrites köteteken.</span><span class="sxs-lookup"><span data-stu-id="f34c3-722">Create a 200GB test file called iobw.tst on the CacheReads and NoCacheWrites volumes.</span></span>

<span data-ttu-id="f34c3-723">*Access specifikációi*</span><span class="sxs-lookup"><span data-stu-id="f34c3-723">*Access Specifications*</span></span>  
<span data-ttu-id="f34c3-724">A specifikációk kérelem I/O méret, olvasási/írási %, % véletlenszerű/szekvenciális használatával vannak konfigurálva az "Access specifikációi" fülre az Iometer.</span><span class="sxs-lookup"><span data-stu-id="f34c3-724">The specifications, request IO size, % read/write, % random/sequential are configured using the "Access Specifications" tab in Iometer.</span></span> <span data-ttu-id="f34c3-725">Hozzon létre egy hozzáférési leírása az alábbiakban ismertetett forgatókönyvet.</span><span class="sxs-lookup"><span data-stu-id="f34c3-725">Create an access specification for each of the scenarios described below.</span></span> <span data-ttu-id="f34c3-726">A hozzáférés specifikációk létrehozása és "Mentés" megfelelő nevet hasonlóan – RandomWrites\_8 KB-os, RandomReads\_8 KB-os.</span><span class="sxs-lookup"><span data-stu-id="f34c3-726">Create the access specifications and "Save" with an appropriate name like – RandomWrites\_8K, RandomReads\_8K.</span></span> <span data-ttu-id="f34c3-727">Válassza ki a megfelelő megadását, a tesztkörnyezet futtatásakor.</span><span class="sxs-lookup"><span data-stu-id="f34c3-727">Select the corresponding specification when running the test scenario.</span></span>

<span data-ttu-id="f34c3-728">Maximális IOPS írási forgatókönyv vonatkozó hozzáférési példa az alábbi</span><span class="sxs-lookup"><span data-stu-id="f34c3-728">An example of access specifications for maximum Write IOPS scenario is shown below,</span></span>  
    ![](media/storage-premium-storage-performance/image8.png)

<span data-ttu-id="f34c3-729">*Maximális IOPS vizsgálati előírások*</span><span class="sxs-lookup"><span data-stu-id="f34c3-729">*Maximum IOPS Test Specifications*</span></span>  
<span data-ttu-id="f34c3-730">Maximális IOPs bemutatásához, használja a kisebb kérés méretét.</span><span class="sxs-lookup"><span data-stu-id="f34c3-730">To demonstrate maximum IOPs, use smaller request size.</span></span> <span data-ttu-id="f34c3-731">Használja a 8 KB-os kérés méretét, és hozzon létre specifikációk véletlenszerű írási műveletek és olvasási műveletek.</span><span class="sxs-lookup"><span data-stu-id="f34c3-731">Use 8K request size and create specifications for Random Writes and Reads.</span></span>

| <span data-ttu-id="f34c3-732">Hozzáférési leírása</span><span class="sxs-lookup"><span data-stu-id="f34c3-732">Access Specification</span></span> | <span data-ttu-id="f34c3-733">Kérelem mérete</span><span class="sxs-lookup"><span data-stu-id="f34c3-733">Request size</span></span> | <span data-ttu-id="f34c3-734">Véletlenszerű %</span><span class="sxs-lookup"><span data-stu-id="f34c3-734">Random %</span></span> | <span data-ttu-id="f34c3-735">Olvasási %</span><span class="sxs-lookup"><span data-stu-id="f34c3-735">Read %</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="f34c3-736">RandomWrites\_8 KB-os</span><span class="sxs-lookup"><span data-stu-id="f34c3-736">RandomWrites\_8K</span></span> |<span data-ttu-id="f34c3-737">8 KB-OS</span><span class="sxs-lookup"><span data-stu-id="f34c3-737">8K</span></span> |<span data-ttu-id="f34c3-738">100</span><span class="sxs-lookup"><span data-stu-id="f34c3-738">100</span></span> |<span data-ttu-id="f34c3-739">0</span><span class="sxs-lookup"><span data-stu-id="f34c3-739">0</span></span> |
| <span data-ttu-id="f34c3-740">RandomReads\_8 KB-os</span><span class="sxs-lookup"><span data-stu-id="f34c3-740">RandomReads\_8K</span></span> |<span data-ttu-id="f34c3-741">8 KB-OS</span><span class="sxs-lookup"><span data-stu-id="f34c3-741">8K</span></span> |<span data-ttu-id="f34c3-742">100</span><span class="sxs-lookup"><span data-stu-id="f34c3-742">100</span></span> |<span data-ttu-id="f34c3-743">100</span><span class="sxs-lookup"><span data-stu-id="f34c3-743">100</span></span> |

<span data-ttu-id="f34c3-744">*Maximális átviteli sebesség vizsgálati előírások*</span><span class="sxs-lookup"><span data-stu-id="f34c3-744">*Maximum Throughput Test Specifications*</span></span>  
<span data-ttu-id="f34c3-745">Maximális átviteli sebesség bemutatásához, használja a kérelem nagyobb méretű.</span><span class="sxs-lookup"><span data-stu-id="f34c3-745">To demonstrate maximum Throughput, use larger request size.</span></span> <span data-ttu-id="f34c3-746">Használja a 64 KB-os kérés méretét, és hozzon létre specifikációk véletlenszerű írása és olvasása.</span><span class="sxs-lookup"><span data-stu-id="f34c3-746">Use 64K request size and create specifications for Random Writes and Reads.</span></span>

| <span data-ttu-id="f34c3-747">Hozzáférési leírása</span><span class="sxs-lookup"><span data-stu-id="f34c3-747">Access Specification</span></span> | <span data-ttu-id="f34c3-748">Kérelem mérete</span><span class="sxs-lookup"><span data-stu-id="f34c3-748">Request size</span></span> | <span data-ttu-id="f34c3-749">Véletlenszerű %</span><span class="sxs-lookup"><span data-stu-id="f34c3-749">Random %</span></span> | <span data-ttu-id="f34c3-750">Olvasási %</span><span class="sxs-lookup"><span data-stu-id="f34c3-750">Read %</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="f34c3-751">RandomWrites\_64 K</span><span class="sxs-lookup"><span data-stu-id="f34c3-751">RandomWrites\_64K</span></span> |<span data-ttu-id="f34c3-752">64K</span><span class="sxs-lookup"><span data-stu-id="f34c3-752">64K</span></span> |<span data-ttu-id="f34c3-753">100</span><span class="sxs-lookup"><span data-stu-id="f34c3-753">100</span></span> |<span data-ttu-id="f34c3-754">0</span><span class="sxs-lookup"><span data-stu-id="f34c3-754">0</span></span> |
| <span data-ttu-id="f34c3-755">RandomReads\_64 K</span><span class="sxs-lookup"><span data-stu-id="f34c3-755">RandomReads\_64K</span></span> |<span data-ttu-id="f34c3-756">64K</span><span class="sxs-lookup"><span data-stu-id="f34c3-756">64K</span></span> |<span data-ttu-id="f34c3-757">100</span><span class="sxs-lookup"><span data-stu-id="f34c3-757">100</span></span> |<span data-ttu-id="f34c3-758">100</span><span class="sxs-lookup"><span data-stu-id="f34c3-758">100</span></span> |

<span data-ttu-id="f34c3-759">*A Iometer teszt futtatása*</span><span class="sxs-lookup"><span data-stu-id="f34c3-759">*Running the Iometer Test*</span></span>  
<span data-ttu-id="f34c3-760">Hajtsa végre a gyorsítótár kezeléséből, az alábbi lépéseket</span><span class="sxs-lookup"><span data-stu-id="f34c3-760">Perform the steps below to warm up cache</span></span>

1. <span data-ttu-id="f34c3-761">Hozzon létre két access specifikációi az alábbi értékek</span><span class="sxs-lookup"><span data-stu-id="f34c3-761">Create two access specifications with values shown below,</span></span>

   | <span data-ttu-id="f34c3-762">Név</span><span class="sxs-lookup"><span data-stu-id="f34c3-762">Name</span></span> | <span data-ttu-id="f34c3-763">Kérelem mérete</span><span class="sxs-lookup"><span data-stu-id="f34c3-763">Request size</span></span> | <span data-ttu-id="f34c3-764">Véletlenszerű %</span><span class="sxs-lookup"><span data-stu-id="f34c3-764">Random %</span></span> | <span data-ttu-id="f34c3-765">Olvasási %</span><span class="sxs-lookup"><span data-stu-id="f34c3-765">Read %</span></span> |
   | --- | --- | --- | --- |
   | <span data-ttu-id="f34c3-766">RandomWrites\_1 MB</span><span class="sxs-lookup"><span data-stu-id="f34c3-766">RandomWrites\_1MB</span></span> |<span data-ttu-id="f34c3-767">1MB</span><span class="sxs-lookup"><span data-stu-id="f34c3-767">1MB</span></span> |<span data-ttu-id="f34c3-768">100</span><span class="sxs-lookup"><span data-stu-id="f34c3-768">100</span></span> |<span data-ttu-id="f34c3-769">0</span><span class="sxs-lookup"><span data-stu-id="f34c3-769">0</span></span> |
   | <span data-ttu-id="f34c3-770">RandomReads\_1 MB</span><span class="sxs-lookup"><span data-stu-id="f34c3-770">RandomReads\_1MB</span></span> |<span data-ttu-id="f34c3-771">1MB</span><span class="sxs-lookup"><span data-stu-id="f34c3-771">1MB</span></span> |<span data-ttu-id="f34c3-772">100</span><span class="sxs-lookup"><span data-stu-id="f34c3-772">100</span></span> |<span data-ttu-id="f34c3-773">100</span><span class="sxs-lookup"><span data-stu-id="f34c3-773">100</span></span> |
2. <span data-ttu-id="f34c3-774">Futtassa a következő paraméterekkel gyorsítótár lemez inicializálása a Iometer tesztet.</span><span class="sxs-lookup"><span data-stu-id="f34c3-774">Run the Iometer test for initializing cache disk with following parameters.</span></span> <span data-ttu-id="f34c3-775">Három munkavégző szálat használ a célkötet és egy várólistamélység 128.</span><span class="sxs-lookup"><span data-stu-id="f34c3-775">Use three worker threads for the target volume and a queue depth of 128.</span></span> <span data-ttu-id="f34c3-776">Az időtartamot "Futásidejű" a vizsgálat 2hrs a "Teszt telepítő" lapon.</span><span class="sxs-lookup"><span data-stu-id="f34c3-776">Set the "Run time" duration of the test to 2hrs on the "Test Setup" tab.</span></span>

   | <span data-ttu-id="f34c3-777">Forgatókönyv</span><span class="sxs-lookup"><span data-stu-id="f34c3-777">Scenario</span></span> | <span data-ttu-id="f34c3-778">Célkötet</span><span class="sxs-lookup"><span data-stu-id="f34c3-778">Target Volume</span></span> | <span data-ttu-id="f34c3-779">Név</span><span class="sxs-lookup"><span data-stu-id="f34c3-779">Name</span></span> | <span data-ttu-id="f34c3-780">Időtartam</span><span class="sxs-lookup"><span data-stu-id="f34c3-780">Duration</span></span> |
   | --- | --- | --- | --- |
   | <span data-ttu-id="f34c3-781">Gyorsítótár lemez inicializálása</span><span class="sxs-lookup"><span data-stu-id="f34c3-781">Initialize Cache Disk</span></span> |<span data-ttu-id="f34c3-782">CacheReads</span><span class="sxs-lookup"><span data-stu-id="f34c3-782">CacheReads</span></span> |<span data-ttu-id="f34c3-783">RandomWrites\_1 MB</span><span class="sxs-lookup"><span data-stu-id="f34c3-783">RandomWrites\_1MB</span></span> |<span data-ttu-id="f34c3-784">2hrs</span><span class="sxs-lookup"><span data-stu-id="f34c3-784">2hrs</span></span> |
3. <span data-ttu-id="f34c3-785">A gyorsítótár lemez a következő paraméterekkel előkészítése a Iometer teszt futtatása.</span><span class="sxs-lookup"><span data-stu-id="f34c3-785">Run the Iometer test for warming up cache disk with following parameters.</span></span> <span data-ttu-id="f34c3-786">Három munkavégző szálat használ a célkötet és egy várólistamélység 128.</span><span class="sxs-lookup"><span data-stu-id="f34c3-786">Use three worker threads for the target volume and a queue depth of 128.</span></span> <span data-ttu-id="f34c3-787">Az időtartamot "Futásidejű" a vizsgálat 2hrs a "Teszt telepítő" lapon.</span><span class="sxs-lookup"><span data-stu-id="f34c3-787">Set the "Run time" duration of the test to 2hrs on the "Test Setup" tab.</span></span>

   | <span data-ttu-id="f34c3-788">Forgatókönyv</span><span class="sxs-lookup"><span data-stu-id="f34c3-788">Scenario</span></span> | <span data-ttu-id="f34c3-789">Célkötet</span><span class="sxs-lookup"><span data-stu-id="f34c3-789">Target Volume</span></span> | <span data-ttu-id="f34c3-790">Név</span><span class="sxs-lookup"><span data-stu-id="f34c3-790">Name</span></span> | <span data-ttu-id="f34c3-791">Időtartam</span><span class="sxs-lookup"><span data-stu-id="f34c3-791">Duration</span></span> |
   | --- | --- | --- | --- |
   | <span data-ttu-id="f34c3-792">Meleg gyorsítótár lemezre mentése</span><span class="sxs-lookup"><span data-stu-id="f34c3-792">Warm up Cache Disk</span></span> |<span data-ttu-id="f34c3-793">CacheReads</span><span class="sxs-lookup"><span data-stu-id="f34c3-793">CacheReads</span></span> |<span data-ttu-id="f34c3-794">RandomReads\_1 MB</span><span class="sxs-lookup"><span data-stu-id="f34c3-794">RandomReads\_1MB</span></span> |<span data-ttu-id="f34c3-795">2hrs</span><span class="sxs-lookup"><span data-stu-id="f34c3-795">2hrs</span></span> |

<span data-ttu-id="f34c3-796">Ha gyorsítótár lemez tárolóhelyspecifikus, lépjen az alább felsorolt tesztesetek.</span><span class="sxs-lookup"><span data-stu-id="f34c3-796">After cache disk is warmed up, proceed with the test scenarios listed below.</span></span> <span data-ttu-id="f34c3-797">A Iometer teszt futtatása, használja a legalább három worker threads **minden** céloz kötet.</span><span class="sxs-lookup"><span data-stu-id="f34c3-797">To run the Iometer test, use at least three worker threads for **each** target volume.</span></span> <span data-ttu-id="f34c3-798">Az egyes munkavégző szál válassza ki a célkötet, várólistamélység beállítása, és válassza ki a mentett vizsgálati előírásoknak egyikét a megfelelő tesztkörnyezet futtatásához az alábbi táblázatban látható módon.</span><span class="sxs-lookup"><span data-stu-id="f34c3-798">For each worker thread, select the target volume, set queue depth and select one of the saved test specifications, as shown in the table below, to run the corresponding test scenario.</span></span> <span data-ttu-id="f34c3-799">Ezek a tesztek futtatása a táblázatban is látható kívánt eredmény elérése érdekében az iops-érték és a teljesítményt.</span><span class="sxs-lookup"><span data-stu-id="f34c3-799">The table also shows expected results for IOPS and Throughput when running these tests.</span></span> <span data-ttu-id="f34c3-800">Minden esetben egy kisméretű I/O mérete 8 KB-os és egy magas várólista mélysége 128 szolgál.</span><span class="sxs-lookup"><span data-stu-id="f34c3-800">For all scenarios, a small IO size of 8KB and a high queue depth of 128 is used.</span></span>

| <span data-ttu-id="f34c3-801">Tesztkörnyezet</span><span class="sxs-lookup"><span data-stu-id="f34c3-801">Test Scenario</span></span> | <span data-ttu-id="f34c3-802">Célkötet</span><span class="sxs-lookup"><span data-stu-id="f34c3-802">Target Volume</span></span> | <span data-ttu-id="f34c3-803">Név</span><span class="sxs-lookup"><span data-stu-id="f34c3-803">Name</span></span> | <span data-ttu-id="f34c3-804">eredménye</span><span class="sxs-lookup"><span data-stu-id="f34c3-804">Result</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="f34c3-805">Legfeljebb</span><span class="sxs-lookup"><span data-stu-id="f34c3-805">Max.</span></span> <span data-ttu-id="f34c3-806">Olvasási IOPS</span><span class="sxs-lookup"><span data-stu-id="f34c3-806">Read IOPS</span></span> |<span data-ttu-id="f34c3-807">CacheReads</span><span class="sxs-lookup"><span data-stu-id="f34c3-807">CacheReads</span></span> |<span data-ttu-id="f34c3-808">RandomWrites\_8 KB-os</span><span class="sxs-lookup"><span data-stu-id="f34c3-808">RandomWrites\_8K</span></span> |<span data-ttu-id="f34c3-809">50 000 IOPS</span><span class="sxs-lookup"><span data-stu-id="f34c3-809">50,000 IOPS</span></span> |
| <span data-ttu-id="f34c3-810">Legfeljebb</span><span class="sxs-lookup"><span data-stu-id="f34c3-810">Max.</span></span> <span data-ttu-id="f34c3-811">IOPS írása</span><span class="sxs-lookup"><span data-stu-id="f34c3-811">Write IOPS</span></span> |<span data-ttu-id="f34c3-812">NoCacheWrites</span><span class="sxs-lookup"><span data-stu-id="f34c3-812">NoCacheWrites</span></span> |<span data-ttu-id="f34c3-813">RandomReads\_8 KB-os</span><span class="sxs-lookup"><span data-stu-id="f34c3-813">RandomReads\_8K</span></span> |<span data-ttu-id="f34c3-814">64 000 IOPS</span><span class="sxs-lookup"><span data-stu-id="f34c3-814">64,000 IOPS</span></span> |
| <span data-ttu-id="f34c3-815">Legfeljebb</span><span class="sxs-lookup"><span data-stu-id="f34c3-815">Max.</span></span> <span data-ttu-id="f34c3-816">Kombinált IOPS</span><span class="sxs-lookup"><span data-stu-id="f34c3-816">Combined IOPS</span></span> |<span data-ttu-id="f34c3-817">CacheReads</span><span class="sxs-lookup"><span data-stu-id="f34c3-817">CacheReads</span></span> |<span data-ttu-id="f34c3-818">RandomWrites\_8 KB-os</span><span class="sxs-lookup"><span data-stu-id="f34c3-818">RandomWrites\_8K</span></span> |<span data-ttu-id="f34c3-819">100 000 IOPS</span><span class="sxs-lookup"><span data-stu-id="f34c3-819">100,000 IOPS</span></span> |
| <span data-ttu-id="f34c3-820">NoCacheWrites</span><span class="sxs-lookup"><span data-stu-id="f34c3-820">NoCacheWrites</span></span> |<span data-ttu-id="f34c3-821">RandomReads\_8 KB-os</span><span class="sxs-lookup"><span data-stu-id="f34c3-821">RandomReads\_8K</span></span> | &nbsp; | &nbsp; |
| <span data-ttu-id="f34c3-822">Legfeljebb</span><span class="sxs-lookup"><span data-stu-id="f34c3-822">Max.</span></span> <span data-ttu-id="f34c3-823">Olvassa el a MB/s</span><span class="sxs-lookup"><span data-stu-id="f34c3-823">Read MB/sec</span></span> |<span data-ttu-id="f34c3-824">CacheReads</span><span class="sxs-lookup"><span data-stu-id="f34c3-824">CacheReads</span></span> |<span data-ttu-id="f34c3-825">RandomWrites\_64 K</span><span class="sxs-lookup"><span data-stu-id="f34c3-825">RandomWrites\_64K</span></span> |<span data-ttu-id="f34c3-826">524 bájtnyi MB/s</span><span class="sxs-lookup"><span data-stu-id="f34c3-826">524 MB/sec</span></span> |
| <span data-ttu-id="f34c3-827">Legfeljebb</span><span class="sxs-lookup"><span data-stu-id="f34c3-827">Max.</span></span> <span data-ttu-id="f34c3-828">Írás a MB/s</span><span class="sxs-lookup"><span data-stu-id="f34c3-828">Write MB/sec</span></span> |<span data-ttu-id="f34c3-829">NoCacheWrites</span><span class="sxs-lookup"><span data-stu-id="f34c3-829">NoCacheWrites</span></span> |<span data-ttu-id="f34c3-830">RandomReads\_64 K</span><span class="sxs-lookup"><span data-stu-id="f34c3-830">RandomReads\_64K</span></span> |<span data-ttu-id="f34c3-831">524 bájtnyi MB/s</span><span class="sxs-lookup"><span data-stu-id="f34c3-831">524 MB/sec</span></span> |
| <span data-ttu-id="f34c3-832">Kombinált MB/s</span><span class="sxs-lookup"><span data-stu-id="f34c3-832">Combined MB/sec</span></span> |<span data-ttu-id="f34c3-833">CacheReads</span><span class="sxs-lookup"><span data-stu-id="f34c3-833">CacheReads</span></span> |<span data-ttu-id="f34c3-834">RandomWrites\_64 K</span><span class="sxs-lookup"><span data-stu-id="f34c3-834">RandomWrites\_64K</span></span> |<span data-ttu-id="f34c3-835">1000 MB/s</span><span class="sxs-lookup"><span data-stu-id="f34c3-835">1000 MB/sec</span></span> |
| <span data-ttu-id="f34c3-836">NoCacheWrites</span><span class="sxs-lookup"><span data-stu-id="f34c3-836">NoCacheWrites</span></span> |<span data-ttu-id="f34c3-837">RandomReads\_64 K</span><span class="sxs-lookup"><span data-stu-id="f34c3-837">RandomReads\_64K</span></span> | &nbsp; | &nbsp; |

<span data-ttu-id="f34c3-838">Az alábbiakban a vizsgálati eredmények kombinált IOPS és átviteli forgatókönyvek a Iometer példaként bemutató képernyőképeket láthat.</span><span class="sxs-lookup"><span data-stu-id="f34c3-838">Below are screenshots of the Iometer test results for combined IOPS and Throughput scenarios.</span></span>

<span data-ttu-id="f34c3-839">*Egyesített írási és olvasási maximális iops-érték*</span><span class="sxs-lookup"><span data-stu-id="f34c3-839">*Combined Reads and Writes Maximum IOPS*</span></span>  
![](media/storage-premium-storage-performance/image9.png)

<span data-ttu-id="f34c3-840">*Egyesített írási és olvasási maximális átviteli sebesség*</span><span class="sxs-lookup"><span data-stu-id="f34c3-840">*Combined Reads and Writes Maximum Throughput*</span></span>  
![](media/storage-premium-storage-performance/image10.png)

### <a name="fio"></a><span data-ttu-id="f34c3-841">FIO</span><span class="sxs-lookup"><span data-stu-id="f34c3-841">FIO</span></span>
<span data-ttu-id="f34c3-842">FIO egy olyan népszerű eszköz teljesítményteszt Storage a Linux virtuális gépeken.</span><span class="sxs-lookup"><span data-stu-id="f34c3-842">FIO is a popular tool to benchmark storage on the Linux VMs.</span></span> <span data-ttu-id="f34c3-843">Jelölje be a különböző IO méretű szekvenciális rugalmasságot vagy véletlenszerű olvasási rendelkezik, és írja.</span><span class="sxs-lookup"><span data-stu-id="f34c3-843">It has the flexibility to select different IO sizes, sequential or random reads and writes.</span></span> <span data-ttu-id="f34c3-844">Az indít munkavégző szál vagy a folyamat a megadott i/o-műveletek végrehajtásához.</span><span class="sxs-lookup"><span data-stu-id="f34c3-844">It spawns worker threads or processes to perform the specified I/O operations.</span></span> <span data-ttu-id="f34c3-845">Megadhatja, hogy milyen típusú bemeneti és kimeneti műveletet minden egyes munkavégző szál feladat fájlok használatával kell végrehajtania.</span><span class="sxs-lookup"><span data-stu-id="f34c3-845">You can specify the type of I/O operations each worker thread must perform using job files.</span></span> <span data-ttu-id="f34c3-846">Létrehoztunk egy feladat fájl / forgatókönyv az alábbi példák mutatják be.</span><span class="sxs-lookup"><span data-stu-id="f34c3-846">We created one job file per scenario illustrated in the examples below.</span></span> <span data-ttu-id="f34c3-847">A feladat fájlokban is elvégez egy teljesítménytesztet prémium szintű Storage különböző munkaterheléseinek specifikációk módosíthatja.</span><span class="sxs-lookup"><span data-stu-id="f34c3-847">You can change the specifications in these job files to benchmark different workloads running on Premium Storage.</span></span> <span data-ttu-id="f34c3-848">A példákban a szabványos DS 14 virtuális gép futó használjuk **Ubuntu**.</span><span class="sxs-lookup"><span data-stu-id="f34c3-848">In the examples, we are using a Standard DS 14 VM running **Ubuntu**.</span></span> <span data-ttu-id="f34c3-849">Használja az ugyanazon a elején leírt a [szakasz teljesítménymérésre](#Benchmarking) és meleg fel a gyorsítótárban a összehasonlítási tesztek futtatása előtt.</span><span class="sxs-lookup"><span data-stu-id="f34c3-849">Use the same setup described in the beginning of the [Benchmarking section](#Benchmarking) and warm up the cache before running the benchmarking tests.</span></span>

<span data-ttu-id="f34c3-850">Mielőtt elkezdené, [FIO letöltése](https://github.com/axboe/fio) , és telepíteni a virtuális gép.</span><span class="sxs-lookup"><span data-stu-id="f34c3-850">Before you begin, [download FIO](https://github.com/axboe/fio) and install it on your virtual machine.</span></span>

<span data-ttu-id="f34c3-851">A következő parancsot az Ubuntu,</span><span class="sxs-lookup"><span data-stu-id="f34c3-851">Run the following command for Ubuntu,</span></span>

```
apt-get install fio
```

<span data-ttu-id="f34c3-852">A lemezeken vezetői olvasási műveletek használjuk az írási műveletek vezetéséhez négy munkaszál és négy munkaszál.</span><span class="sxs-lookup"><span data-stu-id="f34c3-852">We will use four worker threads for driving Write operations and four worker threads for driving Read operations on the disks.</span></span> <span data-ttu-id="f34c3-853">Az írási munkavállalók fog kell befolyásoló tényezők forgalom értéke "None" gyorsítótárával 10 lemezekkel rendelkező "nocache lehet" köteten.</span><span class="sxs-lookup"><span data-stu-id="f34c3-853">The Write workers will be driving traffic on the "nocache" volume, which has 10 disks with cache set to "None".</span></span> <span data-ttu-id="f34c3-854">Az olvasási munkavállalók fog kell befolyásoló tényezők forgalom a "readcache" köteten, amelynek 1 "ReadOnly" gyorsítótár-készlettel.</span><span class="sxs-lookup"><span data-stu-id="f34c3-854">The Read workers will be driving traffic on the "readcache" volume, which has 1 disk with cache set to "ReadOnly".</span></span>

<span data-ttu-id="f34c3-855">*Maximális írási IOPS*</span><span class="sxs-lookup"><span data-stu-id="f34c3-855">*Maximum Write IOPS*</span></span>  
<span data-ttu-id="f34c3-856">A feladat-fájl létrehozása a következő specifikációnak írási maximális IOPS eléréséhez.</span><span class="sxs-lookup"><span data-stu-id="f34c3-856">Create the job file with following specifications to get maximum Write IOPS.</span></span> <span data-ttu-id="f34c3-857">Nevezze el a "fiowrite.ini".</span><span class="sxs-lookup"><span data-stu-id="f34c3-857">Name it "fiowrite.ini".</span></span>

```
[global]
size=30g
direct=1
iodepth=256
ioengine=libaio
bs=8k

[writer1]
rw=randwrite
directory=/mnt/nocache
[writer2]
rw=randwrite
directory=/mnt/nocache
[writer3]
rw=randwrite
directory=/mnt/nocache
[writer4]
rw=randwrite
directory=/mnt/nocache
```

<span data-ttu-id="f34c3-858">Vegye figyelembe a kövesse főbb tényezőket a korábbi szakaszokban ismertetett tervezési irányelveket összhangban legyenek.</span><span class="sxs-lookup"><span data-stu-id="f34c3-858">Note the follow key things that are in line with the design guidelines discussed in previous sections.</span></span> <span data-ttu-id="f34c3-859">Ezen specifikációk elengedhetetlenek meghajtó maximális iops-ről,</span><span class="sxs-lookup"><span data-stu-id="f34c3-859">These specifications are essential to drive maximum IOPS,</span></span>  

* <span data-ttu-id="f34c3-860">Magas várólistamélység 256.</span><span class="sxs-lookup"><span data-stu-id="f34c3-860">A high queue depth of 256.</span></span>  
* <span data-ttu-id="f34c3-861">Kis blokkméret 8 KB-os.</span><span class="sxs-lookup"><span data-stu-id="f34c3-861">A small block size of 8KB.</span></span>  
* <span data-ttu-id="f34c3-862">Több szál véletlenszerű írási műveleteket végez.</span><span class="sxs-lookup"><span data-stu-id="f34c3-862">Multiple threads performing random writes.</span></span>

<span data-ttu-id="f34c3-863">A következő parancsot a FIO teszt 30 másodpercig indítsa</span><span class="sxs-lookup"><span data-stu-id="f34c3-863">Run the following command to kick off the FIO test for 30 seconds,</span></span>  

```
sudo fio --runtime 30 fiowrite.ini
```

<span data-ttu-id="f34c3-864">A teszt végrehajtása közben lesz olvassa el a ennyi írási iops-érték a virtuális gép és a Premium lemezek hoz létre.</span><span class="sxs-lookup"><span data-stu-id="f34c3-864">While the test runs, you will be able to see the number of write IOPS the VM and Premium disks are delivering.</span></span> <span data-ttu-id="f34c3-865">Ahogy az alábbi minta, a DS14 VM elkötelezett a maximális IOPS legfeljebb 50 000 IOPS írási.</span><span class="sxs-lookup"><span data-stu-id="f34c3-865">As shown in the sample below, the DS14 VM is delivering its maximum write IOPS limit of 50,000 IOPS.</span></span>  
    ![](media/storage-premium-storage-performance/image11.png)

<span data-ttu-id="f34c3-866">*Maximális olvasási IOPS*</span><span class="sxs-lookup"><span data-stu-id="f34c3-866">*Maximum Read IOPS*</span></span>  
<span data-ttu-id="f34c3-867">A feladat-fájl létrehozása a következő specifikációnak olvasási maximális IOPS eléréséhez.</span><span class="sxs-lookup"><span data-stu-id="f34c3-867">Create the job file with following specifications to get maximum Read IOPS.</span></span> <span data-ttu-id="f34c3-868">Nevezze el a "fioread.ini".</span><span class="sxs-lookup"><span data-stu-id="f34c3-868">Name it "fioread.ini".</span></span>

```
[global]
size=30g
direct=1
iodepth=256
ioengine=libaio
bs=8k

[reader1]
rw=randread
directory=/mnt/readcache
[reader2]
rw=randread
directory=/mnt/readcache
[reader3]
rw=randread
directory=/mnt/readcache
[reader4]
rw=randread
directory=/mnt/readcache
```

<span data-ttu-id="f34c3-869">Vegye figyelembe a kövesse főbb tényezőket a korábbi szakaszokban ismertetett tervezési irányelveket összhangban legyenek.</span><span class="sxs-lookup"><span data-stu-id="f34c3-869">Note the follow key things that are in line with the design guidelines discussed in previous sections.</span></span> <span data-ttu-id="f34c3-870">Ezen specifikációk elengedhetetlenek meghajtó maximális iops-ről,</span><span class="sxs-lookup"><span data-stu-id="f34c3-870">These specifications are essential to drive maximum IOPS,</span></span>

* <span data-ttu-id="f34c3-871">Magas várólistamélység 256.</span><span class="sxs-lookup"><span data-stu-id="f34c3-871">A high queue depth of 256.</span></span>  
* <span data-ttu-id="f34c3-872">Kis blokkméret 8 KB-os.</span><span class="sxs-lookup"><span data-stu-id="f34c3-872">A small block size of 8KB.</span></span>  
* <span data-ttu-id="f34c3-873">Több szál véletlenszerű írási műveleteket végez.</span><span class="sxs-lookup"><span data-stu-id="f34c3-873">Multiple threads performing random writes.</span></span>

<span data-ttu-id="f34c3-874">A következő parancsot a FIO teszt 30 másodpercig indítsa</span><span class="sxs-lookup"><span data-stu-id="f34c3-874">Run the following command to kick off the FIO test for 30 seconds,</span></span>

```
sudo fio --runtime 30 fioread.ini
```

<span data-ttu-id="f34c3-875">A teszt végrehajtása közben lesz jelenik meg: száma iops-érték a virtuális gép és a prémium szintű lemezekhez hoz létre.</span><span class="sxs-lookup"><span data-stu-id="f34c3-875">While the test runs, you will be able to see the number of read IOPS the VM and Premium disks are delivering.</span></span> <span data-ttu-id="f34c3-876">Ahogy az alábbi minta, a DS14 VM elkötelezett több mint 64 000 olvasási iops-érték.</span><span class="sxs-lookup"><span data-stu-id="f34c3-876">As shown in the sample below, the DS14 VM is delivering more than 64,000 Read IOPS.</span></span> <span data-ttu-id="f34c3-877">Ez az a lemez és a gyorsítótár teljesítménye.</span><span class="sxs-lookup"><span data-stu-id="f34c3-877">This is a combination of the disk and the cache performance.</span></span>  
    ![](media/storage-premium-storage-performance/image12.png)

<span data-ttu-id="f34c3-878">*Maximális olvasási és írási IOPS*</span><span class="sxs-lookup"><span data-stu-id="f34c3-878">*Maximum Read and Write IOPS*</span></span>  
<span data-ttu-id="f34c3-879">A feladat-fájl létrehozása a következő specifikációk megszerezni a maximális olvasási és írási IOPS együtt.</span><span class="sxs-lookup"><span data-stu-id="f34c3-879">Create the job file with following specifications to get maximum combined Read and Write IOPS.</span></span> <span data-ttu-id="f34c3-880">Nevezze el a "fioreadwrite.ini".</span><span class="sxs-lookup"><span data-stu-id="f34c3-880">Name it "fioreadwrite.ini".</span></span>

```
[global]
size=30g
direct=1
iodepth=128
ioengine=libaio
bs=4k

[reader1]
rw=randread
directory=/mnt/readcache
[reader2]
rw=randread
directory=/mnt/readcache
[reader3]
rw=randread
directory=/mnt/readcache
[reader4]
rw=randread
directory=/mnt/readcache

[writer1]
rw=randwrite
directory=/mnt/nocache
rate_iops=12500
[writer2]
rw=randwrite
directory=/mnt/nocache
rate_iops=12500
[writer3]
rw=randwrite
directory=/mnt/nocache
rate_iops=12500
[writer4]
rw=randwrite
directory=/mnt/nocache
rate_iops=12500
```

<span data-ttu-id="f34c3-881">Vegye figyelembe a kövesse főbb tényezőket a korábbi szakaszokban ismertetett tervezési irányelveket összhangban legyenek.</span><span class="sxs-lookup"><span data-stu-id="f34c3-881">Note the follow key things that are in line with the design guidelines discussed in previous sections.</span></span> <span data-ttu-id="f34c3-882">Ezen specifikációk elengedhetetlenek meghajtó maximális iops-ről,</span><span class="sxs-lookup"><span data-stu-id="f34c3-882">These specifications are essential to drive maximum IOPS,</span></span>

* <span data-ttu-id="f34c3-883">Magas várólista mélysége 128.</span><span class="sxs-lookup"><span data-stu-id="f34c3-883">A high queue depth of 128.</span></span>  
* <span data-ttu-id="f34c3-884">Kis blokkméret 4 KB-os.</span><span class="sxs-lookup"><span data-stu-id="f34c3-884">A small block size of 4KB.</span></span>  
* <span data-ttu-id="f34c3-885">Véletlenszerű végrehajtása több szál beolvassa és.</span><span class="sxs-lookup"><span data-stu-id="f34c3-885">Multiple threads performing random reads and writes.</span></span>

<span data-ttu-id="f34c3-886">A következő parancsot a FIO teszt 30 másodpercig indítsa</span><span class="sxs-lookup"><span data-stu-id="f34c3-886">Run the following command to kick off the FIO test for 30 seconds,</span></span>

```
sudo fio --runtime 30 fioreadwrite.ini
```

<span data-ttu-id="f34c3-887">A teszt végrehajtása közben lesz, kombinált olvasás száma, és írja iops-érték a virtuális gép, és a Premium lemezek hoz létre.</span><span class="sxs-lookup"><span data-stu-id="f34c3-887">While the test runs, you will be able to see the number of combined read and write IOPS the VM and Premium disks are delivering.</span></span> <span data-ttu-id="f34c3-888">Ahogy az alábbi minta, a DS14 VM elkötelezett több mint 100 000 kombinált olvasási és írási iops-érték.</span><span class="sxs-lookup"><span data-stu-id="f34c3-888">As shown in the sample below, the DS14 VM is delivering more than 100,000 combined Read and Write IOPS.</span></span> <span data-ttu-id="f34c3-889">Ez az a lemez és a gyorsítótár teljesítménye.</span><span class="sxs-lookup"><span data-stu-id="f34c3-889">This is a combination of the disk and the cache performance.</span></span>  
    ![](media/storage-premium-storage-performance/image13.png)

<span data-ttu-id="f34c3-890">*Maximális átviteli sebesség kombinált*</span><span class="sxs-lookup"><span data-stu-id="f34c3-890">*Maximum Combined Throughput*</span></span>  
<span data-ttu-id="f34c3-891">A maximális beolvasandó kombinált olvasási és írási teljesítményt, a nagyobb blokkméret és nagy várólistamélység használata több szál olvasási és írási műveletek végrehajtása.</span><span class="sxs-lookup"><span data-stu-id="f34c3-891">To get the maximum combined Read and Write Throughput, use a larger block size and large queue depth with multiple threads performing reads and writes.</span></span> <span data-ttu-id="f34c3-892">Egy 64 KB-os blokkméretet és 128 várólistamélység is használhatja.</span><span class="sxs-lookup"><span data-stu-id="f34c3-892">You can use a block size of 64KB and queue depth of 128.</span></span>

## <a name="next-steps"></a><span data-ttu-id="f34c3-893">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="f34c3-893">Next Steps</span></span>
<span data-ttu-id="f34c3-894">Ismerje meg a prémium szintű Azure Storage:</span><span class="sxs-lookup"><span data-stu-id="f34c3-894">Learn more about Azure Premium Storage:</span></span>

* [<span data-ttu-id="f34c3-895">Premium Storage: Nagy teljesítményű tárolási szolgáltatás Azure-beli virtuális gépek számítási feladataihoz</span><span class="sxs-lookup"><span data-stu-id="f34c3-895">Premium Storage: High-Performance Storage for Azure Virtual Machine Workloads</span></span>](../storage-premium-storage.md)  

<span data-ttu-id="f34c3-896">SQL Server-felhasználók számára olvassa el az SQL Server teljesítményét gyakorlati tanácsok a cikkek:</span><span class="sxs-lookup"><span data-stu-id="f34c3-896">For SQL Server users, read articles on Performance Best Practices for SQL Server:</span></span>

* [<span data-ttu-id="f34c3-897">Teljesítmény ajánlott eljárások az SQL Server Azure virtuális gépeken</span><span class="sxs-lookup"><span data-stu-id="f34c3-897">Performance Best Practices for SQL Server in Azure Virtual Machines</span></span>](../../virtual-machines/windows/sql/virtual-machines-windows-sql-performance.md)
* [<span data-ttu-id="f34c3-898">Prémium szintű Storage nyújt az SQL Server Azure virtuális gép a lehető legjobb teljesítmény</span><span class="sxs-lookup"><span data-stu-id="f34c3-898">Azure Premium Storage provides highest performance for SQL Server in Azure VM</span></span>](http://blogs.technet.com/b/dataplatforminsider/archive/2015/04/23/azure-premium-storage-provides-highest-performance-for-sql-server-in-azure-vm.aspx)
