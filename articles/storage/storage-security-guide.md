---
title: "Az Azure Storage biztonsági útmutatója |} Microsoft Docs"
description: "A sok védelmének biztosítása az Azure Storage, beleértve többek között a Szerepalapú, Storage szolgáltatás titkosítási, ügyféloldali titkosítás, az SMB 3.0-s és Azure Disk Encryption adatokat."
services: storage
documentationcenter: .net
author: robinsh
manager: timlt
editor: tysonn
ms.assetid: 6f931d94-ef5a-44c6-b1d9-8a3c9c327fb2
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 12/08/2016
ms.author: robinsh
ms.openlocfilehash: 428dcaa8e842077936b7d9b9cb6ac639844c3961
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 08/03/2017
---
# <a name="azure-storage-security-guide"></a><span data-ttu-id="62797-103">Az Azure Storage biztonsági útmutató</span><span class="sxs-lookup"><span data-stu-id="62797-103">Azure Storage security guide</span></span>
## <a name="overview"></a><span data-ttu-id="62797-104">Áttekintés</span><span class="sxs-lookup"><span data-stu-id="62797-104">Overview</span></span>
<span data-ttu-id="62797-105">Az Azure Storage biztonsági képességeket, amelyek együtt lehetővé teszik a fejlesztők számára a biztonságos alkalmazások széles választékát nyújtja.</span><span class="sxs-lookup"><span data-stu-id="62797-105">Azure Storage provides a comprehensive set of security capabilities which together enable developers to build secure applications.</span></span> <span data-ttu-id="62797-106">A tárfiók magát a szerepköralapú hozzáférés-vezérlés és az Azure Active Directory használatával kell biztonságossá.</span><span class="sxs-lookup"><span data-stu-id="62797-106">The storage account itself can be secured using Role-Based Access Control and Azure Active Directory.</span></span> <span data-ttu-id="62797-107">Adatok védve legyenek az alkalmazás és az Azure közötti átvitel során használatával [ügyféloldali titkosítás](storage-client-side-encryption.md), HTTPS és SMB 3.0-s.</span><span class="sxs-lookup"><span data-stu-id="62797-107">Data can be secured in transit between an application and Azure by using [Client-Side Encryption](storage-client-side-encryption.md), HTTPS, or SMB 3.0.</span></span> <span data-ttu-id="62797-108">Adatok automatikusan titkosítja a írni az Azure Storage használatával állítható be [Storage Service Encryption (SSE)](storage-service-encryption.md).</span><span class="sxs-lookup"><span data-stu-id="62797-108">Data can be set to be automatically encrypted when written to Azure Storage using [Storage Service Encryption (SSE)](storage-service-encryption.md).</span></span> <span data-ttu-id="62797-109">Virtuális gépek által használt operációsrendszer- és adatlemezek titkosítja megadható [Azure Disk Encryption](../security/azure-security-disk-encryption.md).</span><span class="sxs-lookup"><span data-stu-id="62797-109">OS and Data disks used by virtual machines can be set to be encrypted using [Azure Disk Encryption](../security/azure-security-disk-encryption.md).</span></span> <span data-ttu-id="62797-110">Meghatalmazott hozzáférést biztosít az adatok objektumok az Azure Storage használatával engedélyezhetők [megosztott hozzáférési aláírásokkal](storage-dotnet-shared-access-signature-part-1.md).</span><span class="sxs-lookup"><span data-stu-id="62797-110">Delegated access to the data objects in Azure Storage can be granted using [Shared Access Signatures](storage-dotnet-shared-access-signature-part-1.md).</span></span>

<span data-ttu-id="62797-111">Ez a cikk nyújt áttekintést. az egyes szolgáltatások az Azure Storage használható.</span><span class="sxs-lookup"><span data-stu-id="62797-111">This article will provide an overview of each of these security features that can be used with Azure Storage.</span></span> <span data-ttu-id="62797-112">A hivatkozások akkor megadott cikket, amely az egyes szolgáltatások részleteit, egyszerűen tegye további vizsgálatra minden témakör.</span><span class="sxs-lookup"><span data-stu-id="62797-112">Links are provided to articles that will give details of each feature so you can easily do further investigation on each topic.</span></span>

<span data-ttu-id="62797-113">Az alábbiakban a témakörök Ez a cikk tárgyalja:</span><span class="sxs-lookup"><span data-stu-id="62797-113">Here are the topics to be covered in this article:</span></span>

* <span data-ttu-id="62797-114">[Felügyeleti Vezérlősík biztonsági](#management-plane-security) – a Tárfiók védelmének biztosítása</span><span class="sxs-lookup"><span data-stu-id="62797-114">[Management Plane Security](#management-plane-security) – Securing your Storage Account</span></span>

  <span data-ttu-id="62797-115">A felügyeleti vezérlősík a tárfiók kezelésére szolgáló erőforrások áll.</span><span class="sxs-lookup"><span data-stu-id="62797-115">The management plane consists of the resources used to manage your storage account.</span></span> <span data-ttu-id="62797-116">Ebben a szakaszban lesz döntésről bővebben az Azure Resource Manager telepítési modell és a szerepköralapú hozzáférés-vezérlést (RBAC) használata a storage-fiókok való hozzáférés vezérlése érdekében.</span><span class="sxs-lookup"><span data-stu-id="62797-116">In this section, we'll talk about the Azure Resource Manager deployment model and how to use Role-Based Access Control (RBAC) to control access to your storage accounts.</span></span> <span data-ttu-id="62797-117">A tárfiókok kulcsait, és hogyan generálja újra őket kezelése is előadás.</span><span class="sxs-lookup"><span data-stu-id="62797-117">We will also talk about managing your storage account keys and how to regenerate them.</span></span>
* <span data-ttu-id="62797-118">[Adatok biztonsági sík](#data-plane-security) – az adatok hozzáférésének biztonságossá tétele</span><span class="sxs-lookup"><span data-stu-id="62797-118">[Data Plane Security](#data-plane-security) – Securing Access to Your Data</span></span>

  <span data-ttu-id="62797-119">Ebben a szakaszban megnézzük, amely hozzáférést biztosít a tényleges adatok objektumok tárfiókba blobok, fájlok, üzenetsorokat és táblákat, például megosztott hozzáférési aláírásokkal és hozzáférési házirendek tárolja.</span><span class="sxs-lookup"><span data-stu-id="62797-119">In this section, we'll look at allowing access to the actual data objects in your Storage account, such as blobs, files, queues, and tables, using Shared Access Signatures and Stored Access Policies.</span></span> <span data-ttu-id="62797-120">Bemutatjuk a szolgáltatásiszint-SAS és a fiók szintű SAS.</span><span class="sxs-lookup"><span data-stu-id="62797-120">We will cover both service-level SAS and account-level SAS.</span></span> <span data-ttu-id="62797-121">Azt is megtudhatja, hogyan korlátozhatja az egy adott IP-cím (vagy az IP-címek), hogyan legyen korlátozva a HTTPS protokoll és egy közös hozzáférésű Jogosultságkód visszavonása lejár való várakozás nélkül.</span><span class="sxs-lookup"><span data-stu-id="62797-121">We'll also see how to limit access to a specific IP address (or range of IP addresses), how to limit the protocol used to HTTPS, and how to revoke a Shared Access Signature without waiting for it to expire.</span></span>
* [<span data-ttu-id="62797-122">Titkosítás az átvitel során</span><span class="sxs-lookup"><span data-stu-id="62797-122">Encryption in Transit</span></span>](#encryption-in-transit)

  <span data-ttu-id="62797-123">Ez a szakasz tárgyalja biztosítani az adatokat, ha azt át virtuális gépbe vagy onnan Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="62797-123">This section discusses how to secure data when you transfer it into or out of Azure Storage.</span></span> <span data-ttu-id="62797-124">Ajánlott a HTTPS és a titkosítás, az Azure fájlmegosztások SMB 3.0 által használt használatáról lesz döntésről.</span><span class="sxs-lookup"><span data-stu-id="62797-124">We'll talk about the recommended use of HTTPS and the encryption used by SMB 3.0 for Azure File shares.</span></span> <span data-ttu-id="62797-125">Most elindítjuk ügyféloldali titkosítás, mely lehetővé teszi az adatok titkosítását az ügyfélalkalmazás továbbított a tárolóba és az adatok visszafejtéséhez után tárolási kivitt egy pillantást is.</span><span class="sxs-lookup"><span data-stu-id="62797-125">We will also take a look at Client-side Encryption, which enables you to encrypt the data before it is transferred into Storage in a client application, and to decrypt the data after it is transferred out of Storage.</span></span>
* [<span data-ttu-id="62797-126">Titkosítás inaktív állapotban</span><span class="sxs-lookup"><span data-stu-id="62797-126">Encryption at Rest</span></span>](#encryption-at-rest)

  <span data-ttu-id="62797-127">Az előadás Storage Service Encryption (SSE), és hogyan engedélyezi azt egy tárfiókot, ami azt eredményezi, a blokkblobokat, lapblobokat, és hozzáfűző blobok Azure tárhelyen, ha az automatikusan titkosított.</span><span class="sxs-lookup"><span data-stu-id="62797-127">We will talk about Storage Service Encryption (SSE), and how you can enable it for a storage account, resulting in your block blobs, page blobs, and append blobs being automatically encrypted when written to Azure Storage.</span></span> <span data-ttu-id="62797-128">Hogyan használja az Azure Disk Encryption, és megismerkedhet az alapvető különbséget és az adatok titkosítása és SSE ügyféloldali titkosítás és esetek is fog keresni.</span><span class="sxs-lookup"><span data-stu-id="62797-128">We will also look at how you can use Azure Disk Encryption and explore the basic differences and cases of Disk Encryption versus SSE versus Client-Side Encryption.</span></span> <span data-ttu-id="62797-129">Röviden: a FIPS előírásainak való megfelelést az USA fog keresni Kormánya számítógépek.</span><span class="sxs-lookup"><span data-stu-id="62797-129">We will briefly look at FIPS compliance for U.S. Government computers.</span></span>
* <span data-ttu-id="62797-130">Használatával [tárolási analitika](#storage-analytics) az Azure Storage-hozzáférés naplózása</span><span class="sxs-lookup"><span data-stu-id="62797-130">Using [Storage Analytics](#storage-analytics) to audit access of Azure Storage</span></span>

  <span data-ttu-id="62797-131">Ez a szakasz ismerteti a storage analytics naplók megkeresése a kérelmek.</span><span class="sxs-lookup"><span data-stu-id="62797-131">This section discusses how to find information in the storage analytics logs for a request.</span></span> <span data-ttu-id="62797-132">Azt bemutatjuk vessen egy pillantást valós tárolási analitika naplóadatokat, lásd: how to megfejteni a behatolók, hogy a kérelem a Tárfiók hívóbetűjét, megosztott hozzáférési aláírással rendelkező vagy névtelenül, illetve hogy az sikeres vagy sikertelen volt.</span><span class="sxs-lookup"><span data-stu-id="62797-132">We'll take a look at real storage analytics log data and see how to discern whether a request is made with the Storage account key, with a Shared Access signature, or anonymously, and whether it succeeded or failed.</span></span>
* [<span data-ttu-id="62797-133">CORS használatával Fiókértékek ügyfelek engedélyezése</span><span class="sxs-lookup"><span data-stu-id="62797-133">Enabling Browser-Based Clients using CORS</span></span>](#Cross-Origin-Resource-Sharing-CORS)

  <span data-ttu-id="62797-134">Ez a szakasz beszél hogyan teszi lehetővé az eltérő eredetű erőforrások megosztása (CORS).</span><span class="sxs-lookup"><span data-stu-id="62797-134">This section talks about how to allow cross-origin resource sharing (CORS).</span></span> <span data-ttu-id="62797-135">Lesz döntésről bővebben a tartományok közötti elérést, és hogyan kezelje az Azure Storage épített CORS funkciókkal.</span><span class="sxs-lookup"><span data-stu-id="62797-135">We'll talk about cross-domain access, and how to handle it with the CORS capabilities built into Azure Storage.</span></span>

## <a name="management-plane-security"></a><span data-ttu-id="62797-136">Felügyeleti Vezérlősík biztonsága</span><span class="sxs-lookup"><span data-stu-id="62797-136">Management Plane Security</span></span>
<span data-ttu-id="62797-137">A felügyeleti vezérlősík-műveletek hatása a tárfiók maga áll.</span><span class="sxs-lookup"><span data-stu-id="62797-137">The management plane consists of operations that affect the storage account itself.</span></span> <span data-ttu-id="62797-138">Például akkor is hozzon létre vagy tárfiók törlése, storage-fiókok listájának beolvasása egy előfizetésben, lekérni a tárfiók kulcsait vagy újragenerálni a tárfiókkulcsokat.</span><span class="sxs-lookup"><span data-stu-id="62797-138">For example, you can create or delete a storage account, get a list of storage accounts in a subscription, retrieve the storage account keys, or regenerate the storage account keys.</span></span>

<span data-ttu-id="62797-139">Amikor létrehoz egy új tárfiókot, akkor klasszikus és Resource Manager telepítési modell kiválasztása.</span><span class="sxs-lookup"><span data-stu-id="62797-139">When you create a new storage account, you select a deployment model of Classic or Resource Manager.</span></span> <span data-ttu-id="62797-140">Az Azure-erőforrások létrehozása a Klasszikus modell csak mindent hozzáférés az előfizetéshez, és a tárfiók viszont lehetővé teszi.</span><span class="sxs-lookup"><span data-stu-id="62797-140">The Classic model of creating resources in Azure only allows all-or-nothing access to the subscription, and in turn, the storage account.</span></span>

<span data-ttu-id="62797-141">Ez az útmutató a Resource Manager modellt, amely az ajánlott módszert storage-fiókok létrehozására összpontosít.</span><span class="sxs-lookup"><span data-stu-id="62797-141">This guide focuses on the Resource Manager model which is the recommended means for creating storage accounts.</span></span> <span data-ttu-id="62797-142">Az erőforrás-kezelő storage-fiókok, nem pedig az egész előfizetésre amely elérésére, és szabályozhatja a hozzáférést a szerepköralapú hozzáférés-vezérlést (RBAC) használata felügyeleti és több véges szinten.</span><span class="sxs-lookup"><span data-stu-id="62797-142">With the Resource Manager storage accounts, rather than giving access to the entire subscription, you can control access on a more finite level to the management plane using Role-Based Access Control (RBAC).</span></span>

### <a name="how-to-secure-your-storage-account-with-role-based-access-control-rbac"></a><span data-ttu-id="62797-143">A storage-fiókkal, és a szerepköralapú hozzáférés-vezérlést (RBAC) biztonságossá tétele</span><span class="sxs-lookup"><span data-stu-id="62797-143">How to secure your storage account with Role-Based Access Control (RBAC)</span></span>
<span data-ttu-id="62797-144">Most szolgáltatással kapcsolatban RBAC van, és hogyan használhatja azt.</span><span class="sxs-lookup"><span data-stu-id="62797-144">Let's talk about what RBAC is, and how you can use it.</span></span> <span data-ttu-id="62797-145">Minden Azure-előfizetés Azure Active Directoryval rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="62797-145">Each Azure subscription has an Azure Active Directory.</span></span> <span data-ttu-id="62797-146">Felhasználók, csoportok és alkalmazások tartalmazza a hozzáférési engedélyt kapnak az Azure-előfizetés a Resource Manager üzembe helyezési modellel használó erőforrások kezelésére.</span><span class="sxs-lookup"><span data-stu-id="62797-146">Users, groups, and applications from that directory can be granted access to manage resources in the Azure subscription that use the Resource Manager deployment model.</span></span> <span data-ttu-id="62797-147">A szerepköralapú hozzáférés-vezérlést (RBAC) nevezzük.</span><span class="sxs-lookup"><span data-stu-id="62797-147">This is referred to as Role-Based Access Control (RBAC).</span></span> <span data-ttu-id="62797-148">A hozzáférés kezeléséhez használja a [Azure-portálon](https://portal.azure.com/), a [Azure CLI-eszközei](../cli-install-nodejs.md), [PowerShell](/powershell/azureps-cmdlets-docs), vagy a [Azure Storage erőforrás szolgáltató REST API-k](https://msdn.microsoft.com/library/azure/mt163683.aspx).</span><span class="sxs-lookup"><span data-stu-id="62797-148">To manage this access, you can use the [Azure portal](https://portal.azure.com/), the [Azure CLI tools](../cli-install-nodejs.md), [PowerShell](/powershell/azureps-cmdlets-docs), or the [Azure Storage Resource Provider REST APIs](https://msdn.microsoft.com/library/azure/mt163683.aspx).</span></span>

<span data-ttu-id="62797-149">A Resource Manager modellt helyezett a tárfiók egy erőforrás-csoport és a vezérlés hozzáférés és azon az Azure Active Directoryval bizonyos tárolási fiók kezelése.</span><span class="sxs-lookup"><span data-stu-id="62797-149">With the Resource Manager model, you put the storage account in a resource group and control access to the management plane of that specific storage account using Azure Active Directory.</span></span> <span data-ttu-id="62797-150">Például biztosíthat bizonyos felhasználók a tárfiókok kulcsait, elérését, amíg más felhasználók megtekinthetik a tárfiók adatait, de nem tud hozzáférni a tárfiók kulcsait.</span><span class="sxs-lookup"><span data-stu-id="62797-150">For example, you can give specific users the ability to access the storage account keys, while other users can view information about the storage account, but cannot access the storage account keys.</span></span>

#### <a name="granting-access"></a><span data-ttu-id="62797-151">Hozzáférés biztosítása</span><span class="sxs-lookup"><span data-stu-id="62797-151">Granting Access</span></span>
<span data-ttu-id="62797-152">Hozzáférés a megfelelő RBAC szerepkört rendel a felhasználók, csoportok és alkalmazások, a megfelelő hatókörben.</span><span class="sxs-lookup"><span data-stu-id="62797-152">Access is granted by assigning the appropriate RBAC role to users, groups, and applications, at the right scope.</span></span> <span data-ttu-id="62797-153">Az egész előfizetésre való hozzáférés biztosításához rendelhet hozzá egy szerepkört az előfizetés szintjén.</span><span class="sxs-lookup"><span data-stu-id="62797-153">To grant access to the entire subscription, you assign a role at the subscription level.</span></span> <span data-ttu-id="62797-154">Engedélyek megadása az erőforráscsoporthoz, maga szerint is engedélyezheti a hozzáférést az összes erőforrást erőforráscsoportban.</span><span class="sxs-lookup"><span data-stu-id="62797-154">You can grant access to all of the resources in a resource group by granting permissions to the resource group itself.</span></span> <span data-ttu-id="62797-155">Konkrét erőforrásokat, például a storage-fiókok rendelhet szerepköröket is.</span><span class="sxs-lookup"><span data-stu-id="62797-155">You can also assign specific roles to specific resources, such as storage accounts.</span></span>

<span data-ttu-id="62797-156">Az alábbiakban a fő pontokat, meg kell ismernie az RBAC használata a kezelési műveletek, az Azure Storage-fiók eléréséhez:</span><span class="sxs-lookup"><span data-stu-id="62797-156">Here are the main points that you need to know about using RBAC to access the management operations of an Azure Storage account:</span></span>

* <span data-ttu-id="62797-157">Ha hozzáférés hozzárendelése alapvetően rendeljen hozzá egy szerepkört a fiók rendelkezik hozzáféréssel kívánt.</span><span class="sxs-lookup"><span data-stu-id="62797-157">When you assign access, you basically assign a role to the account that you want to have access.</span></span> <span data-ttu-id="62797-158">Szabályozhatja a hozzáférést a tárolási fiók kezeléséhez használt műveleteket, de nem a data objects a fiókban.</span><span class="sxs-lookup"><span data-stu-id="62797-158">You can control access to the operations used to manage that storage account, but not to the data objects in the account.</span></span> <span data-ttu-id="62797-159">Például engedélyt adhat beolvasni a tulajdonságokat a tárfiók (például a redundancia érdekében), de nem a tároló vagy egy belül a Blob Storage tárolóban lévő adatok.</span><span class="sxs-lookup"><span data-stu-id="62797-159">For example, you can grant permission to retrieve the properties of the storage account (such as redundancy), but not to a container or data within a container inside Blob Storage.</span></span>
* <span data-ttu-id="62797-160">Mások számára, hogy rendelkezik hozzáféréssel a data objects a tárfiókban lévő őket engedélyt adhat a tárfiókkulcsokat olvasni, és, hogy a felhasználó használhatja ezeknek a kulcsoknak a BLOB, a várólisták, a táblák és a fájlok eléréséhez.</span><span class="sxs-lookup"><span data-stu-id="62797-160">For someone to have permission to access the data objects in the storage account, you can give them permission to read the storage account keys, and that user can then use those keys to access the blobs, queues, tables, and files.</span></span>
* <span data-ttu-id="62797-161">Szerepkörök rendelhetők hozzá egy adott felhasználói fiók, a felhasználók egy csoportját, vagy egy adott alkalmazáshoz.</span><span class="sxs-lookup"><span data-stu-id="62797-161">Roles can be assigned to a specific user account, a group of users, or to a specific application.</span></span>
* <span data-ttu-id="62797-162">Minden szerepkörhöz műveletek és a nem műveletek listáját.</span><span class="sxs-lookup"><span data-stu-id="62797-162">Each role has a list of Actions and Not Actions.</span></span> <span data-ttu-id="62797-163">Például a virtuális gép közreműködő szerepkörrel rendelkezik "listKeys" művelet, amely lehetővé teszi, hogy a tárfiók kulcsait kell olvasni.</span><span class="sxs-lookup"><span data-stu-id="62797-163">For example, the Virtual Machine Contributor role has an Action of "listKeys" that allows the storage account keys to be read.</span></span> <span data-ttu-id="62797-164">A közreműködői "Nem műveletek" rendelkezik, ilyen például az Active Directory felhasználók hozzáférésének frissítés.</span><span class="sxs-lookup"><span data-stu-id="62797-164">The Contributor has "Not Actions" such as updating the access for users in the Active Directory.</span></span>
* <span data-ttu-id="62797-165">Tárolási szerepkörei tartalmazzák (azonban nem csak) a következő:</span><span class="sxs-lookup"><span data-stu-id="62797-165">Roles for storage include (but are not limited to) the following:</span></span>

  * <span data-ttu-id="62797-166">Tulajdonos – azok mindent felügyelhetnek, beleértve a hozzáférést.</span><span class="sxs-lookup"><span data-stu-id="62797-166">Owner – They can manage everything, including access.</span></span>
  * <span data-ttu-id="62797-167">Közreműködő – azok is végrehajthat a tulajdonos is kivéve hozzáférés hozzárendelése.</span><span class="sxs-lookup"><span data-stu-id="62797-167">Contributor – They can do anything the owner can do except assign access.</span></span> <span data-ttu-id="62797-168">Ezzel a szerepkörrel rendelkező bármely személy megtekintheti, és a tárfiókkulcsok újragenerálása.</span><span class="sxs-lookup"><span data-stu-id="62797-168">Someone with this role can view and regenerate the storage account keys.</span></span> <span data-ttu-id="62797-169">A tárfiókok kulcsait, az adatok objektumok eléréséhez.</span><span class="sxs-lookup"><span data-stu-id="62797-169">With the storage account keys, they can access the data objects.</span></span>
  * <span data-ttu-id="62797-170">Olvasó – akkor megtekintheti a titkos kulcsok kivételével a tárfiók adatait.</span><span class="sxs-lookup"><span data-stu-id="62797-170">Reader – They can view information about the storage account, except secrets.</span></span> <span data-ttu-id="62797-171">Például ha valaki egy olvasási engedéllyel a tárfiók szerepkört rendel, akkor megtekintheti a storage-fiók tulajdonságait, de nem módosítja a tulajdonságokat és a tárfiók kulcsait megtekintése.</span><span class="sxs-lookup"><span data-stu-id="62797-171">For example, if you assign a role with reader permissions on the storage account to someone, they can view the properties of the storage account, but they can't make any changes to the properties or view the storage account keys.</span></span>
  * <span data-ttu-id="62797-172">Tárolási fiók közreműködői – kezelésére a tárfiók – elolvasása az előfizetés erőforráscsoportok és erőforrásokat, és hozzon létre és előfizetés erőforrás csoport központi telepítések felügyeletéhez szükséges.</span><span class="sxs-lookup"><span data-stu-id="62797-172">Storage Account Contributor – They can manage the storage account – they can read the subscription's resource groups and resources, and create and manage subscription resource group deployments.</span></span> <span data-ttu-id="62797-173">A tárfiókok kulcsait, ami viszont azt jelenti, hogy az adatok vezérlősík eléréséhez is eléréséhez.</span><span class="sxs-lookup"><span data-stu-id="62797-173">They can also access the storage account keys, which in turn means they can access the data plane.</span></span>
  * <span data-ttu-id="62797-174">Felhasználói hozzáférés adminisztrátora – azok is felügyelheti a felhasználók hozzáférését a tárfiókhoz.</span><span class="sxs-lookup"><span data-stu-id="62797-174">User Access Administrator – They can manage user access to the storage account.</span></span> <span data-ttu-id="62797-175">Például hogy hozzáférést biztosíthat olvasó egy adott felhasználó.</span><span class="sxs-lookup"><span data-stu-id="62797-175">For example, they can grant Reader access to a specific user.</span></span>
  * <span data-ttu-id="62797-176">Virtuális gép közreműködő – kezelésére virtuális gépek, de nem a tárfiókot, amelyhez csatlakoznak.</span><span class="sxs-lookup"><span data-stu-id="62797-176">Virtual Machine Contributor – They can manage virtual machines but not the storage account to which they are connected.</span></span> <span data-ttu-id="62797-177">Ez a szerepkör is listázhatja a tárfiókok kulcsait, ami azt jelenti, hogy a felhasználó, akinek a szerepkör hozzárendelése frissítheti az adatok vezérlősík.</span><span class="sxs-lookup"><span data-stu-id="62797-177">This role can list the storage account keys, which means that the user to whom you assign this role can update the data plane.</span></span>

    <span data-ttu-id="62797-178">Ahhoz, hogy a felhasználót, hogy a virtuális gép létrehozása rendelkeznek a megfelelő VHD-fájlt létrehozni a tárfiók.</span><span class="sxs-lookup"><span data-stu-id="62797-178">In order for a user to create a virtual machine, they have to be able to create the corresponding VHD file in a storage account.</span></span> <span data-ttu-id="62797-179">Ehhez kell tudni lekérni a tárfiók hívóbetűjét, és adja át az API-t a virtuális gép létrehozása.</span><span class="sxs-lookup"><span data-stu-id="62797-179">To do that, they need to be able to retrieve the storage account key and pass it to the API creating the VM.</span></span> <span data-ttu-id="62797-180">Ezért ezek is listázhatja a tárfiókkulcsokat, ezzel az engedéllyel kell rendelkezniük.</span><span class="sxs-lookup"><span data-stu-id="62797-180">Therefore, they must have this permission so they can list the storage account keys.</span></span>
* <span data-ttu-id="62797-181">Egyéni szerepkörök definiálása nem olyan funkció, amely lehetővé teszi a különböző műveleteket listájából elérhető Azure-erőforrások a végrehajtható műveletek összeállításához.</span><span class="sxs-lookup"><span data-stu-id="62797-181">The ability to define custom roles is a feature that allows you to compose a set of actions from a list of available actions that can be performed on Azure resources.</span></span>
* <span data-ttu-id="62797-182">A felhasználó rendelkezik-e beállítása az Azure Active Directoryban előtt szerepkör rendelhet hozzájuk.</span><span class="sxs-lookup"><span data-stu-id="62797-182">The user has to be set up in your Azure Active Directory before you can assign a role to them.</span></span>
* <span data-ttu-id="62797-183">Ki megadott vagy visszavont milyen típusú hozzáférést és a akinek, és milyen hatókörben, a PowerShell vagy az Azure parancssori felület jelentést hozhat létre.</span><span class="sxs-lookup"><span data-stu-id="62797-183">You can create a report of who granted/revoked what kind of access to/from whom and on what scope using PowerShell or the Azure CLI.</span></span>

#### <a name="resources"></a><span data-ttu-id="62797-184">Erőforrások</span><span class="sxs-lookup"><span data-stu-id="62797-184">Resources</span></span>
* [<span data-ttu-id="62797-185">Azure Active Directory szerepköralapú hozzáférés-vezérlése</span><span class="sxs-lookup"><span data-stu-id="62797-185">Azure Active Directory Role-based Access Control</span></span>](../active-directory/role-based-access-control-configure.md)

  <span data-ttu-id="62797-186">Ez a cikk az Azure Active Directory szerepkörön alapuló hozzáférés-vezérlését és annak működési módját ismerteti.</span><span class="sxs-lookup"><span data-stu-id="62797-186">This article explains the Azure Active Directory Role-based Access Control and how it works.</span></span>
* [<span data-ttu-id="62797-187">RBAC: Beépített szerepkörök</span><span class="sxs-lookup"><span data-stu-id="62797-187">RBAC: Built in Roles</span></span>](../active-directory/role-based-access-built-in-roles.md)

  <span data-ttu-id="62797-188">Ez a cikk részletezi az összes elérhető RBAC beépített szerepkör.</span><span class="sxs-lookup"><span data-stu-id="62797-188">This article details all of the built-in roles available in RBAC.</span></span>
* [<span data-ttu-id="62797-189">A Resource Manager-alapú és a klasszikus üzembe helyezés ismertetése</span><span class="sxs-lookup"><span data-stu-id="62797-189">Understanding Resource Manager deployment and classic deployment</span></span>](../azure-resource-manager/resource-manager-deployment-model.md)

  <span data-ttu-id="62797-190">Ez a cikk ismerteti a Resource Manager telepítés és a klasszikus üzembe helyezési modellel, és a Resource Manager és az erőforrás-csoportok használata előnyeinek bemutatása.</span><span class="sxs-lookup"><span data-stu-id="62797-190">This article explains the Resource Manager deployment and classic deployment models, and explains the benefits of using the Resource Manager and resource groups.</span></span> <span data-ttu-id="62797-191">A Resource Manager modellben az Azure számítási, hálózati és tárolási szolgáltatók működése ismerteti.</span><span class="sxs-lookup"><span data-stu-id="62797-191">It explains how the Azure Compute, Network, and Storage Providers work under the Resource Manager model.</span></span>
* [<span data-ttu-id="62797-192">Szerepköralapú hozzáférés-vezérlés kezelése REST API-val</span><span class="sxs-lookup"><span data-stu-id="62797-192">Managing Role-Based Access Control with the REST API</span></span>](../active-directory/role-based-access-control-manage-access-rest.md)

  <span data-ttu-id="62797-193">Ez a cikk leírja, hogyan használható a REST API az RBAC kezeléséhez.</span><span class="sxs-lookup"><span data-stu-id="62797-193">This article shows how to use the REST API to manage RBAC.</span></span>
* [<span data-ttu-id="62797-194">Az Azure Storage erőforrás szolgáltató REST API-referencia</span><span class="sxs-lookup"><span data-stu-id="62797-194">Azure Storage Resource Provider REST API Reference</span></span>](https://msdn.microsoft.com/library/azure/mt163683.aspx)

  <span data-ttu-id="62797-195">Ez egy, az API-k segítségével a tárfiók kezelése programozott módon mutató hivatkozás.</span><span class="sxs-lookup"><span data-stu-id="62797-195">This is the reference for the APIs you can use to manage your storage account programmatically.</span></span>
* [<span data-ttu-id="62797-196">A hitelesítés az Azure Resource Manager API-JÁVAL fejlesztői útmutató</span><span class="sxs-lookup"><span data-stu-id="62797-196">Developer's guide to auth with Azure Resource Manager API</span></span>](http://www.dushyantgill.com/blog/2015/05/23/developers-guide-to-auth-with-azure-resource-manager-api/)

  <span data-ttu-id="62797-197">Ez a cikk bemutatja, hogyan hitelesítheti a Resource Manager API-k használatával.</span><span class="sxs-lookup"><span data-stu-id="62797-197">This article shows how to authenticate using the Resource Manager APIs.</span></span>
* [<span data-ttu-id="62797-198">Szerepköralapú hozzáférés-vezérlés az Ignite-tól a Microsoft Azure számára</span><span class="sxs-lookup"><span data-stu-id="62797-198">Role-Based Access Control for Microsoft Azure from Ignite</span></span>](https://channel9.msdn.com/events/Ignite/2015/BRK2707)

  <span data-ttu-id="62797-199">Ez a hivatkozás a Channel 9 2015-ös MS Ignite-konferencia videójára mutat.</span><span class="sxs-lookup"><span data-stu-id="62797-199">This is a link to a video on Channel 9 from the 2015 MS Ignite conference.</span></span> <span data-ttu-id="62797-200">Ebben a részben arról beszélnek, milyen hozzáférés-kezelési és jelentési képességeket nyújt az Azure, és bemutatják az Azure-előfizetés hozzáférés-biztosításának legjobb gyakorlatait az Azure Active Directory használatával.</span><span class="sxs-lookup"><span data-stu-id="62797-200">In this session, they talk about access management and reporting capabilities in Azure, and explore best practices around securing access to Azure subscriptions using Azure Active Directory.</span></span>

### <a name="managing-your-storage-account-keys"></a><span data-ttu-id="62797-201">A Tárfiók kulcsait kezelése</span><span class="sxs-lookup"><span data-stu-id="62797-201">Managing Your Storage Account Keys</span></span>
<span data-ttu-id="62797-202">Tárfiókkulcsok olyan hozta létre, amely a tárfiók nevét, valamint a tárfiókban tárolt adatok objektumok eléréséhez használható, például blobok, egy táblát, üzenetsor-üzeneteket és Azure File megosztáson belüli Azure 512 bites karakterláncok.</span><span class="sxs-lookup"><span data-stu-id="62797-202">Storage account keys are 512-bit strings created by Azure that, along with the storage account name, can be used to access the data objects stored in the storage account, e.g. blobs, entities within a table, queue messages, and files on an Azure File share.</span></span> <span data-ttu-id="62797-203">A tárolási fiók kulcsok szabályozza a hozzáférést az adatok vezérlősík tárolási fiók hozzáférés szabályozása.</span><span class="sxs-lookup"><span data-stu-id="62797-203">Controlling access to the storage account keys controls access to the data plane for that storage account.</span></span>

<span data-ttu-id="62797-204">Minden tárfiók néven "1. kulcs" és "Kulcs 2" a két kulcs van a [Azure-portálon](http://portal.azure.com/) és a PowerShell-parancsmagokkal.</span><span class="sxs-lookup"><span data-stu-id="62797-204">Each storage account has two keys referred to as "Key 1" and "Key 2" in the [Azure portal](http://portal.azure.com/) and in the PowerShell cmdlets.</span></span> <span data-ttu-id="62797-205">Ezek helyreállíthatja segítségével többféle módszer, beleértve, de nem kizárólagosan használatával manuálisan a [Azure-portálon](https://portal.azure.com/), PowerShell, az Azure CLI vagy programozott módon, a .NET a Storage ügyféloldali kódtára vagy az Azure Storage szolgáltatások REST API felülete.</span><span class="sxs-lookup"><span data-stu-id="62797-205">These can be regenerated manually using one of several methods, including, but not limited to using the [Azure portal](https://portal.azure.com/), PowerShell, the Azure CLI, or programmatically using the .NET Storage Client Library or the Azure Storage Services REST API.</span></span>

<span data-ttu-id="62797-206">Tetszőleges számú újragenerálni a tárfiókkulcsokat okok miatt van.</span><span class="sxs-lookup"><span data-stu-id="62797-206">There are any number of reasons to regenerate your storage account keys.</span></span>

* <span data-ttu-id="62797-207">Előfordulhat, hogy generálja újra őket rendszeresen biztonsági okokból.</span><span class="sxs-lookup"><span data-stu-id="62797-207">You might regenerate them on a regular basis for security reasons.</span></span>
* <span data-ttu-id="62797-208">A tárfiók kulcsait volna generálja újra, ha valaki felügyelt ellophatja egy alkalmazásba, és lekérni a kulcsot, szoftveresen kötött vagy menteni a konfigurációs fájlban adjon teljes hozzáférést a tárfiókhoz.</span><span class="sxs-lookup"><span data-stu-id="62797-208">You would regenerate your storage account keys if someone managed to hack into an application and retrieve the key that was hardcoded or saved in a configuration file, giving them full access to your storage account.</span></span>
* <span data-ttu-id="62797-209">Egy másik eset a kulcs újragenerálása, ha a csapatával használ egy Tártallózó alkalmazást, amely megőrzi a tárfiók hívóbetűjét, és egy csoport tagja.</span><span class="sxs-lookup"><span data-stu-id="62797-209">Another case for key regeneration is if your team is using a Storage Explorer application that retains the storage account key, and one of the team members leaves.</span></span> <span data-ttu-id="62797-210">Az alkalmazás akkor is működik, hozzáférést kaphatnak a tárfiók után már nem fontosságúak.</span><span class="sxs-lookup"><span data-stu-id="62797-210">The application would continue to work, giving them access to your storage account after they're gone.</span></span> <span data-ttu-id="62797-211">Ez oka ténylegesen az elsődleges fiók szintű megosztott hozzáférési aláírásokkal hozza létre őket – használhat egy fiók szintű SAS helyett a tárelérési kulcsok tárolása egy konfigurációs fájlban.</span><span class="sxs-lookup"><span data-stu-id="62797-211">This is actually the primary reason they created account-level Shared Access Signatures – you can use an account-level SAS instead of storing the access keys in a configuration file.</span></span>

#### <a name="key-regeneration-plan"></a><span data-ttu-id="62797-212">Kulcs újragenerálása terv</span><span class="sxs-lookup"><span data-stu-id="62797-212">Key regeneration plan</span></span>
<span data-ttu-id="62797-213">Nem kívánja most újragenerálja a kulcsot, néhány tervezés nélkül használ.</span><span class="sxs-lookup"><span data-stu-id="62797-213">You don't want to just regenerate the key you are using without some planning.</span></span> <span data-ttu-id="62797-214">Ha így tesz, akkor a tárolási fiók, amely súlyos problémákat okozhat levágási sikerült minden hozzáférés.</span><span class="sxs-lookup"><span data-stu-id="62797-214">If you do that, you could cut off all access to that storage account, which can cause major disruption.</span></span> <span data-ttu-id="62797-215">Ezért két kulcs van.</span><span class="sxs-lookup"><span data-stu-id="62797-215">This is why there are two keys.</span></span> <span data-ttu-id="62797-216">Egyszerre csak egy kulcs kell generálni.</span><span class="sxs-lookup"><span data-stu-id="62797-216">You should regenerate one key at a time.</span></span>

<span data-ttu-id="62797-217">Mielőtt újragenerálja a kulcsokat, mindenképpen az alkalmazásokat, amelyek a tárfiók függenek, valamint használ az Azure-szolgáltatások listáját.</span><span class="sxs-lookup"><span data-stu-id="62797-217">Before you regenerate your keys, be sure you have a list of all of your applications that are dependent on the storage account, as well as any other services you are using in Azure.</span></span> <span data-ttu-id="62797-218">Például ha a tárfiók függő Azure Media Services használ, újra kell szinkronizálnia a tárelérési kulcsokat a médiaszolgáltatással után újragenerálja a kulcsot.</span><span class="sxs-lookup"><span data-stu-id="62797-218">For example, if you are using Azure Media Services that are dependent on your storage account, you must re-sync the access keys with your media service after you regenerate the key.</span></span> <span data-ttu-id="62797-219">Az alkalmazásokat, például a Tártallózó alkalmazással használ, ha szüksége lesz arra, hogy ezeket az alkalmazásokat, valamint az új kulccsal.</span><span class="sxs-lookup"><span data-stu-id="62797-219">If you are using any applications such as a storage explorer, you will need to provide the new keys to those applications as well.</span></span> <span data-ttu-id="62797-220">Vegye figyelembe, hogy ha virtuális gépeket, amelyek VHD-fájlokat a tárfiók vannak tárolva, nem vonatkoznak rá a tárfiókkulcsok újragenerálása által.</span><span class="sxs-lookup"><span data-stu-id="62797-220">Note that if you have VMs whose VHD files are stored in the storage account, they will not be affected by regenerating the storage account keys.</span></span>

<span data-ttu-id="62797-221">A kulcsok az Azure-portálon állíthatja helyre.</span><span class="sxs-lookup"><span data-stu-id="62797-221">You can regenerate your keys in the Azure portal.</span></span> <span data-ttu-id="62797-222">Miután kulcsok újragenerálása van azok tárolási szolgáltatások közötti szinkronizálását. legfeljebb 10 percig is tarthat.</span><span class="sxs-lookup"><span data-stu-id="62797-222">Once keys are regenerated they can take up to 10 minutes to be synchronized across Storage Services.</span></span>

<span data-ttu-id="62797-223">Ha elkészült, ez az általános folyamat, és részletesen leírja, hogyan kell módosítani a kulcsot.</span><span class="sxs-lookup"><span data-stu-id="62797-223">When you're ready, here's the general process detailing how you should change your key.</span></span> <span data-ttu-id="62797-224">Ebben az esetben a feltételezi, hogy jelenleg használt kulcs 1, és mindent kulcs 2 inkább módosítani kívánja.</span><span class="sxs-lookup"><span data-stu-id="62797-224">In this case, the assumption is that you are currently using Key 1 and you are going to change everything to use Key 2 instead.</span></span>

1. <span data-ttu-id="62797-225">Újragenerálja a kulcsot a 2. Győződjön meg arról, hogy biztonságos.</span><span class="sxs-lookup"><span data-stu-id="62797-225">Regenerate Key 2 to ensure that it is secure.</span></span> <span data-ttu-id="62797-226">Ez az Azure portálon teheti meg.</span><span class="sxs-lookup"><span data-stu-id="62797-226">You can do this in the Azure portal.</span></span>
2. <span data-ttu-id="62797-227">Az összes alkalmazást a biztonságitár-kulcs tárolására módosítsa a kulcs új kulcs 2 értéket használja.</span><span class="sxs-lookup"><span data-stu-id="62797-227">In all of the applications where the storage key is stored, change the storage key to use Key 2's new value.</span></span> <span data-ttu-id="62797-228">Tesztelje, és tegye közzé az alkalmazást.</span><span class="sxs-lookup"><span data-stu-id="62797-228">Test and publish the application.</span></span>
3. <span data-ttu-id="62797-229">Ha minden az alkalmazások és szolgáltatások működik, és megfelelően fut-e., generálja újra a kulcs 1.</span><span class="sxs-lookup"><span data-stu-id="62797-229">After all of the applications and services are up and running successfully, regenerate Key 1.</span></span> <span data-ttu-id="62797-230">Ez biztosítja, hogy birtokában bárki számára, akihez nem kifejezetten adott az új kulcs már nem fog hozzáférni a tárfiókhoz.</span><span class="sxs-lookup"><span data-stu-id="62797-230">This ensures that anybody to whom you have not expressly given the new key will no longer have access to the storage account.</span></span>

<span data-ttu-id="62797-231">Ha a jelenleg használt kulcs 2, ugyanazzal az eljárással, de a kulcsnevek fordított.</span><span class="sxs-lookup"><span data-stu-id="62797-231">If you are currently using Key 2, you can use the same process, but reverse the key names.</span></span>

<span data-ttu-id="62797-232">Néhány napon keresztül áttelepítése módosítása egyes alkalmazásokat, az új kulcsot használják, és a közzététel.</span><span class="sxs-lookup"><span data-stu-id="62797-232">You can migrate over a couple of days, changing each application to use the new key and publishing it.</span></span> <span data-ttu-id="62797-233">Után az összes befejezése után meg kell majd lépjen vissza, és a régi kulcs újragenerálása, így már nem működik.</span><span class="sxs-lookup"><span data-stu-id="62797-233">After all of them are done, you should then go back and regenerate the old key so it no longer works.</span></span>

<span data-ttu-id="62797-234">Egy másik lehetőség a tárfiók hívóbetűjét elhelyezése egy [Azure Key Vault](https://azure.microsoft.com/services/key-vault/) valamilyen titkos adatot, és rendelkezik az alkalmazások kulcs lekérését onnan.</span><span class="sxs-lookup"><span data-stu-id="62797-234">Another option is to put the storage account key in an [Azure Key Vault](https://azure.microsoft.com/services/key-vault/) as a secret and have your applications retrieve the key from there.</span></span> <span data-ttu-id="62797-235">Majd amikor újragenerálja a kulcsot, és frissítse az Azure Key Vault, az alkalmazások nem kell újratelepítése, mert azok felveszi az új kulcsot az Azure Key Vault automatikusan.</span><span class="sxs-lookup"><span data-stu-id="62797-235">Then when you regenerate the key and update the Azure Key Vault, the applications will not need to be redeployed because they will pick up the new key from the Azure Key Vault automatically.</span></span> <span data-ttu-id="62797-236">Vegye figyelembe, hogy az alkalmazás olvassa a kulcsot minden alkalommal, amikor szükség lehet, vagy gyorsítótár, a memória, és használja azt, ha nem sikerül lekérni a kulcsot újra az Azure Key Vaulthoz.</span><span class="sxs-lookup"><span data-stu-id="62797-236">Note that you can have the application read the key each time you need it, or you can cache it in memory and if it fails when using it, retrieve the key again from the Azure Key Vault.</span></span>

<span data-ttu-id="62797-237">Az Azure Key Vault használatával is egy másik védelmet biztosít a kulcsok számára.</span><span class="sxs-lookup"><span data-stu-id="62797-237">Using Azure Key Vault also adds another level of security for your storage keys.</span></span> <span data-ttu-id="62797-238">Ezt a módszert használja, ha soha nem lesz a tárolási kulcs szoftveresen kötött a konfigurációs fájlban, amely egy, a kulcsok külön engedélye nélkül hozzáférést az adott erőfeszítések eltávolítja.</span><span class="sxs-lookup"><span data-stu-id="62797-238">If you use this method, you will never have the storage key hardcoded in a configuration file, which removes that avenue of somebody getting access to the keys without specific permission.</span></span>

<span data-ttu-id="62797-239">Egy másik Azure Key Vault előnye is szabályozhatja a hozzáférést a kulcsokat az Azure Active Directoryval.</span><span class="sxs-lookup"><span data-stu-id="62797-239">Another advantage of using Azure Key Vault is you can also control access to your keys using Azure Active Directory.</span></span> <span data-ttu-id="62797-240">Ez azt jelenti, hogy a néhány olyan alkalmazásokat, amelyek a kulcsok lekérése az Azure Key Vault és tudja, hogy más alkalmazások nem tudják anélkül, hogy azok kifejezetten engedéllyel kellene kulcsok eléréséhez szükséges hozzáférést biztosíthat.</span><span class="sxs-lookup"><span data-stu-id="62797-240">This means you can grant access to the handful of applications that need to retrieve the keys from Azure Key Vault, and know that other applications will not be able to access the keys without granting them permission specifically.</span></span>

<span data-ttu-id="62797-241">Megjegyzés: ajánlott használni a kulcsok közül csak az alkalmazásokat egy időben.</span><span class="sxs-lookup"><span data-stu-id="62797-241">Note: it is recommended to use only one of the keys in all of your applications at the same time.</span></span> <span data-ttu-id="62797-242">Az egyes helyek kulcs 1 és más kulcs 2 használatakor csak akkor tudja forgassa el a kulcsok egy alkalmazás-hozzáférés elvesztése nélkül.</span><span class="sxs-lookup"><span data-stu-id="62797-242">If you use Key 1 in some places and Key 2 in others, you will not be able to rotate your keys without some application losing access.</span></span>

#### <a name="resources"></a><span data-ttu-id="62797-243">Erőforrások</span><span class="sxs-lookup"><span data-stu-id="62797-243">Resources</span></span>
* [<span data-ttu-id="62797-244">Az Azure Storage-fiókokról</span><span class="sxs-lookup"><span data-stu-id="62797-244">About Azure Storage Accounts</span></span>](storage-create-storage-account.md#regenerate-storage-access-keys)

  <span data-ttu-id="62797-245">A cikk áttekintést nyújt a tárfiókok, valamint ismerteti a megtekintése, másolása és tárelérési kulcsok újragenerálása.</span><span class="sxs-lookup"><span data-stu-id="62797-245">This article gives an overview of storage accounts and discusses viewing, copying, and regenerating storage access keys.</span></span>
* [<span data-ttu-id="62797-246">Az Azure Storage erőforrás szolgáltató REST API-referencia</span><span class="sxs-lookup"><span data-stu-id="62797-246">Azure Storage Resource Provider REST API Reference</span></span>](https://msdn.microsoft.com/library/mt163683.aspx)

  <span data-ttu-id="62797-247">Ez a cikk a tárfiókkulcsokat beolvasása és a tárfiókkulcsok újragenerálása egy Azure-fiók a REST API használatával meghatározott cikkek mutató hivatkozásokat tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="62797-247">This article contains links to specific articles about retrieving the storage account keys and regenerating the storage account keys for an Azure Account using the REST API.</span></span> <span data-ttu-id="62797-248">Megjegyzés: Ez az erőforrás-kezelő storage-fiókok.</span><span class="sxs-lookup"><span data-stu-id="62797-248">Note: This is for  Resource Manager storage accounts.</span></span>
* [<span data-ttu-id="62797-249">A storage-fiókok műveletek</span><span class="sxs-lookup"><span data-stu-id="62797-249">Operations on storage accounts</span></span>](https://msdn.microsoft.com/library/ee460790.aspx)

  <span data-ttu-id="62797-250">Ez a cikk a Service Manager tárolási REST API-referencia a meghatározott cikkek beolvasása és a REST API használatával tárfiókkulcsok újragenerálása mutató hivatkozásokat tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="62797-250">This article in the Storage Service Manager REST API Reference contains links to specific articles on retrieving and regenerating the storage account keys using the REST API.</span></span> <span data-ttu-id="62797-251">Megjegyzés: Ez a klasszikus tárfiókokkal.</span><span class="sxs-lookup"><span data-stu-id="62797-251">Note: This is for the Classic storage accounts.</span></span>
* [<span data-ttu-id="62797-252">Sem kell kulcskezelés – az Azure AD az Azure Storage-adatokkal való hozzáférés kezelése</span><span class="sxs-lookup"><span data-stu-id="62797-252">Say goodbye to key management – manage access to Azure Storage data using Azure AD</span></span>](http://www.dushyantgill.com/blog/2015/04/26/say-goodbye-to-key-management-manage-access-to-azure-storage-data-using-azure-ad/)

  <span data-ttu-id="62797-253">Ez a cikk bemutatja, hogyan Active Directory használata az Azure Storage kulcsok Azure Key Vault való hozzáférés szabályozása.</span><span class="sxs-lookup"><span data-stu-id="62797-253">This article shows how to use Active Directory to control access to your Azure Storage keys in Azure Key Vault.</span></span> <span data-ttu-id="62797-254">Azt is bemutatja, hogyan újragenerálja a kulcsokat óránként egy Azure Automation-feladat segítségével.</span><span class="sxs-lookup"><span data-stu-id="62797-254">It also shows how to use an Azure Automation job to regenerate the keys on an hourly basis.</span></span>

## <a name="data-plane-security"></a><span data-ttu-id="62797-255">Adatbiztonság Vezérlősík</span><span class="sxs-lookup"><span data-stu-id="62797-255">Data Plane Security</span></span>
<span data-ttu-id="62797-256">Adatbiztonság Vezérlősík védi az Azure Storage – a BLOB, a várólisták, a táblák és a fájlok tárolt adatok objektumok módszerek hivatkozik.</span><span class="sxs-lookup"><span data-stu-id="62797-256">Data Plane Security refers to the methods used to secure the data objects stored in Azure Storage – the blobs, queues, tables, and files.</span></span> <span data-ttu-id="62797-257">Is láttuk módszerek titkosítani az adatokat és a biztonsági adatok átvitel során, de hogyan továbblépne hozzáféréssel az objektumokhoz információ?</span><span class="sxs-lookup"><span data-stu-id="62797-257">We've seen methods to encrypt the data and security during transit of the data, but how do you go about allowing access to the objects?</span></span>

<span data-ttu-id="62797-258">Alapvetően két módszer az adatok objektumokban hozzáférés szabályozása.</span><span class="sxs-lookup"><span data-stu-id="62797-258">There are basically two methods for controlling access to the data objects themselves.</span></span> <span data-ttu-id="62797-259">Az első a tárfiókkulcsokat való hozzáférés vezérlése, és a második megosztott hozzáférési aláírásokkal való hozzáférést egy adott időtartamig meghatározott objektumok.</span><span class="sxs-lookup"><span data-stu-id="62797-259">The first is by controlling access to the storage account keys, and the second is using Shared Access Signatures to grant access to specific data objects for a specific amount of time.</span></span>

<span data-ttu-id="62797-260">Megjegyzés: az egyetlen kivétel, hogy nyilvános hozzáférést biztosíthat a blobok úgy, hogy a hozzáférési szint a tároló, amely tárolja a blobok ennek megfelelően.</span><span class="sxs-lookup"><span data-stu-id="62797-260">One exception to note is that you can allow public access to your blobs by setting the access level for the container that holds the blobs accordingly.</span></span> <span data-ttu-id="62797-261">Hozzáférés egy tárolót a Blob vagy tároló állítja be, ha engedélyezi az adott tárolóban lévő blobok nyilvános olvasási hozzáférés.</span><span class="sxs-lookup"><span data-stu-id="62797-261">If you set access for a container to Blob or Container, it will allow public read access for the blobs in that container.</span></span> <span data-ttu-id="62797-262">Ez azt jelenti, hogy bárki, aki egy adott tárolóban lévő blob mutató URL-címet is nyissa meg a böngésző segítségével egy közös hozzáférésű Jogosultságkód-nak a tárfiókok kulcsait, vagy nélkül.</span><span class="sxs-lookup"><span data-stu-id="62797-262">This means anyone with a URL pointing to a blob in that container can open it in a browser without using a Shared Access Signature or having the storage account keys.</span></span>

### <a name="storage-account-keys"></a><span data-ttu-id="62797-263">Tárfiókkulcsok</span><span class="sxs-lookup"><span data-stu-id="62797-263">Storage Account Keys</span></span>
<span data-ttu-id="62797-264">Tárfiókkulcsok olyan 512 bites karakterláncok hozta létre Azure használható, a tárfiók nevét, valamint a tárfiókban tárolt adatok objektumok eléréséhez.</span><span class="sxs-lookup"><span data-stu-id="62797-264">Storage account keys are 512-bit strings created by Azure that, along with the storage account name, can be used to access the data objects stored in the storage account.</span></span>

<span data-ttu-id="62797-265">Például akkor is olvassa el a BLOB, üzenetsorok, táblák létrehozása, fájlok írására és módosítására.</span><span class="sxs-lookup"><span data-stu-id="62797-265">For example, you can read blobs, write to queues, create tables, and modify files.</span></span> <span data-ttu-id="62797-266">Ezek a műveletek számos Azure-portálon végezhető el vagy sok Tártallózó alkalmazást egyikével.</span><span class="sxs-lookup"><span data-stu-id="62797-266">Many of these actions can be performed through the Azure portal, or using one of many Storage Explorer applications.</span></span> <span data-ttu-id="62797-267">Is írhat kódot a REST API-t vagy a Storage Ügyfélkódtáraival egyik segítségével hajthatja végre ezeket a műveleteket.</span><span class="sxs-lookup"><span data-stu-id="62797-267">You can also write code to use the REST API or one of the Storage Client Libraries to perform these operations.</span></span>

<span data-ttu-id="62797-268">Az a szakaszban leírtaknak megfelelően a [felügyeleti Vezérlősík biztonsági](#management-plane-security), a klasszikus tárfiók adjon teljes hozzáférést az Azure-előfizetés által biztosított a tárolási kulcsok elérhető.</span><span class="sxs-lookup"><span data-stu-id="62797-268">As discussed in the section on the [Management Plane Security](#management-plane-security), access to the storage keys for a Classic storage account can be granted by giving full access to the Azure subscription.</span></span> <span data-ttu-id="62797-269">A tárolási kulcsokat az Azure Resource Manager modellt használó tárfiókot hozzáférést szerepköralapú hozzáférés-vezérlést (RBAC) szabályozható.</span><span class="sxs-lookup"><span data-stu-id="62797-269">Access to the storage keys for a storage account using the Azure Resource Manager model can be controlled through Role-Based Access Control (RBAC).</span></span>

### <a name="how-to-delegate-access-to-objects-in-your-account-using-shared-access-signatures-and-stored-access-policies"></a><span data-ttu-id="62797-270">Hogyan adhat hozzáférést a fiókját megosztott hozzáférési aláírásokkal és hozzáférési házirendek tárolt objektumok</span><span class="sxs-lookup"><span data-stu-id="62797-270">How to delegate access to objects in your account using Shared Access Signatures and Stored Access Policies</span></span>
<span data-ttu-id="62797-271">Egy közös hozzáférésű Jogosultságkód: URI, amely lehetővé teszi a tárolási objektum hozzáférést biztosíthat, és adja meg például az engedélyeket és a dátum/idő tartomány hozzáférési korlátozásokat lehet rendelni egy biztonsági jogkivonatot tartalmazó karakterlánc.</span><span class="sxs-lookup"><span data-stu-id="62797-271">A Shared Access Signature is a string containing a security token that can be attached to a URI that allows you to delegate access to storage objects and specify constraints such as the permissions and the date/time range of access.</span></span>

<span data-ttu-id="62797-272">Blobok, tárolók, várólista-üzenetek, fájlok és táblák hozzáférést biztosíthat.</span><span class="sxs-lookup"><span data-stu-id="62797-272">You can grant access to blobs, containers, queue messages, files, and tables.</span></span> <span data-ttu-id="62797-273">Táblákkal ténylegesen engedélyt adhat a partíció- és sorfejlécek kulcstartományokkal, amely a felhasználó hozzáférjen szeretné megadásával entitástartományának a tábla elérésére.</span><span class="sxs-lookup"><span data-stu-id="62797-273">With tables, you can actually grant permission to access a range of entities in the table by specifying the partition and row key ranges to which you want the user to have access.</span></span> <span data-ttu-id="62797-274">Például ha földrajzi állapot partíciókulcsú tárolt adatokat, akkor adhat valaki hozzáférést kaliforniai csupán azokat az adatokat.</span><span class="sxs-lookup"><span data-stu-id="62797-274">For example, if you have data stored with a partition key of geographical state, you could give someone access to just the data for California.</span></span>

<span data-ttu-id="62797-275">Egy másik példa, előfordulhat, hogy adjon egy webalkalmazás egy SAS-jogkivonatot, amely lehetővé teszi, hogy bejegyzést írni a várólista, és adjon a feldolgozói szerepkör alkalmazás egy SAS-jogkivonat üzenetet az üzenetsorból, és dolgozza fel őket.</span><span class="sxs-lookup"><span data-stu-id="62797-275">In another example, you might give a web application a SAS token that enables it to write entries to a queue, and give a worker role application a SAS token to get messages from the queue and process them.</span></span> <span data-ttu-id="62797-276">Vagy nem ad egy ügyfél egy SAS-jogkivonat ezek segítségével a képek feltöltése a Blob Storage tárolót, és engedélyt a webes alkalmazás a képek olvasni.</span><span class="sxs-lookup"><span data-stu-id="62797-276">Or you could give one customer a SAS token they can use to upload pictures to a container in Blob Storage, and give a web application permission to read those pictures.</span></span> <span data-ttu-id="62797-277">Mindkét esetben nincs kizárás kérdések – minden alkalmazáshoz is hozzáférést kell biztosítani csak a számukra a feladat végrehajtásához szükséges.</span><span class="sxs-lookup"><span data-stu-id="62797-277">In both cases, there is a separation of concerns – each application can be given just the access that they require in order to perform their task.</span></span> <span data-ttu-id="62797-278">Ez az megosztott hozzáférési aláírásokkal használatával lehetséges.</span><span class="sxs-lookup"><span data-stu-id="62797-278">This is possible through the use of Shared Access Signatures.</span></span>

#### <a name="why-you-want-to-use-shared-access-signatures"></a><span data-ttu-id="62797-279">Miért érdemes használni a megosztott hozzáférési aláírásokkal</span><span class="sxs-lookup"><span data-stu-id="62797-279">Why you want to use Shared Access Signatures</span></span>
<span data-ttu-id="62797-280">Miért érdemes használni egy SAS helyett csak a tárfiók kulcsára, amely így sokkal könnyebben kiadása?</span><span class="sxs-lookup"><span data-stu-id="62797-280">Why would you want to use an SAS instead of just giving out your storage account key, which is so much easier?</span></span> <span data-ttu-id="62797-281">A tárfiók kulcsára kiadása van például a megosztás a kulcsokat, a tárolási Királyság.</span><span class="sxs-lookup"><span data-stu-id="62797-281">Giving out your storage account key is like sharing the keys of your storage kingdom.</span></span> <span data-ttu-id="62797-282">Teljes hozzáférést van.</span><span class="sxs-lookup"><span data-stu-id="62797-282">It grants complete access.</span></span> <span data-ttu-id="62797-283">Valaki nem sikerült a kulcsok használatára, és töltse fel a teljes zenetár a tárfiókhoz.</span><span class="sxs-lookup"><span data-stu-id="62797-283">Someone could use your keys and upload their entire music library to your storage account.</span></span> <span data-ttu-id="62797-284">Ezek nem is vírus fertőzte verziók cserélje le a fájlokat, vagy az adatok ellopására.</span><span class="sxs-lookup"><span data-stu-id="62797-284">They could also replace your files with virus-infected versions, or steal your data.</span></span> <span data-ttu-id="62797-285">A tárfiókhoz átruházása a korlátlan hozzáféréssel olyan dolog, amire nem kell enyhén venni.</span><span class="sxs-lookup"><span data-stu-id="62797-285">Giving away unlimited access to your storage account is something that should not be taken lightly.</span></span>

<span data-ttu-id="62797-286">Megosztott hozzáférési aláírásokkal adhat egy ügyfél csak korlátozott mennyiségű időt a szükséges engedélyekkel.</span><span class="sxs-lookup"><span data-stu-id="62797-286">With Shared Access Signatures, you can give a client just the permissions required for a limited amount of time.</span></span> <span data-ttu-id="62797-287">Például ha valaki tölti fel a blob-fiókjába, meg lehet adni azokat éppen elegendő idő (attól függően, a blob mérete természetesen) blob feltöltése írási hozzáférést.</span><span class="sxs-lookup"><span data-stu-id="62797-287">For example, if someone is uploading a blob to your account, you can grant them write access for just enough time to upload the blob (depending on the size of the blob, of course).</span></span> <span data-ttu-id="62797-288">És ha megváltoztatja döntését, visszavonhatja a hozzáférést.</span><span class="sxs-lookup"><span data-stu-id="62797-288">And if you change your mind, you can revoke that access.</span></span>

<span data-ttu-id="62797-289">Ezenkívül megadható, hogy a SAS használatával kérelmek egy adott IP-cím vagy IP-címtartomány Azure külső korlátozódnak.</span><span class="sxs-lookup"><span data-stu-id="62797-289">Additionally, you can specify that requests made using a SAS are restricted to a certain IP address or IP address range external to Azure.</span></span> <span data-ttu-id="62797-290">Is megkövetelheti, hogy kérések (HTTPS vagy HTTP/HTTPS) egy adott protokoll használatával.</span><span class="sxs-lookup"><span data-stu-id="62797-290">You can also require that requests are made using a specific protocol (HTTPS or HTTP/HTTPS).</span></span> <span data-ttu-id="62797-291">Ez azt jelenti, ha szeretné engedélyezi a HTTPS forgalmat, beállíthatja a szükséges protokoll csak HTTPS és HTTP-forgalom le lesz tiltva.</span><span class="sxs-lookup"><span data-stu-id="62797-291">This means if you only want to allow HTTPS traffic, you can set the required protocol to HTTPS only, and HTTP traffic will be blocked.</span></span>

#### <a name="definition-of-a-shared-access-signature"></a><span data-ttu-id="62797-292">A közös hozzáférésű Jogosultságkód meghatározása</span><span class="sxs-lookup"><span data-stu-id="62797-292">Definition of a Shared Access Signature</span></span>
<span data-ttu-id="62797-293">Egy közös hozzáférésű Jogosultságkód egy olyan lekérdezési paraméterek fűzött az erőforráscsoportok mutató URL-címet</span><span class="sxs-lookup"><span data-stu-id="62797-293">A Shared Access Signature is a set of query parameters appended to the URL pointing at the resource</span></span>

<span data-ttu-id="62797-294">tevékenységszabályzat engedélyezett hozzáférési és az időtartamot, amelynek a hozzáférés engedélyezett.</span><span class="sxs-lookup"><span data-stu-id="62797-294">that provides information about the access allowed and the length of time for which the access is permitted.</span></span> <span data-ttu-id="62797-295">Íme egy példa a; Ezt az URI blob olvasási hozzáférést biztosít a öt perc.</span><span class="sxs-lookup"><span data-stu-id="62797-295">Here is an example; this URI provides read access to a blob for five minutes.</span></span> <span data-ttu-id="62797-296">Vegye figyelembe, hogy a biztonsági Társítások lekérdezési paramétert kell URL-kódolású, például % 3A kettőspont (:) vagy a szóközt 20 %.</span><span class="sxs-lookup"><span data-stu-id="62797-296">Note that SAS query parameters must be URL Encoded, such as %3A for colon (:) or %20 for a space.</span></span>

```
http://mystorage.blob.core.windows.net/mycontainer/myblob.txt (URL to the blob)
?sv=2015-04-05 (storage service version)
&st=2015-12-10T22%3A18%3A26Z (start time, in UTC time and URL encoded)
&se=2015-12-10T22%3A23%3A26Z (end time, in UTC time and URL encoded)
&sr=b (resource is a blob)
&sp=r (read access)
&sip=168.1.5.60-168.1.5.70 (requests can only come from this range of IP addresses)
&spr=https (only allow HTTPS requests)
&sig=Z%2FRHIX5Xcg0Mq2rqI3OlWTjEg2tYkboXr1P9ZUXDtkk%3D (signature used for the authentication of the SAS)
```

#### <a name="how-the-shared-access-signature-is-authenticated-by-the-azure-storage-service"></a><span data-ttu-id="62797-297">Hogyan hitelesíti a közös hozzáférésű Jogosultságkód az Azure Storage szolgáltatás</span><span class="sxs-lookup"><span data-stu-id="62797-297">How the Shared Access Signature is authenticated by the Azure Storage Service</span></span>
<span data-ttu-id="62797-298">Amikor a társzolgáltatás a kérelmet kap, a lekérdezési paraméterek fogadja el, és létrehoz egy ugyanazzal a módszerrel a hívó program aláírást.</span><span class="sxs-lookup"><span data-stu-id="62797-298">When the storage service receives the request, it takes the input query parameters and creates a signature using the same method as the calling program.</span></span> <span data-ttu-id="62797-299">Ezután összeveti a két aláírások.</span><span class="sxs-lookup"><span data-stu-id="62797-299">It then compares the two signatures.</span></span> <span data-ttu-id="62797-300">Ha az engedélyt megadják, majd a társzolgáltatás ellenőrizze a tároló verzióját győződjön meg arról, hogy érvényes, győződjön meg arról, hogy az aktuális dátumot és időt a megadott időszakon belül van, győződjön meg arról, hogy a hozzáférést a kért felel meg a kérelmet, stb.</span><span class="sxs-lookup"><span data-stu-id="62797-300">If they agree, then the storage service can check the storage service version to make sure it's valid, verify that the current date and time are within the specified window, make sure the access requested corresponds to the request made, etc.</span></span>

<span data-ttu-id="62797-301">Például a fenti URL-cím, a Ha az URL-cím helyett egy blobot egy fájlba lett mutat, a kérelem sikertelen lesz, mert ez azt jelenti, hogy a közös hozzáférésű Jogosultságkód egy BLOB.</span><span class="sxs-lookup"><span data-stu-id="62797-301">For example, with our URL above, if the URL was pointing to a file instead of a blob, this request would fail because it specifies that the Shared Access Signature is for a blob.</span></span> <span data-ttu-id="62797-302">Ha a többi parancs meghívott blob frissíteni, mivel a közös hozzáférésű Jogosultságkód határozza meg, hogy engedélyezett-e a csak olvasási hozzáféréssel fognak működni.</span><span class="sxs-lookup"><span data-stu-id="62797-302">If the REST command being called was to update a blob, it would fail because the Shared Access Signature specifies that only read access is permitted.</span></span>

#### <a name="types-of-shared-access-signatures"></a><span data-ttu-id="62797-303">Közös hozzáférésű Jogosultságkód típusai</span><span class="sxs-lookup"><span data-stu-id="62797-303">Types of Shared Access Signatures</span></span>
* <span data-ttu-id="62797-304">Egy szolgáltatási szint SAS segítségével tárfiókokban adott erőforrásokhoz férnek hozzá.</span><span class="sxs-lookup"><span data-stu-id="62797-304">A service-level SAS can be used to access specific resources in a storage account.</span></span> <span data-ttu-id="62797-305">Ez néhány példát keres a BLOB tároló, blob letöltése, egy tábla egy entitás frissítése, üzeneteket ad hozzá egy üzenetsort vagy fájlt feltölteni a fájlmegosztásba listáját.</span><span class="sxs-lookup"><span data-stu-id="62797-305">Some examples of this are retrieving a list of blobs in a container, downloading a blob, updating an entity in a table, adding messages to a queue or uploading a file to a file share.</span></span>
* <span data-ttu-id="62797-306">Egy fiók szintű SAS használatával lehet hozzáférni, amelyeket a szolgáltatásiszint-SAS-kód nem használható.</span><span class="sxs-lookup"><span data-stu-id="62797-306">An account-level SAS can be used to access anything that a service-level SAS can be used for.</span></span> <span data-ttu-id="62797-307">Emellett biztosíthat a beállítások nem használhatók együtt egy szolgáltatási szint SAS-tárolók, táblák, üzenetsorok és fájlmegosztások létrehozásához például erőforrásokhoz.</span><span class="sxs-lookup"><span data-stu-id="62797-307">Additionally, it can give options to resources that are not permitted with a service-level SAS, such as the ability to create containers, tables, queues, and file shares.</span></span> <span data-ttu-id="62797-308">Több szolgáltatásokhoz való hozzáférés egyszerre is megadható.</span><span class="sxs-lookup"><span data-stu-id="62797-308">You can also specify access to multiple services at once.</span></span> <span data-ttu-id="62797-309">Például előfordulhat, hogy adjon valaki blobok és a tárfiókban lévő fájlok elérését.</span><span class="sxs-lookup"><span data-stu-id="62797-309">For example, you might give someone access to both blobs and files in your storage account.</span></span>

#### <a name="creating-an-sas-uri"></a><span data-ttu-id="62797-310">Egy SAS URI-azonosító létrehozása</span><span class="sxs-lookup"><span data-stu-id="62797-310">Creating an SAS URI</span></span>
1. <span data-ttu-id="62797-311">Létrehozhat egy ad hoc URI az igény szerinti meghatározása a lekérdezési paraméterek mindegyikét minden alkalommal, amikor.</span><span class="sxs-lookup"><span data-stu-id="62797-311">You can create an ad hoc URI on demand, defining all of the query parameters each time.</span></span>

   <span data-ttu-id="62797-312">Ez valóban rugalmas, de ha egy olyan logikai készlete, amelyek hasonló minden alkalommal, amikor paraméterek, a tárolt házirend használata segítenek meghatározni.</span><span class="sxs-lookup"><span data-stu-id="62797-312">This is really flexible, but if you have a logical set of parameters that are similar each time, using a Stored Access Policy is a better idea.</span></span>
2. <span data-ttu-id="62797-313">A tárolt hozzáférési házirend egy teljes tárolóhoz, a fájlmegosztásokhoz, a tábla vagy a várólista hozhat létre.</span><span class="sxs-lookup"><span data-stu-id="62797-313">You can create a Stored Access Policy for an entire container, file share, table, or queue.</span></span> <span data-ttu-id="62797-314">Majd ezzel a alapjául a SAS URI azonosítók hoz létre.</span><span class="sxs-lookup"><span data-stu-id="62797-314">Then you can use this as the basis for the SAS URIs you create.</span></span> <span data-ttu-id="62797-315">Engedélyek tárolt hozzáférési házirendek alapján könnyen visszavonhatók.</span><span class="sxs-lookup"><span data-stu-id="62797-315">Permissions based on Stored Access Policies can be easily revoked.</span></span> <span data-ttu-id="62797-316">Minden egyes tároló, a várólista, a tábla vagy a fájlmegosztás definiált legfeljebb 5 házirendek lehet.</span><span class="sxs-lookup"><span data-stu-id="62797-316">You can have up to 5 policies defined on each container, queue, table, or file share.</span></span>

   <span data-ttu-id="62797-317">Például ha szeretné, hogy egy adott tárolóban lévő blobok olvasási sokan volt is, létrehozhat egy tárolt hozzáférési házirend, amely szerint a "olvasási hozzáférést" és a ugyanaz lesz minden alkalommal, amikor egyéb beállításait.</span><span class="sxs-lookup"><span data-stu-id="62797-317">For example, if you were going to have many people read the blobs in a specific container, you could create a Stored Access Policy that says "give read access" and any other settings that will be the same each time.</span></span> <span data-ttu-id="62797-318">Ezután egy SAS URI azonosítója a tárolt házirend beállításainak használatával, és a lejárati dátum és idő megadása is létrehozhat.</span><span class="sxs-lookup"><span data-stu-id="62797-318">Then you can create an SAS URI using the settings of the Stored Access Policy and specifying the expiration date/time.</span></span> <span data-ttu-id="62797-319">Ennek előnye, hogy ne kelljen adja meg az összes lekérdezési paraméterekhez minden alkalommal.</span><span class="sxs-lookup"><span data-stu-id="62797-319">The advantage of this is that you don't have to specify all of the query parameters every time.</span></span>

#### <a name="revocation"></a><span data-ttu-id="62797-320">Visszavonási</span><span class="sxs-lookup"><span data-stu-id="62797-320">Revocation</span></span>
<span data-ttu-id="62797-321">Tegyük fel, hogy a biztonsági Társítások biztonsága sérült, vagy módosítja azt a vállalati biztonsági vagy az előírásoknak való megfelelés követelmények miatt.</span><span class="sxs-lookup"><span data-stu-id="62797-321">Suppose your SAS has been compromised, or you want to change it because of corporate security or regulatory compliance requirements.</span></span> <span data-ttu-id="62797-322">Hogyan, visszavonhatja a hozzáférést egy erőforráshoz, hogy a SAS használatával?</span><span class="sxs-lookup"><span data-stu-id="62797-322">How do you revoke access to a resource using that SAS?</span></span> <span data-ttu-id="62797-323">Függ, hogyan hozza létre a SAS URI-t.</span><span class="sxs-lookup"><span data-stu-id="62797-323">It depends on how you created the SAS URI.</span></span>

<span data-ttu-id="62797-324">Ha ad hoc URI használata esetén lehetősége van három.</span><span class="sxs-lookup"><span data-stu-id="62797-324">If you are using ad hoc URI's, you have three options.</span></span> <span data-ttu-id="62797-325">SAS-tokenje rövid lejárati házirendek adja ki, és egyszerűen Várjon, amíg a SAS lejár.</span><span class="sxs-lookup"><span data-stu-id="62797-325">You can issue SAS tokens with short expiration policies and simply wait for the SAS to expire.</span></span> <span data-ttu-id="62797-326">Nevezze át vagy törölje az erőforrást (feltéve, hogy a jogkivonat egy adott objektum lett hatóköre) is.</span><span class="sxs-lookup"><span data-stu-id="62797-326">You can rename or delete the resource (assuming the token was scoped to a single object).</span></span> <span data-ttu-id="62797-327">Módosíthatja a tárfiók kulcsait.</span><span class="sxs-lookup"><span data-stu-id="62797-327">You can change the storage account keys.</span></span> <span data-ttu-id="62797-328">Az utolsó lehetőség nagy hatással lehet, attól függően, hogy hány szolgáltatásokat használ, hogy a tárfiók, és valószínűleg nem valami néhány tervezés nélkül szeretné.</span><span class="sxs-lookup"><span data-stu-id="62797-328">This last option can have a big impact, depending on how many services are using that storage account, and probably isn't something you want to do without some planning.</span></span>

<span data-ttu-id="62797-329">A tárolt házirend származó SAS használatakor is eltávolíthat, hozzáférés visszavonása a tárolt házirend – ugyanúgy módosíthatja, már lejárt, vagy távolítsa el az egész.</span><span class="sxs-lookup"><span data-stu-id="62797-329">If you are using a SAS derived from a Stored Access Policy, you can remove access by revoking the Stored Access Policy – you can just change it so it has already expired, or you can remove it altogether.</span></span> <span data-ttu-id="62797-330">Ez azonnal érvénybe lép, és minden SAS létre adott tárolt házirend érvényteleníti.</span><span class="sxs-lookup"><span data-stu-id="62797-330">This takes effect immediately, and invalidates every SAS created using that Stored Access Policy.</span></span> <span data-ttu-id="62797-331">Frissítése, vagy a tárolt házirend eltávolítása is hatás férnek hozzá a meghatározott tárolóban, megosztott fájl tábla, vagy várólista keresztül SAS, ha az ügyfelek készültek, így egy új SAS kérnek, ha a régit válik érvénytelen, de ez működnek jól.</span><span class="sxs-lookup"><span data-stu-id="62797-331">Updating or removing the Stored Access Policy may impact people accessing that specific container, file share, table, or queue via SAS, but if the clients are written so they request a new SAS when the old one becomes invalid, this will work fine.</span></span>

<span data-ttu-id="62797-332">A tárolt házirend származó SAS használatával lehetővé teszi az adott SAS azonnal visszavonni, mert az ajánlott mindig használjon tárolt hozzáférési házirendek lehetőség.</span><span class="sxs-lookup"><span data-stu-id="62797-332">Because using a SAS derived from a Stored Access Policy gives you the ability to revoke that SAS immediately, it is the recommended best practice to always use Stored Access Policies when possible.</span></span>

#### <a name="resources"></a><span data-ttu-id="62797-333">Erőforrások</span><span class="sxs-lookup"><span data-stu-id="62797-333">Resources</span></span>
<span data-ttu-id="62797-334">További részletes információt a megosztott hozzáférési aláírásokkal és tárolt hozzáférési házirendeket, kész, de példák olvassa el a következő cikkeket:</span><span class="sxs-lookup"><span data-stu-id="62797-334">For more detailed information on using Shared Access Signatures and Stored Access Policies, complete with examples, please refer to the following articles:</span></span>

* <span data-ttu-id="62797-335">Ezek azok a útmutatót.</span><span class="sxs-lookup"><span data-stu-id="62797-335">These are the reference articles.</span></span>

  * [<span data-ttu-id="62797-336">Szolgáltatásalapú SAS</span><span class="sxs-lookup"><span data-stu-id="62797-336">Service SAS</span></span>](https://msdn.microsoft.com/library/dn140256.aspx)

    <span data-ttu-id="62797-337">Ez a cikk egy szolgáltatási szint SAS használatával blobokat, az üzenetsor-üzeneteket, a tábla tartományokkal és a fájlok példákat.</span><span class="sxs-lookup"><span data-stu-id="62797-337">This article provides examples of using a service-level SAS with blobs, queue messages, table ranges, and files.</span></span>
  * [<span data-ttu-id="62797-338">A szolgáltatásalapú SAS létrehozása</span><span class="sxs-lookup"><span data-stu-id="62797-338">Constructing a service SAS</span></span>](https://msdn.microsoft.com/library/dn140255.aspx)
  * [<span data-ttu-id="62797-339">SAS fiók létrehozása</span><span class="sxs-lookup"><span data-stu-id="62797-339">Constructing an account SAS</span></span>](https://msdn.microsoft.com/library/mt584140.aspx)
* <span data-ttu-id="62797-340">Ezek a oktatóanyagok a .NET ügyféloldali kódtár használatával történő létrehozásához a megosztott hozzáférési aláírásokkal és hozzáférési házirendek tárolja.</span><span class="sxs-lookup"><span data-stu-id="62797-340">These are tutorials for using the .NET client library to create Shared Access Signatures and Stored Access Policies.</span></span>

  * [<span data-ttu-id="62797-341">Közös hozzáférésű Jogosultságkód (SAS) használatával</span><span class="sxs-lookup"><span data-stu-id="62797-341">Using Shared Access Signatures (SAS)</span></span>](storage-dotnet-shared-access-signature-part-1.md)
  * [<span data-ttu-id="62797-342">Közös hozzáférésű Jogosultságkód, 2. rész: Létrehozása és SAS-kód a Blob szolgáltatás használatához</span><span class="sxs-lookup"><span data-stu-id="62797-342">Shared Access Signatures, Part 2: Create and Use a SAS with the Blob Service</span></span>](storage-dotnet-shared-access-signature-part-2.md)

    <span data-ttu-id="62797-343">Ez a cikk tartalmazza a SAS-modell, megosztott hozzáférési aláírásokkal, például annak magyarázatát, és az ajánlott eljárás javaslatok SAS használja.</span><span class="sxs-lookup"><span data-stu-id="62797-343">This article includes an explanation of the SAS model, examples of Shared Access Signatures, and recommendations for the best practice use of SAS.</span></span> <span data-ttu-id="62797-344">Azt is ismertetjük, a megadott engedélyeket visszavonását.</span><span class="sxs-lookup"><span data-stu-id="62797-344">Also discussed is the revocation of the permission granted.</span></span>
* <span data-ttu-id="62797-345">A hozzáférés korlátozása IP-címet (IP ACL) alapján</span><span class="sxs-lookup"><span data-stu-id="62797-345">Limiting access by IP Address (IP ACLs)</span></span>

  * [<span data-ttu-id="62797-346">Mi az a végpont hozzáférés-vezérlési lista (ACL)?</span><span class="sxs-lookup"><span data-stu-id="62797-346">What is an endpoint Access Control List (ACLs)?</span></span>](../virtual-network/virtual-networks-acl.md)
  * [<span data-ttu-id="62797-347">A szolgáltatásalapú SAS létrehozása</span><span class="sxs-lookup"><span data-stu-id="62797-347">Constructing a Service SAS</span></span>](https://msdn.microsoft.com/library/azure/dn140255.aspx)

    <span data-ttu-id="62797-348">Ez az a áttekintésével foglalkozó cikkben a szolgáltatásiszint-SAS; Ez magában foglalja az IP-ACLing példát.</span><span class="sxs-lookup"><span data-stu-id="62797-348">This is the reference article for service-level SAS; it includes an example of IP ACLing.</span></span>
  * [<span data-ttu-id="62797-349">SAS fiók létrehozása</span><span class="sxs-lookup"><span data-stu-id="62797-349">Constructing an Account SAS</span></span>](https://msdn.microsoft.com/library/azure/mt584140.aspx)

    <span data-ttu-id="62797-350">Ez az a fiók szintű SAS; a áttekintésével foglalkozó cikkben Ez magában foglalja az IP-ACLing példát.</span><span class="sxs-lookup"><span data-stu-id="62797-350">This is the reference article for account-level SAS; it includes an example of IP ACLing.</span></span>
* <span data-ttu-id="62797-351">Authentication</span><span class="sxs-lookup"><span data-stu-id="62797-351">Authentication</span></span>

  * [<span data-ttu-id="62797-352">Az Azure Storage szolgáltatásainak hitelesítése</span><span class="sxs-lookup"><span data-stu-id="62797-352">Authentication for the Azure Storage Services</span></span>](https://msdn.microsoft.com/library/azure/dd179428.aspx)
* <span data-ttu-id="62797-353">Közös hozzáférésű Jogosultságkód első lépések útmutató</span><span class="sxs-lookup"><span data-stu-id="62797-353">Shared Access Signatures Getting Started Tutorial</span></span>

  * [<span data-ttu-id="62797-354">Első lépések útmutató SAS</span><span class="sxs-lookup"><span data-stu-id="62797-354">SAS Getting Started Tutorial</span></span>](https://github.com/Azure-Samples/storage-dotnet-sas-getting-started)

## <a name="encryption-in-transit"></a><span data-ttu-id="62797-355">Az átvitel során titkosítás</span><span class="sxs-lookup"><span data-stu-id="62797-355">Encryption in Transit</span></span>
### <a name="transport-level-encryption--using-https"></a><span data-ttu-id="62797-356">Átviteli szintű titkosítást – HTTPS-kapcsolaton keresztül</span><span class="sxs-lookup"><span data-stu-id="62797-356">Transport-Level Encryption – Using HTTPS</span></span>
<span data-ttu-id="62797-357">Egy újabb lépést kell tennie az Azure Storage-adatok védelme érdekében titkosítja az adatokat, az ügyfél és az Azure Storage között.</span><span class="sxs-lookup"><span data-stu-id="62797-357">Another step you should take to ensure the security of your Azure Storage data is to encrypt the data between the client and Azure Storage.</span></span> <span data-ttu-id="62797-358">Az első javasoljuk, hogy mindig a [HTTPS](https://en.wikipedia.org/wiki/HTTPS) protokoll, amely biztosítja a biztonságos kommunikáció érdekében a nyilvános interneten keresztül.</span><span class="sxs-lookup"><span data-stu-id="62797-358">The first recommendation is to always use the [HTTPS](https://en.wikipedia.org/wiki/HTTPS) protocol, which ensures secure communication over the public Internet.</span></span>

<span data-ttu-id="62797-359">Ahhoz, hogy egy biztonságos kommunikációs csatornát, mindig használandó HTTPS tárolási objektumokat a REST API-k hívása vagy eléréséhez.</span><span class="sxs-lookup"><span data-stu-id="62797-359">To have a secure communication channel, you should always use HTTPS when calling the REST APIs or accessing objects in storage.</span></span> <span data-ttu-id="62797-360">Emellett **megosztott hozzáférési aláírásokkal**, amelyek segítségével delegálása az Azure Storage-objektumokhoz való hozzáférést, adja meg, hogy csak a HTTPS protokollt is használható-e a megosztott hozzáférési aláírásokkal, győződjön meg arról, hogy a megfelelő protokollt használja birtokában bárki küldi ki az SAS-tokenje hivatkozások használatával teszi.</span><span class="sxs-lookup"><span data-stu-id="62797-360">Also, **Shared Access Signatures**, which can be used to delegate access to Azure Storage objects, include an option to specify that only the HTTPS protocol can be used when using Shared Access Signatures, ensuring that anybody sending out links with SAS tokens will use the proper protocol.</span></span>

<span data-ttu-id="62797-361">Amikor tárfiókok engedélyezésével történt a REST API-k elérésére objektumokat a HTTPS használata kényszerítheti [szükséges átviteli biztonságos](storage-require-secure-transfer.md) a tárfiók.</span><span class="sxs-lookup"><span data-stu-id="62797-361">You can enforce the use of HTTPS when calling the REST APIs to access objects in storage accounts by enabling [Secure transfer required](storage-require-secure-transfer.md) for the storage account.</span></span> <span data-ttu-id="62797-362">Ha ez engedélyezve van a kapcsolatok HTTP-n keresztül program elutasítja.</span><span class="sxs-lookup"><span data-stu-id="62797-362">Connections using HTTP will be refused once this is enabled.</span></span>

### <a name="using-encryption-during-transit-with-azure-file-shares"></a><span data-ttu-id="62797-363">Az Azure fájlmegosztások titkosítással továbbítás során</span><span class="sxs-lookup"><span data-stu-id="62797-363">Using encryption during transit with Azure File shares</span></span>
<span data-ttu-id="62797-364">Az Azure File storage támogatja a HTTPS PROTOKOLLT, ha a REST API használatával, de több általánosan használt SMB-fájlmegosztás a virtuális Géphez van csatolva.</span><span class="sxs-lookup"><span data-stu-id="62797-364">Azure File storage supports HTTPS when using the REST API, but is more commonly used as an SMB file share attached to a VM.</span></span> <span data-ttu-id="62797-365">SMB 2.1 nem támogatja a titkosítást, tehát kapcsolatokat csak az Azure-ban ugyanabban a régióban belül engedélyezett.</span><span class="sxs-lookup"><span data-stu-id="62797-365">SMB 2.1 does not support encryption, so connections are only allowed within the same region in Azure.</span></span> <span data-ttu-id="62797-366">Azonban az SMB 3.0 támogatja a titkosítást, és elérhető a Windows Server 2012 R2, Windows 8, Windows 8.1 és Windows 10, lehetővé téve a kereszt-régió eléréséhez, és akkor is igaz, az asztalon hozzáférést.</span><span class="sxs-lookup"><span data-stu-id="62797-366">However, SMB 3.0 supports encryption, and it's available in Windows Server 2012 R2, Windows 8, Windows 8.1, and Windows 10, allowing cross-region access and even access on the desktop.</span></span>

<span data-ttu-id="62797-367">Vegye figyelembe, hogy az Azure fájlmegosztások Unix használható, amíg a Linux SMB-ügyfél még támogatja a titkosítást, így csak elérését az Azure-régiót belül.</span><span class="sxs-lookup"><span data-stu-id="62797-367">Note that while Azure File shares can be used with Unix, the Linux SMB client does not yet support encryption, so access is only allowed within an Azure region.</span></span> <span data-ttu-id="62797-368">Linux titkosítás támogatása van Linux fejlesztők SMB funkció felelős a programba.</span><span class="sxs-lookup"><span data-stu-id="62797-368">Encryption support for Linux is on the roadmap of Linux developers responsible for SMB functionality.</span></span> <span data-ttu-id="62797-369">Titkosítási adnak hozzá, amikor Ön fog rendelkezésre áll a Linux Azure fájlmegosztás eléréséhez a Windows.</span><span class="sxs-lookup"><span data-stu-id="62797-369">When they add encryption, you will have the same ability for accessing an Azure File share on Linux as you do for Windows.</span></span>

<span data-ttu-id="62797-370">A rendszer az Azure-fájlok szolgáltatással titkosítás kényszerítheti a engedélyezésével [szükséges átviteli biztonságos](storage-require-secure-transfer.md) a tárfiók.</span><span class="sxs-lookup"><span data-stu-id="62797-370">You can enforce the use of encryption with the Azure Files service by enabling [Secure transfer required](storage-require-secure-transfer.md) for the storage account.</span></span> <span data-ttu-id="62797-371">A REST API-k használata, ha HTTPs megadása kötelező.</span><span class="sxs-lookup"><span data-stu-id="62797-371">If using the REST APIs, HTTPs is required.</span></span> <span data-ttu-id="62797-372">Az SMB-csak SMB-kapcsolatok, amely támogatja a titkosítást az sikeresen fog csatlakozni.</span><span class="sxs-lookup"><span data-stu-id="62797-372">For SMB, only SMB connections that support encryption will connect successfully.</span></span>

#### <a name="resources"></a><span data-ttu-id="62797-373">Erőforrások</span><span class="sxs-lookup"><span data-stu-id="62797-373">Resources</span></span>
* [<span data-ttu-id="62797-374">Az Azure File Storage használata Linuxszal</span><span class="sxs-lookup"><span data-stu-id="62797-374">How to use Azure File storage with Linux</span></span>](storage-how-to-use-files-linux.md)

  <span data-ttu-id="62797-375">Ez a cikk bemutatja, hogyan csatlakoztatása az Azure-fájlmegosztáshoz egy Linux rendszer- és feltöltése/letöltés fájlok.</span><span class="sxs-lookup"><span data-stu-id="62797-375">This article shows how to mount an Azure File share on a Linux system and upload/download files.</span></span>
* [<span data-ttu-id="62797-376">Ismerkedés a Windowshoz készült Azure File Storage szolgáltatással</span><span class="sxs-lookup"><span data-stu-id="62797-376">Get started with Azure File storage on Windows</span></span>](storage-dotnet-how-to-use-files.md)

  <span data-ttu-id="62797-377">Ez a cikk áttekintést nyújt az Azure fájlmegosztások és a csatlakoztatási és használhatja őket a PowerShell és a .NET használatával.</span><span class="sxs-lookup"><span data-stu-id="62797-377">This article gives an overview of Azure File shares and how to mount and use them using PowerShell and .NET.</span></span>
* [<span data-ttu-id="62797-378">Az Azure File Storage ismertetése</span><span class="sxs-lookup"><span data-stu-id="62797-378">Inside Azure File storage</span></span>](https://azure.microsoft.com/blog/inside-azure-file-storage/)

  <span data-ttu-id="62797-379">Ez a cikk általános Azure File storage számú, és az SMB 3.0-titkosítás vonatkozó technikai részleteket biztosít.</span><span class="sxs-lookup"><span data-stu-id="62797-379">This article announces the general availability of Azure File storage and provides technical details about the SMB 3.0 encryption.</span></span>

### <a name="using-client-side-encryption-to-secure-data-that-you-send-to-storage"></a><span data-ttu-id="62797-380">Az ügyféloldali titkosítással tárolási küldött adatok védelmét</span><span class="sxs-lookup"><span data-stu-id="62797-380">Using Client-side encryption to secure data that you send to storage</span></span>
<span data-ttu-id="62797-381">Egy másik lehetőség, amelynek segítségével győződjön meg arról, hogy az adatok biztonságos egy ügyfélalkalmazást és a tároló között történő átvitel során az ügyféloldali titkosítás.</span><span class="sxs-lookup"><span data-stu-id="62797-381">Another option that helps you ensure that your data is secure while being transferred between a client application and Storage is Client-side Encryption.</span></span> <span data-ttu-id="62797-382">Az adatok titkosítása az Azure Storage átvitele előtt.</span><span class="sxs-lookup"><span data-stu-id="62797-382">The data is encrypted before being transferred into Azure Storage.</span></span> <span data-ttu-id="62797-383">Amikor az adatok beolvasása az Azure Storage-ból, az adatok visszafejtése ügyféloldali fogadását követően.</span><span class="sxs-lookup"><span data-stu-id="62797-383">When retrieving the data from Azure Storage, the data is decrypted after it is received on the client side.</span></span> <span data-ttu-id="62797-384">Annak ellenére, hogy az adatok titkosítása a hálózaton keresztül is, azt javasoljuk, hogy is használja HTTPS, mert már van, amelyek segítenek az adatok integritásának érintő hálózati hibák beépített adatok integritás-ellenőrzést.</span><span class="sxs-lookup"><span data-stu-id="62797-384">Even though the data is encrypted going across the wire, we recommend that you also use HTTPS, as it has data integrity checks built in which help mitigate network errors affecting the integrity of the data.</span></span>

<span data-ttu-id="62797-385">Ügyféloldali titkosítás egyben inaktív, az adatok titkosítására, a titkosított formában tárolja az adatokat.</span><span class="sxs-lookup"><span data-stu-id="62797-385">Client-side encryption is also a method for encrypting your data at rest, as the data is stored in its encrypted form.</span></span> <span data-ttu-id="62797-386">Lesz döntésről bővebben Ez a szakasz részletesen a [titkosítását](#encryption-at-rest).</span><span class="sxs-lookup"><span data-stu-id="62797-386">We'll talk about this in more detail in the section on [Encryption at Rest](#encryption-at-rest).</span></span>

## <a name="encryption-at-rest"></a><span data-ttu-id="62797-387">Aktívan titkosítása</span><span class="sxs-lookup"><span data-stu-id="62797-387">Encryption at Rest</span></span>
<span data-ttu-id="62797-388">Nincsenek három Azure szolgáltatást biztosító titkosítását.</span><span class="sxs-lookup"><span data-stu-id="62797-388">There are three Azure features that provide encryption at rest.</span></span> <span data-ttu-id="62797-389">Az Azure Disk Encryption az operációsrendszer- és adatlemezek IaaS virtuális gépek titkosítására szolgál.</span><span class="sxs-lookup"><span data-stu-id="62797-389">Azure Disk Encryption is used to encrypt the OS and data disks in IaaS Virtual Machines.</span></span> <span data-ttu-id="62797-390">A másik két – ügyféloldali titkosítás és SSE – amelyek mind az Azure Storage-adatok titkosítására használt.</span><span class="sxs-lookup"><span data-stu-id="62797-390">The other two – Client-side Encryption and SSE – are both used to encrypt data in Azure Storage.</span></span> <span data-ttu-id="62797-391">Most ezen, tekintse meg a összehasonlítása és tekintse meg, ha azok már nem használható.</span><span class="sxs-lookup"><span data-stu-id="62797-391">Let's look at each of these, and then do a comparison and see when each one can be used.</span></span>

<span data-ttu-id="62797-392">Ügyféloldali titkosítás használhatja az adattitkosítást átvitel közben (amely a tárolási titkosítás nélkül is tárol), célszerű lehet egyszerűen az átvitel közben HTTPS PROTOKOLLT használja, és az adatok titkosításához automatikusan tárolt néhány lehetőség.</span><span class="sxs-lookup"><span data-stu-id="62797-392">While you can use Client-side Encryption to encrypt the data in transit (which is also stored in its encrypted form in Storage), you may prefer to simply use HTTPS during the transfer, and have some way for the data to be automatically encrypted when it is stored.</span></span> <span data-ttu-id="62797-393">Két módon ehhez--Azure Disk Encryption és SSE.</span><span class="sxs-lookup"><span data-stu-id="62797-393">There are two ways to do this -- Azure Disk Encryption and SSE.</span></span> <span data-ttu-id="62797-394">Közvetlenül a virtuális gépek által használt operációsrendszer- és adatlemezek az adatok titkosításához használt egyik, és az egyéb Azure Blob Storage írt adatok titkosítására szolgál.</span><span class="sxs-lookup"><span data-stu-id="62797-394">One is used to directly encrypt the data on OS and data disks used by VMs, and the other is used to encrypt data written to Azure Blob Storage.</span></span>

### <a name="storage-service-encryption-sse"></a><span data-ttu-id="62797-395">Storage szolgáltatás titkosítási (SSE)</span><span class="sxs-lookup"><span data-stu-id="62797-395">Storage Service Encryption (SSE)</span></span>
<span data-ttu-id="62797-396">SSE lehetővé teszi, hogy a társzolgáltatás automatikusan titkosítja az adatokat, az Azure Storage írásakor.</span><span class="sxs-lookup"><span data-stu-id="62797-396">SSE allows you to request that the storage service automatically encrypt the data when writing it to Azure Storage.</span></span> <span data-ttu-id="62797-397">Olvasásakor az adatok Azure Storage-ból, azt a rendszer visszafejti a tároló szolgáltatás által visszaadott előtt.</span><span class="sxs-lookup"><span data-stu-id="62797-397">When you read the data from Azure Storage, it will be decrypted by the storage service before being returned.</span></span> <span data-ttu-id="62797-398">Ez lehetővé teszi, hogy az adatok védelme anélkül, hogy a kód módosítására, vagy adja hozzá a kódot az alkalmazásokat.</span><span class="sxs-lookup"><span data-stu-id="62797-398">This enables you to secure your data without having to modify code or add code to any applications.</span></span>

<span data-ttu-id="62797-399">Ez az a beállítást, amely a teljes tárfiókot vonatkozik.</span><span class="sxs-lookup"><span data-stu-id="62797-399">This is a setting that applies to the whole storage account.</span></span> <span data-ttu-id="62797-400">Engedélyezi, és a beállítás értékének módosításával letilthatja ezt a funkciót.</span><span class="sxs-lookup"><span data-stu-id="62797-400">You can enable and disable this feature by changing the value of the setting.</span></span> <span data-ttu-id="62797-401">Ehhez használhatja az Azure-portálon, PowerShell, az Azure parancssori felület, a tárolási erőforrás-szolgáltató REST API vagy a .NET a Storage ügyféloldali kódtára.</span><span class="sxs-lookup"><span data-stu-id="62797-401">To do this, you can use the Azure portal, PowerShell, the Azure CLI, the Storage Resource Provider REST API, or the .NET Storage Client Library.</span></span> <span data-ttu-id="62797-402">Alapértelmezés szerint az SSE ki van kapcsolva.</span><span class="sxs-lookup"><span data-stu-id="62797-402">By default, SSE is turned off.</span></span>

<span data-ttu-id="62797-403">Ilyenkor a titkosításához használt kulcsok a Microsoft által felügyelt.</span><span class="sxs-lookup"><span data-stu-id="62797-403">At this time, the keys used for the encryption are managed by Microsoft.</span></span> <span data-ttu-id="62797-404">Azt a kulcsok létrehozásához eredetileg, és tárolja biztonságos kulcsok, valamint rendszeres elforgatási belső Microsoft házirend által definiált konfigurációjának kialakításához.</span><span class="sxs-lookup"><span data-stu-id="62797-404">We generate the keys originally, and manage the secure storage of the keys as well as the regular rotation as defined by internal Microsoft policy.</span></span> <span data-ttu-id="62797-405">A jövőben meg fog képes kezelni a saját titkosítási kulcsok lekérése, és adja meg a Microsoft által felügyelt kulcsok áttelepítési elérési kulcsok ügyfél által felügyelt.</span><span class="sxs-lookup"><span data-stu-id="62797-405">In the future, you will get the ability to manage your own encryption keys, and provide a migration path from Microsoft-managed keys to customer-managed keys.</span></span>

<span data-ttu-id="62797-406">Ez a funkció a Resource Manager telepítési modellel készült Standard és prémium szintű Storage-fiókok érhető el.</span><span class="sxs-lookup"><span data-stu-id="62797-406">This feature is available for Standard and Premium Storage accounts created using the Resource Manager deployment model.</span></span> <span data-ttu-id="62797-407">SSE csak a blokkblobokat, lapblobokat és hozzáfűző blobok vonatkozik.</span><span class="sxs-lookup"><span data-stu-id="62797-407">SSE applies only to block blobs, page blobs, and append blobs.</span></span> <span data-ttu-id="62797-408">A más típusú adatok, beleértve a táblák, üzenetsorok és fájlok, nem lesznek titkosítva.</span><span class="sxs-lookup"><span data-stu-id="62797-408">The other types of data, including tables, queues, and files, will not be encrypted.</span></span>

<span data-ttu-id="62797-409">Adatok titkosítása csak egy, ha SSE engedélyezve van, és az adatok kerülnek a Blob Storage.</span><span class="sxs-lookup"><span data-stu-id="62797-409">Data is only encrypted when SSE is enabled and the data is written to Blob Storage.</span></span> <span data-ttu-id="62797-410">Engedélyezés vagy letiltás SSE nem befolyásolja a meglévő adatokat.</span><span class="sxs-lookup"><span data-stu-id="62797-410">Enabling or disabling SSE does not impact existing data.</span></span> <span data-ttu-id="62797-411">Ez azt jelenti Ha engedélyezi ezt a titkosítást, nem lépjen vissza, és már létező; adatok titkosítása sem fog visszafejteni az adatokat, már létező SSE letiltásakor.</span><span class="sxs-lookup"><span data-stu-id="62797-411">In other words, when you enable this encryption, it will not go back and encrypt data that already exists; nor will it decrypt the data that already exists when you disable SSE.</span></span>

<span data-ttu-id="62797-412">Ha szeretne egy klasszikus tárfiókot használja ezt a szolgáltatást, hozzon létre egy új erőforrás-kezelő tárfiókot, és másolja az adatokat az új fiók az AzCopy segítségével.</span><span class="sxs-lookup"><span data-stu-id="62797-412">If you want to use this feature with a Classic storage account, you can create a new Resource Manager storage account and use AzCopy to copy the data to the new account.</span></span>

### <a name="client-side-encryption"></a><span data-ttu-id="62797-413">Ügyféloldali titkosítás</span><span class="sxs-lookup"><span data-stu-id="62797-413">Client-side Encryption</span></span>
<span data-ttu-id="62797-414">Ügyféloldali titkosítás azt említett, az adatok átvitele történik a titkosítás ismertetésekor.</span><span class="sxs-lookup"><span data-stu-id="62797-414">We mentioned client-side encryption when discussing the encryption of the data in transit.</span></span> <span data-ttu-id="62797-415">Ez a funkció lehetővé teszi a programozott módon az ügyfélalkalmazás mielőtt elküldené a hálózaton keresztül Azure Storage kellene írni, és szoftveres visszafejteni az adatok beolvasása az Azure Storage-ból után az adatok titkosítását.</span><span class="sxs-lookup"><span data-stu-id="62797-415">This feature allows you to programmatically encrypt your data in a client application before sending it across the wire to be written to Azure Storage, and to programmatically decrypt your data after retrieving it from Azure Storage.</span></span>

<span data-ttu-id="62797-416">Így a titkosítás az átvitel során, de aktívan titkosítás funkciót is biztosít.</span><span class="sxs-lookup"><span data-stu-id="62797-416">This does provide encryption in transit, but it also provides the feature of Encryption at Rest.</span></span> <span data-ttu-id="62797-417">Vegye figyelembe, hogy bár az adatok titkosítása az átvitel során, ajánlott előnyeit, amelyek segítenek az adatok integritásának érintő hálózati hibák beépített adatok integritás-ellenőrzést a HTTPS protokoll használatával.</span><span class="sxs-lookup"><span data-stu-id="62797-417">Note that although the data is encrypted in transit, we still recommend using HTTPS to take advantage of the built-in data integrity checks which help mitigate network errors affecting the integrity of the data.</span></span>

<span data-ttu-id="62797-418">Amennyiben ezzel például ha egy webes alkalmazás, amely BLOB tárolja, és lekéri a blobok, de azt szeretné, hogy az alkalmazás és az adatok a biztonságos lehető.</span><span class="sxs-lookup"><span data-stu-id="62797-418">An example of where you might use this is if you have a web application that stores blobs and retrieves blobs, and you want the application and data to be as secure as possible.</span></span> <span data-ttu-id="62797-419">Ebben az esetben használja az ügyféloldali titkosítás.</span><span class="sxs-lookup"><span data-stu-id="62797-419">In that case, you would use client-side encryption.</span></span> <span data-ttu-id="62797-420">A forgalom között az ügyfél és az Azure Blob szolgáltatás a titkosított erőforrást tartalmaz, és senki sem értelmezheti az adatokat átvitel közben, és a titkos blobok pótlására azt.</span><span class="sxs-lookup"><span data-stu-id="62797-420">The traffic between the client and the Azure Blob Service contains the encrypted resource, and nobody can interpret the data in transit and reconstitute it into your private blobs.</span></span>

<span data-ttu-id="62797-421">Ügyféloldali titkosítás a Java és a .NET storage ügyfélkódtáraival, amelyek viszont a Azure kulcs tároló API-k, így ahhoz, hogy implementálja igen egyszerű van beépítve.</span><span class="sxs-lookup"><span data-stu-id="62797-421">Client-side encryption is built into the Java and the .NET storage client libraries, which in turn use the Azure Key Vault APIs, making it pretty easy for you to implement.</span></span> <span data-ttu-id="62797-422">Az adatok titkosítása és visszafejtése folyamatán a boríték módszerrel, és a titkosítás, az egyes tárolási objektum által használt metaadatokat tárol.</span><span class="sxs-lookup"><span data-stu-id="62797-422">The process of encrypting and decrypting the data uses the envelope technique, and stores metadata used by the encryption in each storage object.</span></span> <span data-ttu-id="62797-423">Például a blobok, tárol, a blob metaadatai között, a várólisták, azt hozzáadja azt minden sor üzenetet.</span><span class="sxs-lookup"><span data-stu-id="62797-423">For example, for blobs, it stores it in the blob metadata, while for queues, it adds it to each queue message.</span></span>

<span data-ttu-id="62797-424">A titkosítási magát Ön hozza létre és a saját titkosítási kulcsok kezeléséhez.</span><span class="sxs-lookup"><span data-stu-id="62797-424">For the encryption itself, you can generate and manage your own encryption keys.</span></span> <span data-ttu-id="62797-425">Használhatja az Azure Storage ügyféloldali kódtár által létrehozott kulcsok, vagy beállíthatja, hogy az Azure Key Vault a kulcsok létrehozásához.</span><span class="sxs-lookup"><span data-stu-id="62797-425">You can also use keys generated by the Azure Storage Client Library, or you can have the Azure Key Vault generate the keys.</span></span> <span data-ttu-id="62797-426">A titkosítási kulcsok tárolása a helyszíni kulcstároló, vagy tárolhatja őket az Azure Key Vault.</span><span class="sxs-lookup"><span data-stu-id="62797-426">You can store your encryption keys in your on-premises key storage, or you can store them in an Azure Key Vault.</span></span> <span data-ttu-id="62797-427">Az Azure Key Vault lehetővé teszi a titkos kulcsok Azure Key Vault a hozzáférést az adott felhasználóknak, az Azure Active Directoryval.</span><span class="sxs-lookup"><span data-stu-id="62797-427">Azure Key Vault allows you to grant access to the secrets in Azure Key Vault to specific users using Azure Active Directory.</span></span> <span data-ttu-id="62797-428">Ez azt jelenti, hogy birtokában bárki nem csak az Azure Key Vault olvasni, valamint használata ügyféloldali titkosítási kulcsok.</span><span class="sxs-lookup"><span data-stu-id="62797-428">This means that not just anybody can read the Azure Key Vault and retrieve the keys you're using for client-side encryption.</span></span>

#### <a name="resources"></a><span data-ttu-id="62797-429">Erőforrások</span><span class="sxs-lookup"><span data-stu-id="62797-429">Resources</span></span>
* [<span data-ttu-id="62797-430">Titkosításához és visszafejtéséhez az Azure Key Vault használatával a Microsoft Azure Storage blobs</span><span class="sxs-lookup"><span data-stu-id="62797-430">Encrypt and decrypt blobs in Microsoft Azure Storage using Azure Key Vault</span></span>](storage-encrypt-decrypt-blobs-key-vault.md)

  <span data-ttu-id="62797-431">Ez a cikk bemutatja, hogyan ügyféloldali titkosítás használata az Azure Key Vault, többek között a KEK létrehozása és a PowerShell használatával tárolóban tárolja.</span><span class="sxs-lookup"><span data-stu-id="62797-431">This article shows how to use client-side encryption with Azure Key Vault, including how to create the KEK and store it in the vault using PowerShell.</span></span>
* [<span data-ttu-id="62797-432">A Microsoft Azure Storage ügyféloldali titkosítás és az Azure Key Vault</span><span class="sxs-lookup"><span data-stu-id="62797-432">Client-Side Encryption and Azure Key Vault for Microsoft Azure Storage</span></span>](storage-client-side-encryption.md)

  <span data-ttu-id="62797-433">Ez a cikk ügyféloldali titkosítás magyarázatot ad, és példákat a storage ügyféloldali kódtár segítségével titkosításához és visszafejtéséhez a négy tárolási szolgáltatások erőforrásait.</span><span class="sxs-lookup"><span data-stu-id="62797-433">This article gives an explanation of client-side encryption, and provides examples of using the storage client library to encrypt and decrypt resources from the four storage services.</span></span> <span data-ttu-id="62797-434">Azt is Azure Key Vault szól.</span><span class="sxs-lookup"><span data-stu-id="62797-434">It also talks about Azure Key Vault.</span></span>

### <a name="using-azure-disk-encryption-to-encrypt-disks-used-by-your-virtual-machines"></a><span data-ttu-id="62797-435">A virtuális gépek által használt lemezek Azure Disk Encryption titkosítása</span><span class="sxs-lookup"><span data-stu-id="62797-435">Using Azure Disk Encryption to encrypt disks used by your virtual machines</span></span>
<span data-ttu-id="62797-436">Az Azure Disk Encryption az új szolgáltatása.</span><span class="sxs-lookup"><span data-stu-id="62797-436">Azure Disk Encryption is a new feature.</span></span> <span data-ttu-id="62797-437">Ez a funkció lehetővé teszi, hogy az operációs rendszer és az infrastruktúra-szolgáltatási virtuális gép által használt adatok lemezek titkosítását.</span><span class="sxs-lookup"><span data-stu-id="62797-437">This feature allows you to encrypt the OS disks and Data disks used by an IaaS Virtual Machine.</span></span> <span data-ttu-id="62797-438">A Windows a meghajtók titkosítása szabványos BitLocker titkosítás technológia használatával.</span><span class="sxs-lookup"><span data-stu-id="62797-438">For Windows, the drives are encrypted using industry-standard BitLocker encryption technology.</span></span> <span data-ttu-id="62797-439">Linux a lemez titkosítása a DM-Crypt technológia használatával.</span><span class="sxs-lookup"><span data-stu-id="62797-439">For Linux, the disks are encrypted using the DM-Crypt technology.</span></span> <span data-ttu-id="62797-440">Ez integrálva van az Azure Key Vault lehetővé teszi a lemez titkosítási kulcsok kezeléséhez, és szabályozhatja.</span><span class="sxs-lookup"><span data-stu-id="62797-440">This is integrated with Azure Key Vault to allow you to control and manage the disk encryption keys.</span></span>

<span data-ttu-id="62797-441">A megoldás a következő szituációkat IaaS virtuális gépek Microsoft Azure-ban engedélyezésekor:</span><span class="sxs-lookup"><span data-stu-id="62797-441">The solution supports the following scenarios for IaaS VMs when they are enabled in Microsoft Azure:</span></span>

* <span data-ttu-id="62797-442">Az Azure Key Vault integrációja</span><span class="sxs-lookup"><span data-stu-id="62797-442">Integration with Azure Key Vault</span></span>
* <span data-ttu-id="62797-443">Standard szint virtuális gépek: [A, D, DS, G, GS és stb adatsorozat IaaS virtuális gépeket](https://azure.microsoft.com/pricing/details/virtual-machines/)</span><span class="sxs-lookup"><span data-stu-id="62797-443">Standard tier VMs: [A, D, DS, G, GS, and so forth series IaaS VMs](https://azure.microsoft.com/pricing/details/virtual-machines/)</span></span>
* <span data-ttu-id="62797-444">A Windows és Linux IaaS virtuális gépeket titkosítás engedélyezése</span><span class="sxs-lookup"><span data-stu-id="62797-444">Enabling encryption on Windows and Linux IaaS VMs</span></span>
* <span data-ttu-id="62797-445">Az operációs rendszer és az adatok titkosításának letiltása Windows IaaS virtuális meghajtók</span><span class="sxs-lookup"><span data-stu-id="62797-445">Disabling encryption on OS and data drives for Windows IaaS VMs</span></span>
* <span data-ttu-id="62797-446">Linux IaaS virtuális gépeket az adatmeghajtók titkosításának letiltása</span><span class="sxs-lookup"><span data-stu-id="62797-446">Disabling encryption on data drives for Linux IaaS VMs</span></span>
* <span data-ttu-id="62797-447">Az infrastruktúra-szolgáltatási virtuális gépeken futó Windows-ügyfél operációs rendszert futtató titkosítás engedélyezése</span><span class="sxs-lookup"><span data-stu-id="62797-447">Enabling encryption on IaaS VMs that are running Windows client OS</span></span>
* <span data-ttu-id="62797-448">Csatlakoztatási elérési utakat tartalmazó kötetek titkosítás engedélyezése</span><span class="sxs-lookup"><span data-stu-id="62797-448">Enabling encryption on volumes with mount paths</span></span>
* <span data-ttu-id="62797-449">A Linux virtuális gépeken, a lemez (RAID) szétosztott mdadm használatával konfigurált titkosítás engedélyezése</span><span class="sxs-lookup"><span data-stu-id="62797-449">Enabling encryption on Linux VMs that are configured with disk striping (RAID) by using mdadm</span></span>
* <span data-ttu-id="62797-450">A Linux virtuális gépeken titkosítás engedélyezése adatlemezek LVM használatával</span><span class="sxs-lookup"><span data-stu-id="62797-450">Enabling encryption on Linux VMs by using LVM for data disks</span></span>
* <span data-ttu-id="62797-451">A Windows virtuális gépeken, a tárolóhelyek használatával konfigurált titkosítás engedélyezése</span><span class="sxs-lookup"><span data-stu-id="62797-451">Enabling encryption on Windows VMs that are configured by using storage spaces</span></span>
* <span data-ttu-id="62797-452">Minden Azure-nyilvános régió támogatottak.</span><span class="sxs-lookup"><span data-stu-id="62797-452">All Azure public regions are supported</span></span>

<span data-ttu-id="62797-453">A megoldás nem támogatja a következő forgatókönyvek, szolgáltatások és technológia a kiadásban:</span><span class="sxs-lookup"><span data-stu-id="62797-453">The solution does not support the following scenarios, features, and technology in the release:</span></span>

* <span data-ttu-id="62797-454">Az alapszintű csomag IaaS virtuális gépeket</span><span class="sxs-lookup"><span data-stu-id="62797-454">Basic tier IaaS VMs</span></span>
* <span data-ttu-id="62797-455">Linux IaaS virtuális gépeket egy operációs rendszer meghajtóján titkosításának letiltása</span><span class="sxs-lookup"><span data-stu-id="62797-455">Disabling encryption on an OS drive for Linux IaaS VMs</span></span>
* <span data-ttu-id="62797-456">Infrastruktúra-szolgáltatási virtuális gépeket, a klasszikus virtuális gép létrehozási módszer használatával létrehozott</span><span class="sxs-lookup"><span data-stu-id="62797-456">IaaS VMs that are created by using the classic VM creation method</span></span>
* <span data-ttu-id="62797-457">Integráció a helyszíni kulcskezelő szolgáltatás</span><span class="sxs-lookup"><span data-stu-id="62797-457">Integration with your on-premises Key Management Service</span></span>
* <span data-ttu-id="62797-458">Az Azure File storage (megosztott fájlrendszer), a hálózati fájlrendszer (NFS), a dinamikus köteteket és a Windows alapú szoftveres RAID-rendszerek használatára konfigurált virtuális gépek</span><span class="sxs-lookup"><span data-stu-id="62797-458">Azure File storage (shared file system), Network File System (NFS), dynamic volumes, and Windows VMs that are configured with software-based RAID systems</span></span>


> [!NOTE]
> <span data-ttu-id="62797-459">A következő Linux terjesztésekről jelenleg támogatott Linux operációs rendszert futtató lemeztitkosítás: RHEL 7.2, CentOS 7.2n és Ubuntu 16.04.</span><span class="sxs-lookup"><span data-stu-id="62797-459">Linux OS disk encryption is currently supported on the following Linux distributions: RHEL 7.2, CentOS 7.2n, and Ubuntu 16.04.</span></span>
>
>

<span data-ttu-id="62797-460">Ez a szolgáltatás biztosítja, hogy a virtuális gépek lemezeit a összes adata titkosításra kerül-e az Azure Storage aktívan.</span><span class="sxs-lookup"><span data-stu-id="62797-460">This feature ensures that all data on your virtual machine disks is encrypted at rest in Azure Storage.</span></span>

#### <a name="resources"></a><span data-ttu-id="62797-461">Erőforrások</span><span class="sxs-lookup"><span data-stu-id="62797-461">Resources</span></span>
* [<span data-ttu-id="62797-462">Windows és Linux IaaS virtuális gépeket az Azure Disk Encryption</span><span class="sxs-lookup"><span data-stu-id="62797-462">Azure Disk Encryption for Windows and Linux IaaS VMs</span></span>](https://docs.microsoft.com/en-us/azure/security/azure-security-disk-encryption)

### <a name="comparison-of-azure-disk-encryption-sse-and-client-side-encryption"></a><span data-ttu-id="62797-463">Az Azure Disk Encryption, az SSE és az ügyféloldali titkosítás összehasonlítása</span><span class="sxs-lookup"><span data-stu-id="62797-463">Comparison of Azure Disk Encryption, SSE, and Client-Side Encryption</span></span>
#### <a name="iaas-vms-and-their-vhd-files"></a><span data-ttu-id="62797-464">Infrastruktúra-szolgáltatási virtuális gépek és a VHD-fájlok</span><span class="sxs-lookup"><span data-stu-id="62797-464">IaaS VMs and their VHD files</span></span>
<span data-ttu-id="62797-465">Infrastruktúra-szolgáltatási virtuális gépek által használt lemezek azt javasoljuk, Azure Disk Encryption.</span><span class="sxs-lookup"><span data-stu-id="62797-465">For disks used by IaaS VMs, we recommend using Azure Disk Encryption.</span></span> <span data-ttu-id="62797-466">Az Azure Storage lemezek biztonsági használt VHD-fájlok titkosítására SSE bekapcsolása, de csak titkosítja a újonnan írt adatok.</span><span class="sxs-lookup"><span data-stu-id="62797-466">You can turn on SSE to encrypt the VHD files that are used to back those disks in Azure Storage, but it only encrypts newly written data.</span></span> <span data-ttu-id="62797-467">Ez azt jelenti, hogy hozzon létre egy virtuális Gépet, és engedélyez SSE a tárfiók, amely a VHD-fájl tárolja, ha csak a módosítása titkosítja, nem az eredeti VHD-fájlt.</span><span class="sxs-lookup"><span data-stu-id="62797-467">This means if you create a VM and then enable SSE on the storage account that holds the VHD file, only the changes will be encrypted, not the original VHD file.</span></span>

<span data-ttu-id="62797-468">Ha Ön egy virtuális gép létrehozása lemezkép az Azure piactérről, az Azure-ban egy [másolási sekély](https://en.wikipedia.org/wiki/Object_copying) a kép a tárolási fiók az Azure Storage, és nem titkosított akkor is, ha az SSE engedélyezve van.</span><span class="sxs-lookup"><span data-stu-id="62797-468">If you create a VM using an image from the Azure Marketplace, Azure performs a [shallow copy](https://en.wikipedia.org/wiki/Object_copying) of the image to your storage account in Azure Storage, and it is not encrypted even if you have SSE enabled.</span></span> <span data-ttu-id="62797-469">Miután a virtuális Gépet hoz létre, és elindítja a lemezkép frissítése, SSE indul el az adatok titkosításához.</span><span class="sxs-lookup"><span data-stu-id="62797-469">After it creates the VM and starts updating the image, SSE will start encrypting the data.</span></span> <span data-ttu-id="62797-470">Emiatt érdemes használni az Azure Disk Encryption szeretné teljesen titkosítottak, a lemezképek az Azure piactéren alapján létrehozott virtuális gépeken.</span><span class="sxs-lookup"><span data-stu-id="62797-470">For this reason, it's best to use Azure Disk Encryption on VMs created from images in the Azure Marketplace if you want them fully encrypted.</span></span>

<span data-ttu-id="62797-471">Ha később egy előre titkosított virtuális Gépet az Azure a helyszíni, lesz, a titkosítási kulcsok feltöltése az Azure Key Vaultba, és továbbra is a titkosítást használni ezt a virtuális gépet, hogy a helyszínen használt.</span><span class="sxs-lookup"><span data-stu-id="62797-471">If you bring a pre-encrypted VM into Azure from on-premises, you will be able to upload the encryption keys to Azure Key Vault, and continue using the encryption for that VM that you were using on-premises.</span></span> <span data-ttu-id="62797-472">Az Azure Disk Encryption engedélyezve van ez a forgatókönyv kezelésére.</span><span class="sxs-lookup"><span data-stu-id="62797-472">Azure Disk Encryption is enabled to handle this scenario.</span></span>

<span data-ttu-id="62797-473">Ha virtuális merevlemez nem titkosított a helyszíni, töltse fel az egyéni lemezképként gyűjteménye, és a virtuális gép kiépítéséhez.</span><span class="sxs-lookup"><span data-stu-id="62797-473">If you have non-encrypted VHD from on-premises, you can upload it into the gallery as a custom image and provision a VM from it.</span></span> <span data-ttu-id="62797-474">Ehhez a Resource Manager-sablonok használatával, kérje meg, hogy a virtuális gép elinduló Azure Disk Encryption bekapcsolás.</span><span class="sxs-lookup"><span data-stu-id="62797-474">If you do this using the Resource Manager templates, you can ask it to turn on Azure Disk Encryption when it boots up the VM.</span></span>

<span data-ttu-id="62797-475">Ha hozzá adatlemezt, és csatlakoztassa azt a virtuális Gépet, a lemezen levő adatok bekapcsolhatja Azure Disk Encryption.</span><span class="sxs-lookup"><span data-stu-id="62797-475">When you add a data disk and mount it on the VM, you can turn on Azure Disk Encryption on that data disk.</span></span> <span data-ttu-id="62797-476">Először titkosítja az adott adatok lemezek helyi, és hogy a szolgáltatás felügyeleti réteg válasszon lehetőségek elleni tárolási Lusta írási, a tárolási tartalom titkosított.</span><span class="sxs-lookup"><span data-stu-id="62797-476">It will encrypt that data disk locally first, and then the service management layer will do a lazy write against storage so the storage content is encrypted.</span></span>

#### <a name="client-side-encryption"></a><span data-ttu-id="62797-477">Ügyféloldali titkosítás</span><span class="sxs-lookup"><span data-stu-id="62797-477">Client-side encryption</span></span>
<span data-ttu-id="62797-478">Ügyféloldali titkosítás a legbiztonságosabb lehetőség titkosítja az adatokat, mert átvitel előtt titkosítja azokat, és titkosítja az adatokat aktívan.</span><span class="sxs-lookup"><span data-stu-id="62797-478">Client-side encryption is the most secure method of encrypting your data, because it encrypts it before transit, and encrypts the data at rest.</span></span> <span data-ttu-id="62797-479">Azonban ez nem igényel kód hozzáadása az alkalmazások, a tároló, amely előfordulhat, hogy nem szeretné.</span><span class="sxs-lookup"><span data-stu-id="62797-479">However, it does require that you add code to your applications using storage, which you may not want to do.</span></span> <span data-ttu-id="62797-480">Ezekben az esetekben HTTPs használhatja az adatok az átvitel során, és SSE az inaktív adatok titkosítása.</span><span class="sxs-lookup"><span data-stu-id="62797-480">In those cases, you can use HTTPs for your data in transit, and SSE to encrypt the data at rest.</span></span>

<span data-ttu-id="62797-481">Az ügyféloldali titkosítással táblaentitásokat, az üzenetsor-üzeneteket és a blobok titkosíthatók.</span><span class="sxs-lookup"><span data-stu-id="62797-481">With client-side encryption, you can encrypt table entities, queue messages, and blobs.</span></span> <span data-ttu-id="62797-482">Az SSE blobok csak titkosíthatja.</span><span class="sxs-lookup"><span data-stu-id="62797-482">With SSE, you can only encrypt blobs.</span></span> <span data-ttu-id="62797-483">Ha módosítania kell, hogy a tábla- és várólista adatok titkosításához, ügyféloldali titkosítás kell használnia.</span><span class="sxs-lookup"><span data-stu-id="62797-483">If you need table and queue data to be encrypted, you should use client-side encryption.</span></span>

<span data-ttu-id="62797-484">Ügyféloldali titkosítás teljes mértékben az alkalmazás kezeli.</span><span class="sxs-lookup"><span data-stu-id="62797-484">Client-side encryption is managed entirely by the application.</span></span> <span data-ttu-id="62797-485">Ez a legbiztonságosabb módszer, de kell programozott módosítja az alkalmazás és kulcskezelés folyamatok vezetnek be.</span><span class="sxs-lookup"><span data-stu-id="62797-485">This is the most secure approach, but does require you to make programmatic changes to your application and put key management processes in place.</span></span> <span data-ttu-id="62797-486">Használja ezt a további biztonsági átvitel során, és azt szeretné, hogy a tárolt adatok titkosításához.</span><span class="sxs-lookup"><span data-stu-id="62797-486">You would use this when you want the extra security during transit, and you want your stored data to be encrypted.</span></span>

<span data-ttu-id="62797-487">Ügyféloldali titkosítás nagyobb terhelést az ügyfélen, és különösen akkor, ha titkosított és nagy mennyiségű adat átvitele a méretezhetőség tervek a fiókot, hogy.</span><span class="sxs-lookup"><span data-stu-id="62797-487">Client-side encryption is more load on the client, and you have to account for this in your scalability plans, especially if you are encrypting and transferring a lot of data.</span></span>

#### <a name="storage-service-encryption-sse"></a><span data-ttu-id="62797-488">Storage szolgáltatás titkosítási (SSE)</span><span class="sxs-lookup"><span data-stu-id="62797-488">Storage Service Encryption (SSE)</span></span>
<span data-ttu-id="62797-489">Azure Storage SSE kezeli.</span><span class="sxs-lookup"><span data-stu-id="62797-489">SSE is managed by Azure Storage.</span></span> <span data-ttu-id="62797-490">SSE használatával nem biztosítja a biztonsági adatok az átvitel során, de az adatok titkosítása, Azure Storage változatlan formában.</span><span class="sxs-lookup"><span data-stu-id="62797-490">Using SSE does not provide for the security of the data in transit, but it does encrypt the data as it is written to Azure Storage.</span></span> <span data-ttu-id="62797-491">Nincs hatással a teljesítményre gyakorolt a szolgáltatás használata során.</span><span class="sxs-lookup"><span data-stu-id="62797-491">There is no impact on the performance when using this feature.</span></span>

<span data-ttu-id="62797-492">Csak titkosítása blokkblobokat, hozzáfűző blobokat és lapblobokat SSE használatával.</span><span class="sxs-lookup"><span data-stu-id="62797-492">You can only encrypt block blobs, append blobs, and page blobs using SSE.</span></span> <span data-ttu-id="62797-493">Ha tábla vagy várólista-adatok titkosítására van szüksége, érdemes ügyféloldali titkosítással történik.</span><span class="sxs-lookup"><span data-stu-id="62797-493">If you need to encrypt table data or queue data, you should consider using client-side encryption.</span></span>

<span data-ttu-id="62797-494">Ha egy archív vagy a könyvtár a VHD-fájlokat az új virtuális gépek létrehozásának alapjaként használja, hozzon létre egy új tárfiókot, SSE engedélyezése és majd töltse fel a VHD-fájlok ezekhez a fiókokhoz.</span><span class="sxs-lookup"><span data-stu-id="62797-494">If you have an archive or library of VHD files that you use as a basis for creating new virtual machines, you can create a new storage account, enable SSE, and then upload the VHD files to that account.</span></span> <span data-ttu-id="62797-495">Ezeket a VHD-fájlok Azure Storage titkosítva legyen.</span><span class="sxs-lookup"><span data-stu-id="62797-495">Those VHD files will be encrypted by Azure Storage.</span></span>

<span data-ttu-id="62797-496">Ha az Azure Disk Encryption a lemezt egy virtuális gép, és engedélyezve van a tárfiók a VHD-fájlokat tároló SSE engedélyezve van, akkor fog működni részletes; kétszer titkosított újonnan írt adatok okoz.</span><span class="sxs-lookup"><span data-stu-id="62797-496">If you have Azure Disk Encryption enabled for the disks in a VM and SSE enabled on the storage account holding the VHD files, it will work fine; it will result in any newly-written data being encrypted twice.</span></span>

## <a name="storage-analytics"></a><span data-ttu-id="62797-497">Storage Analytics</span><span class="sxs-lookup"><span data-stu-id="62797-497">Storage Analytics</span></span>
### <a name="using-storage-analytics-to-monitor-authorization-type"></a><span data-ttu-id="62797-498">Storage Analytics segítségével engedélyezési figyelőtípus</span><span class="sxs-lookup"><span data-stu-id="62797-498">Using Storage Analytics to monitor authorization type</span></span>
<span data-ttu-id="62797-499">Minden tárfiók engedélyezheti az Azure Storage Analytics naplózási elvégzéséhez és a metrikák adatainak tárolásához.</span><span class="sxs-lookup"><span data-stu-id="62797-499">For each storage account, you can enable Azure Storage Analytics to perform logging and store metrics data.</span></span> <span data-ttu-id="62797-500">Ez az egy remek eszköz használatára ellenőrizheti a tárfiók a teljesítményi értékeket, vagy kell elhárítania a storage-fiók, mert teljesítményproblémák lépnek.</span><span class="sxs-lookup"><span data-stu-id="62797-500">This is a great tool to use when you want to check the performance metrics of a storage account, or need to troubleshoot a storage account because you are having performance problems.</span></span>

<span data-ttu-id="62797-501">A storage analytics naplók látható egy másik adat tároló elérésekor valaki által használt hitelesítési módszert.</span><span class="sxs-lookup"><span data-stu-id="62797-501">Another piece of data you can see in the storage analytics logs is the authentication method used by someone when they access storage.</span></span> <span data-ttu-id="62797-502">Például a Blob-tároló, megtekintheti azokat használni egy közös hozzáférésű Jogosultságkód vagy a tárfiókok kulcsait, vagy ha a blob elérhető nyilvános volt.</span><span class="sxs-lookup"><span data-stu-id="62797-502">For example, with Blob Storage, you can see if they used a Shared Access Signature or the storage account keys, or if the blob accessed was public.</span></span>

<span data-ttu-id="62797-503">Ez valóban akkor hasznos, ha szorosan esetlegesen korán tároló elérésére lehet.</span><span class="sxs-lookup"><span data-stu-id="62797-503">This can be really helpful if you are tightly guarding access to storage.</span></span> <span data-ttu-id="62797-504">Például a Blob Storage tárolóban után állítsa be a tároló összes magán is valósítja meg az SAS-szolgáltatás használata az alkalmazások teljes.</span><span class="sxs-lookup"><span data-stu-id="62797-504">For example, in Blob Storage you can set all of the containers to private and implement the use of an SAS service throughout your applications.</span></span> <span data-ttu-id="62797-505">Ellenőrizze rendszeresen a naplókat blobok a tárfiókok kulcsait, ami azt jelezheti a biztonság megsértése, érhető el, vagy ha a blobok olyan nyilvános, de nem lehetnek.</span><span class="sxs-lookup"><span data-stu-id="62797-505">Then you can check the logs regularly to see if your blobs are accessed using the storage account keys, which may indicate a breach of security, or if the blobs are public but they shouldn't be.</span></span>

#### <a name="what-do-the-logs-look-like"></a><span data-ttu-id="62797-506">Hogyan hajtsa végre a naplók meg?</span><span class="sxs-lookup"><span data-stu-id="62797-506">What do the logs look like?</span></span>
<span data-ttu-id="62797-507">Engedélyezi a tárolási fiók metrikák és naplózás az Azure portálon keresztül, analitikai adatok megkezdik gyorsan felhalmozhat után.</span><span class="sxs-lookup"><span data-stu-id="62797-507">After you enable the storage account metrics and logging through the Azure portal, analytics data will start to accumulate quickly.</span></span> <span data-ttu-id="62797-508">A naplózás és a metrikák minden szolgáltatás külön; a naplózás csak akkor ír, amikor a forgalom storage-fiókhoz tartozó közben minden percben, óránként vagy naponta, attól függően, hogy hogyan konfigurálja a metrikák lesz naplózva.</span><span class="sxs-lookup"><span data-stu-id="62797-508">The logging and metrics for each service is separate; the logging is only written when there is activity in that storage account, while the metrics will be logged every minute, every hour, or every day, depending on how you configure it.</span></span>

<span data-ttu-id="62797-509">A naplók blokkblobokat a tárfiókban $logs nevű tárolóban vannak tárolva.</span><span class="sxs-lookup"><span data-stu-id="62797-509">The logs are stored in block blobs in a container named $logs in the storage account.</span></span> <span data-ttu-id="62797-510">Ebben a tárolóban automatikusan jön létre, ha engedélyezve van a tárolási analitika.</span><span class="sxs-lookup"><span data-stu-id="62797-510">This container is automatically created when Storage Analytics is enabled.</span></span> <span data-ttu-id="62797-511">A tároló jön létre, nem törölhetők, de törölheti annak tartalmát.</span><span class="sxs-lookup"><span data-stu-id="62797-511">Once this container is created, you can't delete it, although you can delete its contents.</span></span>

<span data-ttu-id="62797-512">A $logs tárolóban a mappa minden egyes szolgáltatás, és majd nincsenek almappái az év/hónap/nap/óra.</span><span class="sxs-lookup"><span data-stu-id="62797-512">Under the $logs container, there is a folder for each service, and then there are subfolders for the year/month/day/hour.</span></span> <span data-ttu-id="62797-513">Az óra a naplók egyszerűen számozása.</span><span class="sxs-lookup"><span data-stu-id="62797-513">Under hour, the logs are simply numbered.</span></span> <span data-ttu-id="62797-514">Ez az mit fog kinézni a mappastruktúrát:</span><span class="sxs-lookup"><span data-stu-id="62797-514">This is what the directory structure will look like:</span></span>

![Naplófájlok megtekintése](./media/storage-security-guide/image1.png)

<span data-ttu-id="62797-516">Azure Storage minden kérést a rendszer naplózza.</span><span class="sxs-lookup"><span data-stu-id="62797-516">Every request to Azure Storage is logged.</span></span> <span data-ttu-id="62797-517">Íme egy naplófájlba, az első néhány mezőket megjelenítő pillanatképet.</span><span class="sxs-lookup"><span data-stu-id="62797-517">Here's a snapshot of a log file, showing the first few fields.</span></span>

![Pillanatkép egy naplófájl](./media/storage-security-guide/image2.png)

<span data-ttu-id="62797-519">Láthatja, hogy segítségével a naplók tárfiókba hívások bármilyen nyomon.</span><span class="sxs-lookup"><span data-stu-id="62797-519">You can see that you can use the logs to track any kind of calls to a storage account.</span></span>

#### <a name="what-are-all-of-those-fields-for"></a><span data-ttu-id="62797-520">Mik azok a mezők összes?</span><span class="sxs-lookup"><span data-stu-id="62797-520">What are all of those fields for?</span></span>
<span data-ttu-id="62797-521">Van egy cikket, amely a erőforrásait, szerepel a naplókat, valamint a használatuk sok mezőinek listáját jeleníti meg.</span><span class="sxs-lookup"><span data-stu-id="62797-521">There is an article listed in the resources below that provides the list of the many fields in the logs and what they are used for.</span></span> <span data-ttu-id="62797-522">A mezők sorrendben listája itt található:</span><span class="sxs-lookup"><span data-stu-id="62797-522">Here is the list of fields in order:</span></span>

![Pillanatkép a mezők a naplófájlban](./media/storage-security-guide/image3.png)

<span data-ttu-id="62797-524">Azt is érdekli GetBlob vonatkozó bejegyzéseket, és hogyan hitelesítik, így kell a művelet-type "Get-Blob" bejegyzések, a kérelem-állapotának (4<sup>th</sup> oszlop) és a hitelesítési típus (8<sup>th</sup> oszlop).</span><span class="sxs-lookup"><span data-stu-id="62797-524">We're interested in the entries for GetBlob, and how they are authenticated, so we need to look for entries with operation-type "Get-Blob", and check the request-status (4<sup>th</sup> column) and the authorization-type (8<sup>th</sup> column).</span></span>

<span data-ttu-id="62797-525">Például a fenti listaelem első néhány sor a szolgáltatáskérés állapota "Sikeres" és a hitelesítési típus "hitelesített".</span><span class="sxs-lookup"><span data-stu-id="62797-525">For example, in the first few rows in the listing above, the request-status is "Success" and the authorization-type is "authenticated".</span></span> <span data-ttu-id="62797-526">Ez azt jelenti, hogy a kérelem a tárfiók kulcsa segítségével lett érvényesítve.</span><span class="sxs-lookup"><span data-stu-id="62797-526">This means the request was validated using the storage account key.</span></span>

#### <a name="how-are-my-blobs-being-authenticated"></a><span data-ttu-id="62797-527">Hogyan vannak a blobok hitelesített?</span><span class="sxs-lookup"><span data-stu-id="62797-527">How are my blobs being authenticated?</span></span>
<span data-ttu-id="62797-528">Három olyan esetekben, amely azt is van.</span><span class="sxs-lookup"><span data-stu-id="62797-528">We have three cases that we are interested in.</span></span>

1. <span data-ttu-id="62797-529">A blob nem nyilvános, és hozzáférés nélkül egy közös hozzáférésű Jogosultságkód egy URL-cím használatával.</span><span class="sxs-lookup"><span data-stu-id="62797-529">The blob is public and it is accessed using a URL without a Shared Access Signature.</span></span> <span data-ttu-id="62797-530">Ebben az esetben a kérelem-állapota "AnonymousSuccess" és az engedélyezési-típus: "névtelen".</span><span class="sxs-lookup"><span data-stu-id="62797-530">In this case, the request-status is "AnonymousSuccess" and the authorization-type is "anonymous".</span></span>

   <span data-ttu-id="62797-531">1.0; 2015-11-17T02:01:29.0488963Z; GetBlob; **AnonymousSuccess**; 200; 124; 37; **Névtelen**; mystorage...</span><span class="sxs-lookup"><span data-stu-id="62797-531">1.0;2015-11-17T02:01:29.0488963Z;GetBlob;**AnonymousSuccess**;200;124;37;**anonymous**;;mystorage…</span></span>
2. <span data-ttu-id="62797-532">A blob magánjellegű és egy közös hozzáférésű Jogosultságkód volt használva.</span><span class="sxs-lookup"><span data-stu-id="62797-532">The blob is private and was used with a Shared Access Signature.</span></span> <span data-ttu-id="62797-533">Ebben az esetben a kérelem-állapota "SASSuccess" és az engedélyezési-típus: "sas".</span><span class="sxs-lookup"><span data-stu-id="62797-533">In this case, the request-status is "SASSuccess" and the authorization-type is "sas".</span></span>

   <span data-ttu-id="62797-534">1.0; 2015-11-16T18:30:05.6556115Z; GetBlob; **SASSuccess**; 200; 416; 64; **SAS**; mystorage...</span><span class="sxs-lookup"><span data-stu-id="62797-534">1.0;2015-11-16T18:30:05.6556115Z;GetBlob;**SASSuccess**;200;416;64;**sas**;;mystorage…</span></span>
3. <span data-ttu-id="62797-535">A blob személyes, és a kulcs lett megadva az eléréséhez.</span><span class="sxs-lookup"><span data-stu-id="62797-535">The blob is private and the storage key was used to access it.</span></span> <span data-ttu-id="62797-536">Ebben az esetben a kérelem-állapota "**sikeres**"és a hitelesítési típus:"**hitelesített**".</span><span class="sxs-lookup"><span data-stu-id="62797-536">In this case, the request-status is "**Success**" and the authorization-type is "**authenticated**".</span></span>

   <span data-ttu-id="62797-537">1.0; 2015-11-16T18:32:24.3174537Z; GetBlob; **Sikeres**; 206-os; 59; 22; **hitelesített**; mystorage...</span><span class="sxs-lookup"><span data-stu-id="62797-537">1.0;2015-11-16T18:32:24.3174537Z;GetBlob;**Success**;206;59;22;**authenticated**;mystorage…</span></span>

<span data-ttu-id="62797-538">A Microsoft Message Analyzer segítségével megtekintheti, és ezek a naplók elemzése.</span><span class="sxs-lookup"><span data-stu-id="62797-538">You can use the Microsoft Message Analyzer to view and analyze these logs.</span></span> <span data-ttu-id="62797-539">Ez magában foglalja a keresési és szűrési lehetőségeket.</span><span class="sxs-lookup"><span data-stu-id="62797-539">It includes search and filter capabilities.</span></span> <span data-ttu-id="62797-540">Például előfordulhat, hogy a keresni kívánt GetBlob meg, ha a használati mi várható, azaz ellenőrizze, hogy valaki nem fér hozzá a tárfiók nem megfelelően példányai.</span><span class="sxs-lookup"><span data-stu-id="62797-540">For example, you might want to search for instances of GetBlob to see if the usage is what you expect, i.e. to make sure someone is not accessing your storage account inappropriately.</span></span>

#### <a name="resources"></a><span data-ttu-id="62797-541">Erőforrások</span><span class="sxs-lookup"><span data-stu-id="62797-541">Resources</span></span>
* [<span data-ttu-id="62797-542">Storage Analytics</span><span class="sxs-lookup"><span data-stu-id="62797-542">Storage Analytics</span></span>](storage-analytics.md)

  <span data-ttu-id="62797-543">Ez a cikk a tárolási analitika és ahhoz, hogyan nyújt áttekintést.</span><span class="sxs-lookup"><span data-stu-id="62797-543">This article is an overview of storage analytics and how to enable them.</span></span>
* [<span data-ttu-id="62797-544">Storage Analytics naplóformátumban</span><span class="sxs-lookup"><span data-stu-id="62797-544">Storage Analytics Log Format</span></span>](https://msdn.microsoft.com/library/azure/hh343259.aspx)

  <span data-ttu-id="62797-545">Ez a cikk bemutatja a Storage Analytics naplóformátumban, és adatokat, az elérhető mezők, például hitelesítés típusa, amely megadja, hogy a kérelemhez használt hitelesítés típusa.</span><span class="sxs-lookup"><span data-stu-id="62797-545">This article illustrates the Storage Analytics Log Format, and details the fields available therein, including authentication-type, which indicates the type of authentication used for the request.</span></span>
* [<span data-ttu-id="62797-546">A figyelő egy Tárfiókot, Azure-portálon</span><span class="sxs-lookup"><span data-stu-id="62797-546">Monitor a Storage Account in the Azure portal</span></span>](storage-monitor-storage-account.md)

  <span data-ttu-id="62797-547">Ez a cikk ismerteti, hogyan konfigurálható a metrikák figyelését és a storage-fiókok naplózása.</span><span class="sxs-lookup"><span data-stu-id="62797-547">This article shows how to configure monitoring of metrics and logging for a storage account.</span></span>
* [<span data-ttu-id="62797-548">Azure Storage Metrics és a naplózás, az AzCopy és a Message Analyzer segítségével végpontok – hibaelhárítás</span><span class="sxs-lookup"><span data-stu-id="62797-548">End-to-End Troubleshooting using Azure Storage Metrics and Logging, AzCopy, and Message Analyzer</span></span>](storage-e2e-troubleshooting.md)

  <span data-ttu-id="62797-549">Ez a cikk beszél hibaelhárítás a Storage Analytics segítségével, és a Microsoft Message Analyzert használatát ismerteti.</span><span class="sxs-lookup"><span data-stu-id="62797-549">This article talks about troubleshooting using the Storage Analytics and shows how to use the Microsoft Message Analyzer.</span></span>
* [<span data-ttu-id="62797-550">Microsoft Message Analyzer üzemeltetési útmutató</span><span class="sxs-lookup"><span data-stu-id="62797-550">Microsoft Message Analyzer Operating Guide</span></span>](https://technet.microsoft.com/library/jj649776.aspx)

  <span data-ttu-id="62797-551">Ez a cikk a Microsoft Message Analyzert mutató hivatkozás, és egy oktatóanyag, a gyors üzembe helyezési és a szolgáltatás összefoglaló mutató hivatkozásokat tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="62797-551">This article is the reference for the Microsoft Message Analyzer and includes links to a tutorial, quick start, and feature summary.</span></span>

## <a name="cross-origin-resource-sharing-cors"></a><span data-ttu-id="62797-552">Eltérő eredetű erőforrások megosztása (CORS)</span><span class="sxs-lookup"><span data-stu-id="62797-552">Cross-Origin Resource Sharing (CORS)</span></span>
### <a name="cross-domain-access-of-resources"></a><span data-ttu-id="62797-553">Tartományok közötti elérést erőforrások</span><span class="sxs-lookup"><span data-stu-id="62797-553">Cross-domain access of resources</span></span>
<span data-ttu-id="62797-554">Ha egy tartományban futó webböngésző hajt végre egy HTTP-kérelem erőforrás más tartományokból, ez a lehetőség egy eltérő eredetű HTTP-kérelem.</span><span class="sxs-lookup"><span data-stu-id="62797-554">When a web browser running in one domain makes an HTTP request for a resource from a different domain, this is called a cross-origin HTTP request.</span></span> <span data-ttu-id="62797-555">Például a contoso.com helyről HTML-lapot fabrikam.blob.core.windows.net üzemeltetett JPEG-fájlok kérelmet küld.</span><span class="sxs-lookup"><span data-stu-id="62797-555">For example, an HTML page served from contoso.com makes a request for a jpeg hosted on fabrikam.blob.core.windows.net.</span></span> <span data-ttu-id="62797-556">Biztonsági okokból böngészők korlátozza a parancsprogramok, például a JavaScriptek belül kezdeményezett eltérő eredetű HTTP-kérelmekre.</span><span class="sxs-lookup"><span data-stu-id="62797-556">For security reasons, browsers restrict cross-origin HTTP requests initiated from within scripts, such as JavaScript.</span></span> <span data-ttu-id="62797-557">Ez azt jelenti, hogy néhány JavaScript-kódot egy weblapon a contoso.com tartományon kéri, hogy a fabrikam.blob.core.windows.net jpeg, amikor a böngésző nem teszi lehetővé a kérelmet.</span><span class="sxs-lookup"><span data-stu-id="62797-557">This means that when some JavaScript code on a web page on contoso.com requests that jpeg on fabrikam.blob.core.windows.net, the browser will not allow the request.</span></span>

<span data-ttu-id="62797-558">Mi nem ezt kell elvégezni az Azure Storage?</span><span class="sxs-lookup"><span data-stu-id="62797-558">What does this have to do with Azure Storage?</span></span> <span data-ttu-id="62797-559">Is, ha statikus erőforrásokat, például a JSON- vagy XML-adatfájlok tárolja a Blob Storage a Fabrikam tárfiókot használ neve, a tartomány eszközök lesz fabrikam.blob.core.windows.net, és a contoso.com webalkalmazás nem lesz képes azok eléréséhez JavaScript használatával, mert a tartományok eltérőek.</span><span class="sxs-lookup"><span data-stu-id="62797-559">Well, if you are storing static assets such as JSON or XML data files in Blob Storage using a storage account called Fabrikam, the domain for the assets will be fabrikam.blob.core.windows.net, and the contoso.com web application will not be able to access them using JavaScript because the domains are different.</span></span> <span data-ttu-id="62797-560">Ez akkor is igaz, ha egy Azure Storage szolgáltatások – például a Table Storage – hívni kívánt, térjen vissza a JSON a JavaScript-ügyfél által feldolgozandó adatokat.</span><span class="sxs-lookup"><span data-stu-id="62797-560">This is also true if you're trying to call one of the Azure Storage Services – such as Table Storage – that return JSON data to be processed by the JavaScript client.</span></span>

#### <a name="possible-solutions"></a><span data-ttu-id="62797-561">Lehetséges megoldások</span><span class="sxs-lookup"><span data-stu-id="62797-561">Possible solutions</span></span>
<span data-ttu-id="62797-562">Egy a probléma megoldásához módja rendelje hozzá az egyéni tartománynév például a "storage.contoso.com" fabrikam.blob.core.windows.net.</span><span class="sxs-lookup"><span data-stu-id="62797-562">One way to resolve this is to assign a custom domain like "storage.contoso.com" to fabrikam.blob.core.windows.net.</span></span> <span data-ttu-id="62797-563">A probléma oka, hogy csak rendelhet, hogy egyéni tartomány egy tárfiókot.</span><span class="sxs-lookup"><span data-stu-id="62797-563">The problem is that you can only assign that custom domain to one storage account.</span></span> <span data-ttu-id="62797-564">Mi történik, ha az eszközök vannak tárolva több tárfiókot?</span><span class="sxs-lookup"><span data-stu-id="62797-564">What if the assets are stored in multiple storage accounts?</span></span>

<span data-ttu-id="62797-565">A probléma megoldásához úgy, hogy a webes alkalmazás a tároló hívások proxyként működjön.</span><span class="sxs-lookup"><span data-stu-id="62797-565">Another way to resolve this is to have the web application act as a proxy for the storage calls.</span></span> <span data-ttu-id="62797-566">Ez azt jelenti, ha a fájl feltöltése a Blob Storage, a webes alkalmazás ehhez vagy helyileg írják és másolásához Blob-tároló, az ehhez a memóriába az összes és írni a Blob Storage.</span><span class="sxs-lookup"><span data-stu-id="62797-566">This means if you are uploading a file to Blob Storage, the web application would either write it locally and then copy it to Blob Storage, or it would read all of it into memory and then write it to Blob Storage.</span></span> <span data-ttu-id="62797-567">Alternatív megoldásként egy dedikált webes alkalmazás (például egy webes API), amely feltölti a fájlokat helyileg, és írja őket a Blob Storage lehet írni.</span><span class="sxs-lookup"><span data-stu-id="62797-567">Alternately, you could write a dedicated web application (such as a Web API) that uploads the files locally and writes them to Blob Storage.</span></span> <span data-ttu-id="62797-568">Mindkét módszer esetén kell fiók adott funkcióval, ha igények meghatározása a méretezhetőséget.</span><span class="sxs-lookup"><span data-stu-id="62797-568">Either way, you have to account for that function when determining the scalability needs.</span></span>

#### <a name="how-can-cors-help"></a><span data-ttu-id="62797-569">Hogyan segíthetnek a CORS?</span><span class="sxs-lookup"><span data-stu-id="62797-569">How can CORS help?</span></span>
<span data-ttu-id="62797-570">Az Azure Storage lehetővé teszi a kereszt-eredetű erőforrások megosztása – a CORS engedélyezése.</span><span class="sxs-lookup"><span data-stu-id="62797-570">Azure Storage allows you to enable CORS – Cross Origin Resource Sharing.</span></span> <span data-ttu-id="62797-571">Minden tárfiók férhetnek hozzá a fiókhoz tartozó tárolási erőforrások tartományokat is megadhat.</span><span class="sxs-lookup"><span data-stu-id="62797-571">For each storage account, you can specify domains that can access the resources in that storage account.</span></span> <span data-ttu-id="62797-572">Például a fent vázolt esetünkben azt is a CORS engedélyezése a fabrikam.blob.core.windows.net tárfiók, és konfigurálja úgy, hogy engedélyezi a hozzáférést a contoso.com felé.</span><span class="sxs-lookup"><span data-stu-id="62797-572">For example, in our case outlined above, we can enable CORS on the fabrikam.blob.core.windows.net storage account and configure it to allow access to contoso.com.</span></span> <span data-ttu-id="62797-573">A webes alkalmazás contoso.com majd közvetlenül hozzáférhetnek a fabrikam.blob.core.windows.net lévő erőforrásokat.</span><span class="sxs-lookup"><span data-stu-id="62797-573">Then the web application contoso.com can directly access the resources in fabrikam.blob.core.windows.net.</span></span>

<span data-ttu-id="62797-574">Egy dolog, ami arról értesít, hogy a CORS lehetővé teszi a hozzáférést, de nem biztosít hitelesítést, amely szükséges az összes nem-nyilvános hozzáférés tárolási erőforrások.</span><span class="sxs-lookup"><span data-stu-id="62797-574">One thing to note is that CORS allows access, but it does not provide authentication, which is required for all non-public access of storage resources.</span></span> <span data-ttu-id="62797-575">Ez azt jelenti, akkor csak hozzáférni az blobokat, ha azok nyilvános vagy telepíthet egy közös hozzáférésű Jogosultságkód a megfelelő engedélyt.</span><span class="sxs-lookup"><span data-stu-id="62797-575">This means you can only access blobs if they are public or you include a Shared Access Signature giving you the appropriate permission.</span></span> <span data-ttu-id="62797-576">Táblák, üzenetsorok és fájlok nincs nyilvános hozzáférés, és a SAS-kód szükséges.</span><span class="sxs-lookup"><span data-stu-id="62797-576">Tables, queues, and files have no public access, and require a SAS.</span></span>

<span data-ttu-id="62797-577">A CORS alapértelmezés szerint le van tiltva az összes szolgáltatás.</span><span class="sxs-lookup"><span data-stu-id="62797-577">By default, CORS is disabled on all services.</span></span> <span data-ttu-id="62797-578">Engedélyezheti a CORS hívja service házirendek beállítása a módszerek egyikét a REST API-t vagy a storage ügyféloldali kódtár segítségével.</span><span class="sxs-lookup"><span data-stu-id="62797-578">You can enable CORS by using the REST API or the storage client library to call one of the methods to set the service policies.</span></span> <span data-ttu-id="62797-579">Ha így tesz, meg kell adnia egy CORS szabály, amely az XML-Fájlban.</span><span class="sxs-lookup"><span data-stu-id="62797-579">When you do that, you include a CORS rule, which is in XML.</span></span> <span data-ttu-id="62797-580">Íme egy példa egy CORS szabályt, amely a szolgáltatás tulajdonságainak beállítása művelet a Blob szolgáltatás használatával egy tárfiók van beállítva.</span><span class="sxs-lookup"><span data-stu-id="62797-580">Here's an example of a CORS rule that has been set using the Set Service Properties operation for the Blob Service for a storage account.</span></span> <span data-ttu-id="62797-581">Ennek a műveletnek az Azure Storage a storage ügyféloldali kódtár vagy a REST API-k használatával végezheti el.</span><span class="sxs-lookup"><span data-stu-id="62797-581">You can perform that operation using the storage client library or the REST APIs for Azure Storage.</span></span>

```xml
<Cors>    
    <CorsRule>
        <AllowedOrigins>http://www.contoso.com, http://www.fabrikam.com</AllowedOrigins>
        <AllowedMethods>PUT,GET</AllowedMethods>
        <AllowedHeaders>x-ms-meta-data*,x-ms-meta-target*,x-ms-meta-abc</AllowedHeaders>
        <ExposedHeaders>x-ms-meta-*</ExposedHeaders>
        <MaxAgeInSeconds>200</MaxAgeInSeconds>
    </CorsRule>
<Cors>
```

<span data-ttu-id="62797-582">Ez minden egyes sorára jelenti:</span><span class="sxs-lookup"><span data-stu-id="62797-582">Here's what each row means:</span></span>

* <span data-ttu-id="62797-583">**AllowedOrigins** ez alapján, mely nem egyező tartományok kérelmezhet és fogadhat adatokat a tárhelyre.</span><span class="sxs-lookup"><span data-stu-id="62797-583">**AllowedOrigins** This tells which non-matching domains can request and receive data from the storage service.</span></span> <span data-ttu-id="62797-584">Ez azt jelzi, hogy a contoso.com és fabrikam.com kérhetnek az adatok Blob-tároló egy adott tárfiók.</span><span class="sxs-lookup"><span data-stu-id="62797-584">This says that both contoso.com and fabrikam.com can request data from Blob Storage for a specific storage account.</span></span> <span data-ttu-id="62797-585">A helyettesítő karakter is állíthat (\*) kérelmek eléréséhez minden tartományban engedélyezi.</span><span class="sxs-lookup"><span data-stu-id="62797-585">You can also set this to a wildcard (\*) to allow all domains to access requests.</span></span>
* <span data-ttu-id="62797-586">**AllowedMethods** a lista (HTTP-kérelem műveletek) módszer használható, amikor a kérést.</span><span class="sxs-lookup"><span data-stu-id="62797-586">**AllowedMethods** This is the list of methods (HTTP request verbs) that can be used when making the request.</span></span> <span data-ttu-id="62797-587">Ebben a példában csak a PUT és a GET használható.</span><span class="sxs-lookup"><span data-stu-id="62797-587">In this example, only PUT and GET are allowed.</span></span> <span data-ttu-id="62797-588">Beállíthatja a helyettesítő karakter (\*) engedélyezéséhez használt összes módszert.</span><span class="sxs-lookup"><span data-stu-id="62797-588">You can set this to a wildcard (\*) to allow all methods to be used.</span></span>
* <span data-ttu-id="62797-589">**AllowedHeaders** Ez az a kérelem fejlécében, hogy a forrástartomány adhat meg, amikor a kérést.</span><span class="sxs-lookup"><span data-stu-id="62797-589">**AllowedHeaders** This is the request headers that the origin domain can specify when making the request.</span></span> <span data-ttu-id="62797-590">Ebben a példában minden metaadat fejléc kezdve az x-ms-metaadatok, x-ms-metaadat-tároló és az x-ms-meta-abc engedélyezett.</span><span class="sxs-lookup"><span data-stu-id="62797-590">In this example, all metadata headers starting with x-ms-meta-data, x-ms-meta-target, and x-ms-meta-abc are permitted.</span></span> <span data-ttu-id="62797-591">A helyettesítő karakter (\*) azt jelzi, hogy engedélyezi-e a-tól kezdődően fejlécben megadott előtag.</span><span class="sxs-lookup"><span data-stu-id="62797-591">The wildcard character (\*) indicates that any header beginning with the specified prefix is allowed.</span></span>
* <span data-ttu-id="62797-592">**ExposedHeaders** ez alapján mely válaszfejlécek elérhetővé tehető a böngésző számára a kérelmet kibocsátó.</span><span class="sxs-lookup"><span data-stu-id="62797-592">**ExposedHeaders** This tells which response headers should be exposed by the browser to the request issuer.</span></span> <span data-ttu-id="62797-593">Ebben a példában minden kezdve fejléc "x-ms - meta-" megjelenik.</span><span class="sxs-lookup"><span data-stu-id="62797-593">In this example, any header starting with "x-ms-meta-" will be exposed.</span></span>
* <span data-ttu-id="62797-594">**MaxAgeInSeconds** Ez az a maximális időt, hogy a böngésző gyorsítótárazza-e a ellenőrzési beállítások kérelmet.</span><span class="sxs-lookup"><span data-stu-id="62797-594">**MaxAgeInSeconds** This is the maximum amount of time that a browser will cache the preflight OPTIONS request.</span></span> <span data-ttu-id="62797-595">(Az előzetes kérelmekre vonatkozó további információkért ellenőrizze a első cikkben.)</span><span class="sxs-lookup"><span data-stu-id="62797-595">(For more information about the preflight request, check the first article below.)</span></span>

#### <a name="resources"></a><span data-ttu-id="62797-596">Erőforrások</span><span class="sxs-lookup"><span data-stu-id="62797-596">Resources</span></span>
<span data-ttu-id="62797-597">További információ a CORS és az engedélyezéshez vegye ki ezeket az erőforrásokat.</span><span class="sxs-lookup"><span data-stu-id="62797-597">For more information about CORS and how to enable it, please check out these resources.</span></span>

* [<span data-ttu-id="62797-598">Eltérő eredetű erőforrások megosztása (CORS) támogatása az Azure Storage szolgáltatásainak az Azure.com-on</span><span class="sxs-lookup"><span data-stu-id="62797-598">Cross-Origin Resource Sharing (CORS) Support for the Azure Storage Services on Azure.com</span></span>](storage-cors-support.md)

  <span data-ttu-id="62797-599">Ez a cikk áttekintése CORS-t és a különböző tárolószolgáltatások vonatkozó szabályok beállításával.</span><span class="sxs-lookup"><span data-stu-id="62797-599">This article provides an overview of CORS and how to set the rules for the different storage services.</span></span>
* [<span data-ttu-id="62797-600">Eltérő eredetű erőforrások megosztása (CORS) az MSDN Webhelyén az Azure Storage szolgáltatások támogatása</span><span class="sxs-lookup"><span data-stu-id="62797-600">Cross-Origin Resource Sharing (CORS) Support for the Azure Storage Services on MSDN</span></span>](https://msdn.microsoft.com/library/azure/dn535601.aspx)

  <span data-ttu-id="62797-601">Ez a CORS-támogatás az Azure Storage szolgáltatások dokumentációját.</span><span class="sxs-lookup"><span data-stu-id="62797-601">This is the reference documentation for CORS support for the Azure Storage Services.</span></span> <span data-ttu-id="62797-602">Ez alkalmazása az egyes társzolgáltatás cikkek hivatkozásainak rendelkezik és példáját mutatja be, és ismerteti az egyes elemei a CORS-fájlban.</span><span class="sxs-lookup"><span data-stu-id="62797-602">This has links to articles applying to each storage service, and shows an example and explains each element in the CORS file.</span></span>
* [<span data-ttu-id="62797-603">A Microsoft Azure Storage: A CORS bemutatása</span><span class="sxs-lookup"><span data-stu-id="62797-603">Microsoft Azure Storage: Introducing CORS</span></span>](http://blogs.msdn.com/b/windowsazurestorage/archive/2014/02/03/windows-azure-storage-introducing-cors.aspx)

  <span data-ttu-id="62797-604">Ez a CORS bejelentése, és bemutatja, hogyan használhatja a kezdeti blog cikkre mutató hivatkozást.</span><span class="sxs-lookup"><span data-stu-id="62797-604">This is a link to the initial blog article announcing CORS and showing how to use it.</span></span>

## <a name="frequently-asked-questions-about-azure-storage-security"></a><span data-ttu-id="62797-605">Azure Storage biztonsági kapcsolatos gyakori kérdések</span><span class="sxs-lookup"><span data-stu-id="62797-605">Frequently asked questions about Azure Storage security</span></span>
1. <span data-ttu-id="62797-606">**Hogyan ellenőrizheti a blobok I virtuális gépbe vagy onnan Azure Storage vagyok átvitel, ha nem használható a HTTPS protokoll sértetlenségének?**</span><span class="sxs-lookup"><span data-stu-id="62797-606">**How can I verify the integrity of the blobs I'm transferring into or out of Azure Storage if I can't use the HTTPS protocol?**</span></span>

   <span data-ttu-id="62797-607">Ha bármilyen okból kell használni a HTTP helyett HTTPS és a blokkblobokhoz dolgozik, használhatja a MD5 ellenőrzése érdekében ellenőrizni az átvitel során a BLOB.</span><span class="sxs-lookup"><span data-stu-id="62797-607">If for any reason you need to use HTTP instead of HTTPS and you are working with block blobs, you can use MD5 checking to help verify the integrity of the blobs being transferred.</span></span> <span data-ttu-id="62797-608">Ez segít hálózati transport layer hibák elleni védelem, de nem feltétlenül közvetítő támadások.</span><span class="sxs-lookup"><span data-stu-id="62797-608">This will help with protection from network/transport layer errors, but not necessarily with intermediary attacks.</span></span>

   <span data-ttu-id="62797-609">Ha a HTTPS-t, amely átvitelszintű biztonság, akkor használja, MD5 ellenőrzése redundáns és szükségtelen is használhatja.</span><span class="sxs-lookup"><span data-stu-id="62797-609">If you can use HTTPS, which provides transport level security, then using MD5 checking is redundant and unnecessary.</span></span>

   <span data-ttu-id="62797-610">További információkért vegye ki a [Azure Blob MD5 áttekintése](http://blogs.msdn.com/b/windowsazurestorage/archive/2011/02/18/windows-azure-blob-md5-overview.aspx).</span><span class="sxs-lookup"><span data-stu-id="62797-610">For more information, please check out the [Azure Blob MD5 Overview](http://blogs.msdn.com/b/windowsazurestorage/archive/2011/02/18/windows-azure-blob-md5-overview.aspx).</span></span>
2. <span data-ttu-id="62797-611">**Mi a helyzet a FIPS-kompatibilitás a az Egyesült Államok Kormánya?**</span><span class="sxs-lookup"><span data-stu-id="62797-611">**What about FIPS-Compliance for the U.S. Government?**</span></span>

   <span data-ttu-id="62797-612">Az Amerikai Egyesült Államokban Federal Information Processing Standard (FIPS) Egyesült Államok használatra jóváhagyott titkosítási algoritmusokat határozza meg Szövetségi kormányzati számítógépes rendszerek bizalmas adatok védelméről.</span><span class="sxs-lookup"><span data-stu-id="62797-612">The United States Federal Information Processing Standard (FIPS) defines cryptographic algorithms approved for use by U.S. Federal government computer systems for the protection of sensitive data.</span></span> <span data-ttu-id="62797-613">FIPS engedélyezése a Windows server vagy az asztal mód be van állítva az operációs rendszer, hogy csak a FIPS használatával érvényesített kriptográfiai algoritmusok kell használni.</span><span class="sxs-lookup"><span data-stu-id="62797-613">Enabling FIPS mode on a Windows server or desktop tells the OS that only FIPS-validated cryptographic algorithms should be used.</span></span> <span data-ttu-id="62797-614">Ha egy alkalmazás nem megfelelő algoritmusok használja, az alkalmazások megszakad.</span><span class="sxs-lookup"><span data-stu-id="62797-614">If an application uses non-compliant algorithms, the applications will break.</span></span> <span data-ttu-id="62797-615">With.NET keretrendszer-verziók 4.5.2 vagy újabb rendszerre, az alkalmazás automatikusan vált, a titkosítási algoritmusok FIPS előírásainak megfelelő algoritmusok használata, ha a számítógép FIPS-módban van.</span><span class="sxs-lookup"><span data-stu-id="62797-615">With.NET Framework versions 4.5.2 or higher, the application automatically switches the cryptography algorithms to use FIPS-compliant algorithms when the computer is in FIPS mode.</span></span>

   <span data-ttu-id="62797-616">Microsoft hagyja legfeljebb minden ügyfél határozza meg, hogy engedélyezze a FIPS-módban.</span><span class="sxs-lookup"><span data-stu-id="62797-616">Microsoft leaves it up to each customer to decide whether to enable FIPS mode.</span></span> <span data-ttu-id="62797-617">Úgy véljük, vonzó miatt nem szükséges az ügyfelek, akik nem tartoznak kormányzati szabályozásaikat, hogy alapértelmezés szerint engedélyezi a FIPS-módban van.</span><span class="sxs-lookup"><span data-stu-id="62797-617">We believe there is no compelling reason for customers who are not subject to government regulations to enable FIPS mode by default.</span></span>

   <span data-ttu-id="62797-618">**Erőforrások**</span><span class="sxs-lookup"><span data-stu-id="62797-618">**Resources**</span></span>

* [<span data-ttu-id="62797-619">Miért még nem javasoljuk "FIPS-módban" többé</span><span class="sxs-lookup"><span data-stu-id="62797-619">Why We're Not Recommending "FIPS Mode" Anymore</span></span>](http://blogs.technet.com/b/secguide/archive/2014/04/07/why-we-re-not-recommending-fips-mode-anymore.aspx)

  <span data-ttu-id="62797-620">Blog cikkben FIPS áttekintést, és elmagyarázza, hogy miért ezek nem engedélyezi az FIPS-módban alapértelmezés szerint.</span><span class="sxs-lookup"><span data-stu-id="62797-620">This blog article gives an overview of FIPS and explains why they don't enable FIPS mode by default.</span></span>
* [<span data-ttu-id="62797-621">A FIPS 140 érvényesítése</span><span class="sxs-lookup"><span data-stu-id="62797-621">FIPS 140 Validation</span></span>](https://technet.microsoft.com/library/cc750357.aspx)

  <span data-ttu-id="62797-622">Ebben a cikkben megtudhatja hogyan Microsoft-termékek és a titkosítási modulok felel meg a FIPS szabványnak esetében az Egyesült Államok Szövetségi Kormánya.</span><span class="sxs-lookup"><span data-stu-id="62797-622">This article provides information on how Microsoft products and cryptographic modules comply with the FIPS standard for the U.S. Federal government.</span></span>
* [<span data-ttu-id="62797-623">"Rendszer-kriptográfia: használata FIPS szabványnak megfelelő algoritmusok használata titkosításhoz, kivonatoláshoz és aláíráshoz" biztonsági beállítások hatások a Windows XP és a Windows újabb verzióiban</span><span class="sxs-lookup"><span data-stu-id="62797-623">"System cryptography: Use FIPS compliant algorithms for encryption, hashing, and signing" security settings effects in Windows XP and in later versions of Windows</span></span>](https://support.microsoft.com/kb/811833)

  <span data-ttu-id="62797-624">Ez a cikk beszél FIPS-módban a régebbi Windows-számítógépek használatát.</span><span class="sxs-lookup"><span data-stu-id="62797-624">This article talks about the use of FIPS mode in older Windows computers.</span></span>
