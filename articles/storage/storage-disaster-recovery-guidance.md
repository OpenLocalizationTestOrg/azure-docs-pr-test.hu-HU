---
title: "Mi a teendő az Azure Storage kimaradás esetén |} Microsoft Docs"
description: "Mi a teendő az Azure Storage kimaradás esetén"
services: storage
documentationcenter: .net
author: robinsh
manager: timlt
editor: tysonn
ms.assetid: 8f040b0f-8926-4831-ac07-79f646f31926
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 1/19/2017
ms.author: robinsh
ms.openlocfilehash: 83ab487f382eb84aa64b927bdf5560eec5cbbd6d
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 07/11/2017
---
# <a name="what-to-do-if-an-azure-storage-outage-occurs"></a><span data-ttu-id="e0d47-103">Mi a teendő az Azure Storage leállása esetén?</span><span class="sxs-lookup"><span data-stu-id="e0d47-103">What to do if an Azure Storage outage occurs</span></span>
<span data-ttu-id="e0d47-104">A Microsoft dolgozunk merevlemez annak biztosítását, hogy a szolgáltatások mindig elérhető.</span><span class="sxs-lookup"><span data-stu-id="e0d47-104">At Microsoft, we work hard to make sure our services are always available.</span></span> <span data-ttu-id="e0d47-105">Egyes esetekben kényszeríti a vezérlő hatás túl velünk, melyek következtében a nem tervezett szolgáltatáskimaradások egy vagy több régióban.</span><span class="sxs-lookup"><span data-stu-id="e0d47-105">Sometimes, forces beyond our control impact us in ways that cause unplanned service outages in one or more regions.</span></span> <span data-ttu-id="e0d47-106">Segítséget az ilyen ritka események kezelésére, az Azure Storage szolgáltatás a következő magas szintű útmutatást nyújtunk.</span><span class="sxs-lookup"><span data-stu-id="e0d47-106">To help you handle these rare occurrences, we provide the following high-level guidance for Azure Storage services.</span></span>

## <a name="how-to-prepare"></a><span data-ttu-id="e0d47-107">Előkészítése</span><span class="sxs-lookup"><span data-stu-id="e0d47-107">How to prepare</span></span>
<span data-ttu-id="e0d47-108">Minden ügyfél számára kritikus fontosságú, hogy előkészítse a saját vészhelyreállítási tervét.</span><span class="sxs-lookup"><span data-stu-id="e0d47-108">It is critical for every customer to prepare their own disaster recovery plan.</span></span> <span data-ttu-id="e0d47-109">Általában egy tároló leállás helyreállítás részéről az erőfeszítés ahhoz, hogy az alkalmazások működőképes állapotban újraaktiválása műveleti személyzet és automatizált eljárások egyaránt magában foglalja.</span><span class="sxs-lookup"><span data-stu-id="e0d47-109">The effort to recover from a storage outage typically involves both operations personnel and automated procedures in order to reactivate your applications in a functioning state.</span></span> <span data-ttu-id="e0d47-110">Tekintse meg az alábbi saját vész-helyreállítási terv létrehozása az Azure dokumentációja:</span><span class="sxs-lookup"><span data-stu-id="e0d47-110">Please refer to the Azure documentation below to build your own disaster recovery plan:</span></span>

* [<span data-ttu-id="e0d47-111">Vészhelyreállítás és magas szintű rendelkezésre állás az Azure-alkalmazásokhoz</span><span class="sxs-lookup"><span data-stu-id="e0d47-111">Disaster recovery and high availability for Azure applications</span></span>](../resiliency/resiliency-disaster-recovery-high-availability-azure-applications.md)
* [<span data-ttu-id="e0d47-112">Műszaki útmutató az Azure rugalmasságáról</span><span class="sxs-lookup"><span data-stu-id="e0d47-112">Azure resiliency technical guidance</span></span>](../resiliency/resiliency-technical-guidance.md)
* [<span data-ttu-id="e0d47-113">Az Azure Site Recovery szolgáltatásban</span><span class="sxs-lookup"><span data-stu-id="e0d47-113">Azure Site Recovery service</span></span>](https://azure.microsoft.com/services/site-recovery/)
* [<span data-ttu-id="e0d47-114">Azure Storage replication (Azure Storage replikáció)</span><span class="sxs-lookup"><span data-stu-id="e0d47-114">Azure Storage replication</span></span>](storage-redundancy.md)
* [<span data-ttu-id="e0d47-115">Az Azure biztonsági mentési szolgáltatás</span><span class="sxs-lookup"><span data-stu-id="e0d47-115">Azure Backup service</span></span>](https://azure.microsoft.com/services/backup/)

## <a name="how-to-detect"></a><span data-ttu-id="e0d47-116">Hogyan észlelése</span><span class="sxs-lookup"><span data-stu-id="e0d47-116">How to detect</span></span>
<span data-ttu-id="e0d47-117">Az ajánlott módszer az Azure-szolgáltatások állapotának meghatározása, hogy fizessen elő a [Azure az állapotjelző irányítópulthoz](https://azure.microsoft.com/status/).</span><span class="sxs-lookup"><span data-stu-id="e0d47-117">The recommended way to determine the Azure service status is to subscribe to the [Azure Service Health Dashboard](https://azure.microsoft.com/status/).</span></span>

## <a name="what-to-do-if-a-storage-outage-occurs"></a><span data-ttu-id="e0d47-118">Mi a teendő, ha egy tárolási kimaradás során</span><span class="sxs-lookup"><span data-stu-id="e0d47-118">What to do if a Storage outage occurs</span></span>
<span data-ttu-id="e0d47-119">Ha egy vagy több tároló szolgáltatás átmenetileg nem érhető el egy vagy több régióban, két módon figyelembe kell venni.</span><span class="sxs-lookup"><span data-stu-id="e0d47-119">If one or more Storage services are temporarily unavailable at one or more regions, there are two options for you to consider.</span></span> <span data-ttu-id="e0d47-120">Ha az adatok közvetlen hozzáférést kívánnak, fontolja meg 2. lehetőség.</span><span class="sxs-lookup"><span data-stu-id="e0d47-120">If you desire immediate access to your data, please consider Option 2.</span></span>

### <a name="option-1-wait-for-recovery"></a><span data-ttu-id="e0d47-121">1. lehetőség: Várjon, amíg a helyreállítás</span><span class="sxs-lookup"><span data-stu-id="e0d47-121">Option 1: Wait for recovery</span></span>
<span data-ttu-id="e0d47-122">Ebben az esetben a letöltés intézkedés nem szükséges.</span><span class="sxs-lookup"><span data-stu-id="e0d47-122">In this case, no action on your part is required.</span></span> <span data-ttu-id="e0d47-123">Jelenleg dolgozunk gondossággal visszaállítása az Azure szolgáltatás rendelkezésre állása.</span><span class="sxs-lookup"><span data-stu-id="e0d47-123">We are working diligently to restore the Azure service availability.</span></span> <span data-ttu-id="e0d47-124">A szolgáltatás állapotát a figyelheti a [Azure az állapotjelző irányítópulthoz](https://azure.microsoft.com/status/).</span><span class="sxs-lookup"><span data-stu-id="e0d47-124">You can monitor the service status on the [Azure Service Health Dashboard](https://azure.microsoft.com/status/).</span></span>

### <a name="option-2-copy-data-from-secondary"></a><span data-ttu-id="e0d47-125">2. lehetőség: Adatok másolása a másodlagos kiszolgálóról</span><span class="sxs-lookup"><span data-stu-id="e0d47-125">Option 2: Copy data from secondary</span></span>
<span data-ttu-id="e0d47-126">Ha úgy döntött, hogy [írásvédett georedundáns tárolás (RA-GRS)](storage-redundancy.md#read-access-geo-redundant-storage) (ajánlott) a storage-fiókok, akkor olvasási hozzáféréssel az adatokat másodlagos régióban.</span><span class="sxs-lookup"><span data-stu-id="e0d47-126">If you chose [Read-access geo-redundant storage (RA-GRS)](storage-redundancy.md#read-access-geo-redundant-storage) (recommended) for your storage accounts, you will have read access to your data from the secondary region.</span></span> <span data-ttu-id="e0d47-127">Használhatja például a [AzCopy](storage-use-azcopy.md), [Azure PowerShell](storage-powershell-guide-full.md), és a [Azure adatok adatátviteli könyvtár](https://azure.microsoft.com/blog/introducing-azure-storage-data-movement-library-preview-2/) használatával adatait átmásolhatja a másodlagos régióban lévő másik tárolási fiókot egy unimpacted régió, és jelzi az alkalmazások tárolási fiók mindkét és olvasási rendelkezésre állását.</span><span class="sxs-lookup"><span data-stu-id="e0d47-127">You can use tools such as [AzCopy](storage-use-azcopy.md), [Azure PowerShell](storage-powershell-guide-full.md), and the [Azure Data Movement library](https://azure.microsoft.com/blog/introducing-azure-storage-data-movement-library-preview-2/) to copy data from the secondary region into another storage account in an unimpacted region, and then point your applications to that storage account for both read and write availability.</span></span>

## <a name="what-to-expect-if-a-storage-failover-occurs"></a><span data-ttu-id="e0d47-128">Mi történik, ha egy Storage feladatátvételt hajt végre</span><span class="sxs-lookup"><span data-stu-id="e0d47-128">What to expect if a Storage failover occurs</span></span>
<span data-ttu-id="e0d47-129">Ha úgy döntött, hogy [georedundáns tárolás (GRS)](storage-redundancy.md#geo-redundant-storage) vagy [írásvédett georedundáns tárolás (RA-GRS)](storage-redundancy.md#read-access-geo-redundant-storage) (ajánlott), Azure Storage akkor is megtartja az adatok tartósságát két régió (elsődleges és másodlagos).</span><span class="sxs-lookup"><span data-stu-id="e0d47-129">If you chose [Geo-redundant storage (GRS)](storage-redundancy.md#geo-redundant-storage) or [Read-access geo-redundant storage (RA-GRS)](storage-redundancy.md#read-access-geo-redundant-storage) (recommended), Azure Storage will keep your data durable in two regions (primary and secondary).</span></span> <span data-ttu-id="e0d47-130">Azure Storage mindkét régió folyamatosan több replika adatait is kezeli.</span><span class="sxs-lookup"><span data-stu-id="e0d47-130">In both regions, Azure Storage constantly maintains multiple replicas of your data.</span></span>

<span data-ttu-id="e0d47-131">Ha egy regionális katasztrófa érinti az elsődleges régióban, először megpróbáljuk a szolgáltatást az adott régióban.</span><span class="sxs-lookup"><span data-stu-id="e0d47-131">When a regional disaster affects your primary region, we will first try to restore the service in that region.</span></span> <span data-ttu-id="e0d47-132">A vészhelyreállítás és annak hatások, az egyes ritka esetekben jellegétől függ jelenleg nem lehet visszaállítani az elsődleges régióban.</span><span class="sxs-lookup"><span data-stu-id="e0d47-132">Dependent upon the nature of the disaster and its impacts, in some rare occasions we may not be able to restore the primary region.</span></span> <span data-ttu-id="e0d47-133">A földrajzi feladatátvétel ezen a ponton végezzük el.</span><span class="sxs-lookup"><span data-stu-id="e0d47-133">At that point, we will perform a geo-failover.</span></span> <span data-ttu-id="e0d47-134">A kereszt-régió adatreplikáció egy aszinkron folyamattal, amely magába foglaló késleltetés, ezért lehetséges, hogy még nem replikálódott a másodlagos régióba módosítások elveszhetnek.</span><span class="sxs-lookup"><span data-stu-id="e0d47-134">The cross-region data replication is an asynchronous process which can involve a delay, so it is possible that changes that have not yet been replicated to the secondary region may be lost.</span></span> <span data-ttu-id="e0d47-135">Lekérheti a ["Utolsó szinkronizálásának időpontja". a tárfiók](https://blogs.msdn.microsoft.com/windowsazurestorage/2013/12/11/windows-azure-storage-redundancy-options-and-read-access-geo-redundant-storage/) a replikációs állapot kapcsolatban.</span><span class="sxs-lookup"><span data-stu-id="e0d47-135">You can query the ["Last Sync Time" of your storage account](https://blogs.msdn.microsoft.com/windowsazurestorage/2013/12/11/windows-azure-storage-redundancy-options-and-read-access-geo-redundant-storage/) to get details on the replication status.</span></span>

<span data-ttu-id="e0d47-136">Pontokra vonatkozó tárolási földrajzi feladatátvételt élménye néhány:</span><span class="sxs-lookup"><span data-stu-id="e0d47-136">A couple of points regarding the storage geo-failover experience:</span></span>

* <span data-ttu-id="e0d47-137">Tároló földrajzi feladatátvételt csak akkor is kiváltódik, az Azure Storage csapat – nincs nincs szükség felhasználói beavatkozásra.</span><span class="sxs-lookup"><span data-stu-id="e0d47-137">Storage geo-failover will only be triggered by the Azure Storage team – there is no customer action required.</span></span>
* <span data-ttu-id="e0d47-138">A meglévő tárolási Szolgáltatásvégpontok blobokat, táblák, üzenetsorok és fájlok változatlan marad a feladatátvétel; a DNS-bejegyzést kell frissíteni, hogy az elsődleges régióban átvált a másodlagos régióba.</span><span class="sxs-lookup"><span data-stu-id="e0d47-138">Your existing storage service endpoints for blobs, tables, queues, and files will remain the same after the failover; the DNS entry will need to be updated to switch from the primary region to the secondary region.</span></span>
* <span data-ttu-id="e0d47-139">Előtt, és a földrajzi feladatátvétel során nem rendelkezik írási engedéllyel a tárfiók, mert az a katasztrófa, de továbbra is elolvashatja a másodlagos adatbázisból, ha a tárfiók RA-GRS van konfigurálva.</span><span class="sxs-lookup"><span data-stu-id="e0d47-139">Before and during the geo-failover, you won't have write access to your storage account due to the impact of the disaster but you can still read from the secondary if your storage account has been configured as RA-GRS.</span></span>
* <span data-ttu-id="e0d47-140">Ha a földrajzi feladatátvétel befejeződött, és a DNS-módosítások propagálása, olvasási és írási hozzáférést a tárfiókhoz fog folytatható; Ez a másodlagos végpontot bizonyult használttól mutat.</span><span class="sxs-lookup"><span data-stu-id="e0d47-140">When the geo-failover has been completed and the DNS changes propagated, read and write access to your storage account will be resumed; this points to what used to be your secondary endpoint.</span></span> 
* <span data-ttu-id="e0d47-141">Vegye figyelembe, úgy kell írási hozzáférést Ha Georedundáns vagy RA-GRS a tárfiók konfigurálva.</span><span class="sxs-lookup"><span data-stu-id="e0d47-141">Note that you will have write access if you have GRS or RA-GRS configured for the storage account.</span></span> 
* <span data-ttu-id="e0d47-142">Lekérheti ["Utolsó földrajzi feladatátvételi idő" a tárfiókja](https://msdn.microsoft.com/library/azure/ee460802.aspx) további információkhoz juthat.</span><span class="sxs-lookup"><span data-stu-id="e0d47-142">You can query ["Last Geo Failover Time" of your storage account](https://msdn.microsoft.com/library/azure/ee460802.aspx) to get more details.</span></span>
* <span data-ttu-id="e0d47-143">A feladatátvétel után a tárfiókhoz teljes körűen működik, de "csökkentett teljesítményű" állapota, ahogy ténylegesen tárolódik nem georeplikáció lehet önálló régióban.</span><span class="sxs-lookup"><span data-stu-id="e0d47-143">After the failover, your storage account will be fully functioning, but in a "degraded" status, as it is actually hosted in a standalone region with no geo-replication possible.</span></span> <span data-ttu-id="e0d47-144">A kockázat csökkentése érdekében, rendszer-visszaállítás az eredeti elsődleges régióban és hajtsa végre a földrajzi-feladat-visszavétel visszaállítása az eredeti állapotra.</span><span class="sxs-lookup"><span data-stu-id="e0d47-144">To mitigate this risk, we will restore the original primary region and then do a geo-failback to restore the original state.</span></span> <span data-ttu-id="e0d47-145">Ha az eredeti elsődleges régió nem állítható helyre, hogy foglal le egy másik másodlagos régióba.</span><span class="sxs-lookup"><span data-stu-id="e0d47-145">If the original primary region is unrecoverable, we will allocate another secondary region.</span></span>
  <span data-ttu-id="e0d47-146">Az infrastruktúra az Azure Storage georeplikáció további részletekért tekintse meg a cikk a Storage csapat blogja a kapcsolatos [redundancia beállítások és az RA-GRS](https://blogs.msdn.microsoft.com/windowsazurestorage/2013/12/11/windows-azure-storage-redundancy-options-and-read-access-geo-redundant-storage/).</span><span class="sxs-lookup"><span data-stu-id="e0d47-146">For more details on the infrastructure of Azure Storage geo replication, please refer to the article on the Storage team blog about [Redundancy Options and RA-GRS](https://blogs.msdn.microsoft.com/windowsazurestorage/2013/12/11/windows-azure-storage-redundancy-options-and-read-access-geo-redundant-storage/).</span></span>

## <a name="best-practices-for-protecting-your-data"></a><span data-ttu-id="e0d47-147">Ajánlott eljárások az adatok védelme</span><span class="sxs-lookup"><span data-stu-id="e0d47-147">Best Practices for protecting your data</span></span>
<span data-ttu-id="e0d47-148">Nincsenek adatok biztonsági mentésének a tárolási rendszeresen néhány ajánlott megközelítés.</span><span class="sxs-lookup"><span data-stu-id="e0d47-148">There are some recommended approaches to back up your storage data on a regular basis.</span></span>

* <span data-ttu-id="e0d47-149">Virtuális gépek lemezei – használja a [Azure Backup szolgáltatás](https://azure.microsoft.com/services/backup/) biztonsági mentése a virtuális gép lemezeivel az Azure virtuális gépek által használt.</span><span class="sxs-lookup"><span data-stu-id="e0d47-149">VM Disks – Use the [Azure Backup service](https://azure.microsoft.com/services/backup/) to back up the VM disks used by your Azure virtual machines.</span></span>
* <span data-ttu-id="e0d47-150">Blobok blokk – hozzon létre egy [pillanatkép](https://msdn.microsoft.com/library/azure/hh488361.aspx) minden egyes blob letiltása, vagy a BLOB másolása másik tárolási fiókot be egy másik régióban [AzCopy](storage-use-azcopy.md), [Azure PowerShell](storage-powershell-guide-full.md), vagy a [Azure adatok adatátviteli könyvtár](https://azure.microsoft.com/blog/introducing-azure-storage-data-movement-library-preview-2/).</span><span class="sxs-lookup"><span data-stu-id="e0d47-150">Block blobs –Create a [snapshot](https://msdn.microsoft.com/library/azure/hh488361.aspx) of each block blob, or copy the blobs to another storage account in another region using [AzCopy](storage-use-azcopy.md), [Azure PowerShell](storage-powershell-guide-full.md), or the [Azure Data Movement library](https://azure.microsoft.com/blog/introducing-azure-storage-data-movement-library-preview-2/).</span></span>
* <span data-ttu-id="e0d47-151">Táblázatok – használjon [AzCopy](storage-use-azcopy.md) exportálni a adatait egy másik régióban másik tárolási fiókot.</span><span class="sxs-lookup"><span data-stu-id="e0d47-151">Tables – use [AzCopy](storage-use-azcopy.md) to export the table data into another storage account in another region.</span></span>
* <span data-ttu-id="e0d47-152">Fájlok – az [AzCopy](storage-use-azcopy.md) vagy [Azure PowerShell](storage-powershell-guide-full.md) a fájlok másolása egy másik régióban másik tárolási fiókot.</span><span class="sxs-lookup"><span data-stu-id="e0d47-152">Files – use [AzCopy](storage-use-azcopy.md) or [Azure PowerShell](storage-powershell-guide-full.md) to copy your files to another storage account in another region.</span></span>

<span data-ttu-id="e0d47-153">Az alkalmazásokat, amelyek az RA-GRS szolgáltatás teljes körű kihasználása létrehozásával kapcsolatban vegye ki [tervezése magas rendelkezésre álló alkalmazások RA-GRS-tárolót](storage-designing-ha-apps-with-ragrs.md)</span><span class="sxs-lookup"><span data-stu-id="e0d47-153">For information about creating applications that take full advantage of the RA-GRS feature, please check out [Designing Highly Available Applications using RA-GRS Storage](storage-designing-ha-apps-with-ragrs.md)</span></span>

