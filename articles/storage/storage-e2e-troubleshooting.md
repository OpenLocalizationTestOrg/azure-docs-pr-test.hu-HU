---
title: "A diagnosztika & Message Analyzer Azure Storage hibaelhárítása |} Microsoft Docs"
description: "A végpont hibaelhárítás az Azure Storage Analytics, az AzCopy és a Microsoft Message Analyzert, amely tartalmazza az oktatóanyag"
services: storage
documentationcenter: dotnet
author: robinsh
manager: timlt
ms.assetid: 643372a3-1c07-4e88-b4ef-042512a43086
ms.service: storage
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: dotnet
ms.topic: article
ms.date: 03/15/2017
ms.author: robinsh
ms.openlocfilehash: e2b739772f98a9c23253c58bb2bbd3560814ccaa
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 07/11/2017
---
# <a name="end-to-end-troubleshooting-using-azure-storage-metrics-and-logging-azcopy-and-message-analyzer"></a><span data-ttu-id="e6c07-103">Azure Storage mérőszámainak és a naplózást, a AzCopy és a Message Analyzer végpontok – hibaelhárítás</span><span class="sxs-lookup"><span data-stu-id="e6c07-103">End-to-End Troubleshooting using Azure Storage metrics and logging, AzCopy, and Message Analyzer</span></span>
[!INCLUDE [storage-selector-portal-e2e-troubleshooting](../../includes/storage-selector-portal-e2e-troubleshooting.md)]

<span data-ttu-id="e6c07-104">Diagnosztizálás és hibaelhárítási a kulcs szakértelem kialakításához, és a Microsoft Azure Storage ügyfél alkalmazásokat támogató.</span><span class="sxs-lookup"><span data-stu-id="e6c07-104">Diagnosing and troubleshooting is a key skill for building and supporting client applications with Microsoft Azure Storage.</span></span> <span data-ttu-id="e6c07-105">Az Azure-alkalmazások elosztott jellege miatt Diagnosztizálás és a hibák és a teljesítménnyel kapcsolatos problémák elhárítása lehet bonyolultabb, mint a hagyományos környezetekben.</span><span class="sxs-lookup"><span data-stu-id="e6c07-105">Due to the distributed nature of an Azure application, diagnosing and troubleshooting errors and performance issues may be more complex than in traditional environments.</span></span>

<span data-ttu-id="e6c07-106">Ebben az oktatóanyagban bemutatjuk, hogyan bizonyos hibák hatása a teljesítményre, és a végpont e hibák elhárítása a Microsoft és az Azure Storage által biztosított eszközök használ az ügyfélalkalmazás optimalizálása érdekében.</span><span class="sxs-lookup"><span data-stu-id="e6c07-106">In this tutorial, we demonstrate how to identify certain errors that may affect performance, and troubleshoot those errors from end-to-end using tools provided by Microsoft and Azure Storage, in order to optimize the client application.</span></span>

<span data-ttu-id="e6c07-107">Ez az oktatóanyag egy végpontok közötti hibaelhárítási forgatókönyv gyakorlati feltárása biztosít.</span><span class="sxs-lookup"><span data-stu-id="e6c07-107">This tutorial provides a hands-on exploration of an end-to-end troubleshooting scenario.</span></span> <span data-ttu-id="e6c07-108">A részletes fogalmi útmutatót az Azure storage-alkalmazások hibáinak elhárításához, lásd: [figyelése, diagnosztizálása és elhárítása a Microsoft Azure Storage](storage-monitoring-diagnosing-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="e6c07-108">For an in-depth conceptual guide to troubleshooting Azure storage applications, see [Monitor, diagnose, and troubleshoot Microsoft Azure Storage](storage-monitoring-diagnosing-troubleshooting.md).</span></span>

## <a name="tools-for-troubleshooting-azure-storage-applications"></a><span data-ttu-id="e6c07-109">Azure Storage alkalmazások hibaelhárítási eszközök</span><span class="sxs-lookup"><span data-stu-id="e6c07-109">Tools for troubleshooting Azure Storage applications</span></span>
<span data-ttu-id="e6c07-110">Microsoft Azure Storage használó ügyfélalkalmazások elhárításához eszközök kombinációja segítségével határozzák meg, amikor probléma történt, és a probléma oka lehet.</span><span class="sxs-lookup"><span data-stu-id="e6c07-110">To troubleshoot client applications using Microsoft Azure Storage, you can use a combination of tools to determine when an issue has occurred and what the cause of the problem may be.</span></span> <span data-ttu-id="e6c07-111">Ezek az eszközök a következőket foglalják magukban:</span><span class="sxs-lookup"><span data-stu-id="e6c07-111">These tools include:</span></span>

* <span data-ttu-id="e6c07-112">**Az Azure Storage Analytics**.</span><span class="sxs-lookup"><span data-stu-id="e6c07-112">**Azure Storage Analytics**.</span></span> <span data-ttu-id="e6c07-113">[Az Azure Storage Analytics](/rest/api/storageservices/Storage-Analytics) metrikákat és naplózási az Azure Storage biztosít.</span><span class="sxs-lookup"><span data-stu-id="e6c07-113">[Azure Storage Analytics](/rest/api/storageservices/Storage-Analytics) provides metrics and logging for Azure Storage.</span></span>
  
  * <span data-ttu-id="e6c07-114">**Storage mérőszámainak** nyomon követi a tranzakció metrikák és a teljesítmény-mérőszámait a tárfiók.</span><span class="sxs-lookup"><span data-stu-id="e6c07-114">**Storage metrics** tracks transaction metrics and capacity metrics for your storage account.</span></span> <span data-ttu-id="e6c07-115">Használja a metrikákat, meghatározhatja, hogyan az alkalmazás számos különböző intézkedések megfelelően működik-e.</span><span class="sxs-lookup"><span data-stu-id="e6c07-115">Using metrics, you can determine how your application is performing according to a variety of different measures.</span></span> <span data-ttu-id="e6c07-116">Lásd: [Storage Analytics metrikák táblaséma](/rest/api/storageservices/Storage-Analytics-Metrics-Table-Schema) további információt a tárolási analitika követik metrikák típusú.</span><span class="sxs-lookup"><span data-stu-id="e6c07-116">See [Storage Analytics Metrics Table Schema](/rest/api/storageservices/Storage-Analytics-Metrics-Table-Schema) for more information about the types of metrics tracked by Storage Analytics.</span></span>
  * <span data-ttu-id="e6c07-117">**Tárolási naplózási** kéréseknek jelentkezik, az Azure Storage szolgáltatás kiszolgálóoldali naplóba.</span><span class="sxs-lookup"><span data-stu-id="e6c07-117">**Storage logging** logs each request to the Azure Storage services to a server-side log.</span></span> <span data-ttu-id="e6c07-118">A napló részletes adatok az egyes kérelmek, beleértve a végre műveletet, a művelet, és a késési adatok állapotának nyomon követi.</span><span class="sxs-lookup"><span data-stu-id="e6c07-118">The log tracks detailed data for each request, including the operation performed, the status of the operation, and latency information.</span></span> <span data-ttu-id="e6c07-119">Lásd: [Storage Analytics naplóformátumban](/rest/api/storageservices/Storage-Analytics-Log-Format) írja be a naplók tárolási analitika kérelem-válasz adatokról további információt.</span><span class="sxs-lookup"><span data-stu-id="e6c07-119">See [Storage Analytics Log Format](/rest/api/storageservices/Storage-Analytics-Log-Format) for more information about the request and response data that is written to the logs by Storage Analytics.</span></span>

> [!NOTE]
> <span data-ttu-id="e6c07-120">A Zónaredundáns tárolás (ZRS) replikációs típusú tárfiókok nem rendelkezik a metrikák vagy a naplózási képesség érhető el ezen idő.</span><span class="sxs-lookup"><span data-stu-id="e6c07-120">Storage accounts with a replication type of Zone-Redundant Storage (ZRS) do not have the metrics or logging capability enabled at this time.</span></span> 
> 
> 

* <span data-ttu-id="e6c07-121">**Azure-portálon**.</span><span class="sxs-lookup"><span data-stu-id="e6c07-121">**Azure portal**.</span></span> <span data-ttu-id="e6c07-122">A tárfiók a metrikákat és naplózási konfigurálható a [Azure-portálon](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="e6c07-122">You can configure metrics and logging for your storage account in the [Azure portal](https://portal.azure.com).</span></span> <span data-ttu-id="e6c07-123">Akkor is diagramok és hogyan működik az alkalmazás időbeli megjelenítő diagramok megtekintése, és beállíthatja a értesítéseket arról, ha az alkalmazás az adott mérőszám várt módon hajt végre.</span><span class="sxs-lookup"><span data-stu-id="e6c07-123">You can also view charts and graphs that show how your application is performing over time, and configure alerts to notify you if your application performs differently than expected for a specified metric.</span></span>
  
    <span data-ttu-id="e6c07-124">Lásd: [figyelése az Azure portálon tárfiók](storage-monitor-storage-account.md) figyelése az Azure portálon konfigurálásával kapcsolatos információkat.</span><span class="sxs-lookup"><span data-stu-id="e6c07-124">See [Monitor a storage account in the Azure portal](storage-monitor-storage-account.md) for information about configuring monitoring in the Azure portal.</span></span>
* <span data-ttu-id="e6c07-125">**AzCopy**.</span><span class="sxs-lookup"><span data-stu-id="e6c07-125">**AzCopy**.</span></span> <span data-ttu-id="e6c07-126">Az Azure Storage Server-naplók blobként, tárolják, az AzCopy segítségével másolja a naplóban blobok egy helyi használata a Microsoft Message Analyzert elemzés céljából.</span><span class="sxs-lookup"><span data-stu-id="e6c07-126">Server logs for Azure Storage are stored as blobs, so you can use AzCopy to copy the log blobs to a local directory for analysis using Microsoft Message Analyzer.</span></span> <span data-ttu-id="e6c07-127">Lásd: [adatátvitel az AzCopy parancssori segédprogram a](storage-use-azcopy.md) AzCopy további információt.</span><span class="sxs-lookup"><span data-stu-id="e6c07-127">See [Transfer data with the AzCopy Command-Line Utility](storage-use-azcopy.md) for more information about AzCopy.</span></span>
* <span data-ttu-id="e6c07-128">**Microsoft Message Analyzert**.</span><span class="sxs-lookup"><span data-stu-id="e6c07-128">**Microsoft Message Analyzer**.</span></span> <span data-ttu-id="e6c07-129">Message Analyzer olyan eszköz, amely feldolgozó naplófájlokat, és naplóadatokat, amellyel könnyedén szűrő, a Keresés és a csoport adatainak naplózása, amelyek segítségével elemezheti a hibák és a teljesítménnyel kapcsolatos problémák hasznos be visual formátumban jeleníti meg.</span><span class="sxs-lookup"><span data-stu-id="e6c07-129">Message Analyzer is a tool that consumes log files and displays log data in a visual format that makes it easy to filter, search, and group log data into useful sets that you can use to analyze errors and performance issues.</span></span> <span data-ttu-id="e6c07-130">Lásd: [Microsoft Message Analyzer működő útmutató](http://technet.microsoft.com/library/jj649776.aspx) Message Analyzer további információt.</span><span class="sxs-lookup"><span data-stu-id="e6c07-130">See [Microsoft Message Analyzer Operating Guide](http://technet.microsoft.com/library/jj649776.aspx) for more information about Message Analyzer.</span></span>

## <a name="about-the-sample-scenario"></a><span data-ttu-id="e6c07-131">A mintaforgatókönyv kapcsolatos</span><span class="sxs-lookup"><span data-stu-id="e6c07-131">About the sample scenario</span></span>
<span data-ttu-id="e6c07-132">Ebben az oktatóanyagban egy olyan forgatókönyvet, ahol az Azure Storage mérőszámainak, egy alacsony százalékos sikerességi arányát az alkalmazás, amely behívja az Azure storage foglalkozunk.</span><span class="sxs-lookup"><span data-stu-id="e6c07-132">For this tutorial, we'll examine a scenario where Azure Storage metrics indicates a low percent success rate for an application that calls Azure storage.</span></span> <span data-ttu-id="e6c07-133">Az alacsony százalékos sikerességi aránya metrika (megjelennek az helyeként **PercentSuccess** a a [Azure-portálon](https://portal.azure.com) és a metrikák táblák) követi nyomon, hogy sikeres, de nagyobb 299 HTTP-állapotkódot vissza, amely operations.</span><span class="sxs-lookup"><span data-stu-id="e6c07-133">The low percent success rate metric (shown as **PercentSuccess** in the [Azure portal](https://portal.azure.com) and in the metrics tables) tracks operations that succeed, but that return an HTTP status code that is greater than 299.</span></span> <span data-ttu-id="e6c07-134">A tranzakció állapota a rögzített ezeket a műveleteket a kiszolgálóoldali tárolási naplófájlokban **ClientOtherErrors**.</span><span class="sxs-lookup"><span data-stu-id="e6c07-134">In the server-side storage log files, these operations are recorded with a transaction status of **ClientOtherErrors**.</span></span> <span data-ttu-id="e6c07-135">Az alacsony százalékos sikerességi metrika kapcsolatos további tudnivalókért lásd: [metrika alacsony PercentSuccess vagy analytics naplóbejegyzések rendelkezik ClientOtherErrors működésére állapotú tranzakció](storage-monitoring-diagnosing-troubleshooting.md#metrics-show-low-percent-success).</span><span class="sxs-lookup"><span data-stu-id="e6c07-135">For more details about the low percent success metric, see [Metrics show low PercentSuccess or analytics log entries have operations with transaction status of ClientOtherErrors](storage-monitoring-diagnosing-troubleshooting.md#metrics-show-low-percent-success).</span></span>

<span data-ttu-id="e6c07-136">Azure Storage-műveleteket adhatnak vissza HTTP-állapotkódok 299 nagyobb normál működés részeként.</span><span class="sxs-lookup"><span data-stu-id="e6c07-136">Azure Storage operations may return HTTP status codes greater than 299 as part of their normal functionality.</span></span> <span data-ttu-id="e6c07-137">De ezeket a hibákat, egyes esetekben azt jelzi, hogy esetleg az ügyfélalkalmazást, a jobb teljesítmény optimalizálása érdekében.</span><span class="sxs-lookup"><span data-stu-id="e6c07-137">But these errors in some cases indicate that you may be able to optimize your client application for improved performance.</span></span>

<span data-ttu-id="e6c07-138">Ebben a forgatókönyvben egy alacsony százalékos sikerességi arányát kell minden, 100 % lesz javasolt.</span><span class="sxs-lookup"><span data-stu-id="e6c07-138">In this scenario, we'll consider a low percent success rate to be anything below 100%.</span></span> <span data-ttu-id="e6c07-139">Választhat egy másik metrika szintet, azonban szükség szerint.</span><span class="sxs-lookup"><span data-stu-id="e6c07-139">You can choose a different metric level, however, according to your needs.</span></span> <span data-ttu-id="e6c07-140">Azt javasoljuk, hogy az alkalmazás tesztelése során kapcsolatot hoz létre egy alapkonfiguráció tolerancia az a fontos teljesítménymutatókat.</span><span class="sxs-lookup"><span data-stu-id="e6c07-140">We recommend that during testing of your application, you establish a baseline tolerance for your key performance metrics.</span></span> <span data-ttu-id="e6c07-141">Például dönthet úgy, tesztekre alapozva, az alkalmazás rendelkezik-e a 90 %, vagy a 85 % konzisztens százalékos sikerességi aránya.</span><span class="sxs-lookup"><span data-stu-id="e6c07-141">For example, you might determine, based on testing, that your application should have a consistent percent success rate of 90%, or 85%.</span></span> <span data-ttu-id="e6c07-142">Ha a metrikai adatok azt mutatja, hogy az alkalmazás-, hogy több el az eltérő, akkor is vizsgálja meg, mi okozza a növelését.</span><span class="sxs-lookup"><span data-stu-id="e6c07-142">If your metrics data shows that the application is deviating from that number, then you can investigate what may be causing the increase.</span></span>

<span data-ttu-id="e6c07-143">Minta esetünkben után azt mutatja meg, hogy a százalékos sikerességi aránya a metrika nem éri el 100 %-os, azt fogja tanulmányozza az metrikáinak egyeztetéséhez, és segítségével mérje fel, hogy mi okozza a százalékos sikerességi aránya alacsonyabb a hibák találhatók.</span><span class="sxs-lookup"><span data-stu-id="e6c07-143">For our sample scenario, once we've established that the percent success rate metric is below 100%, we will examine the logs to find the errors that correlate to the metrics, and use them to figure out what is causing the lower percent success rate.</span></span> <span data-ttu-id="e6c07-144">Megnézzük, pontosabban, a hibák 400 tartományban.</span><span class="sxs-lookup"><span data-stu-id="e6c07-144">We'll look specifically at errors in the 400 range.</span></span> <span data-ttu-id="e6c07-145">Ezután lesz jobban felülvizsgáljuk 404-es (nem található) hibák.</span><span class="sxs-lookup"><span data-stu-id="e6c07-145">Then we'll more closely investigate 404 (Not Found) errors.</span></span>

### <a name="some-causes-of-400-range-errors"></a><span data-ttu-id="e6c07-146">Tartományon kívüli 400 hibák oka</span><span class="sxs-lookup"><span data-stu-id="e6c07-146">Some causes of 400-range errors</span></span>
<span data-ttu-id="e6c07-147">Az alábbi példák a kéréseket a meghatározott Azure Blob Storage és a lehetséges okok 400-tartomány hibák példák láthatók.</span><span class="sxs-lookup"><span data-stu-id="e6c07-147">The examples below shows a sampling of some 400-range errors for requests against Azure Blob Storage, and their possible causes.</span></span> <span data-ttu-id="e6c07-148">A hibákat, valamint a a 300 és 500 tartományban, a hibák bármelyikét hozzájárulhat egy alacsony százalékos sikerességi arányát.</span><span class="sxs-lookup"><span data-stu-id="e6c07-148">Any of these errors, as well as errors in the 300 range and the 500 range, can contribute to a low percent success rate.</span></span>

<span data-ttu-id="e6c07-149">Vegye figyelembe, hogy az alábbi listák messze befejeződött.</span><span class="sxs-lookup"><span data-stu-id="e6c07-149">Note that the lists below are far from complete.</span></span> <span data-ttu-id="e6c07-150">Lásd: [állapotát és hibakódok](http://msdn.microsoft.com/library/azure/dd179382.aspx) az MSDN-en és a tárolási szolgáltatások vonatkozó hibákkal kapcsolatos általános Azure Storage-hibákkal kapcsolatos részleteket.</span><span class="sxs-lookup"><span data-stu-id="e6c07-150">See [Status and Error Codes](http://msdn.microsoft.com/library/azure/dd179382.aspx) on MSDN for details about general Azure Storage errors and about errors specific to each of the storage services.</span></span>

<span data-ttu-id="e6c07-151">**Állapot 404-es (nem található) kódpéldák**</span><span class="sxs-lookup"><span data-stu-id="e6c07-151">**Status Code 404 (Not Found) Examples**</span></span>

<span data-ttu-id="e6c07-152">Akkor következik be, amikor egy tárolót vagy blobot egy olvasási művelet sikertelen lesz, mivel a blobot, vagy a tároló nem található.</span><span class="sxs-lookup"><span data-stu-id="e6c07-152">Occurs when a read operation against a container or blob fails because the blob or container is not found.</span></span>

* <span data-ttu-id="e6c07-153">Akkor következik be, ha egy tárolót vagy blobot törölte egy másik ügyfélszámítógépen, mielőtt ezt a kérelmet.</span><span class="sxs-lookup"><span data-stu-id="e6c07-153">Occurs if a container or blob has been deleted by another client before this request.</span></span>
* <span data-ttu-id="e6c07-154">Akkor következik be, miután ellenőrizte, hogy létezik-e a tárolót vagy blobot létrehozó API-hívás használata.</span><span class="sxs-lookup"><span data-stu-id="e6c07-154">Occurs if you are using an API call that creates the container or blob after checking whether it exists.</span></span> <span data-ttu-id="e6c07-155">A CreateIfNotExists API-k hívás HEAD először a tárolót vagy blobot; meglétének ellenőrzése Ha még nem létezik, a 404-es hibát ad vissza, és majd a második PUT kérés érkezett a tárolót vagy blobot írni.</span><span class="sxs-lookup"><span data-stu-id="e6c07-155">The CreateIfNotExists APIs make a HEAD call first to check for the existence of the container or blob; if it does not exist, a 404 error is returned, and then a second PUT call is made to write the container or blob.</span></span>

<span data-ttu-id="e6c07-156">**Állapot-kódpéldák 409 (Ütközés)**</span><span class="sxs-lookup"><span data-stu-id="e6c07-156">**Status Code 409 (Conflict) Examples**</span></span>

* <span data-ttu-id="e6c07-157">Akkor következik be, ha egy létrehozása API használatával hozzon létre egy új tárolót vagy blobot, először az meglétének ellenőrzése nélkül, és egy tárolót vagy blobot ezzel a névvel már létezik.</span><span class="sxs-lookup"><span data-stu-id="e6c07-157">Occurs if you use a Create API to create a new container or blob, without checking for existence first, and a container or blob with that name already exists.</span></span>
* <span data-ttu-id="e6c07-158">Akkor következik be, ha a tároló törlése folyamatban van, és hozzon létre egy új tároló ugyanazzal a névvel, a törlési művelet befejezése előtt megkísérli.</span><span class="sxs-lookup"><span data-stu-id="e6c07-158">Occurs if a container is being deleted, and you attempt to create a new container with the same name before the deletion operation is complete.</span></span>
* <span data-ttu-id="e6c07-159">Akkor következik be, ha egy tárolót vagy blobot meg kell adnia egy bérletet, és már létezik a jelenlegi címbérlet.</span><span class="sxs-lookup"><span data-stu-id="e6c07-159">Occurs if you specify a lease on a container or blob, and there is already a lease present.</span></span>

<span data-ttu-id="e6c07-160">**412 (előfeltétel) állapotkód példák**</span><span class="sxs-lookup"><span data-stu-id="e6c07-160">**Status Code 412 (Precondition Failed) Examples**</span></span>

* <span data-ttu-id="e6c07-161">Akkor következik be, ha egy feltételes fejlécet által megadott feltétel nem teljesül.</span><span class="sxs-lookup"><span data-stu-id="e6c07-161">Occurs when the condition specified by a conditional header has not been met.</span></span>
* <span data-ttu-id="e6c07-162">Akkor fordul elő, ha a címbérlet-azonosító van megadva nem felel meg a tárolót vagy blobot bérleti Azonosítójával.</span><span class="sxs-lookup"><span data-stu-id="e6c07-162">Occurs when the lease ID specified does not match the lease ID on the container or blob.</span></span>

## <a name="generate-log-files-for-analysis"></a><span data-ttu-id="e6c07-163">Naplófájlokat az elemzéshez készítése</span><span class="sxs-lookup"><span data-stu-id="e6c07-163">Generate log files for analysis</span></span>
<span data-ttu-id="e6c07-164">Ebben az oktatóanyagban használjuk Üzenetelemző használata a naplófájlokat, három különböző típusú bár ezek bármelyike használható kiválaszthatják:</span><span class="sxs-lookup"><span data-stu-id="e6c07-164">In this tutorial, we'll use Message Analyzer to work with three different types of log files, although you could choose to work with any one of these:</span></span>

* <span data-ttu-id="e6c07-165">A **kiszolgálónapló**, ami akkor jön létre, amikor az Azure Storage naplózását.</span><span class="sxs-lookup"><span data-stu-id="e6c07-165">The **server log**, which is created when you enable Azure Storage logging.</span></span> <span data-ttu-id="e6c07-166">A kiszolgáló naplóját egyes egy Azure Storage szolgáltatás - blob, a várólista, a tábla és a fájl hívást műveletekre vonatkozó adatokat tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="e6c07-166">The server log contains data about each operation called against one of the Azure Storage services - blob, queue, table, and file.</span></span> <span data-ttu-id="e6c07-167">A kiszolgáló naplóját azt jelzi, mely művelet lett meghívva, és milyen állapotkódja: a kérés- és visszaadott, valamint egyéb adatait.</span><span class="sxs-lookup"><span data-stu-id="e6c07-167">The server log indicates which operation was called and what status code was returned, as well as other details about the request and response.</span></span>
* <span data-ttu-id="e6c07-168">A **.NET ügyfélnapló**, ami akkor jön létre, amikor a .NET-alkalmazásból engedélyezi az ügyféloldali naplózás.</span><span class="sxs-lookup"><span data-stu-id="e6c07-168">The **.NET client log**, which is created when you enable client-side logging from within your .NET application.</span></span> <span data-ttu-id="e6c07-169">Az ügyfél talál részletes információkat arról, hogyan az ügyfél előkészíti a kérelmet, és fogadja és dolgozza fel a választ tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="e6c07-169">The client log includes detailed information about how the client prepares the request and receives and processes the response.</span></span>
* <span data-ttu-id="e6c07-170">A **HTTP hálózati nyomkövetési napló**, amely adatokat gyűjt a HTTP/HTTPS-kérelem-válasz adatokat, beleértve az Azure Storage műveleteket.</span><span class="sxs-lookup"><span data-stu-id="e6c07-170">The **HTTP network trace log**, which collects data on HTTP/HTTPS request and response data, including for operations against Azure Storage.</span></span> <span data-ttu-id="e6c07-171">Az oktatóanyag azt fogja hozza létre a hálózati nyomkövetést Message Analyzer keresztül.</span><span class="sxs-lookup"><span data-stu-id="e6c07-171">In this tutorial, we'll generate the network trace via Message Analyzer.</span></span>

### <a name="configure-server-side-logging-and-metrics"></a><span data-ttu-id="e6c07-172">Metrikák és kiszolgálóoldali naplózásának beállítása</span><span class="sxs-lookup"><span data-stu-id="e6c07-172">Configure server-side logging and metrics</span></span>
<span data-ttu-id="e6c07-173">Először azt kell metrikákat, és az Azure Storage naplózásának beállítása, hogy az ügyfélalkalmazás elemzendő adatokat kell.</span><span class="sxs-lookup"><span data-stu-id="e6c07-173">First, we'll need to configure Azure Storage logging and metrics, so that we have data from the client application to analyze.</span></span> <span data-ttu-id="e6c07-174">Konfigurálható naplózása és az sokféleképpen - metrikák a [Azure-portálon](https://portal.azure.com), powershellel, vagy programon keresztül.</span><span class="sxs-lookup"><span data-stu-id="e6c07-174">You can configure logging and metrics in a variety of ways - via the [Azure portal](https://portal.azure.com), by using PowerShell, or programmatically.</span></span> <span data-ttu-id="e6c07-175">Lásd: [Storage mérőszámainak engedélyezése és megtekintése metrikai adatok](http://msdn.microsoft.com/library/azure/dn782843.aspx) és [tárolási naplózás engedélyezése és használata naplóadatok](http://msdn.microsoft.com/library/azure/dn782840.aspx) MSDN naplózás és a metrikák konfigurálásával kapcsolatos részletekért.</span><span class="sxs-lookup"><span data-stu-id="e6c07-175">See [Enabling Storage Metrics and Viewing Metrics Data](http://msdn.microsoft.com/library/azure/dn782843.aspx) and [Enabling Storage Logging and Accessing Log Data](http://msdn.microsoft.com/library/azure/dn782840.aspx) on MSDN for details about configuring logging and metrics.</span></span>

<span data-ttu-id="e6c07-176">**Az Azure-portálon**</span><span class="sxs-lookup"><span data-stu-id="e6c07-176">**Via the Azure portal**</span></span>

<span data-ttu-id="e6c07-177">Konfigurálja és naplózás és a metrikák a tárolási fiók használatával a [Azure-portálon](https://portal.azure.com), kövesse [figyelése az Azure portálon tárfiók](storage-monitor-storage-account.md).</span><span class="sxs-lookup"><span data-stu-id="e6c07-177">To configure logging and metrics for your storage account using the [Azure portal](https://portal.azure.com), follow the instructions at [Monitor a storage account in the Azure portal](storage-monitor-storage-account.md).</span></span>

> [!NOTE]
> <span data-ttu-id="e6c07-178">Nincs lehetőség beállítása az Azure portál használatával percenkénti metrikákat.</span><span class="sxs-lookup"><span data-stu-id="e6c07-178">It's not possible to set minute metrics using the Azure portal.</span></span> <span data-ttu-id="e6c07-179">Azt javasoljuk azonban, hogy meg őket az oktatóanyag céljából, és az alkalmazás teljesítményproblémák vizsgálata.</span><span class="sxs-lookup"><span data-stu-id="e6c07-179">However, we recommend that you do set them for the purposes of this tutorial, and for investigating performance issues with your application.</span></span> <span data-ttu-id="e6c07-180">Percenkénti metrikákat alább látható módon PowerShell használatával, vagy programozott módon, a storage ügyféloldali kódtár állíthatja be.</span><span class="sxs-lookup"><span data-stu-id="e6c07-180">You can set minute metrics using PowerShell as shown below, or programmatically using the storage client library.</span></span>
> 
> <span data-ttu-id="e6c07-181">Vegye figyelembe, hogy az Azure-portál nem tudja megjeleníteni percenkénti metrikákat, csak óránkénti metrikákat.</span><span class="sxs-lookup"><span data-stu-id="e6c07-181">Note that the Azure portal cannot display minute metrics, only hourly metrics.</span></span>
> 
> 

<span data-ttu-id="e6c07-182">**PowerShell használatával**</span><span class="sxs-lookup"><span data-stu-id="e6c07-182">**Via PowerShell**</span></span>

<span data-ttu-id="e6c07-183">Ismerkedés az Azure PowerShell használatával, lásd: [telepítése és konfigurálása az Azure PowerShell](/powershell/azure/overview).</span><span class="sxs-lookup"><span data-stu-id="e6c07-183">To get started with PowerShell for Azure, see [How to install and configure Azure PowerShell](/powershell/azure/overview).</span></span>

1. <span data-ttu-id="e6c07-184">Használja a [Add-AzureAccount](/powershell/module/azure/add-azureaccount?view=azuresmps-3.7.0) parancsmag segítségével adjon hozzá a PowerShell-ablakban Azure felhasználói fiókja:</span><span class="sxs-lookup"><span data-stu-id="e6c07-184">Use the [Add-AzureAccount](/powershell/module/azure/add-azureaccount?view=azuresmps-3.7.0) cmdlet to add your Azure user account to the PowerShell window:</span></span>
   
    ```powershell
    Add-AzureAccount
    ```

2. <span data-ttu-id="e6c07-185">Az a **jelentkezzen be a Microsoft Azure** ablak, írja be az e-mail címet és -fiókjához tartozó jelszót.</span><span class="sxs-lookup"><span data-stu-id="e6c07-185">In the **Sign in to Microsoft Azure** window, type the email address and password associated with your account.</span></span> <span data-ttu-id="e6c07-186">Az Azure hitelesíti és menti a hitelesítő adatokat, majd bezárja az ablakot.</span><span class="sxs-lookup"><span data-stu-id="e6c07-186">Azure authenticates and saves the credential information, and then closes the window.</span></span>
3. <span data-ttu-id="e6c07-187">Állítsa be az alapértelmezett tárfiók a tárfiókot, az oktatóanyag használja a következő parancsok futtatásával a PowerShell-ablakban:</span><span class="sxs-lookup"><span data-stu-id="e6c07-187">Set the default storage account to the storage account you are using for the tutorial by executing these commands in the PowerShell window:</span></span>
   
    ```powershell
    $SubscriptionName = 'Your subscription name'
    $StorageAccountName = 'yourstorageaccount'
    Set-AzureSubscription -CurrentStorageAccountName $StorageAccountName -SubscriptionName $SubscriptionName
    ```

4. <span data-ttu-id="e6c07-188">A Blob szolgáltatás tárolási naplózásának engedélyezéséről:</span><span class="sxs-lookup"><span data-stu-id="e6c07-188">Enable storage logging for the Blob service:</span></span>
   
    ```powershell
    Set-AzureStorageServiceLoggingProperty -ServiceType Blob -LoggingOperations Read,Write,Delete -PassThru -RetentionDays 7 -Version 1.0
    ```

5. <span data-ttu-id="e6c07-189">A Blob szolgáltatás, és állítson be storage mérőszámainak engedélyezése **- MetricsType** való `Minute`:</span><span class="sxs-lookup"><span data-stu-id="e6c07-189">Enable storage metrics for the Blob service, making sure to set **-MetricsType** to `Minute`:</span></span>
   
    ```powershell
    Set-AzureStorageServiceMetricsProperty -ServiceType Blob -MetricsType Minute -MetricsLevel ServiceAndApi -PassThru -RetentionDays 7 -Version 1.0
    ```

### <a name="configure-net-client-side-logging"></a><span data-ttu-id="e6c07-190">.NET ügyféloldali naplózás konfigurálása</span><span class="sxs-lookup"><span data-stu-id="e6c07-190">Configure .NET client-side logging</span></span>
<span data-ttu-id="e6c07-191">.NET-alkalmazás ügyféloldali naplózási engedélyezze .NET diagnosztika a az alkalmazás konfigurációs fájljában (a web.config vagy az App.config fájlt).</span><span class="sxs-lookup"><span data-stu-id="e6c07-191">To configure client-side logging for a .NET application, enable .NET diagnostics in the application's configuration file (web.config or app.config).</span></span> <span data-ttu-id="e6c07-192">Lásd: [ügyféloldali naplózás a .NET a Storage ügyféloldali kódtára](http://msdn.microsoft.com/library/azure/dn782839.aspx) és [ügyféloldali naplózás a Microsoft Azure Storage SDK for Java](http://msdn.microsoft.com/library/azure/dn782844.aspx) az MSDN Webhelyén, a részletekért.</span><span class="sxs-lookup"><span data-stu-id="e6c07-192">See [Client-side Logging with the .NET Storage Client Library](http://msdn.microsoft.com/library/azure/dn782839.aspx) and [Client-side Logging with the Microsoft Azure Storage SDK for Java](http://msdn.microsoft.com/library/azure/dn782844.aspx) on MSDN for details.</span></span>

<span data-ttu-id="e6c07-193">Az ügyféloldali napló részletes információkat arról, hogyan az ügyfél előkészíti a kérelmet, és fogadja és dolgozza fel a választ tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="e6c07-193">The client-side log includes detailed information about how the client prepares the request and receives and processes the response.</span></span>

<span data-ttu-id="e6c07-194">A Storage ügyféloldali kódtár ügyféloldali naplóadatokat az alkalmazás konfigurációs fájljában (a web.config vagy az App.config fájlt) a megadott helyen tárolja.</span><span class="sxs-lookup"><span data-stu-id="e6c07-194">The Storage Client Library stores client-side log data in the location specified in the application's configuration file (web.config or app.config).</span></span>

### <a name="collect-a-network-trace"></a><span data-ttu-id="e6c07-195">A hálózati nyomkövetés gyűjtése</span><span class="sxs-lookup"><span data-stu-id="e6c07-195">Collect a network trace</span></span>
<span data-ttu-id="e6c07-196">Az Üzenetelemző használhatja egy HTTP/HTTPS hálózati nyomkövetés gyűjtéséhez az ügyfélalkalmazás futtatása közben.</span><span class="sxs-lookup"><span data-stu-id="e6c07-196">You can use Message Analyzer to collect an HTTP/HTTPS network trace while your client application is running.</span></span> <span data-ttu-id="e6c07-197">Üzenet-elemző eszköz által használt [Fiddler](http://www.telerik.com/fiddler) a háttérben.</span><span class="sxs-lookup"><span data-stu-id="e6c07-197">Message Analyzer uses [Fiddler](http://www.telerik.com/fiddler) on the back end.</span></span> <span data-ttu-id="e6c07-198">A hálózati nyomkövetés gyűjt, mielőtt azt javasoljuk, hogy konfigurálja a titkosított HTTPS-forgalom rögzítése a Fiddler:</span><span class="sxs-lookup"><span data-stu-id="e6c07-198">Before you collect the network trace, we recommend that you configure Fiddler to record unencrypted HTTPS traffic:</span></span>

1. <span data-ttu-id="e6c07-199">Telepítés [Fiddler](http://www.telerik.com/download/fiddler).</span><span class="sxs-lookup"><span data-stu-id="e6c07-199">Install [Fiddler](http://www.telerik.com/download/fiddler).</span></span>
2. <span data-ttu-id="e6c07-200">Indítsa el a Fiddler.</span><span class="sxs-lookup"><span data-stu-id="e6c07-200">Launch Fiddler.</span></span>
3. <span data-ttu-id="e6c07-201">Válassza ki **eszközök |} Fiddler beállítások**.</span><span class="sxs-lookup"><span data-stu-id="e6c07-201">Select **Tools | Fiddler Options**.</span></span>
4. <span data-ttu-id="e6c07-202">A beállítások párbeszédpanelen győződjön meg arról, hogy **rögzítése HTTPS kapcsolódik** és **a HTTPS-forgalmon visszafejtés** mind van jelölve, alább látható módon.</span><span class="sxs-lookup"><span data-stu-id="e6c07-202">In the Options dialog, ensure that **Capture HTTPS CONNECTs** and **Decrypt HTTPS Traffic** are both selected, as shown below.</span></span>

![Fiddler beállítások konfigurálása](./media/storage-e2e-troubleshooting/fiddler-options-1.png)

<span data-ttu-id="e6c07-204">Az oktatóanyag gyűjtése egy hálózati nyomkövetést először mentse a Message Analyzer, majd a nyomkövetés és a naplók elemzése analysis-munkamenetet létrehozni.</span><span class="sxs-lookup"><span data-stu-id="e6c07-204">For the tutorial, collect and save a network trace first in Message Analyzer, then create an analysis session to analyze the trace and the logs.</span></span> <span data-ttu-id="e6c07-205">Egy hálózati nyomkövetést, a Message Analyzer gyűjtéséhez:</span><span class="sxs-lookup"><span data-stu-id="e6c07-205">To collect a network trace in Message Analyzer:</span></span>

1. <span data-ttu-id="e6c07-206">A Message Analyzer, válassza ki **fájl |} Gyors nyomkövetési |} Titkosítás nélkül HTTPS**.</span><span class="sxs-lookup"><span data-stu-id="e6c07-206">In Message Analyzer, select **File | Quick Trace | Unencrypted HTTPS**.</span></span>
2. <span data-ttu-id="e6c07-207">A nyomkövetés, ezért azonnal megkezdődik.</span><span class="sxs-lookup"><span data-stu-id="e6c07-207">The trace will begin immediately.</span></span> <span data-ttu-id="e6c07-208">Válassza ki **leállítása** nyomkövetés leállítására, így konfigurálhatjuk nyomkövetési tárolási forgalom.</span><span class="sxs-lookup"><span data-stu-id="e6c07-208">Select **Stop** to stop the trace so that we can configure it to trace storage traffic only.</span></span>
3. <span data-ttu-id="e6c07-209">Válassza ki **szerkesztése** szerkesztése a nyomkövetési munkamenet.</span><span class="sxs-lookup"><span data-stu-id="e6c07-209">Select **Edit** to edit the tracing session.</span></span>
4. <span data-ttu-id="e6c07-210">Válassza ki a **konfigurálása** jobbra mutató hivatkozás a **Microsoft-Pef-WebProxy** ETW-szolgáltató.</span><span class="sxs-lookup"><span data-stu-id="e6c07-210">Select the **Configure** link to the right of the **Microsoft-Pef-WebProxy** ETW provider.</span></span>
5. <span data-ttu-id="e6c07-211">Az a **speciális beállítások** párbeszédpanel, kattintson a **szolgáltató** fülre.</span><span class="sxs-lookup"><span data-stu-id="e6c07-211">In the **Advanced Settings** dialog, click the **Provider** tab.</span></span>
6. <span data-ttu-id="e6c07-212">Az a **állomásnév szűrő** mezőben adja meg a tároló-végpontokat, választják el egymástól.</span><span class="sxs-lookup"><span data-stu-id="e6c07-212">In the **Hostname Filter** field, specify your storage endpoints, separated by spaces.</span></span> <span data-ttu-id="e6c07-213">Például megadhatja a végpontokat az alábbiak szerint; Módosítsa `storagesample` a tárfiók nevét:</span><span class="sxs-lookup"><span data-stu-id="e6c07-213">For example, you can specify your endpoints as follows; change `storagesample` to the name of your storage account:</span></span>

    ```   
    storagesample.blob.core.windows.net storagesample.queue.core.windows.net storagesample.table.core.windows.net
    ```

7. <span data-ttu-id="e6c07-214">A párbeszédpanel bezárásához, majd kattintson az **indítsa újra a** megkezdéséhez a gyűjtése a nyomkövetési helyen, az állomásnév szűrővel, hogy csak Azure tárolási hálózati forgalom szerepel a nyomkövetésben.</span><span class="sxs-lookup"><span data-stu-id="e6c07-214">Exit the dialog, and click **Restart** to begin collecting the trace with the hostname filter in place, so that only Azure Storage network traffic is included in the trace.</span></span>

> [!NOTE]
> <span data-ttu-id="e6c07-215">Miután végzett a hálózati nyomkövetés gyűjtése, javasoljuk, hogy a beállításokat, előfordulhat, hogy módosította a Fiddler a HTTPS-forgalmon visszafejtés vissza.</span><span class="sxs-lookup"><span data-stu-id="e6c07-215">After you have finished collecting your network trace, we strongly recommend that you revert the settings that you may have changed in Fiddler to decrypt HTTPS traffic.</span></span> <span data-ttu-id="e6c07-216">A Fiddler beállítások párbeszédpanelen törölje a **rögzítése HTTPS kapcsolódik** és **a HTTPS-forgalmon visszafejtés** jelölőnégyzeteket.</span><span class="sxs-lookup"><span data-stu-id="e6c07-216">In the Fiddler Options dialog, deselect the **Capture HTTPS CONNECTs** and **Decrypt HTTPS Traffic** checkboxes.</span></span>
> 
> 

<span data-ttu-id="e6c07-217">Lásd: [használja a hálózati nyomkövetés funkciókat](http://technet.microsoft.com/library/jj674819.aspx) a TechNet webhelyen olvashat.</span><span class="sxs-lookup"><span data-stu-id="e6c07-217">See [Using the Network Tracing Features](http://technet.microsoft.com/library/jj674819.aspx) on Technet for more details.</span></span>

## <a name="review-metrics-data-in-the-azure-portal"></a><span data-ttu-id="e6c07-218">Tekintse át a metrikai adatok az Azure-portálon</span><span class="sxs-lookup"><span data-stu-id="e6c07-218">Review metrics data in the Azure portal</span></span>
<span data-ttu-id="e6c07-219">Miután az alkalmazás egy ideig futott, a megjelenő metrikák diagramok tekintse át a [Azure-portálon](https://portal.azure.com) és figyelje meg, hogyan van lett végrehajtása a szolgáltatás.</span><span class="sxs-lookup"><span data-stu-id="e6c07-219">Once your application has been running for a period of time, you can review the metrics charts that appear in the [Azure portal](https://portal.azure.com) to observe how your service has been performing.</span></span>

<span data-ttu-id="e6c07-220">Első lépésként nyissa meg a storage-fiókot az Azure-portálon.</span><span class="sxs-lookup"><span data-stu-id="e6c07-220">First, navigate to your storage account in the Azure portal.</span></span> <span data-ttu-id="e6c07-221">Alapértelmezés szerint a figyelő a diagramon a **sikeres arány** metrika jelenik meg a fiók panelen.</span><span class="sxs-lookup"><span data-stu-id="e6c07-221">By default, a monitoring chart with the **Success percentage** metric is displayed on the account blade.</span></span> <span data-ttu-id="e6c07-222">Ha módosította a diagram megjelenítése különböző metrikák korábban, vegye fel a **sikeres arány** metrikát.</span><span class="sxs-lookup"><span data-stu-id="e6c07-222">If you've previously modified the chart to display different metrics, add the **Success percentage** metric.</span></span>

<span data-ttu-id="e6c07-223">Most láthatja **sikeres arány** , a figyelés diagramra bármely más metrikákkal együtt előfordulhat, hogy felvette.</span><span class="sxs-lookup"><span data-stu-id="e6c07-223">You'll now see **Success percentage** in the monitoring chart, along with any other metrics you may have added.</span></span> <span data-ttu-id="e6c07-224">A forgatókönyvben lesz felülvizsgáljuk mellett a naplófájlok az Üzenetelemző elemzésével százalékos sikerességi arányát némileg alábbi 100 %.</span><span class="sxs-lookup"><span data-stu-id="e6c07-224">In the scenario we'll investigate next by analyzing the logs in Message Analyzer, the percent success rate is somewhat below 100%.</span></span>

<span data-ttu-id="e6c07-225">Hozzáadása és metrikákat diagramok testreszabása a további részletekért lásd: [metrikák diagramok testreszabása](storage-monitor-storage-account.md#customize-metrics-charts).</span><span class="sxs-lookup"><span data-stu-id="e6c07-225">For more details on adding and customizing metrics charts, see [Customize metrics charts](storage-monitor-storage-account.md#customize-metrics-charts).</span></span>

> [!NOTE]
> <span data-ttu-id="e6c07-226">Ez eltarthat egy ideig a metrikák adatok storage mérőszámainak engedélyezése után az Azure-portálon jelenik meg.</span><span class="sxs-lookup"><span data-stu-id="e6c07-226">It may take some time for your metrics data to appear in the Azure portal after you enable storage metrics.</span></span> <span data-ttu-id="e6c07-227">Ennek az az oka az előző órán óránkénti metrikáját nem jelenik meg az Azure portálon mindaddig, amíg a jelenlegi óra telt el.</span><span class="sxs-lookup"><span data-stu-id="e6c07-227">This is because hourly metrics for the previous hour are not displayed in the Azure portal until the current hour has elapsed.</span></span> <span data-ttu-id="e6c07-228">Emellett percenkénti metrikákat jelenleg nem láthatók az Azure portálon.</span><span class="sxs-lookup"><span data-stu-id="e6c07-228">Also, minute metrics are not currently displayed in the Azure portal.</span></span> <span data-ttu-id="e6c07-229">Ezért attól függően, ha engedélyezi a metrikákat, szükség lehet legfeljebb kétórás metrikai adatok megjelenítéséhez.</span><span class="sxs-lookup"><span data-stu-id="e6c07-229">So depending on when you enable metrics, it may take up to two hours to see metrics data.</span></span>
> 
> 

## <a name="use-azcopy-to-copy-server-logs-to-a-local-directory"></a><span data-ttu-id="e6c07-230">Kiszolgáló naplókat másolja egy helyi az AzCopy segítségével</span><span class="sxs-lookup"><span data-stu-id="e6c07-230">Use AzCopy to copy server logs to a local directory</span></span>
<span data-ttu-id="e6c07-231">Az Azure Storage blobs, írja server naplóadatokat, amikor a metrikák táblák írja a rendszer.</span><span class="sxs-lookup"><span data-stu-id="e6c07-231">Azure Storage writes server log data to blobs, while metrics are written to tables.</span></span> <span data-ttu-id="e6c07-232">Napló blobok érhetők el a jól ismert `$logs` tároló a tárfiók.</span><span class="sxs-lookup"><span data-stu-id="e6c07-232">Log blobs are available in the well-known `$logs` container for your storage account.</span></span> <span data-ttu-id="e6c07-233">Napló blobok neve hierarchikusan év, hónap, nap és óra, így könnyen elérhetők a vizsgálni kívánt időtartományt.</span><span class="sxs-lookup"><span data-stu-id="e6c07-233">Log blobs are named hierarchically by year, month, day, and hour, so that you can easily locate the range of time you wish to investigate.</span></span> <span data-ttu-id="e6c07-234">Például a `storagesample` fiók, a napló 01 02 2015 / /, reggel 8 – 9, a blobokat tárolójának `https://storagesample.blob.core.windows.net/$logs/blob/2015/01/08/0800`.</span><span class="sxs-lookup"><span data-stu-id="e6c07-234">For example, in the `storagesample` account, the container for the log blobs for 01/02/2015, from 8-9 am, is `https://storagesample.blob.core.windows.net/$logs/blob/2015/01/08/0800`.</span></span> <span data-ttu-id="e6c07-235">Ebben a tárolóban lévő egyes blobok megnevezett egymás után, kezdve `000000.log`.</span><span class="sxs-lookup"><span data-stu-id="e6c07-235">The individual blobs in this container are named sequentially, beginning with `000000.log`.</span></span>

<span data-ttu-id="e6c07-236">Az AzCopy parancssori eszköz segítségével töltse le a kiszolgálóoldali naplófájlok az Ön által választott helyre a helyi számítógépen.</span><span class="sxs-lookup"><span data-stu-id="e6c07-236">You can use the AzCopy command-line tool to download these server-side log files to a location of your choice on your local machine.</span></span> <span data-ttu-id="e6c07-237">Például használhatja a következő parancsot a blob műveletek történt 2015. január 2. azt a mappát a naplófájlokban letöltése `C:\Temp\Logs\Server`; cserélje le `<storageaccountname>` a tárfiók nevével és `<storageaccountkey>` rendelkező a hívóbetűre:</span><span class="sxs-lookup"><span data-stu-id="e6c07-237">For example, you can use the following command to download the log files for blob operations that took place on January 2, 2015 to the folder `C:\Temp\Logs\Server`; replace `<storageaccountname>` with the name of your storage account, and `<storageaccountkey>` with your account access key:</span></span>

```azcopy
AzCopy.exe /Source:http://<storageaccountname>.blob.core.windows.net/$logs /Dest:C:\Temp\Logs\Server /Pattern:"blob/2015/01/02" /SourceKey:<storageaccountkey> /S /V
```
<span data-ttu-id="e6c07-238">AzCopy letölthető a rendszer a [Azure letölti](https://azure.microsoft.com/downloads/) lap.</span><span class="sxs-lookup"><span data-stu-id="e6c07-238">AzCopy is available for download on the [Azure Downloads](https://azure.microsoft.com/downloads/) page.</span></span> <span data-ttu-id="e6c07-239">AzCopy használatával kapcsolatos részletekért lásd: [adatátvitel az AzCopy parancssori segédprogram a](storage-use-azcopy.md).</span><span class="sxs-lookup"><span data-stu-id="e6c07-239">For details about using AzCopy, see [Transfer data with the AzCopy Command-Line Utility](storage-use-azcopy.md).</span></span>

<span data-ttu-id="e6c07-240">További információ a kiszolgálóoldali naplók letöltése: [naplózási adatokat tároló naplózás letöltése](http://msdn.microsoft.com/library/azure/dn782840.aspx#DownloadingStorageLogginglogdata).</span><span class="sxs-lookup"><span data-stu-id="e6c07-240">For additional information about downloading server-side logs, see [Download Storage Logging log data](http://msdn.microsoft.com/library/azure/dn782840.aspx#DownloadingStorageLogginglogdata).</span></span>

## <a name="use-microsoft-message-analyzer-to-analyze-log-data"></a><span data-ttu-id="e6c07-241">Microsoft Message Analyzert használatával elemezheti a naplóadatok</span><span class="sxs-lookup"><span data-stu-id="e6c07-241">Use Microsoft Message Analyzer to analyze log data</span></span>
<span data-ttu-id="e6c07-242">Microsoft Message Analyzert egy olyan eszköz, a rögzítés, megjelenítését és elemzése a forgalmat, eseményeket és hibaelhárítási és diagnosztikai forgatókönyvek egyéb rendszer vagy alkalmazás üzeneteket üzenetküldési protokoll.</span><span class="sxs-lookup"><span data-stu-id="e6c07-242">Microsoft Message Analyzer is a tool for capturing, displaying, and analyzing protocol messaging traffic, events, and other system or application messages in troubleshooting and diagnostic scenarios.</span></span> <span data-ttu-id="e6c07-243">Az Üzenetelemző is lehetővé teszi betöltése, összesített és elemezhetik a naplóból, és nyomkövetési fájlok mentése.</span><span class="sxs-lookup"><span data-stu-id="e6c07-243">Message Analyzer also enables you to load, aggregate, and analyze data from log and saved trace files.</span></span> <span data-ttu-id="e6c07-244">Az Üzenetelemző kapcsolatos további információkért lásd: [Microsoft Message Analyzer működő útmutató](http://technet.microsoft.com/library/jj649776.aspx).</span><span class="sxs-lookup"><span data-stu-id="e6c07-244">For more information about Message Analyzer, see [Microsoft Message Analyzer Operating Guide](http://technet.microsoft.com/library/jj649776.aspx).</span></span>

<span data-ttu-id="e6c07-245">Az Üzenetelemző eszközök, amelyek segítenek a kiszolgáló, az ügyfél és a hálózati naplók elemzése Azure Storage magában foglalja.</span><span class="sxs-lookup"><span data-stu-id="e6c07-245">Message Analyzer includes assets for Azure Storage that help you to analyze server, client, and network logs.</span></span> <span data-ttu-id="e6c07-246">Ebben a szakaszban mutatjuk be ezekhez az eszközökhöz használata alacsony százalékos siker a tárolási naplókat a probléma megoldására.</span><span class="sxs-lookup"><span data-stu-id="e6c07-246">In this section, we'll discuss how to use those tools to address the issue of low percent success in the storage logs.</span></span>

### <a name="download-and-install-message-analyzer-and-the-azure-storage-assets"></a><span data-ttu-id="e6c07-247">Töltse le és telepítse a Message Analyzer és az Azure Storage-eszközök</span><span class="sxs-lookup"><span data-stu-id="e6c07-247">Download and install Message Analyzer and the Azure Storage Assets</span></span>
1. <span data-ttu-id="e6c07-248">Töltse le [Üzenetelemző](http://www.microsoft.com/download/details.aspx?id=44226) a Microsoft letöltőközpontból, és futtassa a telepítőt.</span><span class="sxs-lookup"><span data-stu-id="e6c07-248">Download [Message Analyzer](http://www.microsoft.com/download/details.aspx?id=44226) from the Microsoft Download Center, and run the installer.</span></span>
2. <span data-ttu-id="e6c07-249">Indítsa el a Message Analyzer.</span><span class="sxs-lookup"><span data-stu-id="e6c07-249">Launch Message Analyzer.</span></span>
3. <span data-ttu-id="e6c07-250">Az a **eszközök** menü **Eszközkezelő**.</span><span class="sxs-lookup"><span data-stu-id="e6c07-250">From the **Tools** menu, select **Asset Manager**.</span></span> <span data-ttu-id="e6c07-251">Az a **Eszközkezelő** párbeszédablakban válassza **letölti**, majd szűrést végezni **Azure Storage**.</span><span class="sxs-lookup"><span data-stu-id="e6c07-251">In the **Asset Manager** dialog, select **Downloads**, then filter on **Azure Storage**.</span></span> <span data-ttu-id="e6c07-252">Az Azure Storage-eszközök, az alábbi képen látható módon jelenik meg.</span><span class="sxs-lookup"><span data-stu-id="e6c07-252">You will see the Azure Storage Assets, as shown in the picture below.</span></span>
4. <span data-ttu-id="e6c07-253">Kattintson a **szinkronizálási összes megjelenített elemek** az Azure Storage-eszközök telepítése.</span><span class="sxs-lookup"><span data-stu-id="e6c07-253">Click **Sync All Displayed Items** to install the Azure Storage Assets.</span></span> <span data-ttu-id="e6c07-254">A rendelkezésre álló eszközökre a következők:</span><span class="sxs-lookup"><span data-stu-id="e6c07-254">The available assets include:</span></span>
   * <span data-ttu-id="e6c07-255">**Az Azure Storage szín szabályok:** az Azure Storage szín szabályok lehetővé teszik a speciális szűrők használó színét, a szöveg és a betűtípus stílusok üzeneteket, amelyek tartalmazzák a nyomkövetési szereplő konkrét információk kiemeléséhez.</span><span class="sxs-lookup"><span data-stu-id="e6c07-255">**Azure Storage Color Rules:** Azure Storage color rules enable you to define special filters that use color, text, and font styles to highlight messages that contain specific information in a trace.</span></span>
   * <span data-ttu-id="e6c07-256">**Az Azure Storage diagramok:** az Azure Storage diagram olyan előre definiált diagramok, amelyek a kiszolgáló naplóadatokat diagramot.</span><span class="sxs-lookup"><span data-stu-id="e6c07-256">**Azure Storage Charts:** Azure Storage charts are predefined charts that graph server log data.</span></span> <span data-ttu-id="e6c07-257">Vegye figyelembe, hogy most Azure Storage diagramok használatához, előfordulhat, hogy csak akkor kell betölteni a kiszolgáló naplóját a elemzés rácsba.</span><span class="sxs-lookup"><span data-stu-id="e6c07-257">Note that to use Azure Storage charts at this time, you may only load the server log into the Analysis Grid.</span></span>
   * <span data-ttu-id="e6c07-258">**Az Azure Storage elemzők:** az Azure Storage elemzők elemzése az Azure Storage-ügyfél, a kiszolgáló és a HTTP naplók elemzése rácsban megjelenítéséhez.</span><span class="sxs-lookup"><span data-stu-id="e6c07-258">**Azure Storage Parsers:** The Azure Storage parsers parse the Azure Storage client, server, and HTTP logs in order to display them in the Analysis Grid.</span></span>
   * <span data-ttu-id="e6c07-259">**Az Azure Storage-szűrők:** az Azure Storage szűrők a következők előre meghatározott feltételek, amelyek segítségével az adatok elemzése rácsban lekérdezése.</span><span class="sxs-lookup"><span data-stu-id="e6c07-259">**Azure Storage Filters:** Azure Storage filters are predefined criteria that you can use to query your data in the Analysis Grid.</span></span>
   * <span data-ttu-id="e6c07-260">**Az Azure Storage nézet elrendezések:** az Azure Storage nézet elrendezések előre definiált oszlop elrendezések és elemzési rácsban csoportból.</span><span class="sxs-lookup"><span data-stu-id="e6c07-260">**Azure Storage View Layouts:** Azure Storage view layouts are predefined column layouts and groupings in the Analysis Grid.</span></span>
5. <span data-ttu-id="e6c07-261">Indítsa újra a Message Analyzer, az eszközök telepítése után.</span><span class="sxs-lookup"><span data-stu-id="e6c07-261">Restart Message Analyzer after you've installed the assets.</span></span>

![Message Analyzer Eszközkezelő](./media/storage-e2e-troubleshooting/mma-start-page-1.png)

> [!NOTE]
> <span data-ttu-id="e6c07-263">Ez az oktatóanyag céljából Azure Storage eszközök teljes telepítése.</span><span class="sxs-lookup"><span data-stu-id="e6c07-263">Install all of the Azure Storage assets shown for the purposes of this tutorial.</span></span>
> 
> 

### <a name="import-your-log-files-into-message-analyzer"></a><span data-ttu-id="e6c07-264">A naplófájlok importálása Message Analyzer</span><span class="sxs-lookup"><span data-stu-id="e6c07-264">Import your log files into Message Analyzer</span></span>
<span data-ttu-id="e6c07-265">Importálhatja a mentett naplófájlok (kiszolgálóoldali ügyféloldali és hálózati), az összes Microsoft Message Analyzert egyetlen munkamenetében elemzés céljából.</span><span class="sxs-lookup"><span data-stu-id="e6c07-265">You can import all of your saved log files (server-side, client-side, and network) into a single session in Microsoft Message Analyzer for analysis.</span></span>

1. <span data-ttu-id="e6c07-266">Az a **fájl** Microsoft Message Analyzert, menüjében kattintson **új munkamenet**, és kattintson a **üres munkamenet**.</span><span class="sxs-lookup"><span data-stu-id="e6c07-266">On the **File** menu in Microsoft Message Analyzer, click **New Session**, and then click **Blank Session**.</span></span> <span data-ttu-id="e6c07-267">Az a **új munkamenet** párbeszédpanelen adja meg az elemzési munkamenet nevét.</span><span class="sxs-lookup"><span data-stu-id="e6c07-267">In the **New Session** dialog, enter a name for your analysis session.</span></span> <span data-ttu-id="e6c07-268">Az a **munkamenet részletei** panelen, kattintson a **fájlok** gombra.</span><span class="sxs-lookup"><span data-stu-id="e6c07-268">In the **Session Details** panel, click on the **Files** button.</span></span>
2. <span data-ttu-id="e6c07-269">Az Üzenetelemző által generált hálózati nyomkövetési adatok betöltéséhez kattintson a **fájlok hozzáadása**, keresse meg a helyet, ahová mentette a .matp fájl a webes nyomkövetési munkamenet, válassza ki a .matp fájlt, és kattintson a **nyitott**.</span><span class="sxs-lookup"><span data-stu-id="e6c07-269">To load the network trace data generated by Message Analyzer, click on **Add Files**, browse to the location where you saved your .matp file from your web tracing session, select the .matp file, and click **Open**.</span></span>
3. <span data-ttu-id="e6c07-270">A kiszolgálóoldali naplóadatokat betöltéséhez kattintson a **fájlok hozzáadása**, keresse meg a helyet, amelybe letöltötte a kiszolgálóoldali naplókhoz, válassza ki a naplófájlokat a elemzéséhez, és kattintson a kívánt időtartományt **nyitott**.</span><span class="sxs-lookup"><span data-stu-id="e6c07-270">To load the server-side log data, click on **Add Files**, browse to the location where you downloaded your server-side logs, select the log files for the time range you want to analyze, and click **Open**.</span></span> <span data-ttu-id="e6c07-271">Ezt követően a a **munkamenet részletei** panelen, állítsa be a **szöveges napló konfigurációs** legördülő minden kiszolgálóoldali naplófájl **AzureStorageLog** annak érdekében, hogy a Microsoft Message Analyzert tudja megfelelően értelmezni a naplófájlba írást.</span><span class="sxs-lookup"><span data-stu-id="e6c07-271">Then, in the **Session Details** panel, set the **Text Log Configuration** drop-down for each server-side log file to **AzureStorageLog** to ensure that Microsoft Message Analyzer can parse the log file correctly.</span></span>
4. <span data-ttu-id="e6c07-272">Az ügyféloldali napló adatok betöltéséhez kattintson a **fájlok hozzáadása**, keresse meg a helyet, ahová menteni szeretné az ügyféloldali naplók, válassza ki a naplófájlokat, elemzése, és kattintson a kívánt **nyitott**.</span><span class="sxs-lookup"><span data-stu-id="e6c07-272">To load the client-side log data, click on **Add Files**, browse to the location where you saved your client-side logs, select the log files you want to analyze, and click **Open**.</span></span> <span data-ttu-id="e6c07-273">Ezt követően a a **munkamenet részletei** panelen, állítsa be a **szöveges napló konfigurációs** legördülő lista az egyes ügyféloldali naplófájlok **AzureStorageClientDotNetV4** annak érdekében, hogy a Microsoft Message Analyzert tudja megfelelően értelmezni a naplófájlba írást.</span><span class="sxs-lookup"><span data-stu-id="e6c07-273">Then, in the **Session Details** panel, set the **Text Log Configuration** drop-down for each client-side log file to **AzureStorageClientDotNetV4** to ensure that Microsoft Message Analyzer can parse the log file correctly.</span></span>
5. <span data-ttu-id="e6c07-274">Kattintson a **Start** a a **új munkamenet** betölteni és elemezni a naplóadatok párbeszédpanel.</span><span class="sxs-lookup"><span data-stu-id="e6c07-274">Click **Start** in the **New Session** dialog to load and parse the log data.</span></span> <span data-ttu-id="e6c07-275">A naplózási adatok jelennek meg a Message Analyzer elemzés rácsban.</span><span class="sxs-lookup"><span data-stu-id="e6c07-275">The log data displays in the Message Analyzer Analysis Grid.</span></span>

<span data-ttu-id="e6c07-276">A következő ábrán egy példa munkamenet kiszolgáló, ügyfél és hálózati nyomkövetési naplófájlok konfigurálni.</span><span class="sxs-lookup"><span data-stu-id="e6c07-276">The picture below shows an example session configured with server, client, and network trace log files.</span></span>

![Message Analyzer munkamenet konfigurálása](./media/storage-e2e-troubleshooting/configure-mma-session-1.png)

<span data-ttu-id="e6c07-278">Vegye figyelembe, hogy a Message Analyzer naplófájlok betölti a memóriába.</span><span class="sxs-lookup"><span data-stu-id="e6c07-278">Note that Message Analyzer loads log files into memory.</span></span> <span data-ttu-id="e6c07-279">Ha a napló nagy adatkészletet, érdemes ahhoz, hogy a lehető legjobb teljesítményt lekérni a Message Analyzer szűréséhez.</span><span class="sxs-lookup"><span data-stu-id="e6c07-279">If you have a large set of log data, you will want to filter it in order to get the best performance from Message Analyzer.</span></span>

<span data-ttu-id="e6c07-280">Először határozza meg az időkeret érdekli áttekintése, valamint ezen az időn lehető legkisebb tartását.</span><span class="sxs-lookup"><span data-stu-id="e6c07-280">First, determine the time frame that you are interested in reviewing, and keep this time frame as small as possible.</span></span> <span data-ttu-id="e6c07-281">Sok esetben érdemes perc vagy óra legfeljebb egy adott időn át.</span><span class="sxs-lookup"><span data-stu-id="e6c07-281">In many cases you will want to review a period of minutes or hours at most.</span></span> <span data-ttu-id="e6c07-282">Importálja a lehető legkisebb jogosultságkészletet naplókat, amely megfelel az igényeinek.</span><span class="sxs-lookup"><span data-stu-id="e6c07-282">Import the smallest set of logs that can meet your needs.</span></span>

<span data-ttu-id="e6c07-283">Ha továbbra is nagy mennyiségű naplóadatokat, majd érdemes lehet a naplóadatok előtt töltse be a munkamenet szűrőt adjon meg.</span><span class="sxs-lookup"><span data-stu-id="e6c07-283">If you still have a large amount of log data, then you may want to specify a session filter to filter your log data before you load it.</span></span> <span data-ttu-id="e6c07-284">Az a **munkamenet szűrő** mezőben válassza a **könyvtár** gombra kattintva válasszon egy előre meghatározott szűrőt; például **globális idő szűrő i.** az az Azure Storage-szűrők szűrést végezni egy adott időintervallumban.</span><span class="sxs-lookup"><span data-stu-id="e6c07-284">In the **Session Filter** box, select the **Library** button to choose a predefined filter; for example, choose **Global Time Filter I** from the Azure Storage filters to filter on a time interval.</span></span> <span data-ttu-id="e6c07-285">Szerkesztheti a szűrési feltételeket adhatja meg a kezdési és befejezési időbélyeg meg szeretné tekinteni az az időtartam alatt.</span><span class="sxs-lookup"><span data-stu-id="e6c07-285">You can then edit the filter criteria to specify the starting and ending timestamp for the interval you want to see.</span></span> <span data-ttu-id="e6c07-286">Akkor is végezhet egy adott állapotkód; például ha szeretné, csak az állapotkód: 404 esetén naplóbejegyzések betölteni.</span><span class="sxs-lookup"><span data-stu-id="e6c07-286">You can also filter on a particular status code; for example, you can choose to load only log entries where the status code is 404.</span></span>

<span data-ttu-id="e6c07-287">Naplóadatok Microsoft Message Analyzert történő importálásával kapcsolatos további információkért lásd: [üzenet-adatok beolvasása](http://technet.microsoft.com/library/dn772437.aspx) a TechNet webhelyen.</span><span class="sxs-lookup"><span data-stu-id="e6c07-287">For more information about importing log data into Microsoft Message Analyzer, see [Retrieving Message Data](http://technet.microsoft.com/library/dn772437.aspx) on TechNet.</span></span>

### <a name="use-the-client-request-id-to-correlate-log-file-data"></a><span data-ttu-id="e6c07-288">Az ügyfél-azonosító segítségével összefüggéseket naplófájl adatai</span><span class="sxs-lookup"><span data-stu-id="e6c07-288">Use the client request ID to correlate log file data</span></span>
<span data-ttu-id="e6c07-289">Az Azure Storage ügyféloldali kódtár automatikusan hoz létre minden egyes kérés egyedi ügyfélkérelem-azonosító.</span><span class="sxs-lookup"><span data-stu-id="e6c07-289">The Azure Storage Client Library automatically generates a unique client request ID for every request.</span></span> <span data-ttu-id="e6c07-290">Ez az érték az az ügyfél talál, a kiszolgáló naplóját és a hálózati nyomkövetés írni, hogy használhassa adatai közötti összefüggések keresésére Message Analyzer belül minden három naplók között.</span><span class="sxs-lookup"><span data-stu-id="e6c07-290">This value is written to the client log, the server log, and the network trace, so you can use it to correlate data across all three logs within Message Analyzer.</span></span> <span data-ttu-id="e6c07-291">Lásd: [ügyfélkérelem-azonosító](storage-monitoring-diagnosing-troubleshooting.md#client-request-id) további információt az ügyfél kérelem az azonosítója.</span><span class="sxs-lookup"><span data-stu-id="e6c07-291">See [Client request ID](storage-monitoring-diagnosing-troubleshooting.md#client-request-id) for additional information about the client request ID.</span></span>

<span data-ttu-id="e6c07-292">Az alábbi szakaszok azt ismertetik, hogyan előre konfigurált és egyéni nézetek segítségével összefüggéseket és replikációscsoport-adatok alapján az ügyfél kérelem-azonosítót.</span><span class="sxs-lookup"><span data-stu-id="e6c07-292">The sections below describe how to use pre-configured and custom layout views to correlate and group data based on the client request ID.</span></span>

### <a name="select-a-view-layout-to-display-in-the-analysis-grid"></a><span data-ttu-id="e6c07-293">Az elemzés rácsban megjelenítendő nézet elrendezés kiválasztása</span><span class="sxs-lookup"><span data-stu-id="e6c07-293">Select a view layout to display in the Analysis Grid</span></span>
<span data-ttu-id="e6c07-294">A Message Analyzer tárolási eszközök közé tartozik a Azure tárolási nézet elrendezést, amelyek előre konfigurált nézeteket, amelyek segítségével az adatok hasznos Csoportosítások és a különböző alkalmazási helyzetek oszlopok megjelenítéséhez.</span><span class="sxs-lookup"><span data-stu-id="e6c07-294">The Storage Assets for Message Analyzer include Azure Storage View Layouts, which are pre-configured views that you can use to display your data with useful groupings and columns for different scenarios.</span></span> <span data-ttu-id="e6c07-295">Hozhat létre egyéni nézet elrendezést, és mentse őket ismételt felhasználásra.</span><span class="sxs-lookup"><span data-stu-id="e6c07-295">You can also create custom view layouts and save them for reuse.</span></span>

<span data-ttu-id="e6c07-296">Az alábbi kép a **nézet elrendezését** menü kiválasztásával elérhető **nézet elrendezését** az eszköztár szalagon.</span><span class="sxs-lookup"><span data-stu-id="e6c07-296">The picture below shows the **View Layout** menu, available by selecting **View Layout** from the toolbar ribbon.</span></span> <span data-ttu-id="e6c07-297">A nézet elrendezések az Azure Storage alatt találhatók a **Azure Storage** csomópont a menüben.</span><span class="sxs-lookup"><span data-stu-id="e6c07-297">The view layouts for Azure Storage are grouped under the **Azure Storage** node in the menu.</span></span> <span data-ttu-id="e6c07-298">Kereshet `Azure Storage` be a keresőmezőbe az Azure Storage szűrése elrendezések csak megtekinthetők.</span><span class="sxs-lookup"><span data-stu-id="e6c07-298">You can search for `Azure Storage` in the search box to filter on Azure Storage view layouts only.</span></span> <span data-ttu-id="e6c07-299">Igény szerint kiválaszthatja a csillag kedvenc legyen, és megjeleníti azt az a menü felső nézet elrendezésének mellett.</span><span class="sxs-lookup"><span data-stu-id="e6c07-299">You can also select the star next to a view layout to make it a favorite and display it at the top of the menu.</span></span>

![Nézet elrendezését menü](./media/storage-e2e-troubleshooting/view-layout-menu.png)

<span data-ttu-id="e6c07-301">Először válasszon **ClientRequestID és modul szerint csoportosítva**.</span><span class="sxs-lookup"><span data-stu-id="e6c07-301">To begin with, select **Grouped by ClientRequestID and Module**.</span></span> <span data-ttu-id="e6c07-302">A nézet elrendezését csoportok naplózni három naplókból először ügyfélkérelem-azonosító, azután a forrás naplófájl (vagy **modul** az Üzenetelemző).</span><span class="sxs-lookup"><span data-stu-id="e6c07-302">This view layout groups log data from all three logs first by client request ID, then by source log file (or **Module** in Message Analyzer).</span></span> <span data-ttu-id="e6c07-303">Ez a nézet a részletekbe menően tárhatják fel adott ügyfélkérelem-azonosító, és adott ügyfél kérelem összes három naplófájl adatai azonosítóját.</span><span class="sxs-lookup"><span data-stu-id="e6c07-303">With this view, you can drill down into a particular client request ID, and see data from all three log files for that client request ID.</span></span>

<span data-ttu-id="e6c07-304">Az alábbi kép az elrendezés nézetben a napló mintaadatok, megjelenített oszlopok egy részét alkalmazza.</span><span class="sxs-lookup"><span data-stu-id="e6c07-304">The picture below shows this layout view applied to the sample log data, with a subset of columns displayed.</span></span> <span data-ttu-id="e6c07-305">Láthatja, hogy az adott ügyfélkérelem-azonosító, a elemzés rács adatait jeleníti meg az ügyfél napló, a kiszolgáló naplóját és a hálózati nyomkövetés.</span><span class="sxs-lookup"><span data-stu-id="e6c07-305">You can see that for a particular client request ID, the Analysis Grid displays data from the client log, server log, and network trace.</span></span>

![Az Azure Storage nézet elrendezés](./media/storage-e2e-troubleshooting/view-layout-client-request-id-module.png)

> [!NOTE]
> <span data-ttu-id="e6c07-307">Különböző naplófájlokat rendelkezik a különböző oszlopokban, így megjelenésekor több naplófájl adatait a elemzés rácsban, néhány oszlop nem tartalmazhat egy adott sor adatokat.</span><span class="sxs-lookup"><span data-stu-id="e6c07-307">Different log files have different columns, so when data from multiple log files is displayed in the Analysis Grid, some columns may not contain any data for a given row.</span></span> <span data-ttu-id="e6c07-308">Például a fenti kép, az ügyfél napló sorok ne jelenjen meg az adatokat a **időbélyeg**, **TimeElapsed**, **forrás**, és **cél** oszlopok, mivel ezek az oszlopok nem szerepelnek az ügyfél talál, de a hálózati nyomkövetés szerepel.</span><span class="sxs-lookup"><span data-stu-id="e6c07-308">For example, in the picture above, the client log rows do not show any data for the **Timestamp**, **TimeElapsed**, **Source**, and **Destination** columns, because these columns do not exist in the client log, but do exist in the network trace.</span></span> <span data-ttu-id="e6c07-309">Hasonlóképpen a **időbélyeg** oszlop Timestamp típusú adatait a kiszolgáló naplóját jeleníti meg, azonban adatot nem jelenik meg a **TimeElapsed**, **forrás**, és **cél** oszlopokat, amelyek nem részei a kiszolgáló naplóját.</span><span class="sxs-lookup"><span data-stu-id="e6c07-309">Similarly, the **Timestamp** column displays timestamp data from the server log, but no data is displayed for the **TimeElapsed**, **Source**, and **Destination** columns, which are not part of the server log.</span></span>
> 
> 

<span data-ttu-id="e6c07-310">Mellett az Azure Storage nézet elrendezés, is határozza meg, és mentse a saját nézet elrendezés.</span><span class="sxs-lookup"><span data-stu-id="e6c07-310">In addition to using the Azure Storage view layouts, you can also define and save your own view layouts.</span></span> <span data-ttu-id="e6c07-311">Más kívánt Mezőválasztás adatok csoportosításához, és mentse a csoportosítás, valamint az egyéni elrendezés részeként.</span><span class="sxs-lookup"><span data-stu-id="e6c07-311">You can select other desired fields for grouping data and save the grouping as part of your custom layout as well.</span></span>

### <a name="apply-color-rules-to-the-analysis-grid"></a><span data-ttu-id="e6c07-312">Az elemzés rács színét szabályok alkalmazása</span><span class="sxs-lookup"><span data-stu-id="e6c07-312">Apply color rules to the Analysis Grid</span></span>
<span data-ttu-id="e6c07-313">A tárolási eszközök is szín szabályok, amelyek ajánlat a visual azt jelenti, hogy különböző típusú hibák elemzés rácsban azonosításához.</span><span class="sxs-lookup"><span data-stu-id="e6c07-313">The Storage Assets also include color rules, which offer a visual means to identify different types of errors in the Analysis Grid.</span></span> <span data-ttu-id="e6c07-314">Előre definiált színt szabályok vonatkoznak a HTTP-hibák, így csak a kiszolgáló naplóját és a hálózati nyomkövetés jelennek meg.</span><span class="sxs-lookup"><span data-stu-id="e6c07-314">The predefined color rules apply to HTTP errors, so they appear only for the server log and network trace.</span></span>

<span data-ttu-id="e6c07-315">Szín szabályok jelölje **szín szabályok** az eszköztár szalagon.</span><span class="sxs-lookup"><span data-stu-id="e6c07-315">To apply color rules, select **Color Rules** from the toolbar ribbon.</span></span> <span data-ttu-id="e6c07-316">Látni fogja az Azure Storage szín szabályok a menüben.</span><span class="sxs-lookup"><span data-stu-id="e6c07-316">You'll see the Azure Storage color rules in the menu.</span></span> <span data-ttu-id="e6c07-317">Válassza ki az oktatóanyagban **ügyfél hibákat (StatusCode 400 és 499)**, az alábbi képen látható módon.</span><span class="sxs-lookup"><span data-stu-id="e6c07-317">For the tutorial, select **Client Errors (StatusCode between 400 and 499)**, as shown in the picture below.</span></span>

![Az Azure Storage nézet elrendezés](./media/storage-e2e-troubleshooting/color-rules-menu.png)

<span data-ttu-id="e6c07-319">Az Azure Storage szín szabályok használata mellett is határozza meg és saját szín szabályok mentése.</span><span class="sxs-lookup"><span data-stu-id="e6c07-319">In addition to using the Azure Storage color rules, you can also define and save your own color rules.</span></span>

### <a name="group-and-filter-log-data-to-find-400-range-errors"></a><span data-ttu-id="e6c07-320">Csoport és a szűrő naplóadatokat 400-tartomány hibák kereséséhez</span><span class="sxs-lookup"><span data-stu-id="e6c07-320">Group and filter log data to find 400-range errors</span></span>
<span data-ttu-id="e6c07-321">Lesz a következő azt csoportnak, és szűrje a napló adatokat az összes hiba található a 400 közé.</span><span class="sxs-lookup"><span data-stu-id="e6c07-321">Next, we'll group and filter the log data to find all errors in the 400 range.</span></span>

1. <span data-ttu-id="e6c07-322">Keresse meg a **StatusCode** oszlop elemzés rácsban, kattintson a jobb gombbal a címsor, és válassza ki az oszlop **csoport**.</span><span class="sxs-lookup"><span data-stu-id="e6c07-322">Locate the **StatusCode** column in the Analysis Grid, right-click the column heading, and select **Group**.</span></span>
2. <span data-ttu-id="e6c07-323">A következő csoport a **ClientRequestId** oszlop.</span><span class="sxs-lookup"><span data-stu-id="e6c07-323">Next, group on the **ClientRequestId** column.</span></span> <span data-ttu-id="e6c07-324">Látni fogja, hogy az Analysis rácsban most elrendezését állapotkód és ügyfél-kérelem azonosítót.</span><span class="sxs-lookup"><span data-stu-id="e6c07-324">You'll see that the data in the Analysis Grid is now organized by status code and by client request ID.</span></span>
3. <span data-ttu-id="e6c07-325">A nézet szűrő eszköz ablak megjelenítése, ha azt már nem jelenik meg.</span><span class="sxs-lookup"><span data-stu-id="e6c07-325">Display the View Filter tool window if it is not already displayed.</span></span> <span data-ttu-id="e6c07-326">Válassza ki az eszköztár menüszalagon **eszköz Windows**, majd **nézet szűrő**.</span><span class="sxs-lookup"><span data-stu-id="e6c07-326">On the toolbar ribbon, select **Tool Windows**, then **View Filter**.</span></span>
4. <span data-ttu-id="e6c07-327">A napló csak a 400-tartomány hibák megjelenítendő adatok szűrése, adja hozzá a következő szűrési feltételeket a **nézet szűrő** ablakot, és kattintson **alkalmaz**:</span><span class="sxs-lookup"><span data-stu-id="e6c07-327">To filter the log data to display only 400-range errors, add the following filter criteria to the **View Filter** window, and click **Apply**:</span></span>

    ```   
    (AzureStorageLog.StatusCode >= 400 && AzureStorageLog.StatusCode <=499) || (HTTP.StatusCode >= 400 && HTTP.StatusCode <= 499)
    ```

<span data-ttu-id="e6c07-328">Az alábbi képen a csoportosítás és a szűrő eredményeit jeleníti meg.</span><span class="sxs-lookup"><span data-stu-id="e6c07-328">The picture below shows the results of this grouping and filter.</span></span> <span data-ttu-id="e6c07-329">Bővíteni a **ClientRequestID** mező alatt a csoportosítás status kód 409, például jeleníti meg, amelyek adott állapotkód: egy művelet.</span><span class="sxs-lookup"><span data-stu-id="e6c07-329">Expanding the **ClientRequestID** field beneath the grouping for status code 409, for example, shows an operation that resulted in that status code.</span></span>

![Az Azure Storage nézet elrendezés](./media/storage-e2e-troubleshooting/400-range-errors1.png)

<span data-ttu-id="e6c07-331">Ez a szűrő alkalmazását követően láthatja, hogy az ügyfél naplófájl azon sorait nem tartoznak, az ügyféllel a napló nem tartalmaz egy **StatusCode** oszlop.</span><span class="sxs-lookup"><span data-stu-id="e6c07-331">After applying this filter, you'll see that rows from the client log are excluded, as the client log does not include a **StatusCode** column.</span></span> <span data-ttu-id="e6c07-332">Először igazolnia áttekinti a kiszolgáló és a hálózati nyomkövetési naplók 404-es hibák kereséséhez, és majd még visszatérünk vizsgálja meg az ügyfél műveleteivel őket vezető ügyfél napló.</span><span class="sxs-lookup"><span data-stu-id="e6c07-332">To begin with, we'll review the server and network trace logs to locate 404 errors, and then we'll return to the client log to examine the client operations that led to them.</span></span>

> [!NOTE]
> <span data-ttu-id="e6c07-333">Végezhet a **StatusCode** oszlop és továbbra is a megjelenített adatok három naplókat, beleértve az ügyfélszámítógép naplóját, ha a kifejezés hozzáadni a szűrőt, amely tartalmazza a naplóbejegyzéseket, ahol az állapotkód értéke null.</span><span class="sxs-lookup"><span data-stu-id="e6c07-333">You can filter on the **StatusCode** column and still display data from all three logs, including the client log, if you add an expression to the filter that includes log entries where the status code is null.</span></span> <span data-ttu-id="e6c07-334">A szűrőkifejezés létrehozásához használja:</span><span class="sxs-lookup"><span data-stu-id="e6c07-334">To construct this filter expression, use:</span></span>
> 
> <code>&#42;StatusCode >= 400 or !&#42;StatusCode</code>
> 
> <span data-ttu-id="e6c07-335">Ez a szűrő sorát adja vissza minden az ügyfél naplóját, és csak a kiszolgáló naplóját és a HTTP-napló sorát az állapotkód: nagyobb, mint a 400 esetén.</span><span class="sxs-lookup"><span data-stu-id="e6c07-335">This filter returns all rows from the client log and only rows from the server log and HTTP log where the status code is greater than 400.</span></span> <span data-ttu-id="e6c07-336">Ha a nézet elrendezését csoportosítva ügyfélkérelem-azonosító és a modul telepítését, keressen, vagy görgessen keresztül a naplóbejegyzések található azokat, ahol minden három naplók vannak megadva.</span><span class="sxs-lookup"><span data-stu-id="e6c07-336">If you apply it to the view layout grouped by client request ID and module, you can search or scroll through the log entries to find ones where all three logs are represented.</span></span>   
> 
> 

### <a name="filter-log-data-to-find-404-errors"></a><span data-ttu-id="e6c07-337">Szűrő naplóadatokat 404-es hibák kereséséhez</span><span class="sxs-lookup"><span data-stu-id="e6c07-337">Filter log data to find 404 errors</span></span>
<span data-ttu-id="e6c07-338">A tárolási eszközök szűkítheti a naplóadatok találja a hibák vagy a keresett trendek segítségével előre definiált szűrőktől tartalmazzák.</span><span class="sxs-lookup"><span data-stu-id="e6c07-338">The Storage Assets include predefined filters that you can use to narrow log data to find the errors or trends you are looking for.</span></span> <span data-ttu-id="e6c07-339">A következő fog érvénybe lépni két előre definiált szűrők: azt, amelyik a szűrők a kiszolgáló és a hálózati nyomkövetési naplók a 404-es hibákat, és azt, amelyik a megadott időtartomány lévő adatok szűrése.</span><span class="sxs-lookup"><span data-stu-id="e6c07-339">Next, we'll apply two predefined filters: one that filters the server and network trace logs for 404 errors, and one that filters the data on a specified time range.</span></span>

1. <span data-ttu-id="e6c07-340">A nézet szűrő eszköz ablak megjelenítése, ha azt már nem jelenik meg.</span><span class="sxs-lookup"><span data-stu-id="e6c07-340">Display the View Filter tool window if it is not already displayed.</span></span> <span data-ttu-id="e6c07-341">Válassza ki az eszköztár menüszalagon **eszköz Windows**, majd **nézet szűrő**.</span><span class="sxs-lookup"><span data-stu-id="e6c07-341">On the toolbar ribbon, select **Tool Windows**, then **View Filter**.</span></span>
2. <span data-ttu-id="e6c07-342">Válassza a nézet szűrő ablak **könyvtár**, és a keresési `Azure Storage` található az Azure Storage-szűrők.</span><span class="sxs-lookup"><span data-stu-id="e6c07-342">In the View Filter window, select **Library**, and search on `Azure Storage` to find the Azure Storage filters.</span></span> <span data-ttu-id="e6c07-343">Válassza ki a szűrő **404-es (nem található) összes napló állapotüzenetek**.</span><span class="sxs-lookup"><span data-stu-id="e6c07-343">Select the filter for **404 (Not Found) messages in all logs**.</span></span>
3. <span data-ttu-id="e6c07-344">Megjelenítési a **könyvtár** menü újra, és keresse meg és jelölje ki a **globális Time Filter**.</span><span class="sxs-lookup"><span data-stu-id="e6c07-344">Display the **Library** menu again, and locate and select the **Global Time Filter**.</span></span>
4. <span data-ttu-id="e6c07-345">A megtekinteni kívánt tartományt a szűrő látható időbélyegeket szerkesztése.</span><span class="sxs-lookup"><span data-stu-id="e6c07-345">Edit the timestamps shown in the filter to the range you wish to view.</span></span> <span data-ttu-id="e6c07-346">Ez segít az adatok elemzéséhez tartományán szűkítheti.</span><span class="sxs-lookup"><span data-stu-id="e6c07-346">This will help to narrow the range of data to analyze.</span></span>
5. <span data-ttu-id="e6c07-347">A szűrő az alábbi példához hasonlóan kell megjelennie.</span><span class="sxs-lookup"><span data-stu-id="e6c07-347">Your filter should appear similar to the example below.</span></span> <span data-ttu-id="e6c07-348">Kattintson a **alkalmaz** a szűrő alkalmazása az elemzés rács.</span><span class="sxs-lookup"><span data-stu-id="e6c07-348">Click **Apply** to apply the filter to the Analysis Grid.</span></span>

    ```   
    ((AzureStorageLog.StatusCode == 404 || HTTP.StatusCode == 404)) And
    (#Timestamp >= 2014-10-20T16:36:38 and #Timestamp <= 2014-10-20T16:36:39)
    ```

    ![Az Azure Storage nézet elrendezés](./media/storage-e2e-troubleshooting/404-filtered-errors1.png)

### <a name="analyze-your-log-data"></a><span data-ttu-id="e6c07-350">A naplózási adatok elemzése</span><span class="sxs-lookup"><span data-stu-id="e6c07-350">Analyze your log data</span></span>
<span data-ttu-id="e6c07-351">Csoportosítva, és az adatok szűrt, láthatja az egyes kérelmeket a 404-es kapcsolatban hibát okozó részleteit.</span><span class="sxs-lookup"><span data-stu-id="e6c07-351">Now that you have grouped and filtered your data, you can examine the details of individual requests that generated 404 errors.</span></span> <span data-ttu-id="e6c07-352">Az aktuális nézet elrendezését az adatok ügyfélkérelem-azonosító, majd a napló forrás által szerint vannak csoportosítva.</span><span class="sxs-lookup"><span data-stu-id="e6c07-352">In the current view layout, the data is grouped by client request ID, then by log source.</span></span> <span data-ttu-id="e6c07-353">Mivel azt jelenleg korlátozza a kérelemhez ahol a StatusCode mezőben 404, megtanulhatja, csak a kiszolgáló és a hálózati nyomkövetési adatok, nem az ügyfél naplóadatokat.</span><span class="sxs-lookup"><span data-stu-id="e6c07-353">Since we are filtering on requests where the StatusCode field contains 404, we'll see only the server and network trace data, not the client log data.</span></span>

<span data-ttu-id="e6c07-354">A következő ábrán látható egy adott kérelem, amelyben a Blob beolvasása a művelet eredményezte-e a 404-es, mert a blob nem létezik.</span><span class="sxs-lookup"><span data-stu-id="e6c07-354">The picture below shows a specific request where a Get Blob operation yielded a 404 because the blob did not exist.</span></span> <span data-ttu-id="e6c07-355">Vegye figyelembe, hogy néhány oszlop el lettek távolítva a szabványos nézet ahhoz, hogy a megfelelő adatok jelennek meg.</span><span class="sxs-lookup"><span data-stu-id="e6c07-355">Note that some columns have been removed from the standard view in order to display the relevant data.</span></span>

![Szűrt kiszolgálói és hálózati nyomkövetési naplók](./media/storage-e2e-troubleshooting/server-filtered-404-error.png)

<span data-ttu-id="e6c07-357">Ezután azt fogja függ a ügyfélkérelem-azonosító az ügyfél naplóadatokat, hogy milyen műveletek, az ügyfél lett véve, ha a hiba történt a.</span><span class="sxs-lookup"><span data-stu-id="e6c07-357">Next, we'll correlate this client request ID with the client log data to see what actions the client was taking when the error happened.</span></span> <span data-ttu-id="e6c07-358">Új elemzési nézetet az ehhez a munkamenethez, a napló ügyféladatok megtekintésére, amely megnyit egy második lapján jelenítheti meg:</span><span class="sxs-lookup"><span data-stu-id="e6c07-358">You can display a new Analysis Grid view for this session to view the client log data, which opens in a second tab:</span></span>

1. <span data-ttu-id="e6c07-359">Első lépésként másolja az értékét a **ClientRequestId** mezőjét a vágólapra.</span><span class="sxs-lookup"><span data-stu-id="e6c07-359">First, copy the value of the **ClientRequestId** field to the clipboard.</span></span> <span data-ttu-id="e6c07-360">Ehhez vagy sor kijelölés, megkeresi a **ClientRequestId** mező, kattintson a jobb gombbal az adatérték a, és válassza **másolási "ClientRequestId"**.</span><span class="sxs-lookup"><span data-stu-id="e6c07-360">You can do this by selecting either row, locating the **ClientRequestId** field, right-clicking on the data value, and choosing **Copy 'ClientRequestId'**.</span></span>
2. <span data-ttu-id="e6c07-361">Az eszköztár menüszalagon válassza **új Viewer**, majd jelölje be **elemzés rács** új lap megnyitásához.</span><span class="sxs-lookup"><span data-stu-id="e6c07-361">On the toolbar ribbon, select **New Viewer**, then select **Analysis Grid** to open a new tab.</span></span> <span data-ttu-id="e6c07-362">Az új lapja mutatja a naplófájlok nem csoportosításához, szűréséhez, illetve a szín szabályok összes adatot.</span><span class="sxs-lookup"><span data-stu-id="e6c07-362">The new tab shows all data in your log files, without grouping, filtering, or color rules.</span></span>
3. <span data-ttu-id="e6c07-363">Az eszköztár menüszalagon válassza **nézet elrendezését**, majd jelölje be **minden .NET ügyfél oszlopok** alatt a **Azure Storage** szakasz.</span><span class="sxs-lookup"><span data-stu-id="e6c07-363">On the toolbar ribbon, select **View Layout**, then select **All .NET Client Columns** under the **Azure Storage** section.</span></span> <span data-ttu-id="e6c07-364">A nézet elrendezését, az ügyfél adatainak megjelenítése, napló, valamint a kiszolgáló és a hálózat nyomkövetési naplóit.</span><span class="sxs-lookup"><span data-stu-id="e6c07-364">This view layout shows data from the client log as well as the server and network trace logs.</span></span> <span data-ttu-id="e6c07-365">Alapértelmezés szerint a rendszer rendezi a **MessageNumber** oszlop.</span><span class="sxs-lookup"><span data-stu-id="e6c07-365">By default it is sorted on the **MessageNumber** column.</span></span>
4. <span data-ttu-id="e6c07-366">A következő keresése az ügyfél talál az ügyfél kérelem-azonosítót.</span><span class="sxs-lookup"><span data-stu-id="e6c07-366">Next, search the client log for the client request ID.</span></span> <span data-ttu-id="e6c07-367">Válassza ki az eszköztár menüszalagon **található üzenetek**, majd adjon meg egy egyéni szűrő a ügyfélkérelem-azonosító található a a **található** mező.</span><span class="sxs-lookup"><span data-stu-id="e6c07-367">On the toolbar ribbon, select **Find Messages**, then specify a custom filter on the client request ID in the **Find** field.</span></span> <span data-ttu-id="e6c07-368">Ezt a szintaxist használja a szűrőt, a saját ügyfélkérelem-azonosító megadása:</span><span class="sxs-lookup"><span data-stu-id="e6c07-368">Use this syntax for the filter, specifying your own client request ID:</span></span>

    ```
    *ClientRequestId == "398bac41-7725-484b-8a69-2a9e48fc669a"
    ```

<span data-ttu-id="e6c07-369">Az Üzenetelemző talál, és kiválasztja az első naplóbejegyzés, ahol a keresési feltételeknek megfelelő ügyfél kérelem-azonosítót.</span><span class="sxs-lookup"><span data-stu-id="e6c07-369">Message Analyzer locates and selects the first log entry where the search criteria matches the client request ID.</span></span> <span data-ttu-id="e6c07-370">Az ügyfélszámítógép naplóját nincsenek minden ügyfélkérelem-azonosító, több bejegyzést, érdemes lehet csoportosítani őket a a **ClientRequestId** könnyebb együtt lásd: a mező.</span><span class="sxs-lookup"><span data-stu-id="e6c07-370">In the client log, there are several entries for each client request ID, so you may want to group them on the **ClientRequestId** field to make it easier to see them all together.</span></span> <span data-ttu-id="e6c07-371">A következő ábrán látható összes üzenetet az ügyfél tartalmaz a megadott ügyfél kérelem azonosítóját.</span><span class="sxs-lookup"><span data-stu-id="e6c07-371">The picture below shows all of the messages in the client log for the specified client request ID.</span></span>

![Ügyfél naplófájl-megjelenítő 404-es hibák](./media/storage-e2e-troubleshooting/client-log-analysis-grid1.png)

<span data-ttu-id="e6c07-373">A nézet elrendezések ezen két lapok megjelenő adatok használatával, a kérelem adatainak annak meghatározásához, hogy a hibát okozta mi elemezheti.</span><span class="sxs-lookup"><span data-stu-id="e6c07-373">Using the data shown in the view layouts in these two tabs, you can analyze the request data to determine what may have caused the error.</span></span> <span data-ttu-id="e6c07-374">Is megtalálhatja kérelmek megelőző ezt a telepítést, ha egy előző esemény vezettek előfordulhat, hogy a 404-es hiba megtekintéséhez.</span><span class="sxs-lookup"><span data-stu-id="e6c07-374">You can also look at requests that preceded this one to see if a previous event may have led to the 404 error.</span></span> <span data-ttu-id="e6c07-375">Például tekintheti meg az ügyfél naplóbejegyzések megelőző az ügyfél-Azonosítót határozza meg, hogy a blob törölték, vagy a következő hiba történt az ügyfélalkalmazás egy tárolót vagy blobot egy CreateIfNotExists API hívása miatt.</span><span class="sxs-lookup"><span data-stu-id="e6c07-375">For example, you can review the client log entries preceding this client request ID to determine whether the blob may have been deleted, or if the error was due to the client application calling a CreateIfNotExists API on a container or blob.</span></span> <span data-ttu-id="e6c07-376">Az ügyfél naplóban található a blob címet a **leírása** mezőben; a kiszolgáló és a hálózati nyomkövetési naplók, ez az információ jelenik meg a **összegzése** mező.</span><span class="sxs-lookup"><span data-stu-id="e6c07-376">In the client log, you can find the blob's address in the **Description** field; in the server and network trace logs, this information appears in the **Summary** field.</span></span>

<span data-ttu-id="e6c07-377">Miután eldöntötte, hogy a cím, amely a 404-es hibát eredményezte BLOB, használatával megvizsgálhatja a további.</span><span class="sxs-lookup"><span data-stu-id="e6c07-377">Once you know the address of the blob that yielded the 404 error, you can investigate further.</span></span> <span data-ttu-id="e6c07-378">Ha a naplóbejegyzések más műveleteket végez a azonos blob társított üzenetek, ellenőrizheti, hogy az ügyfél korábban törölték az entitást.</span><span class="sxs-lookup"><span data-stu-id="e6c07-378">If you search the log entries for other messages associated with operations on the same blob, you can check whether the client previously deleted the entity.</span></span>

## <a name="analyze-other-types-of-storage-errors"></a><span data-ttu-id="e6c07-379">Más típusú tárolási hibák elemzése</span><span class="sxs-lookup"><span data-stu-id="e6c07-379">Analyze other types of storage errors</span></span>
<span data-ttu-id="e6c07-380">Most, hogy ismeri a Message Analyzer segítségével elemezheti a naplózási adatokat, más típusú hibák nézet használatával elemezheti elrendezések, a színt szabályok és a keresés/szűrés.</span><span class="sxs-lookup"><span data-stu-id="e6c07-380">Now that you are familiar with using Message Analyzer to analyze your log data, you can analyze other types of errors using view layouts, color rules, and searching/filtering.</span></span> <span data-ttu-id="e6c07-381">Az alábbi táblázatok egyes esetlegesen fellépő problémák és a keresési feltételek használatával keresse meg őket sorolja fel.</span><span class="sxs-lookup"><span data-stu-id="e6c07-381">The tables below lists some issues you may encounter and the filter criteria you can use to locate them.</span></span> <span data-ttu-id="e6c07-382">A szűrők és a szűrés nyelvi Message Analyzer további információkért lásd: [szűrés állapotüzenet-adatokat](http://technet.microsoft.com/library/jj819365.aspx).</span><span class="sxs-lookup"><span data-stu-id="e6c07-382">For more information on constructing filters and the Message Analyzer filtering language, see [Filtering Message Data](http://technet.microsoft.com/library/jj819365.aspx).</span></span>

| <span data-ttu-id="e6c07-383">Vizsgálja meg...</span><span class="sxs-lookup"><span data-stu-id="e6c07-383">To Investigate…</span></span> | <span data-ttu-id="e6c07-384">Használja a szűrőkifejezés...</span><span class="sxs-lookup"><span data-stu-id="e6c07-384">Use Filter Expression…</span></span> | <span data-ttu-id="e6c07-385">Napló kifejezés vonatkozik (ügyfél, a kiszolgáló, a hálózat, az összes)</span><span class="sxs-lookup"><span data-stu-id="e6c07-385">Expression Applies to Log (Client, Server,   Network, All)</span></span> |
| --- | --- | --- |
| <span data-ttu-id="e6c07-386">Az üzenet kézbesítési a várólista nem várt késedelmeket</span><span class="sxs-lookup"><span data-stu-id="e6c07-386">Unexpected delays in message delivery on a queue</span></span> |<span data-ttu-id="e6c07-387">AzureStorageClientDotNetV4.Description tartalmaz "Újrapróbálkozás sikertelen műveletet."</span><span class="sxs-lookup"><span data-stu-id="e6c07-387">AzureStorageClientDotNetV4.Description   contains "Retrying failed operation."</span></span> |<span data-ttu-id="e6c07-388">Ügyfél</span><span class="sxs-lookup"><span data-stu-id="e6c07-388">Client</span></span> |
| <span data-ttu-id="e6c07-389">PercentThrottlingError HTTP növekedése</span><span class="sxs-lookup"><span data-stu-id="e6c07-389">HTTP Increase in PercentThrottlingError</span></span> |<span data-ttu-id="e6c07-390">HTTP-ALAPÚ. Response.StatusCode == 500 &#124; &#124; HTTP-ALAPÚ. Response.StatusCode 503-as ==</span><span class="sxs-lookup"><span data-stu-id="e6c07-390">HTTP.Response.StatusCode   == 500 &#124;&#124; HTTP.Response.StatusCode == 503</span></span> |<span data-ttu-id="e6c07-391">Network (Hálózat)</span><span class="sxs-lookup"><span data-stu-id="e6c07-391">Network</span></span> |
| <span data-ttu-id="e6c07-392">PercentTimeoutError növekedése</span><span class="sxs-lookup"><span data-stu-id="e6c07-392">Increase in PercentTimeoutError</span></span> |<span data-ttu-id="e6c07-393">HTTP-ALAPÚ. Response.StatusCode == 500</span><span class="sxs-lookup"><span data-stu-id="e6c07-393">HTTP.Response.StatusCode   == 500</span></span> |<span data-ttu-id="e6c07-394">Network (Hálózat)</span><span class="sxs-lookup"><span data-stu-id="e6c07-394">Network</span></span> |
| <span data-ttu-id="e6c07-395">Az (all) PercentTimeoutError növelése</span><span class="sxs-lookup"><span data-stu-id="e6c07-395">Increase in PercentTimeoutError (all)</span></span> |<span data-ttu-id="e6c07-396">* StatusCode == 500</span><span class="sxs-lookup"><span data-stu-id="e6c07-396">*StatusCode   == 500</span></span> |<span data-ttu-id="e6c07-397">Összes</span><span class="sxs-lookup"><span data-stu-id="e6c07-397">All</span></span> |
| <span data-ttu-id="e6c07-398">PercentNetworkError növekedése</span><span class="sxs-lookup"><span data-stu-id="e6c07-398">Increase in PercentNetworkError</span></span> |<span data-ttu-id="e6c07-399">AzureStorageClientDotNetV4.EventLogEntry.Level < 2. régiója</span><span class="sxs-lookup"><span data-stu-id="e6c07-399">AzureStorageClientDotNetV4.EventLogEntry.Level   < 2</span></span> |<span data-ttu-id="e6c07-400">Ügyfél</span><span class="sxs-lookup"><span data-stu-id="e6c07-400">Client</span></span> |
| <span data-ttu-id="e6c07-401">A HTTP 403-as (tiltott) üzenetek</span><span class="sxs-lookup"><span data-stu-id="e6c07-401">HTTP 403 (Forbidden) messages</span></span> |<span data-ttu-id="e6c07-402">HTTP-ALAPÚ. Response.StatusCode == 403</span><span class="sxs-lookup"><span data-stu-id="e6c07-402">HTTP.Response.StatusCode   == 403</span></span> |<span data-ttu-id="e6c07-403">Network (Hálózat)</span><span class="sxs-lookup"><span data-stu-id="e6c07-403">Network</span></span> |
| <span data-ttu-id="e6c07-404">HTTP 404-es (nem található) üzenetek</span><span class="sxs-lookup"><span data-stu-id="e6c07-404">HTTP 404 (Not found) messages</span></span> |<span data-ttu-id="e6c07-405">HTTP-ALAPÚ. Response.StatusCode == 404</span><span class="sxs-lookup"><span data-stu-id="e6c07-405">HTTP.Response.StatusCode   == 404</span></span> |<span data-ttu-id="e6c07-406">Network (Hálózat)</span><span class="sxs-lookup"><span data-stu-id="e6c07-406">Network</span></span> |
| <span data-ttu-id="e6c07-407">404-es (összes)</span><span class="sxs-lookup"><span data-stu-id="e6c07-407">404 (all)</span></span> |<span data-ttu-id="e6c07-408">* StatusCode == 404</span><span class="sxs-lookup"><span data-stu-id="e6c07-408">*StatusCode   == 404</span></span> |<span data-ttu-id="e6c07-409">Összes</span><span class="sxs-lookup"><span data-stu-id="e6c07-409">All</span></span> |
| <span data-ttu-id="e6c07-410">Közös hozzáférésű Jogosultságkód (SAS) hitelesítési hiba</span><span class="sxs-lookup"><span data-stu-id="e6c07-410">Shared Access Signature (SAS) authorization issue</span></span> |<span data-ttu-id="e6c07-411">AzureStorageLog.RequestStatus == "SASAuthorizationError"</span><span class="sxs-lookup"><span data-stu-id="e6c07-411">AzureStorageLog.RequestStatus ==  "SASAuthorizationError"</span></span> |<span data-ttu-id="e6c07-412">Network (Hálózat)</span><span class="sxs-lookup"><span data-stu-id="e6c07-412">Network</span></span> |
| <span data-ttu-id="e6c07-413">A HTTP 409 (Ütközés) üzenetek</span><span class="sxs-lookup"><span data-stu-id="e6c07-413">HTTP 409 (Conflict) messages</span></span> |<span data-ttu-id="e6c07-414">HTTP-ALAPÚ. Response.StatusCode == 409</span><span class="sxs-lookup"><span data-stu-id="e6c07-414">HTTP.Response.StatusCode   == 409</span></span> |<span data-ttu-id="e6c07-415">Network (Hálózat)</span><span class="sxs-lookup"><span data-stu-id="e6c07-415">Network</span></span> |
| <span data-ttu-id="e6c07-416">409 (összes)</span><span class="sxs-lookup"><span data-stu-id="e6c07-416">409 (all)</span></span> |<span data-ttu-id="e6c07-417">* StatusCode == 409</span><span class="sxs-lookup"><span data-stu-id="e6c07-417">*StatusCode   == 409</span></span> |<span data-ttu-id="e6c07-418">Összes</span><span class="sxs-lookup"><span data-stu-id="e6c07-418">All</span></span> |
| <span data-ttu-id="e6c07-419">Alacsony PercentSuccess vagy analytics naplóbejegyzés rendelkezik ClientOtherErrors működésére a tranzakció állapota</span><span class="sxs-lookup"><span data-stu-id="e6c07-419">Low PercentSuccess or analytics log entries have   operations with transaction status of ClientOtherErrors</span></span> |<span data-ttu-id="e6c07-420">AzureStorageLog.RequestStatus == "ClientOtherError"</span><span class="sxs-lookup"><span data-stu-id="e6c07-420">AzureStorageLog.RequestStatus ==   "ClientOtherError"</span></span> |<span data-ttu-id="e6c07-421">Kiszolgáló</span><span class="sxs-lookup"><span data-stu-id="e6c07-421">Server</span></span> |
| <span data-ttu-id="e6c07-422">Nagle figyelmeztetés</span><span class="sxs-lookup"><span data-stu-id="e6c07-422">Nagle   Warning</span></span> |<span data-ttu-id="e6c07-423">((AzureStorageLog.EndToEndLatencyMS-AzureStorageLog.ServerLatencyMS) > (AzureStorageLog.ServerLatencyMS * 1.5-ös)) és (AzureStorageLog.RequestPacketSize < 1460) és (AzureStorageLog.EndToEndLatencyMS - AzureStorageLog.ServerLatencyMS > = 200)</span><span class="sxs-lookup"><span data-stu-id="e6c07-423">((AzureStorageLog.EndToEndLatencyMS   - AzureStorageLog.ServerLatencyMS) > (AzureStorageLog.ServerLatencyMS *   1.5)) and (AzureStorageLog.RequestPacketSize <1460) and (AzureStorageLog.EndToEndLatencyMS -   AzureStorageLog.ServerLatencyMS >= 200)</span></span> |<span data-ttu-id="e6c07-424">Kiszolgáló</span><span class="sxs-lookup"><span data-stu-id="e6c07-424">Server</span></span> |
| <span data-ttu-id="e6c07-425">A kiszolgáló és a hálózat naplókban időtartományt</span><span class="sxs-lookup"><span data-stu-id="e6c07-425">Range of   time in Server and Network logs</span></span> |<span data-ttu-id="e6c07-426">#Timestamp > = 2014-10-20T16:36:38 és #Timestamp < = 2014-10-20T16:36:39</span><span class="sxs-lookup"><span data-stu-id="e6c07-426">#Timestamp   >= 2014-10-20T16:36:38 and #Timestamp <= 2014-10-20T16:36:39</span></span> |<span data-ttu-id="e6c07-427">Kiszolgáló hálózati</span><span class="sxs-lookup"><span data-stu-id="e6c07-427">Server, Network</span></span> |
| <span data-ttu-id="e6c07-428">A kiszolgáló naplóiban időtartományt</span><span class="sxs-lookup"><span data-stu-id="e6c07-428">Range of   time in Server logs</span></span> |<span data-ttu-id="e6c07-429">AzureStorageLog.Timestamp > = 2014-10-20T16:36:38 és AzureStorageLog.Timestamp < = 2014-10-20T16:36:39</span><span class="sxs-lookup"><span data-stu-id="e6c07-429">AzureStorageLog.Timestamp   >= 2014-10-20T16:36:38 and AzureStorageLog.Timestamp <=   2014-10-20T16:36:39</span></span> |<span data-ttu-id="e6c07-430">Kiszolgáló</span><span class="sxs-lookup"><span data-stu-id="e6c07-430">Server</span></span> |

## <a name="next-steps"></a><span data-ttu-id="e6c07-431">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="e6c07-431">Next steps</span></span>
<span data-ttu-id="e6c07-432">Az Azure Storage hibaelhárítási végpont forgatókönyvekkel kapcsolatos további információkért lásd: ezeket az erőforrásokat:</span><span class="sxs-lookup"><span data-stu-id="e6c07-432">For more information about troubleshooting end-to-end scenarios in Azure Storage, see these resources:</span></span>

* [<span data-ttu-id="e6c07-433">Figyelése, diagnosztizálása és elhárítása a Microsoft Azure tárolás</span><span class="sxs-lookup"><span data-stu-id="e6c07-433">Monitor, diagnose, and troubleshoot Microsoft Azure Storage</span></span>](storage-monitoring-diagnosing-troubleshooting.md)
* [<span data-ttu-id="e6c07-434">Storage Analytics</span><span class="sxs-lookup"><span data-stu-id="e6c07-434">Storage Analytics</span></span>](http://msdn.microsoft.com/library/azure/hh343270.aspx)
* [<span data-ttu-id="e6c07-435">A figyelő egy tárfiókot, Azure-portálon</span><span class="sxs-lookup"><span data-stu-id="e6c07-435">Monitor a storage account in the Azure portal</span></span>](storage-monitor-storage-account.md)
* [<span data-ttu-id="e6c07-436">Adatátvitel az AzCopy parancssori segédprogrammal</span><span class="sxs-lookup"><span data-stu-id="e6c07-436">Transfer data with the AzCopy Command-Line Utility</span></span>](storage-use-azcopy.md)
* [<span data-ttu-id="e6c07-437">Microsoft Message Analyzer üzemeltetési útmutató</span><span class="sxs-lookup"><span data-stu-id="e6c07-437">Microsoft Message Analyzer Operating Guide</span></span>](http://technet.microsoft.com/library/jj649776.aspx)
