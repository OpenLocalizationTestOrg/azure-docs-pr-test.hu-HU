---
title: "Több HDInsight-fürt használata az Azure Data Lake Store-fiók – Azure |} Microsoft Docs"
description: "Egynél több HDInsight-fürt használata egy Data Lake Store-fiókkal"
keywords: "hdinsight-tárolóba, a hdfs, a strukturált adatok, a strukturálatlan adatok, a data lake store"
services: hdinsight,storage
documentationcenter: 
tags: azure-portal
author: nitinme
manager: jhubbard
editor: cgronlun
ms.service: hdinsight
ms.custom: hdinsightactive
ms.workload: big-data
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/02/2017
ms.author: nitinme
ms.openlocfilehash: 043141e8496a947f54564d29a1d7fb724fac5cda
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 07/11/2017
---
# <a name="use-multiple-hdinsight-clusters-with-an-azure-data-lake-store-account"></a><span data-ttu-id="a9566-104">Több HDInsight-fürt használata az Azure Data Lake Store-fiók</span><span class="sxs-lookup"><span data-stu-id="a9566-104">Use multiple HDInsight clusters with an Azure Data Lake Store account</span></span>

<span data-ttu-id="a9566-105">HDInsight 3.5-ös verziója verziótól kezdődően hozhat létre HDInsight-fürtök az Azure Data Lake Store-fiók, az alapértelmezett fájlrendszer.</span><span class="sxs-lookup"><span data-stu-id="a9566-105">Starting with HDInsight version 3.5, you can create HDInsight clusters with  Azure Data Lake Store accounts as the default filesystem.</span></span>
<span data-ttu-id="a9566-106">Data Lake Store támogatja a korlátlan tárterület, így ideális, ha nem csak futtató nagy mennyiségű adat; de is üzemeltetéséhez több HDInsight-fürtök ennek a megosztásnak a egyetlen Data Lake Store-fiókból.</span><span class="sxs-lookup"><span data-stu-id="a9566-106">Data Lake Store supports unlimited storage that makes it ideal not only for hosting large amounts of data; but also for hosting multiple HDInsight clusters that share a single Data Lake Store Account.</span></span> <span data-ttu-id="a9566-107">Instructionson hogyan HDInsight-fürtök létrehozása a Data Lake Store áruházból, a tárolóként, lásd: [HDInsight-fürtök létrehozása a Data Lake Store](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md).</span><span class="sxs-lookup"><span data-stu-id="a9566-107">For instructionson how to create an HDInsight cluster with Data Lake Store as the storage, see [Create HDInsight clusters with Data Lake Store](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md).</span></span>

<span data-ttu-id="a9566-108">Ez a cikk ismerteti a Data Lake ajánlásokat rendszergazda tárolja egyetlen és megosztott Data Lake tárolásához fiók beállítása, amely több használható **aktív** a HDInsight-fürtök.</span><span class="sxs-lookup"><span data-stu-id="a9566-108">This article provides recommendations to the Data Lake store administrator for setting up a single and shared Data Lake Store Account that can be used across multiple **active** HDInsight clusters.</span></span> <span data-ttu-id="a9566-109">Ezek a javaslatok alkalmazása több biztonságos, valamint a nem biztonságos Hadoop-fürtök megosztott Data Lake store-fiók a futtató.</span><span class="sxs-lookup"><span data-stu-id="a9566-109">These recommendations apply to hosting multiple secure as well as non-secure Hadoop clusters on a shared Data Lake store account.</span></span>


## <a name="data-lake-store-file-and-folder-level-acls"></a><span data-ttu-id="a9566-110">Data Lake Store-fájl- és hozzáférés-vezérlési listák szinten</span><span class="sxs-lookup"><span data-stu-id="a9566-110">Data Lake Store file and folder level ACLs</span></span>

<span data-ttu-id="a9566-111">Ez a cikk többi feltételezi, hogy rendelkezik-e a fájl- és szintű hozzáférés-vezérlési listák jó ismerete, részletes leírását lásd az Azure Data Lake Store a [hozzáférés-vezérlés az Azure Data Lake Store](../data-lake-store/data-lake-store-access-control.md).</span><span class="sxs-lookup"><span data-stu-id="a9566-111">The rest of this article assumes that you have a good knowledge of file and folder level ACLs in Azure Data Lake Store, which is described in detail at [Access control in Azure Data Lake Store](../data-lake-store/data-lake-store-access-control.md).</span></span>

## <a name="data-lake-store-setup-for-multiple-hdinsight-clusters"></a><span data-ttu-id="a9566-112">Több HDInsight-fürtök a Data Lake Store-telepítő</span><span class="sxs-lookup"><span data-stu-id="a9566-112">Data Lake Store setup for multiple HDInsight clusters</span></span>
<span data-ttu-id="a9566-113">Ossza meg velünk igénybe vehet egy kétszintű mappahierarchia ismertetik a javaslatok mutilple a HDInsight-fürtök használata a Data Lake Store-fiók.</span><span class="sxs-lookup"><span data-stu-id="a9566-113">Let us take a two-level folder hierarchy to explain the recommendations for using mutilple HDInsight clusters with a Data Lake Store account.</span></span> <span data-ttu-id="a9566-114">Vegye figyelembe a rendelkezik egy Data Lake Store-fiókkal, és a gyökérmappa-szerkezetében **/fürtök/pénzügyi**.</span><span class="sxs-lookup"><span data-stu-id="a9566-114">Consider you have a Data Lake Store account with the folder structure **/clusters/finance**.</span></span> <span data-ttu-id="a9566-115">Ez a struktúra a pénzügyi szervezet által igényelt összes fürt segítségével /clusters/finance tárolási helyként.</span><span class="sxs-lookup"><span data-stu-id="a9566-115">With this structure, all the clusters required by the Finance organization can use /clusters/finance as the storage location.</span></span> <span data-ttu-id="a9566-116">A jövőbeli, ha egy másik szervezet mondja ki a Marketing, hozzon létre HDInsight-fürtök ugyanazt a Data Lake Store-fiókot, akkor létrehozhat a/fürtök/marketing szeretné.</span><span class="sxs-lookup"><span data-stu-id="a9566-116">In the future, if another organization, say Marketing, wants to create HDInsight clusters using the same Data Lake Store account, they could create /clusters/marketing.</span></span> <span data-ttu-id="a9566-117">Most tegyük használja **/fürtök/pénzügyi**.</span><span class="sxs-lookup"><span data-stu-id="a9566-117">For now, let's just use **/clusters/finance**.</span></span>

<span data-ttu-id="a9566-118">Ahhoz, hogy a gyökérmappa-szerkezetében hatékonyan használhatják a HDInsight-fürtök, a Data Lake Store rendszergazdájának kell megadnia megfelelő engedélyekkel a táblázatban ismertetett módon.</span><span class="sxs-lookup"><span data-stu-id="a9566-118">To enable this folder structure to be effectively used by HDInsight clusters, the Data Lake Store administrator must assign appropriate permissions, as described in the table.</span></span> <span data-ttu-id="a9566-119">Hozzáférés-vezérlési listák és a nem alapértelmezett-hozzáférés-vezérlési listák megfelelnek az engedélyeket a táblázatban látható.</span><span class="sxs-lookup"><span data-stu-id="a9566-119">The permissions shown in the table correspond to Access-ACLs, and not Default-ACLs.</span></span> 


|<span data-ttu-id="a9566-120">Mappa</span><span class="sxs-lookup"><span data-stu-id="a9566-120">Folder</span></span>  |<span data-ttu-id="a9566-121">Engedélyek</span><span class="sxs-lookup"><span data-stu-id="a9566-121">Permissions</span></span>  |<span data-ttu-id="a9566-122">Tulajdonos felhasználó</span><span class="sxs-lookup"><span data-stu-id="a9566-122">Owning user</span></span>  |<span data-ttu-id="a9566-123">Tulajdonoscsoport</span><span class="sxs-lookup"><span data-stu-id="a9566-123">Owning group</span></span>  | <span data-ttu-id="a9566-124">Nevesített felhasználó</span><span class="sxs-lookup"><span data-stu-id="a9566-124">Named user</span></span> | <span data-ttu-id="a9566-125">Nevesített felhasználó engedélyek</span><span class="sxs-lookup"><span data-stu-id="a9566-125">Named user permissions</span></span> | <span data-ttu-id="a9566-126">Nevesített csoport</span><span class="sxs-lookup"><span data-stu-id="a9566-126">Named group</span></span> | <span data-ttu-id="a9566-127">Elnevezett csoportját engedélyek</span><span class="sxs-lookup"><span data-stu-id="a9566-127">Named group permissions</span></span> |
|---------|---------|---------|---------|---------|---------|---------|---------|
|/ | <span data-ttu-id="a9566-128">rwxr-x – x</span><span class="sxs-lookup"><span data-stu-id="a9566-128">rwxr-x--x</span></span>  |<span data-ttu-id="a9566-129">Rendszergazda</span><span class="sxs-lookup"><span data-stu-id="a9566-129">admin</span></span> |<span data-ttu-id="a9566-130">Rendszergazda</span><span class="sxs-lookup"><span data-stu-id="a9566-130">admin</span></span>  |<span data-ttu-id="a9566-131">Egyszerű szolgáltatásnév</span><span class="sxs-lookup"><span data-stu-id="a9566-131">Service principal</span></span> |<span data-ttu-id="a9566-132">--x</span><span class="sxs-lookup"><span data-stu-id="a9566-132">--x</span></span>  |<span data-ttu-id="a9566-133">FINGRP</span><span class="sxs-lookup"><span data-stu-id="a9566-133">FINGRP</span></span>   |<span data-ttu-id="a9566-134">r-x</span><span class="sxs-lookup"><span data-stu-id="a9566-134">r-x</span></span>         |
|<span data-ttu-id="a9566-135">/Clusters</span><span class="sxs-lookup"><span data-stu-id="a9566-135">/clusters</span></span> | <span data-ttu-id="a9566-136">rwxr-x – x</span><span class="sxs-lookup"><span data-stu-id="a9566-136">rwxr-x--x</span></span> |<span data-ttu-id="a9566-137">Rendszergazda</span><span class="sxs-lookup"><span data-stu-id="a9566-137">admin</span></span> |<span data-ttu-id="a9566-138">Rendszergazda</span><span class="sxs-lookup"><span data-stu-id="a9566-138">admin</span></span> |<span data-ttu-id="a9566-139">Egyszerű szolgáltatásnév</span><span class="sxs-lookup"><span data-stu-id="a9566-139">Service principal</span></span> |<span data-ttu-id="a9566-140">--x</span><span class="sxs-lookup"><span data-stu-id="a9566-140">--x</span></span>  |<span data-ttu-id="a9566-141">FINGRP</span><span class="sxs-lookup"><span data-stu-id="a9566-141">FINGRP</span></span> |<span data-ttu-id="a9566-142">r-x</span><span class="sxs-lookup"><span data-stu-id="a9566-142">r-x</span></span>         |
|<span data-ttu-id="a9566-143">/ fürtök/pénzügyi</span><span class="sxs-lookup"><span data-stu-id="a9566-143">/clusters/finance</span></span> | <span data-ttu-id="a9566-144">rwxr-x – t</span><span class="sxs-lookup"><span data-stu-id="a9566-144">rwxr-x--t</span></span> |<span data-ttu-id="a9566-145">Rendszergazda</span><span class="sxs-lookup"><span data-stu-id="a9566-145">admin</span></span> |<span data-ttu-id="a9566-146">FINGRP</span><span class="sxs-lookup"><span data-stu-id="a9566-146">FINGRP</span></span>  |<span data-ttu-id="a9566-147">Egyszerű szolgáltatásnév</span><span class="sxs-lookup"><span data-stu-id="a9566-147">Service principal</span></span> |<span data-ttu-id="a9566-148">rwx</span><span class="sxs-lookup"><span data-stu-id="a9566-148">rwx</span></span>  |-  |-     |

<span data-ttu-id="a9566-149">A következő táblában:</span><span class="sxs-lookup"><span data-stu-id="a9566-149">In the table,</span></span>

- <span data-ttu-id="a9566-150">**felügyeleti** létrehozó és a Data Lake Store-fiók rendszergazdája.</span><span class="sxs-lookup"><span data-stu-id="a9566-150">**admin** is the creator and administrator of the Data Lake Store account.</span></span>
- <span data-ttu-id="a9566-151">**Szolgáltatás egyszerű** van a fiókhoz tartozó egyszerű Azure Active Directory (AAD) szolgáltatást.</span><span class="sxs-lookup"><span data-stu-id="a9566-151">**Service principal** is the Azure Active Directory (AAD) service principal associated with the account.</span></span>
- <span data-ttu-id="a9566-152">**FINGRP** az aad-ben, amely a pénzügyi szervezet felhasználóinak tartalmazza létrehozott felhasználói csoport.</span><span class="sxs-lookup"><span data-stu-id="a9566-152">**FINGRP** is a user group created in AAD that contains users from the Finance organization.</span></span>

<span data-ttu-id="a9566-153">További információ a egy AAD-alkalmazást, (amelyek is létrehoz egy egyszerű szolgáltatásnév) létrehozása [hozzon létre egy AAD-alkalmazást](../azure-resource-manager/resource-group-create-service-principal-portal.md#create-an-azure-active-directory-application).</span><span class="sxs-lookup"><span data-stu-id="a9566-153">For instructions on how to create an AAD application (that also creates a Service Principal), see [Create an AAD application](../azure-resource-manager/resource-group-create-service-principal-portal.md#create-an-azure-active-directory-application).</span></span> <span data-ttu-id="a9566-154">Felhasználói csoport létrehozása az aad-ben, lásd: [csoportkezelés az Azure Active Directory](../active-directory/active-directory-accessmanagement-manage-groups.md).</span><span class="sxs-lookup"><span data-stu-id="a9566-154">For instructions on how to create a user group in AAD, see [Managing groups in Azure Active Directory](../active-directory/active-directory-accessmanagement-manage-groups.md).</span></span>

<span data-ttu-id="a9566-155">Figyelembe kell venni néhány kulcs mutat.</span><span class="sxs-lookup"><span data-stu-id="a9566-155">Some key points to consider.</span></span>

- <span data-ttu-id="a9566-156">A két szinten mappaszerkezet (**/fürtök/pénzügyi/**) kell létrehozni, majd a megfelelő engedélyekkel a Data Lake Store-rendszergazda által kiosztott **előtt** fürtök a storage-fiók használatával.</span><span class="sxs-lookup"><span data-stu-id="a9566-156">The two level folder structure (**/clusters/finance/**) must be created and provisioned with appropriate permissions by the Data Lake Store admin **before** using the storage account for clusters.</span></span> <span data-ttu-id="a9566-157">Ez a struktúra nem készül automatikusan fürtök létrehozása során.</span><span class="sxs-lookup"><span data-stu-id="a9566-157">This structure is not created automatically while creating clusters.</span></span>
- <span data-ttu-id="a9566-158">A fenti példa azt javasolja, hogy a tulajdonos csoportja beállítás **/fürtök/pénzügyi** , **FINGRP** és lehetővé teszi a **r-x** FINGRP való hozzáférést a teljes mappahierarchia indítása a legfelső szintű.</span><span class="sxs-lookup"><span data-stu-id="a9566-158">The example above recommends setting the owning group of **/clusters/finance** as **FINGRP** and permitting **r-x** access to FINGRP to the entire folder hierarchy starting from the root.</span></span> <span data-ttu-id="a9566-159">Ez biztosítja, hogy FINGRP tagjai navigálhatnak a mappaszerkezet legfelső szintű kezdve.</span><span class="sxs-lookup"><span data-stu-id="a9566-159">This ensures that the members of FINGRP can navigate the folder structure starting from root.</span></span>
- <span data-ttu-id="a9566-160">Abban az esetben, ha különböző AAD Szolgáltatásnevekről hozhat létre a fürtök **/fürtök/pénzügyi**, a kapcsolódó bites (Ha be a **pénzügyi** mappa) biztosítja, hogy a mappák létrehozása egy szolgáltatásnév nem lehet törölni, a többi.</span><span class="sxs-lookup"><span data-stu-id="a9566-160">In the case when different AAD Service Principals can create clusters under **/clusters/finance**, the sticky-bit (when set on the **finance** folder) ensures that folders created by one Service Principal cannot be deleted by the other.</span></span>
- <span data-ttu-id="a9566-161">Miután a gyökérmappa-szerkezetében és az engedélyek vannak érvényben, HDInsight fürt létrehozási folyamata hoz létre a fürt-specifikus tárolási helynek a **/fürtök/pénzügyi/**.</span><span class="sxs-lookup"><span data-stu-id="a9566-161">Once the folder structure and permissions are in place, HDInsight cluster creation process creates a cluster-specific storage loaction under **/clusters/finance/**.</span></span> <span data-ttu-id="a9566-162">A név fincluster01 fürt tárolóhelyét lehet például **/clusters/finance/fincluster01**.</span><span class="sxs-lookup"><span data-stu-id="a9566-162">For example, the storage for a cluster with the name fincluster01 could be **/clusters/finance/fincluster01**.</span></span> <span data-ttu-id="a9566-163">A tulajdonosi és a HDInsight-fürt által létrehozott mappákra vonatkozó engedélyek Itt a táblázatban látható.</span><span class="sxs-lookup"><span data-stu-id="a9566-163">The ownership and permissions for the folders created by HDInsight cluster is shown in the table here.</span></span>

    |<span data-ttu-id="a9566-164">Mappa</span><span class="sxs-lookup"><span data-stu-id="a9566-164">Folder</span></span>  |<span data-ttu-id="a9566-165">Engedélyek</span><span class="sxs-lookup"><span data-stu-id="a9566-165">Permissions</span></span>  |<span data-ttu-id="a9566-166">Tulajdonos felhasználó</span><span class="sxs-lookup"><span data-stu-id="a9566-166">Owning user</span></span>  |<span data-ttu-id="a9566-167">Tulajdonoscsoport</span><span class="sxs-lookup"><span data-stu-id="a9566-167">Owning group</span></span>  | <span data-ttu-id="a9566-168">Nevesített felhasználó</span><span class="sxs-lookup"><span data-stu-id="a9566-168">Named user</span></span> | <span data-ttu-id="a9566-169">Nevesített felhasználó engedélyek</span><span class="sxs-lookup"><span data-stu-id="a9566-169">Named user permissions</span></span> | <span data-ttu-id="a9566-170">Nevesített csoport</span><span class="sxs-lookup"><span data-stu-id="a9566-170">Named group</span></span> | <span data-ttu-id="a9566-171">Elnevezett csoportját engedélyek</span><span class="sxs-lookup"><span data-stu-id="a9566-171">Named group permissions</span></span> |
    |---------|---------|---------|---------|---------|---------|---------|---------|
    |<span data-ttu-id="a9566-172">/Clusters/finanace/fincluster01</span><span class="sxs-lookup"><span data-stu-id="a9566-172">/clusters/finanace/ fincluster01</span></span> | <span data-ttu-id="a9566-173">rwxr-x---</span><span class="sxs-lookup"><span data-stu-id="a9566-173">rwxr-x---</span></span>  |<span data-ttu-id="a9566-174">Egyszerű szolgáltatásnév</span><span class="sxs-lookup"><span data-stu-id="a9566-174">Service Principal</span></span> |<span data-ttu-id="a9566-175">FINGRP</span><span class="sxs-lookup"><span data-stu-id="a9566-175">FINGRP</span></span>  |- |-  |-   |-  | 
   


## <a name="recommendations-for-job-input-and-output-data"></a><span data-ttu-id="a9566-176">Javaslatok feladat bemeneti és kimeneti adatok</span><span class="sxs-lookup"><span data-stu-id="a9566-176">Recommendations for job input and output data</span></span>

<span data-ttu-id="a9566-177">Azt javasoljuk, hogy a feladat egy feladatot, és a kimenetek bemeneti adatok tárolja egy mappát kívül **/fürtök**.</span><span class="sxs-lookup"><span data-stu-id="a9566-177">We recommend that input data to a job, and the outputs from a job be stored in a folder outside **/clusters**.</span></span> <span data-ttu-id="a9566-178">Ez biztosítja, hogy akkor is, ha a fürt-specifikus mappa néhány tárolóhely visszaigénylésének törlődik, a feladatot bemenetekhez és kimenetekhez továbbra is elérhetők a későbbi használat érdekében.</span><span class="sxs-lookup"><span data-stu-id="a9566-178">This ensures that even if the cluster-specific folder is deleted to reclaim some storage space,the job inputs and outputs are still available for future use.</span></span> <span data-ttu-id="a9566-179">Ilyen esetben győződjön meg arról, hogy a feladatot bemenetekhez és kimenetekhez tárolásához mappahierarchia lehetővé teszi, hogy megfelelő szintű hozzáférést a szolgáltatásnevet.</span><span class="sxs-lookup"><span data-stu-id="a9566-179">In such a case, ensure that the folder hierarchy for storing the job inputs and outputs allows appropriate level of access for the Service Principal.</span></span>

## <a name="limit-on-clusters-sharing-a-single-storage-account"></a><span data-ttu-id="a9566-180">Egyetlen tárfiók megosztása fürtökön korlátozása</span><span class="sxs-lookup"><span data-stu-id="a9566-180">Limit on clusters sharing a single storage account</span></span>

<span data-ttu-id="a9566-181">A fürtök, megoszthat egy Data Lake Store-fiók számára vonatkozó korlátozást az e-fürtökön futó munkaterhelés függ.</span><span class="sxs-lookup"><span data-stu-id="a9566-181">The limit on the number of clusters that can share a single Data Lake Store account depends on the workload being run on those clusters.</span></span> <span data-ttu-id="a9566-182">Túl sok fürtök vagy nagyon nehéz munkaterhelések rendelkező a fürtökön, amelyek egy tárfiókot, előfordulhat, hogy a tárolási fiók be-és kilépési az beszerzése szabályozva.</span><span class="sxs-lookup"><span data-stu-id="a9566-182">Having too many clusters or very heavy workloads on the clusters that share a storage account might cause the storage account ingress/egress to get throttled.</span></span>

## <a name="support-for-default-acls"></a><span data-ttu-id="a9566-183">Alapértelmezett – ACL-ek támogatása</span><span class="sxs-lookup"><span data-stu-id="a9566-183">Support for Default-ACLs</span></span>

<span data-ttu-id="a9566-184">Ha egy egyszerű szolgáltatás létrehozása nevű felhasználói hozzáférést (a fenti táblázatban látható), javasoljuk **nem** a nevű-felhasználót egy alapértelmezett ACL hozzáadása.</span><span class="sxs-lookup"><span data-stu-id="a9566-184">When creating a Service Principal with named-user access (as shown in the table above), we recommend **not** adding the named-user with a default-ACL.</span></span> <span data-ttu-id="a9566-185">Üzembe helyezési nevű felhasználói hozzáférés alapértelmezett-hozzáférés-vezérlési listák eredmények 770 engedélyek hozzárendelése a tulajdonos felhasználó, a tulajdonos csoport és mások számára.</span><span class="sxs-lookup"><span data-stu-id="a9566-185">Provisioning named-user access using default-ACLs results in the assignment of 770 permissions for owning-user, owning-group, and others.</span></span> <span data-ttu-id="a9566-186">770 az alapértelmezett értéke nem jár engedélyeket (7) tulajdonos vagy a tulajdonos-csoport (7), amíg tart a számítógépnél összes engedélyt, mások (0).</span><span class="sxs-lookup"><span data-stu-id="a9566-186">While this default value of 770 does not take away permissions from owning-user (7) or owning-group (7), it takes away all permissions for others (0).</span></span> <span data-ttu-id="a9566-187">Ez egy ismert probléma az egy adott használati eset részletesen ismertetett eredményez a [ismert problémák és megoldások](#known-issues-and-workarounds) szakasz.</span><span class="sxs-lookup"><span data-stu-id="a9566-187">This results in a known issue with one particular use-case that is discussed in detail in the [Known issues and workarounds](#known-issues-and-workarounds) section.</span></span>

## <a name="known-issues-and-workarounds"></a><span data-ttu-id="a9566-188">Ismert problémák és megoldások</span><span class="sxs-lookup"><span data-stu-id="a9566-188">Known issues and workarounds</span></span>

<span data-ttu-id="a9566-189">Ez a rész felsorolja az ismert problémák a HDInsight használata a Data Lake Store, és azok megoldását ismerteti.</span><span class="sxs-lookup"><span data-stu-id="a9566-189">This section lists the known issues for using HDInsight with Data Lake Store, and their workarounds.</span></span>

### <a name="publicly-visible-localized-yarn-resources"></a><span data-ttu-id="a9566-190">Nyilvánosan látható honosított YARN erőforrások</span><span class="sxs-lookup"><span data-stu-id="a9566-190">Publicly visible localized YARN resources</span></span>

<span data-ttu-id="a9566-191">Egy új Azure Data Lake store-fiók létrehozásakor a gyökérkönyvtár automatikusan létrehozza a rendszer a hozzáférés-ACL engedélybitjei 770 értékre.</span><span class="sxs-lookup"><span data-stu-id="a9566-191">When a new Azure Data Lake store account is created, the root directory is automatically provisioned with Access-ACL permission bits set to 770.</span></span> <span data-ttu-id="a9566-192">A legfelső szintű mappa birtokló felhasználói fiók (a Data Lake Store admin) létrehozó felhasználó van beállítva, és a tulajdonos csoport beállítása a fiókot létrehozó felhasználó az elsődleges csoportja számára.</span><span class="sxs-lookup"><span data-stu-id="a9566-192">The root folder’s owning user is set to the user that created the account (the Data Lake Store admin) and the owning group is set to the primary group of the user that created the account.</span></span> <span data-ttu-id="a9566-193">Nem lehet hozzáférni az "egyéb" valósul meg.</span><span class="sxs-lookup"><span data-stu-id="a9566-193">No access is provided for "others".</span></span>

<span data-ttu-id="a9566-194">Ezek a beállítások ismert, hogy egy adott HDInsight használati eset rögzített hatással [YARN 247](https://hwxmonarch.atlassian.net/browse/YARN-247).</span><span class="sxs-lookup"><span data-stu-id="a9566-194">These settings are known to affect one specific HDInsight use-case captured in [YARN 247](https://hwxmonarch.atlassian.net/browse/YARN-247).</span></span> <span data-ttu-id="a9566-195">Feladatok elküldésének sikertelen lehet a következőhöz hasonló hibaüzenettel:</span><span class="sxs-lookup"><span data-stu-id="a9566-195">Job submissions could fail with an error message similar to this:</span></span>

    Resource XXXX is not publicly accessible and as such cannot be part of the public cache.

<span data-ttu-id="a9566-196">Ahogy az a YARN JIRA kapcsolódó korábbi, azaz nyilvános erőforrásokat, miközben a lokalizáló ellenőrzi, hogy a kért erőforrások valóban nyilvános rájuk vonatkozó engedélyek a távoli fájlrendszerben ellenőrzésével.</span><span class="sxs-lookup"><span data-stu-id="a9566-196">As stated in the YARN JIRA linked earlier, while localizing public resources, the localizer validates that all the requested resources are indeed public by checking their permissions on the remote file-system.</span></span> <span data-ttu-id="a9566-197">Bármely, amelyek nem felelnek meg, hogy a feltétel LocalResource honosításhoz elutasítva.</span><span class="sxs-lookup"><span data-stu-id="a9566-197">Any LocalResource that does not fit that condition is rejected for localization.</span></span> <span data-ttu-id="a9566-198">Az engedélyek ellenőrzése "egyéb" olvasási jogosultsággal a fájl tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="a9566-198">The check for permissions, includes read-access to the file for "others".</span></span> <span data-ttu-id="a9566-199">Ebben a forgatókönyvben nem működik, a-kész esetén a HDInsight-fürtök az Azure Data Lake, mivel az Azure Data Lake összes megtagadja "egyéb" mappa gyökérszinten.</span><span class="sxs-lookup"><span data-stu-id="a9566-199">This scenario does not work out-of-the-box when hosting HDInsight clusters on Azure Data Lake, since Azure Data Lake denies all access to "others" at root folder level.</span></span>

#### <a name="workaround"></a><span data-ttu-id="a9566-200">Megkerülő megoldás</span><span class="sxs-lookup"><span data-stu-id="a9566-200">Workaround</span></span>
<span data-ttu-id="a9566-201">Set olvasási-végrehajtási engedélyeinek **mások** keresztül a hierarchiában, például  **/** , **/fürtök** és   **/fürtök/pénzügyi** a fenti táblázatban látható módon.</span><span class="sxs-lookup"><span data-stu-id="a9566-201">Set read-execute permissions for **others** through the hierarchy, for example,  at **/**, **/clusters** and **/clusters/finance** as shown in the table above.</span></span>

## <a name="see-also"></a><span data-ttu-id="a9566-202">Lásd még:</span><span class="sxs-lookup"><span data-stu-id="a9566-202">See also</span></span>

* [<span data-ttu-id="a9566-203">HDInsight-fürtök létrehozása a Data Lake Store tárolóként</span><span class="sxs-lookup"><span data-stu-id="a9566-203">Create an HDInsight cluster with Data Lake Store as storage</span></span>](../data-lake-store/data-lake-store-hdinsight-hadoop-use-portal.md)


