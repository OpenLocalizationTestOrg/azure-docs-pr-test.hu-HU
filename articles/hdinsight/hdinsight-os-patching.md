---
title: "Linux-alapú HDInsight-fürtök - Azure aaaConfigure az operációs rendszer javítási ütemezését |} Microsoft Docs"
description: "Ismerje meg, hogyan tooconfigure az operációs rendszer javítási ütemezését Linux-alapú HDInsight-fürtök."
services: hdinsight
documentationcenter: 
author: bprakash
manager: asadk
editor: bprakash
ms.assetid: 
ms.service: hdinsight
ms.custom: hdinsightactive
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 03/21/2017
ms.author: bhanupr
ms.openlocfilehash: 1598d64e594d7e8a68573fc63dd86051a5a9d025
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="os-patching-for-hdinsight"></a><span data-ttu-id="5c760-103">Az operációs rendszer a HDInsight javítását</span><span class="sxs-lookup"><span data-stu-id="5c760-103">OS patching for HDInsight</span></span> 
<span data-ttu-id="5c760-104">A Hadoop felügyelt szolgáltatásként HDInsight gondoskodik az alapul szolgáló virtuális gépek a HDInsight-fürtök által használt hello OS hello javítását.</span><span class="sxs-lookup"><span data-stu-id="5c760-104">As a managed Hadoop service, HDInsight takes care of patching hello OS of hello underlying VMs used by HDInsight clusters.</span></span> <span data-ttu-id="5c760-105">2016 augusztusától 1-től hello vendég operációs rendszer javítási házirend a Linux-alapú HDInsight-fürtök (3.4 vagy újabb verziója) módosítottuk.</span><span class="sxs-lookup"><span data-stu-id="5c760-105">As of August 1, 2016, we have changed hello guest OS patching policy for Linux-based HDInsight clusters (version 3.4 or greater).</span></span> <span data-ttu-id="5c760-106">hello hello új házirend célja toosignificantly hello újraindítások számának csökkentése miatt toopatching.</span><span class="sxs-lookup"><span data-stu-id="5c760-106">hello goal of hello new policy is toosignificantly reduce hello number of reboots due toopatching.</span></span> <span data-ttu-id="5c760-107">Új házirend hello továbbra is toopatch virtuális gépek (VM) Linux clusters minden hétfőn vagy csütörtök 12 óra UTC lépcsőzetes módon kezdődő bármely adott fürt csomópontjai között.</span><span class="sxs-lookup"><span data-stu-id="5c760-107">hello new policy will continue toopatch virtual machines (VMs) on Linux clusters every Monday or Thursday starting at 12AM UTC in a staggered fashion across nodes in any given cluster.</span></span> <span data-ttu-id="5c760-108">A megadott virtuális gép azonban csak újraindul, legfeljebb 30 naponta egyszer miatt az operációs rendszer tooguest javítását.</span><span class="sxs-lookup"><span data-stu-id="5c760-108">However, any given VM will only reboot at most once every 30 days due tooguest OS patching.</span></span> <span data-ttu-id="5c760-109">Ezenkívül hello első újraindítás, újonnan létrehozott fürt nem történik meg gyakoribb 30 napon hello fürt létrehozását.</span><span class="sxs-lookup"><span data-stu-id="5c760-109">In addition, hello first reboot for a newly created cluster will not happen sooner than 30 days from hello cluster creation date.</span></span> <span data-ttu-id="5c760-110">Javítások hatékony lesz, ha hello virtuális gépek újraindítása van.</span><span class="sxs-lookup"><span data-stu-id="5c760-110">Patches will be effective once hello VMs are rebooted.</span></span>

## <a name="how-tooconfigure-hello-os-patching-schedule-for-linux-based-hdinsight-clusters"></a><span data-ttu-id="5c760-111">Hogyan tooconfigure hello Linux-alapú HDInsight-fürtök az operációs rendszer javítási ütemezését</span><span class="sxs-lookup"><span data-stu-id="5c760-111">How tooconfigure hello OS patching schedule for Linux-based HDInsight clusters</span></span>
<span data-ttu-id="5c760-112">a HDInsight-fürtök hello virtuális gépek kell toobe alkalmanként indítani, hogy fontos biztonsági javításokat is telepíthető.</span><span class="sxs-lookup"><span data-stu-id="5c760-112">hello virtual machines in an HDInsight cluster need toobe rebooted occasionally so that important security patches can be installed.</span></span> <span data-ttu-id="5c760-113">2016 augusztusától 1-től új Linux-alapú HDInsight-fürtök (3.4 vagy újabb verzió) újraindítása van, a következő ütemezés hello használata:</span><span class="sxs-lookup"><span data-stu-id="5c760-113">As of August 1, 2016, new Linux-based HDInsight clusters (version 3.4 or greater,) are rebooted using hello following schedule:</span></span>

1. <span data-ttu-id="5c760-114">A virtuális gép hello fürt is csak a újra javítások legfeljebb egyszer egy 30 napos időtartamon belül.</span><span class="sxs-lookup"><span data-stu-id="5c760-114">A virtual machine in hello cluster can only reboot for patches at most, once within a 30-day period.</span></span>
2. <span data-ttu-id="5c760-115">hello újraindítás 12 óra UTC induló következik be.</span><span class="sxs-lookup"><span data-stu-id="5c760-115">hello reboot occurs starting at 12AM UTC.</span></span>
3. <span data-ttu-id="5c760-116">hello újraindítás folyamatban van lépcsőzetes elrendezésben hello fürtön lévő virtuális gépek között, így hello újraindítás során hello fürt továbbra is elérhető.</span><span class="sxs-lookup"><span data-stu-id="5c760-116">hello reboot process is staggered across virtual machines in hello cluster, so hello cluster is still available during hello reboot process.</span></span>
4. <span data-ttu-id="5c760-117">hello első újraindítás, újonnan létrehozott fürt nem számított 30 napon belül hello fürt létrehozásának dátuma hamarabb történjen.</span><span class="sxs-lookup"><span data-stu-id="5c760-117">hello first reboot for a newly created cluster will not happen sooner than 30 days after hello cluster creation date.</span></span>

<span data-ttu-id="5c760-118">Ebben a cikkben leírt hello parancsfájlművelet használva módosíthatja hello az operációs rendszer javítási ütemezés az alábbiak szerint:</span><span class="sxs-lookup"><span data-stu-id="5c760-118">Using hello script action described in this article, you can modify hello OS patching schedule as follows:</span></span>
1. <span data-ttu-id="5c760-119">Engedélyezi vagy letiltja az automatikus újraindulását</span><span class="sxs-lookup"><span data-stu-id="5c760-119">Enable or disable automatic reboots</span></span>
2. <span data-ttu-id="5c760-120">Set hello gyakorisága újraindul (újraindításnál nap)</span><span class="sxs-lookup"><span data-stu-id="5c760-120">Set hello frequency of reboots (days between reboots)</span></span>
3. <span data-ttu-id="5c760-121">Ha újraindítás történik hello hét napja hello beállítása</span><span class="sxs-lookup"><span data-stu-id="5c760-121">Set hello day of hello week when a reboot occurs</span></span>

> [!NOTE]
> <span data-ttu-id="5c760-122">A parancsfájl művelet csak Linux-alapú HDInsight-fürtökkel 2016 augusztusától 1. után létrehozott fog működni.</span><span class="sxs-lookup"><span data-stu-id="5c760-122">This script action will only work with Linux-based HDInsight clusters created after August 1st, 2016.</span></span> <span data-ttu-id="5c760-123">Javítások hatékony lesz, csak akkor, ha a virtuális gép újraindítása van.</span><span class="sxs-lookup"><span data-stu-id="5c760-123">Patches will be effective only when VMs are rebooted.</span></span> 
>

## <a name="how-toouse-hello-script"></a><span data-ttu-id="5c760-124">Hogyan toouse hello parancsfájl</span><span class="sxs-lookup"><span data-stu-id="5c760-124">How toouse hello script</span></span> 

<span data-ttu-id="5c760-125">Ha ezt a parancsfájlt a használatához a következő információ hello:</span><span class="sxs-lookup"><span data-stu-id="5c760-125">When using this script requires hello following information:</span></span>
1. <span data-ttu-id="5c760-126">parancsfájl helyét hello: https://hdiconfigactions.blob.core.windows.net/linuxospatchingrebootconfigv01/os-patching-reboot-config.sh.  HDInsight a URI toofind használ, és hello parancsprogrammal hello hello fürt összes virtuális gépeken.</span><span class="sxs-lookup"><span data-stu-id="5c760-126">hello script location: https://hdiconfigactions.blob.core.windows.net/linuxospatchingrebootconfigv01/os-patching-reboot-config.sh.  HDInsight uses this URI toofind and run hello script on all hello virtual machines in hello cluster.</span></span>
  
2. <span data-ttu-id="5c760-127">fürt csomóponttípusok hello parancsfájl alkalmazott hello: headnode, workernode, zookeeper.</span><span class="sxs-lookup"><span data-stu-id="5c760-127">hello cluster node types that hello script is applied to: headnode, workernode, zookeeper.</span></span> <span data-ttu-id="5c760-128">Ez a parancsfájl alkalmazott tooall csomóponttípusok hello fürt kell lennie.</span><span class="sxs-lookup"><span data-stu-id="5c760-128">This script must be applied tooall node types in hello cluster.</span></span> <span data-ttu-id="5c760-129">Ha még nem alkalmazott tooa csomóponttípus, majd hello virtuális gépek az adott csomópont toouse hello korábbi javítási ütemezés továbbra is.</span><span class="sxs-lookup"><span data-stu-id="5c760-129">If it is not applied tooa node type, then hello virtual machines for that node type will continue toouse hello previous patching schedule.</span></span>


3.  <span data-ttu-id="5c760-130">A paraméter: Ez a parancsfájl három numerikus paramétert fogad:</span><span class="sxs-lookup"><span data-stu-id="5c760-130">Parameter: This script accepts three numeric parameters:</span></span>

    | <span data-ttu-id="5c760-131">Paraméter</span><span class="sxs-lookup"><span data-stu-id="5c760-131">Parameter</span></span> | <span data-ttu-id="5c760-132">Meghatározás</span><span class="sxs-lookup"><span data-stu-id="5c760-132">Definition</span></span> |
    | --- | --- |
    | <span data-ttu-id="5c760-133">Engedélyezi/letiltja az automatikus újraindulását</span><span class="sxs-lookup"><span data-stu-id="5c760-133">Enable/disable automatic reboots</span></span> |<span data-ttu-id="5c760-134">0 vagy 1.</span><span class="sxs-lookup"><span data-stu-id="5c760-134">0 or 1.</span></span> <span data-ttu-id="5c760-135">A 0 érték letiltja az automatikus újraindulását 1 lehetővé teszi az automatikus újraindulását.</span><span class="sxs-lookup"><span data-stu-id="5c760-135">A value of 0 disables automatic reboots while 1 enables automatic reboots.</span></span> |
    | <span data-ttu-id="5c760-136">gyakoriság</span><span class="sxs-lookup"><span data-stu-id="5c760-136">Frequency</span></span> |<span data-ttu-id="5c760-137">7 too90 (a határokat is beleértve).</span><span class="sxs-lookup"><span data-stu-id="5c760-137">7 too90 (inclusive).</span></span> <span data-ttu-id="5c760-138">virtuális gépek hello javítások, amely a számítógép újraindítása szükséges újraindítása előtt (nap) toowait hello száma.</span><span class="sxs-lookup"><span data-stu-id="5c760-138">hello number of days toowait before rebooting hello virtual machines for patches that require a reboot.</span></span> |
    | <span data-ttu-id="5c760-139">Hét napja</span><span class="sxs-lookup"><span data-stu-id="5c760-139">Day of week</span></span> |<span data-ttu-id="5c760-140">1 too7 (a határokat is beleértve).</span><span class="sxs-lookup"><span data-stu-id="5c760-140">1 too7 (inclusive).</span></span> <span data-ttu-id="5c760-141">1 érték azt jelzi, hétfőn hello újraindítás megtörténik, a 7 pedig egy Sunday.For példában paraméterek használatával 1-60 2 eredmények automatikus újraindítás csak 60 naponta (legfeljebb) keddjén jelennek meg.</span><span class="sxs-lookup"><span data-stu-id="5c760-141">A value of 1 indicates hello reboot should occur on a Monday, and 7 indicates a Sunday.For example, using parameters of 1 60 2 results in automatic reboots every 60 days (at most) on Tuesday.</span></span> |
    | <span data-ttu-id="5c760-142">Adatmegőrzés</span><span class="sxs-lookup"><span data-stu-id="5c760-142">Persistence</span></span> |<span data-ttu-id="5c760-143">Egy parancsfájl művelet tooan meglévő fürt alkalmazásakor a hello parancsfájl jelölheti, megőrzött is.</span><span class="sxs-lookup"><span data-stu-id="5c760-143">When applying a script action tooan existing cluster, you can mark hello script as persisted.</span></span> <span data-ttu-id="5c760-144">Új workernodes toohello fürt műveletek a méretezés során hozzáadott megőrzött parancsfájlok lépnek érvénybe.</span><span class="sxs-lookup"><span data-stu-id="5c760-144">Persisted scripts are applied when new workernodes are added toohello cluster through scaling operations.</span></span> |

> [!NOTE]
> <span data-ttu-id="5c760-145">Ezt a parancsfájlt, megőrzött tooan meglévő fürt alkalmazásakor kell megjelölni.</span><span class="sxs-lookup"><span data-stu-id="5c760-145">You must mark this script as persisted when applying tooan existing cluster.</span></span> <span data-ttu-id="5c760-146">Ellenkező esetben a méretezés műveletek során létrehozott új csomópontok hello alapértelmezett ütemezés javítását fogja használni.</span><span class="sxs-lookup"><span data-stu-id="5c760-146">Otherwise, any new nodes created through scaling      operations will use hello default patching schedule.</span></span>
<span data-ttu-id="5c760-147">Ha hello parancsfájl hello Fürtlétrehozási folyamatának részeként, állandó automatikusan.</span><span class="sxs-lookup"><span data-stu-id="5c760-147">If you apply hello script as part of hello cluster creation process, it is persisted automatically.</span></span>
>

## <a name="next-steps"></a><span data-ttu-id="5c760-148">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="5c760-148">Next steps</span></span>

<span data-ttu-id="5c760-149">Hello parancsfájlművelet, az adott lépéseket lásd a következő szakaszok a hello hello [testreszabása Linuz-alapú HDInsight-fürtök használata parancsfájlművelet](hdinsight-hadoop-customize-cluster-linux.md):</span><span class="sxs-lookup"><span data-stu-id="5c760-149">For specific steps on using hello script action, see hello following sections in hello [Customize Linuz-based HDInsight clusters using script action](hdinsight-hadoop-customize-cluster-linux.md):</span></span>

* [<span data-ttu-id="5c760-150">Egy parancsfájlművelettel fürt létrehozása során</span><span class="sxs-lookup"><span data-stu-id="5c760-150">Use a script action during cluster creation</span></span>](hdinsight-hadoop-customize-cluster-linux.md#use-a-script-action-during-cluster-creation)
* [<span data-ttu-id="5c760-151">A parancsfájl művelet tooa futtató fürt alkalmazása</span><span class="sxs-lookup"><span data-stu-id="5c760-151">Apply a script action tooa running cluster</span></span>](hdinsight-hadoop-customize-cluster-linux.md#apply-a-script-action-to-a-running-cluster)
