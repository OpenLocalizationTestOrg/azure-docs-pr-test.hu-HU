---
title: "Hozzáférés Hadoop YARN alkalmazásnaplók szoftveres - Azure |} Microsoft Docs"
description: "Hozzáférési kérelem programozott módon bejelentkezik a HDInsight Hadoop-fürthöz."
services: hdinsight
documentationcenter: 
tags: azure-portal
author: mumian
manager: jhubbard
editor: cgronlun
ms.assetid: 0198d6c9-7767-4682-bd34-42838cf48fc5
ms.service: hdinsight
ms.workload: big-data
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/25/2017
ms.author: jgao
ROBOTS: NOINDEX
ms.openlocfilehash: 90323af4a1f4526ab9b26811c8679337076112d1
ms.sourcegitcommit: 02e69c4a9d17645633357fe3d46677c2ff22c85a
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 08/03/2017
---
# <a name="access-yarn-application-logs-on-windows-based-hdinsight"></a><span data-ttu-id="f13f2-103">Windows-alapú HDInsight bejelentkezik hozzáférést YARN alkalmazás</span><span class="sxs-lookup"><span data-stu-id="f13f2-103">Access YARN application logs on Windows-based HDInsight</span></span>
<span data-ttu-id="f13f2-104">Ez a témakör ismerteti, hogyan férhet hozzá a naplókat, hogy végzett a Windows-alapú Hadoop-fürthöz az Azure HDInsight a YARN (még egy másik erőforrás egyeztető) alkalmazások</span><span class="sxs-lookup"><span data-stu-id="f13f2-104">This topic explains how to access the logs for YARN (Yet Another Resource Negotiator) applications that have finished on a Windows-based Hadoop cluster in Azure HDInsight</span></span>

> [!IMPORTANT]
> <span data-ttu-id="f13f2-105">A jelen dokumentumban szereplő információk csak a Windows-alapú HDInsight-fürtök vonatkozik.</span><span class="sxs-lookup"><span data-stu-id="f13f2-105">The information in this document applies only to Windows-based HDInsight clusters.</span></span> <span data-ttu-id="f13f2-106">A Linux az egyetlen operációs rendszer, amely a HDInsight 3.4-es vagy újabb verziói esetében használható.</span><span class="sxs-lookup"><span data-stu-id="f13f2-106">Linux is the only operating system used on HDInsight version 3.4 or greater.</span></span> <span data-ttu-id="f13f2-107">További tudnivalókért lásd: [A HDInsight elavulása Windows rendszeren](hdinsight-component-versioning.md#hdinsight-windows-retirement).</span><span class="sxs-lookup"><span data-stu-id="f13f2-107">For more information, see [HDInsight retirement on Windows](hdinsight-component-versioning.md#hdinsight-windows-retirement).</span></span> <span data-ttu-id="f13f2-108">YARN eléréséről a Linux-alapú HDInsight-fürtök bejelentkezik, a következő témakörben: [Linux-based Hadoop on HDInsight bejelentkezik hozzáférést YARN alkalmazás](hdinsight-hadoop-access-yarn-app-logs-linux.md)</span><span class="sxs-lookup"><span data-stu-id="f13f2-108">For information on accessing YARN logs on Linux-based HDInsight clusters, see [Access YARN application logs on Linux-based Hadoop on HDInsight](hdinsight-hadoop-access-yarn-app-logs-linux.md)</span></span>
>


### <a name="prerequisites"></a><span data-ttu-id="f13f2-109">Előfeltételek</span><span class="sxs-lookup"><span data-stu-id="f13f2-109">Prerequisites</span></span>
* <span data-ttu-id="f13f2-110">Egy Windows-alapú HDInsight-fürtöt.</span><span class="sxs-lookup"><span data-stu-id="f13f2-110">A Windows-based HDInsight cluster.</span></span>  <span data-ttu-id="f13f2-111">Lásd: [hdinsight-fürtök létrehozása Windows-alapú Hadoop](hdinsight-hadoop-provision-linux-clusters.md).</span><span class="sxs-lookup"><span data-stu-id="f13f2-111">See [Create Windows-based Hadoop clusters in HDInsight](hdinsight-hadoop-provision-linux-clusters.md).</span></span>

## <a name="yarn-timeline-server"></a><span data-ttu-id="f13f2-112">YARN ütemterv kiszolgáló</span><span class="sxs-lookup"><span data-stu-id="f13f2-112">YARN Timeline Server</span></span>
<span data-ttu-id="f13f2-113">A <a href="http://hadoop.apache.org/docs/r2.4.0/hadoop-yarn/hadoop-yarn-site/TimelineServer.html" target="_blank">YARN ütemterv Server</a> általános információkat nyújt a befejeződött alkalmazásokkal, valamint a keretrendszer-specifikus alkalmazás adatait két különböző felületeken keresztül.</span><span class="sxs-lookup"><span data-stu-id="f13f2-113">The <a href="http://hadoop.apache.org/docs/r2.4.0/hadoop-yarn/hadoop-yarn-site/TimelineServer.html" target="_blank">YARN Timeline Server</a> provides generic information on completed applications as well as framework-specific application information through two different interfaces.</span></span> <span data-ttu-id="f13f2-114">Konkrétan:</span><span class="sxs-lookup"><span data-stu-id="f13f2-114">Specifically:</span></span>

* <span data-ttu-id="f13f2-115">Tárolása és lekérése általános alkalmazás információk a HDInsight-fürtökön engedélyezett 3.1.1.374 verziójával vagy magasabb volt.</span><span class="sxs-lookup"><span data-stu-id="f13f2-115">Storage and retrieval of generic application information on HDInsight clusters has been enabled with version 3.1.1.374 or higher.</span></span>
* <span data-ttu-id="f13f2-116">A keretrendszer-specifikus információk alkalmazásösszetevő ütemterv kiszolgáló jelenleg nem áll rendelkezésre a HDInsight-fürtökön.</span><span class="sxs-lookup"><span data-stu-id="f13f2-116">The framework-specific application information component of the Timeline Server is not currently available on HDInsight clusters.</span></span>

<span data-ttu-id="f13f2-117">Alkalmazások általános információkat tartalmaz a következő típusú adatok:</span><span class="sxs-lookup"><span data-stu-id="f13f2-117">Generic information on applications includes the following sorts of data:</span></span>

* <span data-ttu-id="f13f2-118">Az Alkalmazásazonosító, az alkalmazás egyedi azonosítója</span><span class="sxs-lookup"><span data-stu-id="f13f2-118">The application ID, a unique identifier of an application</span></span>
* <span data-ttu-id="f13f2-119">A felhasználó az alkalmazást</span><span class="sxs-lookup"><span data-stu-id="f13f2-119">The user who started the application</span></span>
* <span data-ttu-id="f13f2-120">Az alkalmazás befejezéséhez kísérletek információk</span><span class="sxs-lookup"><span data-stu-id="f13f2-120">Information on attempts made to complete the application</span></span>
* <span data-ttu-id="f13f2-121">A tárolók kísérel meg adott alkalmazás által használt</span><span class="sxs-lookup"><span data-stu-id="f13f2-121">The containers used by any given application attempt</span></span>

<span data-ttu-id="f13f2-122">A HDInsight-fürtökön ezeket az információkat tárolja az Azure erőforrás-kezelő által az alapértelmezett tárolóban, az alapértelmezett Azure Storage-fiókjának előzmények tárolóval.</span><span class="sxs-lookup"><span data-stu-id="f13f2-122">On your HDInsight clusters, this information will be stored by Azure Resource Manager to a history store in the default container of your default Azure Storage account.</span></span> <span data-ttu-id="f13f2-123">Az általános kész alkalmazások adatokat lehet beolvasni a REST API-n keresztül:</span><span class="sxs-lookup"><span data-stu-id="f13f2-123">This generic data on completed applications can be retrieved through a REST API:</span></span>

    GET on https://<cluster-dns-name>.azurehdinsight.net/ws/v1/applicationhistory/apps


## <a name="yarn-applications-and-logs"></a><span data-ttu-id="f13f2-124">YARN alkalmazások és a naplókat</span><span class="sxs-lookup"><span data-stu-id="f13f2-124">YARN applications and logs</span></span>
<span data-ttu-id="f13f2-125">YARN erőforrás-kezelés az ütemezés/alkalmazásfigyelés leválasztásával több programozási modellek (MapReduce egyik folyamatban) támogatja.</span><span class="sxs-lookup"><span data-stu-id="f13f2-125">YARN supports multiple programming models (MapReduce being one of them) by decoupling resource management from application scheduling/monitoring.</span></span> <span data-ttu-id="f13f2-126">Ez egy globális segítségével történik *ResourceManager* (RM) worker-csomópontonként *NodeManagers* (NMs), és alkalmazásonként *ApplicationMasters* (AMs).</span><span class="sxs-lookup"><span data-stu-id="f13f2-126">This is done through a global *ResourceManager* (RM), per-worker-node *NodeManagers* (NMs), and per-application *ApplicationMasters* (AMs).</span></span> <span data-ttu-id="f13f2-127">Az alkalmazás kor (Processzor, memória, lemez, hálózati) erőforrások egyezteti az alkalmazás futtatásához a RM a</span><span class="sxs-lookup"><span data-stu-id="f13f2-127">The per-application AM negotiates resources (CPU, memory, disk, network) for running your application with the RM.</span></span> <span data-ttu-id="f13f2-128">Az erőforrás-kezelő együttműködve biztosítja ezeket az erőforrásokat, amelyek kiadott megadását NMs *tárolók*.</span><span class="sxs-lookup"><span data-stu-id="f13f2-128">The RM works with NMs to grant these resources, which are granted as *containers*.</span></span> <span data-ttu-id="f13f2-129">A AM felelős a tárolók által a RM rendelt állapotának nyomon követése</span><span class="sxs-lookup"><span data-stu-id="f13f2-129">The AM is responsible for tracking the progress of the containers assigned to it by the RM.</span></span> <span data-ttu-id="f13f2-130">Az alkalmazás az alkalmazás természetétől függően számos tárolók lehet szükség.</span><span class="sxs-lookup"><span data-stu-id="f13f2-130">An application may require many containers depending on the nature of the application.</span></span>

<span data-ttu-id="f13f2-131">Továbbá minden alkalmazás több állhat *alkalmazás kísérletek* mellett összeomlásokat, illetve egy óra közötti kommunikáció elvesztését befejezéséhez és az RM</span><span class="sxs-lookup"><span data-stu-id="f13f2-131">Furthermore, each application may consist of multiple *application attempts* in order to finish in the presence of crashes or due to the loss of communication between an AM and an RM.</span></span> <span data-ttu-id="f13f2-132">Ezért tárolók egy adott kísérlet az alkalmazások számára.</span><span class="sxs-lookup"><span data-stu-id="f13f2-132">Hence, containers are granted to a specific attempt of an application.</span></span> <span data-ttu-id="f13f2-133">Bizonyos értelemben egy tárolót biztosít a YARN alkalmazások által végzett munka alapvető egysége a környezetben, és a tároló kontextusában végrehajtott összes munka történik a egyetlen munkavégző csomóponton, amelyen a tároló lett lefoglalva.</span><span class="sxs-lookup"><span data-stu-id="f13f2-133">In a sense, a container provides the context for basic unit of work performed by a YARN application, and all work that is done within the context of a container is performed on the single worker node on which the container was allocated.</span></span> <span data-ttu-id="f13f2-134">Lásd: [YARN fogalmak] [ YARN-concepts] további referenciaként.</span><span class="sxs-lookup"><span data-stu-id="f13f2-134">See [YARN Concepts][YARN-concepts] for further reference.</span></span>

<span data-ttu-id="f13f2-135">Alkalmazásnaplók (és a társított tároló naplók) kritikusak megoldani a problémát okozó Hadoop-alkalmazások.</span><span class="sxs-lookup"><span data-stu-id="f13f2-135">Application logs (and the associated container logs) are critical in debugging problematic Hadoop applications.</span></span> <span data-ttu-id="f13f2-136">YARN gyűjtése, összesítése és tárolása az alkalmazásnaplók töltött keretet biztosít a [napló összesítési] [ log-aggregation] szolgáltatás.</span><span class="sxs-lookup"><span data-stu-id="f13f2-136">YARN provides a nice framework for collecting, aggregating, and storing application logs with the [Log Aggregation][log-aggregation] feature.</span></span> <span data-ttu-id="f13f2-137">A napló összesítési szolgáltatás elérhetővé teszi az elérése során alkalmazásnaplók sokkal kiszámíthatóbb naplók von össze az összes tároló, a munkavégző csomópont, és tárolja őket egy összesített naplófájlhoz munkavégző csomópont az alapértelmezett fájlrendszeren alkalmazás befejeződése után.</span><span class="sxs-lookup"><span data-stu-id="f13f2-137">The Log Aggregation feature makes accessing application logs more deterministic, as it aggregates logs across all containers on a worker node and stores them as one aggregated log file per worker node on the default file system after an application finishes.</span></span> <span data-ttu-id="f13f2-138">Az alkalmazás használhat több száz vagy ezer tárolók, de egyetlen munkavégző csomóponton futtassa az összes tároló naplókat mindig összesíthető egy fájlba, ami azt eredményezi, amelyet az alkalmazás munkavégző csomópont kiszolgálónként egy naplófájlba.</span><span class="sxs-lookup"><span data-stu-id="f13f2-138">Your application may use hundreds or thousands of containers, but logs for all containers run on a single worker node will always be aggregated to a single file, resulting in one log file per worker node used by your application.</span></span> <span data-ttu-id="f13f2-139">A HDInsight-fürtökön alapértelmezés szerint engedélyezve van a napló összesítési (3.0-s verzió vagy újabb verzió), és az összesített naplók az alapértelmezett tárolóban, a fürt a következő helyen találhatók:</span><span class="sxs-lookup"><span data-stu-id="f13f2-139">Log Aggregation is enabled by default on HDInsight clusters (version 3.0 and above), and aggregated logs can be found in the default container of your cluster at the following location:</span></span>

    wasb:///app-logs/<user>/logs/<applicationId>

<span data-ttu-id="f13f2-140">Az adott helyre *felhasználói* az alkalmazást elindító felhasználó neve és *applicationId* van egy alkalmazás egyedi azonosítója, a YARN RM által hozzárendelt</span><span class="sxs-lookup"><span data-stu-id="f13f2-140">In that location, *user* is the name of the user who started the application, and *applicationId* is the unique identifier of an application as assigned by the YARN RM.</span></span>

<span data-ttu-id="f13f2-141">Az összesített naplók nincsenek közvetlenül is olvasható, mivel az oktatóprogram egy [TFile][T-file], [bináris formátum] [ binary-format] indexelik a tárolóban.</span><span class="sxs-lookup"><span data-stu-id="f13f2-141">The aggregated logs are not directly readable, as they are written in a [TFile][T-file], [binary format][binary-format] indexed by container.</span></span> <span data-ttu-id="f13f2-142">YARN dump ezek a naplók az alkalmazások vagy a tárolókat érdeklő egyszerű szövegként CLI eszközöket biztosít.</span><span class="sxs-lookup"><span data-stu-id="f13f2-142">YARN provides CLI tools to dump these logs as plain text for applications or containers of interest.</span></span> <span data-ttu-id="f13f2-143">Ezek a naplók (való csatlakozását követően az RDP keresztül) közvetlenül a fürtcsomópontokon parancsok futtatásával a következő YARN egyik egyszerű szöveges módon tekintheti meg:</span><span class="sxs-lookup"><span data-stu-id="f13f2-143">You can view these logs as plain text by running one of the following YARN commands directly on the cluster nodes (after connecting to it through RDP):</span></span>

    yarn logs -applicationId <applicationId> -appOwner <user-who-started-the-application>
    yarn logs -applicationId <applicationId> -appOwner <user-who-started-the-application> -containerId <containerId> -nodeAddress <worker-node-address>


## <a name="yarn-resourcemanager-ui"></a><span data-ttu-id="f13f2-144">YARN erőforrás-kezelő felhasználói felületen</span><span class="sxs-lookup"><span data-stu-id="f13f2-144">YARN ResourceManager UI</span></span>
<span data-ttu-id="f13f2-145">A YARN erőforrás-kezelő felhasználói felületén a fürt headnode fut, és az Azure-portál irányítópultjának keresztül érhetők el:</span><span class="sxs-lookup"><span data-stu-id="f13f2-145">The YARN ResourceManager UI runs on the cluster headnode, and can be accessed through the Azure portal dashboard:</span></span>

1. <span data-ttu-id="f13f2-146">Jelentkezzen be az [Azure portálra](https://portal.azure.com/).</span><span class="sxs-lookup"><span data-stu-id="f13f2-146">Sign in to [Azure portal](https://portal.azure.com/).</span></span>
2. <span data-ttu-id="f13f2-147">A bal oldali menüben kattintson **Tallózás**, kattintson a **a HDInsight-fürtök**, kattintson egy Windows-alapú fürt, amely a használni kívánt alkalmazás YARN naplóit.</span><span class="sxs-lookup"><span data-stu-id="f13f2-147">On the left menu, click **Browse**, click **HDInsight Clusters**, click a Windows-based cluster that you want to access the YARN application logs.</span></span>
3. <span data-ttu-id="f13f2-148">Kattintson a felső menüben **irányítópult**.</span><span class="sxs-lookup"><span data-stu-id="f13f2-148">On the top menu, click **Dashboard**.</span></span> <span data-ttu-id="f13f2-149">Megjelenik egy lap nyílik meg egy új böngészőt nevű lap **HDInsight lekérdezés konzol**.</span><span class="sxs-lookup"><span data-stu-id="f13f2-149">You will see a page opened on a new browser tab called **HDInsight Query Console**.</span></span>
4. <span data-ttu-id="f13f2-150">A **HDInsight lekérdezés konzol**, kattintson a **Yarn felhasználói felületen**.</span><span class="sxs-lookup"><span data-stu-id="f13f2-150">From **HDInsight Query Console**, click **Yarn UI**.</span></span>

[YARN-timeline-server]:http://hadoop.apache.org/docs/r2.4.0/hadoop-yarn/hadoop-yarn-site/TimelineServer.html
[log-aggregation]:http://hortonworks.com/blog/simplifying-user-logs-management-and-access-in-yarn/
[T-file]:https://issues.apache.org/jira/secure/attachment/12396286/TFile%20Specification%2020081217.pdf
[binary-format]:https://issues.apache.org/jira/browse/HADOOP-3315
[YARN-concepts]:http://hortonworks.com/blog/apache-hadoop-yarn-concepts-and-applications/
