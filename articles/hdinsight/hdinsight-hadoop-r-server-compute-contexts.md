---
title: "Adatkörnyezet beállításai R Server on HDInsight - Azure számítási |} Microsoft Docs"
description: "További tudnivalók a különböző számítási környezetben lehetőség legyen elérhető a felhasználók az R Server a HDInsight"
services: HDInsight
documentationcenter: 
author: bradsev
manager: jhubbard
editor: cgronlun
ms.assetid: 0deb0b1c-4094-459b-94fc-ec9b774c1f8a
ms.service: HDInsight
ms.custom: hdinsightactive
ms.devlang: R
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: data-services
ms.date: 06/19/2017
ms.author: bradsev
ms.openlocfilehash: 47f4441612be4f363ba82cc22b09786a6f3bfdc3
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 08/29/2017
---
# <a name="compute-context-options-for-r-server-on-hdinsight"></a><span data-ttu-id="6e8b5-103">Számítási környezet lehetőségek R Server on HDInsight</span><span class="sxs-lookup"><span data-stu-id="6e8b5-103">Compute context options for R Server on HDInsight</span></span>

<span data-ttu-id="6e8b5-104">A Microsoft az R Server on Azure HDInsight szabályozza hívások úgy, hogy a számítási környezet végrehajtásának módját.</span><span class="sxs-lookup"><span data-stu-id="6e8b5-104">Microsoft R Server on Azure HDInsight controls how calls are executed by setting the compute context.</span></span> <span data-ttu-id="6e8b5-105">Ez a cikk ismerteti a megadása, hogyan végrehajtási párhuzamos működésű-e a élcsomópont vagy a HDInsight-fürt mag között elérhető beállítások.</span><span class="sxs-lookup"><span data-stu-id="6e8b5-105">This article outlines the options that are available to specify whether and how execution is parallelized across cores of the edge node or HDInsight cluster.</span></span>

<span data-ttu-id="6e8b5-106">A fürt élcsomópont kényelmes csatlakozzon a fürthöz, és az R parancsfájlok futtatásához.</span><span class="sxs-lookup"><span data-stu-id="6e8b5-106">The edge node of a cluster provides a convenient place to connect to the cluster and to run your R scripts.</span></span> <span data-ttu-id="6e8b5-107">Egy élcsomópontot az informatikai részleg parallelized elosztott feladatai ScaleR a peremhálózati kiszolgáló a magokon futtassák.</span><span class="sxs-lookup"><span data-stu-id="6e8b5-107">With an edge node, you have the option of running the parallelized distributed functions of ScaleR across the cores of the edge node server.</span></span> <span data-ttu-id="6e8b5-108">Is futtathatja őket a fürt csomópontjai között ScaleR a Hadoop térkép csökkentése használatával, vagy Spark számítási környezeteket.</span><span class="sxs-lookup"><span data-stu-id="6e8b5-108">You can also run them across the nodes of the cluster by using ScaleR’s Hadoop Map Reduce or Spark compute contexts.</span></span>

## <a name="microsoft-r-server-on-azure-hdinsight"></a><span data-ttu-id="6e8b5-109">A Microsoft az R Server on Azure HDInsight</span><span class="sxs-lookup"><span data-stu-id="6e8b5-109">Microsoft R Server on Azure HDInsight</span></span>
<span data-ttu-id="6e8b5-110">[A Microsoft az R Server on Azure HDInsight](hdinsight-hadoop-r-server-overview.md) a legújabb funkciókat biztosít az R-alapú használatával.</span><span class="sxs-lookup"><span data-stu-id="6e8b5-110">[Microsoft R Server on Azure HDInsight](hdinsight-hadoop-r-server-overview.md) provides the latest capabilities for R-based analytics.</span></span> <span data-ttu-id="6e8b5-111">Egy a HDFS-tárolóban tárolt adatokat képes használni a [Azure Blob](../storage/common/storage-introduction.md "Azure Blob Storage tárolóban") tárfiókot, egy Data Lake store vagy a Linux helyi fájlrendszer.</span><span class="sxs-lookup"><span data-stu-id="6e8b5-111">It can use data that is stored in an HDFS container in your [Azure Blob](../storage/common/storage-introduction.md "Azure Blob storage") storage account, a Data Lake store, or the local Linux file system.</span></span> <span data-ttu-id="6e8b5-112">R Server nyílt forráskódú R épül, mivel az R-alapú alkalmazások létrehozása a 8000 + nyílt forráskódú R csomagok bármelyikét alkalmazhatja.</span><span class="sxs-lookup"><span data-stu-id="6e8b5-112">Since R Server is built on open source R, the R-based applications you build can apply any of the 8000+ open source R packages.</span></span> <span data-ttu-id="6e8b5-113">Használhatja a feladatok az [RevoScaleR](https://msdn.microsoft.com/microsoft-r/scaler/scaler), a Microsoft big data elemzés csomag R Server részét képező.</span><span class="sxs-lookup"><span data-stu-id="6e8b5-113">They can also use the routines in [RevoScaleR](https://msdn.microsoft.com/microsoft-r/scaler/scaler), Microsoft’s big data analytics package that is included with R Server.</span></span>  

## <a name="compute-contexts-for-an-edge-node"></a><span data-ttu-id="6e8b5-114">Számítási környezetek számára egy élcsomópontot</span><span class="sxs-lookup"><span data-stu-id="6e8b5-114">Compute contexts for an edge node</span></span>
<span data-ttu-id="6e8b5-115">Az R Server rendszeren futó élcsomópont R-parancsfájl általában az R parancsértelmező belül fut, ezen a csomóponton.</span><span class="sxs-lookup"><span data-stu-id="6e8b5-115">In general, an R script that's run in R Server on the edge node runs within the R interpreter on that node.</span></span> <span data-ttu-id="6e8b5-116">A kivételek olyan ScaleR függvény témakör lépéseit.</span><span class="sxs-lookup"><span data-stu-id="6e8b5-116">The exceptions are those steps that call a ScaleR function.</span></span> <span data-ttu-id="6e8b5-117">A ScaleR hívások határozza meg, hogyan állíthatja a ScaleR számítási környezet számítási környezetben fusson.</span><span class="sxs-lookup"><span data-stu-id="6e8b5-117">The ScaleR calls run in a compute environment that is determined by how you set the ScaleR compute context.</span></span>  <span data-ttu-id="6e8b5-118">Amikor az R-parancsfájl egy élcsomópontot futtatja, a számítási környezet lehetséges értékei a következők:</span><span class="sxs-lookup"><span data-stu-id="6e8b5-118">When you run your R script from an edge node, the possible values of the compute context are:</span></span>

- <span data-ttu-id="6e8b5-119">szekvenciális helyi (*"local"*)</span><span class="sxs-lookup"><span data-stu-id="6e8b5-119">local sequential (*‘local’*)</span></span>
- <span data-ttu-id="6e8b5-120">helyi párhuzamos (*"localpar"*)</span><span class="sxs-lookup"><span data-stu-id="6e8b5-120">local parallel (*‘localpar’*)</span></span>
- <span data-ttu-id="6e8b5-121">Térkép csökkentése</span><span class="sxs-lookup"><span data-stu-id="6e8b5-121">Map Reduce</span></span>
- <span data-ttu-id="6e8b5-122">Spark</span><span class="sxs-lookup"><span data-stu-id="6e8b5-122">Spark</span></span>

<span data-ttu-id="6e8b5-123">A *"local"* és *"localpar"* más-más lehetőségek csak a hogyan **rxExec** hívások végrehajtása.</span><span class="sxs-lookup"><span data-stu-id="6e8b5-123">The *‘local’* and *‘localpar’* options differ only in how **rxExec** calls are executed.</span></span> <span data-ttu-id="6e8b5-124">Mindkettő végrehajtani más rx függvényhívások párhuzamos módon összes elérhető magokon hiányában a ScaleR használata **numCoresToUse** beállítás, például `rxOptions(numCoresToUse=6)`.</span><span class="sxs-lookup"><span data-stu-id="6e8b5-124">They both execute other rx-function calls in a parallel manner across all available cores unless specified otherwise through use of the ScaleR **numCoresToUse** option, for example `rxOptions(numCoresToUse=6)`.</span></span> <span data-ttu-id="6e8b5-125">Párhuzamos végrehajtás beállítások optimális teljesítményt nyújtanak.</span><span class="sxs-lookup"><span data-stu-id="6e8b5-125">Parallel execution options offer optimal performance.</span></span>

<span data-ttu-id="6e8b5-126">A következő táblázat összefoglalja a különböző számítási környezet lehetőségek beállításához hívások végrehajtásának módját:</span><span class="sxs-lookup"><span data-stu-id="6e8b5-126">The following table summarizes the various compute context options to set how calls are executed:</span></span>

| <span data-ttu-id="6e8b5-127">Számítási környezet</span><span class="sxs-lookup"><span data-stu-id="6e8b5-127">Compute context</span></span>  | <span data-ttu-id="6e8b5-128">Hogyan kell beállítani</span><span class="sxs-lookup"><span data-stu-id="6e8b5-128">How to set</span></span>                      | <span data-ttu-id="6e8b5-129">A végrehajtási környezet</span><span class="sxs-lookup"><span data-stu-id="6e8b5-129">Execution context</span></span>                        |
| ---------------- | ------------------------------- | ---------------------------------------- |
| <span data-ttu-id="6e8b5-130">Szekvenciális helyi</span><span class="sxs-lookup"><span data-stu-id="6e8b5-130">Local sequential</span></span> | <span data-ttu-id="6e8b5-131">rxSetComputeContext('local')</span><span class="sxs-lookup"><span data-stu-id="6e8b5-131">rxSetComputeContext(‘local’)</span></span>    | <span data-ttu-id="6e8b5-132">Párhuzamos működésű végrehajtása a magokon a biztonsági csomópont kiszolgáló kivételével Feladattervek végrehajtásának rxExec hívások</span><span class="sxs-lookup"><span data-stu-id="6e8b5-132">Parallelized execution across the cores of the edge node server, except for rxExec calls, which are executed serially</span></span> |
| <span data-ttu-id="6e8b5-133">Helyi párhuzamos</span><span class="sxs-lookup"><span data-stu-id="6e8b5-133">Local parallel</span></span>   | <span data-ttu-id="6e8b5-134">rxSetComputeContext('localpar')</span><span class="sxs-lookup"><span data-stu-id="6e8b5-134">rxSetComputeContext(‘localpar’)</span></span> | <span data-ttu-id="6e8b5-135">Párhuzamos működésű végrehajtása a magokon a peremhálózati kiszolgáló</span><span class="sxs-lookup"><span data-stu-id="6e8b5-135">Parallelized execution across the cores of the edge node server</span></span> |
| <span data-ttu-id="6e8b5-136">Spark</span><span class="sxs-lookup"><span data-stu-id="6e8b5-136">Spark</span></span>            | <span data-ttu-id="6e8b5-137">RxSpark()</span><span class="sxs-lookup"><span data-stu-id="6e8b5-137">RxSpark()</span></span>                       | <span data-ttu-id="6e8b5-138">Párhuzamos működésű elosztott végrehajtásának keresztül a csomópontjai között a HDI-fürtnek</span><span class="sxs-lookup"><span data-stu-id="6e8b5-138">Parallelized distributed execution via Spark across the nodes of the HDI cluster</span></span> |
| <span data-ttu-id="6e8b5-139">Térkép csökkentése</span><span class="sxs-lookup"><span data-stu-id="6e8b5-139">Map Reduce</span></span>       | <span data-ttu-id="6e8b5-140">RxHadoopMR()</span><span class="sxs-lookup"><span data-stu-id="6e8b5-140">RxHadoopMR()</span></span>                    | <span data-ttu-id="6e8b5-141">Párhuzamos működésű elosztott végrehajtásának keresztül térkép csökkentse a csomópontok között a HDI-fürtnek</span><span class="sxs-lookup"><span data-stu-id="6e8b5-141">Parallelized distributed execution via Map Reduce across the nodes of the HDI cluster</span></span> |

## <a name="guidelines-for-deciding-on-a-compute-context"></a><span data-ttu-id="6e8b5-142">A számítási környezet meg vonatkozó irányelvek</span><span class="sxs-lookup"><span data-stu-id="6e8b5-142">Guidelines for deciding on a compute context</span></span>

<span data-ttu-id="6e8b5-143">Adja meg a végrehajtási párhuzamos működésű választja három lehetőség közül melyiket analytics munkáját, mérete és az adatok helye jellegétől függ.</span><span class="sxs-lookup"><span data-stu-id="6e8b5-143">Which of the three options you choose that provide parallelized execution depends on the nature of your analytics work, the size, and the location of your data.</span></span> <span data-ttu-id="6e8b5-144">Nincs nem egyszerű képlet, amely azt ismerteti, amelyek számítási környezet használata.</span><span class="sxs-lookup"><span data-stu-id="6e8b5-144">There is no simple formula that tells you which compute context to use.</span></span> <span data-ttu-id="6e8b5-145">Vannak, azonban néhány alapelvek, amelyek segítségével a megfelelő választás, vagy legalább, szűkítheti a választási lehetőségek egy teljesítményteszt futtatása előtt.</span><span class="sxs-lookup"><span data-stu-id="6e8b5-145">There are, however, some guiding principles that can help you make the right choice, or, at least, help you narrow down your choices before you run a benchmark.</span></span> <span data-ttu-id="6e8b5-146">Ezek az irányadó elvek a következők:</span><span class="sxs-lookup"><span data-stu-id="6e8b5-146">These guiding principles include:</span></span>

- <span data-ttu-id="6e8b5-147">A Linux helyi fájlrendszer gyorsabb, mint a HDFS.</span><span class="sxs-lookup"><span data-stu-id="6e8b5-147">The local Linux file system is faster than HDFS.</span></span>
- <span data-ttu-id="6e8b5-148">Ismétlődő elemzések gyorsabbak, ha az adatok helyi, és ha XDF.</span><span class="sxs-lookup"><span data-stu-id="6e8b5-148">Repeated analyses are faster if the data is local, and if it's in XDF.</span></span>
- <span data-ttu-id="6e8b5-149">Célszerű adatfolyam-kis mennyiségű szöveg adatforrásból származó adatokat.</span><span class="sxs-lookup"><span data-stu-id="6e8b5-149">It's preferable to stream small amounts of data from a text data source.</span></span> <span data-ttu-id="6e8b5-150">Nagyobb adatmennyiség esetén konvertálja XDF elemzés előtt.</span><span class="sxs-lookup"><span data-stu-id="6e8b5-150">If the amount of data is larger, convert it to XDF before analysis.</span></span>
- <span data-ttu-id="6e8b5-151">A terhelést növelni az másolással vagy az élcsomóponthoz elemzéshez adatfolyam válik Kezelhetetlen nagyon nagy mennyiségű adat.</span><span class="sxs-lookup"><span data-stu-id="6e8b5-151">The overhead of copying or streaming the data to the edge node for analysis becomes unmanageable for very large amounts of data.</span></span>
- <span data-ttu-id="6e8b5-152">A Spark gyorsabb, mint az térkép elemzése a Hadoop csökkenti az.</span><span class="sxs-lookup"><span data-stu-id="6e8b5-152">Spark is faster than Map Reduce for analysis in Hadoop.</span></span>

<span data-ttu-id="6e8b5-153">Megadott alapelvek, az alábbi szakaszok nyújtanak néhány általános szabályok megoldás a számítási környezet kijelöléséhez.</span><span class="sxs-lookup"><span data-stu-id="6e8b5-153">Given these principles, the following sections offer some general rules of thumb for selecting a compute context.</span></span>

### <a name="local"></a><span data-ttu-id="6e8b5-154">Helyi</span><span class="sxs-lookup"><span data-stu-id="6e8b5-154">Local</span></span>
* <span data-ttu-id="6e8b5-155">Ha elemzéséhez adatmennyiség kicsi, és nem igényel ismételt elemzése, majd adatfolyamként közvetlenül be az elemző rutin használatával *"local"* vagy *"localpar"*.</span><span class="sxs-lookup"><span data-stu-id="6e8b5-155">If the amount of data to analyze is small and does not require repeated analysis, then stream it directly into the analysis routine using *'local'* or *'localpar'*.</span></span>
* <span data-ttu-id="6e8b5-156">Ha elemzéséhez adatmennyiség a kis- és közepes méretű és ismételt elemzése szükséges, majd másolja azt a helyi fájlrendszer XDF importálja és elemezze keresztül *"local"* vagy *"localpar"*.</span><span class="sxs-lookup"><span data-stu-id="6e8b5-156">If the amount of data to analyze is small or medium-sized and requires repeated analysis, then copy it to the local file system, import it to XDF, and analyze it via *'local'* or *'localpar'*.</span></span>

### <a name="hadoop-spark"></a><span data-ttu-id="6e8b5-157">Hadoop Spark</span><span class="sxs-lookup"><span data-stu-id="6e8b5-157">Hadoop Spark</span></span>
* <span data-ttu-id="6e8b5-158">Ha elemzéséhez adatok mennyisége túl nagy, majd importálni kell a Spark DataFrame használatával **RxHiveData** vagy **RxParquetData**, vagy a HDFS-ben XDF (kivéve, ha probléma a tároló), és elemezze a Spark számítási környezetet használ.</span><span class="sxs-lookup"><span data-stu-id="6e8b5-158">If the amount of data to analyze is large, then import it to a Spark DataFrame using **RxHiveData** or **RxParquetData**, or to XDF in HDFS (unless storage is an issue), and analyze it using the Spark compute context.</span></span>

### <a name="hadoop-map-reduce"></a><span data-ttu-id="6e8b5-159">Hadoop térkép csökkentése</span><span class="sxs-lookup"><span data-stu-id="6e8b5-159">Hadoop Map Reduce</span></span>
* <span data-ttu-id="6e8b5-160">A térkép csökkentheti a számítási környezetben használja, ha a Spark számítási környezet módon hibát tapasztal, mert általában lassabban működik.</span><span class="sxs-lookup"><span data-stu-id="6e8b5-160">Use the Map Reduce compute context only if you encounter an insurmountable problem with the Spark compute context since it is generally slower.</span></span>  

## <a name="inline-help-on-rxsetcomputecontext"></a><span data-ttu-id="6e8b5-161">Beágyazott súgójának rxSetComputeContext</span><span class="sxs-lookup"><span data-stu-id="6e8b5-161">Inline help on rxSetComputeContext</span></span>
<span data-ttu-id="6e8b5-162">További információt és példákat a ScaleR számítási környezeteket tekintse meg a beágyazott megkönnyíti a R rxSetComputeContext módszer, például:</span><span class="sxs-lookup"><span data-stu-id="6e8b5-162">For more information and examples of ScaleR compute contexts, see the inline help in R on the rxSetComputeContext method, for example:</span></span>

    > ?rxSetComputeContext

<span data-ttu-id="6e8b5-163">Is hivatkozhat a "[ScaleR elosztott számítástechnikai útmutató](https://msdn.microsoft.com/microsoft-r/scaler-distributed-computing)", amely megtalálható a a [R Server MSDN](https://msdn.microsoft.com/library/mt674634.aspx "R Server, az MSDN Webhelyén") könyvtár.</span><span class="sxs-lookup"><span data-stu-id="6e8b5-163">You can also refer to the “[ScaleR Distributed Computing Guide](https://msdn.microsoft.com/microsoft-r/scaler-distributed-computing)” that's available from the [R Server MSDN](https://msdn.microsoft.com/library/mt674634.aspx "R Server on MSDN") library.</span></span>

## <a name="next-steps"></a><span data-ttu-id="6e8b5-164">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="6e8b5-164">Next steps</span></span>
<span data-ttu-id="6e8b5-165">Ebben a cikkben megtanulta, adja meg, hogyan végrehajtási párhuzamos működésű-e a élcsomópont vagy a HDInsight-fürt mag között rendelkezésre álló beállításokkal kapcsolatos.</span><span class="sxs-lookup"><span data-stu-id="6e8b5-165">In this article, you learned about the options that are available to specify whether and how execution is parallelized across cores of the edge node or HDInsight cluster.</span></span> <span data-ttu-id="6e8b5-166">R Server használata a HDInsight-fürtökkel kapcsolatos további tudnivalókért tekintse meg a következő témaköröket:</span><span class="sxs-lookup"><span data-stu-id="6e8b5-166">To learn more about how to use R Server with HDInsight clusters, see the following topics:</span></span>

* [<span data-ttu-id="6e8b5-167">R Server, a Hadoop – áttekintés</span><span class="sxs-lookup"><span data-stu-id="6e8b5-167">Overview of R Server for Hadoop</span></span>](hdinsight-hadoop-r-server-overview.md)
* [<span data-ttu-id="6e8b5-168">R Server a Hadoop első lépései</span><span class="sxs-lookup"><span data-stu-id="6e8b5-168">Get started with R Server for Hadoop</span></span>](hdinsight-hadoop-r-server-get-started.md)
* [<span data-ttu-id="6e8b5-169">Rstudióból kiszolgáló felvétele a HDInsight (Ha nincs hozzáadva a fürt létrehozása során)</span><span class="sxs-lookup"><span data-stu-id="6e8b5-169">Add RStudio Server to HDInsight (if not added during cluster creation)</span></span>](hdinsight-hadoop-r-server-install-r-studio.md)
* [<span data-ttu-id="6e8b5-170">Azure Storage lehetőségek a HDInsighton belüli R Server esetében</span><span class="sxs-lookup"><span data-stu-id="6e8b5-170">Azure Storage options for R Server on HDInsight</span></span>](hdinsight-hadoop-r-server-storage.md)

