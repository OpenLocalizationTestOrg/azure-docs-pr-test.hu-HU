---
title: "aaaProcess vehicle érzékelő adatokat a HDInsight alatt futó Apache Storm |} Microsoft Docs"
description: "Megtudhatja, hogyan tooprocess vehicle érzékelő adatokat az Event Hubs a HDInsight alatt futó Apache Storm használatával. Vegye fel a modell adatai a Azure Cosmos-Adatbázisból, és kimeneti toostorage tárolja."
services: hdinsight,documentdb,notification-hubs
documentationcenter: 
author: Blackmist
manager: jhubbard
editor: cgronlun
ms.assetid: 78980635-8bef-4c33-96c3-fae50e932e31
ms.service: hdinsight
ms.custom: hdinsightactive
ms.devlang: java
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 05/03/2017
ms.author: larryfr
ms.openlocfilehash: 8f7b1dbb9072e095ea32160bb731bedd071288af
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="process-vehicle-sensor-data-from-azure-event-hubs-using-apache-storm-on-hdinsight"></a><span data-ttu-id="60234-104">Az Azure Event Hubs a HDInsight alatt futó Apache Storm használatával vehicle érzékelő adatok feldolgozása</span><span class="sxs-lookup"><span data-stu-id="60234-104">Process vehicle sensor data from Azure Event Hubs using Apache Storm on HDInsight</span></span>

<span data-ttu-id="60234-105">Megtudhatja, hogyan tooprocess vehicle a HDInsight alatt futó Apache Storm használatával Azure Event hubs érzékelőadatait.</span><span class="sxs-lookup"><span data-stu-id="60234-105">Learn how tooprocess vehicle sensor data from Azure Event Hubs using Apache Storm on HDInsight.</span></span> <span data-ttu-id="60234-106">Ez a példa olvassa be az Azure Event Hubs érzékelőadatait, a következőképpen színesíti hello adatok Azure Cosmos DB tárolt adatok Vezérlőpultjának.</span><span class="sxs-lookup"><span data-stu-id="60234-106">This example reads sensor data from Azure Event Hubs, enriches hello data by referencing data stored in Azure Cosmos DB.</span></span> <span data-ttu-id="60234-107">hello tárolja az Azure Storage hello Hadoop fájlrendszerrel (HDFS) használatával.</span><span class="sxs-lookup"><span data-stu-id="60234-107">hello data is stored into Azure Storage using hello Hadoop File System (HDFS).</span></span>

![HDInsight és hello az eszközök internetes hálózatát (IoT) architektúra diagramja](./media/hdinsight-storm-iot-eventhub-documentdb/iot.png)

## <a name="overview"></a><span data-ttu-id="60234-109">Áttekintés</span><span class="sxs-lookup"><span data-stu-id="60234-109">Overview</span></span>

<span data-ttu-id="60234-110">Érzékelők toovehicles hozzáadását teszi lehetővé toopredict berendezések problémákat előzményadatokat trendek alapján.</span><span class="sxs-lookup"><span data-stu-id="60234-110">Adding sensors toovehicles allows you toopredict equipment problems based on historical data trends.</span></span> <span data-ttu-id="60234-111">Lehetővé teszi toomake fejlesztései toofuture verziók használatelemzés minta alapján.</span><span class="sxs-lookup"><span data-stu-id="60234-111">It also allows you toomake improvements toofuture versions based on usage pattern analysis.</span></span> <span data-ttu-id="60234-112">Képes tooquickly legyen, és hatékonyan hello adatok betöltése az összes járművekről gyűjtött az Hadoop MapReduce feldolgozása előtt.</span><span class="sxs-lookup"><span data-stu-id="60234-112">You must be able tooquickly and efficiently load hello data from all vehicles into Hadoop before MapReduce processing can occur.</span></span> <span data-ttu-id="60234-113">Emellett Kezdésként kritikus hibával elérési út (motor, fékek stb.) toodo elemzés valós időben.</span><span class="sxs-lookup"><span data-stu-id="60234-113">Additionally, you may wish toodo analysis for critical failure paths (engine temperature, brakes, etc.) in real time.</span></span>

<span data-ttu-id="60234-114">Az Azure Event Hubs-t toohandle hello nagy kötet érzékelők által generált adatmennyiséget.</span><span class="sxs-lookup"><span data-stu-id="60234-114">Azure Event Hubs is built toohandle hello massive volume of data generated by sensors.</span></span> <span data-ttu-id="60234-115">Apache Storm csak használt tooload és hello adatfeldolgozásra tárolja a HDFS előtt.</span><span class="sxs-lookup"><span data-stu-id="60234-115">Apache Storm can be used tooload and process hello data before storing it into HDFS.</span></span>

## <a name="solution"></a><span data-ttu-id="60234-116">Megoldás</span><span class="sxs-lookup"><span data-stu-id="60234-116">Solution</span></span>

<span data-ttu-id="60234-117">Az érzékelők motor, a környezeti hőmérséklet és a vehicle sebesség telemetriai adatokat rögzíti.</span><span class="sxs-lookup"><span data-stu-id="60234-117">Telemetry data for engine temperature, ambient temperature, and vehicle speed is recorded by sensors.</span></span> <span data-ttu-id="60234-118">Adatokat küldi el a rendszer tooEvent hubok hello car Vehicle azonosító szám (VIN) és egy időbélyegzőt együtt.</span><span class="sxs-lookup"><span data-stu-id="60234-118">Data is then sent tooEvent Hubs along with hello car's Vehicle Identification Number (VIN) and a time stamp.</span></span> <span data-ttu-id="60234-119">Ezekből a egy Apache Storm on HDInsight-fürt futó Storm-topológia hello adatokat olvas, folyamatokat engedélyez, és tárolja a HDFS be.</span><span class="sxs-lookup"><span data-stu-id="60234-119">From there, a Storm Topology running on an Apache Storm on HDInsight cluster reads hello data, processes it, and stores it into HDFS.</span></span>

<span data-ttu-id="60234-120">A feldolgozás során hello VIN használt tooretrieve típusra vonatkozó adatokat a Cosmos-Adatbázisból.</span><span class="sxs-lookup"><span data-stu-id="60234-120">During processing, hello VIN is used tooretrieve model information from Cosmos DB.</span></span> <span data-ttu-id="60234-121">Ezek az adatok toohello adatfolyam kerül, mielőtt a rendszer tárolja.</span><span class="sxs-lookup"><span data-stu-id="60234-121">This data is added toohello data stream before it is stored.</span></span>

<span data-ttu-id="60234-122">a Storm-topológia hello használt hello összetevők a következők:</span><span class="sxs-lookup"><span data-stu-id="60234-122">hello components used in hello Storm Topology are:</span></span>

* <span data-ttu-id="60234-123">**EventHubSpout** -olvassa be az adatokat az Azure Event Hubs</span><span class="sxs-lookup"><span data-stu-id="60234-123">**EventHubSpout** - reads data from Azure Event Hubs</span></span>
* <span data-ttu-id="60234-124">**TypeConversionBolt** -konvertálja a JSON-karakterláncban az Event Hubs érzékelőadatait következő hello tartalmazó rekordot a hello:</span><span class="sxs-lookup"><span data-stu-id="60234-124">**TypeConversionBolt** - converts hello JSON string from Event Hubs into a tuple containing hello following sensor data:</span></span>
    * <span data-ttu-id="60234-125">Motor</span><span class="sxs-lookup"><span data-stu-id="60234-125">Engine temperature</span></span>
    * <span data-ttu-id="60234-126">Környezeti hőmérséklet</span><span class="sxs-lookup"><span data-stu-id="60234-126">Ambient temperature</span></span>
    * <span data-ttu-id="60234-127">Gyorsaság</span><span class="sxs-lookup"><span data-stu-id="60234-127">Speed</span></span>
    * <span data-ttu-id="60234-128">VIN</span><span class="sxs-lookup"><span data-stu-id="60234-128">VIN</span></span>
    * <span data-ttu-id="60234-129">időbélyeg</span><span class="sxs-lookup"><span data-stu-id="60234-129">Timestamp</span></span>
* <span data-ttu-id="60234-130">**DataReferencBolt** -hello vehicle modell megkeresi a hello VIN használatával Cosmos-Adatbázisból</span><span class="sxs-lookup"><span data-stu-id="60234-130">**DataReferencBolt** - looks up hello vehicle model from Cosmos DB using hello VIN</span></span>
* <span data-ttu-id="60234-131">**WasbStoreBolt** -tárolók hello adatok tooHDFS (Azure Storage)</span><span class="sxs-lookup"><span data-stu-id="60234-131">**WasbStoreBolt** - stores hello data tooHDFS (Azure Storage)</span></span>

<span data-ttu-id="60234-132">a következő kép hello diagramját, illetve az ehhez a megoldáshoz:</span><span class="sxs-lookup"><span data-stu-id="60234-132">hello following image is a diagram of this solution:</span></span>

![Storm-topológia](./media/hdinsight-storm-iot-eventhub-documentdb/iottopology.png)

## <a name="implementation"></a><span data-ttu-id="60234-134">Megvalósítás</span><span class="sxs-lookup"><span data-stu-id="60234-134">Implementation</span></span>

<span data-ttu-id="60234-135">A teljes automatikus megoldás az ebben a forgatókönyvben hello részeként [HDInsight-Storm-példák](https://github.com/hdinsight/hdinsight-storm-examples) GitHub tárházából.</span><span class="sxs-lookup"><span data-stu-id="60234-135">A complete, automated solution for this scenario is available as part of hello [HDInsight-Storm-Examples](https://github.com/hdinsight/hdinsight-storm-examples) repository on GitHub.</span></span> <span data-ttu-id="60234-136">toouse ebben a példában hello hello lépéseit kövesse [IoTExample fontos. MD](https://github.com/hdinsight/hdinsight-storm-examples/blob/master/IotExample/README.md).</span><span class="sxs-lookup"><span data-stu-id="60234-136">toouse this example, follow hello steps in hello [IoTExample README.MD](https://github.com/hdinsight/hdinsight-storm-examples/blob/master/IotExample/README.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="60234-137">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="60234-137">Next Steps</span></span>

<span data-ttu-id="60234-138">További példa Storm-topológiák, lásd: [a HDInsight alatt futó Storm](hdinsight-storm-example-topology.md).</span><span class="sxs-lookup"><span data-stu-id="60234-138">For more example Storm topologies, see [Example topologies for Storm on HDInsight](hdinsight-storm-example-topology.md).</span></span>

