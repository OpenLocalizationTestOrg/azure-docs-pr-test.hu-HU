---
title: "Telepítse át a Redis - Azure Managed Cache Service-alkalmazások |} Microsoft Docs"
description: "Ismerje meg, hogyan telepítheti át az Azure Redis Cache Managed Cache Service és a szerepköralapú gyorsítótár alkalmazások"
services: redis-cache
documentationcenter: na
author: steved0x
manager: douge
editor: tysonn
ms.assetid: 041f077b-8c8e-4d7c-a3fc-89d334ed70d6
ms.service: cache
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: cache-redis
ms.workload: tbd
ms.date: 05/30/2017
ms.author: sdanie
ms.openlocfilehash: 0fbfb945c66926794721f2ce8cc183dac51ecb27
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 07/11/2017
---
# <a name="migrate-from-managed-cache-service-to-azure-redis-cache"></a><span data-ttu-id="22186-103">Azure Redis Cache Managed Cache Service áttelepítése</span><span class="sxs-lookup"><span data-stu-id="22186-103">Migrate from Managed Cache Service to Azure Redis Cache</span></span>
<span data-ttu-id="22186-104">Az Azure Managed Cache Service Azure Redis Cache használó alkalmazások áttelepítése az alkalmazáshoz, attól függően, hogy a Managed Cache Service szolgáltatásokat használják a gyorsítótárazási alkalmazás legfeljebb minimális változtatásokra is elvégezhető.</span><span class="sxs-lookup"><span data-stu-id="22186-104">Migrating your applications that use Azure Managed Cache Service to Azure Redis Cache can be accomplished with minimal changes to your application, depending on the Managed Cache Service features used by your caching application.</span></span> <span data-ttu-id="22186-105">Míg az API-k nem pontosan ugyanaz hasonló, és nagy részét a meglévő kód Managed Cache Service alapján fér hozzá újrahasználhatók minimális módosításait.</span><span class="sxs-lookup"><span data-stu-id="22186-105">While the APIs are not exactly the same they are similar, and much of your existing code that uses Managed Cache Service to access a cache can be reused with minimal changes.</span></span> <span data-ttu-id="22186-106">Ez a témakör bemutatja, hogyan végezheti el a szükséges konfigurációs és telepítse át a Managed Cache Service-alkalmazások Azure Redis Cache az alkalmazás módosításait, és bemutatja, hogyan néhány Azure Redis Cache funkciója használható Managed funkcióinak végrehajtásához Gyorsítótár gyorsítótára.</span><span class="sxs-lookup"><span data-stu-id="22186-106">This topic shows how to make the necessary configuration and application changes to migrate your Managed Cache Service applications to use Azure Redis Cache, and shows how some of the features of Azure Redis Cache can be used to implement the functionality of a Managed Cache Service cache.</span></span>

>[!NOTE]
><span data-ttu-id="22186-107">Felügyelt Cache Service és a szerepköralapú gyorsítótár [kivont](https://azure.microsoft.com/blog/azure-managed-cache-and-in-role-cache-services-to-be-retired-on-11-30-2016/) November 30 2016.</span><span class="sxs-lookup"><span data-stu-id="22186-107">Managed Cache Service and In-Role Cache were [retired](https://azure.microsoft.com/blog/azure-managed-cache-and-in-role-cache-services-to-be-retired-on-11-30-2016/) November 30, 2016.</span></span> <span data-ttu-id="22186-108">Ha az áttelepítendő Azure Redis Cache-hoz tartozó szerepköralapú gyorsítótár telepítéssel rendelkezik, a cikkben leírt lépéseket követheti.</span><span class="sxs-lookup"><span data-stu-id="22186-108">If you have any In-Role Cache deployments that you want to migrate to Azure Redis Cache, you can follow the steps in this article.</span></span>

## <a name="migration-steps"></a><span data-ttu-id="22186-109">Áttelepítés lépései</span><span class="sxs-lookup"><span data-stu-id="22186-109">Migration Steps</span></span>
<span data-ttu-id="22186-110">A következő lépések szükségesek, áttelepítheti egy Managed Cache Service-alkalmazást az Azure Redis Cache használata.</span><span class="sxs-lookup"><span data-stu-id="22186-110">The following steps are required to migrate a Managed Cache Service application to use Azure Redis Cache.</span></span>

* <span data-ttu-id="22186-111">Azure Redis Cache van leképezve Managed Cache Service szolgáltatások</span><span class="sxs-lookup"><span data-stu-id="22186-111">Map Managed Cache Service features to Azure Redis Cache</span></span>
* <span data-ttu-id="22186-112">Válassza ki a Cache-ajánlatot</span><span class="sxs-lookup"><span data-stu-id="22186-112">Choose a Cache Offering</span></span>
* <span data-ttu-id="22186-113">A gyorsítótár létrehozása</span><span class="sxs-lookup"><span data-stu-id="22186-113">Create a Cache</span></span>
* <span data-ttu-id="22186-114">A gyorsítótár-ügyfelek konfigurálása</span><span class="sxs-lookup"><span data-stu-id="22186-114">Configure the Cache Clients</span></span>
  * <span data-ttu-id="22186-115">A Managed Cache Service konfiguráció eltávolítása</span><span class="sxs-lookup"><span data-stu-id="22186-115">Remove the Managed Cache Service Configuration</span></span>
  * <span data-ttu-id="22186-116">A StackExchange.Redis NuGet csomag segítségével gyorsítótár-ügyfél konfigurálása</span><span class="sxs-lookup"><span data-stu-id="22186-116">Configure a cache client using the StackExchange.Redis NuGet Package</span></span>
* <span data-ttu-id="22186-117">Telepítse át a Managed Cache Service kódot</span><span class="sxs-lookup"><span data-stu-id="22186-117">Migrate Managed Cache Service code</span></span>
  * <span data-ttu-id="22186-118">Csatlakozás a gyorsítótárhoz, a ConnectionMultiplexer osztály használatával</span><span class="sxs-lookup"><span data-stu-id="22186-118">Connect to the cache using the ConnectionMultiplexer class</span></span>
  * <span data-ttu-id="22186-119">Hozzáférés primitív adattípusokat a gyorsítótárban</span><span class="sxs-lookup"><span data-stu-id="22186-119">Access primitive data types in the cache</span></span>
  * <span data-ttu-id="22186-120">.NET-objektumok használata a gyorsítótárban</span><span class="sxs-lookup"><span data-stu-id="22186-120">Work with .NET objects in the cache</span></span>
* <span data-ttu-id="22186-121">Az ASP.NET munkamenet-állapot és a kimeneti gyorsítótár Azure Redis Cache áttelepítése</span><span class="sxs-lookup"><span data-stu-id="22186-121">Migrate ASP.NET Session State and Output caching to Azure Redis Cache</span></span> 

## <a name="map-managed-cache-service-features-to-azure-redis-cache"></a><span data-ttu-id="22186-122">Azure Redis Cache van leképezve Managed Cache Service szolgáltatások</span><span class="sxs-lookup"><span data-stu-id="22186-122">Map Managed Cache Service features to Azure Redis Cache</span></span>
<span data-ttu-id="22186-123">Az Azure Managed Cache Service és az Azure Redis Cache hasonló, de egyes szolgáltatásaik különböző módon végrehajtása.</span><span class="sxs-lookup"><span data-stu-id="22186-123">Azure Managed Cache Service and Azure Redis Cache are similar but implement some of their features in different ways.</span></span> <span data-ttu-id="22186-124">Ez a szakasz közötti fontosabb különbségeket ismerteti, és az Azure Redis Cache Managed Cache Service részeit, végrehajtási nyújt útmutatást.</span><span class="sxs-lookup"><span data-stu-id="22186-124">This section describes some of the differences and provides guidance on implementing the features of Managed Cache Service in Azure Redis Cache.</span></span>

| <span data-ttu-id="22186-125">Felügyelt Cache Service szolgáltatás</span><span class="sxs-lookup"><span data-stu-id="22186-125">Managed Cache Service feature</span></span> | <span data-ttu-id="22186-126">Felügyelt gyorsítótár szolgáltatás támogatása</span><span class="sxs-lookup"><span data-stu-id="22186-126">Managed Cache Service support</span></span> | <span data-ttu-id="22186-127">Azure Redis Cache-támogatás</span><span class="sxs-lookup"><span data-stu-id="22186-127">Azure Redis Cache support</span></span> |
| --- | --- | --- |
| <span data-ttu-id="22186-128">Elnevezett gyorsítótárak</span><span class="sxs-lookup"><span data-stu-id="22186-128">Named caches</span></span> |<span data-ttu-id="22186-129">Egy alapértelmezett gyorsítótár van beállítva, és a Standard és Premium gyorsítótárában ajánlatokat, legfeljebb kilenc további gyorsítótárak nevű beállítható úgy, ha szükséges.</span><span class="sxs-lookup"><span data-stu-id="22186-129">A default cache is configured, and in the Standard and Premium cache offerings, up to nine additional named caches can be configured if desired.</span></span> |<span data-ttu-id="22186-130">Azure Redis gyorsítótár rendelkeznie konfigurálható adatbázisok (alapértelmezett 16-os) az elnevezett gyorsítótárak hasonló funkciót végrehajtásához használható.</span><span class="sxs-lookup"><span data-stu-id="22186-130">Azure Redis caches have a configurable number of databases (default of 16) that can be used to implement a similar functionality to named caches.</span></span> <span data-ttu-id="22186-131">További információ: [Mik azok a Redis-adatbázisok?](cache-faq.md#what-are-redis-databases) és [A Redis-kiszolgáló alapértelmezett konfigurációja](cache-configure.md#default-redis-server-configuration).</span><span class="sxs-lookup"><span data-stu-id="22186-131">For more information, see [What are Redis databases?](cache-faq.md#what-are-redis-databases) and [Default Redis server configuration](cache-configure.md#default-redis-server-configuration).</span></span> |
| <span data-ttu-id="22186-132">Magas rendelkezésre állás</span><span class="sxs-lookup"><span data-stu-id="22186-132">High Availability</span></span> |<span data-ttu-id="22186-133">Az elemek a gyorsítótárban a Standard és Premium gyorsítótár ajánlatokat a magas rendelkezésre állást biztosít.</span><span class="sxs-lookup"><span data-stu-id="22186-133">Provides high availability for items in the cache in the Standard and Premium cache offerings.</span></span> <span data-ttu-id="22186-134">Ha a cikkeket egy hiba miatt megszakadt, a gyorsítótár elemeinek biztonsági másolatok továbbra is elérhetők.</span><span class="sxs-lookup"><span data-stu-id="22186-134">If items are lost due to a failure, backup copies of the items in the cache are still available.</span></span> <span data-ttu-id="22186-135">A másodlagos gyorsítótár bejegyzést ír a szinkron módon történik.</span><span class="sxs-lookup"><span data-stu-id="22186-135">Writes to the secondary cache are made synchronously.</span></span> |<span data-ttu-id="22186-136">Magas rendelkezésre állás a Standard és prémium szintű gyorsítótár ajánlatok, amely két csomópont elsődleges vagy replika konfigurációt (a Premium-gyorsítótár egyes shard rendelkezik egy elsődleges vagy replika pár) érhető el.</span><span class="sxs-lookup"><span data-stu-id="22186-136">High availability is available in the Standard and Premium cache offerings, which have a two node Primary/Replica configuration (each shard in a Premium cache has a primary/replica pair).</span></span> <span data-ttu-id="22186-137">Írási műveleteket ad ki a replika aszinkron módon történik.</span><span class="sxs-lookup"><span data-stu-id="22186-137">Writes to the replica are made asynchronously.</span></span> <span data-ttu-id="22186-138">További információkért lásd: [Azure Redis Cache árképzési](https://azure.microsoft.com/pricing/details/cache/).</span><span class="sxs-lookup"><span data-stu-id="22186-138">For more information, see [Azure Redis Cache pricing](https://azure.microsoft.com/pricing/details/cache/).</span></span> |
| <span data-ttu-id="22186-139">Értesítések</span><span class="sxs-lookup"><span data-stu-id="22186-139">Notifications</span></span> |<span data-ttu-id="22186-140">Lehetővé teszi az ügyfelek aszinkron értesítéseket, amikor egy elnevezett gyorsítótár gyorsítótár-műveletekhez különböző.</span><span class="sxs-lookup"><span data-stu-id="22186-140">Allows clients to receive asynchronous notifications when a variety of cache operations occur on a named cache.</span></span> |<span data-ttu-id="22186-141">Ügyfélalkalmazások használhatja a Redis pub/sub vagy [kulcstérértesítések használatával értesítések](cache-configure.md#keyspace-notifications-advanced-settings) értesítések hasonló funkciót eléréséhez.</span><span class="sxs-lookup"><span data-stu-id="22186-141">Client applications can use Redis pub/sub or [Keyspace notifications](cache-configure.md#keyspace-notifications-advanced-settings) to achieve a similar functionality to notifications.</span></span> |
| <span data-ttu-id="22186-142">Helyi gyorsítótár</span><span class="sxs-lookup"><span data-stu-id="22186-142">Local cache</span></span> |<span data-ttu-id="22186-143">Az ügyfélen a extra gyors hozzáférés helyileg tárolja a gyorsítótárazott objektum egy példányát.</span><span class="sxs-lookup"><span data-stu-id="22186-143">Stores a copy of cached objects locally on the client for extra-fast access.</span></span> |<span data-ttu-id="22186-144">Ügyfélalkalmazások kellene ezt a funkciót a szótár vagy hasonló adatszerkezet végrehajtásához.</span><span class="sxs-lookup"><span data-stu-id="22186-144">Client applications would need to implement this functionality using a dictionary or similar data structure.</span></span> |
| <span data-ttu-id="22186-145">A kiürítési házirend</span><span class="sxs-lookup"><span data-stu-id="22186-145">Eviction Policy</span></span> |<span data-ttu-id="22186-146">Nincs vagy LRU.</span><span class="sxs-lookup"><span data-stu-id="22186-146">None or LRU.</span></span> <span data-ttu-id="22186-147">Az alapértelmezett házirend LRU.</span><span class="sxs-lookup"><span data-stu-id="22186-147">The default policy is LRU.</span></span> |<span data-ttu-id="22186-148">Azure Redis Cache támogatja a következő kiürítési házirendek: ideiglenes-lru, allkeys-lru, ideiglenes véletlenszerű, allkeys-véletlen ideiglenes ttl, noeviction.</span><span class="sxs-lookup"><span data-stu-id="22186-148">Azure Redis Cache supports the following eviction policies: volatile-lru, allkeys-lru, volatile-random, allkeys-random, volatile-ttl, noeviction.</span></span> <span data-ttu-id="22186-149">Az alapértelmezett házirend ideiglenes-lru.</span><span class="sxs-lookup"><span data-stu-id="22186-149">The default policy is volatile-lru.</span></span> <span data-ttu-id="22186-150">További információkért lásd: [kiszolgálókonfiguráció alapértelmezett Redis](cache-configure.md#default-redis-server-configuration).</span><span class="sxs-lookup"><span data-stu-id="22186-150">For more information, see [Default Redis server configuration](cache-configure.md#default-redis-server-configuration).</span></span> |
| <span data-ttu-id="22186-151">Elévülési szabályzatának</span><span class="sxs-lookup"><span data-stu-id="22186-151">Expiration Policy</span></span> |<span data-ttu-id="22186-152">Az alapértelmezett lejárati házirendet abszolút, és az alapértelmezett lejárati időszak tíz perc.</span><span class="sxs-lookup"><span data-stu-id="22186-152">The default expiration policy is Absolute and the default expiration interval is ten minutes.</span></span> <span data-ttu-id="22186-153">A késleltetett és Never házirendek is elérhetők.</span><span class="sxs-lookup"><span data-stu-id="22186-153">Sliding and Never policies are also available.</span></span> |<span data-ttu-id="22186-154">Alapértelmezés szerint a gyorsítótárban elemek nem jár le, de egy lejárati gyorsítótár set túlterhelés használatával / írási szinten konfigurálható.</span><span class="sxs-lookup"><span data-stu-id="22186-154">By default items in the cache do not expire, but an expiration can be configured on a per write basis using cache set overloads.</span></span> <span data-ttu-id="22186-155">További információkért lásd: [hozzáadása, és kérje le a gyorsítótárból objektumok](cache-dotnet-how-to-use-azure-redis-cache.md#add-and-retrieve-objects-from-the-cache).</span><span class="sxs-lookup"><span data-stu-id="22186-155">For more information, see [Add and retrieve objects from the cache](cache-dotnet-how-to-use-azure-redis-cache.md#add-and-retrieve-objects-from-the-cache).</span></span> |
| <span data-ttu-id="22186-156">Régiók és címkézés</span><span class="sxs-lookup"><span data-stu-id="22186-156">Regions and Tagging</span></span> |<span data-ttu-id="22186-157">Régiók a következők elemek gyorsítótárazott alcsoportok.</span><span class="sxs-lookup"><span data-stu-id="22186-157">Regions are subgroups for cached items.</span></span> <span data-ttu-id="22186-158">Régiók is támogatja a jegyzet gyorsítótárazott elemek további leíró karakterláncok címkéket.</span><span class="sxs-lookup"><span data-stu-id="22186-158">Regions also support the annotation of cached items with additional descriptive strings called tags.</span></span> <span data-ttu-id="22186-159">Régiók támogatja az adott régióban címkézett elemek keresési műveletek végrehajtásához.</span><span class="sxs-lookup"><span data-stu-id="22186-159">Regions support the ability to perform search operations on any tagged items in that region.</span></span> <span data-ttu-id="22186-160">Régión belül az összes elemet a gyorsítótár-fürt egyetlen csomópont belül találhatók.</span><span class="sxs-lookup"><span data-stu-id="22186-160">All items within a region are located within a single node of the cache cluster.</span></span> |<span data-ttu-id="22186-161">A Redis gyorsítótár áll egyetlen csomópont (kivéve, ha engedélyezve van a Redis-fürt), a Managed Cache Service régiók fogalma nem érvényes.</span><span class="sxs-lookup"><span data-stu-id="22186-161">A Redis cache consists of a single node (unless Redis cluster is enabled) so the concept of Managed Cache Service regions does not apply.</span></span> <span data-ttu-id="22186-162">Redis támogatja a keresést és a helyettesítő művelet, így leíró címkék a kulcsnevek ágyazva, és később kiolvassa az elemeket a kulcsok beolvasása közben.</span><span class="sxs-lookup"><span data-stu-id="22186-162">Redis supports searching and wildcard operations when retrieving keys so descriptive tags can be embedded within the key names and used to retrieve the items later.</span></span> <span data-ttu-id="22186-163">Egy Redis használó címkézési megoldás végrehajtási példáért lásd: [címkézés – Redis gyorsítótár végrehajtási](http://stackify.com/implementing-cache-tagging-redis/).</span><span class="sxs-lookup"><span data-stu-id="22186-163">For an example of implementing a tagging solution using Redis, see [Implementing cache tagging with Redis](http://stackify.com/implementing-cache-tagging-redis/).</span></span> |
| <span data-ttu-id="22186-164">Szerializálási</span><span class="sxs-lookup"><span data-stu-id="22186-164">Serialization</span></span> |<span data-ttu-id="22186-165">Felügyelt gyorsítótár NetDataContractSerializer, BinaryFormatter és egyéni objektumszerializáló használatát támogatja.</span><span class="sxs-lookup"><span data-stu-id="22186-165">Managed Cache supports NetDataContractSerializer, BinaryFormatter, and the use of custom serializers.</span></span> <span data-ttu-id="22186-166">Az alapértelmezett érték a NetDataContractSerializer.</span><span class="sxs-lookup"><span data-stu-id="22186-166">The default is NetDataContractSerializer.</span></span> |<span data-ttu-id="22186-167">A feladata az ügyfélalkalmazás .NET-objektumokat szerializálni előtt a szerializáló legfeljebb az ügyfél alkalmazásfejlesztő választható a gyorsítótárba helyezi őket.</span><span class="sxs-lookup"><span data-stu-id="22186-167">It is the responsibility of the client application to serialize .NET objects before placing them into the cache, with the choice of the serializer up to the client application developer.</span></span> <span data-ttu-id="22186-168">További információk és mintakód [.NET objektumok a gyorsítótárban](cache-dotnet-how-to-use-azure-redis-cache.md#work-with-net-objects-in-the-cache).</span><span class="sxs-lookup"><span data-stu-id="22186-168">For more information and sample code, see [Work with .NET objects in the cache](cache-dotnet-how-to-use-azure-redis-cache.md#work-with-net-objects-in-the-cache).</span></span> |
| <span data-ttu-id="22186-169">Gyorsítótár-emulátor</span><span class="sxs-lookup"><span data-stu-id="22186-169">Cache emulator</span></span> |<span data-ttu-id="22186-170">Felügyelt gyorsítótár biztosít egy helyi gyorsítótár emulátor.</span><span class="sxs-lookup"><span data-stu-id="22186-170">Managed Cache provides a local cache emulator.</span></span> |<span data-ttu-id="22186-171">Azure Redis Cache-gyorsítótár nem rendelkezik az emulátor, azonban úgy is [futtassa helyileg a redis-server.exe MSOpenTech buildverzióját](cache-faq.md#cache-emulator) az emulátor érdekében.</span><span class="sxs-lookup"><span data-stu-id="22186-171">Azure Redis Cache does not have an emulator, but you can [run the MSOpenTech build of redis-server.exe locally](cache-faq.md#cache-emulator) to provide an emulator experience.</span></span> |

## <a name="choose-a-cache-offering"></a><span data-ttu-id="22186-172">Válassza ki a Cache-ajánlatot</span><span class="sxs-lookup"><span data-stu-id="22186-172">Choose a Cache Offering</span></span>
<span data-ttu-id="22186-173">A Microsoft Azure Redis Cache a következő szinteken érhető el:</span><span class="sxs-lookup"><span data-stu-id="22186-173">Microsoft Azure Redis Cache is available in the following tiers:</span></span>

* <span data-ttu-id="22186-174">**Alapszintű** – Egyetlen csomópont.</span><span class="sxs-lookup"><span data-stu-id="22186-174">**Basic** – Single node.</span></span> <span data-ttu-id="22186-175">Többféle méret legfeljebb 53 GB-ig.</span><span class="sxs-lookup"><span data-stu-id="22186-175">Multiple sizes up to 53 GB.</span></span>
* <span data-ttu-id="22186-176">**Standard** – Két csomópontból álló elsődleges/replika.</span><span class="sxs-lookup"><span data-stu-id="22186-176">**Standard** – Two-node Primary/Replica.</span></span> <span data-ttu-id="22186-177">Többféle méret legfeljebb 53 GB-ig.</span><span class="sxs-lookup"><span data-stu-id="22186-177">Multiple sizes up to 53 GB.</span></span> <span data-ttu-id="22186-178">99,9%-os SLA.</span><span class="sxs-lookup"><span data-stu-id="22186-178">99.9% SLA.</span></span>
* <span data-ttu-id="22186-179">**Prémium** – Két csomópontból álló elsődleges/replika, legfeljebb 10 szegmenssel.</span><span class="sxs-lookup"><span data-stu-id="22186-179">**Premium** – Two-node Primary/Replica with up to 10 shards.</span></span> <span data-ttu-id="22186-180">Többféle méret 6 GB és 530 GB között.</span><span class="sxs-lookup"><span data-stu-id="22186-180">Multiple sizes from 6 GB to 530 GB.</span></span> <span data-ttu-id="22186-181">Tartalmazza a Standard szint összes szolgáltatását és továbbiakat, beleértve a [Redis-fürtök](cache-how-to-premium-clustering.md), a [Redis-adatmegőrzés](cache-how-to-premium-persistence.md) és az [Azure Virtual Network](cache-how-to-premium-vnet.md) támogatását.</span><span class="sxs-lookup"><span data-stu-id="22186-181">All Standard tier features and more including support for [Redis cluster](cache-how-to-premium-clustering.md), [Redis persistence](cache-how-to-premium-persistence.md), and [Azure Virtual Network](cache-how-to-premium-vnet.md).</span></span> <span data-ttu-id="22186-182">99,9%-os SLA.</span><span class="sxs-lookup"><span data-stu-id="22186-182">99.9% SLA.</span></span>

<span data-ttu-id="22186-183">Az egyes szintek szolgáltatási feltételei és díjszabása eltérő.</span><span class="sxs-lookup"><span data-stu-id="22186-183">Each tier differs in terms of features and pricing.</span></span> <span data-ttu-id="22186-184">A szolgáltatások tartoznak, és az árakkal kapcsolatos további információ az útmutató későbbi részében, lásd: [gyorsítótár díjszabás](https://azure.microsoft.com/pricing/details/cache/).</span><span class="sxs-lookup"><span data-stu-id="22186-184">The features are covered later in this guide, and for more information on pricing, see [Cache Pricing Details](https://azure.microsoft.com/pricing/details/cache/).</span></span>

<span data-ttu-id="22186-185">Egy áttelepítés kiindulópontja válasszon, amely megfelel az előző Managed Cache Service gyorsítótár méretének méretét, és majd felfelé vagy lefelé méretezési attól függően, hogy az alkalmazás követelményeinek.</span><span class="sxs-lookup"><span data-stu-id="22186-185">A starting point for migration is to pick the size that matches the size of your previous Managed Cache Service cache, and then scale up or down depending on the requirements of your application.</span></span> <span data-ttu-id="22186-186">A megfelelő Azure Redis Cache-ajánlatot kiválasztásáról További útmutatóért lásd: [milyen Redis Cache-ajánlatot és méretet használjam?](cache-faq.md#what-redis-cache-offering-and-size-should-i-use).</span><span class="sxs-lookup"><span data-stu-id="22186-186">For more guidance on choosing the right Azure Redis Cache offering, see [What Redis Cache offering and size should I use?](cache-faq.md#what-redis-cache-offering-and-size-should-i-use).</span></span>

## <a name="create-a-cache"></a><span data-ttu-id="22186-187">A gyorsítótár létrehozása</span><span class="sxs-lookup"><span data-stu-id="22186-187">Create a Cache</span></span>
[!INCLUDE [redis-cache-create](../../includes/redis-cache-create.md)]

## <a name="configure-the-cache-clients"></a><span data-ttu-id="22186-188">A gyorsítótár-ügyfelek konfigurálása</span><span class="sxs-lookup"><span data-stu-id="22186-188">Configure the Cache Clients</span></span>
<span data-ttu-id="22186-189">A gyorsítótár létrehozása és konfigurálása után a következő lépéssel távolítsa el a Managed Cache Service-konfigurációt, és adja hozzá az Azure Redis Cache konfigurációs hozzáadása és, hogy a gyorsítótár-ügyfelek hozzáférhetnek a gyorsítótár hivatkozik.</span><span class="sxs-lookup"><span data-stu-id="22186-189">Once the cache is created and configured, the next step is to remove the Managed Cache Service configuration, and add the add the Azure Redis Cache configuration and references so that cache clients can access the cache.</span></span>

* <span data-ttu-id="22186-190">A Managed Cache Service konfiguráció eltávolítása</span><span class="sxs-lookup"><span data-stu-id="22186-190">Remove the Managed Cache Service Configuration</span></span>
* <span data-ttu-id="22186-191">A StackExchange.Redis NuGet csomag segítségével gyorsítótár-ügyfél konfigurálása</span><span class="sxs-lookup"><span data-stu-id="22186-191">Configure a cache client using the StackExchange.Redis NuGet Package</span></span>

### <a name="remove-the-managed-cache-service-configuration"></a><span data-ttu-id="22186-192">A Managed Cache Service konfiguráció eltávolítása</span><span class="sxs-lookup"><span data-stu-id="22186-192">Remove the Managed Cache Service Configuration</span></span>
<span data-ttu-id="22186-193">Ahhoz, hogy az ügyfélalkalmazások konfigurálható az Azure Redis Cache, a meglévő Managed Cache Service-konfigurációt, és eltávolítva a Managed Cache Service NuGet csomag szerelvényhivatkozások el kell távolítani.</span><span class="sxs-lookup"><span data-stu-id="22186-193">Before the client applications can be configured for Azure Redis Cache, the existing Managed Cache Service configuration and assembly references must be removed by uninstalling the Managed Cache Service NuGet package.</span></span>

<span data-ttu-id="22186-194">Távolítsa el a Managed Cache Service NuGet-csomagot, kattintson a jobb gombbal az ügyfélprojekt **Megoldáskezelőben** válassza **NuGet-csomagok kezelése**.</span><span class="sxs-lookup"><span data-stu-id="22186-194">To uninstall the Managed Cache Service NuGet package, right-click the client project in **Solution Explorer** and choose **Manage NuGet Packages**.</span></span> <span data-ttu-id="22186-195">Válassza ki a **telepített csomag** csomópont, és írja be W**indowsAzure.Caching** a keresőmezőbe telepített csomagok.</span><span class="sxs-lookup"><span data-stu-id="22186-195">Select the **Installed packages** node, and type W**indowsAzure.Caching** into the Search installed packages box.</span></span> <span data-ttu-id="22186-196">Válassza ki **Windows** **Azure Cache** (vagy **Windows** **Azure gyorsítótárazás** attól függően, hogy a NuGet csomag verziója), kattintson **Eltávolítás**, és kattintson a **Bezárás**.</span><span class="sxs-lookup"><span data-stu-id="22186-196">Select **Windows** **Azure Cache** (or **Windows** **Azure Caching** depending on the version of the NuGet package), click **Uninstall**, and then click **Close**.</span></span>

![Távolítsa el az Azure Managed Cache Service NuGet-csomag](./media/cache-migrate-to-redis/IC757666.jpg)

<span data-ttu-id="22186-198">A Managed Cache Service NuGet-csomag eltávolítása eltávolítja a Managed Cache Service szerelvények és a Managed Cache Service bejegyzések az app.config vagy a Web.config fájlban, az ügyfélalkalmazás.</span><span class="sxs-lookup"><span data-stu-id="22186-198">Uninstalling the Managed Cache Service NuGet package removes the Managed Cache Service assemblies and the Managed Cache Service entries in the app.config or web.config of the client application.</span></span> <span data-ttu-id="22186-199">A NuGet-csomag eltávolításakor néhány testre szabott beállításokat nem lehet eltávolítani, mert nyissa meg a web.config vagy az App.config fájlt, és győződjön meg arról, hogy a rendszer teljesen eltávolítja a következő elemeket.</span><span class="sxs-lookup"><span data-stu-id="22186-199">Because some customized settings may not be removed when uninstalling the NuGet package, open web.config or app.config and ensure that the following elements are completely removed.</span></span>

<span data-ttu-id="22186-200">Győződjön meg arról, hogy a `dataCacheClients` bejegyzés törlődik a `configSections` elemet.</span><span class="sxs-lookup"><span data-stu-id="22186-200">Ensure that the `dataCacheClients` entry is removed from the `configSections` element.</span></span> <span data-ttu-id="22186-201">Ne távolítsa el a teljes `configSections` elem; csak távolítsa el a `dataCacheClients` bejegyzést, ha telepítve.</span><span class="sxs-lookup"><span data-stu-id="22186-201">Do not remove the entire `configSections` element; just remove the `dataCacheClients` entry, if it is present.</span></span>

```xml
<configSections>
  <!-- Existing sections omitted for clarity. -->
  <section name="dataCacheClients"type="Microsoft.ApplicationServer.Caching.DataCacheClientsSection, Microsoft.ApplicationServer.Caching.Core" allowLocation="true" allowDefinition="Everywhere"/>
</configSections>
```

<span data-ttu-id="22186-202">Győződjön meg arról, hogy a `dataCacheClients` szakaszban a rendszer eltávolítja.</span><span class="sxs-lookup"><span data-stu-id="22186-202">Ensure that the `dataCacheClients` section is removed.</span></span> <span data-ttu-id="22186-203">A `dataCacheClients` szakasz az alábbi példához hasonló lesz.</span><span class="sxs-lookup"><span data-stu-id="22186-203">The `dataCacheClients` section will be similar to the following example.</span></span>

```xml
<dataCacheClients>
  <dataCacheClientname="default">
    <!--To use the in-role flavor of Azure Cache, set identifier to be the cache cluster role name -->
    <!--To use the Azure Managed Cache Service, set identifier to be the endpoint of the cache cluster -->
    <autoDiscoverisEnabled="true"identifier="[Cache role name or Service Endpoint]"/>

    <!--<localCache isEnabled="true" sync="TimeoutBased" objectCount="100000" ttlValue="300" />-->
    <!--Use this section to specify security settings for connecting to your cache. This section is not required if your cache is hosted on a role that is a part of your cloud service. -->
    <!--<securityProperties mode="Message" sslEnabled="true">
      <messageSecurity authorizationInfo="[Authentication Key]" />
    </securityProperties>-->
  </dataCacheClient>
</dataCacheClients>
```

<span data-ttu-id="22186-204">A Managed Cache Service configuration eltávolítást követően konfigurálhatja a gyorsítótárügyfél, a következő szakaszban leírt módon.</span><span class="sxs-lookup"><span data-stu-id="22186-204">Once the Managed Cache Service configuration is removed, you can configure the cache client as described in the following section.</span></span>

### <a name="configure-a-cache-client-using-the-stackexchangeredis-nuget-package"></a><span data-ttu-id="22186-205">A StackExchange.Redis NuGet csomag segítségével gyorsítótár-ügyfél konfigurálása</span><span class="sxs-lookup"><span data-stu-id="22186-205">Configure a cache client using the StackExchange.Redis NuGet Package</span></span>
[!INCLUDE [redis-cache-configure](../../includes/redis-cache-configure-stackexchange-redis-nuget.md)]

## <a name="migrate-managed-cache-service-code"></a><span data-ttu-id="22186-206">Telepítse át a Managed Cache Service kódot</span><span class="sxs-lookup"><span data-stu-id="22186-206">Migrate Managed Cache Service code</span></span>
<span data-ttu-id="22186-207">Az API a StackExchange.Redis gyorsítótárügyfél a hasonlít a Managed Cache Service.</span><span class="sxs-lookup"><span data-stu-id="22186-207">The API for the StackExchange.Redis cache client is similar to the Managed Cache Service.</span></span> <span data-ttu-id="22186-208">Ez a szakasz áttekintést a különbségeket.</span><span class="sxs-lookup"><span data-stu-id="22186-208">This section provides an overview of the differences.</span></span>

### <a name="connect-to-the-cache-using-the-connectionmultiplexer-class"></a><span data-ttu-id="22186-209">Csatlakozás a gyorsítótárhoz, a ConnectionMultiplexer osztály használatával</span><span class="sxs-lookup"><span data-stu-id="22186-209">Connect to the cache using the ConnectionMultiplexer class</span></span>
<span data-ttu-id="22186-210">A Managed Cache Service, a gyorsítótár kapcsolatok kezelt a `DataCacheFactory` és `DataCache` osztályok.</span><span class="sxs-lookup"><span data-stu-id="22186-210">In Managed Cache Service, connections to the cache were handled by the `DataCacheFactory` and `DataCache` classes.</span></span> <span data-ttu-id="22186-211">Az Azure Redis Cache, ezek a kapcsolatok kezeli a `ConnectionMultiplexer` osztály.</span><span class="sxs-lookup"><span data-stu-id="22186-211">In Azure Redis Cache, these connections are managed by the `ConnectionMultiplexer` class.</span></span>

<span data-ttu-id="22186-212">Adja hozzá a következő utasítással aljától a tetejéig minden olyan fájlt, amelyből a kívánt gyorsítótár-hozzáféréshez.</span><span class="sxs-lookup"><span data-stu-id="22186-212">Add the following using statement to the top of any file from which you want to access the cache.</span></span>

```c#
using StackExchange.Redis
```

<span data-ttu-id="22186-213">Ha ehhez a névtérhez nem oldja meg, ne feledje, hogy hozzáadta a StackExchange.Redis NuGet-csomagot a [a gyorsítótár-ügyfelek konfigurálása](cache-dotnet-how-to-use-azure-redis-cache.md#configure-the-cache-clients).</span><span class="sxs-lookup"><span data-stu-id="22186-213">If this namespace doesn’t resolve, be sure that you have added the StackExchange.Redis NuGet package as described in [Configure the cache clients](cache-dotnet-how-to-use-azure-redis-cache.md#configure-the-cache-clients).</span></span>

> [!NOTE]
> <span data-ttu-id="22186-214">Vegye figyelembe, hogy a StackExchange.Redis-ügyfél igényli-e a .NET-keretrendszer 4-es vagy újabb verzióját.</span><span class="sxs-lookup"><span data-stu-id="22186-214">Note that the StackExchange.Redis client requires .NET Framework 4 or higher.</span></span>
> 
> 

<span data-ttu-id="22186-215">Csatlakozás az Azure Redis Cache példányt, hívja meg a statikus `ConnectionMultiplexer.Connect` metódus és a végpont és a kulcsot adjon át.</span><span class="sxs-lookup"><span data-stu-id="22186-215">To connect to an Azure Redis Cache instance, call the static `ConnectionMultiplexer.Connect` method and pass in the endpoint and key.</span></span> <span data-ttu-id="22186-216">Az alkalmazásban egy `ConnectionMultiplexer` példány megosztására egy lehetséges módszer, ha létrehoz egy statikus tulajdonságot, amely egy csatlakoztatott példányt ad vissza, a következő példához hasonlóan.</span><span class="sxs-lookup"><span data-stu-id="22186-216">One approach to sharing a `ConnectionMultiplexer` instance in your application is to have a static property that returns a connected instance, similar to the following example.</span></span> <span data-ttu-id="22186-217">Ez egy szálbiztos módszer csak egyetlen csatlakoztatott `ConnectionMultiplexer`-példány inicializálásához.</span><span class="sxs-lookup"><span data-stu-id="22186-217">This provides a thread-safe way to initialize only a single connected `ConnectionMultiplexer` instance.</span></span> <span data-ttu-id="22186-218">Ebben a példában `abortConnect` értéke HAMIS, ami azt jelenti, hogy a hívás sikeres lesz, még akkor is, ha nem jön létre a kapcsolat a gyorsítótárba.</span><span class="sxs-lookup"><span data-stu-id="22186-218">In this example `abortConnect` is set to false, which means that the call will succeed even if a connection to the cache is not established.</span></span> <span data-ttu-id="22186-219">A `ConnectionMultiplexer` egyik fontos szolgáltatása, hogy automatikusan visszaállítja a kapcsolatot a gyorsítótárral, amint a hálózati problémák vagy egyéb hibák elhárulnak.</span><span class="sxs-lookup"><span data-stu-id="22186-219">One key feature of `ConnectionMultiplexer` is that it will automatically restore connectivity to the cache once the network issue or other causes are resolved.</span></span>

```c#
private static Lazy<ConnectionMultiplexer> lazyConnection = new Lazy<ConnectionMultiplexer>(() =>
{
    return ConnectionMultiplexer.Connect("contoso5.redis.cache.windows.net,abortConnect=false,ssl=true,password=...");
});

public static ConnectionMultiplexer Connection
{
    get
    {
        return lazyConnection.Value;
    }
}
```

<span data-ttu-id="22186-220">A gyorsítótár végpontjához, a kulcsok és a portok lehet lekérni a **Redis Cache** a gyorsítótárpéldány panelen.</span><span class="sxs-lookup"><span data-stu-id="22186-220">The cache endpoint, keys, and ports can be obtained from the **Redis Cache** blade for your cache instance.</span></span> <span data-ttu-id="22186-221">További információkért lásd: [Redis Cache-gyorsítótár tulajdonságai](cache-configure.md#properties).</span><span class="sxs-lookup"><span data-stu-id="22186-221">For more information, see [Redis Cache properties](cache-configure.md#properties).</span></span>

<span data-ttu-id="22186-222">A kapcsolat létrejötte után térjen vissza a Redis gyorsítótár adatbázis mutató hivatkozás meghívásával a `ConnectionMultiplexer.GetDatabase` metódust.</span><span class="sxs-lookup"><span data-stu-id="22186-222">Once the connection is established, return a reference to the Redis cache database by calling the `ConnectionMultiplexer.GetDatabase` method.</span></span> <span data-ttu-id="22186-223">A `GetDatabase` metódussal visszaadott objektum egy egyszerűsített továbbított objektum, amelyet nem kell tárolni.</span><span class="sxs-lookup"><span data-stu-id="22186-223">The object returned from the `GetDatabase` method is a lightweight pass-through object and does not need to be stored.</span></span>

```c#
IDatabase cache = Connection.GetDatabase();

// Perform cache operations using the cache object...
// Simple put of integral data types into the cache
cache.StringSet("key1", "value");
cache.StringSet("key2", 25);

// Simple get of data types from the cache
string key1 = cache.StringGet("key1");
int key2 = (int)cache.StringGet("key2");
```

<span data-ttu-id="22186-224">A StackExchange.Redis ügyfél használja a `RedisKey` és `RedisValue` típusok elérésére, és az elemek tárolására a gyorsítótárban.</span><span class="sxs-lookup"><span data-stu-id="22186-224">The StackExchange.Redis client uses the `RedisKey` and `RedisValue` types for accessing and storing items in the cache.</span></span> <span data-ttu-id="22186-225">Ezek a típusok alakzatot leginkább egyszerű nyelvi típusok, beleértve a karakterláncot, hozzárendelését, gyakran nem használhatók közvetlenül.</span><span class="sxs-lookup"><span data-stu-id="22186-225">These types map onto most primitive language types, including string, and often are not used directly.</span></span> <span data-ttu-id="22186-226">Redis karakterláncok a legalapvetőbb típusú Redis értéket, és tartalmazhatnak számos különböző típusú adatok, beleértve a szerializált bináris adatfolyamok, és a típus közvetlenül nem használhatók, amíg használandó módszerek tartalmazó `String` a neve.</span><span class="sxs-lookup"><span data-stu-id="22186-226">Redis Strings are the most basic kind of Redis value, and can contain many types of data, including serialized binary streams, and while you may not use the type directly, you will use methods that contain `String` in the name.</span></span> <span data-ttu-id="22186-227">A legtöbb primitív adattípusokat tároljuk, és az elemek beolvasása a gyorsítótár a a `StringSet` és `StringGet` módszerek, kivéve, ha tárolja gyűjtemények és más Redis adattípusok a gyorsítótárban.</span><span class="sxs-lookup"><span data-stu-id="22186-227">For most primitive data types you store and retrieve items from the cache using the `StringSet` and `StringGet` methods, unless you are storing collections or other Redis data types in the cache.</span></span> 

<span data-ttu-id="22186-228">`StringSet`és `StringGet` nagyon hasonló a Managed Cache Service `Put` és `Get` módszerek, az egyik fő különbség, hogy állítsa be, és a gyorsítótárba egy .NET-objektum beolvasása előtt meg kell (MUST) azt először.</span><span class="sxs-lookup"><span data-stu-id="22186-228">`StringSet` and `StringGet` are very similar to the Managed Cache Service `Put` and `Get` methods, with one major difference being that before you set and get a .NET object into the cache you must serialize it first.</span></span> 

<span data-ttu-id="22186-229">Meghívásakor `StringGet`, ha az objektum létezik, akkor adja vissza, és ha nem, null ad vissza.</span><span class="sxs-lookup"><span data-stu-id="22186-229">When calling `StringGet`, if the object exists, it is returned, and if it does not, null is returned.</span></span> <span data-ttu-id="22186-230">Ebben az esetben az értéket lekérheti a kívánt adatforrásból, és a gyorsítótárban tárolhatja későbbi használatra.</span><span class="sxs-lookup"><span data-stu-id="22186-230">In this case you can retrieve the value from the desired data source and store it in the cache for subsequent use.</span></span> <span data-ttu-id="22186-231">Ez az úgynevezett gyorsítótár-feltöltő mód.</span><span class="sxs-lookup"><span data-stu-id="22186-231">This is known as the cache-aside pattern.</span></span>

<span data-ttu-id="22186-232">Egy elem lejáratának megadásához a gyorsítótárban használja a `TimeSpan` `StringSet` paraméterét.</span><span class="sxs-lookup"><span data-stu-id="22186-232">To specify the expiration of an item in the cache, use the `TimeSpan` parameter of `StringSet`.</span></span>

```c#
cache.StringSet("key1", "value1", TimeSpan.FromMinutes(90));
```

<span data-ttu-id="22186-233">Azure Redis Cache .NET objektumok, valamint a primitív adattípusokat együttműködik, de előtt egy .NET-objektum gyorsítótárazható következően szerializálni kell.</span><span class="sxs-lookup"><span data-stu-id="22186-233">Azure Redis Cache can work with .NET objects as well as primitive data types, but before a .NET object can be cached it must be serialized.</span></span> <span data-ttu-id="22186-234">Ez az alkalmazás fejlesztőjének feladata.</span><span class="sxs-lookup"><span data-stu-id="22186-234">This is the responsibility of the application developer.</span></span> <span data-ttu-id="22186-235">A fejlesztői rugalmasságot Ez biztosítja, hogy a szerializáló.</span><span class="sxs-lookup"><span data-stu-id="22186-235">This gives the developer flexibility in the choice of the serializer.</span></span> <span data-ttu-id="22186-236">További információk és mintakód [.NET objektumok a gyorsítótárban](cache-dotnet-how-to-use-azure-redis-cache.md#work-with-net-objects-in-the-cache).</span><span class="sxs-lookup"><span data-stu-id="22186-236">For more information and sample code, see [Work with .NET objects in the cache](cache-dotnet-how-to-use-azure-redis-cache.md#work-with-net-objects-in-the-cache).</span></span>

## <a name="migrate-aspnet-session-state-and-output-caching-to-azure-redis-cache"></a><span data-ttu-id="22186-237">Az ASP.NET munkamenet-állapot és a kimeneti gyorsítótár Azure Redis Cache áttelepítése</span><span class="sxs-lookup"><span data-stu-id="22186-237">Migrate ASP.NET Session State and Output caching to Azure Redis Cache</span></span>
<span data-ttu-id="22186-238">Azure Redis Cache van az ASP.NET munkamenet-állapot és a lap kimeneti gyorsítótár-szolgáltatók.</span><span class="sxs-lookup"><span data-stu-id="22186-238">Azure Redis Cache has providers for both ASP.NET Session State and Page Output caching.</span></span> <span data-ttu-id="22186-239">Az ilyen szolgáltatók Managed Cache Service verzióit használó alkalmazások áttelepítéséhez először távolítsa el a meglévő szakaszokat a Web.config fájlban, és adja meg az Azure Redis Cache-verziók a szolgáltatók.</span><span class="sxs-lookup"><span data-stu-id="22186-239">To migrate your application that uses the Managed Cache Service versions of these providers, first remove the existing sections from your web.config, and then configure the Azure Redis Cache versions of the providers.</span></span> <span data-ttu-id="22186-240">Az Azure Redis Cache ASP.NET-szolgáltatókat használ, lásd: [ASP.NET munkamenetállapot-szolgáltatóját az Azure Redis Cache](cache-aspnet-session-state-provider.md) és [az ASP.NET kimeneti gyorsítótár-szolgáltató Azure Redis Cache](cache-aspnet-output-cache-provider.md).</span><span class="sxs-lookup"><span data-stu-id="22186-240">For instructions on using the Azure Redis Cache ASP.NET providers, see [ASP.NET Session State Provider for Azure Redis Cache](cache-aspnet-session-state-provider.md) and [ASP.NET Output Cache Provider for Azure Redis Cache](cache-aspnet-output-cache-provider.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="22186-241">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="22186-241">Next steps</span></span>
<span data-ttu-id="22186-242">Megismerkedhet a [Azure Redis Cache dokumentáció](https://azure.microsoft.com/documentation/services/cache/) az oktatóanyagok, példák, videók és több.</span><span class="sxs-lookup"><span data-stu-id="22186-242">Explore the [Azure Redis Cache documentation](https://azure.microsoft.com/documentation/services/cache/) for tutorials, samples, videos, and more.</span></span>

