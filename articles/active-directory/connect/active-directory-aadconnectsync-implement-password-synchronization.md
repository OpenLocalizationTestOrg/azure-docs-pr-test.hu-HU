---
title: "és az Azure AD Connect-szinkronizálás jelszó-szinkronizálás aaaImplement |} Microsoft Docs"
description: "Információt nyújt a jelszó-szinkronizálás működése, és hogyan tooset fel."
services: active-directory
documentationcenter: 
author: MarkusVi
manager: femila
editor: 
ms.assetid: 05f16c3e-9d23-45dc-afca-3d0fa9dbf501
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/17/2017
ms.author: billmath
ms.openlocfilehash: a0401640f2a4d914419ee4446f923bb3a972389d
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="implement-password-synchronization-with-azure-ad-connect-sync"></a><span data-ttu-id="c3d3a-103">Jelszó-szinkronizálás és az Azure AD Connect-szinkronizálás megvalósítása</span><span class="sxs-lookup"><span data-stu-id="c3d3a-103">Implement password synchronization with Azure AD Connect sync</span></span>
<span data-ttu-id="c3d3a-104">A cikkben szükséges információk toosynchronize a felhasználói jelszavakat, egy a helyszíni Active Directory példány tooa felhőalapú Azure Active Directory (Azure AD) példányból.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-104">This article provides information that you need toosynchronize your user passwords from an on-premises Active Directory instance tooa cloud-based Azure Active Directory (Azure AD) instance.</span></span>

## <a name="what-is-password-synchronization"></a><span data-ttu-id="c3d3a-105">Mi az a jelszó-szinkronizálás</span><span class="sxs-lookup"><span data-stu-id="c3d3a-105">What is password synchronization</span></span>
<span data-ttu-id="c3d3a-106">hello valószínűség arról, hogy van tiltva a munka tooa elfelejtett jelszó miatt a kapcsolódó toohello számát, különböző jelszavakat tooremember kell.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-106">hello probability that you're blocked from getting your work done due tooa forgotten password is related toohello number of different passwords you need tooremember.</span></span> <span data-ttu-id="c3d3a-107">hello tooremember, hello magasabb hello valószínűség tooforget egy van szüksége további jelszavakat.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-107">hello more passwords you need tooremember, hello higher hello probability tooforget one.</span></span> <span data-ttu-id="c3d3a-108">Kérdések és a jelszó alaphelyzetbe állítását és egyéb jelszó-kapcsolatos problémák igény szerinti hívások hello segélyszolgálat legtöbb erőforrást.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-108">Questions and calls about password resets and other password-related issues demand hello most helpdesk resources.</span></span>

<span data-ttu-id="c3d3a-109">A jelszó-szinkronizálás, a szolgáltatás használható toosynchronize felhasználói jelszavak egy a helyszíni Active Directory példány tooa felhőalapú Azure AD példányával.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-109">Password synchronization is a feature used toosynchronize user passwords from an on-premises Active Directory instance tooa cloud-based Azure AD instance.</span></span>
<span data-ttu-id="c3d3a-110">Ez a szolgáltatás toosign tooAzure AD szolgáltatások, például az Office 365, a Microsoft Intune, CRM Online-hoz, és Azure Active Directory tartományi szolgáltatások (az Azure AD DS) használja.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-110">Use this feature toosign in tooAzure AD services like Office 365, Microsoft Intune, CRM Online, and Azure Active Directory Domain Services (Azure AD DS).</span></span> <span data-ttu-id="c3d3a-111">Bejelentkezik toohello szolgáltatás hello segítségével tooyour toosign használja ugyanazt a jelszót a helyi Active Directory-példányban.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-111">You sign in toohello service by using hello same password you use toosign in tooyour on-premises Active Directory instance.</span></span>

![Mi az az Azure AD Connect?](./media/active-directory-aadconnectsync-implement-password-synchronization/arch1.png)

<span data-ttu-id="c3d3a-113">Jelszavak hello számának csökkentésével a felhasználóknak kell toomaintain toojust egyet.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-113">By reducing hello number of passwords, your users need toomaintain toojust one.</span></span> <span data-ttu-id="c3d3a-114">A jelszó-szinkronizálás nyújt segítséget:</span><span class="sxs-lookup"><span data-stu-id="c3d3a-114">Password synchronization helps you to:</span></span>

* <span data-ttu-id="c3d3a-115">A felhasználók hello termelékenység növelése.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-115">Improve hello productivity of your users.</span></span>
* <span data-ttu-id="c3d3a-116">Csökkenti az ügyfélszolgálati kiadásokat.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-116">Reduce your helpdesk costs.</span></span>  

<span data-ttu-id="c3d3a-117">Is ha úgy dönt, hogy toouse [az Active Directory összevonási szolgáltatások (AD FS) összevonásának](https://channel9.msdn.com/Series/Azure-Active-Directory-Videos-Demos/Configuring-AD-FS-for-user-sign-in-with-Azure-AD-Connect), opcionálisan állíthatja be a jelszó-szinkronizálás biztonsági abban az esetben, ha az AD FS infrastruktúra sikertelen lesz.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-117">Also, if you decide toouse [Federation with Active Directory Federation Services (AD FS)](https://channel9.msdn.com/Series/Azure-Active-Directory-Videos-Demos/Configuring-AD-FS-for-user-sign-in-with-Azure-AD-Connect), you can optionally set up password synchronization as a backup in case your AD FS infrastructure fails.</span></span>

<span data-ttu-id="c3d3a-118">A jelszó-szinkronizálás az bővítmény toohello directory szinkronizálási szolgáltatása: az Azure AD Connect szinkronizálási szolgáltatás által megvalósított. toouse jelszó-szinkronizálás környezetében kell:</span><span class="sxs-lookup"><span data-stu-id="c3d3a-118">Password synchronization is an extension toohello directory synchronization feature implemented by Azure AD Connect sync. toouse password synchronization in your environment, you need to:</span></span>

* <span data-ttu-id="c3d3a-119">Azure AD Connect telepítése.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-119">Install Azure AD Connect.</span></span>  
* <span data-ttu-id="c3d3a-120">Konfigurálja a címtár-szinkronizálás a helyszíni Active Directory példány és az Azure Active Directory-példány között.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-120">Configure directory synchronization between your on-premises Active Directory instance and your Azure Active Directory instance.</span></span>
* <span data-ttu-id="c3d3a-121">Jelszó-szinkronizálás engedélyezése.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-121">Enable password synchronization.</span></span>

<span data-ttu-id="c3d3a-122">További részletekért lásd: [Helyszíni identitások integrálása az Azure Active Directoryval](active-directory-aadconnect.md).</span><span class="sxs-lookup"><span data-stu-id="c3d3a-122">For more details, see [Integrating your on-premises identities with Azure Active Directory](active-directory-aadconnect.md).</span></span>

> [!NOTE]
> <span data-ttu-id="c3d3a-123">Azure Active Directory tartományi szolgáltatások FIPS és a jelszó-szinkronizálás beállítása kapcsolatos további tudnivalókért lásd: a "Jelszó-szinkronizálás és FIPS" a cikk későbbi részében.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-123">For more details about Azure Active Directory Domain Services configured for FIPS and password synchronization, see "Password synchronization and FIPS" later in this article.</span></span>
>
>

## <a name="how-password-synchronization-works"></a><span data-ttu-id="c3d3a-124">Jelszó-szinkronizálás használata</span><span class="sxs-lookup"><span data-stu-id="c3d3a-124">How password synchronization works</span></span>
<span data-ttu-id="c3d3a-125">Active Directory tartományi szolgáltatások hello jelszavak, a kivonatoló érték megjelenítése hello tényleges felhasználói jelszó hello formában tárolja.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-125">hello Active Directory domain service stores passwords in hello form of a hash value representation of hello actual user password.</span></span> <span data-ttu-id="c3d3a-126">A kivonat értéke egy egyirányú matematikai függvény eredményeként (hello *kivonatoló algoritmus*).</span><span class="sxs-lookup"><span data-stu-id="c3d3a-126">A hash value is a result of a one-way mathematical function (hello *hashing algorithm*).</span></span> <span data-ttu-id="c3d3a-127">Nincs a jelszó egyirányú függvény toohello egyszerű szöveges verziójának metódus toorevert hello eredmény.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-127">There is no method toorevert hello result of a one-way function toohello plain text version of a password.</span></span> <span data-ttu-id="c3d3a-128">A jelszó kivonatát toosign tooyour a helyi hálózaton nem használható.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-128">You cannot use a password hash toosign in tooyour on-premises network.</span></span>

<span data-ttu-id="c3d3a-129">a jelszót, az Azure AD Connect szinkronizálási szolgáltatás kibontja a jelszó-kivonat toosynchronize hello a helyszíni Active Directory-példányban.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-129">toosynchronize your password, Azure AD Connect sync extracts your password hash from hello on-premises Active Directory instance.</span></span> <span data-ttu-id="c3d3a-130">További biztonsági feldolgozási alkalmazott toohello Jelszókivonat ahhoz, hogy szinkronizált toohello Azure Active Directory hitelesítési szolgáltatás.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-130">Extra security processing is applied toohello password hash before it is synchronized toohello Azure Active Directory authentication service.</span></span> <span data-ttu-id="c3d3a-131">Jelszavak szinkronizálódnak, felhasználónkénti alapon és időrendben sorolja fel.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-131">Passwords are synchronized on a per-user basis and in chronological order.</span></span>

<span data-ttu-id="c3d3a-132">tényleges adatfolyama hello hello jelszó-szinkronizálási folyamat a felhasználói adatok, például DisplayName vagy E-mail címekre hasonló toohello szinkronizálását.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-132">hello actual data flow of hello password synchronization process is similar toohello synchronization of user data such as DisplayName or Email Addresses.</span></span> <span data-ttu-id="c3d3a-133">Azonban a jelszavak szinkronizálódnak gyakrabban hello szabványos directory szinkronizálási időszak egyéb attribútumai.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-133">However, passwords are synchronized more frequently than hello standard directory synchronization window for other attributes.</span></span> <span data-ttu-id="c3d3a-134">jelszó-szinkronizálási folyamat hello 2 percenként fut.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-134">hello password synchronization process runs every 2 minutes.</span></span> <span data-ttu-id="c3d3a-135">Ez a folyamat gyakoriságának hello nem módosítható.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-135">You cannot modify hello frequency of this process.</span></span> <span data-ttu-id="c3d3a-136">A jelszó szinkronizálása során hello meglévő felhőalapú jelszó felülírja.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-136">When you synchronize a password, it overwrites hello existing cloud password.</span></span>

<span data-ttu-id="c3d3a-137">hello első alkalommal engedélyezi a hello jelszó-szinkronizálási szolgáltatás, akkor végrehajt egy kezdeti szinkronizálást hello jelszavak az összes hatókör felhasználót.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-137">hello first time you enable hello password synchronization feature, it performs an initial synchronization of hello passwords of all in-scope users.</span></span> <span data-ttu-id="c3d3a-138">Felhasználói jelszavak, amelyet az toosynchronize egy részét nem definiálhat explicit módon.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-138">You cannot explicitly define a subset of user passwords that you want toosynchronize.</span></span>

<span data-ttu-id="c3d3a-139">A helyszíni jelszó módosítása frissített hello jelszó legyenek szinkronizálva, általában a percek.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-139">When you change an on-premises password, hello updated password is synchronized, most often in a matter of minutes.</span></span>
<span data-ttu-id="c3d3a-140">jelszó-szinkronizálási szolgáltatás hello automatikusan újrapróbálkozik a sikertelen szinkronizálás kísérletek.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-140">hello password synchronization feature automatically retries failed synchronization attempts.</span></span> <span data-ttu-id="c3d3a-141">Ha a hiba akkor fordul elő, egy kísérlet toosynchronize során egy jelszót, hiba történt az Eseménynapló van bejelentkezve.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-141">If an error occurs during an attempt toosynchronize a password, an error is logged in your event viewer.</span></span>

<span data-ttu-id="c3d3a-142">hello szinkronizálási jelszó ne legyen hatással hello aktuálisan bejelentkezett felhasználó rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-142">hello synchronization of a password has no impact on hello user  who is currently signed in.</span></span>
<span data-ttu-id="c3d3a-143">A felhőalapú szolgáltatás jelenlegi munkamenet azonnal nem érinti a szinkronizált jelszómódosítás, amely akkor fordul elő, amikor be van jelentkezve tooa felhőszolgáltatásban.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-143">Your current cloud service session is not immediately affected by a synchronized password change that occurs while you are signed in tooa cloud service.</span></span> <span data-ttu-id="c3d3a-144">Azonban ha hello felhőszolgáltatás igényel tooauthenticate újra, meg kell tooprovide az új jelszót.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-144">However, when hello cloud service requires you tooauthenticate again, you need tooprovide your new password.</span></span>

<span data-ttu-id="c3d3a-145">A felhasználó egy második idő tooauthenticate tooAzure AD, függetlenül attól, hogy azok van bejelentkezve tootheir vállalati hálózaton kell adnia a vállalati hitelesítő adataikkal.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-145">A user must enter their corporate credentials a second time tooauthenticate tooAzure AD, regardless of whether they're signed in tootheir corporate network.</span></span> <span data-ttu-id="c3d3a-146">A minta minimalizálható, azonban ha hello felhasználó hello megtartása me aláírt választ jel (KMSI) jelölőnégyzetet.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-146">These pattern can be minimized, however, if hello user selects hello Keep me signed in (KMSI) check box at sign in.</span></span> <span data-ttu-id="c3d3a-147">Ez a beállítás egy rövid ideig hitelesítési megkerüli munkamenetcookie-t állítja be.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-147">This selection sets a session cookie that bypasses authentication for a short period.</span></span> <span data-ttu-id="c3d3a-148">KMSI viselkedés engedélyezhető vagy hello Azure AD-rendszergazda letiltotta.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-148">KMSI behavior can be enabled or disabled by hello Azure AD administrator.</span></span>

> [!NOTE]
> <span data-ttu-id="c3d3a-149">A jelszó-szinkronizálás csak támogatott hello objektum típusa felhasználóhoz az Active Directoryban.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-149">Password sync is only supported for hello object type user in Active Directory.</span></span> <span data-ttu-id="c3d3a-150">Hello iNetOrgPerson objektumtípus nem támogatott.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-150">It is not supported for hello iNetOrgPerson object type.</span></span>

### <a name="detailed-description-of-how-password-synchronization-works"></a><span data-ttu-id="c3d3a-151">Jelszó-szinkronizálás részletes leírása</span><span class="sxs-lookup"><span data-stu-id="c3d3a-151">Detailed description of how password synchronization works</span></span>
<span data-ttu-id="c3d3a-152">hello következő részletes jelszó-szinkronizálás működését ismerteti az Active Directory és az Azure AD között.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-152">hello following describes in-depth how password synchronization works between Active Directory and Azure AD.</span></span>

![A jelszó részletes folyamata](./media/active-directory-aadconnectsync-implement-password-synchronization/arch3.png)


1. <span data-ttu-id="c3d3a-154">Két percenként hello jelszó-szinkronizálási ügynök hello AD Connect-kiszolgáló a kérelmek tárolt jelszókivonatainak (hello unicodePwd attribútum) keresztül szabványos hello tartományvezérlőt [MS-DRSR](https://msdn.microsoft.com/library/cc228086.aspx) replikációs protokollt használja toosynchronize adatok közötti tartományvezérlők.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-154">Every two minutes, hello password synchronization agent on hello AD Connect server requests stored password hashes (hello unicodePwd attribute) from a DC via hello standard [MS-DRSR](https://msdn.microsoft.com/library/cc228086.aspx) replication protocol used toosynchronize data between DCs.</span></span> <span data-ttu-id="c3d3a-155">hello szolgáltatásfiók Directory változások replikálása és replikálja könyvtár az összes AD jogosultságaitól (alapértelmezés szerint a telepítési) tooobtain hello jelszókivonatait kell rendelkeznie.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-155">hello service account must have Replicate Directory Changes and Replicate Directory Changes All AD permissions (granted by default on installation) tooobtain hello password hashes.</span></span>
2. <span data-ttu-id="c3d3a-156">Küldés előtt, hello DC hello MD4 Jelszókivonat titkosítja a kulccsal, amely egy [MD5](http://www.rfc-editor.org/rfc/rfc1321.txt) hello RPC bejelentkezésimunkamenet-kulcsot és az egy kivonatát.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-156">Before sending, hello DC encrypts hello MD4 password hash by using a key that is a [MD5](http://www.rfc-editor.org/rfc/rfc1321.txt) hash of hello RPC session key and a salt.</span></span> <span data-ttu-id="c3d3a-157">RPC-n keresztül küldi hello eredmény toohello jelszó-szinkronizálási ügynök majd.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-157">It then sends hello result toohello password synchronization agent over RPC.</span></span> <span data-ttu-id="c3d3a-158">hello DC is ad hello védőérték toohello szinkronizálási ügynök protokollal hello DC replikációs, ezért a hello ügynök során képes toodecrypt hello boríték.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-158">hello DC also passes hello salt toohello synchronization agent by using hello DC replication protocol, so hello agent will be able toodecrypt hello envelope.</span></span>
3.  <span data-ttu-id="c3d3a-159">Miután hello jelszó-szinkronizálási ügynök hello titkosított boríték rendelkezik, használja [MD5CryptoServiceProvider](https://msdn.microsoft.com/library/System.Security.Cryptography.MD5CryptoServiceProvider.aspx) és védőérték toogenerate kulcs toodecrypt kapott hello hátsó tooits eredeti MD4 adatformátum hello.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-159">After hello password synchronization agent has hello encrypted envelope, it uses [MD5CryptoServiceProvider](https://msdn.microsoft.com/library/System.Security.Cryptography.MD5CryptoServiceProvider.aspx) and hello salt toogenerate a key toodecrypt hello received data back tooits original MD4 format.</span></span> <span data-ttu-id="c3d3a-160">Hello jelszó-szinkronizálási ügynök nem rendelkezik hozzáféréssel toohello tiszta szöveges jelszavak.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-160">At no point does hello password synchronization agent have access toohello clear text password.</span></span> <span data-ttu-id="c3d3a-161">hello jelszó-szinkronizálási ügynök által használt MD5 használatát szigorúan hello DC-replikáció protokoll való kompatibilitás, és csak a helyszíni hello tartományvezérlő és a jelszó-szinkronizálási ügynök hello között használja.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-161">hello password synchronization agent’s use of MD5 is strictly for replication protocol compatibility with hello DC, and it is only used on premises between hello DC and hello password synchronization agent.</span></span>
4.  <span data-ttu-id="c3d3a-162">jelszó-szinkronizálási ügynök hello majd UTF-16 kódolással bináris formátumra konvertálni a karakterláncot a biztonsági bővíti első formátumba való átalakítása hello kivonatoló tooa 32 bájtos hexadecimális karakterlánc, hello 16 bájtos bináris jelszó kivonatát too64 bájt.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-162">hello password synchronization agent expands hello 16-byte binary password hash too64 bytes by first converting hello hash tooa 32-byte hexadecimal string, then converting this string back into binary with UTF-16 encoding.</span></span>
5.  <span data-ttu-id="c3d3a-163">jelszó-szinkronizálási ügynök hello hozzáadja a védőérték egy 10 bájtos hossza védőérték álló, toohello 64 bájtos bináris toofurther védelme hello eredeti kivonatát.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-163">hello password synchronization agent adds a salt, consisting of a 10-byte length salt, toohello 64-byte binary toofurther protect hello original hash.</span></span>
6.  <span data-ttu-id="c3d3a-164">jelszó-szinkronizálási ügynök hello majd hello MD4 kivonatoló plus védőérték egyesíti, és be hello a bemeneti [PBKDF2](https://www.ietf.org/rfc/rfc2898.txt) függvény.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-164">hello password synchronization agent then combines hello MD4 hash plus salt, and inputs it into hello [PBKDF2](https://www.ietf.org/rfc/rfc2898.txt) function.</span></span> <span data-ttu-id="c3d3a-165">hello 1000 ismétlésének [HMAC-SHA256](https://msdn.microsoft.com/library/system.security.cryptography.hmacsha256.aspx) létre kivonatoló algoritmust használnak.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-165">1000 iterations of hello [HMAC-SHA256](https://msdn.microsoft.com/library/system.security.cryptography.hmacsha256.aspx) keyed hashing algorithm is used.</span></span> 
7.  <span data-ttu-id="c3d3a-166">hello jelszó-szinkronizálási ügynök hello eredményül kapott 32 bájtos kivonatoló vesz igénybe, mindkét hello védőérték összefűzi és hello SHA256 ismétlési tooit (az Azure ad használatára) száma, majd hello karakterlánc az Azure AD Connect tooAzure AD SSL-en keresztül továbbítja.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-166">hello password synchronization agent takes hello resulting 32-byte hash, concatenates both hello salt and hello number of SHA256 iterations tooit (for use by Azure AD), then transmits hello string from Azure AD Connect tooAzure AD over SSL.</span></span></br> 
8.  <span data-ttu-id="c3d3a-167">Amikor egy felhasználó megpróbál toosign a tooAzure AD, és beírja a jelszavát, hello jelszó hello végigfuttatása azonos MD4 + védőérték + PBKDF2 + HMAC-SHA256 folyamat.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-167">When a user attempts toosign in tooAzure AD and enters their password, hello password is run through hello same MD4+salt+PBKDF2+HMAC-SHA256 process.</span></span> <span data-ttu-id="c3d3a-168">Ha hello eredményül kapott kivonatoló megegyezik az Azure ad-ben tárolt hello kivonat, a hello felhasználói lépett hello helyes jelszót, és hitelesítése.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-168">If hello resulting hash matches hello hash stored in Azure AD, hello user has entered hello correct password and is authenticated.</span></span> 

>[!Note] 
><span data-ttu-id="c3d3a-169">hello eredeti MD4 kivonatoló nincs átvitt tooAzure AD.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-169">hello original MD4 hash is not transmitted tooAzure AD.</span></span> <span data-ttu-id="c3d3a-170">Ehelyett átkerülnek a hello hello eredeti MD4 kivonatoló SHA256-kivonata.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-170">Instead, hello SHA256 hash of hello original MD4 hash is transmitted.</span></span> <span data-ttu-id="c3d3a-171">Ennek eredményeképpen az Azure ad-ben tárolt hello kivonatoló kapjuk meg, ha azt nem használható az helyszíni a pass-the-hash támadások.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-171">As a result, if hello hash stored in Azure AD is obtained, it cannot be used in an on-premises pass-the-hash attack.</span></span>

### <a name="how-password-synchronization-works-with-azure-active-directory-domain-services"></a><span data-ttu-id="c3d3a-172">Jelszó-szinkronizálás az Azure Active Directory tartományi szolgáltatások használata</span><span class="sxs-lookup"><span data-stu-id="c3d3a-172">How password synchronization works with Azure Active Directory Domain Services</span></span>
<span data-ttu-id="c3d3a-173">Is használhatja hello jelszó-szinkronizálás szolgáltatás toosynchronize a helyszíni jelszavak túl[Azure Active Directory tartományi szolgáltatások](../../active-directory-domain-services/active-directory-ds-overview.md).</span><span class="sxs-lookup"><span data-stu-id="c3d3a-173">You can also use hello password synchronization feature toosynchronize your on-premises passwords too[Azure Active Directory Domain Services](../../active-directory-domain-services/active-directory-ds-overview.md).</span></span> <span data-ttu-id="c3d3a-174">Ebben a forgatókönyvben hello Azure Active Directory tartományi szolgáltatások példány hitelesíti a felhasználók hello felhő minden hello módszer áll rendelkezésre, a helyszíni Active Directory-példányban.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-174">In this scenario, hello Azure Active Directory Domain Services instance authenticates your users in hello cloud with all hello methods available in your on-premises Active Directory instance.</span></span> <span data-ttu-id="c3d3a-175">Ebben a forgatókönyvben hello élménye hasonló toousing hello Active Directory áttelepítési eszköz (ADMT) helyszíni környezetben.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-175">hello experience of this scenario is similar toousing hello Active Directory Migration Tool (ADMT) in an on-premises environment.</span></span>

### <a name="security-considerations"></a><span data-ttu-id="c3d3a-176">Biztonsági szempontok</span><span class="sxs-lookup"><span data-stu-id="c3d3a-176">Security considerations</span></span>
<span data-ttu-id="c3d3a-177">Ha a jelszó-szinkronizálás, hello egyszerű szöveges a jelszó verziója nem jelszó-szinkronizálási szolgáltatás elérhetőségi toohello, tooAzure AD vagy hello társított szolgáltatások.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-177">When synchronizing passwords, hello plain-text version of your password is not exposed toohello password synchronization feature, tooAzure AD, or any of hello associated services.</span></span>

<span data-ttu-id="c3d3a-178">Felhasználóhitelesítés akkor történik meg az Azure AD ellen, nem pedig elleni hello szervezete saját Active Directory-példányban.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-178">User authentication takes place against Azure AD rather than against hello organization's own Active Directory instance.</span></span> <span data-ttu-id="c3d3a-179">Ha a szervezete helyszíni hello, javasoljuk, hogy a hello tényt, hogy SHA-256 jelszó adataihoz az Azure ad-ben – hello elhagyása űrlapok jelszó adatai kétségei a hello eredeti MD4 kivonatoló--kivonata jóval biztonságosabb Mi az Active Directoryban tárolja.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-179">If your organization has concerns about password data in any form leaving hello premises, consider hello fact that hello SHA256 password data stored in Azure AD--a hash of hello original MD4 hash--is significantly more secure than what is stored in Active Directory.</span></span> <span data-ttu-id="c3d3a-180">További az SHA256-kivonata nem fejthető vissza, mert az nem lehet teszik vissza toohello szervezet Active Directory-környezet és mutatják be, a pass-the-hash támadások érvényes felhasználói jelszó.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-180">Further, because this SHA256 hash cannot be decrypted, it cannot be brought back toohello organization's Active Directory environment and presented as a valid user password in a pass-the-hash attack.</span></span>





### <a name="password-policy-considerations"></a><span data-ttu-id="c3d3a-181">Jelszó házirenddel kapcsolatos megfontolások</span><span class="sxs-lookup"><span data-stu-id="c3d3a-181">Password policy considerations</span></span>
<span data-ttu-id="c3d3a-182">A jelszó-szinkronizálás engedélyezése által érintett jelszóházirendek két típusa van:</span><span class="sxs-lookup"><span data-stu-id="c3d3a-182">There are two types of password policies that are affected by enabling password synchronization:</span></span>

* <span data-ttu-id="c3d3a-183">Jelszó bonyolultságára vonatkozó házirendet</span><span class="sxs-lookup"><span data-stu-id="c3d3a-183">Password complexity policy</span></span>
* <span data-ttu-id="c3d3a-184">Jelszó-elévülési szabályzatának</span><span class="sxs-lookup"><span data-stu-id="c3d3a-184">Password expiration policy</span></span>

#### <a name="password-complexity-policy"></a><span data-ttu-id="c3d3a-185">Jelszó bonyolultságára vonatkozó házirendet</span><span class="sxs-lookup"><span data-stu-id="c3d3a-185">Password complexity policy</span></span>  
<span data-ttu-id="c3d3a-186">Ha a jelszó-szinkronizálás engedélyezve van, hello jelszó összetettségét házirendek a helyszíni Active Directory-példányban összetettsége házirendek segítségével a szinkronizált felhasználók hello felhő bírálja felül.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-186">When password synchronization is enabled, hello password complexity policies in your on-premises Active Directory instance override complexity policies in hello cloud for synchronized users.</span></span> <span data-ttu-id="c3d3a-187">A helyszíni Active Directory példány tooaccess Azure AD szolgáltatásokba minden hello érvényes jelszavak használhatja.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-187">You can use all of hello valid passwords from your on-premises Active Directory instance tooaccess Azure AD services.</span></span>

> [!NOTE]
> <span data-ttu-id="c3d3a-188">A felhasználók közvetlenül a hello felhő létrehozott jelszavakat még tulajdonos toopassword házirendek a hello felhő.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-188">Passwords for users that are created directly in hello cloud are still subject toopassword policies as defined in hello cloud.</span></span>

#### <a name="password-expiration-policy"></a><span data-ttu-id="c3d3a-189">Jelszó-elévülési szabályzatának</span><span class="sxs-lookup"><span data-stu-id="c3d3a-189">Password expiration policy</span></span>  
<span data-ttu-id="c3d3a-190">Ha egy felhasználó a jelszó-szinkronizálás hello hatókörében, hello felhő fiók jelszava túl van-e állítva*nem jár le*.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-190">If a user is in hello scope of password synchronization, hello cloud account password is set too*Never Expire*.</span></span>

<span data-ttu-id="c3d3a-191">Toosign elérhető tooyour felhőszolgáltatások kattintva folytathatja a helyszíni környezetben lejárt szinkronizált jelszavakat.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-191">You can continue toosign in tooyour cloud services by using a synchronized password that is expired in your on-premises environment.</span></span> <span data-ttu-id="c3d3a-192">A felhő jelszó frissül hello legközelebb hello jelszó hello a helyszíni környezet módosítása.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-192">Your cloud password is updated hello next time you change hello password in hello on-premises environment.</span></span>

#### <a name="account-expiration"></a><span data-ttu-id="c3d3a-193">Fiók lejárati</span><span class="sxs-lookup"><span data-stu-id="c3d3a-193">Account expiration</span></span>
<span data-ttu-id="c3d3a-194">Ha a szervezet hello accountExpires attribútum felhasználóifiók-kezelés részeként használ, vegye figyelembe, hogy ez az attribútum nincs szinkronizált tooAzure AD.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-194">If your organization uses hello accountExpires attribute as part of user account management, be aware that this attribute is not synchronized tooAzure AD.</span></span> <span data-ttu-id="c3d3a-195">Emiatt egy olyan környezetben, a jelszó-szinkronizálás beállítása lejárt Active Directory-fiókkal marad aktív az Azure ad-ben.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-195">As a result, an expired Active Directory account in an environment configured for password synchronization will still be active in Azure AD.</span></span> <span data-ttu-id="c3d3a-196">Azt javasoljuk, hogy ha hello fiók lejárt, a munkafolyamat-művelet indíthat el egy PowerShell-parancsfájlt, amely letiltja a hello felhasználói Azure AD-fiókot.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-196">We recommend that if hello account is expired, a workflow action should trigger a PowerShell script that disables hello user's Azure AD account.</span></span> <span data-ttu-id="c3d3a-197">Ezzel szemben ha hello fiók be van kapcsolva, hello Azure AD-példányhoz be kell kapcsolni.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-197">Conversely, when hello account is turned on, hello Azure AD instance should be turned on.</span></span>

### <a name="overwrite-synchronized-passwords"></a><span data-ttu-id="c3d3a-198">Szinkronizált jelszavakat felülírása</span><span class="sxs-lookup"><span data-stu-id="c3d3a-198">Overwrite synchronized passwords</span></span>
<span data-ttu-id="c3d3a-199">A rendszergazda Windows PowerShell használatával manuálisan új jelszó.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-199">An administrator can manually reset your password by using Windows PowerShell.</span></span>

<span data-ttu-id="c3d3a-200">Ebben az esetben hello új jelszó felülbírálja a szinkronizált jelszavát, és hello felhő definiált összes jelszóházirendet alkalmazott toohello új jelszót.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-200">In this case, hello new password overrides your synchronized password, and all password policies defined in hello cloud are applied toohello new password.</span></span>

<span data-ttu-id="c3d3a-201">Ha újra módosítja a helyszíni jelszavát, hello új jelszó van-e toohello felhő szinkronizálja, és felülírja a manuálisan frissített hello jelszót.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-201">If you change your on-premises password again, hello new password is synchronized toohello cloud, and it overrides hello manually updated password.</span></span>

<span data-ttu-id="c3d3a-202">hello szinkronizálási jelszó ne legyen hatással hello Azure van bejelentkezett felhasználó rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-202">hello synchronization of a password has no impact on hello Azure user who is signed in.</span></span> <span data-ttu-id="c3d3a-203">A felhőalapú szolgáltatás jelenlegi munkamenet azonnal nem érinti a szinkronizált jelszómódosítás, amely akkor fordul elő, miközben be van jelentkezve tooa felhőalapú szolgáltatás.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-203">Your current cloud service session is not immediately affected by a synchronized password change that occurs while you're signed in tooa cloud service.</span></span> <span data-ttu-id="c3d3a-204">KMSI terjeszti ki ezt a különbséget hello időtartama.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-204">KMSI extends hello duration of this difference.</span></span> <span data-ttu-id="c3d3a-205">Hello felhőszolgáltatás igényel tooauthenticate újra, úgy kell tooprovide az új jelszót.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-205">When hello cloud service requires you tooauthenticate again, you need tooprovide your new password.</span></span>

### <a name="additional-advantages"></a><span data-ttu-id="c3d3a-206">További előnyei</span><span class="sxs-lookup"><span data-stu-id="c3d3a-206">Additional advantages</span></span>

- <span data-ttu-id="c3d3a-207">A jelszó-szinkronizálás általában egyszerűbb, mint egy összevonási szolgáltatás tooimplement.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-207">Generally, password synchronization is simpler tooimplement than a federation service.</span></span> <span data-ttu-id="c3d3a-208">Nincs szükség semmilyen további kiszolgálókat, és megszünteti a magas rendelkezésre állású összevonási szolgáltatás tooauthenticate felhasználók függés.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-208">It doesn't require any additional servers, and eliminates dependence on a highly available federation service tooauthenticate users.</span></span> 
- <span data-ttu-id="c3d3a-209">A jelszó-szinkronizálás hozzáadása toofederation is engedélyezhető.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-209">Password synchronization can also be enabled in addition toofederation.</span></span> <span data-ttu-id="c3d3a-210">Azt is használható tartalékként Ha az összevonási szolgáltatás kimaradás.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-210">It may be used as a fallback if your federation service experiences an outage.</span></span>












## <a name="enable-password-synchronization"></a><span data-ttu-id="c3d3a-211">Jelszó-szinkronizálás engedélyezése</span><span class="sxs-lookup"><span data-stu-id="c3d3a-211">Enable password synchronization</span></span>
<span data-ttu-id="c3d3a-212">Ha telepíti az Azure AD Connect hello segítségével **Gyorsbeállítások** , jelszó-szinkronizálás automatikusan engedélyezve van.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-212">When you install Azure AD Connect by using hello **Express Settings** option, password synchronization is automatically enabled.</span></span> <span data-ttu-id="c3d3a-213">További részletekért lásd: [Ismerkedés az Azure AD Connect a gyorsbeállításokkal](active-directory-aadconnect-get-started-express.md).</span><span class="sxs-lookup"><span data-stu-id="c3d3a-213">For more details, see [Getting started with Azure AD Connect using express settings](active-directory-aadconnect-get-started-express.md).</span></span>

<span data-ttu-id="c3d3a-214">Ha az Azure AD Connect telepítése egyéni beállításokat használja, ha hello felhasználói bejelentkezési oldala a jelszó-szinkronizálás érhető el.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-214">If you use custom settings when you install Azure AD Connect, password synchronization is available on hello user sign-in page.</span></span> <span data-ttu-id="c3d3a-215">További részletekért lásd: [az Azure AD Connect egyéni telepítési](active-directory-aadconnect-get-started-custom.md).</span><span class="sxs-lookup"><span data-stu-id="c3d3a-215">For more details, see [Custom installation of Azure AD Connect](active-directory-aadconnect-get-started-custom.md).</span></span>

![A jelszó-szinkronizálás engedélyezése](./media/active-directory-aadconnectsync-implement-password-synchronization/usersignin.png)

### <a name="password-synchronization-and-fips"></a><span data-ttu-id="c3d3a-217">A jelszó-szinkronizálás és a FIPS</span><span class="sxs-lookup"><span data-stu-id="c3d3a-217">Password synchronization and FIPS</span></span>
<span data-ttu-id="c3d3a-218">Ha a kiszolgáló zárolva lett tooFederal Information Processing Standard (FIPS) alapján történik, MD5 is le van tiltva.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-218">If your server has been locked down according tooFederal Information Processing Standard (FIPS), then MD5 is disabled.</span></span>

<span data-ttu-id="c3d3a-219">**a jelszó-szinkronizáláshoz MD5 tooenable hajtsa végre a lépéseket követve hello:**</span><span class="sxs-lookup"><span data-stu-id="c3d3a-219">**tooenable MD5 for password synchronization, perform hello following steps:**</span></span>

1. <span data-ttu-id="c3d3a-220">Nyissa meg az AD too%programfiles%\Azure Sync\Bin.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-220">Go too%programfiles%\Azure AD Sync\Bin.</span></span>
2. <span data-ttu-id="c3d3a-221">Nyissa meg a miiserver.exe.config.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-221">Open miiserver.exe.config.</span></span>
3. <span data-ttu-id="c3d3a-222">Nyissa meg toohello konfigurációs/runtime csomópontot hello fájl hello végén.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-222">Go toohello configuration/runtime node at hello end of hello file.</span></span>
4. <span data-ttu-id="c3d3a-223">Adja hozzá a következő csomópont hello:`<enforceFIPSPolicy enabled="false"/>`</span><span class="sxs-lookup"><span data-stu-id="c3d3a-223">Add hello following node: `<enforceFIPSPolicy enabled="false"/>`</span></span>
5. <span data-ttu-id="c3d3a-224">Mentse a módosításokat.</span><span class="sxs-lookup"><span data-stu-id="c3d3a-224">Save your changes.</span></span>

<span data-ttu-id="c3d3a-225">Összehasonlításul a részlet, mi azt kell hasonlítania:</span><span class="sxs-lookup"><span data-stu-id="c3d3a-225">For reference, this snippet is what it should look like:</span></span>

```
    <configuration>
        <runtime>
            <enforceFIPSPolicy enabled="false"/>
        </runtime>
    </configuration>
```

<span data-ttu-id="c3d3a-226">További információ a biztonsági és FIPS: [AAD jelszó-szinkronizálás, a titkosítás és a FIPS megfelelőségi](https://blogs.technet.microsoft.com/enterprisemobility/2014/06/28/aad-password-sync-encryption-and-fips-compliance/).</span><span class="sxs-lookup"><span data-stu-id="c3d3a-226">For information about security and FIPS, see [AAD Password Sync, encryption and FIPS compliance](https://blogs.technet.microsoft.com/enterprisemobility/2014/06/28/aad-password-sync-encryption-and-fips-compliance/).</span></span>

## <a name="troubleshoot-password-synchronization"></a><span data-ttu-id="c3d3a-227">Jelszó-szinkronizálás hibaelhárítása</span><span class="sxs-lookup"><span data-stu-id="c3d3a-227">Troubleshoot password synchronization</span></span>
<span data-ttu-id="c3d3a-228">Ha problémába ütközik a jelszó-szinkronizálás, lásd: [jelszó-szinkronizálás hibaelhárítása](active-directory-aadconnectsync-troubleshoot-password-synchronization.md).</span><span class="sxs-lookup"><span data-stu-id="c3d3a-228">If you have problems with password synchronization, see [Troubleshoot password synchronization](active-directory-aadconnectsync-troubleshoot-password-synchronization.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="c3d3a-229">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="c3d3a-229">Next steps</span></span>
* [<span data-ttu-id="c3d3a-230">Azure AD Connect szinkronizálása: szinkronizálási beállítások testreszabása</span><span class="sxs-lookup"><span data-stu-id="c3d3a-230">Azure AD Connect sync: Customizing synchronization options</span></span>](active-directory-aadconnectsync-whatis.md)
* [<span data-ttu-id="c3d3a-231">Helyszíni identitások integrálása az Azure Active Directoryval</span><span class="sxs-lookup"><span data-stu-id="c3d3a-231">Integrating your on-premises identities with Azure Active Directory</span></span>](active-directory-aadconnect.md)
