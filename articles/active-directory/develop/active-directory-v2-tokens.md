---
title: Az Azure Active Directory v2.0 jogkivonatok referencia |} Microsoft Docs
description: "A jogkivonatok és jogcímek különböző típusairól a Azure AD v2.0-végpontra által kibocsátott"
services: active-directory
documentationcenter: 
author: dstrockis
manager: mbaldwin
editor: 
ms.assetid: dc58c282-9684-4b38-b151-f3e079f034fd
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/07/2017
ms.author: dastrock
ms.custom: aaddev
ms.openlocfilehash: a3611a239fe044cf1b953220a6e96b0e101f47a4
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 07/11/2017
---
# <a name="azure-active-directory-v20-tokens-reference"></a><span data-ttu-id="3cd6f-103">Az Azure Active Directory v2.0 jogkivonatok referenciái</span><span class="sxs-lookup"><span data-stu-id="3cd6f-103">Azure Active Directory v2.0 tokens reference</span></span>
<span data-ttu-id="3cd6f-104">Az Azure Active Directory (Azure AD) v2.0-végponttól számos különböző típusú minden biztonsági jogkivonatokat bocsát ki [hitelesítési folyamat](active-directory-v2-flows.md).</span><span class="sxs-lookup"><span data-stu-id="3cd6f-104">The Azure Active Directory (Azure AD) v2.0 endpoint emits several types of security tokens in each [authentication flow](active-directory-v2-flows.md).</span></span> <span data-ttu-id="3cd6f-105">Ezt a hivatkozást a formátuma, a biztonsági jellemzőkkel és a különböző típusú lexikális elem tartalmát ismerteti.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-105">This reference describes the format, security characteristics, and contents of each type of token.</span></span>

> [!NOTE]
> <span data-ttu-id="3cd6f-106">A v2.0-végpontra nem támogatja az összes Azure Active Directory forgatókönyvek és funkciók.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-106">The v2.0 endpoint does not support all Azure Active Directory scenarios and features.</span></span> <span data-ttu-id="3cd6f-107">Annak megállapításához, hogy a v2.0-végponttal kell használnia, olvassa el [v2.0 korlátozások](active-directory-v2-limitations.md).</span><span class="sxs-lookup"><span data-stu-id="3cd6f-107">To determine whether you should use the v2.0 endpoint, read about [v2.0 limitations](active-directory-v2-limitations.md).</span></span>
>
>

## <a name="types-of-tokens"></a><span data-ttu-id="3cd6f-108">A jogkivonatok típusok</span><span class="sxs-lookup"><span data-stu-id="3cd6f-108">Types of tokens</span></span>
<span data-ttu-id="3cd6f-109">A v2.0-végpontra támogatja a [OAuth 2.0 protokoll](active-directory-v2-protocols.md), használó tokenek hozzáférési és frissítési jogkivonatok.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-109">The v2.0 endpoint supports the [OAuth 2.0 authorization protocol](active-directory-v2-protocols.md), which uses access tokens and refresh tokens.</span></span> <span data-ttu-id="3cd6f-110">A v2.0-végpontra is támogatja a hitelesítést és -bejelentkezés keresztül [OpenID Connect](active-directory-v2-protocols.md).</span><span class="sxs-lookup"><span data-stu-id="3cd6f-110">The v2.0 endpoint also supports authentication and sign-in via [OpenID Connect](active-directory-v2-protocols.md).</span></span> <span data-ttu-id="3cd6f-111">Egy harmadik típusú jogkivonatot, a Azonosítót jogkivonatban OpenID Connect vezet be.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-111">OpenID Connect introduces a third type of token, the ID token.</span></span> <span data-ttu-id="3cd6f-112">Ezeket a jogkivonatokat mindegyikének egy jelenik meg egy *tulajdonosi* token.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-112">Each of these tokens is represented as a *bearer* token.</span></span>

<span data-ttu-id="3cd6f-113">Egy tulajdonosi jogkivonatot egy egyszerűsített biztonsági jogkivonatot, amely védett erőforrásokhoz való hozzáférést a tulajdonosi.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-113">A bearer token is a lightweight security token that grants the bearer access to a protected resource.</span></span> <span data-ttu-id="3cd6f-114">A tulajdonosi, amely a token is jelenthet félre.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-114">The bearer is any party that can present the token.</span></span> <span data-ttu-id="3cd6f-115">Egy entitás fogadására a tulajdonosi jogkivonattal, Azure AD-val kell hitelesítenie, ha nem szükséges a jogkivonat biztonságos átvitel és a tárolás során, habár hozzá, és egy nem kívánt félnek használják.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-115">Although a party must authenticate with Azure AD to receive the bearer token, if steps are not taken to secure the token during transmission and storage, it can be intercepted and used by an unintended party.</span></span> <span data-ttu-id="3cd6f-116">Néhány biztonsági jogkivonatokat rendelkezik beépített eljárást, amely megakadályozhatja, hogy a nem hitelesített felek a őket, de tulajdonosi jogkivonatok azonban nem.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-116">Some security tokens have a built-in mechanism to prevent unauthorized parties from using them, but bearer tokens do not.</span></span> <span data-ttu-id="3cd6f-117">Tulajdonosi jogkivonatok kell szállítani, például a transport layer security (HTTPS) biztonságos csatornát.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-117">Bearer tokens must be transported in a secure channel such as transport layer security (HTTPS).</span></span> <span data-ttu-id="3cd6f-118">Ha egy tulajdonosi jogkivonatot az ilyen típusú biztonsági nélkül, egy rosszindulatú entitás használhatja a "-átjárójának támadás" jogkivonat, és a védett erőforrásokhoz való jogosulatlan hozzáférést használni.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-118">If a bearer token is transmitted without this type of security, a malicious party could use a "man-in-the-middle attack" to acquire the token and use it for unauthorized access to a protected resource.</span></span> <span data-ttu-id="3cd6f-119">Az azonos biztonsági elveket alkalmazza, ha a tárolást, vagy a gyorsítótárazás tulajdonosi jogkivonatok későbbi használatra.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-119">The same security principles apply when storing or caching bearer tokens for later use.</span></span> <span data-ttu-id="3cd6f-120">Mindig győződjön meg arról, hogy az alkalmazás biztonságos továbbítja a tulajdonosi jogkivonatok tárolja.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-120">Always ensure that your app securely transmits and stores bearer tokens.</span></span> <span data-ttu-id="3cd6f-121">Tulajdonosi jogkivonatok további biztonsági szempontjait, lásd: [RFC 6750 szakasz 5](http://tools.ietf.org/html/rfc6750).</span><span class="sxs-lookup"><span data-stu-id="3cd6f-121">For more security considerations for bearer tokens, see [RFC 6750 Section 5](http://tools.ietf.org/html/rfc6750).</span></span>

<span data-ttu-id="3cd6f-122">Nagy része a v2.0-végpontra által kiállított jogkivonatokat használják, mint a JSON Web Tokens (JWTs).</span><span class="sxs-lookup"><span data-stu-id="3cd6f-122">Many of the tokens issued by the v2.0 endpoint are implemented as JSON Web Tokens (JWTs).</span></span> <span data-ttu-id="3cd6f-123">A JWT módja a kompakt, a biztonságos URL-cím két fél közötti adatátvitelhez.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-123">A JWT is a compact, URL-safe way to transfer information between two parties.</span></span> <span data-ttu-id="3cd6f-124">A jwt-t információk nevezik egy *jogcím*.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-124">The information in a JWT is called a *claim*.</span></span> <span data-ttu-id="3cd6f-125">A tulajdonosi és a token tárgya egy helyességi feltétel is.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-125">It's an assertion of information about the bearer and subject of the token.</span></span> <span data-ttu-id="3cd6f-126">A rendszer kódolása, és a továbbításra szerializált JavaScript Object Notation (JSON) objektumokat a jogcímeket a jwt-t.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-126">The claims in a JWT are JavaScript Object Notation (JSON) objects that are encoded and serialized for transmission.</span></span> <span data-ttu-id="3cd6f-127">A kiállító a v2.0-végpontra JWTs aláírt, de nincs titkosítva, mert könnyen vizsgálhatja meg a jwt-t tartalmát hibakeresési célra.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-127">Because the JWTs issued by the v2.0 endpoint are signed but not encrypted, you can easily inspect the contents of a JWT for debugging purposes.</span></span> <span data-ttu-id="3cd6f-128">JWTs kapcsolatos további információkért tekintse meg a [JWT specification](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html).</span><span class="sxs-lookup"><span data-stu-id="3cd6f-128">For more information about JWTs, see the [JWT specification](http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html).</span></span>

### <a name="id-tokens"></a><span data-ttu-id="3cd6f-129">Azonosító-jogkivonatokat</span><span class="sxs-lookup"><span data-stu-id="3cd6f-129">ID tokens</span></span>
<span data-ttu-id="3cd6f-130">Egy azonosító tokent a bejelentkezési biztonsági jogkivonatot, amely az alkalmazás kapja meg, amikor használatával végez hitelesítést egy formája, amely [OpenID Connect](active-directory-v2-protocols.md).</span><span class="sxs-lookup"><span data-stu-id="3cd6f-130">An ID token is a form of sign-in security token that your app receives when it performs authentication by using [OpenID Connect](active-directory-v2-protocols.md).</span></span> <span data-ttu-id="3cd6f-131">Azonosító-jogkivonatokat helyettesítik [JWTs](#types-of-tokens), és jelentkezzen be a felhasználó az alkalmazás segítségével jogcímeket tartalmaznak.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-131">ID tokens are represented as [JWTs](#types-of-tokens), and they contain claims that you can use to sign the user in to your app.</span></span> <span data-ttu-id="3cd6f-132">A jogcímek egy Azonosítót jogkivonatban különböző módokon használhatja.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-132">You can use the claims in an ID token in various ways.</span></span> <span data-ttu-id="3cd6f-133">Általában a rendszergazdák azonosító-jogkivonatokat használják fiók információk megjelenítéséhez vagy egy alkalmazásban a hozzáférés-vezérlési döntéseket.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-133">Typically, admins use ID tokens to display account information or to make access control decisions in an app.</span></span> <span data-ttu-id="3cd6f-134">A v2.0-végpontra azonosító jogkivonatot, amely rendelkezik a jogcímeket, függetlenül attól, milyen típusú, amely a bejelentkezett felhasználó konzisztens csak egyféle típusú problémákkal.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-134">The v2.0 endpoint issues only one type of ID token, which has a consistent set of claims, regardless of the type of user that is signed in.</span></span> <span data-ttu-id="3cd6f-135">A formátum és azonosító-jogkivonatokat tartalmát ugyanazok a személyes Microsoft-fiókot használó felhasználók és a munkahelyi vagy iskolai fiókok.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-135">The format and content of ID tokens are the same for personal Microsoft account users and for work or school accounts.</span></span>

<span data-ttu-id="3cd6f-136">Jelenleg azonosító-jogkivonatokat írták alá, de nincs titkosítva.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-136">Currently, ID tokens are signed but not encrypted.</span></span> <span data-ttu-id="3cd6f-137">Ha az alkalmazás egy azonosító jogkivonatot kap, kell [az aláírás érvényesítése](#validating-tokens) a token hitelességének igazolásához és ellenőrizhesse néhány a token érvényességének igazolásához.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-137">When your app receives an ID token, it must [validate the signature](#validating-tokens) to prove the token's authenticity and validate a few claims in the token to prove its validity.</span></span> <span data-ttu-id="3cd6f-138">A jogcímek, az alkalmazás által érvényesített forgatókönyv követelményeitől függően eltérőek, de az alkalmazás kell végeznie néhány [közös jogcím érvényesítést](#validating-tokens) minden forgatókönyvben.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-138">The claims validated by an app vary depending on scenario requirements, but your app must perform some [common claim validations](#validating-tokens) in every scenario.</span></span>

<span data-ttu-id="3cd6f-139">Ad a jogcímek teljes körű részleteit a minta azonosító jogkivonat mellett a következő szakaszokban azonosító-jogkivonatokat.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-139">We give you the full details about claims in ID tokens in the following sections, in addition to a sample ID token.</span></span> <span data-ttu-id="3cd6f-140">Vegye figyelembe, hogy a jogcímek az azonosító-jogkivonatokat nem vissza meghatározott sorrendben.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-140">Note that claims in ID tokens are not returned in a specific order.</span></span> <span data-ttu-id="3cd6f-141">Emellett új jogcímeket is lehet bevezetni azonosító-jogkivonatokat bármikor.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-141">Also, new claims can be introduced into ID tokens at any time.</span></span> <span data-ttu-id="3cd6f-142">Az alkalmazás nem kell töréspont, ha új, új jogcímeket.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-142">Your app should not break when new claims are introduced.</span></span> <span data-ttu-id="3cd6f-143">Az alábbi lista tartalmazza az alkalmazás jelenleg is megbízhatóan értelmezhetők jogcímeket.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-143">The following list includes the claims that your app currently can reliably interpret.</span></span> <span data-ttu-id="3cd6f-144">További részletek találhatók a [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html).</span><span class="sxs-lookup"><span data-stu-id="3cd6f-144">You can find more details in the [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html).</span></span>

#### <a name="sample-id-token"></a><span data-ttu-id="3cd6f-145">Minta azonosító tokent</span><span class="sxs-lookup"><span data-stu-id="3cd6f-145">Sample ID token</span></span>
```
eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Ik1uQ19WWmNBVGZNNXBPWWlKSE1iYTlnb0VLWSJ9.eyJhdWQiOiI2NzMxZGU3Ni0xNGE2LTQ5YWUtOTdiYy02ZWJhNjkxNDM5MWUiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vYjk0MTk4MTgtMDlhZi00OWMyLWIwYzMtNjUzYWRjMWYzNzZlL3YyLjAiLCJpYXQiOjE0NTIyODUzMzEsIm5iZiI6MTQ1MjI4NTMzMSwiZXhwIjoxNDUyMjg5MjMxLCJuYW1lIjoiQmFiZSBSdXRoIiwibm9uY2UiOiIxMjM0NSIsIm9pZCI6ImExZGJkZGU4LWU0ZjktNDU3MS1hZDkzLTMwNTllMzc1MGQyMyIsInByZWZlcnJlZF91c2VybmFtZSI6InRoZWdyZWF0YmFtYmlub0BueXkub25taWNyb3NvZnQuY29tIiwic3ViIjoiTUY0Zi1nZ1dNRWppMTJLeW5KVU5RWnBoYVVUdkxjUXVnNWpkRjJubDAxUSIsInRpZCI6ImI5NDE5ODE4LTA5YWYtNDljMi1iMGMzLTY1M2FkYzFmMzc2ZSIsInZlciI6IjIuMCJ9.p_rYdrtJ1oCmgDBggNHB9O38KTnLCMGbMDODdirdmZbmJcTHiZDdtTc-hguu3krhbtOsoYM2HJeZM3Wsbp_YcfSKDY--X_NobMNsxbT7bqZHxDnA2jTMyrmt5v2EKUnEeVtSiJXyO3JWUq9R0dO-m4o9_8jGP6zHtR62zLaotTBYHmgeKpZgTFB9WtUq8DVdyMn_HSvQEfz-LWqckbcTwM_9RNKoGRVk38KChVJo4z5LkksYRarDo8QgQ7xEKmYmPvRr_I7gvM2bmlZQds2OeqWLB1NSNbFZqyFOCgYn3bAQ-nEQSKwBaA36jYGPOVG2r2Qv1uKcpSOxzxaQybzYpQ
```

> [!TIP]
> <span data-ttu-id="3cd6f-146">Az eljárás az, vizsgálja meg a minta azonosító jogkivonatában lévő jogcímeket, illessze be a minta azonosító jogkivonatot [calebb.net](http://calebb.net/).</span><span class="sxs-lookup"><span data-stu-id="3cd6f-146">For practice, to inspect the claims in the sample ID token, paste the sample ID token into [calebb.net](http://calebb.net/).</span></span>
>
>

#### <a name="claims-in-id-tokens"></a><span data-ttu-id="3cd6f-147">Azonosító-jogkivonatokat a jogcím</span><span class="sxs-lookup"><span data-stu-id="3cd6f-147">Claims in ID tokens</span></span>
| <span data-ttu-id="3cd6f-148">Név</span><span class="sxs-lookup"><span data-stu-id="3cd6f-148">Name</span></span> | <span data-ttu-id="3cd6f-149">Jogcím</span><span class="sxs-lookup"><span data-stu-id="3cd6f-149">Claim</span></span> | <span data-ttu-id="3cd6f-150">Példaérték</span><span class="sxs-lookup"><span data-stu-id="3cd6f-150">Example value</span></span> | <span data-ttu-id="3cd6f-151">Leírás</span><span class="sxs-lookup"><span data-stu-id="3cd6f-151">Description</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="3cd6f-152">Célközönség</span><span class="sxs-lookup"><span data-stu-id="3cd6f-152">audience</span></span> |`aud` |`6731de76-14a6-49ae-97bc-6eba6914391e` |<span data-ttu-id="3cd6f-153">A jogkivonat az illetékes címzett azonosítja.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-153">Identifies the intended recipient of the token.</span></span> <span data-ttu-id="3cd6f-154">Az azonosító-jogkivonatokat a célközönségét az alkalmazás a Microsoft alkalmazás regisztrációs portálon rendelt az alkalmazás alkalmazás-azonosító.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-154">In ID tokens, the audience is your app's Application ID, assigned to your app in the Microsoft Application Registration Portal.</span></span> <span data-ttu-id="3cd6f-155">Az alkalmazás kell ellenőrizni az értékét, és utasítsa el a jogkivonatot, ha az érték nem egyezik.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-155">Your app should validate this value, and reject the token if the value does not match.</span></span> |
| <span data-ttu-id="3cd6f-156">Kiállító</span><span class="sxs-lookup"><span data-stu-id="3cd6f-156">issuer</span></span> |`iss` |`https://login.microsoftonline.com/b9419818-09af-49c2-b0c3-653adc1f376e/v2.0 ` |<span data-ttu-id="3cd6f-157">Azonosítja a biztonságijogkivonat-szolgáltatás (STS) hoz létre, és a jogkivonatot, és az Azure AD-bérlőt, amelyben a felhasználó hitelesítési adja vissza.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-157">Identifies the security token service (STS) that constructs and returns the token, and the Azure AD tenant in which the user was authenticated.</span></span> <span data-ttu-id="3cd6f-158">Az alkalmazás érdemes ellenőrizni a kibocsátó jogcím győződjön meg arról, hogy a jogkivonat származik-e a v2.0-végponttól.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-158">Your app should validate the issuer claim to ensure that the token came from the v2.0 endpoint.</span></span> <span data-ttu-id="3cd6f-159">Azt is használjon a GUID része a jogcímszabályok bérlőinek, amelyeket az alkalmazás való bejelentkezés korlátozni.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-159">It also should use the GUID portion of the claim to restrict the set of tenants that can sign in to the app.</span></span> <span data-ttu-id="3cd6f-160">A GUID, amely azt jelzi, hogy a felhasználó Microsoft-fiók fogyasztói felhasználó `9188040d-6c67-4c5b-b112-36a304b66dad`.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-160">The GUID that indicates that the user is a consumer user from a Microsoft account is `9188040d-6c67-4c5b-b112-36a304b66dad`.</span></span> |
| <span data-ttu-id="3cd6f-161">Ki:</span><span class="sxs-lookup"><span data-stu-id="3cd6f-161">issued at</span></span> |`iat` |`1452285331` |<span data-ttu-id="3cd6f-162">Az idő, amelynél a jogkivonat adta ki, epoch időt jelöli.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-162">The time at which the token was issued, represented in epoch time.</span></span> |
| <span data-ttu-id="3cd6f-163">Lejárati idő</span><span class="sxs-lookup"><span data-stu-id="3cd6f-163">expiration time</span></span> |`exp` |`1452289231` |<span data-ttu-id="3cd6f-164">Az idő, ahol a token érvénytelen, válik epoch időt jelöli.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-164">The time at which the token becomes invalid, represented in epoch time.</span></span> <span data-ttu-id="3cd6f-165">Az alkalmazás által használandó ezt az igényt a jogkivonatok élettartama érvényességének ellenőrzésére.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-165">Your app should use this claim to verify the validity of the token lifetime.</span></span> |
| <span data-ttu-id="3cd6f-166">Hatálybalépési idő</span><span class="sxs-lookup"><span data-stu-id="3cd6f-166">not before</span></span> |`nbf` |`1452285331` |<span data-ttu-id="3cd6f-167">Az idő, amelynél a jogkivonat hatályba lép, epoch időt jelöli.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-167">The time at which the token becomes valid, represented in epoch time.</span></span> <span data-ttu-id="3cd6f-168">Ez megegyezik általában a kiállítási idő.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-168">It is usually the same as the issuance time.</span></span> <span data-ttu-id="3cd6f-169">Az alkalmazás által használandó ezt az igényt a jogkivonatok élettartama érvényességének ellenőrzésére.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-169">Your app should use this claim to verify the validity of the token lifetime.</span></span> |
| <span data-ttu-id="3cd6f-170">Verzió</span><span class="sxs-lookup"><span data-stu-id="3cd6f-170">version</span></span> |`ver` |`2.0` |<span data-ttu-id="3cd6f-171">Az azonosító jogkivonatot, az Azure AD által definiált verzióját.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-171">The version of the ID token, as defined by Azure AD.</span></span> <span data-ttu-id="3cd6f-172">A v2.0-végpontra értéke `2.0`.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-172">For the v2.0 endpoint, the value is `2.0`.</span></span> |
| <span data-ttu-id="3cd6f-173">Bérlő azonosítója</span><span class="sxs-lookup"><span data-stu-id="3cd6f-173">tenant ID</span></span> |`tid` |`b9419818-09af-49c2-b0c3-653adc1f376e` |<span data-ttu-id="3cd6f-174">Az, hogy a felhasználó az Azure AD-bérlő képviselő GUID.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-174">A GUID that represents the Azure AD tenant that the user is from.</span></span> <span data-ttu-id="3cd6f-175">A munkahelyi és iskolai fiókok a GUID-azonosító, amely a felhasználó tagja a szervezet nem módosítható bérlői azonosító.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-175">For work and school accounts, the GUID is the immutable tenant ID of the organization that the user belongs to.</span></span> <span data-ttu-id="3cd6f-176">A személyes fiókok értéke `9188040d-6c67-4c5b-b112-36a304b66dad`.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-176">For personal accounts, the value is `9188040d-6c67-4c5b-b112-36a304b66dad`.</span></span> <span data-ttu-id="3cd6f-177">A `profile` hatókör ezt az igényt fogadásához szükséges.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-177">The `profile` scope is required in order to receive this claim.</span></span> |
| <span data-ttu-id="3cd6f-178">Kód kivonata</span><span class="sxs-lookup"><span data-stu-id="3cd6f-178">code hash</span></span> |`c_hash` |`SGCPtt01wxwfgnYZy2VJtQ` |<span data-ttu-id="3cd6f-179">A kód kivonat csak akkor, ha a Azonosítót jogkivonatban kiadott OAuth 2.0 hitelesítési kóddal azonosító-jogkivonatokat szerepel.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-179">The code hash is included in ID tokens only when the ID token is issued with an OAuth 2.0 authorization code.</span></span> <span data-ttu-id="3cd6f-180">Az engedélyezési kód hitelességének használható.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-180">It can be used to validate the authenticity of an authorization code.</span></span> <span data-ttu-id="3cd6f-181">Ezen ellenőrzés végrehajtásával kapcsolatos részletekért lásd: a [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html).</span><span class="sxs-lookup"><span data-stu-id="3cd6f-181">For details about performing this validation, see the [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html).</span></span> |
| <span data-ttu-id="3cd6f-182">Hozzáférési jogkivonat kivonata</span><span class="sxs-lookup"><span data-stu-id="3cd6f-182">access token hash</span></span> |`at_hash` |`SGCPtt01wxwfgnYZy2VJtQ` |<span data-ttu-id="3cd6f-183">A hozzáférési token kivonatoló azonosító szerepel jogkivonatokat, csak ha az azonosító token kiadott olyan OAuth 2.0 hozzáférési jogkivonatot.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-183">The access token hash is included in ID tokens only when the ID token is issued with an OAuth 2.0 access token.</span></span> <span data-ttu-id="3cd6f-184">A hozzáférési token hitelességének használható.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-184">It can be used to validate the authenticity of an access token.</span></span> <span data-ttu-id="3cd6f-185">Ezen ellenőrzés végrehajtásával kapcsolatos részletekért lásd: a [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html).</span><span class="sxs-lookup"><span data-stu-id="3cd6f-185">For details about performing this validation, see the [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html).</span></span> |
| <span data-ttu-id="3cd6f-186">Nonce</span><span class="sxs-lookup"><span data-stu-id="3cd6f-186">nonce</span></span> |`nonce` |`12345` |<span data-ttu-id="3cd6f-187">Az egyszeri üzenet hitelesítési karakterláncok ismétlésének támadások kiküszöböléséhez stratégiát.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-187">The nonce is a strategy for mitigating token replay attacks.</span></span> <span data-ttu-id="3cd6f-188">Az alkalmazás megadhat egy nonce engedélyezési kérelmet használatával a `nonce` lekérdezési paraméter.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-188">Your app can specify a nonce in an authorization request by using the `nonce` query parameter.</span></span> <span data-ttu-id="3cd6f-189">Megadja a kérelemben szereplő érték is ki lesz adva a Azonosítót jogkivonatban `nonce` jogcím változtatás nélkül.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-189">The value you provide in the request is emitted in the ID token's `nonce` claim, unmodified.</span></span> <span data-ttu-id="3cd6f-190">Az alkalmazás ellenőrizheti, hogy az érték azt a kérelmet, amely összerendeli az alkalmazás munkamenet egyedi azonosítója jogkivonatok megadott értékkel.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-190">Your app can verify the value against the value it specified on the request, which associates the app's session with a specific ID token.</span></span> <span data-ttu-id="3cd6f-191">Az alkalmazás végre kell hajtania az ellenőrzés az azonosító jogkivonatok érvényesség-ellenőrzése során.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-191">Your app should perform this validation during the ID token validation process.</span></span> |
| <span data-ttu-id="3cd6f-192">név</span><span class="sxs-lookup"><span data-stu-id="3cd6f-192">name</span></span> |`name` |`Babe Ruth` |<span data-ttu-id="3cd6f-193">A jogcím nevét emberek számára olvasható érték, amely azonosítja a token tárgya biztosít.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-193">The name claim provides a human-readable value that identifies the subject of the token.</span></span> <span data-ttu-id="3cd6f-194">Az érték nem garantált egyedinek kell lennie, változtatható, és úgy van kialakítva, csak megjelenítési célra használható.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-194">The value is not guaranteed to be unique, it is mutable, and it's designed to be used only for display purposes.</span></span> <span data-ttu-id="3cd6f-195">A `profile` hatókör ezt az igényt fogadásához szükséges.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-195">The `profile` scope is required in order to receive this claim.</span></span> |
| <span data-ttu-id="3cd6f-196">E-mailek</span><span class="sxs-lookup"><span data-stu-id="3cd6f-196">email</span></span> |`email` |`thegreatbambino@nyy.onmicrosoft.com` |<span data-ttu-id="3cd6f-197">Ha létezik egy felhasználói fiókhoz tartozó elsődleges e-mail címe.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-197">The primary email address associated with the user account, if one exists.</span></span> <span data-ttu-id="3cd6f-198">Az érték változtatható és idővel változhatnak.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-198">Its value is mutable and might change over time.</span></span> <span data-ttu-id="3cd6f-199">A `email` hatókör ezt az igényt fogadásához szükséges.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-199">The `email` scope is required in order to receive this claim.</span></span> |
| <span data-ttu-id="3cd6f-200">előnyben részesített felhasználónév</span><span class="sxs-lookup"><span data-stu-id="3cd6f-200">preferred username</span></span> |`preferred_username` |`thegreatbambino@nyy.onmicrosoft.com` |<span data-ttu-id="3cd6f-201">Elsődleges felhasználóneve, amely a felhasználót a v2.0-végpontra jelöli.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-201">The primary username that represents the user in the v2.0 endpoint.</span></span> <span data-ttu-id="3cd6f-202">Ez lehet egy e-mail címet, telefonszámot vagy egy általános felhasználónév nélkül a megadott formátumban.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-202">It could be an email address, phone number, or a generic username without a specified format.</span></span> <span data-ttu-id="3cd6f-203">Az érték változtatható és idővel változhatnak.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-203">Its value is mutable and might change over time.</span></span> <span data-ttu-id="3cd6f-204">A `profile` hatókör ezt az igényt fogadásához szükséges.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-204">The `profile` scope is required in order to receive this claim.</span></span> |
| <span data-ttu-id="3cd6f-205">Tulajdonos</span><span class="sxs-lookup"><span data-stu-id="3cd6f-205">subject</span></span> |`sub` |`MF4f-ggWMEji12KynJUNQZphaUTvLcQug5jdF2nl01Q` | <span data-ttu-id="3cd6f-206">Arról, hogy mely a token állításokat információkat, például egy alkalmazás a felhasználó rendszerbiztonsági tag.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-206">The principal about which the token asserts information, such as the user of an app.</span></span> <span data-ttu-id="3cd6f-207">Ez az érték nem módosítható és nem lehet újbóli hozzárendelése és nem használja fel újra.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-207">This value is immutable and cannot be reassigned or reused.</span></span> <span data-ttu-id="3cd6f-208">Ellenőrzi a engedélyezési biztonságosan, például ha használja a tokent elért egy erőforrást használható, és egy adatbázistáblákban kulcs használható.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-208">It can be used to perform authorization checks safely, such as when the token is used to access a resource, and can be used as a key in database tables.</span></span> <span data-ttu-id="3cd6f-209">Mivel a tulajdonos mindig szerepel a jogkivonatokat, hogy az Azure AD-problémák, azt javasoljuk, ez az érték egy általános célú engedélyezési rendszerben.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-209">Because the subject is always present in the tokens that Azure AD issues, we recommend using this value in a general-purpose authorization system.</span></span> <span data-ttu-id="3cd6f-210">A tulajdonos, azonban egy páros azonosító - egyedi legyen egy adott alkalmazásra.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-210">The subject is, however, a pairwise identifier - it is unique to a particular application ID.</span></span>  <span data-ttu-id="3cd6f-211">Ezért ha egy felhasználó bejelentkezik a két különböző alkalmazások két különböző ügyfél-azonosító, az alkalmazások két eltérő értékek tartoznak a tulajdonos jogcím fog kapni.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-211">Therefore, if a single user signs into two different apps using two different client IDs, those apps will receive two different values for the subject claim.</span></span>  <span data-ttu-id="3cd6f-212">Ez lehet, hogy vagy a architektúra és adatvédelmi követelményeitől függően nem is kívánatos.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-212">This may or may not be desired depending on your architecture and privacy requirements.</span></span> |
| <span data-ttu-id="3cd6f-213">objektum azonosítója</span><span class="sxs-lookup"><span data-stu-id="3cd6f-213">object ID</span></span> |`oid` |`a1dbdde8-e4f9-4571-ad93-3059e3750d23` | <span data-ttu-id="3cd6f-214">A Microsoft identity rendszer ebben az esetben egy felhasználói fiókot az objektum nem módosítható azonosítója.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-214">The immutable identifier for an object in the Microsoft identity system, in this case, a user account.</span></span>  <span data-ttu-id="3cd6f-215">Azt is segítségével biztonságos és kulcsként az adatbázistáblákban levő engedélyezési ellenőrzéseket hajtanak végre.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-215">It can also be used to perform authorization checks safely and as a key in database tables.</span></span> <span data-ttu-id="3cd6f-216">Ezt az Azonosítót egyedileg azonosítja a felhasználó alkalmazásra – két különböző alkalmazások az azonos felhasználói bejelentkezés fog kapni a ugyanazt az értéket a `oid` jogcímek.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-216">This ID uniquely identifies the user across applications - two different applications signing in the same user will receive the same value in the `oid` claim.</span></span>  <span data-ttu-id="3cd6f-217">Ez azt jelenti, hogy használható Microsoft online szolgáltatások, például a Microsoft Graph lekérdezések létrehozásakor.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-217">This means that it can be used when making queries to Microsoft online services, such as the Microsoft Graph.</span></span>  <span data-ttu-id="3cd6f-218">A Microsoft Graph ezt az Azonosítót ad vissza a `id` tulajdonság egy adott felhasználói fiók.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-218">The Microsoft Graph will return this ID as the `id` property for a given user account.</span></span>  <span data-ttu-id="3cd6f-219">Mivel a `oid` lehetővé teszi, hogy a felhasználók, összefüggéseket több alkalmazást a `profile` hatókör ezt az igényt fogadásához szükséges.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-219">Because the `oid` allows multiple apps to correlate users, the `profile` scope is required in order to receive this claim.</span></span> <span data-ttu-id="3cd6f-220">Vegye figyelembe, hogy ha egy felhasználó több bérlő, a felhasználó fogja tartalmazni az egyes bérlők különböző Objektumazonosító - nek minősíti azokat külön fiókot annak ellenére, hogy a felhasználó bejelentkezik az egyes fiókokhoz azokkal a hitelesítő adatokkal.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-220">Note that if a single user exists in multiple tenants, the user will contain a different object ID in each tenant - they are considered different accounts, even though the user logs into each account with the same credentials.</span></span> |

### <a name="access-tokens"></a><span data-ttu-id="3cd6f-221">Hozzáférési jogkivonatok</span><span class="sxs-lookup"><span data-stu-id="3cd6f-221">Access tokens</span></span>
<span data-ttu-id="3cd6f-222">Jelenleg csak a Microsoft Services által igénybe vehető a v2.0-végpontra által kibocsátott jogkivonatot.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-222">Currently, access tokens issued by the v2.0 endpoint can be consumed only by Microsoft Services.</span></span> <span data-ttu-id="3cd6f-223">Az alkalmazások végrehajtani az érvényesítés vagy a hozzáférési jogkivonatok vizsgálata a jelenleg támogatott esetek bármelyike nem szükséges.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-223">Your apps shouldn't need to perform any validation or inspection of access tokens for any of the currently supported scenarios.</span></span> <span data-ttu-id="3cd6f-224">Hozzáférési jogkivonatok nem teljesen átlátszó, is kezelheti.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-224">You can treat access tokens as completely opaque.</span></span> <span data-ttu-id="3cd6f-225">Csak karakterláncok, amelyek az alkalmazás képes továbbadni a Microsoft a HTTP-kérelmek.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-225">They are just strings that your app can pass to Microsoft in HTTP requests.</span></span>

<span data-ttu-id="3cd6f-226">A v2.0-végpontra is bevezeti, a közeljövőben, az alkalmazás hozzáférési jogkivonatok az egyéb ügyfelektől fogadott képességét.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-226">In the near future, the v2.0 endpoint will introduce the ability for your app to receive access tokens from other clients.</span></span> <span data-ttu-id="3cd6f-227">Idő lejárta után a hivatkozás a témakörben található információk fog frissülni, hogy az alkalmazás hozzáférési jogkivonatok érvényesség-ellenőrzése és más hasonló feladatok elvégzéséhez szükséges információkkal.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-227">At that time, the information in this reference topic will be updated with the information that you need for your app to perform access token validation and other similar tasks.</span></span>

<span data-ttu-id="3cd6f-228">A v2.0-végpontra a kér le a hozzáférési tokent, ha a v2.0-végpontra is visszaadja a hozzáférési jogkivonat az alkalmazás használatára vonatkozó metaadatok.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-228">When you request an access token from the v2.0 endpoint, the v2.0 endpoint also returns metadata about the access token for your app to use.</span></span> <span data-ttu-id="3cd6f-229">Ezen információk közé tartozik a lejárat időpontjának a hozzáférési jogkivonat és a hatókörök, amelyek esetében érvényes.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-229">This information includes the expiry time of the access token and the scopes for which it is valid.</span></span> <span data-ttu-id="3cd6f-230">Az alkalmazás intelligens gyorsítótárazás hozzáférési jogkivonatok nem kell elemezni, nyissa meg a hozzáférési jogkivonat maga végrehajtásához ezeket a metaadatokat használja.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-230">Your app uses this metadata to perform intelligent caching of access tokens without having to parse open the access token itself.</span></span>

### <a name="refresh-tokens"></a><span data-ttu-id="3cd6f-231">Frissítési jogkivonatok</span><span class="sxs-lookup"><span data-stu-id="3cd6f-231">Refresh tokens</span></span>
<span data-ttu-id="3cd6f-232">Frissítési jogkivonatok olyan biztonsági jogkivonatok, amelyek az alkalmazás új hozzáférési jogkivonatok lekérni az OAuth 2.0 folyamatból.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-232">Refresh tokens are security tokens that your app can use to get new access tokens in an OAuth 2.0 flow.</span></span> <span data-ttu-id="3cd6f-233">Az alkalmazás használhatja a frissítési jogkivonatokat anélkül, hogy a felhasználói hosszú távú hozzáférést egy felhasználó nevében erőforrások eléréséhez.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-233">Your app can use refresh tokens to achieve long-term access to resources on behalf of a user without requiring interaction with the user.</span></span>

<span data-ttu-id="3cd6f-234">Frissítési jogkivonatok több erőforrás.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-234">Refresh tokens are multi-resource.</span></span> <span data-ttu-id="3cd6f-235">A frissítési token során egy erőforrást a kérés érkezett is váltható a hozzáférési jogkivonatok egy teljesen más erőforráshoz.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-235">A refresh token received during a token request for one resource can be redeemed for access tokens to a completely different resource.</span></span>

<span data-ttu-id="3cd6f-236">A frissítési token választ kap, az alkalmazás kell igényelnie, és biztosítani a `offline_acesss` hatókör.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-236">To receive a refresh in a token response, your app must request and be granted the `offline_acesss` scope.</span></span> <span data-ttu-id="3cd6f-237">További részletek a `offline_access` hatókörét, tekintse meg a [hozzájárulási és hatókörök](active-directory-v2-scopes.md) cikk.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-237">To learn more about the `offline_access` scope, see the [consent and scopes](active-directory-v2-scopes.md) article.</span></span>

<span data-ttu-id="3cd6f-238">Frissítési jogkivonatok, és mindig lesz, az alkalmazás teljesen átlátszó.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-238">Refresh tokens are, and always will be, completely opaque to your app.</span></span> <span data-ttu-id="3cd6f-239">Ezek az Azure AD v2.0-végponttól által kiállított és csak felügyelete és a v2.0-végpontra értelmezi.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-239">They are issued by the Azure AD v2.0 endpoint and can only be inspected and interpreted by the v2.0 endpoint.</span></span> <span data-ttu-id="3cd6f-240">Hosszú élettartamú, de az alkalmazás nem írható várható, hogy egy frissítési jogkivonat bármely ideig tart.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-240">They are long-lived, but your app should not be written to expect that a refresh token will last for any period of time.</span></span> <span data-ttu-id="3cd6f-241">Frissítési jogkivonatokat különböző okokból bármikor érvénytelenített lehet.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-241">Refresh tokens can be invalidated at any moment for various reasons.</span></span> <span data-ttu-id="3cd6f-242">Csak az alkalmazás tudja, hogy a frissítési jogkivonat érvényes, beváltani azt kérelmek, így a v2.0-végpontra kísérletet.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-242">The only way for your app to know if a refresh token is valid is to attempt to redeem it by making a token request to the v2.0 endpoint.</span></span>

<span data-ttu-id="3cd6f-243">Amikor új tokenre egy frissítési token beváltja (ha megadták az alkalmazás és a `offline_access` hatókör), kap egy új frissítési jogkivonat a biztonságijogkivonat-válaszban.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-243">When you redeem a refresh token for a new access token (and if your app had been granted the `offline_access` scope), you receive a new refresh token in the token response.</span></span> <span data-ttu-id="3cd6f-244">Mentse az újonnan kiadott frissítési jogkivonat a kérésben használt helyett.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-244">Save the newly issued refresh token, to replace the one you used in the request.</span></span> <span data-ttu-id="3cd6f-245">Ez biztosítja, hogy, hogy a frissítési jogkivonatokat maradnak, amíg érvényes.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-245">This guarantees that your refresh tokens remain valid for as long as possible.</span></span>

## <a name="validating-tokens"></a><span data-ttu-id="3cd6f-246">Jogkivonatok ellenőrzése</span><span class="sxs-lookup"><span data-stu-id="3cd6f-246">Validating tokens</span></span>
<span data-ttu-id="3cd6f-247">Jelenleg az alkalmazások kell elvégezni a csak jogkivonat érvényesítésére érvényesítése azonosító-jogkivonatokat.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-247">Currently, the only token validation your apps should need to perform is validating ID tokens.</span></span> <span data-ttu-id="3cd6f-248">Egy azonosító tokent ellenőrzéséhez az alkalmazás érdemes ellenőrizni a azonosító jogkivonat aláírása, mind a Azonosítót jogkivonatban a jogcím.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-248">To validate an ID token, your app should validate both the ID token's signature and the claims in the ID token.</span></span>

<!-- TODO: Link -->
<span data-ttu-id="3cd6f-249">A Microsoft biztosít a könyvtárak és kódpéldák, amelyek bemutatják a könnyen kezelni a jogkivonatok érvényesség-ellenőrzése.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-249">Microsoft provides libraries and code samples that show you how to easily handle token validation.</span></span> <span data-ttu-id="3cd6f-250">A következő szakaszok azt ismertetik az alapul szolgáló folyamat.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-250">In the next sections, we describe the underlying process.</span></span> <span data-ttu-id="3cd6f-251">Több külső nyílt forráskódú kódtárai is elérhetők a JWT-ellenőrzéshez.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-251">Several third-party open-source libraries also are available for JWT validation.</span></span> <span data-ttu-id="3cd6f-252">Legalább egy tárat szinte minden platform és nyelvi beállítás van.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-252">There's at least one library option for almost every platform and language.</span></span>

### <a name="validate-the-signature"></a><span data-ttu-id="3cd6f-253">Az aláírás érvényesítése</span><span class="sxs-lookup"><span data-stu-id="3cd6f-253">Validate the signature</span></span>
<span data-ttu-id="3cd6f-254">A jwt-t tartalmazza az három, az elemek elválasztására pedig a `.` karakter.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-254">A JWT contains three segments, which are separated by the `.` character.</span></span> <span data-ttu-id="3cd6f-255">Az első szegmensnek is ismert, a *fejléc*, a második szegmens pedig az a *törzs*, és a harmadik szegmens pedig az *aláírás*.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-255">The first segment is known as the *header*, the second segment is the *body*, and the third segment is the *signature*.</span></span> <span data-ttu-id="3cd6f-256">Az aláírás szegmens segítségével hitelességének a Azonosítót jogkivonatban, hogy az alkalmazás által megbízhatóak.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-256">The signature segment can be used to validate the authenticity of the ID token so that it can be trusted by your app.</span></span>

<span data-ttu-id="3cd6f-257">Azonosító-jogkivonatokat aláírt szabványos aszimmetrikus titkosítási algoritmusok, például RSA 256.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-257">ID tokens are signed by using industry-standard asymmetric encryption algorithms, such as RSA 256.</span></span> <span data-ttu-id="3cd6f-258">Az azonosító token fejléce rendelkezik a token aláírásához használt kulcs és a titkosítási módra vonatkozó információkat.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-258">The header of the ID token has information about the key and encryption method used to sign the token.</span></span> <span data-ttu-id="3cd6f-259">Példa:</span><span class="sxs-lookup"><span data-stu-id="3cd6f-259">For example:</span></span>

```
{
  "typ": "JWT",
  "alg": "RS256",
  "kid": "MnC_VZcATfM5pOYiJHMba9goEKY"
}
```

<span data-ttu-id="3cd6f-260">A `alg` jogcím jelzi a token aláírásához használt algoritmust.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-260">The `alg` claim indicates the algorithm that was used to sign the token.</span></span> <span data-ttu-id="3cd6f-261">A `kid` jogcím jelzi a token aláírásához használt nyilvános kulcsot.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-261">The `kid` claim indicates the public key that was used to sign the token.</span></span>

<span data-ttu-id="3cd6f-262">Bármikor a v2.0-végpontra előfordulhat, hogy használatával írja alá az azonosító tokent egy meghatározott nyilvános-titkos kulcspárok valamelyikét.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-262">At any time, the v2.0 endpoint might sign an ID token by using any one of a specific set of public-private key pairs.</span></span> <span data-ttu-id="3cd6f-263">A v2.0-végpontra rendszeresen forog kulcsokat, a lehetséges készletét, így az alkalmazás kezelni azokat automatikusan kell írni.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-263">The v2.0 endpoint periodically rotates the possible set of keys, so your app should be written to handle those key changes automatically.</span></span> <span data-ttu-id="3cd6f-264">A v2.0-végpontra által használt nyilvános kulcsok frissítések kereséséhez ésszerű gyakoriság van 24 óránként.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-264">A reasonable frequency to check for updates to the public keys used by the v2.0 endpoint is every 24 hours.</span></span>

<span data-ttu-id="3cd6f-265">Az aláíró fontos adatot, amelyekre szüksége van az aláírás érvényesítése az OpenID Connect metaadat-dokumentum található segítségével szerezheti be:</span><span class="sxs-lookup"><span data-stu-id="3cd6f-265">You can acquire the signing key data that you need to validate the signature by using the OpenID Connect metadata document located at:</span></span>

```
https://login.microsoftonline.com/common/v2.0/.well-known/openid-configuration
```

> [!TIP]
> <span data-ttu-id="3cd6f-266">Próbálkozzon a böngésző URL-címet!</span><span class="sxs-lookup"><span data-stu-id="3cd6f-266">Try the URL in a browser!</span></span>
>
>

<span data-ttu-id="3cd6f-267">A metaadat-dokumentum egy JSON-objektum, amely rendelkezik a számos hasznos információt tartalmaz, például a különböző végpontok az OpenID Connect hitelesítéshez szükséges hely.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-267">This metadata document is a JSON object that has several useful pieces of information, such as the location of the various endpoints required for OpenID Connect authentication.</span></span>  <span data-ttu-id="3cd6f-268">A dokumentum is magában foglalja a *jwks_uri*, ennek révén a jogkivonatok aláírásához használt nyilvános kulcsok készlete helyét.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-268">The document also includes a *jwks_uri*, which gives the location of the set of public keys used to sign tokens.</span></span> <span data-ttu-id="3cd6f-269">A JSON-dokumentum található, a jwks_uri minden a nyilvánoskulcs-adatokat, amelyek jelenleg használatban van.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-269">The JSON document located at the jwks_uri has all the public key information that is currently in use.</span></span> <span data-ttu-id="3cd6f-270">Az alkalmazás használhatja a `kid` jogcím válassza ki, melyik nyilvános kulcs ebben a dokumentumban már használta a jogkivonat aláírása a JWT-fejlécben.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-270">Your app can use the `kid` claim in the JWT header to select which public key in this document has been used to sign a token.</span></span> <span data-ttu-id="3cd6f-271">Majd az aláírás érvényesítése és segítségével hajtja végre a megfelelő nyilvános kulcsot a jelzett algoritmus.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-271">It then performs signature validation by using the correct public key and the indicated algorithm.</span></span>

<span data-ttu-id="3cd6f-272">Aláírás-ellenőrzés végrehajtása van ez a dokumentum nem terjed.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-272">Performing signature validation is outside the scope of this document.</span></span> <span data-ttu-id="3cd6f-273">Számos nyílt forráskódú kódtárai ennek segítségével érhetők el.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-273">Many open-source libraries are available to help you with this.</span></span>

### <a name="validate-the-claims"></a><span data-ttu-id="3cd6f-274">A jogcímek ellenőrzése</span><span class="sxs-lookup"><span data-stu-id="3cd6f-274">Validate the claims</span></span>
<span data-ttu-id="3cd6f-275">Ha az alkalmazás felhasználói bejelentkezés után egy azonosító jogkivonatot kap, azt kell is ellenőrzi a néhány szemben a Azonosítót jogkivonatban.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-275">When your app receives an ID token upon user sign-in, it should also perform a few checks against the claims in the ID token.</span></span> <span data-ttu-id="3cd6f-276">Ezek közé tartozik, de nincsenek korlátozva:</span><span class="sxs-lookup"><span data-stu-id="3cd6f-276">These include but are not limited to:</span></span>

* <span data-ttu-id="3cd6f-277">**a célközönség** jogcím, győződjön meg arról, hogy az azonosító jogkivonatot kell fordítani az alkalmazás szándéka</span><span class="sxs-lookup"><span data-stu-id="3cd6f-277">**audience** claim, to verify that the ID token was intended to be given to your app</span></span>
* <span data-ttu-id="3cd6f-278">**hatálybalépési idő** és **lejárati idő** jogcímeket, győződjön meg arról, hogy az azonosító jogkivonat nem járt</span><span class="sxs-lookup"><span data-stu-id="3cd6f-278">**not before** and **expiration time** claims, to verify that the ID token has not expired</span></span>
* <span data-ttu-id="3cd6f-279">**kibocsátó** jogcím, győződjön meg arról, hogy a jogkivonat kiállító az alkalmazáshoz a v2.0-végpontra</span><span class="sxs-lookup"><span data-stu-id="3cd6f-279">**issuer** claim, to verify that the token was issued to your app by the v2.0 endpoint</span></span>
* <span data-ttu-id="3cd6f-280">**NONCE**, jogkivonatként visszajátszásos támadások megoldás</span><span class="sxs-lookup"><span data-stu-id="3cd6f-280">**nonce**, as a token replay attack mitigation</span></span>

<span data-ttu-id="3cd6f-281">Jogcím-érvényesítést, végre kell hajtania, az alkalmazás teljes listáját lásd: a [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html#IDTokenValidation).</span><span class="sxs-lookup"><span data-stu-id="3cd6f-281">For a full list of claim validations that your app should perform, see the [OpenID Connect specification](http://openid.net/specs/openid-connect-core-1_0.html#IDTokenValidation).</span></span>

<span data-ttu-id="3cd6f-282">Ezeket a jogcímeket a várt értékek részletek szerepelnek a [azonosító-jogkivonatokat](# ID tokens) szakasz.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-282">Details of the expected values for these claims are included in the [ID tokens](# ID tokens) section.</span></span>

## <a name="token-lifetimes"></a><span data-ttu-id="3cd6f-283">Token élettartama</span><span class="sxs-lookup"><span data-stu-id="3cd6f-283">Token lifetimes</span></span>
<span data-ttu-id="3cd6f-284">A következő token élettartama csak tájékoztatási nyújtunk.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-284">We provide the following token lifetimes for your information only.</span></span> <span data-ttu-id="3cd6f-285">Az információk segíthetnek fejlesztése és alkalmazások hibakeresését.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-285">The information might help you as you develop and debug apps.</span></span> <span data-ttu-id="3cd6f-286">Az alkalmazások történik, ezek állandó maradjon élettartama bármelyikét nem kell írni.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-286">Your apps should not be written to expect any of these lifetimes to remain constant.</span></span> <span data-ttu-id="3cd6f-287">A token élettartama is, és bármikor változik.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-287">Token lifetimes can and will change at any time.</span></span>

| <span data-ttu-id="3cd6f-288">Token</span><span class="sxs-lookup"><span data-stu-id="3cd6f-288">Token</span></span> | <span data-ttu-id="3cd6f-289">Élettartam</span><span class="sxs-lookup"><span data-stu-id="3cd6f-289">Lifetime</span></span> | <span data-ttu-id="3cd6f-290">Leírás</span><span class="sxs-lookup"><span data-stu-id="3cd6f-290">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="3cd6f-291">Azonosító-jogkivonatokat (munkahelyi vagy iskolai fiókok)</span><span class="sxs-lookup"><span data-stu-id="3cd6f-291">ID tokens (work or school accounts)</span></span> |<span data-ttu-id="3cd6f-292">1 óra</span><span class="sxs-lookup"><span data-stu-id="3cd6f-292">1 hour</span></span> |<span data-ttu-id="3cd6f-293">Azonosító-jogkivonatokat általában érvényesek 1 óra.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-293">ID tokens typically are valid for 1 hour.</span></span> <span data-ttu-id="3cd6f-294">A webalkalmazás használhatja ez ugyanazt az élettartam (ajánlott) a felhasználó a saját munkamenet fenntartásához, vagy választhat egy teljesen más munkamenetek élettartamát.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-294">Your web app can use this same lifetime to maintain its own session with the user (recommended), or you can choose a completely different session lifetime.</span></span> <span data-ttu-id="3cd6f-295">Ha az alkalmazás egy új ID-token beszerzése, kell új bejelentkezési kérés a v2.0 a végpont hitelesítéséhez.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-295">If your app needs to get a new ID token, it needs to make a new sign-in request to the v2.0 authorize endpoint.</span></span> <span data-ttu-id="3cd6f-296">Ha a felhasználó egy érvényes böngésző-munkamenetet a v2.0-végponttal rendelkezik, a felhasználó előfordulhat, hogy nem kell írja be újra a hitelesítő adataikat.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-296">If the user has a valid browser session with the v2.0 endpoint, the user might not be required to enter their credentials again.</span></span> |
| <span data-ttu-id="3cd6f-297">Azonosító-jogkivonatokat (személyes fiókok)</span><span class="sxs-lookup"><span data-stu-id="3cd6f-297">ID tokens (personal accounts)</span></span> |<span data-ttu-id="3cd6f-298">24 óra</span><span class="sxs-lookup"><span data-stu-id="3cd6f-298">24 hours</span></span> |<span data-ttu-id="3cd6f-299">A személyes fiókok azonosító-jogkivonatokat általában érvényes 24 órán át.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-299">ID tokens for personal accounts typically are valid for 24 hours.</span></span> <span data-ttu-id="3cd6f-300">A webalkalmazás használhatja ez ugyanazt az élettartam (ajánlott) a felhasználó a saját munkamenet fenntartásához, vagy választhat egy teljesen más munkamenetek élettartamát.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-300">Your web app can use this same lifetime to maintain its own session with the user (recommended), or you can choose a completely different session lifetime.</span></span> <span data-ttu-id="3cd6f-301">Ha az alkalmazás egy új ID-token beszerzése, kell új bejelentkezési kérés a v2.0 a végpont hitelesítéséhez.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-301">If your app needs to get a new ID token, it needs to make a new sign-in request to the v2.0 authorize endpoint.</span></span> <span data-ttu-id="3cd6f-302">Ha a felhasználó egy érvényes böngésző-munkamenetet a v2.0-végponttal rendelkezik, a felhasználó előfordulhat, hogy nem kell írja be újra a hitelesítő adataikat.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-302">If the user has a valid browser session with the v2.0 endpoint, the user might not be required to enter their credentials again.</span></span> |
| <span data-ttu-id="3cd6f-303">Hozzáférési jogkivonatok (munkahelyi vagy iskolai fiókok)</span><span class="sxs-lookup"><span data-stu-id="3cd6f-303">Access tokens (work or school accounts)</span></span> |<span data-ttu-id="3cd6f-304">1 óra</span><span class="sxs-lookup"><span data-stu-id="3cd6f-304">1 hour</span></span> |<span data-ttu-id="3cd6f-305">A token metaadatok részeként token válaszok jelzett.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-305">Indicated in token responses as part of the token metadata.</span></span> |
| <span data-ttu-id="3cd6f-306">Access tokens (személyes fiókok)</span><span class="sxs-lookup"><span data-stu-id="3cd6f-306">Access tokens (personal accounts)</span></span> |<span data-ttu-id="3cd6f-307">1 óra</span><span class="sxs-lookup"><span data-stu-id="3cd6f-307">1 hour</span></span> |<span data-ttu-id="3cd6f-308">A token metaadatok részeként token válaszok jelzett.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-308">Indicated in token responses as part of the token metadata.</span></span> <span data-ttu-id="3cd6f-309">Hozzáférés kiadott jogkivonatokat, személyes fiókok nevében konfigurálhatja a különböző élettartamot, de tipikus 1 óra.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-309">Access tokens that are issued on behalf of personal accounts can be configured for a different lifetime, but 1 hour is typical.</span></span> |
| <span data-ttu-id="3cd6f-310">Frissítési jogkivonatok (munkahelyi vagy iskolai fiókkal)</span><span class="sxs-lookup"><span data-stu-id="3cd6f-310">Refresh tokens (work or school account)</span></span> |<span data-ttu-id="3cd6f-311">Legfeljebb 14 nap</span><span class="sxs-lookup"><span data-stu-id="3cd6f-311">Up to 14 days</span></span> |<span data-ttu-id="3cd6f-312">Egyetlen frissítési jogkivonat esetén legfeljebb 14 napig érvényes.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-312">A single refresh token is valid for a maximum of 14 days.</span></span> <span data-ttu-id="3cd6f-313">Azonban a frissítési jogkivonat érvénytelenné válhatnak különböző okokból bármikor, az alkalmazás továbbra is egy frissítési jogkivonat használatakor, amíg nem sikerül, vagy az alkalmazás egy új frissítési jogkivonat lecseréli azt.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-313">However, the refresh token might become invalid at any time for various reasons, so your app should continue to try to use a refresh token until it fails, or until your app replaces it with a new refresh token.</span></span> <span data-ttu-id="3cd6f-314">A frissítési jogkivonat is lesz érvénytelen, ha azt óta 90 nappal a felhasználó megadott hitelesítő adataikat.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-314">A refresh token also becomes invalid if it has been 90 days since the user has entered their credentials.</span></span> |
| <span data-ttu-id="3cd6f-315">Frissítési jogkivonatok (személyes fiókok)</span><span class="sxs-lookup"><span data-stu-id="3cd6f-315">Refresh tokens (personal accounts)</span></span> |<span data-ttu-id="3cd6f-316">Legfeljebb 1 év</span><span class="sxs-lookup"><span data-stu-id="3cd6f-316">Up to 1 year</span></span> |<span data-ttu-id="3cd6f-317">Egyetlen frissítési jogkivonat esetén legfeljebb 1 évig érvényes.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-317">A single refresh token is valid for a maximum of 1 year.</span></span> <span data-ttu-id="3cd6f-318">Azonban a frissítési jogkivonat érvénytelenné válhatnak különböző okokból bármikor, az alkalmazás továbbra is egy frissítési jogkivonat használatakor, amíg meg nem hiúsul.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-318">However, the refresh token might become invalid at any time for various reasons, so your app should continue to try to use a refresh token until it fails.</span></span> |
| <span data-ttu-id="3cd6f-319">Hitelesítési kódok (munkahelyi vagy iskolai fiókok)</span><span class="sxs-lookup"><span data-stu-id="3cd6f-319">Authorization codes (work or school accounts)</span></span> |<span data-ttu-id="3cd6f-320">10 perc</span><span class="sxs-lookup"><span data-stu-id="3cd6f-320">10 minutes</span></span> |<span data-ttu-id="3cd6f-321">Hitelesítési kódok szándékosan rövid életű, és kell azonnal váltható a hozzáférési jogkivonatok és a frissítési jogkivonatokat a jogkivonatok fogadásakor.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-321">Authorization codes are purposely short-lived, and should be immediately redeemed for access tokens and refresh tokens when the tokens are received.</span></span> |
| <span data-ttu-id="3cd6f-322">Hitelesítési kódok (személyes fiókok)</span><span class="sxs-lookup"><span data-stu-id="3cd6f-322">Authorization codes (personal accounts)</span></span> |<span data-ttu-id="3cd6f-323">5 perc</span><span class="sxs-lookup"><span data-stu-id="3cd6f-323">5 minutes</span></span> |<span data-ttu-id="3cd6f-324">Hitelesítési kódok szándékosan rövid életű, és kell azonnal váltható a hozzáférési jogkivonatok és a frissítési jogkivonatokat a jogkivonatok fogadásakor.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-324">Authorization codes are purposely short-lived, and should be immediately redeemed for access tokens and refresh tokens when the tokens are received.</span></span> <span data-ttu-id="3cd6f-325">Hitelesítési kódok kiállított személyes fiókok nevében egyszeri használatra szolgálnak.</span><span class="sxs-lookup"><span data-stu-id="3cd6f-325">Authorization codes that are issued on behalf of personal accounts are for one-time use.</span></span> |
