---
title: "aaaDiagnose és a problémák megoldása |} Microsoft Docs"
description: "Ez az oktatóanyag ismerteti hogyan toodiagnose és idő adatsorozat Insights környezetében előforduló problémák megoldásához"
keywords: 
services: time-series-insights
documentationcenter: 
author: venkatgct
manager: almineev
editor: cgronlun
ms.assetid: 
ms.service: time-series-insights
ms.devlang: na
ms.topic: how-to-article
ms.tgt_pltfrm: na
ms.workload: big-data
ms.date: 04/24/2017
ms.author: venkatja
ms.openlocfilehash: 00893d4bec497f5f8bf7093be5b96f1844446d13
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="diagnose-and-solve-problems-in-your-time-series-insights-environment"></a><span data-ttu-id="4a61e-103">Hibáinak diagnosztizálásához és elhárításához idő adatsorozat Insights környezetében</span><span class="sxs-lookup"><span data-stu-id="4a61e-103">Diagnose and solve problems in your Time Series Insights environment</span></span>

## <a name="i-dont-see-my-data"></a><span data-ttu-id="4a61e-104">Az adatok nem látható</span><span class="sxs-lookup"><span data-stu-id="4a61e-104">I don't see my data</span></span>
<span data-ttu-id="4a61e-105">Az alábbiakban néhány ok, amiért miért nem láthatja az adatok hello környezetében [Azure idő adatsorozat Insights portálon találja meg](https://insights.timeseries.azure.com).</span><span class="sxs-lookup"><span data-stu-id="4a61e-105">Here are some reasons why you might not see your data in your environment in hello [Azure Time Series Insights portal](https://insights.timeseries.azure.com).</span></span>

### <a name="your-event-source-doesnt-have-data-in-json-format"></a><span data-ttu-id="4a61e-106">A forrás nincs adatok JSON formátumban</span><span class="sxs-lookup"><span data-stu-id="4a61e-106">Your event source doesn't have data in JSON format</span></span>
<span data-ttu-id="4a61e-107">Az Azure idő adatsorozat Insights támogat csak a JSON-adatokat.</span><span class="sxs-lookup"><span data-stu-id="4a61e-107">Azure Time Series Insights supports only JSON data today.</span></span> <span data-ttu-id="4a61e-108">JSON-mintákat, lásd: [támogatott JSON alakzatok](time-series-insights-send-events.md#supported-json-shapes).</span><span class="sxs-lookup"><span data-stu-id="4a61e-108">For JSON samples, see [Supported JSON shapes](time-series-insights-send-events.md#supported-json-shapes).</span></span>

### <a name="when-you-registered-your-event-source-you-didnt-provide-hello-key-that-has-hello-required-permission"></a><span data-ttu-id="4a61e-109">A forrás regisztrálásakor nem adott meg, amely jogosult a szükséges hello hello kulcs</span><span class="sxs-lookup"><span data-stu-id="4a61e-109">When you registered your event source, you didn't provide hello key that has hello required permission</span></span>
* <span data-ttu-id="4a61e-110">Az IoT-központ van szüksége, amely rendelkezik tooprovide hello kulcs **service csatlakozás** engedéllyel.</span><span class="sxs-lookup"><span data-stu-id="4a61e-110">For an IoT hub, you need tooprovide hello key that has **service connect** permission.</span></span>

   ![Az IoT-központ szolgáltatás a connect engedély](media/diagnose-and-solve-problems/iothub-serviceconnect-permissions.png)

   <span data-ttu-id="4a61e-112">Ahogy az képen megelőző hello vagy hello házirendek **iothubowner** és **szolgáltatás** csatlakoztatás működik, mert mindkét **service csatlakozás** engedéllyel.</span><span class="sxs-lookup"><span data-stu-id="4a61e-112">As shown in hello preceding image, either of hello policies **iothubowner** and **service** would work, because both have **service connect** permission.</span></span>
* <span data-ttu-id="4a61e-113">Az eseményközpontok tooprovide hello kulcsot, amelynek kell **figyelésére** engedéllyel.</span><span class="sxs-lookup"><span data-stu-id="4a61e-113">For an event hub, you need tooprovide hello key that has **Listen** permission.</span></span>

   ![Event hub figyelési engedély](media/diagnose-and-solve-problems/eventhub-listen-permissions.png)

   <span data-ttu-id="4a61e-115">Ahogy az képen megelőző hello hello házirendek egyikét **olvasási** és **kezelése** csatlakoztatás működik, mert mindkét **figyelésére** engedéllyel.</span><span class="sxs-lookup"><span data-stu-id="4a61e-115">As shown in hello preceding image, either of hello policies **read** and **manage** would work, because both have **Listen** permission.</span></span>

### <a name="hello-provided-consumer-group-is-not-exclusive-tootime-series-insights"></a><span data-ttu-id="4a61e-116">hello megadva a felhasználói csoportban nem kizárólagos tooTime adatsorozat Insights</span><span class="sxs-lookup"><span data-stu-id="4a61e-116">hello provided consumer group is not exclusive tooTime Series Insights</span></span>
<span data-ttu-id="4a61e-117">Az IoT-központ vagy az eseményközpont, a regisztráció során kérjük, használja a rendszer az adatok olvasása toospecify hello fogyasztói csoportot.</span><span class="sxs-lookup"><span data-stu-id="4a61e-117">For an IoT hub or an event hub, during registration we require you toospecify hello consumer group that should be used for reading your data.</span></span> <span data-ttu-id="4a61e-118">Nem kell osztani a fogyasztói csoportot.</span><span class="sxs-lookup"><span data-stu-id="4a61e-118">This consumer group must not be shared.</span></span> <span data-ttu-id="4a61e-119">Ha megosztott, hello alapul szolgáló eseményközpont automatikusan bontja a kapcsolatot hello olvasók egyik véletlenszerűen.</span><span class="sxs-lookup"><span data-stu-id="4a61e-119">If it's shared, hello underlying event hub automatically disconnects one of hello readers randomly.</span></span>

## <a name="i-see-my-data-but-theres-a-lag"></a><span data-ttu-id="4a61e-120">Az adatok látható, de a késés van</span><span class="sxs-lookup"><span data-stu-id="4a61e-120">I see my data, but there's a lag</span></span>
<span data-ttu-id="4a61e-121">Az alábbiakban miért láthatja részleges adat hello környezetében okok [idő adatsorozat Insights portálon találja meg](https://insights.timeseries.azure.com).</span><span class="sxs-lookup"><span data-stu-id="4a61e-121">Here are reasons why you might see partial data in your environment in hello [Time Series Insights portal](https://insights.timeseries.azure.com).</span></span>

### <a name="your-environment-is-getting-throttled"></a><span data-ttu-id="4a61e-122">A környezet első szabályozva van</span><span class="sxs-lookup"><span data-stu-id="4a61e-122">Your environment is getting throttled</span></span>
<span data-ttu-id="4a61e-123">a szabályozási korlát hello kényszerítése hello környezet SKU típusú és kapacitás alapján.</span><span class="sxs-lookup"><span data-stu-id="4a61e-123">hello throttling limit is enforced based on hello environment's SKU type and capacity.</span></span> <span data-ttu-id="4a61e-124">Minden eseményforrások hello környezetben oszthassák meg a kapacitást.</span><span class="sxs-lookup"><span data-stu-id="4a61e-124">All event sources in hello environment share this capacity.</span></span> <span data-ttu-id="4a61e-125">Az IoT-központ vagy az eseményközpont hello eseményforrás kényszerített hello korlátok adatok küldését, ha sávszélesség-szabályozás és a késés láthatja.</span><span class="sxs-lookup"><span data-stu-id="4a61e-125">If hello event source for your IoT hub or event hub is pushing data beyond hello enforced limits, you see throttling and a lag.</span></span>

<span data-ttu-id="4a61e-126">a következő diagram hello egy idő adatsorozat Insights környezet látható, amely rendelkezik egy S1 SKU és 3 kapacitása.</span><span class="sxs-lookup"><span data-stu-id="4a61e-126">hello following diagram shows a Time Series Insights environment that has a SKU of S1 and a capacity of 3.</span></span> <span data-ttu-id="4a61e-127">Azt is érkező 3 millió esemény naponkénti.</span><span class="sxs-lookup"><span data-stu-id="4a61e-127">It can ingress 3 million events per day.</span></span>

![Környezet SKU aktuális kapacitás](media/diagnose-and-solve-problems/environment-sku-current-capacity.png)

<span data-ttu-id="4a61e-129">Tegyük fel, hogy ebben a környezetben van választásával dolgozhat fel az eseményközpontban lévő üzenetek hello érkező sebességet hello a következő ábrán látható:</span><span class="sxs-lookup"><span data-stu-id="4a61e-129">Assume that this environment is ingesting messages from an event hub with hello ingress rate shown in hello following diagram:</span></span>

![Az eseményközpontok érkező arány – példa](media/diagnose-and-solve-problems/eventhub-ingress-rate.png)

<span data-ttu-id="4a61e-131">Ahogy hello ábrán is látható, hello napi érkező ez ~ 67,000 üzeneteket.</span><span class="sxs-lookup"><span data-stu-id="4a61e-131">As shown in hello diagram, hello daily ingress rate is ~67,000 messages.</span></span> <span data-ttu-id="4a61e-132">Ez az eszköz nagyjából too46 üzenetek percenként.</span><span class="sxs-lookup"><span data-stu-id="4a61e-132">This rate translates roughly too46 messages every minute.</span></span> <span data-ttu-id="4a61e-133">Ha minden event hub üzenet egybesimított tooa egyetlen alkalommal adatsorozat Insights esemény, az ebben a környezetben látja, nincs.</span><span class="sxs-lookup"><span data-stu-id="4a61e-133">If each event hub message is flattened tooa single Time Series Insights event, this environment sees no throttling.</span></span> <span data-ttu-id="4a61e-134">Ha minden event hub üzenet egybesimított too100 idő adatsorozat Insights eseményeket, majd 4,600 események kell fogyasztanak percenként.</span><span class="sxs-lookup"><span data-stu-id="4a61e-134">If each event hub message is flattened too100 Time Series Insights events, then 4,600 events should be ingested every minute.</span></span> <span data-ttu-id="4a61e-135">3 / kapacitású S1 SKU környezet is csak 2,100 érkező jelzések percenként (1 millió esemény naponkénti 700 eseményt küld percenként 3 egység = = 2,100 eseményt küld percenként).</span><span class="sxs-lookup"><span data-stu-id="4a61e-135">An S1 SKU environment that has a capacity of 3 can ingress only 2,100 events every minute (1 million events per day = 700 events per minute at 3 units = 2,100 events per minute).</span></span> <span data-ttu-id="4a61e-136">Ezért tekintse meg a késés miatt toothrottling.</span><span class="sxs-lookup"><span data-stu-id="4a61e-136">Therefore you see a lag due toothrottling.</span></span> 

<span data-ttu-id="4a61e-137">Magas szintű megértéséhez logikai egybesimítását működését, tekintse meg a [támogatott JSON alakzatok](time-series-insights-send-events.md#supported-json-shapes).</span><span class="sxs-lookup"><span data-stu-id="4a61e-137">For a high-level understanding of how flattening logic works, see [Supported JSON shapes](time-series-insights-send-events.md#supported-json-shapes).</span></span>

#### <a name="recommended-steps"></a><span data-ttu-id="4a61e-138">Javasolt lépések</span><span class="sxs-lookup"><span data-stu-id="4a61e-138">Recommended steps</span></span>
<span data-ttu-id="4a61e-139">toofix hello lag, növelje hello Termékváltozat-kapacitás környezet.</span><span class="sxs-lookup"><span data-stu-id="4a61e-139">toofix hello lag, increase hello SKU capacity of your environment.</span></span> <span data-ttu-id="4a61e-140">További információkért lásd: [hogyan tooscale idő adatsorozat Insights környezetét](time-series-insights-how-to-scale-your-environment.md).</span><span class="sxs-lookup"><span data-stu-id="4a61e-140">For more information, see [How tooscale your Time Series Insights environment](time-series-insights-how-to-scale-your-environment.md).</span></span>

### <a name="youre-pushing-historical-data-and-causing-slow-ingress"></a><span data-ttu-id="4a61e-141">Ön előzményadatokat kérdez le, és lassú érkező okozó</span><span class="sxs-lookup"><span data-stu-id="4a61e-141">You're pushing historical data and causing slow ingress</span></span>
<span data-ttu-id="4a61e-142">Ha egy meglévő eseményforrás kapcsolódik, valószínű, hogy az IoT-központ vagy az eseményközpont már tartalmaznak adatokat azt.</span><span class="sxs-lookup"><span data-stu-id="4a61e-142">If you are connecting an existing event source, it's likely that your IoT hub or event hub already has data in it.</span></span> <span data-ttu-id="4a61e-143">Így hello környezetben kezdődik, húzza hello esemény forrását üzenet megőrzési időszak kezdete hello adatait.</span><span class="sxs-lookup"><span data-stu-id="4a61e-143">So hello environment starts pulling data from hello beginning of hello event source's message retention period.</span></span> 

<span data-ttu-id="4a61e-144">Ez a viselkedés hello alapértelmezett viselkedését, és nem bírálható felül.</span><span class="sxs-lookup"><span data-stu-id="4a61e-144">This behavior is hello default behavior and cannot be overridden.</span></span> <span data-ttu-id="4a61e-145">Is végezhetnek a sávszélesség-szabályozás és eltarthat egy darabig a korábbi adatok bevitele mentése toocatch.</span><span class="sxs-lookup"><span data-stu-id="4a61e-145">You can engage throttling, and it may take a while toocatch up on ingesting historical data.</span></span>

#### <a name="recommended-steps"></a><span data-ttu-id="4a61e-146">Javasolt lépések</span><span class="sxs-lookup"><span data-stu-id="4a61e-146">Recommended steps</span></span>
<span data-ttu-id="4a61e-147">toofix hello lag, a következő lépéseket hajtsa végre a megfelelő hello:</span><span class="sxs-lookup"><span data-stu-id="4a61e-147">toofix hello lag, take hello following steps:</span></span>
1. <span data-ttu-id="4a61e-148">Növelje a hello SKU kapacitás toohello megengedett maximális értéket (ebben az esetben 10).</span><span class="sxs-lookup"><span data-stu-id="4a61e-148">Increase hello SKU capacity toohello maximum allowed value (10 in this case).</span></span> <span data-ttu-id="4a61e-149">Hello kapacitás nő, miután hello érkező folyamat elindul, mentése sokkal gyorsabban alatt.</span><span class="sxs-lookup"><span data-stu-id="4a61e-149">After hello capacity is increased, hello ingress process starts catching up much faster.</span></span> <span data-ttu-id="4a61e-150">Milyen gyorsan meg most elfogja keresztül a rendelkezésre állási diagram hello hello jelenítheti [idő adatsorozat Insights portálon találja meg](https://insights.timeseries.azure.com).</span><span class="sxs-lookup"><span data-stu-id="4a61e-150">You can visualize how quickly you're catching up through hello availability chart in hello [Time Series Insights portal](https://insights.timeseries.azure.com).</span></span> <span data-ttu-id="4a61e-151">Hello nagyobb kapacitást van szó.</span><span class="sxs-lookup"><span data-stu-id="4a61e-151">You are charged for hello increased capacity.</span></span>
2. <span data-ttu-id="4a61e-152">Miután hello lag naprakész, csökkenti hello SKU kapacitás hátsó tooyour normál érkező.</span><span class="sxs-lookup"><span data-stu-id="4a61e-152">After hello lag is caught up, decrease hello SKU capacity back tooyour normal ingress rate.</span></span>

## <a name="my-event-sources-timestamp-property-name-setting-doesnt-work"></a><span data-ttu-id="4a61e-153">A forrás *időbélyeg-tulajdonság neve* beállítás nem működik</span><span class="sxs-lookup"><span data-stu-id="4a61e-153">My event source's *timestamp property name* setting doesn't work</span></span>
<span data-ttu-id="4a61e-154">Győződjön meg arról, hogy hello név-érték felel meg a következő szabályok toohello:</span><span class="sxs-lookup"><span data-stu-id="4a61e-154">Ensure that hello name and value conform toohello following rules:</span></span>
* <span data-ttu-id="4a61e-155">hello időbélyeg tulajdonságnév _kis-és nagybetűket_.</span><span class="sxs-lookup"><span data-stu-id="4a61e-155">hello timestamp property name is _case-sensitive_.</span></span>
* <span data-ttu-id="4a61e-156">hello Timestamp típusú tulajdonság értéke adatforrásból származó az eseményforrás JSON karakterláncként kell hello formátum _éééé-hh-nnTóó: pp:. FFFFFFFK_.</span><span class="sxs-lookup"><span data-stu-id="4a61e-156">hello timestamp property value that's coming from your event source, as a JSON string, should have hello format _yyyy-MM-ddTHH:mm:ss.FFFFFFFK_.</span></span> <span data-ttu-id="4a61e-157">Példa ilyen karakterlánc: "2008-04-12T12:53Z".</span><span class="sxs-lookup"><span data-stu-id="4a61e-157">An example of such a string is “2008-04-12T12:53Z”.</span></span>
