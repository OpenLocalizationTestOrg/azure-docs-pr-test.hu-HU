---
title: "Az Azure Backup: a Linux virtuális gépek alkalmazáskonzisztens biztonsági mentések |} Microsoft Docs"
description: "Parancsfájlok segítségével alkalmazáskonzisztens biztonsági mentések garantálja az Azure-ba, a Linux virtuális gépek számára. A parancsfájlok csak Linux virtuális gépek erőforrás-kezelő telepítések; vonatkoznak a parancsfájlok nem vonatkoznak a Windows virtuális gépek vagy a service manager központi telepítéseket. Ez a cikk végigvezeti a parancsfájlok, beleértve a hibaelhárítás konfigurálásának lépéseit."
services: backup
documentationcenter: dev-center-name
author: anuragmehrotra
manager: shivamg
keywords: "alkalmazáskonzisztens biztonsági másolat; Azure virtuális gép alkalmazáskonzisztens biztonsági mentését; Linux virtuális gép biztonsági mentése; Azure biztonsági mentés"
ms.assetid: bbb99cf2-d8c7-4b3d-8b29-eadc0fed3bef
ms.service: backup
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: storage-backup-recovery
ms.date: 4/12/2017
ms.author: anuragm;markgal
ms.openlocfilehash: 378c65bec8fd1f880ed459e76f5e4b5d85e49d2a
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 07/11/2017
---
# <a name="application-consistent-backup-of-azure-linux-vms-preview"></a><span data-ttu-id="d64db-106">Alkalmazáskonzisztens biztonsági mentését Azure Linux virtuális gépek (előzetes verzió)</span><span class="sxs-lookup"><span data-stu-id="d64db-106">Application-consistent backup of Azure Linux VMs (preview)</span></span>

<span data-ttu-id="d64db-107">Ez a cikk megbeszélések kapcsolatos a Linux-keretrendszer, és hogyan használható az Azure Linux virtuális gépek alkalmazáskonzisztens biztonsági másolatok készítése utáni parancsfájl, és előre parancsfájlok.</span><span class="sxs-lookup"><span data-stu-id="d64db-107">This article talks about the Linux pre-script and post-script framework, and how it can be used to take application-consistent backups of Azure Linux VMs.</span></span>

> [!Note]
> <span data-ttu-id="d64db-108">A parancsfájl előtti és utáni parancsfájl keretrendszer csak Azure Resource Manager telepített Linux virtuális gépek esetén támogatott.</span><span class="sxs-lookup"><span data-stu-id="d64db-108">The pre-script and post-script framework is supported only for Azure Resource Manager-deployed Linux virtual machines.</span></span> <span data-ttu-id="d64db-109">Parancsfájl-alkalmazás konzisztencia nem támogatottak a Service Manager telepített virtuális gépek vagy windowsos virtuális gépekre.</span><span class="sxs-lookup"><span data-stu-id="d64db-109">Scripts for application consistency are not supported for Service Manager-deployed virtual machines or Windows virtual machines.</span></span>
>

## <a name="how-the-framework-works"></a><span data-ttu-id="d64db-110">A keretrendszer működése</span><span class="sxs-lookup"><span data-stu-id="d64db-110">How the framework works</span></span>

<span data-ttu-id="d64db-111">A keretrendszer egyéni előtti parancsfájlok futtatásához lehetőséget biztosít, és utáni parancsfájlok, amíg a virtuális gép pillanatképek van véve.</span><span class="sxs-lookup"><span data-stu-id="d64db-111">The framework provides an option to run custom pre-scripts and post-scripts while you're taking VM snapshots.</span></span> <span data-ttu-id="d64db-112">Előtti parancsfájlok a virtuális gép pillanatképet, és utáni parancsfájlok azonnal, miután a virtuális gép pillanatképének készítése előtt.</span><span class="sxs-lookup"><span data-stu-id="d64db-112">Pre-scripts are run just before you take the VM snapshot, and post-scripts are run immediately after you take the VM snapshot.</span></span> <span data-ttu-id="d64db-113">Ez lehetővé teszi a rugalmasságot az alkalmazás és a környezet szabályozására, amíg a virtuális gép pillanatképek van véve.</span><span class="sxs-lookup"><span data-stu-id="d64db-113">This gives you the flexibility to control your application and environment while you're taking VM snapshots.</span></span>

<span data-ttu-id="d64db-114">Ebben a forgatókönyvben fontos alkalmazáskonzisztens a virtuális gép biztonsági mentés.</span><span class="sxs-lookup"><span data-stu-id="d64db-114">In this scenario, it's important to ensure application-consistent VM backup.</span></span> <span data-ttu-id="d64db-115">A előtti parancsfájl fokozatosan leválasztani az IOs API-alkalmazás natív elindíthat és memórián belüli tartalom kiüríteni a lemezre.</span><span class="sxs-lookup"><span data-stu-id="d64db-115">The pre-script can invoke application-native APIs to quiesce the IOs and flush in-memory content to the disk.</span></span> <span data-ttu-id="d64db-116">Ez biztosítja, hogy a pillanatkép alkalmazáskonzisztens (Ez azt jelenti, hogy az alkalmazás előre fel a virtuális gép indításakor visszaállítás utáni).</span><span class="sxs-lookup"><span data-stu-id="d64db-116">This ensures that the snapshot is application-consistent (that is, that the application comes up when the VM is booted post-restore).</span></span> <span data-ttu-id="d64db-117">Az IOs olvasztása utáni parancsfájl használható.</span><span class="sxs-lookup"><span data-stu-id="d64db-117">Post-script can be used to thaw the IOs.</span></span> <span data-ttu-id="d64db-118">Ennek érdekében alkalmazás natív API-val, hogy az alkalmazás folytathatja a normál működés post-virtuális gép pillanatfelvétele.</span><span class="sxs-lookup"><span data-stu-id="d64db-118">It does this by using application-native APIs so that the application can resume normal operations post-VM snapshot.</span></span>

## <a name="steps-to-configure-pre-script-and-post-script"></a><span data-ttu-id="d64db-119">Parancsfájl előtti és utáni parancsfájl konfigurálásának lépései</span><span class="sxs-lookup"><span data-stu-id="d64db-119">Steps to configure pre-script and post-script</span></span>

1. <span data-ttu-id="d64db-120">Jelentkezzen be a Linux virtuális gép, amelyet szeretne biztonsági másolatot készíteni a gyökér szintű felhasználóként.</span><span class="sxs-lookup"><span data-stu-id="d64db-120">Sign in as the root user to the Linux VM that you want to back up.</span></span>

2. <span data-ttu-id="d64db-121">Töltse le **VMSnapshotScriptPluginConfig.json** a [GitHub](https://github.com/MicrosoftAzureBackup/VMSnapshotPluginConfig), és másolja azt a **/etc/azure** mappájában található összes virtuális gépet, készítsen biztonsági másolatot fog.</span><span class="sxs-lookup"><span data-stu-id="d64db-121">Download **VMSnapshotScriptPluginConfig.json** from [GitHub](https://github.com/MicrosoftAzureBackup/VMSnapshotPluginConfig), and then copy it to the **/etc/azure** folder on all the VMs that you're going to back up.</span></span> <span data-ttu-id="d64db-122">Hozzon létre a **/etc/azure** könyvtárat, ha már nem létezik.</span><span class="sxs-lookup"><span data-stu-id="d64db-122">Create the **/etc/azure** directory if it doesn't exist already.</span></span>

3. <span data-ttu-id="d64db-123">Másolja a előtti parancsfájl és utáni parancsfájl az összes virtuális gépet, készítsen biztonsági másolatot szeretne az alkalmazáshoz.</span><span class="sxs-lookup"><span data-stu-id="d64db-123">Copy the pre-script and post-script for your application on all the VMs that you plan to back up.</span></span> <span data-ttu-id="d64db-124">A parancsfájlok másolhatja egyik helyen, a virtuális Gépen.</span><span class="sxs-lookup"><span data-stu-id="d64db-124">You can copy the scripts to any location on the VM.</span></span> <span data-ttu-id="d64db-125">Ne felejtse el frissíteni a parancsfájlok az elérési útját a **VMSnapshotScriptPluginConfig.json** fájlt.</span><span class="sxs-lookup"><span data-stu-id="d64db-125">Be sure to update the full path of the script files in the **VMSnapshotScriptPluginConfig.json** file.</span></span>

4. <span data-ttu-id="d64db-126">Ellenőrizze, hogy ezeket a fájlokat az alábbi engedélyeket:</span><span class="sxs-lookup"><span data-stu-id="d64db-126">Ensure the following permissions for these files:</span></span>

   - <span data-ttu-id="d64db-127">**VMSnapshotScriptPluginConfig.json**: engedély "600."</span><span class="sxs-lookup"><span data-stu-id="d64db-127">**VMSnapshotScriptPluginConfig.json**: Permission “600.”</span></span> <span data-ttu-id="d64db-128">Például csak a "Gyökér" felhasználó "read" és "write" engedélyekkel kell rendelkeznie a fájl, és a felhasználó nem "hajtható végre" engedélyekkel kell rendelkeznie.</span><span class="sxs-lookup"><span data-stu-id="d64db-128">For example, only “root” user should have “read” and “write” permissions to this file, and no user should have “execute” permissions.</span></span>

   - <span data-ttu-id="d64db-129">**Előtti parancsfájl**: engedély "700."</span><span class="sxs-lookup"><span data-stu-id="d64db-129">**Pre-script file**: Permission “700.”</span></span>  <span data-ttu-id="d64db-130">Például csak a "Gyökér" felhasználói rendelkeznie kell "Olvasás", "write" és "végrehajtási" engedélyeket ehhez a fájlhoz.</span><span class="sxs-lookup"><span data-stu-id="d64db-130">For example, only “root” user should have “read”, “write”, and “execute” permissions to this file.</span></span>
  
   - <span data-ttu-id="d64db-131">**Utáni parancsfájl** engedély "700."</span><span class="sxs-lookup"><span data-stu-id="d64db-131">**Post-script** Permission “700.”</span></span> <span data-ttu-id="d64db-132">Például csak a "Gyökér" felhasználói rendelkeznie kell "Olvasás", "write" és "végrehajtási" engedélyeket ehhez a fájlhoz.</span><span class="sxs-lookup"><span data-stu-id="d64db-132">For example, only “root” user should have “read”, “write”, and “execute” permissions to this file.</span></span>

   > [!Important]
   > <span data-ttu-id="d64db-133">A keretrendszer teljesítményigényű nyújt a felhasználóknak.</span><span class="sxs-lookup"><span data-stu-id="d64db-133">The framework gives users a lot of power.</span></span> <span data-ttu-id="d64db-134">Fontos, hogy biztonságos, és csak "Gyökér" felhasználó hozzáfér a kritikus JSON és a parancsfájl fájlokhoz.</span><span class="sxs-lookup"><span data-stu-id="d64db-134">It’s important that it's secure and that only “root” user has access to critical JSON and script files.</span></span>
   > <span data-ttu-id="d64db-135">A korábbi feltételeknek nem felel meg, ha a parancsprogram nem futott.</span><span class="sxs-lookup"><span data-stu-id="d64db-135">If the previous requirements aren't met, the script doesn't run.</span></span> <span data-ttu-id="d64db-136">Az eredmény rendszerösszeomlás/konzisztens biztonsági mentés.</span><span class="sxs-lookup"><span data-stu-id="d64db-136">This results in file system/crash consistent backup.</span></span>
   >

5. <span data-ttu-id="d64db-137">Konfigurálása **VMSnapshotScriptPluginConfig.json** itt leírtak szerint:</span><span class="sxs-lookup"><span data-stu-id="d64db-137">Configure **VMSnapshotScriptPluginConfig.json** as described here:</span></span>
    - <span data-ttu-id="d64db-138">**pluginName**: mivel ezt a mezőt hagyja, vagy a parancsfájlok nem működnek megfelelően.</span><span class="sxs-lookup"><span data-stu-id="d64db-138">**pluginName**: Leave this field as is or your scripts might not work as expected.</span></span>

    - <span data-ttu-id="d64db-139">**preScriptLocation**: Adja meg a előtti parancsfájl elérési útját a virtuális Gépen, amelyet szeretne biztonsági másolatot.</span><span class="sxs-lookup"><span data-stu-id="d64db-139">**preScriptLocation**: Provide the full path of the pre-script on the VM that's going to be backed up.</span></span>

    - <span data-ttu-id="d64db-140">**postScriptLocation**: Adja meg a utáni parancsfájl elérési útját a virtuális Gépen, amelyet szeretne biztonsági másolatot.</span><span class="sxs-lookup"><span data-stu-id="d64db-140">**postScriptLocation**: Provide the full path of the post-script on the VM that's going to be backed up.</span></span>

    - <span data-ttu-id="d64db-141">**preScriptParams**: Adja meg a választható paraméterek: a előtti parancsfájl átadandó igénylő.</span><span class="sxs-lookup"><span data-stu-id="d64db-141">**preScriptParams**: Provide the optional parameters that need to be passed to the pre-script.</span></span> <span data-ttu-id="d64db-142">Minden paraméter idézőjelek között kell lennie, és vesszővel elválasztva, ha több paramétert kell lennie.</span><span class="sxs-lookup"><span data-stu-id="d64db-142">All parameters should be in quotes, and should be comma-separated if there are multiple parameters.</span></span>

    - <span data-ttu-id="d64db-143">**postScriptParams**: Adja meg a választható paraméterek: a utáni parancsfájl átadandó igénylő.</span><span class="sxs-lookup"><span data-stu-id="d64db-143">**postScriptParams**: Provide the optional parameters that need to be passed to the post-script.</span></span> <span data-ttu-id="d64db-144">Minden paraméter idézőjelek között kell lennie, és vesszővel elválasztva, ha több paramétert kell lennie.</span><span class="sxs-lookup"><span data-stu-id="d64db-144">All parameters should be in quotes, and should be comma-separated if there are multiple parameters.</span></span>

    - <span data-ttu-id="d64db-145">**preScriptNoOfRetries**: a szám, ahányszor a előtti parancsfájl meg kell ismételni, ha hiba történik megszakítása előtt állítsa be.</span><span class="sxs-lookup"><span data-stu-id="d64db-145">**preScriptNoOfRetries**: Set the number of times the pre-script should be retried if there is any error before terminating.</span></span> <span data-ttu-id="d64db-146">Nulla azt jelenti, hogy csak egy try és nem az újra gombra, ha hiba történik.</span><span class="sxs-lookup"><span data-stu-id="d64db-146">Zero means only one try and no retry if there is a failure.</span></span>

    - <span data-ttu-id="d64db-147">**postScriptNoOfRetries**: a szám, ahányszor a utáni parancsfájl meg kell ismételni, ha hiba történik megszakítása előtt állítsa be.</span><span class="sxs-lookup"><span data-stu-id="d64db-147">**postScriptNoOfRetries**:  Set the number of times the post-script should be retried if there is any error before terminating.</span></span> <span data-ttu-id="d64db-148">Nulla azt jelenti, hogy csak egy try és nem az újra gombra, ha hiba történik.</span><span class="sxs-lookup"><span data-stu-id="d64db-148">Zero means only one try and no retry if there is a failure.</span></span>
    
    - <span data-ttu-id="d64db-149">**Időkorlát_másodpercben**: Adjon meg egyedi időtúllépések a előtti parancsfájl és a utáni parancsfájlt.</span><span class="sxs-lookup"><span data-stu-id="d64db-149">**timeoutInSeconds**: Specify individual timeouts for the pre-script and the post-script.</span></span>

    - <span data-ttu-id="d64db-150">**continueBackupOnFailure**: az érték **igaz** Ha azt szeretné, ha előtti parancsfájl visszaállni a fájlrendszer konzisztens/összeomlás konzisztens biztonsági mentése vagy utáni parancsfájl sikertelen biztonsági mentési Azure.</span><span class="sxs-lookup"><span data-stu-id="d64db-150">**continueBackupOnFailure**: Set this value to **true** if you want Azure Backup to fall back to a file system consistent/crash consistent backup if pre-script or post-script fails.</span></span> <span data-ttu-id="d64db-151">Ezt a beállítást **hamis** (kivéve, ha rendelkezik egyszerű virtuális Gépet, amely visszavált összeomlásbiztos biztonsági mentésbe ettől a beállítástól függetlenül) a parancsfájl hiba esetén a biztonsági mentés sikertelen lesz.</span><span class="sxs-lookup"><span data-stu-id="d64db-151">Setting this to **false** fails the backup in case of script failure (except when you have single-disk VM that falls back to crash-consistent backup regardless of this setting).</span></span>

    - <span data-ttu-id="d64db-152">**fsFreezeEnabled**: Adja meg, hogy Linux fsfreeze kell hívható, amíg a fájlrendszer-konzisztencia biztosításához a virtuális gép pillanatkép van véve.</span><span class="sxs-lookup"><span data-stu-id="d64db-152">**fsFreezeEnabled**: Specify whether Linux fsfreeze should be called while you're taking the VM snapshot to ensure file system consistency.</span></span> <span data-ttu-id="d64db-153">Azt javasoljuk, hogy ez a beállítás értéke **igaz** , ha az alkalmazás a fsfreeze letiltása függőség van.</span><span class="sxs-lookup"><span data-stu-id="d64db-153">We recommend keeping this setting set to **true** unless your application has a dependency on disabling fsfreeze.</span></span>

6. <span data-ttu-id="d64db-154">A parancsfájl-keretrendszer konfigurálva van.</span><span class="sxs-lookup"><span data-stu-id="d64db-154">The script framework is now configured.</span></span> <span data-ttu-id="d64db-155">Ha a virtuális gép biztonsági mentés már be van állítva, a következő biztonsági mentés hív meg, a parancsfájlok, és elindítja a alkalmazáskonzisztens biztonsági mentését.</span><span class="sxs-lookup"><span data-stu-id="d64db-155">If the VM backup is already configured, the next backup invokes the scripts and triggers application-consistent backup.</span></span> <span data-ttu-id="d64db-156">Ha a virtuális gép biztonsági mentés van beállítva, konfigurálja úgy a [a Recovery Services-tárolók Azure virtuális gépek biztonsági mentése.](https://docs.microsoft.com/azure/backup/backup-azure-vms-first-look-arm)</span><span class="sxs-lookup"><span data-stu-id="d64db-156">If the VM backup is not configured, configure it by using [Back up Azure virtual machines to Recovery Services vaults.](https://docs.microsoft.com/azure/backup/backup-azure-vms-first-look-arm)</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="d64db-157">Hibaelhárítás</span><span class="sxs-lookup"><span data-stu-id="d64db-157">Troubleshooting</span></span>

<span data-ttu-id="d64db-158">Győződjön meg arról, adja hozzá a megfelelő naplózási írásakor, a parancsfájl előtti és utáni parancsfájl, és tekintse át a parancsfájl minden parancsfájl problémáinak megoldásával kapcsolatban.</span><span class="sxs-lookup"><span data-stu-id="d64db-158">Make sure you add appropriate logging while writing your pre-script and post-script, and review your script logs to fix any script issues.</span></span> <span data-ttu-id="d64db-159">Ha továbbra is problémákba-parancsfájlok futtatásakor, tekintse meg a következő táblázat további információt.</span><span class="sxs-lookup"><span data-stu-id="d64db-159">If you still have problems running scripts, refer to the following table for more information.</span></span>

| <span data-ttu-id="d64db-160">Hiba</span><span class="sxs-lookup"><span data-stu-id="d64db-160">Error</span></span> | <span data-ttu-id="d64db-161">Hibaüzenet</span><span class="sxs-lookup"><span data-stu-id="d64db-161">Error message</span></span> | <span data-ttu-id="d64db-162">Javasolt művelet</span><span class="sxs-lookup"><span data-stu-id="d64db-162">Recommended action</span></span> |
| ------------------------ | -------------- | ------------------ |
| <span data-ttu-id="d64db-163">Előre-ScriptExecutionFailed</span><span class="sxs-lookup"><span data-stu-id="d64db-163">Pre-ScriptExecutionFailed</span></span> |<span data-ttu-id="d64db-164">A előtti parancsfájl hibát jelzett, így előfordulhat, hogy a biztonsági másolat nem használható alkalmazáskonzisztens.</span><span class="sxs-lookup"><span data-stu-id="d64db-164">The pre-script returned an error, so backup might not be application-consistent.</span></span>   | <span data-ttu-id="d64db-165">Tekintse meg a hiba naplókat, javítsa ki a parancsfájlt.</span><span class="sxs-lookup"><span data-stu-id="d64db-165">Look at the failure logs for your script to fix the issue.</span></span>|  
|   <span data-ttu-id="d64db-166">POST-ScriptExecutionFailed</span><span class="sxs-lookup"><span data-stu-id="d64db-166">Post-ScriptExecutionFailed</span></span> |    <span data-ttu-id="d64db-167">Az utólagos parancsfájl, amely hatással lehet a alkalmazásállapot hibát adott vissza.</span><span class="sxs-lookup"><span data-stu-id="d64db-167">The post-script returned an error that might impact application state.</span></span> |    <span data-ttu-id="d64db-168">Tekintse meg a hiba keresse meg a parancsfájl hárítsa el a problémát, és ellenőrizze az alkalmazás állapotát.</span><span class="sxs-lookup"><span data-stu-id="d64db-168">Look at the failure logs for your script to fix the issue and check the application state.</span></span> |
| <span data-ttu-id="d64db-169">Előre-ScriptNotFound</span><span class="sxs-lookup"><span data-stu-id="d64db-169">Pre-ScriptNotFound</span></span> |  <span data-ttu-id="d64db-170">A előtti parancsfájl a megadott helyen nem található a **VMSnapshotScriptPluginConfig.json** konfigurációs fájlban.</span><span class="sxs-lookup"><span data-stu-id="d64db-170">The pre-script was not found at the location that's specified in the **VMSnapshotScriptPluginConfig.json** config file.</span></span> |   <span data-ttu-id="d64db-171">Győződjön meg arról, hogy előtti parancsfájl verziója alkalmazáskonzisztens biztonsági mentés a konfigurációs fájlban megadott elérési úton található.</span><span class="sxs-lookup"><span data-stu-id="d64db-171">Make sure that pre-script is present at the path that's specified in the config file to ensure application-consistent backup.</span></span>|
| <span data-ttu-id="d64db-172">POST-ScriptNotFound</span><span class="sxs-lookup"><span data-stu-id="d64db-172">Post-ScriptNotFound</span></span> | <span data-ttu-id="d64db-173">Az utólagos parancsfájl a megadott helyen nem található a **VMSnapshotScriptPluginConfig.json** konfigurációs fájlban.</span><span class="sxs-lookup"><span data-stu-id="d64db-173">The post-script wasn't found at the location that's specified in the **VMSnapshotScriptPluginConfig.json** config file.</span></span> |   <span data-ttu-id="d64db-174">Győződjön meg arról, hogy utáni parancsfájl verziója alkalmazáskonzisztens biztonsági mentés a konfigurációs fájlban megadott elérési úton található.</span><span class="sxs-lookup"><span data-stu-id="d64db-174">Make sure that post-script is present at the path that's specified in the config file to ensure application-consistent backup.</span></span>|
| <span data-ttu-id="d64db-175">IncorrectPluginhostFile</span><span class="sxs-lookup"><span data-stu-id="d64db-175">IncorrectPluginhostFile</span></span> | <span data-ttu-id="d64db-176">A **Pluginhost** fájl, amely VmSnapshotLinux kiterjesztésű, sérült, így parancsfájl előtti és utáni parancsfájl nem futtatható, és a biztonsági másolat nem használható alkalmazáskonzisztens.</span><span class="sxs-lookup"><span data-stu-id="d64db-176">The **Pluginhost** file, which comes with the VmSnapshotLinux extension, is corrupted, so pre-script and post-script cannot run and the backup won't be application-consistent.</span></span> | <span data-ttu-id="d64db-177">Távolítsa el a **VmSnapshotLinux** bővítményt, és automatikusan újratelepíti a következő biztonsági másolat, a probléma megoldása érdekében.</span><span class="sxs-lookup"><span data-stu-id="d64db-177">Uninstall the **VmSnapshotLinux** extension, and it will automatically be reinstalled with the next backup to fix the problem.</span></span> |
| <span data-ttu-id="d64db-178">IncorrectJSONConfigFile</span><span class="sxs-lookup"><span data-stu-id="d64db-178">IncorrectJSONConfigFile</span></span> | <span data-ttu-id="d64db-179">A **VMSnapshotScriptPluginConfig.json** fájl helytelen, így előtti parancsfájl és utáni parancsfájl nem futtatható, és a biztonsági másolat nem használható alkalmazáskonzisztens.</span><span class="sxs-lookup"><span data-stu-id="d64db-179">The **VMSnapshotScriptPluginConfig.json** file is incorrect, so pre-script and post-script cannot run and the backup won't be application-consistent.</span></span> | <span data-ttu-id="d64db-180">Töltse le a Másolás [GitHub](https://github.com/MicrosoftAzureBackup/VMSnapshotPluginConfig) és állítsa be újra.</span><span class="sxs-lookup"><span data-stu-id="d64db-180">Download the copy from [GitHub](https://github.com/MicrosoftAzureBackup/VMSnapshotPluginConfig) and configure it again.</span></span> |
| <span data-ttu-id="d64db-181">InsufficientPermissionforPre-parancsfájl</span><span class="sxs-lookup"><span data-stu-id="d64db-181">InsufficientPermissionforPre-Script</span></span> | <span data-ttu-id="d64db-182">A parancsfájlok futtatásához, a "Gyökér" felhasználói kell a fájl tulajdonosa, és a fájl "700" engedélyekkel kell rendelkezniük (Ez azt jelenti, hogy csak a "tulajdonos" kell "Olvasás", "write" és "végrehajtási" engedélyeket).</span><span class="sxs-lookup"><span data-stu-id="d64db-182">For running scripts, "root" user should be the owner of the file and the file should have “700” permissions (that is, only "owner" should have “read”, “write”, and “execute” permissions).</span></span> | <span data-ttu-id="d64db-183">Ellenőrizze, hogy "Gyökér" felhasználó a "tulajdonos" a parancsfájl és, hogy csak a "tulajdonos" rendelkezik "Olvasás", "write" és "hajtható végre".</span><span class="sxs-lookup"><span data-stu-id="d64db-183">Make sure “root” user is the “owner” of the script file and that only "owner" has “read”, “write” and “execute” permissions.</span></span> |
| <span data-ttu-id="d64db-184">InsufficientPermissionforPost-parancsfájl</span><span class="sxs-lookup"><span data-stu-id="d64db-184">InsufficientPermissionforPost-Script</span></span> | <span data-ttu-id="d64db-185">A parancsfájlok futtatásához, a gyökér szintű felhasználó kell a fájl tulajdonosa, és a fájl "700" engedélyekkel kell rendelkezniük (Ez azt jelenti, hogy csak a "tulajdonos" kell "Olvasás", "write" és "végrehajtási" engedélyeket).</span><span class="sxs-lookup"><span data-stu-id="d64db-185">For running scripts, root user should be the owner of the file and the file should have “700” permissions (that is, only "owner" should have “read”, “write”, and “execute” permissions).</span></span> | <span data-ttu-id="d64db-186">Ellenőrizze, hogy "Gyökér" felhasználó a "tulajdonos" a parancsfájl és, hogy csak a "tulajdonos" rendelkezik "Olvasás", "write" és "hajtható végre".</span><span class="sxs-lookup"><span data-stu-id="d64db-186">Make sure “root” user is the “owner” of the script file and that only "owner" has “read”, “write” and “execute” permissions.</span></span> |
| <span data-ttu-id="d64db-187">Előre-ScriptTimeout</span><span class="sxs-lookup"><span data-stu-id="d64db-187">Pre-ScriptTimeout</span></span> | <span data-ttu-id="d64db-188">Az alkalmazáskonzisztens biztonsági mentés előtti parancsfájlt időtúllépés miatt megszakadt végrehajtása.</span><span class="sxs-lookup"><span data-stu-id="d64db-188">The execution of the application-consistent backup pre-script timed-out.</span></span> | <span data-ttu-id="d64db-189">Ellenőrizze a parancsfájl, és növeli az időkorlátot adja meg a **VMSnapshotScriptPluginConfig.json** címen található fájl **/etc/azure**.</span><span class="sxs-lookup"><span data-stu-id="d64db-189">Check the script and increase the timeout in the **VMSnapshotScriptPluginConfig.json** file that's located at **/etc/azure**.</span></span> |
| <span data-ttu-id="d64db-190">POST-ScriptTimeout</span><span class="sxs-lookup"><span data-stu-id="d64db-190">Post-ScriptTimeout</span></span> | <span data-ttu-id="d64db-191">A végrehajtás alkalmazáskonzisztens biztonsági mentés utáni parancsfájlja túllépte az időkorlátot.</span><span class="sxs-lookup"><span data-stu-id="d64db-191">The execution of the application-consistent backup post-script timed out.</span></span> | <span data-ttu-id="d64db-192">Ellenőrizze a parancsfájl, és növeli az időkorlátot adja meg a **VMSnapshotScriptPluginConfig.json** címen található fájl **/etc/azure**.</span><span class="sxs-lookup"><span data-stu-id="d64db-192">Check the script and increase the timeout in the **VMSnapshotScriptPluginConfig.json** file that's located at **/etc/azure**.</span></span> |

## <a name="next-steps"></a><span data-ttu-id="d64db-193">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="d64db-193">Next steps</span></span>
[<span data-ttu-id="d64db-194">Virtuális gép biztonsági mentést a Recovery Services-tároló konfigurálása</span><span class="sxs-lookup"><span data-stu-id="d64db-194">Configure VM backup to a Recovery Services vault</span></span>](https://docs.microsoft.com/azure/backup/backup-azure-arm-vms)
