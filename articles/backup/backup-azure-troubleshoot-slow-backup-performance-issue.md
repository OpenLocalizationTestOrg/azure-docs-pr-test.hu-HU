---
title: "fájlok és mappák, az Azure Backup lassú másolata aaaTroubleshoot |} Microsoft Docs"
description: "Nyújt hibaelhárítási útmutatót toohelp akkor diagnosztizálhatja hello Azure biztonsági mentés teljesítményproblémák okait"
services: backup
documentationcenter: 
author: genlin
manager: cshepard
editor: 
ms.assetid: e379180a-db13-4e0c-90e4-28e5dd6f5b14
ms.service: backup
ms.workload: storage-backup-recovery
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 06/13/2017
ms.author: genli
ms.openlocfilehash: 21d79bbd03c2706bc43fcc7c14020cffd6b919c7
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="troubleshoot-slow-backup-of-files-and-folders-in-azure-backup"></a><span data-ttu-id="cec95-103">Az Azure Backup-fájlok és -mappák lassú biztonsági mentésének hibaelhárítása</span><span class="sxs-lookup"><span data-stu-id="cec95-103">Troubleshoot slow backup of files and folders in Azure Backup</span></span>
<span data-ttu-id="cec95-104">Ez a cikk nyújt hibaelhárítási útmutatót toohelp akkor diagnosztizálhatja a fájlok és mappák biztonsági mentési teljesítménycsökkenést hello okát használatakor Azure Backup szolgáltatás.</span><span class="sxs-lookup"><span data-stu-id="cec95-104">This article provides troubleshooting guidance toohelp you diagnose hello cause of slow backup performance for files and folders when you're using Azure Backup.</span></span> <span data-ttu-id="cec95-105">Hello Azure Backup agent tooback fájlok használata esetén hello biztonsági mentési folyamat hosszabb ideig tarthat.</span><span class="sxs-lookup"><span data-stu-id="cec95-105">When you use hello Azure Backup agent tooback up files, hello backup process might take longer than expected.</span></span> <span data-ttu-id="cec95-106">Ez a késés oka lehet egy vagy több hello következő:</span><span class="sxs-lookup"><span data-stu-id="cec95-106">This delay might be caused by one or more of hello following:</span></span>

* [<span data-ttu-id="cec95-107">Nincsenek szűk keresztmetszetek hello számítógépen, amelyek biztonsági mentése van folyamatban.</span><span class="sxs-lookup"><span data-stu-id="cec95-107">There are performance bottlenecks on hello computer that’s being backed up.</span></span>](#cause1)
* [<span data-ttu-id="cec95-108">Egy másik folyamat vagy a víruskereső szoftver zavarja hello Azure biztonsági mentési folyamat.</span><span class="sxs-lookup"><span data-stu-id="cec95-108">Another process or antivirus software is interfering with hello Azure Backup process.</span></span>](#cause2)
* [<span data-ttu-id="cec95-109">hello Backup-ügynök fut egy Azure virtuális gép (VM).</span><span class="sxs-lookup"><span data-stu-id="cec95-109">hello Backup agent is running on an Azure virtual machine (VM).</span></span>](#cause3)  
* [<span data-ttu-id="cec95-110">Biztonsági mentést készít a fájlok sok (több millió).</span><span class="sxs-lookup"><span data-stu-id="cec95-110">You're backing up a large number (millions) of files.</span></span>](#cause4)

<span data-ttu-id="cec95-111">Mielőtt elkezdené a problémák elhárításához, azt javasoljuk, hogy letölti és telepíti a hello [legújabb Azure Backup szolgáltatás ügynökének](http://aka.ms/azurebackup_agent).</span><span class="sxs-lookup"><span data-stu-id="cec95-111">Before you start troubleshooting issues, we recommend that you download and install hello [latest Azure Backup agent](http://aka.ms/azurebackup_agent).</span></span> <span data-ttu-id="cec95-112">Azt a gyakori frissítések toohello biztonsági mentési ügynök toofix teheti különböző problémákat, szolgáltatások hozzáadása, és a teljesítmény javítása.</span><span class="sxs-lookup"><span data-stu-id="cec95-112">We make frequent updates toohello Backup agent toofix various issues, add features, and improve performance.</span></span>

<span data-ttu-id="cec95-113">Emellett ajánlott áttekinteni hello [Azure Backup szolgáltatás – gyakori kérdések](backup-azure-backup-faq.md) toomake meg arról, hogy nem minden hello közös konfigurációs problémák tapasztalhatók.</span><span class="sxs-lookup"><span data-stu-id="cec95-113">We also strongly recommend that you review hello [Azure Backup service FAQ](backup-azure-backup-faq.md) toomake sure you're not experiencing any of hello common configuration issues.</span></span>

[!INCLUDE [support-disclaimer](../../includes/support-disclaimer.md)]

<a id="cause1"></a>

## <a name="cause-performance-bottlenecks-on-hello-computer"></a><span data-ttu-id="cec95-114">OK: Szűk keresztmetszetek hello számítógépen</span><span class="sxs-lookup"><span data-stu-id="cec95-114">Cause: Performance bottlenecks on hello computer</span></span>
<span data-ttu-id="cec95-115">A szűk keresztmetszetek hello számítógép, amelyek biztonsági mentése van folyamatban késést okozhat.</span><span class="sxs-lookup"><span data-stu-id="cec95-115">Bottlenecks on hello computer that's being backed up can cause delays.</span></span> <span data-ttu-id="cec95-116">Például a számítógép képes tooread vagy írási toodisk hello, vagy a rendelkezésre álló sávszélesség toosend adatok hello hálózaton okozhat a szűk keresztmetszeteket.</span><span class="sxs-lookup"><span data-stu-id="cec95-116">For example, hello computer's ability tooread or write toodisk, or available bandwidth toosend data over hello network, can cause bottlenecks.</span></span>

<span data-ttu-id="cec95-117">A Windows beépített eszközt nevezett biztosít [Teljesítményfigyelő](https://technet.microsoft.com/magazine/2008.08.pulse.aspx) (Perfmon) toodetect a szűk keresztmetszeteket.</span><span class="sxs-lookup"><span data-stu-id="cec95-117">Windows provides a built-in tool that's called [Performance Monitor](https://technet.microsoft.com/magazine/2008.08.pulse.aspx) (Perfmon) toodetect these bottlenecks.</span></span>

<span data-ttu-id="cec95-118">Íme, néhány teljesítményszámlálók és a tartományt a szűk keresztmetszetek optimális biztonsági másolatok diagnosztizálásához hasznos lehet.</span><span class="sxs-lookup"><span data-stu-id="cec95-118">Here are some performance counters and ranges that can be helpful in diagnosing bottlenecks for optimal backups.</span></span>

| <span data-ttu-id="cec95-119">A számláló</span><span class="sxs-lookup"><span data-stu-id="cec95-119">Counter</span></span> | <span data-ttu-id="cec95-120">status</span><span class="sxs-lookup"><span data-stu-id="cec95-120">Status</span></span> |
| --- | --- |
| <span data-ttu-id="cec95-121">Logikai lemez (fizikai lemez) – üresjárati %</span><span class="sxs-lookup"><span data-stu-id="cec95-121">Logical Disk(Physical Disk)--%idle</span></span> |<span data-ttu-id="cec95-122">• 100 %-os üresjárati too50 % üresjárati = kifogástalan</span><span class="sxs-lookup"><span data-stu-id="cec95-122">• 100% idle too50% idle = Healthy</span></span></br><span data-ttu-id="cec95-123">• 49 % üresjárati too20 % üresjárati = figyelmeztetés vagy a figyelő</span><span class="sxs-lookup"><span data-stu-id="cec95-123">• 49% idle too20% idle = Warning or Monitor</span></span></br><span data-ttu-id="cec95-124">• 19 % üresjárati too0 % üresjárati kritikus vagy kívüli Spec =</span><span class="sxs-lookup"><span data-stu-id="cec95-124">• 19% idle too0% idle = Critical or Out of Spec</span></span> |
| <span data-ttu-id="cec95-125">Logikai lemez (fizikai lemez) – % Átl. Lemez mp Olvasás vagy írás</span><span class="sxs-lookup"><span data-stu-id="cec95-125">Logical Disk(Physical Disk)--%Avg. Disk Sec Read or Write</span></span> |<span data-ttu-id="cec95-126">• 0,001 ms too0.015 ms = kifogástalan</span><span class="sxs-lookup"><span data-stu-id="cec95-126">• 0.001 ms too0.015 ms  = Healthy</span></span></br><span data-ttu-id="cec95-127">• 0,015 ms too0.025 ms = figyelmeztetés vagy a figyelő</span><span class="sxs-lookup"><span data-stu-id="cec95-127">• 0.015 ms too0.025 ms = Warning or Monitor</span></span></br><span data-ttu-id="cec95-128">• 0.026 ms vagy kritikus vagy kívüli Spec már =</span><span class="sxs-lookup"><span data-stu-id="cec95-128">• 0.026 ms or longer = Critical or Out of Spec</span></span> |
| <span data-ttu-id="cec95-129">Logikai lemez (fizikai lemez) – Lemezvárólista jelenlegi hossza (az összes példányra)</span><span class="sxs-lookup"><span data-stu-id="cec95-129">Logical Disk(Physical Disk)--Current Disk Queue Length (for all instances)</span></span> |<span data-ttu-id="cec95-130">80 kérelem 6 percnél hosszabb ideig</span><span class="sxs-lookup"><span data-stu-id="cec95-130">80 requests for more than 6 minutes</span></span> |
| <span data-ttu-id="cec95-131">Memória – nem lapozható memória</span><span class="sxs-lookup"><span data-stu-id="cec95-131">Memory--Pool Non Paged Bytes</span></span> |<span data-ttu-id="cec95-132">• Felhasznált készlet 60 %-nál kisebb = kifogástalan</span><span class="sxs-lookup"><span data-stu-id="cec95-132">• Less than 60% of pool consumed = Healthy</span></span><br><span data-ttu-id="cec95-133">• 61 % too80 % felhasznált készlet = figyelmeztetés vagy a figyelő</span><span class="sxs-lookup"><span data-stu-id="cec95-133">• 61% too80% of pool consumed = Warning or Monitor</span></span></br><span data-ttu-id="cec95-134">• Nagyobb, mint a 80 %-készlet felhasznált kritikus vagy kívüli Spec =</span><span class="sxs-lookup"><span data-stu-id="cec95-134">• Greater than 80% pool consumed = Critical or Out of Spec</span></span> |
| <span data-ttu-id="cec95-135">Memória – lapozható készlet mérete bájtban</span><span class="sxs-lookup"><span data-stu-id="cec95-135">Memory--Pool Paged Bytes</span></span> |<span data-ttu-id="cec95-136">• Felhasznált készlet 60 %-nál kisebb = kifogástalan</span><span class="sxs-lookup"><span data-stu-id="cec95-136">• Less than 60% of pool consumed = Healthy</span></span></br><span data-ttu-id="cec95-137">• 61 % too80 % felhasznált készlet = figyelmeztetés vagy a figyelő</span><span class="sxs-lookup"><span data-stu-id="cec95-137">• 61% too80% of pool consumed = Warning or Monitor</span></span></br><span data-ttu-id="cec95-138">• Nagyobb, mint a 80 %-készlet felhasznált kritikus vagy kívüli Spec =</span><span class="sxs-lookup"><span data-stu-id="cec95-138">• Greater than 80% pool consumed = Critical or Out of Spec</span></span> |
| <span data-ttu-id="cec95-139">Memória – rendelkezésre álló hely MB-ban</span><span class="sxs-lookup"><span data-stu-id="cec95-139">Memory--Available Megabytes</span></span> |<span data-ttu-id="cec95-140">• 50 %-a rendelkezésre álló szabad memória vagy további = kifogástalan</span><span class="sxs-lookup"><span data-stu-id="cec95-140">• 50% of free memory available or more = Healthy</span></span></br><span data-ttu-id="cec95-141">• 25 %-a rendelkezésre álló szabad memória = figyelője</span><span class="sxs-lookup"><span data-stu-id="cec95-141">• 25% of free memory available = Monitor</span></span></br><span data-ttu-id="cec95-142">• 10 %-a rendelkezésre álló szabad memória = figyelmeztetés</span><span class="sxs-lookup"><span data-stu-id="cec95-142">• 10% of free memory available = Warning</span></span></br><span data-ttu-id="cec95-143">• Kevesebb mint 100 MB vagy 5 %-a rendelkezésre álló szabad memória kritikus vagy kívüli Spec =</span><span class="sxs-lookup"><span data-stu-id="cec95-143">• Less than 100 MB or 5% of free memory available = Critical or Out of Spec</span></span> |
| <span data-ttu-id="cec95-144">Processzor –\%processzor kihasználtsága ()</span><span class="sxs-lookup"><span data-stu-id="cec95-144">Processor--\%Processor Time (all instances)</span></span> |<span data-ttu-id="cec95-145">• 60 %-nál kisebb felhasznált = kifogástalan</span><span class="sxs-lookup"><span data-stu-id="cec95-145">• Less than 60% consumed = Healthy</span></span></br><span data-ttu-id="cec95-146">• 61 % too90 % felhasznált = figyelő vagy figyelmeztetés</span><span class="sxs-lookup"><span data-stu-id="cec95-146">• 61% too90% consumed = Monitor or Caution</span></span></br><span data-ttu-id="cec95-147">• 91 % too100 % felhasznált kritikus =</span><span class="sxs-lookup"><span data-stu-id="cec95-147">• 91% too100% consumed = Critical</span></span> |

> [!NOTE]
> <span data-ttu-id="cec95-148">Ha azt állapítja meg, hogy hello infrastruktúra hello hibát okozó, azt javasoljuk, hogy töredezettségmentesítése hello lemezek, rendszeresen a jobb teljesítmény érdekében.</span><span class="sxs-lookup"><span data-stu-id="cec95-148">If you determine that hello infrastructure is hello culprit, we recommend that you defragment hello disks regularly for better performance.</span></span>
>
>

<a id="cause2"></a>

## <a name="cause-another-process-or-antivirus-software-interfering-with-azure-backup"></a><span data-ttu-id="cec95-149">OK: Egy másik folyamat vagy az Azure Backup zavarja, a víruskereső szoftver</span><span class="sxs-lookup"><span data-stu-id="cec95-149">Cause: Another process or antivirus software interfering with Azure Backup</span></span>
<span data-ttu-id="cec95-150">Ha más folyamatok, a rendszer a Windows hello negatívan befolyásolt hello Azure Backup szolgáltatás ügynökének folyamatánál teljesítményének több példány is láttuk.</span><span class="sxs-lookup"><span data-stu-id="cec95-150">We've seen several instances where other processes in hello Windows system have negatively affected performance of hello Azure Backup agent process.</span></span> <span data-ttu-id="cec95-151">Például hello Azure Backup szolgáltatás ügynöke és az adatokat egy másik program tooback használható, vagy ha víruskereső fut, és a fájlok toobe zárolását biztonsági másolatot készített, hello fájlokon több zárral okozhat a versengés.</span><span class="sxs-lookup"><span data-stu-id="cec95-151">For example, if you use both hello Azure Backup agent and another program tooback up data, or if antivirus software is running and has a lock on files toobe backed up, hello multiple locks on files might cause contention.</span></span> <span data-ttu-id="cec95-152">Ebben a helyzetben hello biztonsági mentés sikertelen lehet, vagy hello feladat a vártnál hosszabb ideig is tarthat.</span><span class="sxs-lookup"><span data-stu-id="cec95-152">In this situation, hello backup might fail, or hello job might take longer than expected.</span></span>

<span data-ttu-id="cec95-153">Ebben a forgatókönyvben a legjobb javaslat hello van a más biztonsági mentési program toosee tooturn hello ki e hello biztonsági mentésének ideje hello Azure Backup szolgáltatás ügynöke változik.</span><span class="sxs-lookup"><span data-stu-id="cec95-153">hello best recommendation in this scenario is tooturn off hello other backup program toosee whether hello backup time for hello Azure Backup agent changes.</span></span> <span data-ttu-id="cec95-154">Általában, annak biztosítása, hogy több biztonsági mentési feladatok nem futnak, hello egyszerre nem elegendő tooprevent befolyásolják egymástól őket.</span><span class="sxs-lookup"><span data-stu-id="cec95-154">Usually, making sure that multiple backup jobs are not running at hello same time is sufficient tooprevent them from affecting each other.</span></span>

<span data-ttu-id="cec95-155">A víruskereső programok, azt javasoljuk, hogy zárja ki a következő hello fájlok és helyek:</span><span class="sxs-lookup"><span data-stu-id="cec95-155">For antivirus programs, we recommend that you exclude hello following files and locations:</span></span>

* <span data-ttu-id="cec95-156">C:\Program Files\Microsoft Azure Recovery Services Agent\bin\cbengine.exe folyamatként</span><span class="sxs-lookup"><span data-stu-id="cec95-156">C:\Program Files\Microsoft Azure Recovery Services Agent\bin\cbengine.exe as a process</span></span>
* <span data-ttu-id="cec95-157">C:\Program Files\Microsoft Azure Recovery Services Agent\ mappák</span><span class="sxs-lookup"><span data-stu-id="cec95-157">C:\Program Files\Microsoft Azure Recovery Services Agent\ folders</span></span>
* <span data-ttu-id="cec95-158">Ideiglenes helyre (Ha nem használja a szokásos helyre hello)</span><span class="sxs-lookup"><span data-stu-id="cec95-158">Scratch location (if you're not using hello standard location)</span></span>

<a id="cause3"></a>

## <a name="cause-backup-agent-running-on-an-azure-virtual-machine"></a><span data-ttu-id="cec95-159">OK: Egy Azure virtuális gépen futó Backup szolgáltatás ügynökének</span><span class="sxs-lookup"><span data-stu-id="cec95-159">Cause: Backup agent running on an Azure virtual machine</span></span>
<span data-ttu-id="cec95-160">Ha a hello Backup szolgáltatás ügynökének a virtuális gép fut, teljesítmény lesz lassabb, mint ha is futtat, a fizikai gépen.</span><span class="sxs-lookup"><span data-stu-id="cec95-160">If you're running hello Backup agent on a VM, performance will be slower than when you run it on a physical machine.</span></span> <span data-ttu-id="cec95-161">Ez egy várható üzenet, tooIOPS korlátozásai miatt.</span><span class="sxs-lookup"><span data-stu-id="cec95-161">This is expected due tooIOPS limitations.</span></span>  <span data-ttu-id="cec95-162">Hello teljesítmény azonban hello adatmeghajtók, amelyekről tooAzure prémium szintű Storage alatt váltásával is optimalizálhatja.</span><span class="sxs-lookup"><span data-stu-id="cec95-162">However, you can optimize hello performance by switching hello data drives that are being backed up tooAzure Premium Storage.</span></span> <span data-ttu-id="cec95-163">A probléma megoldásán dolgozunk, és hello javítás egy későbbi kiadásban elérhető lesz.</span><span class="sxs-lookup"><span data-stu-id="cec95-163">We're working on fixing this issue, and hello fix will be available in a future release.</span></span>

<a id="cause4"></a>

## <a name="cause-backing-up-a-large-number-millions-of-files"></a><span data-ttu-id="cec95-164">OK: Biztonsági másolatának fájljait sok (több millió)</span><span class="sxs-lookup"><span data-stu-id="cec95-164">Cause: Backing up a large number (millions) of files</span></span>
<span data-ttu-id="cec95-165">Nagy mennyiségű adat áthelyezését-nál kisebb mennyiségű adat áthelyezését hosszabb ideig tart.</span><span class="sxs-lookup"><span data-stu-id="cec95-165">Moving a large volume of data will take longer than moving a smaller volume of data.</span></span> <span data-ttu-id="cec95-166">Bizonyos esetekben biztonságimásolat-készítési időpont kapcsolódó toonot csak hello hello adatokat, hanem a fájlok vagy mappák hello száma méretét.</span><span class="sxs-lookup"><span data-stu-id="cec95-166">In some cases, backup time is related toonot only hello size of hello data, but also hello number of files or folders.</span></span> <span data-ttu-id="cec95-167">Ez különösen igaz, ha több millió kis fájlt (néhány bájt tooa néhány kilobájtostól) biztonsági mentése van folyamatban.</span><span class="sxs-lookup"><span data-stu-id="cec95-167">This is especially true when millions of small files (a few bytes tooa few kilobytes) are being backed up.</span></span>

<span data-ttu-id="cec95-168">Ez akkor fordul elő, mert amíg hello adatok biztonsági mentése és tooAzure áthelyezni, Azure egyidejűleg katalogizálni a fájlokat.</span><span class="sxs-lookup"><span data-stu-id="cec95-168">This behavior occurs because while you're backing up hello data and moving it tooAzure, Azure is simultaneously cataloging your files.</span></span> <span data-ttu-id="cec95-169">Bizonyos ritka esetekben hello katalógus művelet hosszabb ideig is tarthat.</span><span class="sxs-lookup"><span data-stu-id="cec95-169">In some rare scenarios, hello catalog operation might take longer than expected.</span></span>

<span data-ttu-id="cec95-170">a következő mutatók hello segítségével hello szűk ismertetése, és ennek megfelelően működnek a hello lépések:</span><span class="sxs-lookup"><span data-stu-id="cec95-170">hello following indicators can help you understand hello bottleneck and accordingly work on hello next steps:</span></span>

* <span data-ttu-id="cec95-171">**Felhasználói felülete látható hello adatátvitel folyamatban**.</span><span class="sxs-lookup"><span data-stu-id="cec95-171">**UI is showing progress for hello data transfer**.</span></span> <span data-ttu-id="cec95-172">hello továbbra is adatátvitel.</span><span class="sxs-lookup"><span data-stu-id="cec95-172">hello data is still being transferred.</span></span> <span data-ttu-id="cec95-173">hello hálózati sávszélesség vagy adatok hello mérete okozza késést.</span><span class="sxs-lookup"><span data-stu-id="cec95-173">hello network bandwidth or hello size of data might be causing delays.</span></span>
* <span data-ttu-id="cec95-174">**Felhasználói felület nem látható folyamatjelző hello adatátvitel**.</span><span class="sxs-lookup"><span data-stu-id="cec95-174">**UI is not showing progress for hello data transfer**.</span></span> <span data-ttu-id="cec95-175">Megnyitás hello naplókat C:\Microsoft Azure Recovery Services Agent\Temp helyen, és ezután ellenőrizze a hello hello naplók FileProvider::EndData bejegyzést.</span><span class="sxs-lookup"><span data-stu-id="cec95-175">Open hello logs located at C:\Microsoft Azure Recovery Services Agent\Temp, and then check for hello FileProvider::EndData entry in hello logs.</span></span> <span data-ttu-id="cec95-176">Ez a bejegyzés azt jelzi, hogy, hogy hello adatátvitel befejeződött, és hello katalógus művelet történik.</span><span class="sxs-lookup"><span data-stu-id="cec95-176">This entry signifies that hello data transfer finished and hello catalog operation is happening.</span></span> <span data-ttu-id="cec95-177">Hello biztonsági mentési feladat nem szakítható meg.</span><span class="sxs-lookup"><span data-stu-id="cec95-177">Don't cancel hello backup jobs.</span></span> <span data-ttu-id="cec95-178">Ehelyett Várjon, amíg már kissé hello katalógus művelet toofinish.</span><span class="sxs-lookup"><span data-stu-id="cec95-178">Instead, wait a little longer for hello catalog operation toofinish.</span></span> <span data-ttu-id="cec95-179">Ha hello a probléma továbbra is fennáll, forduljon a [az Azure támogatási](https://portal.azure.com/#create/Microsoft.Support).</span><span class="sxs-lookup"><span data-stu-id="cec95-179">If hello problem persists, contact [Azure support](https://portal.azure.com/#create/Microsoft.Support).</span></span>
