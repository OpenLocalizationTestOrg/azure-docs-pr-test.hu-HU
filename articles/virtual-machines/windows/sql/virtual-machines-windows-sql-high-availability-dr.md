---
title: "aaaHigh rendelkezésre álláshoz és Vészhelyreállításhoz az SQL Server |} Microsoft Docs"
description: "Információt a különböző típusú HADR stratégiák hello Azure virtuális gépeken futó SQL Server."
services: virtual-machines-windows
documentationcenter: na
author: MikeRayMSFT
manager: jhubbard
editor: 
tags: azure-service-management
ms.assetid: 53981f7e-8370-4979-b26a-93a5988d905f
ms.service: virtual-machines-sql
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: vm-windows-sql-server
ms.workload: iaas-sql-server
ms.date: 06/27/2017
ms.author: mikeray
ms.openlocfilehash: 2b62d8b30520952ba6b7da7177a2c2de95bea8ce
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="high-availability-and-disaster-recovery-for-sql-server-in-azure-virtual-machines"></a><span data-ttu-id="68a7e-103">Magas rendelkezésre állás és vészhelyreállítás az Azure-beli SQL Server-alapú virtuális gépeken</span><span class="sxs-lookup"><span data-stu-id="68a7e-103">High availability and disaster recovery for SQL Server in Azure Virtual Machines</span></span>

<span data-ttu-id="68a7e-104">A Microsoft Azure virtuális gépek (VM) az SQL Server magas rendelkezésre állási és vészhelyreállítási (HADR) helyreállítási adatbázis-megoldás költsége alacsonyabb hello segítségével.</span><span class="sxs-lookup"><span data-stu-id="68a7e-104">Microsoft Azure virtual machines (VMs) with SQL Server can help lower hello cost of a high availability and disaster recovery (HADR) database solution.</span></span> <span data-ttu-id="68a7e-105">A legtöbb SQL Server HADR megoldás az Azure virtuális gépeken, csak Azure- és hibrid megoldásként támogatottak.</span><span class="sxs-lookup"><span data-stu-id="68a7e-105">Most SQL Server HADR solutions are supported in Azure virtual machines, both as Azure-only and as hybrid solutions.</span></span> <span data-ttu-id="68a7e-106">A csak Azure megoldás hello teljes HADR rendszer fut, az Azure-ban.</span><span class="sxs-lookup"><span data-stu-id="68a7e-106">In an Azure-only solution, hello entire HADR system runs in Azure.</span></span> <span data-ttu-id="68a7e-107">Hibrid konfigurációban hello megoldás részét képező Azure fut, és más részben futtatása helyszíni a szervezet hello.</span><span class="sxs-lookup"><span data-stu-id="68a7e-107">In a hybrid configuration, part of hello solution runs in Azure and hello other part runs on-premises in your organization.</span></span> <span data-ttu-id="68a7e-108">hello hello Azure környezetben rugalmasságával lehetővé teszi a toomove részben vagy teljesen tooAzure toosatisfy hello és a HADR követelmények az SQL Server adatbázis-e a rendszer.</span><span class="sxs-lookup"><span data-stu-id="68a7e-108">hello flexibility of hello Azure environment enables you toomove partially or completely tooAzure toosatisfy hello budget and HADR requirements of your SQL Server database systems.</span></span>

[!INCLUDE [learn-about-deployment-models](../../../../includes/learn-about-deployment-models-both-include.md)]

## <a name="understanding-hello-need-for-an-hadr-solution"></a><span data-ttu-id="68a7e-109">Egy HADR megoldás hello szükségességét ismertetése</span><span class="sxs-lookup"><span data-stu-id="68a7e-109">Understanding hello need for an HADR solution</span></span>
<span data-ttu-id="68a7e-110">Tooyou tooensure fel, hogy az adatbázis-rendszer hello HADR képességek hello szolgáltatásszint-szerződéssel (SLA) igénylő rendelkezik-e.</span><span class="sxs-lookup"><span data-stu-id="68a7e-110">It is up tooyou tooensure that your database system possesses hello HADR capabilities that hello service-level agreement (SLA) requires.</span></span> <span data-ttu-id="68a7e-111">Azure által biztosított magas rendelkezésre állású mechanizmusok, például a felhőszolgáltatásokhoz és virtuális gépek helyreállítási hibaészlelés szolgáltatásjavításnak hello tény maga garantálja is megfelel a szükséges hello SLA-t.</span><span class="sxs-lookup"><span data-stu-id="68a7e-111">hello fact that Azure provides high availability mechanisms, such as service healing for cloud services and failure recovery detection for Virtual Machines, does not itself guarantee you can meet hello desired SLA.</span></span> <span data-ttu-id="68a7e-112">Ezek a mechanizmusok hello hello virtuális gépek magas rendelkezésre állású, de nem hello magas rendelkezésre állású virtuális gépek hello belül futó SQL Server védelme.</span><span class="sxs-lookup"><span data-stu-id="68a7e-112">These mechanisms protect hello high availability of hello VMs but not hello high availability of SQL Server running inside hello VMs.</span></span> <span data-ttu-id="68a7e-113">Lehetőség az SQL Server-példány toofail hello közben hello virtuális gép online állapotú, és kifogástalan.</span><span class="sxs-lookup"><span data-stu-id="68a7e-113">It is possible for hello SQL Server instance toofail while hello VM is online and healthy.</span></span> <span data-ttu-id="68a7e-114">Továbbá, még akkor is, hello magas rendelkezésre állású Azure által biztosított mechanizmusokkal a virtuális gépek hello állásideje esedékes tooevents például helyreállítás szoftveres vagy hardveres hibákat és azokat az operációs rendszer frissítése során.</span><span class="sxs-lookup"><span data-stu-id="68a7e-114">Moreover, even hello high availability mechanisms provided by Azure allow for downtime of hello VMs due tooevents such as recovery from software or hardware failures and operating system upgrades.</span></span>

<span data-ttu-id="68a7e-115">Ezenkívül földrajzi redundáns tárolás (GRS) az Azure, georeplikáció nevezett szolgáltatással segítségével valósul meg, amely nem lehet egy megfelelő vész-helyreállítási megoldást az adatbázisok esetében.</span><span class="sxs-lookup"><span data-stu-id="68a7e-115">In addition, Geo Redundant Storage (GRS) in Azure, which is implemented with a feature called geo-replication, may not be an adequate disaster recovery solution for your databases.</span></span> <span data-ttu-id="68a7e-116">Georeplikálási aszinkron módon elküldi az adatokat, mert hello esemény katasztrófa a legújabb frissítéseket is elvesznek.</span><span class="sxs-lookup"><span data-stu-id="68a7e-116">Because geo-replication sends data asynchronously, recent updates can be lost in hello event of disaster.</span></span> <span data-ttu-id="68a7e-117">Georeplikálási korlátozások kapcsolatos további tudnivalókért lásd: hello [georeplikáció nem támogatott az adat- és naplófájlok külön lemezeken](#geo-replication-support) szakasz.</span><span class="sxs-lookup"><span data-stu-id="68a7e-117">More information regarding geo-replication limitations are covered in hello [Geo-replication not supported for data and log files on separate disks](#geo-replication-support) section.</span></span>

## <a name="hadr-deployment-architectures"></a><span data-ttu-id="68a7e-118">HADR telepítési architektúrák</span><span class="sxs-lookup"><span data-stu-id="68a7e-118">HADR deployment architectures</span></span>
<span data-ttu-id="68a7e-119">Azure által támogatott SQL Server HADR a technológiák többek között:</span><span class="sxs-lookup"><span data-stu-id="68a7e-119">SQL Server HADR technologies that are supported in Azure include:</span></span>

* [<span data-ttu-id="68a7e-120">Always On rendelkezésre állási csoportok</span><span class="sxs-lookup"><span data-stu-id="68a7e-120">Always On Availability Groups</span></span>](https://technet.microsoft.com/library/hh510230.aspx)
* [<span data-ttu-id="68a7e-121">Mindig a Feladatátvevőfürt-példányok</span><span class="sxs-lookup"><span data-stu-id="68a7e-121">Always On Failover Cluster Instances</span></span>](https://technet.microsoft.com/library/ms189134.aspx)
* [<span data-ttu-id="68a7e-122">Naplóküldés</span><span class="sxs-lookup"><span data-stu-id="68a7e-122">Log Shipping</span></span>](https://technet.microsoft.com/library/ms187103.aspx)
* [<span data-ttu-id="68a7e-123">SQL Server biztonsági mentése és visszaállítása az Azure Blob Storage szolgáltatással</span><span class="sxs-lookup"><span data-stu-id="68a7e-123">SQL Server Backup and Restore with Azure Blob Storage Service</span></span>](https://msdn.microsoft.com/library/jj919148.aspx)
* <span data-ttu-id="68a7e-124">[Az adatbázis-tükrözés](https://technet.microsoft.com/library/ms189852.aspx) – az SQL Server 2016 elavult</span><span class="sxs-lookup"><span data-stu-id="68a7e-124">[Database Mirroring](https://technet.microsoft.com/library/ms189852.aspx) - Deprecated in SQL Server 2016</span></span>

<span data-ttu-id="68a7e-125">Már lehetséges toocombine hello technológiák együttesen tooimplement egy SQL Server megoldást, amely a magas rendelkezésre állású és vész-helyreállítási funkciók is rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="68a7e-125">It is possible toocombine hello technologies together tooimplement a SQL Server solution that has both high availability and disaster recovery capabilities.</span></span> <span data-ttu-id="68a7e-126">Attól függően, hogy hello technológiát használ a hibrid telepítés hello Azure-beli virtuális hálózat a VPN-alagúton lehet szükség.</span><span class="sxs-lookup"><span data-stu-id="68a7e-126">Depending on hello technology you use, a hybrid deployment may require a VPN tunnel with hello Azure virtual network.</span></span> <span data-ttu-id="68a7e-127">az alábbi hello szakaszok mutatják be a hello Példa telepítési architektúrák.</span><span class="sxs-lookup"><span data-stu-id="68a7e-127">hello sections below show you some of hello example deployment architectures.</span></span>

## <a name="azure-only-high-availability-solutions"></a><span data-ttu-id="68a7e-128">Csak Azure: magas rendelkezésre állású megoldások</span><span class="sxs-lookup"><span data-stu-id="68a7e-128">Azure-only: High availability solutions</span></span>

<span data-ttu-id="68a7e-129">Az SQL Server egy magas rendelkezésre állású megoldás lehet az Always On rendelkezésre állási csoportok - nevű rendelkezésre állási csoportok egy adatbázis szintjén.</span><span class="sxs-lookup"><span data-stu-id="68a7e-129">You can have a high availability solution for SQL Server at a database level with Always On Availability Groups - called availability groups.</span></span> <span data-ttu-id="68a7e-130">Is létrehozhat egy magas rendelkezésre állású megoldás egy példány szintjén az mindig a Feladatátvevőfürt-példányok - feladatátvevő fürtpéldányok.</span><span class="sxs-lookup"><span data-stu-id="68a7e-130">You can also create a high availability solution at an instance level with Always On Failover Cluster Instances - failover cluster instances.</span></span> <span data-ttu-id="68a7e-131">További redundancia jelentkezhet létrehozhat redundancia mindkét szinten létrehozásával rendelkezésre állási csoportok feladatátvevő fürtpéldányok.</span><span class="sxs-lookup"><span data-stu-id="68a7e-131">For additional redundancy, you can create redundancy at both levels by creating availability groups on failover cluster instances.</span></span> 

| <span data-ttu-id="68a7e-132">Technológia</span><span class="sxs-lookup"><span data-stu-id="68a7e-132">Technology</span></span> | <span data-ttu-id="68a7e-133">Példa architektúrák</span><span class="sxs-lookup"><span data-stu-id="68a7e-133">Example Architectures</span></span> |
| --- | --- |
| <span data-ttu-id="68a7e-134">**Rendelkezésre állási csoportok**</span><span class="sxs-lookup"><span data-stu-id="68a7e-134">**Availability groups**</span></span> |<span data-ttu-id="68a7e-135">Az Azure virtuális gépeken futó rendelkezésre állási másodpéldányok hello azonos régióban magas rendelkezésre állás biztosításához.</span><span class="sxs-lookup"><span data-stu-id="68a7e-135">Availability replicas running in Azure VMs in hello same region provide high availability.</span></span> <span data-ttu-id="68a7e-136">Tooconfigure egy tartományvezérlő virtuális Gépnek, mert a Windows feladatátvételi fürtszolgáltatás szükséges Active Directory-tartományhoz kell.</span><span class="sxs-lookup"><span data-stu-id="68a7e-136">You need tooconfigure a domain controller VM, because Windows failover clustering requires an Active Directory domain.</span></span><br/> <span data-ttu-id="68a7e-137">![Rendelkezésre állási csoportok](./media/virtual-machines-windows-sql-high-availability-dr/azure_only_ha_always_on.gif)</span><span class="sxs-lookup"><span data-stu-id="68a7e-137">![Availability Groups](./media/virtual-machines-windows-sql-high-availability-dr/azure_only_ha_always_on.gif)</span></span><br/><span data-ttu-id="68a7e-138">További információkért lásd: [rendelkezésre állási csoportok konfigurálása az Azure (GUI)](virtual-machines-windows-portal-sql-alwayson-availability-groups.md).</span><span class="sxs-lookup"><span data-stu-id="68a7e-138">For more information, see [Configure Availability Groups in Azure (GUI)](virtual-machines-windows-portal-sql-alwayson-availability-groups.md).</span></span> |
| <span data-ttu-id="68a7e-139">**Feladatátvevőfürt-példányok**</span><span class="sxs-lookup"><span data-stu-id="68a7e-139">**Failover cluster instances**</span></span> |<span data-ttu-id="68a7e-140">Feladatátvevő fürt példány (FCI), amely megosztott tárolóra van szükség, 3 különböző módon is létrehozható.</span><span class="sxs-lookup"><span data-stu-id="68a7e-140">Failover Cluster Instances (FCI), which require shared storage, can be created in 3 different ways.</span></span><br/><br/><span data-ttu-id="68a7e-141">1. Egy két csomópontos feladatátvevő fürt csatlakoztatott tárolók használata az Azure virtuális gépeken futó [Windows Server 2016 közvetlen tárolóhelyek \(S2D\) ](virtual-machines-windows-portal-sql-create-failover-cluster.md) tooprovide szoftveres virtuális SAN.</span><span class="sxs-lookup"><span data-stu-id="68a7e-141">1. A two-node failover cluster running in Azure VMs with attached storage using [Windows Server 2016 Storage Spaces Direct \(S2D\)](virtual-machines-windows-portal-sql-create-failover-cluster.md) tooprovide a software-based virtual SAN.</span></span><br/><br/><span data-ttu-id="68a7e-142">2. Külső fürtözési megoldás által támogatott tárolóval az Azure virtuális gépeken futó kétcsomópontos feladatátvevő fürt.</span><span class="sxs-lookup"><span data-stu-id="68a7e-142">2. A two-node failover cluster running in Azure VMs with storage supported by a third-party clustering solution.</span></span> <span data-ttu-id="68a7e-143">Például egy adott SIOS DataKeeper használó, lásd: [magas rendelkezésre állás a Feladatátvételi fürtszolgáltatás és a 3. fél szoftver SIOS DataKeeper fájlmegosztás](https://azure.microsoft.com/blog/high-availability-for-a-file-share-using-wsfc-ilb-and-3rd-party-software-sios-datakeeper/).</span><span class="sxs-lookup"><span data-stu-id="68a7e-143">For a specific example that uses SIOS DataKeeper, see [High availability for a file share using failover clustering and 3rd party software SIOS DataKeeper](https://azure.microsoft.com/blog/high-availability-for-a-file-share-using-wsfc-ilb-and-3rd-party-software-sios-datakeeper/).</span></span><br/><br/><span data-ttu-id="68a7e-144">3. Az Azure virtuális gépeken futó távoli iSCSI cél megosztott blokktárolást keresztül ExpressRoute kétcsomópontos feladatátvevő fürt.</span><span class="sxs-lookup"><span data-stu-id="68a7e-144">3. A two-node failover cluster running in Azure VMs with remote iSCSI Target shared block storage via ExpressRoute.</span></span> <span data-ttu-id="68a7e-145">NetApp titkos tárolási (NPS) például egy iSCSI célhoz, ExpressRoute keresztül Equinix tooAzure virtuális gépek mutatja.</span><span class="sxs-lookup"><span data-stu-id="68a7e-145">For example, NetApp Private Storage (NPS) exposes an iSCSI target via ExpressRoute with Equinix tooAzure VMs.</span></span><br/><br/><span data-ttu-id="68a7e-146">Külső megosztott tárolási és replikációs megoldás feladatátvételi problémák kapcsolódó tooaccessing adattárolás hello gyártójához forduljon.</span><span class="sxs-lookup"><span data-stu-id="68a7e-146">For third-party shared storage and data replication solutions, you should contact hello vendor for any issues related tooaccessing data on failover.</span></span><br/><br/><span data-ttu-id="68a7e-147">Vegye figyelembe, hogy használja a FCI [Azure File storage](https://azure.microsoft.com/services/storage/files/) még nem támogatott, mert ez a megoldás nem használja a prémium szintű Storage.</span><span class="sxs-lookup"><span data-stu-id="68a7e-147">Note that using FCI on top of [Azure File storage](https://azure.microsoft.com/services/storage/files/) is not supported yet, because this solution does not utilize Premium Storage.</span></span> <span data-ttu-id="68a7e-148">Dolgozunk ennek toosupport a legrövidebb időn belül.</span><span class="sxs-lookup"><span data-stu-id="68a7e-148">We are working toosupport this soon.</span></span> |

## <a name="azure-only-disaster-recovery-solutions"></a><span data-ttu-id="68a7e-149">Csak Azure: vész-helyreállítási megoldások</span><span class="sxs-lookup"><span data-stu-id="68a7e-149">Azure-only: Disaster recovery solutions</span></span>
<span data-ttu-id="68a7e-150">A vész-helyreállítási megoldást rendelkezik az SQL Server-adatbázisokat az Azure-ban rendelkezésre állási csoportok, az adatbázis-tükrözés vagy biztonsági másolat, és állítsa vissza a tárolási BLOB.</span><span class="sxs-lookup"><span data-stu-id="68a7e-150">You can have a disaster recovery solution for your SQL Server databases in Azure using availability groups, database mirroring, or backup and restore with storage blobs.</span></span>

| <span data-ttu-id="68a7e-151">Technológia</span><span class="sxs-lookup"><span data-stu-id="68a7e-151">Technology</span></span> | <span data-ttu-id="68a7e-152">Példa architektúrák</span><span class="sxs-lookup"><span data-stu-id="68a7e-152">Example Architectures</span></span> |
| --- | --- |
| <span data-ttu-id="68a7e-153">**Rendelkezésre állási csoportok**</span><span class="sxs-lookup"><span data-stu-id="68a7e-153">**Availability Groups**</span></span> |<span data-ttu-id="68a7e-154">Rendelkezésre állási másodpéldányok több adatközpontot az Azure virtuális gépeken vész-helyreállítási futtatásáért.</span><span class="sxs-lookup"><span data-stu-id="68a7e-154">Availability replicas running across multiple datacenters in Azure VMs for disaster recovery.</span></span> <span data-ttu-id="68a7e-155">A kereszt-régió megoldás a webhely teljes kimaradás véd.</span><span class="sxs-lookup"><span data-stu-id="68a7e-155">This cross-region solution protects against complete site outage.</span></span> <br/> <span data-ttu-id="68a7e-156">![Rendelkezésre állási csoportok](./media/virtual-machines-windows-sql-high-availability-dr/azure_only_dr_alwayson.png)</span><span class="sxs-lookup"><span data-stu-id="68a7e-156">![Availability Groups](./media/virtual-machines-windows-sql-high-availability-dr/azure_only_dr_alwayson.png)</span></span><br/><span data-ttu-id="68a7e-157">Összes replika, régión belül kell hello belül ugyanaz a felhőalapú szolgáltatás, és ugyanazt a virtuális hálózatot hello.</span><span class="sxs-lookup"><span data-stu-id="68a7e-157">Within a region, all replicas should be within hello same cloud service and hello same VNet.</span></span> <span data-ttu-id="68a7e-158">Mivel minden egyes régió egy külön virtuális hálózat fog rendelkezni, akkor ezek a megoldások VNet tooVNet kapcsolatot igényelnek.</span><span class="sxs-lookup"><span data-stu-id="68a7e-158">Because each region will have a separate VNet, these solutions require VNet tooVNet connectivity.</span></span> <span data-ttu-id="68a7e-159">További információkért lásd: [konfigurálása egy VNet – VNet-kapcsolat használatával hello Azure-portálon](../../../vpn-gateway/vpn-gateway-howto-vnet-vnet-resource-manager-portal.md).</span><span class="sxs-lookup"><span data-stu-id="68a7e-159">For more information, see [Configure a VNet-to-VNet connection using hello Azure portal](../../../vpn-gateway/vpn-gateway-howto-vnet-vnet-resource-manager-portal.md).</span></span> <span data-ttu-id="68a7e-160">Részletes útmutatásért lásd: [egy SQL Server rendelkezésre állási csoport konfigurálása Azure virtuális gépeken különböző régiókban](virtual-machines-windows-portal-sql-availability-group-dr.md).</span><span class="sxs-lookup"><span data-stu-id="68a7e-160">For detailed instructions, see [Configure a SQL Server Availability Group on Azure Virtual Machines in Different Regions](virtual-machines-windows-portal-sql-availability-group-dr.md).</span></span>|
| <span data-ttu-id="68a7e-161">**Az adatbázis-tükrözés**</span><span class="sxs-lookup"><span data-stu-id="68a7e-161">**Database Mirroring**</span></span> |<span data-ttu-id="68a7e-162">Elsődleges és tükrözött és vész-helyreállítási különböző adatközpontokban futtató kiszolgálók.</span><span class="sxs-lookup"><span data-stu-id="68a7e-162">Principal and mirror and servers running in different datacenters for disaster recovery.</span></span> <span data-ttu-id="68a7e-163">Kiszolgálói tanúsítványok használatával, mert egy active directory-tartomány nem terjedhetnek ki több adatközpontot kell telepítenie.</span><span class="sxs-lookup"><span data-stu-id="68a7e-163">You must deploy using server certificates because an active directory domain cannot span multiple datacenters.</span></span><br/>![Az adatbázis-tükrözés](./media/virtual-machines-windows-sql-high-availability-dr/azure_only_dr_dbmirroring.gif) |
| <span data-ttu-id="68a7e-165">**Biztonsági mentés és visszaállítás az Azure Blob Storage szolgáltatással**</span><span class="sxs-lookup"><span data-stu-id="68a7e-165">**Backup and Restore with Azure Blob Storage Service**</span></span> |<span data-ttu-id="68a7e-166">Éles környezetben használt adatbázisait biztonsági mentés közvetlenül tooblob tárolási egy vész-helyreállítási ugyanabban az adatközpontban.</span><span class="sxs-lookup"><span data-stu-id="68a7e-166">Production databases backed up directly tooblob storage in a different datacenter for disaster recovery.</span></span><br/><span data-ttu-id="68a7e-167">![Biztonsági mentés és visszaállítás](./media/virtual-machines-windows-sql-high-availability-dr/azure_only_dr_backup_restore.gif)</span><span class="sxs-lookup"><span data-stu-id="68a7e-167">![Backup and Restore](./media/virtual-machines-windows-sql-high-availability-dr/azure_only_dr_backup_restore.gif)</span></span><br/><span data-ttu-id="68a7e-168">További információkért lásd: [biztonsági mentése és visszaállítása az SQL Server Azure virtuális gépek](virtual-machines-windows-sql-backup-recovery.md).</span><span class="sxs-lookup"><span data-stu-id="68a7e-168">For more information, see [Backup and Restore for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-backup-recovery.md).</span></span> |

## <a name="hybrid-it-disaster-recovery-solutions"></a><span data-ttu-id="68a7e-169">Hibrid informatikai: Vész-helyreállítási megoldások</span><span class="sxs-lookup"><span data-stu-id="68a7e-169">Hybrid IT: Disaster recovery solutions</span></span>
<span data-ttu-id="68a7e-170">Rendelkezik egy vész-helyreállítási megoldást hibrid-környezetben használatával a rendelkezésre állási csoportok, az adatbázis-tükrözés, a naplóküldési és a biztonsági mentés az SQL Server adatbázisok esetében, és állítsa vissza az Azure blog tárolóval.</span><span class="sxs-lookup"><span data-stu-id="68a7e-170">You can have a disaster recovery solution for your SQL Server databases in a hybrid-IT environment using availability groups, database mirroring, log shipping, and backup and restore with Azure blog storage.</span></span>

| <span data-ttu-id="68a7e-171">Technológia</span><span class="sxs-lookup"><span data-stu-id="68a7e-171">Technology</span></span> | <span data-ttu-id="68a7e-172">Példa architektúrák</span><span class="sxs-lookup"><span data-stu-id="68a7e-172">Example Architectures</span></span> |
| --- | --- |
| <span data-ttu-id="68a7e-173">**Rendelkezésre állási csoportok**</span><span class="sxs-lookup"><span data-stu-id="68a7e-173">**Availability Groups**</span></span> |<span data-ttu-id="68a7e-174">Egyes rendelkezésre állási másodpéldányok futó Azure virtuális gépek és egyéb helyileg futó többhelyes vész-helyreállítási replika.</span><span class="sxs-lookup"><span data-stu-id="68a7e-174">Some availability replicas running in Azure VMs and other replicas running on-premises for cross-site disaster recovery.</span></span> <span data-ttu-id="68a7e-175">hello éles hely lehet helyi vagy egy Azure-adatközpontban található.</span><span class="sxs-lookup"><span data-stu-id="68a7e-175">hello production site can be either on-premises or in an Azure datacenter.</span></span><br/>![Rendelkezésre állási csoportok](./media/virtual-machines-windows-sql-high-availability-dr/hybrid_dr_alwayson.gif)<br/><span data-ttu-id="68a7e-177">Mivel az összes rendelkezésre állási másodpéldányok kell lennie a hello ugyanazt a feladatátvevő fürtöt, hello fürt kell span mindkét hálózatok (több alhálózatos feladatátvevő fürt).</span><span class="sxs-lookup"><span data-stu-id="68a7e-177">Because all availability replicas must be in hello same failover cluster, hello cluster must span both networks (a multi-subnet failover cluster).</span></span> <span data-ttu-id="68a7e-178">Ez a konfiguráció Azure és a hello a helyszíni hálózat között VPN kapcsolatot igényel.</span><span class="sxs-lookup"><span data-stu-id="68a7e-178">This configuration requires a VPN connection between Azure and hello on-premises network.</span></span><br/><br/><span data-ttu-id="68a7e-179">Sikeres vész-helyreállítási adatbázis telepítenie kell egy replika tartományvezérlő hello vész helyreállítási helyen.</span><span class="sxs-lookup"><span data-stu-id="68a7e-179">For successful disaster recovery of your databases, you should also install a replica domain controller at hello disaster recovery site.</span></span><br/><br/><span data-ttu-id="68a7e-180">Már lehetséges toouse hello Hozzáadás replika varázsló az SSMS tooadd egy Azure replika tooan meglévő Always On rendelkezésre állási csoportnak.</span><span class="sxs-lookup"><span data-stu-id="68a7e-180">It is possible toouse hello Add Replica Wizard in SSMS tooadd an Azure replica tooan existing Always On Availability Group.</span></span> <span data-ttu-id="68a7e-181">További információkért lásd az oktatóanyag: az Always On rendelkezésre állási csoportnak tooAzure kiterjesztése.</span><span class="sxs-lookup"><span data-stu-id="68a7e-181">For more information, see Tutorial: Extend your Always On Availability Group tooAzure.</span></span> |
| <span data-ttu-id="68a7e-182">**Az adatbázis-tükrözés**</span><span class="sxs-lookup"><span data-stu-id="68a7e-182">**Database Mirroring**</span></span> |<span data-ttu-id="68a7e-183">Egy Azure virtuális gép és az egyéb hello fut egy partneri helyileg futó többhelyes vész-helyreállítási kiszolgálói tanúsítványok használatával.</span><span class="sxs-lookup"><span data-stu-id="68a7e-183">One partner running in an Azure VM and hello other running on-premises for cross-site disaster recovery using server certificates.</span></span> <span data-ttu-id="68a7e-184">Partnerek nem szükséges a toobe hello Active Directory-tartományhoz, és nem VPN-kapcsolatra szükség.</span><span class="sxs-lookup"><span data-stu-id="68a7e-184">Partners do not need toobe in hello same Active Directory domain, and no VPN connection is required.</span></span><br/><span data-ttu-id="68a7e-185">![Az adatbázis-tükrözés](./media/virtual-machines-windows-sql-high-availability-dr/hybrid_dr_dbmirroring.gif)</span><span class="sxs-lookup"><span data-stu-id="68a7e-185">![Database Mirroring](./media/virtual-machines-windows-sql-high-availability-dr/hybrid_dr_dbmirroring.gif)</span></span><br/><span data-ttu-id="68a7e-186">Egy másik adatbázis-tükrözési forgatókönyv szerint egy Azure virtuális gép fut egy partneri és hello más fut a helyszíni hello az azonos többhelyes vész-helyreállítási Active Directory-tartományhoz.</span><span class="sxs-lookup"><span data-stu-id="68a7e-186">Another database mirroring scenario involves one partner running in an Azure VM and hello other running on-premises in hello same Active Directory domain for cross-site disaster recovery.</span></span> <span data-ttu-id="68a7e-187">A [VPN-kapcsolat hello Azure virtuális hálózat és hello a helyszíni hálózat között](../../../vpn-gateway/vpn-gateway-site-to-site-create.md) szükséges.</span><span class="sxs-lookup"><span data-stu-id="68a7e-187">A [VPN connection between hello Azure virtual network and hello on-premises network](../../../vpn-gateway/vpn-gateway-site-to-site-create.md) is required.</span></span><br/><br/><span data-ttu-id="68a7e-188">Sikeres vész-helyreállítási adatbázis telepítenie kell egy replika tartományvezérlő hello vész helyreállítási helyen.</span><span class="sxs-lookup"><span data-stu-id="68a7e-188">For successful disaster recovery of your databases, you should also install a replica domain controller at hello disaster recovery site.</span></span> |
| <span data-ttu-id="68a7e-189">**Naplóküldés**</span><span class="sxs-lookup"><span data-stu-id="68a7e-189">**Log Shipping**</span></span> |<span data-ttu-id="68a7e-190">Egy Azure virtuális gép és egyéb hello rendszert futtató kiszolgálóról helyileg futó többhelyes vész-helyreállítási.</span><span class="sxs-lookup"><span data-stu-id="68a7e-190">One server running in an Azure VM and hello other running on-premises for cross-site disaster recovery.</span></span> <span data-ttu-id="68a7e-191">Naplóküldésben függ Windows fájlmegosztás, így hello Azure-beli virtuális hálózat és hello közötti VPN-kapcsolat a helyszíni hálózatra azért szükség.</span><span class="sxs-lookup"><span data-stu-id="68a7e-191">Log shipping depends on Windows file sharing, so a VPN connection between hello Azure virtual network and hello on-premises network is required.</span></span><br/>![Naplóküldés](./media/virtual-machines-windows-sql-high-availability-dr/hybrid_dr_log_shipping.gif)<br/><span data-ttu-id="68a7e-193">Sikeres vész-helyreállítási adatbázis telepítenie kell egy replika tartományvezérlő hello vész helyreállítási helyen.</span><span class="sxs-lookup"><span data-stu-id="68a7e-193">For successful disaster recovery of your databases, you should also install a replica domain controller at hello disaster recovery site.</span></span> |
| <span data-ttu-id="68a7e-194">**Biztonsági mentés és visszaállítás az Azure Blob Storage szolgáltatással**</span><span class="sxs-lookup"><span data-stu-id="68a7e-194">**Backup and Restore with Azure Blob Storage Service**</span></span> |<span data-ttu-id="68a7e-195">A helyi biztonsági mentés közvetlenül tooAzure blob-tároló vész-helyreállítási éles környezetben használt adatbázisait.</span><span class="sxs-lookup"><span data-stu-id="68a7e-195">On-premises production databases backed up directly tooAzure blob storage for disaster recovery.</span></span><br/><span data-ttu-id="68a7e-196">![Biztonsági mentés és visszaállítás](./media/virtual-machines-windows-sql-high-availability-dr/hybrid_dr_backup_restore.gif)</span><span class="sxs-lookup"><span data-stu-id="68a7e-196">![Backup and Restore](./media/virtual-machines-windows-sql-high-availability-dr/hybrid_dr_backup_restore.gif)</span></span><br/><span data-ttu-id="68a7e-197">További információkért lásd: [biztonsági mentése és visszaállítása az SQL Server Azure virtuális gépek](virtual-machines-windows-sql-backup-recovery.md).</span><span class="sxs-lookup"><span data-stu-id="68a7e-197">For more information, see [Backup and Restore for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-backup-recovery.md).</span></span> |

## <a name="important-considerations-for-sql-server-hadr-in-azure"></a><span data-ttu-id="68a7e-198">Fontos tudnivalók találhatók az SQL Server HADR az Azure-ban</span><span class="sxs-lookup"><span data-stu-id="68a7e-198">Important considerations for SQL Server HADR in Azure</span></span>
<span data-ttu-id="68a7e-199">Az Azure virtuális gépeken, tárolási és hálózatkezelési rendelkezik egy helyszíni informatikai infrastruktúra nem virtualizált eltérő működési jellemzői.</span><span class="sxs-lookup"><span data-stu-id="68a7e-199">Azure VMs, storage, and networking have different operational characteristics than an on-premises, non-virtualized IT infrastructure.</span></span> <span data-ttu-id="68a7e-200">Egy HADR SQL Server megoldást az Azure-ban egy sikeres végrehajtásához szükséges, hogy ezek a különbségek megismeréséhez, és a megoldás tooaccommodate tervezési őket.</span><span class="sxs-lookup"><span data-stu-id="68a7e-200">A successful implementation of a HADR SQL Server solution in Azure requires that you understand these differences and design your solution tooaccommodate them.</span></span>

### <a name="high-availability-nodes-in-an-availability-set"></a><span data-ttu-id="68a7e-201">Magas rendelkezésre állású csomópont a rendelkezésre állási csoportok</span><span class="sxs-lookup"><span data-stu-id="68a7e-201">High availability nodes in an availability set</span></span>
<span data-ttu-id="68a7e-202">Az Azure-ban rendelkezésre állási készletek lehetővé teszik a tooplace hello magas rendelkezésre állású csomópontok külön tartalék tartományok (FDs) és a frissítési tartományok (UDs).</span><span class="sxs-lookup"><span data-stu-id="68a7e-202">Availability sets in Azure enable you tooplace hello high availability nodes into separate Fault Domains (FDs) and Update Domains (UDs).</span></span> <span data-ttu-id="68a7e-203">Azure virtuális gépek toobe helyezett hello azonos rendelkezésre állási csoportot, ha már telepítette azokat a hello ugyanaz a felhőalapú szolgáltatás.</span><span class="sxs-lookup"><span data-stu-id="68a7e-203">For Azure VMs toobe placed in hello same availability set, you must deploy them in hello same cloud service.</span></span> <span data-ttu-id="68a7e-204">Ugyanazt a felhőalapú szolgáltatás részt vehetnek hello egyetlen csomópontjának azonos rendelkezésre állási csoport hello.</span><span class="sxs-lookup"><span data-stu-id="68a7e-204">Only nodes in hello same cloud service can participate in hello same availability set.</span></span> <span data-ttu-id="68a7e-205">További információkért lásd: [kezelése hello virtuális gépek rendelkezésre állási](../manage-availability.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="68a7e-205">For more information, see [Manage hello Availability of Virtual Machines](../manage-availability.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

### <a name="failover-cluster-behavior-in-azure-networking"></a><span data-ttu-id="68a7e-206">A feladatátvevő fürt viselkedés Azure hálózatkezelés</span><span class="sxs-lookup"><span data-stu-id="68a7e-206">Failover cluster behavior in Azure networking</span></span>
<span data-ttu-id="68a7e-207">hello nem RFC-kompatibilis DHCP-szolgáltatás az Azure-ban okozhat egyes feladatátvételi fürt konfigurációk toofail fürthálózat nevének toohello folyik a hozzárendelése egy ismétlődő IP-cím miatt hello létrehozását, például hello azonos IP-cím, rendelkezésre álló hello fürtcsomópontok.</span><span class="sxs-lookup"><span data-stu-id="68a7e-207">hello non-RFC-compliant DHCP service in Azure can cause hello creation of certain failover cluster configurations toofail, due toohello cluster network name being assigned a duplicate IP address, such as hello same IP address as one of hello cluster nodes.</span></span> <span data-ttu-id="68a7e-208">Ez a probléma, attól függ, a Windows feladatátvételi fürtszolgáltatás hello rendelkezésre állási csoportok bevezetésekor.</span><span class="sxs-lookup"><span data-stu-id="68a7e-208">This is an issue when you implement Availability Groups, which depends on hello Windows failover cluster feature.</span></span>

<span data-ttu-id="68a7e-209">Amikor egy két csomópontos fürt létrehozása és a hálózatra, vegye figyelembe hello forgatókönyv:</span><span class="sxs-lookup"><span data-stu-id="68a7e-209">Consider hello scenario when a two-node cluster is created and brought online:</span></span>

1. <span data-ttu-id="68a7e-210">hello fürtön online állapotba kerül, majd csomópont1 hello fürthálózat nevének egy dinamikusan hozzárendelt IP-címet igényel.</span><span class="sxs-lookup"><span data-stu-id="68a7e-210">hello cluster comes online, then NODE1 requests a dynamically assigned IP address for hello cluster network name.</span></span>
2. <span data-ttu-id="68a7e-211">Csomópont1 saját IP-címe eltérő IP-cím adja meg hello DHCP-szolgáltatást, mivel a DHCP szolgáltatás hello felismeri hello kérés csomópont1 származik magát.</span><span class="sxs-lookup"><span data-stu-id="68a7e-211">No IP address other than NODE1’s own IP address is given by hello DHCP service, since hello DHCP service recognizes that hello request comes from NODE1 itself.</span></span>
3. <span data-ttu-id="68a7e-212">Windows észleli, ismétlődő címet tooNODE1 és a toohello feladatátvevő fürt hálózati neve van hozzárendelve, és hello alapértelmezett fürtcsoport toocome online sikertelen lesz.</span><span class="sxs-lookup"><span data-stu-id="68a7e-212">Windows detects that a duplicate address is assigned both tooNODE1 and toohello failover cluster network name, and hello default cluster group fails toocome online.</span></span>
4. <span data-ttu-id="68a7e-213">hello alapértelmezett fürtcsoport tooNODE2, amely csomópont1 tartozó IP-cím tekinti hello IP-címet, és hello alapértelmezett fürt csoport online állapotba hozása helyezi.</span><span class="sxs-lookup"><span data-stu-id="68a7e-213">hello default cluster group moves tooNODE2, which treats NODE1’s IP address as hello cluster IP address and brings hello default cluster group online.</span></span>
5. <span data-ttu-id="68a7e-214">Amikor csomópont2 csomópont1 tooestablish kapcsolatot próbál, 1. csomópont célzó csomagok sosem hagyják el csomópont2, mert ez megoldja-csomópont1 tartozó IP-cím tooitself.</span><span class="sxs-lookup"><span data-stu-id="68a7e-214">When NODE2 attempts tooestablish connectivity with NODE1, packets directed at NODE1 never leave NODE2 because it resolves NODE1’s IP address tooitself.</span></span> <span data-ttu-id="68a7e-215">2. csomópont nem tud csomópont1 kapcsolatot létrehozni, majd megszűnik a kvóruma és hello fürt leáll.</span><span class="sxs-lookup"><span data-stu-id="68a7e-215">NODE2 cannot establish connectivity with NODE1, then loses quorum and shuts down hello cluster.</span></span>
6. <span data-ttu-id="68a7e-216">A hello addig 1. csomópont küldhet csomagokat tooNODE2, de nem tud válaszolni, csomópont2.</span><span class="sxs-lookup"><span data-stu-id="68a7e-216">In hello meantime, NODE1 can send packets tooNODE2, but NODE2 cannot reply.</span></span> <span data-ttu-id="68a7e-217">1. csomópont megszűnik a kvóruma, és leállítja a hello fürt.</span><span class="sxs-lookup"><span data-stu-id="68a7e-217">NODE1 loses quorum and shuts down hello cluster.</span></span>

<span data-ttu-id="68a7e-218">Ebben a forgatókönyvben egy nem használt statikus IP-címet, például egy kapcsolatszintű IP-cím például 169.254.1.1, toohello fürthálózat nevének rendelés toobring hello a fürt hálózati neve online hozzárendelésével elkerülhető.</span><span class="sxs-lookup"><span data-stu-id="68a7e-218">This scenario can be avoided by assigning an unused static IP address, such as a link-local IP address like 169.254.1.1, toohello cluster network name in order toobring hello cluster network name online.</span></span> <span data-ttu-id="68a7e-219">toosimplify ez feldolgozni, lásd: [konfigurálása Windows feladatátvevő fürtöt az Azure-ban a rendelkezésre állási csoportok](http://social.technet.microsoft.com/wiki/contents/articles/14776.configuring-windows-failover-cluster-in-windows-azure-for-alwayson-availability-groups.aspx).</span><span class="sxs-lookup"><span data-stu-id="68a7e-219">toosimplify this process, see [Configuring Windows failover cluster in Azure for availability groups](http://social.technet.microsoft.com/wiki/contents/articles/14776.configuring-windows-failover-cluster-in-windows-azure-for-alwayson-availability-groups.aspx).</span></span>

<span data-ttu-id="68a7e-220">További információkért lásd: [rendelkezésre állási csoportok konfigurálása az Azure (GUI)](virtual-machines-windows-portal-sql-alwayson-availability-groups.md).</span><span class="sxs-lookup"><span data-stu-id="68a7e-220">For more information, see [Configure availability groups in Azure (GUI)](virtual-machines-windows-portal-sql-alwayson-availability-groups.md).</span></span>

### <a name="availability-group-listener-support"></a><span data-ttu-id="68a7e-221">Rendelkezésre állási csoport figyelőjének támogatása</span><span class="sxs-lookup"><span data-stu-id="68a7e-221">Availability group listener support</span></span>
<span data-ttu-id="68a7e-222">Rendelkezésre állási csoport figyelői Windows Server 2008 R2, Windows Server 2012, Windows Server 2012 R2 és Windows Server 2016 rendszert futtató Azure virtuális gépeken támogatottak.</span><span class="sxs-lookup"><span data-stu-id="68a7e-222">Availability group listeners are supported on Azure VMs running Windows Server 2008 R2, Windows Server 2012, Windows Server 2012 R2, and Windows Server 2016.</span></span> <span data-ttu-id="68a7e-223">Ez a támogatás hello használata elosztott terhelésű végpont már engedélyezve van a rendelkezésre állási csoport csomópontokat hello Azure virtuális gépeken tette lehetővé.</span><span class="sxs-lookup"><span data-stu-id="68a7e-223">This support is made possible by hello use of load-balanced endpoints enabled on hello Azure VMs that are availability group nodes.</span></span> <span data-ttu-id="68a7e-224">Ön köteles betartani hello figyelői toowork mindkét ügyfél alkalmazásokhoz az Azure, valamint a helyszíni futó futó különleges konfigurációs lépések is szükségesek.</span><span class="sxs-lookup"><span data-stu-id="68a7e-224">You must follow special configuration steps for hello listeners toowork for both client applications that are running in Azure as well as those running on-premises.</span></span>

<span data-ttu-id="68a7e-225">A figyelő beállításának két fő lehetőség: a külső (nyilvános) vagy belső.</span><span class="sxs-lookup"><span data-stu-id="68a7e-225">There are two main options for setting up your listener: external (public) or internal.</span></span> <span data-ttu-id="68a7e-226">hello külső (nyilvános) figyelő által használt, egy internetre terheléselosztóhoz, és társítva, egy nyilvános virtuális IP-cím (VIP) keresztül elérhető internet hello.</span><span class="sxs-lookup"><span data-stu-id="68a7e-226">hello external (public) listener uses an internet facing load balancer and is associated with a public Virtual IP (VIP) that is accessible over hello internet.</span></span> <span data-ttu-id="68a7e-227">Egy belső figyelő belső terheléselosztót használ, és csak által támogatott ügyfelek hello ugyanazt a virtuális hálózatot.</span><span class="sxs-lookup"><span data-stu-id="68a7e-227">An internal listener uses an internal load balancer and only supports clients within hello same Virtual Network.</span></span> <span data-ttu-id="68a7e-228">Vagy a betöltés típusokra, engedélyeznie kell a közvetlen kiszolgálói válasz.</span><span class="sxs-lookup"><span data-stu-id="68a7e-228">For either load balancer type, you must enable Direct Server Return.</span></span> 

<span data-ttu-id="68a7e-229">Hello rendelkezésre állási csoport több Azure alhálózattal (például olyan környezetben, Azure-régiók keverve) is, ha hello ügyfél kapcsolati karakterláncot tartalmaznia kell "**MultisubnetFailover = True**".</span><span class="sxs-lookup"><span data-stu-id="68a7e-229">If hello Availability Group spans multiple Azure subnets (such as a deployment that crosses Azure regions), hello client connection string must include "**MultisubnetFailover=True**".</span></span> <span data-ttu-id="68a7e-230">Az eredmény párhuzamos kapcsolódási kísérletek toohello replikák hello különböző alhálózatokon.</span><span class="sxs-lookup"><span data-stu-id="68a7e-230">This results in parallel connection attempts toohello replicas in hello different subnets.</span></span> <span data-ttu-id="68a7e-231">Egy figyelő beállításával kapcsolatos útmutatásért lásd:</span><span class="sxs-lookup"><span data-stu-id="68a7e-231">For instructions on setting up a listener, see</span></span>

* <span data-ttu-id="68a7e-232">[Egy ILB figyelőt, a rendelkezésre állási csoportok konfigurálása az Azure-](virtual-machines-windows-portal-sql-ps-alwayson-int-listener.md).</span><span class="sxs-lookup"><span data-stu-id="68a7e-232">[Configure an ILB listener for availability groups in Azure](virtual-machines-windows-portal-sql-ps-alwayson-int-listener.md).</span></span>
* <span data-ttu-id="68a7e-233">[Egy külső figyelőt a rendelkezésre állási csoportok konfigurálása az Azure-](../classic/ps-sql-ext-listener.md).</span><span class="sxs-lookup"><span data-stu-id="68a7e-233">[Configure an external listener for availability groups in Azure](../classic/ps-sql-ext-listener.md).</span></span>

<span data-ttu-id="68a7e-234">Továbbra is csatlakoztathatja tooeach rendelkezésre állási másodpéldány külön csatlakozzon közvetlenül toohello szolgáltatáspéldány.</span><span class="sxs-lookup"><span data-stu-id="68a7e-234">You can still connect tooeach availability replica separately by connecting directly toohello service instance.</span></span> <span data-ttu-id="68a7e-235">Is, mivel a rendelkezésre állási csoportok visszamenőleg kompatibilis az adatbázis-tükrözési ügyfelek, a kapcsolódás toohello rendelkezésre állási másodpéldányok például adatbázis-tükrözési partnerei mindaddig, amíg hello replikák konfigurált hasonló toodatabase tükrözés:</span><span class="sxs-lookup"><span data-stu-id="68a7e-235">Also, since availability groups are backward compatible with database mirroring clients, you can connect toohello availability replicas like database mirroring partners as long as hello replicas are configured similar toodatabase mirroring:</span></span>

* <span data-ttu-id="68a7e-236">Egy elsődleges másodpéldány és egy másodlagos másodpéldány</span><span class="sxs-lookup"><span data-stu-id="68a7e-236">One primary replica and one secondary replica</span></span>
* <span data-ttu-id="68a7e-237">hello másodlagos replika van konfigurálva, nem olvasható (**olvasható másodlagos** beállítás túl**nem**)</span><span class="sxs-lookup"><span data-stu-id="68a7e-237">hello secondary replica is configured as non-readable (**Readable Secondary** option set too**No**)</span></span>

<span data-ttu-id="68a7e-238">Egy példa ügyfél kapcsolati karakterlánc, amely megfelel a toothis adatbázis-tükrözés hasonló konfigurációs ADO.NET vagy SQL Server Native Client alatt van:</span><span class="sxs-lookup"><span data-stu-id="68a7e-238">An example client connection string that corresponds toothis database mirroring-like configuration using ADO.NET or SQL Server Native Client is below:</span></span>

    Data Source=ReplicaServer1;Failover Partner=ReplicaServer2;Initial Catalog=AvailabilityDatabase;

<span data-ttu-id="68a7e-239">Ügyfélkapcsolat további információkért lásd:</span><span class="sxs-lookup"><span data-stu-id="68a7e-239">For more information on client connectivity, see:</span></span>

* [<span data-ttu-id="68a7e-240">Kapcsolati karakterlánc kulcsszavak használatával az SQL Server natív ügyfél</span><span class="sxs-lookup"><span data-stu-id="68a7e-240">Using Connection String Keywords with SQL Server Native Client</span></span>](https://msdn.microsoft.com/library/ms130822.aspx)
* [<span data-ttu-id="68a7e-241">Csatlakozás az ügyfelek tooa adatbázis-tükrözési munkamenet (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="68a7e-241">Connect Clients tooa Database Mirroring Session (SQL Server)</span></span>](https://technet.microsoft.com/library/ms175484.aspx)
* [<span data-ttu-id="68a7e-242">A hibrid informatikai csoport figyelőjének tooAvailability csatlakozás</span><span class="sxs-lookup"><span data-stu-id="68a7e-242">Connecting tooAvailability Group Listener in Hybrid IT</span></span>](http://blogs.msdn.com/b/sqlalwayson/archive/2013/02/14/connecting-to-availability-group-listener-in-hybrid-it.aspx)
* [<span data-ttu-id="68a7e-243">Rendelkezésre állási csoport figyelői ügyfélkapcsolat és alkalmazás feladatátvételi (SQL Server)</span><span class="sxs-lookup"><span data-stu-id="68a7e-243">Availability Group Listeners, Client Connectivity, and Application Failover (SQL Server)</span></span>](https://technet.microsoft.com/library/hh213417.aspx)
* [<span data-ttu-id="68a7e-244">Az adatbázis-tükrözési kapcsolati karakterláncok használatával a rendelkezésre állási csoportokkal</span><span class="sxs-lookup"><span data-stu-id="68a7e-244">Using Database-Mirroring Connection Strings with Availability Groups</span></span>](https://technet.microsoft.com/library/hh213417.aspx)

### <a name="network-latency-in-hybrid-it"></a><span data-ttu-id="68a7e-245">A hibrid informatikai hálózati késés</span><span class="sxs-lookup"><span data-stu-id="68a7e-245">Network latency in hybrid IT</span></span>
<span data-ttu-id="68a7e-246">Ha telepíti a HADR megoldást hello azt feltételezi, hogy a nagy hálózati késés a helyszíni hálózat és az Azure közötti idő is lehet.</span><span class="sxs-lookup"><span data-stu-id="68a7e-246">You should deploy your HADR solution with hello assumption that there may be periods of time with high network latency between your on-premises network and Azure.</span></span> <span data-ttu-id="68a7e-247">Replikák tooAzure telepítésekor kell használnia az aszinkron véglegesítésű helyett szinkron véglegesítésre hello szinkronizálási mód.</span><span class="sxs-lookup"><span data-stu-id="68a7e-247">When deploying replicas tooAzure, you should use asynchronous commit instead of synchronous commit for hello synchronization mode.</span></span> <span data-ttu-id="68a7e-248">Ha az adatbázis-tükrözés kiszolgálók telepítése mind a helyszíni és Azure hello nagy teljesítményű mód használata helyett hello magas biztonsági mód.</span><span class="sxs-lookup"><span data-stu-id="68a7e-248">When deploying database mirroring servers both on-premises and in Azure, use hello high-performance mode instead of hello high-safety mode.</span></span>

### <a name="geo-replication-support"></a><span data-ttu-id="68a7e-249">A georeplikáció támogatása</span><span class="sxs-lookup"><span data-stu-id="68a7e-249">Geo-replication support</span></span>
<span data-ttu-id="68a7e-250">Az Azure-lemezeket a georeplikáció nem támogatja a hello adatfájl és -ugyanazon adatbázis toobe lemezen tárolja a külön hello naplófájlt.</span><span class="sxs-lookup"><span data-stu-id="68a7e-250">Geo-replication in Azure disks does not support hello data file and log file of hello same database toobe stored on separate disks.</span></span> <span data-ttu-id="68a7e-251">Georedundáns replikál az egyes lemezek külön és aszinkron módon.</span><span class="sxs-lookup"><span data-stu-id="68a7e-251">GRS replicates changes on each disk independently and asynchronously.</span></span> <span data-ttu-id="68a7e-252">Ez a módszer biztosítja hello írási sorrendjét belül egyetlen lemezt a hello georeplikált másolatán, de több lemez georeplikált példánya között nem.</span><span class="sxs-lookup"><span data-stu-id="68a7e-252">This mechanism guarantees hello write order within a single disk on hello geo-replicated copy, but not across geo-replicated copies of multiple disks.</span></span> <span data-ttu-id="68a7e-253">Ha egy adatbázis toostore adja meg az adatfájl és a naplófájl külön lemezeken, a hello után egy olyan vészhelyzet esetén előfordulhat, hogy tartalmazza a hello naplófájlt, mely hello írási megjelenített automatikus bejelentkezés az SQL Server- és sav hello mint hello adatfájl legújabb másolatát helyre lemezek tranzakció tulajdonságai.</span><span class="sxs-lookup"><span data-stu-id="68a7e-253">If you configure a database toostore its data file and its log file on separate disks, hello recovered disks after a disaster may contain a more up-to-date copy of hello data file than hello log file, which breaks hello write-ahead log in SQL Server and hello ACID properties of transactions.</span></span> <span data-ttu-id="68a7e-254">Hello storage-fiók nem rendelkezik hello beállítás toodisable georeplikáció, ha minden adat legyen, és naplófájlok hello egy adott adatbázis azonos lemez.</span><span class="sxs-lookup"><span data-stu-id="68a7e-254">If you do not have hello option toodisable geo-replication on hello storage account, you should keep all data and log files for a given database on hello same disk.</span></span> <span data-ttu-id="68a7e-255">Ha hello adatbázis toohello mérete miatt több lemez kell használnia, hello vész-helyreállítási megoldások egyikét tooensure adatredundanciát fent felsorolt toodeploy kell.</span><span class="sxs-lookup"><span data-stu-id="68a7e-255">If you must use more than one disk due toohello size of hello database, you need toodeploy one of hello disaster recovery solutions listed above tooensure data redundancy.</span></span>

## <a name="next-steps"></a><span data-ttu-id="68a7e-256">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="68a7e-256">Next steps</span></span>
<span data-ttu-id="68a7e-257">Ha az SQL Server Azure virtuális gép toocreate van szüksége, tekintse meg [Azure SQL Server virtuális gépek kiépítése](virtual-machines-windows-portal-sql-server-provision.md).</span><span class="sxs-lookup"><span data-stu-id="68a7e-257">If you need toocreate an Azure virtual machine with SQL Server, see [Provisioning a SQL Server Virtual Machine on Azure](virtual-machines-windows-portal-sql-server-provision.md).</span></span>

<span data-ttu-id="68a7e-258">tooget hello legjobb teljesítmény érdekében az SQL Serverről az Azure virtuális gépen található hello útmutatót lásd: [teljesítmény ajánlott eljárások az SQL Server Azure virtuális gépek](virtual-machines-windows-sql-performance.md).</span><span class="sxs-lookup"><span data-stu-id="68a7e-258">tooget hello best performance from SQL Server running on an Azure VM, see hello guidance in [Performance Best Practices for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-performance.md).</span></span>

<span data-ttu-id="68a7e-259">Egyéb témakörök kapcsolódó toorunning SQL Server Azure virtuális gépeken, a következő témakörben: [SQL Server Azure virtuális gépeken](virtual-machines-windows-sql-server-iaas-overview.md).</span><span class="sxs-lookup"><span data-stu-id="68a7e-259">For other topics related toorunning SQL Server in Azure VMs, see [SQL Server on Azure Virtual Machines](virtual-machines-windows-sql-server-iaas-overview.md).</span></span>

### <a name="other-resources"></a><span data-ttu-id="68a7e-260">Egyéb erőforrások</span><span class="sxs-lookup"><span data-stu-id="68a7e-260">Other resources</span></span>
* [<span data-ttu-id="68a7e-261">Egy új Active Directory-erdő telepítése az Azure-ban</span><span class="sxs-lookup"><span data-stu-id="68a7e-261">Install a new Active Directory forest in Azure</span></span>](../../../active-directory/active-directory-new-forest-virtual-machine.md)
* [<span data-ttu-id="68a7e-262">A rendelkezésre állási csoportok Azure virtuális gépen a feladatátvevő fürt létrehozása</span><span class="sxs-lookup"><span data-stu-id="68a7e-262">Create Failover Cluster for availability groups in Azure VM</span></span>](http://gallery.technet.microsoft.com/scriptcenter/Create-WSFC-Cluster-for-7c207d3a)

