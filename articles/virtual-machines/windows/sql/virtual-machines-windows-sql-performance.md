---
title: "Az Azure SQL Server ajánlott eljárásai teljesítmény |} Microsoft Docs"
description: "Gyakorlati tanácsokat megfelelően a Microsoft Azure virtuális gépeken futó SQL Server teljesítményének optimalizálásához."
services: virtual-machines-windows
documentationcenter: na
author: rothja
manager: jhubbard
editor: 
tags: azure-service-management
ms.assetid: a0c85092-2113-4982-b73a-4e80160bac36
ms.service: virtual-machines-sql
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: vm-windows-sql-server
ms.workload: iaas-sql-server
ms.date: 06/27/2017
ms.author: jroth
ms.openlocfilehash: 5595ea016ab01d20cee82b75f56623bb0727a1b3
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 08/29/2017
---
# <a name="performance-best-practices-for-sql-server-in-azure-virtual-machines"></a><span data-ttu-id="9443c-103">Ajánlott eljárások az SQL Server teljesítményének Azure Virtual Machines szolgáltatásbeli növeléséhez</span><span class="sxs-lookup"><span data-stu-id="9443c-103">Performance best practices for SQL Server in Azure Virtual Machines</span></span>

## <a name="overview"></a><span data-ttu-id="9443c-104">Áttekintés</span><span class="sxs-lookup"><span data-stu-id="9443c-104">Overview</span></span>

<span data-ttu-id="9443c-105">Ez a témakör gyakorlati tanácsokat megfelelően a Microsoft Azure virtuális gép az SQL Server teljesítményének optimalizálásához.</span><span class="sxs-lookup"><span data-stu-id="9443c-105">This topic provides best practices for optimizing SQL Server performance in Microsoft Azure Virtual Machine.</span></span> <span data-ttu-id="9443c-106">SQL Server rendszert futtató Azure virtuális gépeken, miközben azt javasoljuk, hogy folytatja a helyszíni környezetben SQL Server megfelelő lehetőségeket teljesítményhangolás ugyanazon adatbázis használatával.</span><span class="sxs-lookup"><span data-stu-id="9443c-106">While running SQL Server in Azure Virtual Machines, we recommend that you continue using the same database performance tuning options that are applicable to SQL Server in on-premises server environment.</span></span> <span data-ttu-id="9443c-107">A nyilvános felhőben egy relációs adatbázis teljesítménye azonban, például egy virtuális gép méretét, és az adatlemezek konfigurációjának számos tényezőtől függ.</span><span class="sxs-lookup"><span data-stu-id="9443c-107">However, the performance of a relational database in a public cloud depends on many factors such as the size of a virtual machine, and the configuration of the data disks.</span></span>

<span data-ttu-id="9443c-108">SQL Server-lemezképek létrehozásakor [fontolja meg a virtuális gépek Azure-portálon kiépítés](virtual-machines-windows-portal-sql-server-provision.md).</span><span class="sxs-lookup"><span data-stu-id="9443c-108">When creating SQL Server images, [consider provisioning your VMs in the Azure portal](virtual-machines-windows-portal-sql-server-provision.md).</span></span> <span data-ttu-id="9443c-109">SQL Server virtuális gépen a portálon a Resource Manager üzembe valósítja meg az alábbi gyakorlati tanácsok, beleértve a tárolási konfiguráció.</span><span class="sxs-lookup"><span data-stu-id="9443c-109">SQL Server VMs provisioned in the Portal with Resource Manager implement all these best practices, including the storage configuration.</span></span>

<span data-ttu-id="9443c-110">Ez a cikk témáját arra irányul, hogy a *legjobb* az Azure virtuális gépeken futó SQL Server teljesítményét.</span><span class="sxs-lookup"><span data-stu-id="9443c-110">This article is focused on getting the *best* performance for SQL Server on Azure VMs.</span></span> <span data-ttu-id="9443c-111">Ha a terhelést szabadulnak, minden alábbi optimalizálási nem lehet szükség.</span><span class="sxs-lookup"><span data-stu-id="9443c-111">If your workload is less demanding, you might not require every optimization listed below.</span></span> <span data-ttu-id="9443c-112">Vegye figyelembe a teljesítményigény és a terhelési mintázatok, ezek a javaslatok értékeli.</span><span class="sxs-lookup"><span data-stu-id="9443c-112">Consider your performance needs and workload patterns as you evaluate these recommendations.</span></span>

[!INCLUDE [learn-about-deployment-models](../../../../includes/learn-about-deployment-models-both-include.md)]

## <a name="quick-check-list"></a><span data-ttu-id="9443c-113">Gyors ellenőrzőlista tételeit</span><span class="sxs-lookup"><span data-stu-id="9443c-113">Quick check list</span></span>

<span data-ttu-id="9443c-114">A következő az optimális teljesítmény érdekében az SQL Server Azure virtuális gépeken Gyorsellenőrzés listáját:</span><span class="sxs-lookup"><span data-stu-id="9443c-114">The following is a quick check list for optimal performance of SQL Server on Azure Virtual Machines:</span></span>

| <span data-ttu-id="9443c-115">Terület</span><span class="sxs-lookup"><span data-stu-id="9443c-115">Area</span></span> | <span data-ttu-id="9443c-116">Optimalizálás.</span><span class="sxs-lookup"><span data-stu-id="9443c-116">Optimizations</span></span> |
| --- | --- |
| [<span data-ttu-id="9443c-117">Virtuálisgép-mérettel</span><span class="sxs-lookup"><span data-stu-id="9443c-117">VM size</span></span>](#vm-size-guidance) |<span data-ttu-id="9443c-118">[DS3](../../virtual-machines-windows-sizes-memory.md) vagy újabb SQL Enterprise Edition.</span><span class="sxs-lookup"><span data-stu-id="9443c-118">[DS3](../../virtual-machines-windows-sizes-memory.md) or higher for SQL Enterprise edition.</span></span><br/><br/><span data-ttu-id="9443c-119">[DS2](../../virtual-machines-windows-sizes-memory.md) vagy újabb SQL Standard és Web kiadások.</span><span class="sxs-lookup"><span data-stu-id="9443c-119">[DS2](../../virtual-machines-windows-sizes-memory.md) or higher for SQL Standard and Web editions.</span></span> |
| [<span data-ttu-id="9443c-120">Storage</span><span class="sxs-lookup"><span data-stu-id="9443c-120">Storage</span></span>](#storage-guidance) |<span data-ttu-id="9443c-121">Használjon [prémium szintű Storage](../../../storage/common/storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="9443c-121">Use [Premium Storage](../../../storage/common/storage-premium-storage.md).</span></span> <span data-ttu-id="9443c-122">Standard szintű tárolót csak fejlesztési és tesztelési célú ajánlott.</span><span class="sxs-lookup"><span data-stu-id="9443c-122">Standard storage is only recommended for dev/test.</span></span><br/><br/><span data-ttu-id="9443c-123">Tartsa a [tárfiók](../../../storage/common/storage-create-storage-account.md) és az SQL Server virtuális gép ugyanabban a régióban.</span><span class="sxs-lookup"><span data-stu-id="9443c-123">Keep the [storage account](../../../storage/common/storage-create-storage-account.md) and SQL Server VM in the same region.</span></span><br/><br/><span data-ttu-id="9443c-124">Tiltsa le az Azure [georedundáns tárolás](../../../storage/common/storage-redundancy.md) (georeplikáció) a tárfiók.</span><span class="sxs-lookup"><span data-stu-id="9443c-124">Disable Azure [geo-redundant storage](../../../storage/common/storage-redundancy.md) (geo-replication) on the storage account.</span></span> |
| [<span data-ttu-id="9443c-125">Lemezek</span><span class="sxs-lookup"><span data-stu-id="9443c-125">Disks</span></span>](#disks-guidance) |<span data-ttu-id="9443c-126">Legalább 2 használja [P30 lemezek](../../../storage/common/storage-premium-storage.md#scalability-and-performance-targets) (1. a naplófájlok; 1. az adatfájlok és a TempDB).</span><span class="sxs-lookup"><span data-stu-id="9443c-126">Use a minimum of 2 [P30 disks](../../../storage/common/storage-premium-storage.md#scalability-and-performance-targets) (1 for log files; 1 for data files and TempDB).</span></span><br/><br/><span data-ttu-id="9443c-127">Ne használja az operációs rendszer vagy ideiglenes lemezek adatbázistár vagy naplózás.</span><span class="sxs-lookup"><span data-stu-id="9443c-127">Avoid using operating system or temporary disks for database storage or logging.</span></span><br/><br/><span data-ttu-id="9443c-128">Enable olvassa el a lemez(ek) az adatfájlok és a TempDB üzemeltető gyorsítótárazás.</span><span class="sxs-lookup"><span data-stu-id="9443c-128">Enable read caching on the disk(s) hosting the data files and TempDB.</span></span><br/><br/><span data-ttu-id="9443c-129">Ne engedélyezze a naplófájl üzemeltető lemez(ek) gyorsítótárazás.</span><span class="sxs-lookup"><span data-stu-id="9443c-129">Do not enable caching on disk(s) hosting the log file.</span></span><br/><br/><span data-ttu-id="9443c-130">Fontos: Az SQL Server szolgáltatás leállítása egy Azure virtuális lemezt a gyorsítótár beállításainak módosításakor.</span><span class="sxs-lookup"><span data-stu-id="9443c-130">Important: Stop the SQL Server service when changing the cache settings for an Azure VM disk.</span></span><br/><br/><span data-ttu-id="9443c-131">Paritásos több Azure adatlemezek nagyobb IO átviteli sebesség eléréséhez.</span><span class="sxs-lookup"><span data-stu-id="9443c-131">Stripe multiple Azure data disks to get increased IO throughput.</span></span><br/><br/><span data-ttu-id="9443c-132">Formázza a dokumentált lemezfoglalás méretét.</span><span class="sxs-lookup"><span data-stu-id="9443c-132">Format with documented allocation sizes.</span></span> |
| [<span data-ttu-id="9443c-133">I/O</span><span class="sxs-lookup"><span data-stu-id="9443c-133">I/O</span></span>](#io-guidance) |<span data-ttu-id="9443c-134">Adatbázis lap tömörítésének engedélyezéséhez.</span><span class="sxs-lookup"><span data-stu-id="9443c-134">Enable database page compression.</span></span><br/><br/><span data-ttu-id="9443c-135">Az adatfájlok azonnali fájlinicializálása engedélyezése.</span><span class="sxs-lookup"><span data-stu-id="9443c-135">Enable instant file initialization for data files.</span></span><br/><br/><span data-ttu-id="9443c-136">Korlátozható, vagy tiltsa le az adatbázis automatikus növekedésre.</span><span class="sxs-lookup"><span data-stu-id="9443c-136">Limit or disable autogrow on the database.</span></span><br/><br/><span data-ttu-id="9443c-137">Tiltsa le az adatbázis autoshrink.</span><span class="sxs-lookup"><span data-stu-id="9443c-137">Disable autoshrink on the database.</span></span><br/><br/><span data-ttu-id="9443c-138">Összes adatbázis áthelyezése adatlemezek, beleértve a rendszer-adatbázisokat.</span><span class="sxs-lookup"><span data-stu-id="9443c-138">Move all databases to data disks, including system databases.</span></span><br/><br/><span data-ttu-id="9443c-139">Helyezze át az SQL Server hiba naplózásához és követéséhez könyvtárak adatlemezek.</span><span class="sxs-lookup"><span data-stu-id="9443c-139">Move SQL Server error log and trace file directories to data disks.</span></span><br/><br/><span data-ttu-id="9443c-140">A telepítő biztonsági másolat és az adatbázis alapértelmezett tárolási helyeit.</span><span class="sxs-lookup"><span data-stu-id="9443c-140">Setup default backup and database file locations.</span></span><br/><br/><span data-ttu-id="9443c-141">Zárolt lapok engedélyezése.</span><span class="sxs-lookup"><span data-stu-id="9443c-141">Enable locked pages.</span></span><br/><br/><span data-ttu-id="9443c-142">SQL Server teljesítményét javítások alkalmazása.</span><span class="sxs-lookup"><span data-stu-id="9443c-142">Apply SQL Server performance fixes.</span></span> |
| [<span data-ttu-id="9443c-143">Funkcióspecifikus</span><span class="sxs-lookup"><span data-stu-id="9443c-143">Feature specific</span></span>](#feature-specific-guidance) |<span data-ttu-id="9443c-144">Készítsen biztonsági másolatot a közvetlenül a blob storage.</span><span class="sxs-lookup"><span data-stu-id="9443c-144">Back up directly to blob storage.</span></span> |

<span data-ttu-id="9443c-145">További információ a *hogyan* és *miért* ahhoz, hogy ezek az optimalizálások, tekintse át a részletek és a következő szakaszokban található útmutatást.</span><span class="sxs-lookup"><span data-stu-id="9443c-145">For more information on *how* and *why* to make these optimizations, please review the details and guidance provided in following sections.</span></span>

## <a name="vm-size-guidance"></a><span data-ttu-id="9443c-146">Virtuális gép mérete útmutató</span><span class="sxs-lookup"><span data-stu-id="9443c-146">VM size guidance</span></span>

<span data-ttu-id="9443c-147">Bizalmas alkalmazások teljesítménye, javasoljuk, hogy használja-e a következő [virtuális gépek méretét](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json):</span><span class="sxs-lookup"><span data-stu-id="9443c-147">For performance sensitive applications, it’s recommended that you use the following [virtual machines sizes](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json):</span></span>

* <span data-ttu-id="9443c-148">**SQL Server Enterprise Edition**: DS3 vagy újabb</span><span class="sxs-lookup"><span data-stu-id="9443c-148">**SQL Server Enterprise Edition**: DS3 or higher</span></span>
* <span data-ttu-id="9443c-149">**SQL Server Standard és Web kiadások**: DS2 vagy újabb</span><span class="sxs-lookup"><span data-stu-id="9443c-149">**SQL Server Standard and Web Editions**: DS2 or higher</span></span>

## <a name="storage-guidance"></a><span data-ttu-id="9443c-150">Tárolási útmutatásokkal</span><span class="sxs-lookup"><span data-stu-id="9443c-150">Storage guidance</span></span>

<span data-ttu-id="9443c-151">DS sorozatnak (valamint sorozatú DSv2 és GS sorozatnak) virtuális gépek támogatási [prémium szintű Storage](../../../storage/common/storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="9443c-151">DS-series (along with DSv2-series and GS-series) VMs support [Premium Storage](../../../storage/common/storage-premium-storage.md).</span></span> <span data-ttu-id="9443c-152">Prémium szintű Storage ajánlott minden termelési számítási feladatokhoz.</span><span class="sxs-lookup"><span data-stu-id="9443c-152">Premium Storage is recommended for all production workloads.</span></span>

> [!WARNING]
> <span data-ttu-id="9443c-153">Standard szintű tárolást különböző késések és sávszélesség rendelkezik, és csak ajánlott fejlesztési/tesztelési feladatokat.</span><span class="sxs-lookup"><span data-stu-id="9443c-153">Standard Storage has varying latencies and bandwidth and is only recommended for dev/test workloads.</span></span> <span data-ttu-id="9443c-154">Termelési számítási feladatokhoz a prémium szintű Storage kell használnia.</span><span class="sxs-lookup"><span data-stu-id="9443c-154">Production workloads should use Premium Storage.</span></span>

<span data-ttu-id="9443c-155">Emellett ajánlott ugyanabba az adatközpontba átviteli késések csökkentése érdekében az SQL Server virtuális gépként az Azure storage-fiók létrehozása.</span><span class="sxs-lookup"><span data-stu-id="9443c-155">In addition, we recommend that you create your Azure storage account in the same data center as your SQL Server virtual machines to reduce transfer delays.</span></span> <span data-ttu-id="9443c-156">A storage-fiók létrehozásakor tiltsa le a georeplikáció, több lemezre konzisztens írási sorrendje nem garantált.</span><span class="sxs-lookup"><span data-stu-id="9443c-156">When creating a storage account, disable geo-replication as consistent write order across multiple disks is not guaranteed.</span></span> <span data-ttu-id="9443c-157">Ehelyett fontolja meg, hogy egy SQL Server katasztrófa utáni helyreállítás technológia két Azure-adatközpont között.</span><span class="sxs-lookup"><span data-stu-id="9443c-157">Instead, consider configuring a SQL Server disaster recovery technology between two Azure data centers.</span></span> <span data-ttu-id="9443c-158">További információkért lásd: [magas rendelkezésre álláshoz és Vészhelyreállításhoz az SQL Server Azure virtuális gépek](virtual-machines-windows-sql-high-availability-dr.md).</span><span class="sxs-lookup"><span data-stu-id="9443c-158">For more information, see [High Availability and Disaster Recovery for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-high-availability-dr.md).</span></span>

## <a name="disks-guidance"></a><span data-ttu-id="9443c-159">Lemezek útmutató</span><span class="sxs-lookup"><span data-stu-id="9443c-159">Disks guidance</span></span>

<span data-ttu-id="9443c-160">Egy Azure virtuális gépen három fő lemez típusa van:</span><span class="sxs-lookup"><span data-stu-id="9443c-160">There are three main disk types on an Azure VM:</span></span>

* <span data-ttu-id="9443c-161">**Az operációsrendszer-lemez**: az Azure virtuális gép létrehozásakor a platform kapcsolódni fog-e legalább egy lemez (címkézve a **C** meghajtó) az az operációsrendszer-lemez a virtuális géphez.</span><span class="sxs-lookup"><span data-stu-id="9443c-161">**OS disk**: When you create an Azure Virtual Machine, the platform will attach at least one disk (labeled as the **C** drive) to the VM for your operating system disk.</span></span> <span data-ttu-id="9443c-162">Ez a lemez tárolási oldalakra vonatkozó blob tárolt virtuális merevlemez.</span><span class="sxs-lookup"><span data-stu-id="9443c-162">This disk is a VHD stored as a page blob in storage.</span></span>
* <span data-ttu-id="9443c-163">**Ideiglenes lemez**: Azure virtuális gépek tartalmazza az ideiglenes lemez nevű másik lemezre (címkézve a **D**: meghajtó).</span><span class="sxs-lookup"><span data-stu-id="9443c-163">**Temporary disk**: Azure Virtual Machines contain another disk called the temporary disk (labeled as the **D**: drive).</span></span> <span data-ttu-id="9443c-164">Ez az egy lemezt a csomóponton, az ideiglenes területet használható.</span><span class="sxs-lookup"><span data-stu-id="9443c-164">This is a disk on the node that can be used for scratch space.</span></span>
* <span data-ttu-id="9443c-165">**Az adatlemezek**: is csatolhat lemezt a virtuális gép adatok lemezként, és ezek fogja tárolni Storage lapblobokat.</span><span class="sxs-lookup"><span data-stu-id="9443c-165">**Data disks**: You can also attach additional disks to your virtual machine as data disks, and these will be stored in storage as page blobs.</span></span>

<span data-ttu-id="9443c-166">A következő szakaszok ismertetik a különböző lemezek használatához.</span><span class="sxs-lookup"><span data-stu-id="9443c-166">The following sections describe recommendations for using these different disks.</span></span>

### <a name="operating-system-disk"></a><span data-ttu-id="9443c-167">Operációsrendszer-lemez</span><span class="sxs-lookup"><span data-stu-id="9443c-167">Operating system disk</span></span>

<span data-ttu-id="9443c-168">Operációsrendszer-lemez a virtuális Merevlemezt, amely a rendszerindító és a csatlakoztatási az operációs rendszer fut verzióként és van-e címkézve **C** meghajtó.</span><span class="sxs-lookup"><span data-stu-id="9443c-168">An operating system disk is a VHD that you can boot and mount as a running version of an operating system and is labeled as **C** drive.</span></span>

<span data-ttu-id="9443c-169">Alapértelmezés szerint a gyorsítótárazási házirend, az operációs rendszer lemezen lévő **olvasási/írási**.</span><span class="sxs-lookup"><span data-stu-id="9443c-169">Default caching policy on the operating system disk is **Read/Write**.</span></span> <span data-ttu-id="9443c-170">Bizalmas alkalmazások teljesítménye javasoljuk, adatlemezek használata helyett az operációs rendszer tárolására.</span><span class="sxs-lookup"><span data-stu-id="9443c-170">For performance sensitive applications, we recommend that you use data disks instead of the operating system disk.</span></span> <span data-ttu-id="9443c-171">Lásd az alábbi adatlemezek.</span><span class="sxs-lookup"><span data-stu-id="9443c-171">See the section on Data Disks below.</span></span>

### <a name="temporary-disk"></a><span data-ttu-id="9443c-172">Ideiglenes lemez</span><span class="sxs-lookup"><span data-stu-id="9443c-172">Temporary disk</span></span>

<span data-ttu-id="9443c-173">Az ideiglenes tárolási meghajtó címkézve a **D**: meghajtó, nem őrzi meg az Azure blob storage.</span><span class="sxs-lookup"><span data-stu-id="9443c-173">The temporary storage drive, labeled as the **D**: drive, is not persisted to Azure blob storage.</span></span> <span data-ttu-id="9443c-174">Ne tárolja a felhasználói adatbázis-fájlokat vagy a felhasználó tranzakciós naplófájlok a **D**: meghajtó.</span><span class="sxs-lookup"><span data-stu-id="9443c-174">Do not store your user database files or user transaction log files on the **D**: drive.</span></span>

<span data-ttu-id="9443c-175">D sorozatú, Dv2-sorozat és G sorozatú virtuális gépeket a virtuális gépeken az ideiglenes meghajtón, SSD-alapú.</span><span class="sxs-lookup"><span data-stu-id="9443c-175">For D-series, Dv2-series, and G-series VMs, the temporary drive on these VMs is SSD-based.</span></span> <span data-ttu-id="9443c-176">Ha a terhelést a TempDB nehéz használatát (pl. az ideiglenes objektumok vagy bonyolult illesztésekre), a TempDB tárolja a **D** meghajtó nem sikerült újabb TempDB átviteli sebességet eredményez, és a TempDB késés csökkentése.</span><span class="sxs-lookup"><span data-stu-id="9443c-176">If your workload makes heavy use of TempDB (e.g. for temporary objects or complex joins), storing TempDB on the **D** drive could result in higher TempDB throughput and lower TempDB latency.</span></span>

<span data-ttu-id="9443c-177">Virtuális gépekhez, amely támogatja a prémium szintű Storage (DS-méretek, DSv2-sorozat és GS sorozatnak) azt javasoljuk, amely támogatja a prémium szintű Storage engedélyezve olvasási gyorsítótárazás lemezre TempDB tárolására.</span><span class="sxs-lookup"><span data-stu-id="9443c-177">For VMs that support Premium Storage (DS-series, DSv2-series, and GS-series), we recommend storing TempDB on a disk that supports Premium Storage with read caching enabled.</span></span> <span data-ttu-id="9443c-178">Nincs az egyetlen kivétel ez a javaslat; Ha a TempDB használata írási igényű, nagyobb teljesítményt érhet el, a TempDB tárolja a helyi **D** meghajtót, amely egyben a ezek méreteket SSD-alapú.</span><span class="sxs-lookup"><span data-stu-id="9443c-178">There is one exception to this recommendation; if your TempDB usage is write-intensive, you can achieve higher performance by storing TempDB on the local **D** drive, which is also SSD-based on these machine sizes.</span></span>

### <a name="data-disks"></a><span data-ttu-id="9443c-179">Az adatlemezek</span><span class="sxs-lookup"><span data-stu-id="9443c-179">Data disks</span></span>

* <span data-ttu-id="9443c-180">**Adatlemezek használja az adatok és a naplófájlok**: legalább 2 prémium szintű Storage használata [P30 lemezek](../../../storage/common/storage-premium-storage.md#scalability-and-performance-targets) ahol egy lemezt a naplófájl (oka) t tartalmaz, és a másik az adatokat és a TempDB adatbázis (oka) t tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="9443c-180">**Use data disks for data and log files**: At a minimum, use 2 Premium Storage [P30 disks](../../../storage/common/storage-premium-storage.md#scalability-and-performance-targets) where one disk contains the log file(s) and the other contains the data and TempDB file(s).</span></span> <span data-ttu-id="9443c-181">Minden prémium szintű tároló lemez számos iops-érték és a sávszélesség (MB/s) attól függően, hogy annak méretét, a következő cikkben leírtak szerint: [prémium szintű Storage használatával lemezek](../../../storage/common/storage-premium-storage.md).</span><span class="sxs-lookup"><span data-stu-id="9443c-181">Each Premium Storage disk provides a number of IOPs and bandwidth (MB/s) depending on its size, as described in the following article: [Using Premium Storage for Disks](../../../storage/common/storage-premium-storage.md).</span></span>

* <span data-ttu-id="9443c-182">**Lemez csíkozást**: további átviteli sebesség eléréséhez, adhat hozzá további adatlemezt és lemez csíkozást használja.</span><span class="sxs-lookup"><span data-stu-id="9443c-182">**Disk Striping**: For more throughput, you can add additional data disks and use Disk Striping.</span></span> <span data-ttu-id="9443c-183">Az adatlemezek számának megállapításához kell elemeznie iops-érték és a sávszélességre van szüksége a naplófájl (oka) t, és az adatok és a TempDB adatbázis (oka) t.</span><span class="sxs-lookup"><span data-stu-id="9443c-183">To determine the number of data disks, you need to analyze the number of IOPS and bandwidth required for your log file(s), and for your data and TempDB file(s).</span></span> <span data-ttu-id="9443c-184">Figyelje meg, hogy más Virtuálisgép-méretek iops-érték és a támogatott sávszélesség számára különböző korlátokkal rendelkeznek, tekintse meg a táblák iops-értéket a [Virtuálisgép-méretet](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="9443c-184">Notice that different VM sizes have different limits on the number of IOPs and bandwidth supported, see the tables on IOPS per [VM size](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span> <span data-ttu-id="9443c-185">Kövesse az alábbi iránymutatásokat:</span><span class="sxs-lookup"><span data-stu-id="9443c-185">Use the following guidelines:</span></span>

  * <span data-ttu-id="9443c-186">A Windows 8 és Windows Server 2012 vagy újabb, használjon [tárolóhelyek](https://technet.microsoft.com/library/hh831739.aspx) az alábbi útmutatókat:</span><span class="sxs-lookup"><span data-stu-id="9443c-186">For Windows 8/Windows Server 2012 or later, use [Storage Spaces](https://technet.microsoft.com/library/hh831739.aspx) with the following guidelines:</span></span>

      1. <span data-ttu-id="9443c-187">Állítsa be a szektorszórás (paritásos méret) 64 KB-os (65 536 bájt) OLTP-munkaterhelések és 256 KB (262 144 bájt) adatok vámraktározási munkaterhelések partíció hibás illesztés hibákat miatt a teljesítményre gyakorolt hatás elkerülése érdekében.</span><span class="sxs-lookup"><span data-stu-id="9443c-187">Set the interleave (stripe size) to 64 KB (65536 bytes) for OLTP workloads and 256 KB (262144 bytes) for data warehousing workloads to avoid performance impact due to partition misalignment.</span></span> <span data-ttu-id="9443c-188">Ez a PowerShell használatával kell beállítani.</span><span class="sxs-lookup"><span data-stu-id="9443c-188">This must be set with PowerShell.</span></span>
      1. <span data-ttu-id="9443c-189">Állítsa be az oszlopok száma = fizikai lemezek számát.</span><span class="sxs-lookup"><span data-stu-id="9443c-189">Set column count = number of physical disks.</span></span> <span data-ttu-id="9443c-190">A PowerShell szolgáltatás több mint 8 lemez (nem a kiszolgáló-kezelő felhasználói felületén) konfigurálásakor.</span><span class="sxs-lookup"><span data-stu-id="9443c-190">Use PowerShell when configuring more than 8 disks (not Server Manager UI).</span></span> 

    <span data-ttu-id="9443c-191">Például a következő PowerShell a szektorszórás méretű 64 KB és 2 oszlopainak számával egy új tárolókészletet hoz létre:</span><span class="sxs-lookup"><span data-stu-id="9443c-191">For example, the following PowerShell creates a new storage pool with the interleave size to 64 KB and the number of columns to 2:</span></span>

    ```powershell
    $PoolCount = Get-PhysicalDisk -CanPool $True
    $PhysicalDisks = Get-PhysicalDisk | Where-Object {$_.FriendlyName -like "*2" -or $_.FriendlyName -like "*3"}

    New-StoragePool -FriendlyName "DataFiles" -StorageSubsystemFriendlyName "Storage Spaces*" -PhysicalDisks $PhysicalDisks | New-VirtualDisk -FriendlyName "DataFiles" -Interleave 65536 -NumberOfColumns 2 -ResiliencySettingName simple –UseMaximumSize |Initialize-Disk -PartitionStyle GPT -PassThru |New-Partition -AssignDriveLetter -UseMaximumSize |Format-Volume -FileSystem NTFS -NewFileSystemLabel "DataDisks" -AllocationUnitSize 65536 -Confirm:$false 
    ```

  * <span data-ttu-id="9443c-192">Windows 2008 R2 vagy korábbi használhatja a dinamikus lemezek (az operációs rendszer csíkozott kötetek) és a paritásos mérete mindig 64 KB.</span><span class="sxs-lookup"><span data-stu-id="9443c-192">For Windows 2008 R2 or earlier, you can use dynamic disks (OS striped volumes) and the stripe size is always 64 KB.</span></span> <span data-ttu-id="9443c-193">Vegye figyelembe, hogy ez a beállítás Windows 8 és Windows Server 2012-től elavult.</span><span class="sxs-lookup"><span data-stu-id="9443c-193">Note that this option is deprecated as of Windows 8/Windows Server 2012.</span></span> <span data-ttu-id="9443c-194">Információkért lásd: a következő támogatási nyilatkozattal [Virtuálislemez-szolgáltatás a Windows tárolókezelési API tér át](https://msdn.microsoft.com/library/windows/desktop/hh848071.aspx).</span><span class="sxs-lookup"><span data-stu-id="9443c-194">For information, see the support statement at [Virtual Disk Service is transitioning to Windows Storage Management API](https://msdn.microsoft.com/library/windows/desktop/hh848071.aspx).</span></span>

  * <span data-ttu-id="9443c-195">Ha a számítási feladatok nem intenzív naplót, és nem kell külön IOPs, beállíthatja a csak egy tárolókészletet.</span><span class="sxs-lookup"><span data-stu-id="9443c-195">If your workload is not log intensive and does not need dedicated IOPs, you can configure just one storage pool.</span></span> <span data-ttu-id="9443c-196">Máskülönben hozzon létre két tárolókészletek, egyet a naplófájl (oka) t, és egy másik tárolókészlettel adatfájllal és a TempDB.</span><span class="sxs-lookup"><span data-stu-id="9443c-196">Otherwise, create two storage pools, one for the log file(s) and another storage pool for the data file(s) and TempDB.</span></span> <span data-ttu-id="9443c-197">Határozza meg a társított minden egyes betöltés elvárásainak alapuló tárolókészlet lemezek számát.</span><span class="sxs-lookup"><span data-stu-id="9443c-197">Determine the number of disks associated with each storage pool based on your load expectations.</span></span> <span data-ttu-id="9443c-198">Ne feledje, hogy más Virtuálisgép-méretek lehetővé teszik a különböző számú adatlemezt csatolni.</span><span class="sxs-lookup"><span data-stu-id="9443c-198">Keep in mind that different VM sizes allow different numbers of attached data disks.</span></span> <span data-ttu-id="9443c-199">További információkért lásd: [virtuális gépek méretei](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="9443c-199">For more information, see [Sizes for Virtual Machines](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

  * <span data-ttu-id="9443c-200">Használatakor nem prémium szintű Storage (fejlesztési és tesztelési célú forgatókönyv), az ajánlás az adatlemezek által támogatott maximális számának hozzáadása, a [Virtuálisgép-méretet](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) és lemez csíkozást használja.</span><span class="sxs-lookup"><span data-stu-id="9443c-200">If you are not using Premium Storage (dev/test scenarios), the recommendation is to add the maximum number of data disks supported by your [VM size](../sizes.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) and use Disk Striping.</span></span>

* <span data-ttu-id="9443c-201">**Gyorsítótárazási házirend**: adatlemezek a prémium szintű Storage, engedélyezze az adatfájlok és a TempDB csak üzemeltető adatlemezek olvasási gyorsítótárazás.</span><span class="sxs-lookup"><span data-stu-id="9443c-201">**Caching policy**: For Premium Storage data disks, enable read caching on the data disks hosting your data files and TempDB only.</span></span> <span data-ttu-id="9443c-202">Használatakor nem prémium szintű Storage, nem engedélyezi a gyorsítótárazást az adatok lemezzel.</span><span class="sxs-lookup"><span data-stu-id="9443c-202">If you are not using Premium Storage, do not enable any caching on any data disks.</span></span> <span data-ttu-id="9443c-203">A lemez gyorsítótárazás, konfigurálásával kapcsolatban lásd a következő témaköröket: [Set-AzureOSDisk](https://msdn.microsoft.com/library/azure/jj152847) és [Set-AzureDataDisk](https://msdn.microsoft.com/library/azure/jj152851.aspx).</span><span class="sxs-lookup"><span data-stu-id="9443c-203">For instructions on configuring disk caching, see the following topics: [Set-AzureOSDisk](https://msdn.microsoft.com/library/azure/jj152847) and [Set-AzureDataDisk](https://msdn.microsoft.com/library/azure/jj152851.aspx).</span></span>

  > [!WARNING]
  > <span data-ttu-id="9443c-204">Állítsa le az SQL Server szolgáltatás, amikor a lehetőségét, amely bármilyen adatbázis-sérülés elkerülése érdekében az Azure virtuális gépek lemezei gyorsítótár beállításainak megváltoztatása.</span><span class="sxs-lookup"><span data-stu-id="9443c-204">Stop the SQL Server service when changing the cache setting of Azure VM disks to avoid the possibility of any database corruption.</span></span>

* <span data-ttu-id="9443c-205">**NTFS foglalásiegység-méret**: az adatok lemez formázása esetén ajánlott használni, amikor egy 64 KB-os foglalásiegység-méret adatok és a naplófájlok, valamint a TempDB adatbázisban.</span><span class="sxs-lookup"><span data-stu-id="9443c-205">**NTFS allocation unit size**: When formatting the data disk, it is recommended that you use a 64-KB allocation unit size for data and log files as well as TempDB.</span></span>

* <span data-ttu-id="9443c-206">**Gyakorlati tanácsok a jelszókezeléshez lemez**: Ha adatlemezt vagy nem módosíthatja a gyorsítótár típusa, állítsa le az SQL Server szolgáltatás módosítása során.</span><span class="sxs-lookup"><span data-stu-id="9443c-206">**Disk management best practices**: When removing a data disk or changing its cache type, stop the SQL Server service during the change.</span></span> <span data-ttu-id="9443c-207">Megváltozásakor a gyorsítótárazási beállítások vannak az operációsrendszer-lemezképet, a Azure leállítja a virtuális gép, megváltozik a gyorsítótár típusa és a virtuális gép újraindul.</span><span class="sxs-lookup"><span data-stu-id="9443c-207">When the caching settings are changed on the OS disk, Azure stops the VM, changes the cache type, and restarts the VM.</span></span> <span data-ttu-id="9443c-208">Adatlemez gyorsítótár beállításainak módosításakor a virtuális gép nem állt le, de a adatok lemez leválasztása a virtuális gépről a módosítás során, majd objektumkörnyezetben.</span><span class="sxs-lookup"><span data-stu-id="9443c-208">When the cache settings of a data disk are changed, the VM is not stopped, but the data disk is detached from the VM during the change and then reattached.</span></span>

  > [!WARNING]
  > <span data-ttu-id="9443c-209">Ezek a műveletek során az SQL Server szolgáltatás leállítása sikertelen sérülésével járhat.</span><span class="sxs-lookup"><span data-stu-id="9443c-209">Failure to stop the SQL Server service during these operations can cause database corruption.</span></span>

## <a name="io-guidance"></a><span data-ttu-id="9443c-210">I/o-útmutató</span><span class="sxs-lookup"><span data-stu-id="9443c-210">I/O guidance</span></span>

* <span data-ttu-id="9443c-211">Prémium szintű Storage a legjobb eredmények érhetők el, ha az alkalmazás és a kérelmek parallelize.</span><span class="sxs-lookup"><span data-stu-id="9443c-211">The best results with Premium Storage are achieved when you parallelize your application and requests.</span></span> <span data-ttu-id="9443c-212">Prémium szintű Storage a forgatókönyvekben, ahol a IO várólistamélység nagyobb, mint 1, így látni fogja a soros kérelmek egyszálas kevéssé vagy egyáltalán ne teljesítménynövekedéshez (még akkor is, ha azok a tárolási intenzív) szolgál.</span><span class="sxs-lookup"><span data-stu-id="9443c-212">Premium Storage is designed for scenarios where the IO queue depth is greater than 1, so you will see little or no performance gains for single-threaded serial requests (even if they are storage intensive).</span></span> <span data-ttu-id="9443c-213">Ide tartozhat például teljesítmény elemzésére szolgáló eszközöket, például SQLIO egyszálas vizsgálat eredményeit.</span><span class="sxs-lookup"><span data-stu-id="9443c-213">For example, this could impact the single-threaded test results of performance analysis tools, such as SQLIO.</span></span>

* <span data-ttu-id="9443c-214">Érdemes lehet [adatbázis-oldal tömörítési](https://msdn.microsoft.com/library/cc280449.aspx) , akkor javíthatja intenzív i/o-munkaterhelések teljesítményét.</span><span class="sxs-lookup"><span data-stu-id="9443c-214">Consider using [database page compression](https://msdn.microsoft.com/library/cc280449.aspx) as it can help improve performance of I/O intensive workloads.</span></span> <span data-ttu-id="9443c-215">Az adatok tömörítésének azonban növelheti a CPU-használat a kiszolgálón.</span><span class="sxs-lookup"><span data-stu-id="9443c-215">However, the data compression might increase the CPU consumption on the database server.</span></span>

* <span data-ttu-id="9443c-216">Érdemes megfontolni a azonnali fájlinicializálása a kezdeti fájl kiosztható szükséges idő csökkentése érdekében.</span><span class="sxs-lookup"><span data-stu-id="9443c-216">Consider enabling instant file initialization to reduce the time that is required for initial file allocation.</span></span> <span data-ttu-id="9443c-217">Azonnali fájlinicializálása előnyeit, adja meg az SQL Server (MSSQLSERVER) szolgáltatás fiók SE_MANAGE_VOLUME_NAME, és hozzá kell adnia a **kötet karbantartási feladatok elvégzése** biztonsági házirend.</span><span class="sxs-lookup"><span data-stu-id="9443c-217">To take advantage of instant file initialization, you grant the SQL Server (MSSQLSERVER) service account with SE_MANAGE_VOLUME_NAME and add it to the **Perform Volume Maintenance Tasks** security policy.</span></span> <span data-ttu-id="9443c-218">Ha egy SQL Server platformlemezképet használ az Azure-ba, az alapértelmezett szolgáltatásfiók (NT Service\MSSQLSERVER) nem adódik hozzá a **kötet karbantartási feladatok elvégzése** biztonsági házirend.</span><span class="sxs-lookup"><span data-stu-id="9443c-218">If you are using a SQL Server platform image for Azure, the default service account (NT Service\MSSQLSERVER) isn’t added to the **Perform Volume Maintenance Tasks** security policy.</span></span> <span data-ttu-id="9443c-219">Ez azt jelenti azonnali fájlinicializálása nincs engedélyezve az SQL Server Azure platform lemezképek.</span><span class="sxs-lookup"><span data-stu-id="9443c-219">In other words, instant file initialization is not enabled in a SQL Server Azure platform image.</span></span> <span data-ttu-id="9443c-220">Az SQL Server szolgáltatás fiók hozzáadása után a **kötet karbantartási feladatok elvégzése** biztonsági házirend, indítsa újra az SQL Server szolgáltatást.</span><span class="sxs-lookup"><span data-stu-id="9443c-220">After adding the SQL Server service account to the **Perform Volume Maintenance Tasks** security policy, restart the SQL Server service.</span></span> <span data-ttu-id="9443c-221">Ez a szolgáltatás használatára vonatkozó biztonsági szempontokat is lehet.</span><span class="sxs-lookup"><span data-stu-id="9443c-221">There could be security considerations for using this feature.</span></span> <span data-ttu-id="9443c-222">További információkért lásd: [adatbázis Fájlinicializálása](https://msdn.microsoft.com/library/ms175935.aspx).</span><span class="sxs-lookup"><span data-stu-id="9443c-222">For more information, see [Database File Initialization](https://msdn.microsoft.com/library/ms175935.aspx).</span></span>

* <span data-ttu-id="9443c-223">**automatikus növekedésre** számít, csupán a váratlan növekedésre eseményre.</span><span class="sxs-lookup"><span data-stu-id="9443c-223">**autogrow** is considered to be merely a contingency for unexpected growth.</span></span> <span data-ttu-id="9443c-224">Az automatikus növekedésre folyamatosan a adatainak és naplókönyvtárainak növekedési nem kezeli.</span><span class="sxs-lookup"><span data-stu-id="9443c-224">Do not manage your data and log growth on a day-to-day basis with autogrow.</span></span> <span data-ttu-id="9443c-225">Automatikus növekedésre használatos, ha előre mérete kapcsoló használata a fájl megcélzott.</span><span class="sxs-lookup"><span data-stu-id="9443c-225">If autogrow is used, pre-grow the file using the Size switch.</span></span>

* <span data-ttu-id="9443c-226">Győződjön meg arról, hogy **autoshrink** negatívan befolyásolhatja a teljesítményt szükségtelen terhet elkerülése érdekében le van tiltva.</span><span class="sxs-lookup"><span data-stu-id="9443c-226">Make sure **autoshrink** is disabled to avoid unnecessary overhead that can negatively affect performance.</span></span>

* <span data-ttu-id="9443c-227">Összes adatbázis áthelyezése adatlemezek, beleértve a rendszer-adatbázisokat.</span><span class="sxs-lookup"><span data-stu-id="9443c-227">Move all databases to data disks, including system databases.</span></span> <span data-ttu-id="9443c-228">További információkért lásd: [rendszer adatbázisok áthelyezése](https://msdn.microsoft.com/library/ms345408.aspx).</span><span class="sxs-lookup"><span data-stu-id="9443c-228">For more information, see [Move System Databases](https://msdn.microsoft.com/library/ms345408.aspx).</span></span>

* <span data-ttu-id="9443c-229">Helyezze át az SQL Server hiba naplózásához és követéséhez könyvtárak adatlemezek.</span><span class="sxs-lookup"><span data-stu-id="9443c-229">Move SQL Server error log and trace file directories to data disks.</span></span> <span data-ttu-id="9443c-230">Ezt megteheti az SQL Server Configuration Manager kattintson a jobb gombbal az SQL Server-példányt, majd válassza a tulajdonságok.</span><span class="sxs-lookup"><span data-stu-id="9443c-230">This can be done in SQL Server Configuration Manager by right-clicking your SQL Server instance and selecting properties.</span></span> <span data-ttu-id="9443c-231">A hiba naplózásához és követéséhez fájlbeállításainak módosítható a **indítási paraméterek** fülre. A memóriakép könyvtára van megadva a **speciális** fülre. Az alábbi képernyőfelvételen látható, ha a hiba a napló indítási paraméter keresnie.</span><span class="sxs-lookup"><span data-stu-id="9443c-231">The error log and trace file settings can be changed in the **Startup Parameters** tab. The Dump Directory is specified in the **Advanced** tab. The following screenshot shows where to look for the error log startup parameter.</span></span>

    ![Az SQL hibanaplóban képernyőképe](./media/virtual-machines-windows-sql-performance/sql_server_error_log_location.png)

* <span data-ttu-id="9443c-233">A telepítő biztonsági másolat és az adatbázis alapértelmezett tárolási helyeit.</span><span class="sxs-lookup"><span data-stu-id="9443c-233">Setup default backup and database file locations.</span></span> <span data-ttu-id="9443c-234">Ebben a témakörben a javaslatokat használja, és végezze el a módosításokat a kiszolgáló tulajdonságai ablakban.</span><span class="sxs-lookup"><span data-stu-id="9443c-234">Use the recommendations in this topic, and make the changes in the Server properties window.</span></span> <span data-ttu-id="9443c-235">Útmutatásért lásd: [megtekinteni vagy módosítani az alapértelmezett helyek az adatok és naplófájlok (SQL Server Management Studio)](https://msdn.microsoft.com/library/dd206993.aspx).</span><span class="sxs-lookup"><span data-stu-id="9443c-235">For instructions, see [View or Change the Default Locations for Data and Log Files (SQL Server Management Studio)](https://msdn.microsoft.com/library/dd206993.aspx).</span></span> <span data-ttu-id="9443c-236">Az alábbi képernyőfelvételen a változtatások where mutatja be.</span><span class="sxs-lookup"><span data-stu-id="9443c-236">The following screenshot demonstrates where to make these changes.</span></span>

    ![SQL Data napló-és biztonsági mentése](./media/virtual-machines-windows-sql-performance/sql_server_default_data_log_backup_locations.png)
* <span data-ttu-id="9443c-238">Engedélyezze a zárolt lapok IO és lapozás tevékenységeket csökkentése érdekében.</span><span class="sxs-lookup"><span data-stu-id="9443c-238">Enable locked pages to reduce IO and any paging activities.</span></span> <span data-ttu-id="9443c-239">További információkért lásd: [engedélyezése a zárolási lapok memória beállítás (Windows)](https://msdn.microsoft.com/library/ms190730.aspx).</span><span class="sxs-lookup"><span data-stu-id="9443c-239">For more information, see [Enable the Lock Pages in Memory Option (Windows)](https://msdn.microsoft.com/library/ms190730.aspx).</span></span>

* <span data-ttu-id="9443c-240">Ha SQL Server 2012 rendszer használata esetén telepítse a Service Pack 1 összegző frissítés 10.</span><span class="sxs-lookup"><span data-stu-id="9443c-240">If you are running SQL Server 2012, install Service Pack 1 Cumulative Update 10.</span></span> <span data-ttu-id="9443c-241">A frissítés tartalmazza a javítás i/o gyenge teljesítményt, válassza ki azokat az SQL Server 2012 ideiglenes table utasítás végrehajtása esetén.</span><span class="sxs-lookup"><span data-stu-id="9443c-241">This update contains the fix for poor performance on I/O when you execute select into temporary table statement in SQL Server 2012.</span></span> <span data-ttu-id="9443c-242">További információ: Ez [Tudásbázis](http://support.microsoft.com/kb/2958012).</span><span class="sxs-lookup"><span data-stu-id="9443c-242">For information, see this [knowledge base article](http://support.microsoft.com/kb/2958012).</span></span>

* <span data-ttu-id="9443c-243">Vegye figyelembe az adatfájlokról tömörítés vagy kikapcsolása átviteléhez az Azure.</span><span class="sxs-lookup"><span data-stu-id="9443c-243">Consider compressing any data files when transferring in/out of Azure.</span></span>

## <a name="feature-specific-guidance"></a><span data-ttu-id="9443c-244">A szolgáltatás konkrét útmutatást</span><span class="sxs-lookup"><span data-stu-id="9443c-244">Feature specific guidance</span></span>

<span data-ttu-id="9443c-245">Egyes központi telepítések további teljesítménybeli előnyökben speciális konfigurációs technikák segítségével elérése érdekében.</span><span class="sxs-lookup"><span data-stu-id="9443c-245">Some deployments may achieve additional performance benefits using more advanced configuration techniques.</span></span> <span data-ttu-id="9443c-246">Az alábbi listában néhány SQL Server szolgáltatásokat tartalmaz, amely segítségével a jobb teljesítmény érdekében információk találhatók:</span><span class="sxs-lookup"><span data-stu-id="9443c-246">The following list highlights some SQL Server features that can help you to achieve better performance:</span></span>

* <span data-ttu-id="9443c-247">**Az Azure storage történő biztonsági mentés**: az Azure virtuális gépeken futó SQL Server biztonsági mentés végrehajtásához, használhatja [SQL Server biztonsági másolat URL-címre](https://msdn.microsoft.com/library/dn435916.aspx).</span><span class="sxs-lookup"><span data-stu-id="9443c-247">**Backup to Azure storage**: When performing backups for SQL Server running in Azure virtual machines, you can use [SQL Server Backup to URL](https://msdn.microsoft.com/library/dn435916.aspx).</span></span> <span data-ttu-id="9443c-248">Ez a szolgáltatás lett bevezetve az SQL Server 2012 SP1 CU2 és ajánlott a biztonsági mentés a mellékelt adatok lemezeket.</span><span class="sxs-lookup"><span data-stu-id="9443c-248">This feature is available starting with SQL Server 2012 SP1 CU2 and recommended for backing up to the attached data disks.</span></span> <span data-ttu-id="9443c-249">Ha Ön biztonsági mentés/visszaállítás az Azure-tárolót, kövesse a megadott [SQL Server biztonsági másolat URL-cím ajánlott eljárások és hibaelhárítás és visszaállítása az Azure Storage-ban tárolt biztonsági másolatok](https://msdn.microsoft.com/library/jj919149.aspx).</span><span class="sxs-lookup"><span data-stu-id="9443c-249">When you backup/restore to/from Azure storage, follow the recommendations provided at [SQL Server Backup to URL Best Practices and Troubleshooting and Restoring from Backups Stored in Azure Storage](https://msdn.microsoft.com/library/jj919149.aspx).</span></span> <span data-ttu-id="9443c-250">Ezek a biztonsági mentéseket is automatizálhatja [automatikus biztonsági mentés az SQL Server Azure virtuális gépek](virtual-machines-windows-sql-automated-backup.md).</span><span class="sxs-lookup"><span data-stu-id="9443c-250">You can also automate these backups using [Automated Backup for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-automated-backup.md).</span></span>

    <span data-ttu-id="9443c-251">SQL Server 2012 megjelenése előtt használható [SQL Server biztonsági másolat segítségével Azure eszköz](https://www.microsoft.com/download/details.aspx?id=40740).</span><span class="sxs-lookup"><span data-stu-id="9443c-251">Prior to SQL Server 2012, you can use [SQL Server Backup to Azure Tool](https://www.microsoft.com/download/details.aspx?id=40740).</span></span> <span data-ttu-id="9443c-252">Ez az eszköz segítségével több biztonsági mentési paritásos cél használó biztonsági mentési átviteli sebesség növelése.</span><span class="sxs-lookup"><span data-stu-id="9443c-252">This tool can help to increase backup throughput using multiple backup stripe targets.</span></span>

* <span data-ttu-id="9443c-253">**SQL Server-adatfájlok az Azure-ban**: ezen új szolgáltatás [SQL Server-adatfájlok az Azure-ban](https://msdn.microsoft.com/library/dn385720.aspx), az SQL Server 2014 kezdve érhető el.</span><span class="sxs-lookup"><span data-stu-id="9443c-253">**SQL Server Data Files in Azure**: This new feature, [SQL Server Data Files in Azure](https://msdn.microsoft.com/library/dn385720.aspx), is available starting with SQL Server 2014.</span></span> <span data-ttu-id="9443c-254">Hasonló teljesítményt nyújt, mint az Azure data lemezek használata az Azure-adatfájlok SQL Servert futtató mutatja be.</span><span class="sxs-lookup"><span data-stu-id="9443c-254">Running SQL Server with data files in Azure demonstrates comparable performance characteristics as using Azure data disks.</span></span>

## <a name="next-steps"></a><span data-ttu-id="9443c-255">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="9443c-255">Next Steps</span></span>

<span data-ttu-id="9443c-256">Ajánlott biztonsági eljárások, lásd: [biztonsági szempontok az SQL Server Azure virtuális gépek](virtual-machines-windows-sql-security.md).</span><span class="sxs-lookup"><span data-stu-id="9443c-256">For security best practices, see [Security Considerations for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-security.md).</span></span>

<span data-ttu-id="9443c-257">Tekintse át a többi SQL Server virtuális gép témakörei [SQL Server Azure virtuális gépek – áttekintés](virtual-machines-windows-sql-server-iaas-overview.md).</span><span class="sxs-lookup"><span data-stu-id="9443c-257">Review other SQL Server Virtual Machine topics at [SQL Server on Azure Virtual Machines Overview](virtual-machines-windows-sql-server-iaas-overview.md).</span></span>
