---
title: az Azure SQL Server szempontjai aaaSecurity |} Microsoft Docs
description: "Ez a témakör egy Azure virtuális gépen futó SQL Server biztonságához általános útmutatást biztosít."
services: virtual-machines-windows
documentationcenter: na
author: rothja
manager: jhubbard
editor: 
tags: azure-service-management
ms.assetid: d710c296-e490-43e7-8ca9-8932586b71da
ms.service: virtual-machines-sql
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: vm-windows-sql-server
ms.workload: iaas-sql-server
ms.date: 06/02/2017
ms.author: jroth
ms.openlocfilehash: 14c3d828fa87446da67beea6d28886de254afe15
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="security-considerations-for-sql-server-in-azure-virtual-machines"></a><span data-ttu-id="25858-103">Az SQL Server Azure-beli virtuális gépeken történő futtatásának biztonsági szempontjai</span><span class="sxs-lookup"><span data-stu-id="25858-103">Security Considerations for SQL Server in Azure Virtual Machines</span></span>

<span data-ttu-id="25858-104">Ez a témakör általános biztonsági irányelvek, amelyek biztonságos hozzáférést tooSQL kiszolgálópéldányok felderíthető egy Azure virtuális gépen (VM) tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="25858-104">This topic includes overall security guidelines that help establish secure access tooSQL Server instances in an Azure virtual machine (VM).</span></span>

<span data-ttu-id="25858-105">Azure több iparági szabályozások és szabványok gyűjteménye, amelyek lehetővé teszik a toobuild megfelelő megoldást egy virtuális gépen futó SQL Server megfelel.</span><span class="sxs-lookup"><span data-stu-id="25858-105">Azure complies with several industry regulations and standards that can enable you toobuild a compliant solution with SQL Server running in a virtual machine.</span></span> <span data-ttu-id="25858-106">Az előírásoknak való megfelelés az Azure-ral kapcsolatos információkért lásd: [Azure biztonsági és adatkezelési központ](https://azure.microsoft.com/support/trust-center/).</span><span class="sxs-lookup"><span data-stu-id="25858-106">For information about regulatory compliance with Azure, see [Azure Trust Center](https://azure.microsoft.com/support/trust-center/).</span></span>

[!INCLUDE [learn-about-deployment-models](../../../../includes/learn-about-deployment-models-both-include.md)]

## <a name="control-access-toohello-sql-vm"></a><span data-ttu-id="25858-107">Vezérlő hozzáférés toohello SQL virtuális gép</span><span class="sxs-lookup"><span data-stu-id="25858-107">Control access toohello SQL VM</span></span>

<span data-ttu-id="25858-108">Az SQL Server virtuális gép létrehozásakor fontolja meg, hogyan toocarefully szabályozza a hozzáférést toohello gép és a kiszolgáló tooSQL.</span><span class="sxs-lookup"><span data-stu-id="25858-108">When you create your SQL Server virtual machine, consider how toocarefully control who has access toohello machine and tooSQL Server.</span></span> <span data-ttu-id="25858-109">Általában akkor tegye a következőket hello:</span><span class="sxs-lookup"><span data-stu-id="25858-109">In general, you should do hello following:</span></span>

- <span data-ttu-id="25858-110">Korlátozza a hozzáférést tooSQL kiszolgáló tooonly hello alkalmazások és ügyfelek számára, amelyek azt.</span><span class="sxs-lookup"><span data-stu-id="25858-110">Restrict access tooSQL Server tooonly hello applications and clients that need it.</span></span>
- <span data-ttu-id="25858-111">Kövesse az ajánlott eljárások a felhasználói fiókok és jelszavak kezelése.</span><span class="sxs-lookup"><span data-stu-id="25858-111">Follow best practices for managing user accounts and passwords.</span></span>

<span data-ttu-id="25858-112">a következő szakaszok hello ad javaslatokat a ezen a ponton keresztül számbavétele.</span><span class="sxs-lookup"><span data-stu-id="25858-112">hello following sections provide suggestions on thinking through these points.</span></span>

## <a name="secure-connections"></a><span data-ttu-id="25858-113">Biztonságos kapcsolaton</span><span class="sxs-lookup"><span data-stu-id="25858-113">Secure connections</span></span>

<span data-ttu-id="25858-114">Egy SQL Server virtuális gép létrehozásakor gyűjtemény képének hello **SQL Server-kapcsolat** beállítást ad meg a választott hello **(VM) belül helyi**, **titkos (virtuális hálózaton belül)** , vagy **nyilvános (Internet)**.</span><span class="sxs-lookup"><span data-stu-id="25858-114">When you create a SQL Server virtual machine with a gallery image, hello **SQL Server Connectivity** option gives you hello choice of **Local (inside VM)**, **Private (within Virtual Network)**, or **Public (Internet)**.</span></span>

![SQL Server-kapcsolat](./media/virtual-machines-windows-sql-security/sql-vm-connectivity-option.png)

<span data-ttu-id="25858-116">Hello nagyobb biztonság érdekében válassza ki a forgatókönyvnek a hello szigorúbb beállítást.</span><span class="sxs-lookup"><span data-stu-id="25858-116">For hello best security, choose hello most restrictive option for your scenario.</span></span> <span data-ttu-id="25858-117">Például ha egy alkalmazás, amely hozzáfér az SQL Server a hello azonos virtuális gép, majd **helyi** hello legbiztonságosabb választás.</span><span class="sxs-lookup"><span data-stu-id="25858-117">For example, if you are running an application that accesses SQL Server on hello same VM, then **Local** is hello most secure choice.</span></span> <span data-ttu-id="25858-118">Ha az Azure alkalmazás hozzáférés toohello SQL Server, majd futtatja **titkos** titkosítja a kommunikációs tooSQL Server csak a megadott hello belül [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md).</span><span class="sxs-lookup"><span data-stu-id="25858-118">If you are running an Azure application that requires access toohello SQL Server, then **Private** secures communication tooSQL Server only within hello specified [Azure Virtual Network](../../../virtual-network/virtual-networks-overview.md).</span></span> <span data-ttu-id="25858-119">Ha szüksége **nyilvános** (internest) hozzáférési toohello SQL Server virtuális gép, majd győződjön meg arról, hogy toofollow Ez a témakör tooreduce a támadási felület más ajánlott eljárásokat.</span><span class="sxs-lookup"><span data-stu-id="25858-119">If you require **Public** (internest) access toohello SQL Server VM, then make sure toofollow other best practices in this topic tooreduce your attack surface area.</span></span>

<span data-ttu-id="25858-120">hello hello portálon kijelölt beállítások bejövő biztonsági szabályok használata a virtuális gépek hello [hálózati biztonsági csoport](../../../virtual-network/virtual-networks-nsg.md) (NSG) tooallow vagy megtagadják a hálózati forgalom tooyour virtuális gépet.</span><span class="sxs-lookup"><span data-stu-id="25858-120">hello selected options in hello portal use inbound security rules on hello VMs [Network Security Group](../../../virtual-network/virtual-networks-nsg.md) (NSG) tooallow or deny network traffic tooyour virtual machine.</span></span> <span data-ttu-id="25858-121">Módosíthatja, vagy hozzon létre új bejövő NSG-szabályok tooallow forgalom toohello SQL Server portja (alapértelmezés szerint 1433).</span><span class="sxs-lookup"><span data-stu-id="25858-121">You can modify or create new inbound NSG rules tooallow traffic toohello SQL Server port (default 1433).</span></span> <span data-ttu-id="25858-122">Ezen a porton keresztül toocommunicate engedélyezett IP-címek is megadható.</span><span class="sxs-lookup"><span data-stu-id="25858-122">You can also specify specific IP addresses that are allowed toocommunicate over this port.</span></span>

![Hálózati biztonsági csoportszabályok](./media/virtual-machines-windows-sql-security/sql-vm-network-security-group-rules.png)

<span data-ttu-id="25858-124">Ezenkívül tooNSG szabályok toorestrict hálózati forgalmat, használhatja a Windows tűzfal hello hello virtuális gépen.</span><span class="sxs-lookup"><span data-stu-id="25858-124">In addition tooNSG rules toorestrict network traffic, you can also use hello Windows Firewall on hello virtual machine.</span></span>

<span data-ttu-id="25858-125">Ha végpontok hello klasszikus üzembe helyezési modellt használ, távolítsa el a végpontok hello virtuális gépen, ha nem használja.</span><span class="sxs-lookup"><span data-stu-id="25858-125">If you are using endpoints with hello classic deployment model, remove any endpoints on hello virtual machine if you do not use them.</span></span> <span data-ttu-id="25858-126">Az ACL-ekkel végpontokon útmutatásért lásd: [kezelése hello ACL a végpont](../classic/setup-endpoints.md#manage-the-acl-on-an-endpoint).</span><span class="sxs-lookup"><span data-stu-id="25858-126">For instructions on using ACLs with endpoints, see [Manage hello ACL on an endpoint](../classic/setup-endpoints.md#manage-the-acl-on-an-endpoint).</span></span> <span data-ttu-id="25858-127">Erre nincs szükség virtuális gépek erőforrás-kezelő hello használó.</span><span class="sxs-lookup"><span data-stu-id="25858-127">This is not necessary for VMs that use hello Resource Manager.</span></span>

<span data-ttu-id="25858-128">Végül fontolja meg az Azure virtuális gép az SQL Server adatbázismotor hello hello példányának titkosított kapcsolatainak engedélyezésére.</span><span class="sxs-lookup"><span data-stu-id="25858-128">Finally, consider enabling encrypted connections for hello instance of hello SQL Server Database Engine in your Azure virtual machine.</span></span> <span data-ttu-id="25858-129">SQL server-példány konfigurálása egy aláírt tanúsítvánnyal.</span><span class="sxs-lookup"><span data-stu-id="25858-129">Configure SQL server instance with a signed certificate.</span></span> <span data-ttu-id="25858-130">További információkért lásd: [titkosított kapcsolatok engedélyezése toohello adatbázismotor](https://docs.microsoft.com/sql/database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine) és [kapcsolati karakterlánc szintaxisát](https://msdn.microsoft.com/library/ms254500.aspx).</span><span class="sxs-lookup"><span data-stu-id="25858-130">For more information, see [Enable Encrypted Connections toohello Database Engine](https://docs.microsoft.com/sql/database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine) and [Connection String Syntax](https://msdn.microsoft.com/library/ms254500.aspx).</span></span>

## <a name="use-a-non-default-port"></a><span data-ttu-id="25858-131">Egy nem alapértelmezett portot használja.</span><span class="sxs-lookup"><span data-stu-id="25858-131">Use a non-default port</span></span>

<span data-ttu-id="25858-132">Alapértelmezés szerint az SQL Server porton figyel egy jól ismert, 1433.</span><span class="sxs-lookup"><span data-stu-id="25858-132">By default, SQL Server listens on a well-known port, 1433.</span></span> <span data-ttu-id="25858-133">A biztonság fokozása érdekében konfigurálja a SQL Server toolisten egy nem alapértelmezett portot, például a 1401.</span><span class="sxs-lookup"><span data-stu-id="25858-133">For increased security, configure SQL Server toolisten on a non-default port, such as 1401.</span></span> <span data-ttu-id="25858-134">Ha egy SQL Server gyűjtemény lemezképet hello Azure-portálon, megadhatja ezt a portot hello **SQL Server-beállítások** panelen.</span><span class="sxs-lookup"><span data-stu-id="25858-134">If you provision a SQL Server gallery image in hello Azure portal, you can specify this port in hello **SQL Server settings** blade.</span></span>

<span data-ttu-id="25858-135">tooconfigure a kiépítés, után két lehetőség közül választhat:</span><span class="sxs-lookup"><span data-stu-id="25858-135">tooconfigure this after provisioning, you have two options:</span></span>

- <span data-ttu-id="25858-136">Erőforrás-kezelő virtuális gépekhez, kiválaszthatja a **SQL Server-konfigurációs** hello VM – áttekintés paneljén.</span><span class="sxs-lookup"><span data-stu-id="25858-136">For Resource Manager VMs, you can select **SQL Server configuration** from hello VM overview blade.</span></span> <span data-ttu-id="25858-137">Ez lehetővé teszi toochange hello port.</span><span class="sxs-lookup"><span data-stu-id="25858-137">This provides an option toochange hello port.</span></span>

  ![TCP-port a portál módosítása](./media/virtual-machines-windows-sql-security/sql-vm-change-tcp-port.png)

- <span data-ttu-id="25858-139">Klasszikus virtuális gépek vagy SQL Server virtuális gépek nem kiépített hello portálon távolról csatlakozzon a virtuális gép toohello manuálisan konfigurálhatja a hello port.</span><span class="sxs-lookup"><span data-stu-id="25858-139">For Classic VMs or for SQL Server VMs that were not provisioned with hello portal, you can manually configure hello port by connecting remotely toohello VM.</span></span> <span data-ttu-id="25858-140">Hello konfigurálás lépéseinek végrehajtásához tekintse meg a [egy kiszolgáló tooListen konfigurálása egy adott TCP-port](https://docs.microsoft.com/sql/database-engine/configure-windows/configure-a-server-to-listen-on-a-specific-tcp-port).</span><span class="sxs-lookup"><span data-stu-id="25858-140">For hello configuration steps, see [Configure a Server tooListen on a Specific TCP Port](https://docs.microsoft.com/sql/database-engine/configure-windows/configure-a-server-to-listen-on-a-specific-tcp-port).</span></span> <span data-ttu-id="25858-141">Ha ez a manuális módszer használata esetén szükség tooadd a Windows tűzfal szabály tooallow bejövő forgalmat a TCP-porton.</span><span class="sxs-lookup"><span data-stu-id="25858-141">If you use this manual technique, you also need tooadd a Windows Firewall rule tooallow incoming traffic on that TCP port.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="25858-142">Adja meg egy nem alapértelmezett portot nem árt, ha az SQL Server port nyitva toopublic internetes kapcsolatok.</span><span class="sxs-lookup"><span data-stu-id="25858-142">Specifying a non-default port is a good idea if your SQL Server port is open toopublic internet connections.</span></span>

<span data-ttu-id="25858-143">Ha SQL Server egy nem alapértelmezett portot figyel, meg kell adnia hello port csatlakoztatásakor.</span><span class="sxs-lookup"><span data-stu-id="25858-143">When SQL Server is listening on a non-default port, you must specify hello port when you connect.</span></span> <span data-ttu-id="25858-144">Példaként vegyünk egy forgatókönyvet, ahol hello kiszolgáló IP-címe 13.55.255.255, SQL Server 1401 portot figyel.</span><span class="sxs-lookup"><span data-stu-id="25858-144">For example, consider a scenario where hello server IP address is 13.55.255.255 and SQL Server is listening on port 1401.</span></span> <span data-ttu-id="25858-145">tooconnect tooSQL kiszolgáló, kellene megadnia `13.55.255.255,1401` hello kapcsolati karakterláncban.</span><span class="sxs-lookup"><span data-stu-id="25858-145">tooconnect tooSQL Server, you would specify `13.55.255.255,1401` in hello connection string.</span></span>

## <a name="manage-accounts"></a><span data-ttu-id="25858-146">Fiókok kezelése</span><span class="sxs-lookup"><span data-stu-id="25858-146">Manage accounts</span></span>

<span data-ttu-id="25858-147">Nem szeretné, hogy a támadók tooeasily becslés fiók nevét és jelszavát.</span><span class="sxs-lookup"><span data-stu-id="25858-147">You don't want attackers tooeasily guess account names or passwords.</span></span> <span data-ttu-id="25858-148">A következő tippek toohelp hello használata:</span><span class="sxs-lookup"><span data-stu-id="25858-148">Use hello following tips toohelp:</span></span>

- <span data-ttu-id="25858-149">Hozzon létre egy egyedi helyi rendszergazdai fiók nem nevű **rendszergazda**.</span><span class="sxs-lookup"><span data-stu-id="25858-149">Create a unique local administrator account that is not named **Administrator**.</span></span>

- <span data-ttu-id="25858-150">A fiókok összetett erős jelszavakat használjon.</span><span class="sxs-lookup"><span data-stu-id="25858-150">Use complex strong passwords for all your accounts.</span></span> <span data-ttu-id="25858-151">További információ toocreate egy erős jelszót, lásd: [hozzon létre egy erős jelszót](https://support.microsoft.com/instantanswers/9bd5223b-efbe-aa95-b15a-2fb37bef637d/create-a-strong-password) cikk.</span><span class="sxs-lookup"><span data-stu-id="25858-151">For more information about how toocreate a strong password, see [Create a strong password](https://support.microsoft.com/instantanswers/9bd5223b-efbe-aa95-b15a-2fb37bef637d/create-a-strong-password) article.</span></span>

- <span data-ttu-id="25858-152">Alapértelmezés szerint Azure kiválasztja azokat a Windows-hitelesítés SQL Server virtuális gép telepítése során.</span><span class="sxs-lookup"><span data-stu-id="25858-152">By default, Azure selects Windows Authentication during SQL Server Virtual Machine setup.</span></span> <span data-ttu-id="25858-153">Ezért hello **SA** bejelentkezés le van tiltva, és egy jelszó telepítője által hozzárendelt.</span><span class="sxs-lookup"><span data-stu-id="25858-153">Therefore, hello **SA** login is disabled and a password is assigned by setup.</span></span> <span data-ttu-id="25858-154">Azt javasoljuk, hogy hello **SA** bejelentkezési nem szabad használni vagy engedélyezve.</span><span class="sxs-lookup"><span data-stu-id="25858-154">We recommend that hello **SA** login should not be used or enabled.</span></span> <span data-ttu-id="25858-155">Ha egy SQL-bejelentkezési névvel kell rendelkeznie, használja a következő stratégiák hello egyikét:</span><span class="sxs-lookup"><span data-stu-id="25858-155">If you must have a SQL login, use one of hello following strategies:</span></span>

  - <span data-ttu-id="25858-156">Egy SQL-fiók létrehozása egyedi névvel rendelkező **sysadmin** tagságát.</span><span class="sxs-lookup"><span data-stu-id="25858-156">Create a SQL account with a unique name that has **sysadmin** membership.</span></span> <span data-ttu-id="25858-157">Ehhez a hello portálról engedélyezésével **SQL-hitelesítés** kiépítése során.</span><span class="sxs-lookup"><span data-stu-id="25858-157">You can do this from hello portal by enabling **SQL Authentication** during provisioning.</span></span>

    > [!TIP] 
    > <span data-ttu-id="25858-158">Ha nem az SQL-hitelesítés engedélyezi a kiépítés során, manuálisan módosítania kell hello hitelesítési mód túl**SQL Server és a Windows-hitelesítési mód**.</span><span class="sxs-lookup"><span data-stu-id="25858-158">If you do not enable SQL Authentication during provisioning, you must manually change hello authentication mode too**SQL Server and Windows Authentication Mode**.</span></span> <span data-ttu-id="25858-159">További információkért lásd: [Server hitelesítési mód váltása](https://docs.microsoft.com/sql/database-engine/configure-windows/change-server-authentication-mode).</span><span class="sxs-lookup"><span data-stu-id="25858-159">For more information, see [Change Server Authentication Mode](https://docs.microsoft.com/sql/database-engine/configure-windows/change-server-authentication-mode).</span></span>

  - <span data-ttu-id="25858-160">Hello használata **SA** bejelentkezés engedélyezése hello bejelentkezés után üzembe helyezési és hozzárendelése egy új erős jelszót.</span><span class="sxs-lookup"><span data-stu-id="25858-160">If you must use hello **SA** login, enable hello login after provisioning and assign a new strong password.</span></span>

## <a name="follow-on-premises-best-practices"></a><span data-ttu-id="25858-161">Kövesse a helyszíni gyakorlati tanácsok</span><span class="sxs-lookup"><span data-stu-id="25858-161">Follow on-premises best practices</span></span>

<span data-ttu-id="25858-162">Továbbá ebben a témakörben leírt eljárások toohello ajánlott áttekinteni és megvalósításához hello hagyományos helyszínen biztonsági eljárásokkal, szükség szerint.</span><span class="sxs-lookup"><span data-stu-id="25858-162">In addition toohello practices described in this topic, we recommend that you review and implement hello traditional on-premises security practices where applicable.</span></span> <span data-ttu-id="25858-163">További információkért lásd: [biztonsági szempontok az SQL Server telepítéséhez](https://docs.microsoft.com/sql/sql-server/install/security-considerations-for-a-sql-server-installation)</span><span class="sxs-lookup"><span data-stu-id="25858-163">For more information, see [Security Considerations for a SQL Server Installation](https://docs.microsoft.com/sql/sql-server/install/security-considerations-for-a-sql-server-installation)</span></span>

## <a name="next-steps"></a><span data-ttu-id="25858-164">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="25858-164">Next Steps</span></span>

<span data-ttu-id="25858-165">Ha Ön is ajánlott eljárások teljesítményének körül iránt érdeklődik, lásd: [teljesítmény ajánlott eljárások az SQL Server Azure virtuális gépek](virtual-machines-windows-sql-performance.md).</span><span class="sxs-lookup"><span data-stu-id="25858-165">If you are also interested in best practices around performance, see [Performance Best Practices for SQL Server in Azure Virtual Machines](virtual-machines-windows-sql-performance.md).</span></span>

<span data-ttu-id="25858-166">Egyéb témakörök kapcsolódó toorunning SQL Server Azure virtuális gépeken, a következő témakörben: [SQL Server Azure virtuális gépek – áttekintés](virtual-machines-windows-sql-server-iaas-overview.md).</span><span class="sxs-lookup"><span data-stu-id="25858-166">For other topics related toorunning SQL Server in Azure VMs, see [SQL Server on Azure Virtual Machines overview](virtual-machines-windows-sql-server-iaas-overview.md).</span></span>

