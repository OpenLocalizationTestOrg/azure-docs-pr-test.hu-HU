---
title: "Windows-alapú virtuális gépek Azure-ban aaaStorage megoldások |} Microsoft Docs"
description: "Tudnivalók: hello legfontosabb tervezési és megvalósítási tárolási megoldások Azure infrastruktúra-szolgáltatásokat a telepítése."
documentationcenter: 
services: virtual-machines-windows
author: iainfoulds
manager: timlt
editor: 
tags: azure-resource-manager
ms.assetid: 4ceb7d32-7a0d-4004-b701-c2bbcaff6b0b
ms.service: virtual-machines-windows
ms.workload: infrastructure-services
ms.tgt_pltfrm: vm-windows
ms.devlang: na
ms.topic: article
ms.date: 06/26/2017
ms.author: iainfou
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: 57c27a7305964a56e6b2d1e73dee8e7da19fa8f8
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="azure-storage-infrastructure-guidelines-for-windows-vms"></a><span data-ttu-id="6540f-103">Az Azure storage infrastruktúra irányelvek Windows virtuális gépek</span><span class="sxs-lookup"><span data-stu-id="6540f-103">Azure storage infrastructure guidelines for Windows VMs</span></span>

[!INCLUDE [virtual-machines-windows-infrastructure-guidelines-intro](../../../includes/virtual-machines-windows-infrastructure-guidelines-intro.md)]

<span data-ttu-id="6540f-104">Ez a cikk foglalkozik a tárolási igényeket és optimális virtuális gép (VM) teljesítmény elérése érdekében a kialakítási szempontokat ismertető.</span><span class="sxs-lookup"><span data-stu-id="6540f-104">This article focuses on understanding storage needs and design considerations for achieving optimum virtual machine (VM) performance.</span></span>

## <a name="implementation-guidelines-for-storage"></a><span data-ttu-id="6540f-105">Implementációs segédlet tárolás</span><span class="sxs-lookup"><span data-stu-id="6540f-105">Implementation guidelines for storage</span></span>
<span data-ttu-id="6540f-106">Döntéseket:</span><span class="sxs-lookup"><span data-stu-id="6540f-106">Decisions:</span></span>

* <span data-ttu-id="6540f-107">Lesz a toouse Azure felügyelt lemezek vagy nem felügyelt lemezeket?</span><span class="sxs-lookup"><span data-stu-id="6540f-107">Are you going toouse Azure Managed Disks or unmanaged disks?</span></span>
* <span data-ttu-id="6540f-108">Szüksége toouse Standard vagy prémium szintű storage a munkaterhelés számára?</span><span class="sxs-lookup"><span data-stu-id="6540f-108">Do you need toouse Standard or Premium storage for your workload?</span></span>
* <span data-ttu-id="6540f-109">Kell-e lemez csíkozást toocreate lemezek 4TB-nál nagyobb?</span><span class="sxs-lookup"><span data-stu-id="6540f-109">Do you need disk striping toocreate disks larger than 4TB?</span></span>
* <span data-ttu-id="6540f-110">Szüksége van a munkaterheléshez lemezek csíkozást tooachieve optimális i/o műveleteinek teljesítménye?</span><span class="sxs-lookup"><span data-stu-id="6540f-110">Do you need disk striping tooachieve optimal I/O performance for your workload?</span></span>
* <span data-ttu-id="6540f-111">Milyen beállítása a tárfiókok van szüksége toohost az informatikai munkaterhelés vagy az infrastruktúra?</span><span class="sxs-lookup"><span data-stu-id="6540f-111">What set of storage accounts do you need toohost your IT workload or infrastructure?</span></span>

<span data-ttu-id="6540f-112">Feladatok:</span><span class="sxs-lookup"><span data-stu-id="6540f-112">Tasks:</span></span>

* <span data-ttu-id="6540f-113">Tekintse át a hello alkalmazásokat telepít, és tervezze meg hello megfelelő mennyiségű és típusú tárfiókok i/o-követelményeinek.</span><span class="sxs-lookup"><span data-stu-id="6540f-113">Review I/O demands of hello applications you are deploying and plan hello appropriate number and type of storage accounts.</span></span>
* <span data-ttu-id="6540f-114">Hozzon létre hello az elnevezési alkalmazó tárfiókok.</span><span class="sxs-lookup"><span data-stu-id="6540f-114">Create hello set of storage accounts using your naming convention.</span></span> <span data-ttu-id="6540f-115">Használhatja az Azure PowerShell vagy hello portálon.</span><span class="sxs-lookup"><span data-stu-id="6540f-115">You can use Azure PowerShell or hello portal.</span></span>

## <a name="storage"></a><span data-ttu-id="6540f-116">Storage</span><span class="sxs-lookup"><span data-stu-id="6540f-116">Storage</span></span>
<span data-ttu-id="6540f-117">Az Azure Storage kulcs része a virtuális gépek (VM) és az alkalmazások telepítése és kezelése.</span><span class="sxs-lookup"><span data-stu-id="6540f-117">Azure Storage is a key part of deploying and managing virtual machines (VMs) and applications.</span></span> <span data-ttu-id="6540f-118">Az Azure Storage szolgáltatásokat biztosít a fájladatok, a strukturálatlan adatok és az üzenetek tárolásához, és virtuális gépeket támogató hello infrastruktúra részét képezi.</span><span class="sxs-lookup"><span data-stu-id="6540f-118">Azure Storage provides services for storing file data, unstructured data, and messages, and it is also part of hello infrastructure supporting VMs.</span></span>

<span data-ttu-id="6540f-119">[Azure-lemezeket felügyelt](../../storage/storage-managed-disks-overview.md) tárolási kezeli az Ön hello színfalak mögött.</span><span class="sxs-lookup"><span data-stu-id="6540f-119">[Azure Managed Disks](../../storage/storage-managed-disks-overview.md) handles storage for you behind hello scenes.</span></span> <span data-ttu-id="6540f-120">A nem felügyelt lemezek esetében lemezeket hoz létre tárfiókok toohold hello (VHD-fájlokat) az Azure virtuális gépekhez.</span><span class="sxs-lookup"><span data-stu-id="6540f-120">With unmanaged disks, you create storage accounts toohold hello disks (VHD files) for your Azure VMs.</span></span> <span data-ttu-id="6540f-121">Ha vertikális felskálázásával, győződjön meg arról, sem a lemezek nem lépik túl tárolási IOPS-korláttal hello létrehozott további tárfiókokat.</span><span class="sxs-lookup"><span data-stu-id="6540f-121">When scaling up, you must make sure you created additional storage accounts so you don’t exceed hello IOPS limit for storage with any of your disks.</span></span> <span data-ttu-id="6540f-122">A felügyelt lemezek kezelése tárolási, már nem korlátozott hello tárfiókok korlátai által (például a 20 000 IOPS / fiók).</span><span class="sxs-lookup"><span data-stu-id="6540f-122">With Managed Disks handling storage, you are no longer limited by hello storage account limits (such as 20,000 IOPS / account).</span></span> <span data-ttu-id="6540f-123">Már nem rendelkezik toocopy az egyéni lemezképek (VHD-fájlokat) toomultiple storage-fiókok.</span><span class="sxs-lookup"><span data-stu-id="6540f-123">You also no longer have toocopy your custom images (VHD files) toomultiple storage accounts.</span></span> <span data-ttu-id="6540f-124">– Egy tárfiókot Azure régiónként – központi helyen kezelheti azokat, és használatuk toocreate több száz virtuális gépek egy előfizetésben.</span><span class="sxs-lookup"><span data-stu-id="6540f-124">You can manage them in a central location – one storage account per Azure region – and use them toocreate hundreds of VMs in a subscription.</span></span> <span data-ttu-id="6540f-125">Azt javasoljuk, hogy az új központi telepítéseknél kezelt lemez használata.</span><span class="sxs-lookup"><span data-stu-id="6540f-125">We recommend you use Managed Disks for new deployments.</span></span>

<span data-ttu-id="6540f-126">Nincsenek tárfiókok két típusú virtuális gépek támogatásához:</span><span class="sxs-lookup"><span data-stu-id="6540f-126">There are two types of storage accounts available for supporting VMs:</span></span>

* <span data-ttu-id="6540f-127">Standard szintű tárolást fiókok joga tooblob storage (Azure virtuális lemezek tárolására használt), tárolási, a queue storage, table, és a fájltárolás.</span><span class="sxs-lookup"><span data-stu-id="6540f-127">Standard storage accounts give you access tooblob storage (used for storing Azure VM disks), table storage, queue storage, and file storage.</span></span>
* <span data-ttu-id="6540f-128">[Prémium szintű storage](../../storage/storage-premium-storage.md) fiókok kézbesítéséhez nagy teljesítményű, alacsony késésű lemez i/o igényes munkaterhelések, például az AlwaysOn-fürtben lévő SQL Server-kiszolgálók támogatása.</span><span class="sxs-lookup"><span data-stu-id="6540f-128">[Premium storage](../../storage/storage-premium-storage.md) accounts deliver high-performance, low-latency disk support for I/O intensive workloads, such as SQL Servers in an AlwaysOn cluster.</span></span> <span data-ttu-id="6540f-129">Prémium szintű storage jelenleg csak az Azure virtuális gépek lemezei.</span><span class="sxs-lookup"><span data-stu-id="6540f-129">Premium storage currently supports Azure VM disks only.</span></span>

<span data-ttu-id="6540f-130">Azure virtuális gépeket hoz létre egy operációsrendszer-lemez, egy ideiglenes lemez, és nulla vagy több választható adatlemezek.</span><span class="sxs-lookup"><span data-stu-id="6540f-130">Azure creates VMs with an operating system disk, a temporary disk, and zero or more optional data disks.</span></span> <span data-ttu-id="6540f-131">hello operációsrendszer-lemez és adatlemezek olyan Azure lapblobokat, mivel hello mennyiségű ideiglenes lemezes hello csomóponton, ahol hello gép él helyben tárolódnak.</span><span class="sxs-lookup"><span data-stu-id="6540f-131">hello operating system disk and data disks are Azure page blobs, whereas hello temporary disk is stored locally on hello node where hello machine lives.</span></span> <span data-ttu-id="6540f-132">Mi gondoskodunk tooonly használják a ideiglenes lemez nem állandó adatok VM is telepíthető át, a karbantartási események gazdagépek közötti hello alkalmazások tervezésekor.</span><span class="sxs-lookup"><span data-stu-id="6540f-132">Take care when designing applications tooonly use this temporary disk for non-persistent data as hello VM may be migrated between hosts during a maintenance event.</span></span> <span data-ttu-id="6540f-133">Bármely hello ideiglenes lemezen tárolt adatok elveszhetnek.</span><span class="sxs-lookup"><span data-stu-id="6540f-133">Any data stored on hello temporary disk would be lost.</span></span>

<span data-ttu-id="6540f-134">Tartósság és magas rendelkezésre állású által biztosított hello alapul szolgáló Azure Storage környezet tooensure, hogy az adatok nem tervezett karbantartás vagy hardver-hibákkal szemben védett marad.</span><span class="sxs-lookup"><span data-stu-id="6540f-134">Durability and high availability is provided by hello underlying Azure Storage environment tooensure that your data remains protected against unplanned maintenance or hardware failures.</span></span> <span data-ttu-id="6540f-135">Az Azure Storage-környezet tervezésének, dönthet úgy, hogy tooreplicate Virtuálisgép-tároló ki:</span><span class="sxs-lookup"><span data-stu-id="6540f-135">As you design your Azure Storage environment, you can choose tooreplicate VM storage:</span></span>

* <span data-ttu-id="6540f-136">helyileg egy adott Azure adatközponton belül</span><span class="sxs-lookup"><span data-stu-id="6540f-136">locally within a given Azure datacenter</span></span>
* <span data-ttu-id="6540f-137">az Azure üzemeltetésében, egy adott régión belül</span><span class="sxs-lookup"><span data-stu-id="6540f-137">across Azure datacenters within a given region</span></span>
* <span data-ttu-id="6540f-138">az Azure üzemeltetésében különböző régiókban között</span><span class="sxs-lookup"><span data-stu-id="6540f-138">across Azure datacenters across different regions</span></span>

<span data-ttu-id="6540f-139">Elolvashatja [további információk a magas rendelkezésre állású hello replikációs beállítások](../../storage/storage-introduction.md#replication-for-durability-and-high-availability).</span><span class="sxs-lookup"><span data-stu-id="6540f-139">You can read [more about hello replication options for high availability](../../storage/storage-introduction.md#replication-for-durability-and-high-availability).</span></span>

<span data-ttu-id="6540f-140">Operációs rendszer és a adatok lemezek rendelkezik mérete 4 TB-os.</span><span class="sxs-lookup"><span data-stu-id="6540f-140">Operating system disks and data disks have a maximum size of 4TB.</span></span> <span data-ttu-id="6540f-141">Használhatja a tárolóhelyek a Windows Server 2012 vagy újabb toosurpass ezt a határt együtt lemezek toopresent logikai adatkötetek nagyobb, mint 4 TB-os tooyour VM készletezését.</span><span class="sxs-lookup"><span data-stu-id="6540f-141">You can use Storage Spaces in Windows Server 2012 or later toosurpass this limit by pooling together data disks toopresent logical volumes larger than 4TB tooyour VM.</span></span>

<span data-ttu-id="6540f-142">Van néhány méretezhetőségi korlátok - további információ az Azure Storage-központitelepítések tervezésekor, lásd: [Microsoft Azure előfizetés és a szolgáltatási korlátok, kvóták és megkötések](../../azure-subscription-service-limits.md#storage-limits).</span><span class="sxs-lookup"><span data-stu-id="6540f-142">There are some scalability limits when designing your Azure Storage deployments - for more information, see [Microsoft Azure subscription and service limits, quotas, and constraints](../../azure-subscription-service-limits.md#storage-limits).</span></span> <span data-ttu-id="6540f-143">Lásd még: [az Azure storage méretezhetőségi és Teljesítménycélok](../../storage/storage-scalability-targets.md).</span><span class="sxs-lookup"><span data-stu-id="6540f-143">Also see [Azure storage scalability and performance targets](../../storage/storage-scalability-targets.md).</span></span>

<span data-ttu-id="6540f-144">Kiszolgálóalkalmazás-tároló, a tárolhatja a strukturálatlan adatok, például a dokumentumok, képek, biztonsági mentések, konfigurációs adatokat, naplói, stb.</span><span class="sxs-lookup"><span data-stu-id="6540f-144">For application storage, you can store unstructured object data such as documents, images, backups, configuration data, logs, etc.</span></span> <span data-ttu-id="6540f-145">blob storage használatával.</span><span class="sxs-lookup"><span data-stu-id="6540f-145">using blob storage.</span></span> <span data-ttu-id="6540f-146">Ahelyett, hogy az alkalmazás írása tooa csatlakoztatott virtuális lemez toohello VM hello alkalmazás közvetlenül írhat tooAzure blob Storage tárolóban.</span><span class="sxs-lookup"><span data-stu-id="6540f-146">Rather than your application writing tooa virtual disk attached toohello VM, hello application can write directly tooAzure blob storage.</span></span> <span data-ttu-id="6540f-147">A BLOB storage emellett hello lehetőség a [közbeni és a tárolási rétegek cool](../../storage/storage-blob-storage-tiers.md) attól függően, hogy a rendelkezésre állási szükségleteinek és költség megkötések.</span><span class="sxs-lookup"><span data-stu-id="6540f-147">Blob storage also provides hello option of [hot and cool storage tiers](../../storage/storage-blob-storage-tiers.md) depending on your availability needs and cost constraints.</span></span>

## <a name="striped-disks"></a><span data-ttu-id="6540f-148">Csíkozott lemezek</span><span class="sxs-lookup"><span data-stu-id="6540f-148">Striped disks</span></span>
<span data-ttu-id="6540f-149">Amellett, hogy lehetővé teszi toocreate lemezek 4TB-nál nagyobb sok esetben, csíkozást adatlemezek használata növeli a teljesítményt, több blobok tételével tooback hello tárolási egyetlen kötetén.</span><span class="sxs-lookup"><span data-stu-id="6540f-149">Besides allowing you toocreate disks larger than 4TB, in many instances, using striping for data disks enhances performance by allowing multiple blobs tooback hello storage for a single volume.</span></span> <span data-ttu-id="6540f-150">Csíkozást, hello i/o-szükséges toowrite és párhuzamosan halad adatolvasási egyetlen logikai lemez.</span><span class="sxs-lookup"><span data-stu-id="6540f-150">With striping, hello I/O required toowrite and read data from a single logical disk proceeds in parallel.</span></span>

<span data-ttu-id="6540f-151">Azure szab hello adatlemezek száma és mennyiségű sávszélesség álljon rendelkezésre, attól függően, hogy a Virtuálisgép-méretet hello vonatkozó korlátozások.</span><span class="sxs-lookup"><span data-stu-id="6540f-151">Azure imposes limits on hello number of data disks and amount of bandwidth available, depending on hello VM size.</span></span> <span data-ttu-id="6540f-152">További információkért lásd: [virtuális gépek méretei](sizes.md).</span><span class="sxs-lookup"><span data-stu-id="6540f-152">For details, see [Sizes for virtual machines](sizes.md).</span></span>

<span data-ttu-id="6540f-153">Lemez csíkozást használatakor az Azure data lemezek vegye figyelembe a következő irányelveket hello:</span><span class="sxs-lookup"><span data-stu-id="6540f-153">If you are using disk striping for Azure data disks, consider hello following guidelines:</span></span>

* <span data-ttu-id="6540f-154">Rendeljen a hello maximális adatlemezek megengedett hello Virtuálisgép-méretet.</span><span class="sxs-lookup"><span data-stu-id="6540f-154">Attach hello maximum data disks allowed for hello VM size.</span></span>
* <span data-ttu-id="6540f-155">A tárolóhelyek használata.</span><span class="sxs-lookup"><span data-stu-id="6540f-155">Use Storage Spaces.</span></span>
* <span data-ttu-id="6540f-156">Kerülje a gyorsítótár Azure adatlemez (gyorsítótárazási házirend = None).</span><span class="sxs-lookup"><span data-stu-id="6540f-156">Avoid using Azure data disk caching options (caching policy = None).</span></span>

<span data-ttu-id="6540f-157">További információkért lásd: [tárhelyek – teljesítményközpontú tervezés](http://social.technet.microsoft.com/wiki/contents/articles/15200.storage-spaces-designing-for-performance.aspx).</span><span class="sxs-lookup"><span data-stu-id="6540f-157">For more information, see [Storage spaces - designing for performance](http://social.technet.microsoft.com/wiki/contents/articles/15200.storage-spaces-designing-for-performance.aspx).</span></span>

## <a name="multiple-storage-accounts"></a><span data-ttu-id="6540f-158">Több storage-fiókok</span><span class="sxs-lookup"><span data-stu-id="6540f-158">Multiple storage accounts</span></span>
<span data-ttu-id="6540f-159">Ez a szakasz nem érvényes túl[Azure felügyelt lemezek](../../storage/storage-managed-disks-overview.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json), hogy ne hozzon létre külön storage-fiókok.</span><span class="sxs-lookup"><span data-stu-id="6540f-159">This section does not apply too[Azure Managed Disks](../../storage/storage-managed-disks-overview.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json), as you do not create separate storage accounts.</span></span> 

<span data-ttu-id="6540f-160">A Azure Storage-környezet a nem felügyelt lemezek tervezésekor több tárfiókot is használhat, virtuális gépek hello száma növekszik telepít.</span><span class="sxs-lookup"><span data-stu-id="6540f-160">When designing your Azure Storage environment for unmanaged disks, you can use multiple storage accounts as hello number of VMs you deploy increases.</span></span> <span data-ttu-id="6540f-161">Ez a megközelítés segíti a kimenő hello i/o-hello alapul szolgáló Azure tárolási infrastruktúra toomaintain optimális teljesítményének a virtuális gépek és az alkalmazások közötti elosztását.</span><span class="sxs-lookup"><span data-stu-id="6540f-161">This approach helps distribute out hello I/O across hello underlying Azure Storage infrastructure toomaintain optimum performance for your VMs and applications.</span></span> <span data-ttu-id="6540f-162">Hello elérhetővé tett alkalmazásokhoz tervezéséhez, fontolja meg hello i/o-követelmények minden virtuális gép és virtuális gépek kimenő egyenleg Azure Storage-fiókok között.</span><span class="sxs-lookup"><span data-stu-id="6540f-162">As you design hello applications that you are deploying, consider hello I/O requirements each VM has and balance out those VMs across Azure Storage accounts.</span></span> <span data-ttu-id="6540f-163">Próbálja meg minden hello magas i/o igényelnek a virtuális gépek egy vagy két toojust tárfiókokban csoportosítási tooavoid.</span><span class="sxs-lookup"><span data-stu-id="6540f-163">Try tooavoid grouping all hello high I/O demanding VMs in toojust one or two storage accounts.</span></span>

<span data-ttu-id="6540f-164">I/o hello képességeivel kapcsolatos további információk a hello különböző Azure tárolási lehetőségek közül, és néhány ajánlott maximális értéket, a következő témakörben: [az Azure storage méretezhetőségi és Teljesítménycélok](../../storage/storage-scalability-targets.md).</span><span class="sxs-lookup"><span data-stu-id="6540f-164">For more information about hello I/O capabilities of hello different Azure Storage options and some recommend maximums, see [Azure storage scalability and performance targets](../../storage/storage-scalability-targets.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="6540f-165">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="6540f-165">Next steps</span></span>
[!INCLUDE [virtual-machines-windows-infrastructure-guidelines-next-steps](../../../includes/virtual-machines-windows-infrastructure-guidelines-next-steps.md)]

