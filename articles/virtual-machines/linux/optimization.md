---
title: "Optimalizálhatja a Linux virtuális Gépet az Azure-on |} Microsoft Docs"
description: "Ismerje meg, győződjön meg arról, hogy meg van adva a Linux virtuális Gépet az optimális teljesítmény érdekében az Azure Optimalizálási tippek"
keywords: "Linux virtuális gépek, virtuális gép linux ubuntu virtuális gép"
services: virtual-machines-linux
documentationcenter: 
author: rickstercdn
manager: timlt
editor: tysonn
tags: azure-resource-manager
ms.assetid: 8baa30c8-d40e-41ac-93d0-74e96fe18d4c
ms.service: virtual-machines-linux
ms.workload: infrastructure-services
ms.tgt_pltfrm: vm-linux
ms.devlang: na
ms.topic: article
ms.date: 09/06/2016
ms.author: rclaus
ms.openlocfilehash: eb79d574fd4dddfb986660cc338bc8748f2082c2
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 08/29/2017
---
# <a name="optimize-your-linux-vm-on-azure"></a><span data-ttu-id="fe950-104">Linuxos virtuális gép optimalizálása az Azure-ban</span><span class="sxs-lookup"><span data-stu-id="fe950-104">Optimize your Linux VM on Azure</span></span>
<span data-ttu-id="fe950-105">A Linux virtuális gép (VM) létrehozása áll a parancssorból vagy a portálról.</span><span class="sxs-lookup"><span data-stu-id="fe950-105">Creating a Linux virtual machine (VM) is easy to do from the command line or from the portal.</span></span> <span data-ttu-id="fe950-106">Ez az oktatóanyag bemutatja, hogyan annak beállítása, a Microsoft Azure platformon a teljesítmény optimalizálása érdekében.</span><span class="sxs-lookup"><span data-stu-id="fe950-106">This tutorial shows you how to ensure you have set it up to optimize its performance on the Microsoft Azure platform.</span></span> <span data-ttu-id="fe950-107">Ez a témakör az Ubuntu Server virtuális gép használja, de is létrehozhat Linux virtuális gép használt [a saját lemezképek sablonként](create-upload-generic.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="fe950-107">This topic uses an Ubuntu Server VM, but you can also create Linux virtual machine using [your own images as templates](create-upload-generic.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span>  

## <a name="prerequisites"></a><span data-ttu-id="fe950-108">Előfeltételek</span><span class="sxs-lookup"><span data-stu-id="fe950-108">Prerequisites</span></span>
<span data-ttu-id="fe950-109">Ez a témakör azt feltételezi, hogy már rendelkezik Azure-előfizetés ([ingyenes próbaidőszakra](https://azure.microsoft.com/pricing/free-trial/)) és a virtuális gép már létrehozta az Azure-előfizetése.</span><span class="sxs-lookup"><span data-stu-id="fe950-109">This topic assumes you already have a working Azure subscription ([free trial signup](https://azure.microsoft.com/pricing/free-trial/)) and have already provisioned a VM into your Azure subscription.</span></span> <span data-ttu-id="fe950-110">Győződjön meg arról, hogy rendelkezik-e a legújabb [Azure CLI 2.0](/cli/azure/install-az-cli2) telepítve, és az Azure-előfizetése bejelentkezett [az bejelentkezési](/cli/azure/#login) előtt [hozzon létre egy virtuális Gépet](quick-create-cli.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="fe950-110">Make sure that you have the latest [Azure CLI 2.0](/cli/azure/install-az-cli2) installed and logged in to your Azure subscription with [az login](/cli/azure/#login) before you [create a VM](quick-create-cli.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span>

## <a name="azure-os-disk"></a><span data-ttu-id="fe950-111">Az Azure operációsrendszer-lemez</span><span class="sxs-lookup"><span data-stu-id="fe950-111">Azure OS Disk</span></span>
<span data-ttu-id="fe950-112">Miután létrehozott egy Linux virtuális Gépet az Azure-ban, két lemez társítva van.</span><span class="sxs-lookup"><span data-stu-id="fe950-112">Once you create a Linux VM in Azure, it has two disks associated with it.</span></span> <span data-ttu-id="fe950-113">**/ dev/sda** az operációsrendszer-lemez van **/dev/sdb** az ideiglenes lemez.</span><span class="sxs-lookup"><span data-stu-id="fe950-113">**/dev/sda** is your OS disk, **/dev/sdb** is your temporary disk.</span></span>  <span data-ttu-id="fe950-114">Ne használja a fő operációsrendszer-lemez (**/dev/sda**) számára, mert az operációs rendszer kivételével bármely más virtuális gép gyors rendszerindítás van optimalizálva, és nem biztosítja a megfelelő teljesítmény a munkaterhelések.</span><span class="sxs-lookup"><span data-stu-id="fe950-114">Do not use the main OS disk (**/dev/sda**) for anything except the operating system as it is optimized for fast VM boot time and does not provide good performance for your workloads.</span></span> <span data-ttu-id="fe950-115">Egy vagy több lemezt csatolni a beolvasandó állandó VM és az adatok tárolási optimalizált.</span><span class="sxs-lookup"><span data-stu-id="fe950-115">You want to attach one or more disks to your VM to get persistent and optimized storage for your data.</span></span> 

## <a name="adding-disks-for-size-and-performance-targets"></a><span data-ttu-id="fe950-116">A lemezek hozzáadása a méret és Teljesítménycélok</span><span class="sxs-lookup"><span data-stu-id="fe950-116">Adding Disks for Size and Performance targets</span></span>
<span data-ttu-id="fe950-117">A virtuális gép mérete alapján, csatolhat egy A-sorozatú, a D sorozat 32 lemezein legfeljebb 16 további lemezek és a 64 lemez egy G-sorozat a számítógép - minden egyes akár 1 TB-nál.</span><span class="sxs-lookup"><span data-stu-id="fe950-117">Based on the VM size, you can attach up to 16 additional disks on an A-Series, 32 disks on a D-Series and 64 disks on a G-Series machine - each up to 1 TB in size.</span></span> <span data-ttu-id="fe950-118">Szükség esetén a hely és IOps követelmények hozzáadhat további lemezeket.</span><span class="sxs-lookup"><span data-stu-id="fe950-118">You add extra disks as needed per your space and IOps requirements.</span></span> <span data-ttu-id="fe950-119">Minden lemezhez tartozik 500 IOps teljesítményt célja a standard szintű tárolót, és lemezenként 5000 iops teljesítményt legfeljebb a prémium szintű Storage.</span><span class="sxs-lookup"><span data-stu-id="fe950-119">Each disk has a performance target of 500 IOps for Standard Storage and up to 5000 IOps per disk for Premium Storage.</span></span>  <span data-ttu-id="fe950-120">Prémium szintű Storage lemezek kapcsolatos további információkért lásd: [prémium szintű Storage: nagy teljesítményű tárolást az Azure virtuális gépeken](../../storage/common/storage-premium-storage.md)</span><span class="sxs-lookup"><span data-stu-id="fe950-120">For more information about Premium Storage disks, see [Premium Storage: High-Performance Storage for Azure VMs](../../storage/common/storage-premium-storage.md)</span></span>

<span data-ttu-id="fe950-121">Prémium szintű Storage lemezeken, ahol a gyorsítótár-beállítások vannak állítva a vagy a maximális IOps eléréséhez **ReadOnly** vagy **nincs**, le kell tiltania **korlátok** Linux fájlrendszert csatlakoztatása során.</span><span class="sxs-lookup"><span data-stu-id="fe950-121">To achieve the highest IOps on Premium Storage disks where their cache settings have been set to either **ReadOnly** or **None**, you must disable **barriers** while mounting the file system in Linux.</span></span> <span data-ttu-id="fe950-122">Mivel a prémium szintű Storage biztonsági lemezek írási műveletek tartós, a beállítások nem kell korlátok.</span><span class="sxs-lookup"><span data-stu-id="fe950-122">You do not need barriers because the writes to Premium Storage backed disks are durable for these cache settings.</span></span>

* <span data-ttu-id="fe950-123">Ha **reiserFS**, a tiltsa le a csatlakoztatási beállítással `barrier=none` (korlátok engedélyezése esetén használja a `barrier=flush`)</span><span class="sxs-lookup"><span data-stu-id="fe950-123">If you use **reiserFS**, disable barriers using the mount option `barrier=none` (For enabling barriers, use `barrier=flush`)</span></span>
* <span data-ttu-id="fe950-124">Ha **ext3/ext4**, a tiltsa le a csatlakoztatási beállítással `barrier=0` (korlátok engedélyezése esetén használja a `barrier=1`)</span><span class="sxs-lookup"><span data-stu-id="fe950-124">If you use **ext3/ext4**, disable barriers using the mount option `barrier=0` (For enabling barriers, use `barrier=1`)</span></span>
* <span data-ttu-id="fe950-125">Ha **XFS**, a tiltsa le a csatlakoztatási beállítással `nobarrier` (korlátok engedélyezése esetén használja a kapcsolót `barrier`)</span><span class="sxs-lookup"><span data-stu-id="fe950-125">If you use **XFS**, disable barriers using the mount option `nobarrier` (For enabling barriers, use the option `barrier`)</span></span>

## <a name="unmanaged-storage-account-considerations"></a><span data-ttu-id="fe950-126">Nem felügyelt tárolási fiókokkal kapcsolatos megfontolások</span><span class="sxs-lookup"><span data-stu-id="fe950-126">Unmanaged storage account considerations</span></span>
<span data-ttu-id="fe950-127">Az alapértelmezett művelet, ha egy virtuális Gépet az Azure CLI 2.0 létrehozásához, hogy Azure felügyelt lemezt használja.</span><span class="sxs-lookup"><span data-stu-id="fe950-127">The default action when you create a VM with the Azure CLI 2.0 is to use Azure Managed Disks.</span></span>  <span data-ttu-id="fe950-128">Ezeknek a lemezeknek az Azure platform kezeli, és nem igényelnek azokról az előkészítő vagy helyen tárolja azokat.</span><span class="sxs-lookup"><span data-stu-id="fe950-128">These disks are handled by the Azure platform and do not require any preparation or location to store them.</span></span>  <span data-ttu-id="fe950-129">Nem felügyelt lemezek tárfiók szükséges, és néhány további teljesítmény szempontot kell figyelembe venni.</span><span class="sxs-lookup"><span data-stu-id="fe950-129">Unmanaged disks require a storage account and have some additional performance considerations.</span></span>  <span data-ttu-id="fe950-130">További információ a felügyelt lemezekről: [Azure Managed Disks – áttekintés](../windows/managed-disks-overview.md).</span><span class="sxs-lookup"><span data-stu-id="fe950-130">For more information about managed disks, see [Azure Managed Disks overview](../windows/managed-disks-overview.md).</span></span>  <span data-ttu-id="fe950-131">Az alábbi szakasz ismerteti a teljesítménnyel kapcsolatos szempontok, csak a nem felügyelt lemezek használatakor.</span><span class="sxs-lookup"><span data-stu-id="fe950-131">The following section outlines performance considerations only when you use unmanaged disks.</span></span>  <span data-ttu-id="fe950-132">Ebben az esetben az alapértelmezett és ajánlott tárolási megoldás felügyelt lemezeket használni.</span><span class="sxs-lookup"><span data-stu-id="fe950-132">Again, the default and recommended storage solution is to use managed disks.</span></span>

<span data-ttu-id="fe950-133">Ha egy virtuális Gépet hoz létre nem felügyelt lemezek, ellenőrizze, hogy a storage-fiókok közel biztosítása és a hálózati késés csökkentése érdekében érdemes a virtuális gép ugyanabban a régióban elhelyezkedő csatlakoztassa a lemezeket.</span><span class="sxs-lookup"><span data-stu-id="fe950-133">If you create a VM with unmanaged disks, make sure that you attach disks from storage accounts residing in the same region as your VM to ensure close proximity and minimize network latency.</span></span>  <span data-ttu-id="fe950-134">Minden standard szintű tárfiók van maximum 20 IOps és 500 TB kapacitású mérete.</span><span class="sxs-lookup"><span data-stu-id="fe950-134">Each Standard storage account has a maximum of 20k IOps and a 500 TB size capacity.</span></span>  <span data-ttu-id="fe950-135">Ezt a határt körülbelül 40 terhelésnek kitett lemezekre, beleértve az operációs rendszer lemezének és bármely hoz létre az adatlemezek megfelelően működik.</span><span class="sxs-lookup"><span data-stu-id="fe950-135">This  limit works out to approximately 40 heavily used disks including both the OS disk and any data disks you create.</span></span> <span data-ttu-id="fe950-136">Prémium szintű Storage-fiókok maximális IOps korlátozva van, de nincs a egy 32 TB-os méretkorlátját.</span><span class="sxs-lookup"><span data-stu-id="fe950-136">For Premium Storage accounts, there is no Maximum IOps limit but there is a 32 TB size limit.</span></span> 

<span data-ttu-id="fe950-137">Ha a magas IOps-munkaterhelések és kezelésével standard szintű tárolót választotta a lemezen, szükség lehet több storage-fiókok győződjön meg arról, hogy a nem szabványos Storage-fiókok a 20 000 IOps-korláttal nem érte-e osztani a lemezeket.</span><span class="sxs-lookup"><span data-stu-id="fe950-137">When dealing with high IOps workloads and you have chosen Standard Storage for your disks, you might need to split the disks across multiple storage accounts to make sure you have not hit the 20,000 IOps limit for Standard Storage accounts.</span></span> <span data-ttu-id="fe950-138">A virtuális gép lemezei vegyesen tartalmazhatnak eltérő tárfiókokból és az optimális konfigurációját eléréséhez tárfióktípusokat.</span><span class="sxs-lookup"><span data-stu-id="fe950-138">Your VM can contain a mix of disks from across different storage accounts and storage account types to achieve your optimal configuration.</span></span>
 

## <a name="your-vm-temporary-drive"></a><span data-ttu-id="fe950-139">A virtuális gép ideiglenes meghajtó</span><span class="sxs-lookup"><span data-stu-id="fe950-139">Your VM Temporary drive</span></span>
<span data-ttu-id="fe950-140">Alapértelmezés szerint a virtuális gépek létrehozásakor Azure biztosít egy operációsrendszer-lemez (**/dev/sda**) és egy ideiglenes lemez (**/dev/sdb**).</span><span class="sxs-lookup"><span data-stu-id="fe950-140">By default when you create a VM, Azure provides you with an OS disk (**/dev/sda**) and a temporary disk (**/dev/sdb**).</span></span>  <span data-ttu-id="fe950-141">Minden további lemezek megjelenítése mentése másként hozzáadása **/dev/sdc**, **/dev/sdd**, **/dev/sde** és így tovább.</span><span class="sxs-lookup"><span data-stu-id="fe950-141">All additional disks you add show up as **/dev/sdc**, **/dev/sdd**, **/dev/sde** and so on.</span></span> <span data-ttu-id="fe950-142">Ideiglenes tárolt összes adat (**/dev/sdb**) nincs tartós, és elvesznek, ha a meghatározott események, például a átméretezése virtuális gép újbóli üzembe helyezése, vagy egy karbantartási újraindítja a virtuális Gépet.</span><span class="sxs-lookup"><span data-stu-id="fe950-142">All data on your temporary disk (**/dev/sdb**) is not durable, and can be lost if specific events like VM Resizing, redeployment, or maintenance forces a restart of your VM.</span></span>  <span data-ttu-id="fe950-143">A Virtuálisgép-méretet, a központi telepítéskor választott mérete és a ideiglenes lemez típusa nem kapcsolódik.</span><span class="sxs-lookup"><span data-stu-id="fe950-143">The size and type of your temporary disk is related to the VM size you chose at deployment time.</span></span> <span data-ttu-id="fe950-144">A prémium szintű mindegyikét méretezés virtuális gépek (DS, a G és DS_V2 sorozat) az ideiglenes meghajtón a helyi SSD további teljesítmény érdekében legfeljebb 48 k által támogatott iops-érték.</span><span class="sxs-lookup"><span data-stu-id="fe950-144">All of the premium size VMs (DS, G, and DS_V2 series) the temporary drive are backed by a local SSD for additional performance of up to 48k IOps.</span></span> 

## <a name="linux-swap-file"></a><span data-ttu-id="fe950-145">Linux lapozófájl</span><span class="sxs-lookup"><span data-stu-id="fe950-145">Linux Swap File</span></span>
<span data-ttu-id="fe950-146">Ha az Azure virtuális gép Ubuntu vagy CoreOS lemezképből CustomData egy felhő-config küldendő felhő inicializálás használhatja.</span><span class="sxs-lookup"><span data-stu-id="fe950-146">If your Azure VM is from an Ubuntu or CoreOS image, then you can use CustomData to send a cloud-config to cloud-init.</span></span> <span data-ttu-id="fe950-147">Ha Ön [Linux egyéni lemezkép feltöltése](upload-vhd.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json) használó felhő inicializálás, is konfigurálhatja a felhő inicializálás használó swap partíciókkal.</span><span class="sxs-lookup"><span data-stu-id="fe950-147">If you [uploaded a custom Linux image](upload-vhd.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json) that uses cloud-init, you also configure swap partitions using cloud-init.</span></span>

<span data-ttu-id="fe950-148">Ubuntu felhő lemezképek, a felhő inicializálás konfigurálása a lapozófájl-kapacitás partíciót kell használnia.</span><span class="sxs-lookup"><span data-stu-id="fe950-148">On Ubuntu Cloud Images, you must use cloud-init to configure the swap partition.</span></span> <span data-ttu-id="fe950-149">További információkért lásd: [AzureSwapPartitions](https://wiki.ubuntu.com/AzureSwapPartitions).</span><span class="sxs-lookup"><span data-stu-id="fe950-149">For more information, see [AzureSwapPartitions](https://wiki.ubuntu.com/AzureSwapPartitions).</span></span>

<span data-ttu-id="fe950-150">A lemezképek felhő inicializálás támogatás nélkül az Azure piactérről telepített Virtuálisgép-rendszerképek van integrálva van az operációs rendszer virtuális gép Linux ügynök.</span><span class="sxs-lookup"><span data-stu-id="fe950-150">For images without cloud-init support, VM images deployed from the Azure Marketplace have a VM Linux Agent integrated with the OS.</span></span> <span data-ttu-id="fe950-151">Ez az ügynök lehetővé teszi, hogy a virtuális gép kommunikál a különböző Azure-szolgáltatásokhoz.</span><span class="sxs-lookup"><span data-stu-id="fe950-151">This agent allows the VM to interact with various Azure services.</span></span> <span data-ttu-id="fe950-152">Ha telepítette az Azure piactérről szabványos lemezkép, kellene megfelelően konfigurálja a Linux lapozófájl beállításait érdekében tegye a következőket:</span><span class="sxs-lookup"><span data-stu-id="fe950-152">Assuming you have deployed a standard image from the Azure Marketplace, you would need to do the following to correctly configure your Linux swap file settings:</span></span>

<span data-ttu-id="fe950-153">Keresse meg és módosíthatja a két bejegyzés a **/etc/waagent.conf** fájlt.</span><span class="sxs-lookup"><span data-stu-id="fe950-153">Locate and modify two entries in the **/etc/waagent.conf** file.</span></span> <span data-ttu-id="fe950-154">Egy dedikált swap fájl és a lapozófájl méretének azok ellenőrzése.</span><span class="sxs-lookup"><span data-stu-id="fe950-154">They control the existence of a dedicated swap file and size of the swap file.</span></span> <span data-ttu-id="fe950-155">A paraméterek módosítása szeretne `ResourceDisk.EnableSwap=N` és`ResourceDisk.SwapSizeMB=0`</span><span class="sxs-lookup"><span data-stu-id="fe950-155">The parameters you are looking to modify are `ResourceDisk.EnableSwap=N` and `ResourceDisk.SwapSizeMB=0`</span></span> 

<span data-ttu-id="fe950-156">Módosítsa a paramétereket a következő beállításokat:</span><span class="sxs-lookup"><span data-stu-id="fe950-156">Change the parameters to the following settings:</span></span>

* <span data-ttu-id="fe950-157">ResourceDisk.EnableSwap=Y</span><span class="sxs-lookup"><span data-stu-id="fe950-157">ResourceDisk.EnableSwap=Y</span></span>
* <span data-ttu-id="fe950-158">Az igényeknek MB-ban ResourceDisk.SwapSizeMB={size}</span><span class="sxs-lookup"><span data-stu-id="fe950-158">ResourceDisk.SwapSizeMB={size in MB to meet your needs}</span></span> 

<span data-ttu-id="fe950-159">A módosítás létrejötte után kell indítsa újra a waagent vagy a Linux virtuális Gépet, a változások követése érdekében.</span><span class="sxs-lookup"><span data-stu-id="fe950-159">Once you have made the change, you need to restart the waagent or restart your Linux VM to reflect those changes.</span></span>  <span data-ttu-id="fe950-160">A módosításokat végrehajtották, és használatakor létrehozását a lapozófájl tudja a `free` parancsot megtekintéséhez a szabad terület.</span><span class="sxs-lookup"><span data-stu-id="fe950-160">You know the changes have been implemented and a swap file has been created when you use the `free` command to view free space.</span></span> <span data-ttu-id="fe950-161">Az alábbi példa rendelkezik egy 512MB lapozófájl módosítása eredményeként jött létre a **waagent.conf** fájlt:</span><span class="sxs-lookup"><span data-stu-id="fe950-161">The following example has a 512MB swap file created as a result of modifying the **waagent.conf** file:</span></span>

```bash
azuseruser@myVM:~$ free
            total       used       free     shared    buffers     cached
Mem:       3525156     804168    2720988        408       8428     633192
-/+ buffers/cache:     162548    3362608
Swap:       524284          0     524284
```

## <a name="io-scheduling-algorithm-for-premium-storage"></a><span data-ttu-id="fe950-162">Prémium szintű Storage i/o ütemezési algoritmus</span><span class="sxs-lookup"><span data-stu-id="fe950-162">I/O scheduling algorithm for Premium Storage</span></span>
<span data-ttu-id="fe950-163">A 2.6.18 rendelkező Linux kernel, az alapértelmezett ütemezés algoritmus i/o módosult a határidő, a CFQ (teljesen valós Üzenetsor-kezelés algoritmus).</span><span class="sxs-lookup"><span data-stu-id="fe950-163">With the 2.6.18 Linux kernel, the default I/O scheduling algorithm was changed from Deadline to CFQ (Completely fair queuing algorithm).</span></span> <span data-ttu-id="fe950-164">Közvetlen elérésű i/o-mintára van elhanyagolható teljesítmény különbségek CFQ és a határidő közötti különbség.</span><span class="sxs-lookup"><span data-stu-id="fe950-164">For random access I/O patterns, there is negligible difference in performance differences between CFQ and Deadline.</span></span>  <span data-ttu-id="fe950-165">Ahol a lemez i/o-mintát túlnyomórészt szekvenciális az SSD-alapú lemezek átállítaná a NOOP vagy határidő algoritmus érhető el jobb i/o-teljesítmény.</span><span class="sxs-lookup"><span data-stu-id="fe950-165">For SSD-based disks where the disk I/O pattern is predominantly sequential, switching back to the NOOP or Deadline algorithm can achieve better I/O performance.</span></span>

### <a name="view-the-current-io-scheduler"></a><span data-ttu-id="fe950-166">Az aktuális i/o-ütemező megtekintése</span><span class="sxs-lookup"><span data-stu-id="fe950-166">View the current I/O scheduler</span></span>
<span data-ttu-id="fe950-167">Használja az alábbi parancsot:</span><span class="sxs-lookup"><span data-stu-id="fe950-167">Use the following command:</span></span>  

```bash
cat /sys/block/sda/queue/scheduler
```

<span data-ttu-id="fe950-168">Kimeneti, amely megadja, hogy a jelenlegi Feladatütemező követően láthatja.</span><span class="sxs-lookup"><span data-stu-id="fe950-168">You see following output, which indicates the current scheduler.</span></span>  

```bash
noop [deadline] cfq
```

### <a name="change-the-current-device-devsda-of-io-scheduling-algorithm"></a><span data-ttu-id="fe950-169">Az aktuális eszköz (/ dev/sda) i/o algoritmus ütemezés módosítása</span><span class="sxs-lookup"><span data-stu-id="fe950-169">Change the current device (/dev/sda) of I/O scheduling algorithm</span></span>
<span data-ttu-id="fe950-170">Az alábbi parancsokat használja:</span><span class="sxs-lookup"><span data-stu-id="fe950-170">Use the following commands:</span></span>  

```bash
azureuser@myVM:~$ sudo su -
root@myVM:~# echo "noop" >/sys/block/sda/queue/scheduler
root@myVM:~# sed -i 's/GRUB_CMDLINE_LINUX=""/GRUB_CMDLINE_LINUX_DEFAULT="quiet splash elevator=noop"/g' /etc/default/grub
root@myVM:~# update-grub
```

> [!NOTE]
> <span data-ttu-id="fe950-171">Ez a beállítás alkalmazása **/dev/sda** különálló nincs hasznos.</span><span class="sxs-lookup"><span data-stu-id="fe950-171">Applying this setting for **/dev/sda** alone is not useful.</span></span> <span data-ttu-id="fe950-172">Állítsa be összes adatok lemezen, ahol szekvenciális i/o egység dominálja az i/o-mintát.</span><span class="sxs-lookup"><span data-stu-id="fe950-172">Set on all data disks where sequential I/O dominates the I/O pattern.</span></span>  

<span data-ttu-id="fe950-173">Kimenetnek kell megjelennie a következő, amely jelzi, hogy **grub.cfg** sikeresen újraépítve, és hogy az alapértelmezett ütemező NOOP környezetébe.</span><span class="sxs-lookup"><span data-stu-id="fe950-173">You should see the following output, indicating that **grub.cfg** has been rebuilt successfully and that the default scheduler has been updated to NOOP.</span></span>  

```bash
Generating grub configuration file ...
Found linux image: /boot/vmlinuz-3.13.0-34-generic
Found initrd image: /boot/initrd.img-3.13.0-34-generic
Found linux image: /boot/vmlinuz-3.13.0-32-generic
Found initrd image: /boot/initrd.img-3.13.0-32-generic
Found memtest86+ image: /memtest86+.elf
Found memtest86+ image: /memtest86+.bin
done
```

<span data-ttu-id="fe950-174">A Redhat terjesztési termékcsalád csak van szüksége a következő parancsot:</span><span class="sxs-lookup"><span data-stu-id="fe950-174">For the Redhat distribution family, you only need the following command:</span></span>   

```bash
echo 'echo noop >/sys/block/sda/queue/scheduler' >> /etc/rc.local
```

## <a name="using-software-raid-to-achieve-higher-iops"></a><span data-ttu-id="fe950-175">Szoftver RAID használatával eléréséhez magasabb I / Ops</span><span class="sxs-lookup"><span data-stu-id="fe950-175">Using Software RAID to achieve higher I/Ops</span></span>
<span data-ttu-id="fe950-176">Ha a munkaterhelések magasabb iops-értéket, mint egyetlen lemez biztosíthat igényelnek, több lemezt a szoftver RAID-konfigurációt használni szeretné.</span><span class="sxs-lookup"><span data-stu-id="fe950-176">If your workloads require more IOps than a single disk can provide, you need to use a software RAID configuration of multiple disks.</span></span> <span data-ttu-id="fe950-177">Azure már lemez rugalmasság a helyi háló rétegben hajt végre, mert a legmagasabb szintű RAID-0 csíkozást konfigurációról teljesítmény elérése érdekében.</span><span class="sxs-lookup"><span data-stu-id="fe950-177">Because Azure already performs disk resiliency at the local fabric layer, you achieve the highest level of performance from a RAID-0 striping configuration.</span></span>  <span data-ttu-id="fe950-178">Kiépítése és lemezek létrehozása az Azure környezetben, és csatolja őket a Linux virtuális gép particionálás, formázásával, és a meghajtó csatlakoztatása előtt.</span><span class="sxs-lookup"><span data-stu-id="fe950-178">Provision and create disks in the Azure environment and attach them to your Linux VM before partitioning, formatting and mounting the drives.</span></span>  <span data-ttu-id="fe950-179">További részleteket a RAID Szoftvertelepítés konfigurálása a Linux virtuális Gépet az azure-ban található a  **[szoftver RAID konfigurálása Linux](configure-raid.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)**  dokumentum.</span><span class="sxs-lookup"><span data-stu-id="fe950-179">More details on configuring a software RAID setup on your Linux VM in azure can be found in the **[Configuring Software RAID on Linux](configure-raid.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)** document.</span></span>

## <a name="next-steps"></a><span data-ttu-id="fe950-180">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="fe950-180">Next Steps</span></span>
<span data-ttu-id="fe950-181">Ne feledje, hogy minden optimalizálási vitafórum tesztek végrehajtása előtt, és a módosítás a hatás méréséhez minden módosítás után szükség szerint.</span><span class="sxs-lookup"><span data-stu-id="fe950-181">Remember, as with all optimization discussions, you need to perform tests before and after each change to measure the impact the change has.</span></span>  <span data-ttu-id="fe950-182">Optimalizálás rendkívül részletes folyamat, amely rendelkezik a különböző eredmények a környezetben az egyes számítógépek közötti.</span><span class="sxs-lookup"><span data-stu-id="fe950-182">Optimization is a step by step process that has different results across different machines in your environment.</span></span>  <span data-ttu-id="fe950-183">Mi működik egy konfiguráció mások esetében nem használható.</span><span class="sxs-lookup"><span data-stu-id="fe950-183">What works for one configuration may not work for others.</span></span>

<span data-ttu-id="fe950-184">Néhány hasznos további forrásanyagokra mutató hivatkozásokat:</span><span class="sxs-lookup"><span data-stu-id="fe950-184">Some useful links to additional resources:</span></span> 

* [<span data-ttu-id="fe950-185">Premium Storage: Nagy teljesítményű tárolási szolgáltatás Azure-beli virtuális gépek számítási feladataihoz</span><span class="sxs-lookup"><span data-stu-id="fe950-185">Premium Storage: High-Performance Storage for Azure Virtual Machine Workloads</span></span>](../../storage/common/storage-premium-storage.md)
* [<span data-ttu-id="fe950-186">Azure Linux ügynök felhasználói útmutatója</span><span class="sxs-lookup"><span data-stu-id="fe950-186">Azure Linux Agent User Guide</span></span>](../windows/agent-user-guide.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)
* [<span data-ttu-id="fe950-187">Az Azure Linux virtuális gépeken futó MySQL teljesítményének optimalizálása</span><span class="sxs-lookup"><span data-stu-id="fe950-187">Optimizing MySQL Performance on Azure Linux VMs</span></span>](classic/optimize-mysql.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json)
* [<span data-ttu-id="fe950-188">Szoftveres RAID Linux konfigurálása</span><span class="sxs-lookup"><span data-stu-id="fe950-188">Configure Software RAID on Linux</span></span>](configure-raid.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)

