---
title: "Linux virtuális gép telepítési klasszikus hibaelhárítása |} Microsoft Docs"
description: "Klasszikus telepítési problémák elhárításához, amikor egy új Linux virtuális gép létrehozása az Azure-ban"
services: virtual-machines-linux
documentationcenter: 
author: JiangChen79
manager: felixwu
editor: 
tags: top-support-issue
ms.assetid: c8a963fa-6b2a-4c7a-a1f4-7793adb02b19
ms.service: virtual-machines-linux
ms.workload: na
ms.tgt_pltfrm: vm-linux
ms.devlang: na
ms.topic: article
ms.date: 09/06/2016
ms.author: cjiang
ms.openlocfilehash: 35b8ae033425e16fb53cc3127f300e1fb919a2f2
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 07/11/2017
---
# <a name="troubleshoot-classic-deployment-issues-with-creating-a-new-linux-virtual-machine-in-azure"></a><span data-ttu-id="ae2b1-103">Egy új Linux virtuális gép létrehozása az Azure klasszikus üzembe helyezési problémáinak elhárítása</span><span class="sxs-lookup"><span data-stu-id="ae2b1-103">Troubleshoot classic deployment issues with creating a new Linux virtual machine in Azure</span></span>
[!INCLUDE [virtual-machines-troubleshoot-deployment-new-vm-selectors](../../../../includes/virtual-machines-linux-troubleshoot-deployment-new-vm-selectors-include.md)]

[!INCLUDE [virtual-machines-troubleshoot-deployment-new-vm-opening](../../../../includes/virtual-machines-troubleshoot-deployment-new-vm-opening-include.md)]

> [!IMPORTANT] 
> <span data-ttu-id="ae2b1-104">Azure az erőforrások létrehozására és kezelésére két különböző üzembe helyezési modellel rendelkezik: [Resource Manager és klasszikus](../../../resource-manager-deployment-model.md).</span><span class="sxs-lookup"><span data-stu-id="ae2b1-104">Azure has two different deployment models for creating and working with resources: [Resource Manager and Classic](../../../resource-manager-deployment-model.md).</span></span> <span data-ttu-id="ae2b1-105">Ez a cikk a klasszikus telepítési modell használatát bemutatja.</span><span class="sxs-lookup"><span data-stu-id="ae2b1-105">This article covers using the Classic deployment model.</span></span> <span data-ttu-id="ae2b1-106">A Microsoft azt javasolja, hogy az új telepítések esetén a Resource Manager modellt használja.</span><span class="sxs-lookup"><span data-stu-id="ae2b1-106">Microsoft recommends that most new deployments use the Resource Manager model.</span></span> <span data-ttu-id="ae2b1-107">Ez a cikk erőforrás-kezelő verziója: [Itt](../troubleshoot-deployment-new-vm.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="ae2b1-107">For the Resource Manager version of this article, see [here](../troubleshoot-deployment-new-vm.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span>

[!INCLUDE [support-disclaimer](../../../../includes/support-disclaimer.md)]

## <a name="collect-audit-logs"></a><span data-ttu-id="ae2b1-108">A gyűjtés auditnaplókat</span><span class="sxs-lookup"><span data-stu-id="ae2b1-108">Collect audit logs</span></span>
<span data-ttu-id="ae2b1-109">A hibaelhárítás indítása gyűjteni a naplókat a probléma társított hiba azonosításához.</span><span class="sxs-lookup"><span data-stu-id="ae2b1-109">To start troubleshooting, collect the audit logs to identify the error associated with the issue.</span></span>

<span data-ttu-id="ae2b1-110">Az Azure portálon kattintson **Tallózás** > **virtuális gépek** > *a Windows rendszerű virtuális gép* > **beállítások** > **naplók**.</span><span class="sxs-lookup"><span data-stu-id="ae2b1-110">In the Azure portal, click **Browse** > **Virtual machines** > *your Windows virtual machine* > **Settings** > **Audit logs**.</span></span>

[!INCLUDE [virtual-machines-troubleshoot-deployment-new-vm-issue1](../../../../includes/virtual-machines-troubleshoot-deployment-new-vm-issue1-include.md)]

[!INCLUDE [virtual-machines-linux-troubleshoot-deployment-new-vm-table](../../../../includes/virtual-machines-linux-troubleshoot-deployment-new-vm-table.md)]

<span data-ttu-id="ae2b1-111">**Y** Ha az operációs rendszer általánosított, Linux és feltöltött, illetve a általánosított beállítással rögzített, akkor nem lesz ki a hibákat.</span><span class="sxs-lookup"><span data-stu-id="ae2b1-111">**Y:** If the OS is Linux generalized, and it is uploaded and/or captured with the generalized setting, then there won’t be any errors.</span></span> <span data-ttu-id="ae2b1-112">Hasonlóképpen ha az operációs rendszer speciális Linux, feltöltött, illetve a speciális beállítás rögzített, majd hibák nem lesz.</span><span class="sxs-lookup"><span data-stu-id="ae2b1-112">Similarly, if the OS is Linux specialized, and it is uploaded and/or captured with the specialized setting, then there won’t be any errors.</span></span>

<span data-ttu-id="ae2b1-113">**Töltse fel a hibák:**</span><span class="sxs-lookup"><span data-stu-id="ae2b1-113">**Upload Errors:**</span></span>

<span data-ttu-id="ae2b1-114">**N<sup>1</sup>:** Ha az operációs rendszer általánosított Linux, és mint feltöltött speciális, elérhetővé válik egy üzembe helyezési időtúllépési hiba, mert a virtuális gép akadt-e az üzembe helyezési ponton.</span><span class="sxs-lookup"><span data-stu-id="ae2b1-114">**N<sup>1</sup>:** If the OS is Linux generalized, and it is uploaded as specialized, you will get a provisioning timeout error because the VM is stuck at the provisioning stage.</span></span>

<span data-ttu-id="ae2b1-115">**N<sup>2</sup>:** Linux kifejezetten, és töltheti fel, mivel általánosítva van az operációs rendszer esetén elérhetővé válik egy üzembe helyezési hiba, mert az új virtuális gép fut az eredeti számítógép neve, felhasználónévvel és jelszóval.</span><span class="sxs-lookup"><span data-stu-id="ae2b1-115">**N<sup>2</sup>:** If the OS is Linux specialized, and it is uploaded as generalized, you will get a provisioning failure error because the new VM is running with the original computer name, username and password.</span></span>

<span data-ttu-id="ae2b1-116">**Megoldás:**</span><span class="sxs-lookup"><span data-stu-id="ae2b1-116">**Resolution:**</span></span>

<span data-ttu-id="ae2b1-117">Mindkét hibák elhárításához, az eredeti, érhető el a helyszínen, ugyanazokat a beállításokat, mint az operációs rendszer (általánosítva/speciális) a virtuális merevlemez feltöltéséhez.</span><span class="sxs-lookup"><span data-stu-id="ae2b1-117">To resolve both these errors, upload the original VHD, available on-prem, with the same setting as that for the OS (generalized/specialized).</span></span> <span data-ttu-id="ae2b1-118">Feltölteni, általánosítva van, ne felejtse el futtassa - először kiosztásának megszüntetése.</span><span class="sxs-lookup"><span data-stu-id="ae2b1-118">To upload as generalized, remember to run -deprovision first.</span></span> <span data-ttu-id="ae2b1-119">Lásd: [létrehozása és feltöltése, a Linux operációs rendszert tartalmazó virtuális merevlemez](create-upload-vhd.md) további információt.</span><span class="sxs-lookup"><span data-stu-id="ae2b1-119">See [Create and Upload a Virtual Hard Disk that Contains the Linux Operating System](create-upload-vhd.md) for more information.</span></span>

<span data-ttu-id="ae2b1-120">**Rögzítés a hibák:**</span><span class="sxs-lookup"><span data-stu-id="ae2b1-120">**Capture Errors:**</span></span>

<span data-ttu-id="ae2b1-121">**N<sup>3</sup>:** Ha az operációs rendszer általánosított Linux, mint a rögzített speciális, elérhetővé válik egy üzembe helyezési időtúllépési hiba, mert az eredeti virtuális gép már nem használható, mert meg van jelölve, mivel általánosítva van.</span><span class="sxs-lookup"><span data-stu-id="ae2b1-121">**N<sup>3</sup>:** If the OS is Linux generalized, and it is captured as specialized, you will get a provisioning timeout error because the original VM is not usable as it is marked as generalized.</span></span>

<span data-ttu-id="ae2b1-122">**N<sup>4</sup>:** Linux kifejezetten, és mivel általánosítva rögzítése az operációs rendszer esetén elérhetővé válik egy üzembe helyezési hiba, mert az új virtuális gép fut az eredeti számítógép neve, felhasználónévvel és jelszóval.</span><span class="sxs-lookup"><span data-stu-id="ae2b1-122">**N<sup>4</sup>:** If the OS is Linux specialized, and it is captured as generalized, you will get a provisioning failure error because the new VM is running with the original computer name, username and password.</span></span> <span data-ttu-id="ae2b1-123">Az eredeti virtuális gép is nem használható, mert meg van jelölve a speciális.</span><span class="sxs-lookup"><span data-stu-id="ae2b1-123">Also, the original VM is not usable because it is marked as specialized.</span></span>

<span data-ttu-id="ae2b1-124">**Megoldás:**</span><span class="sxs-lookup"><span data-stu-id="ae2b1-124">**Resolution:**</span></span>

<span data-ttu-id="ae2b1-125">Mindkét hibák elhárításához, az aktuális lemezkép törlése a portálról, és [vegye fel újra az aktuális merevlemezekről](capture-image.md) ugyanazokat a beállításokat, mint az operációs rendszer (általánosítva/speciális) számára.</span><span class="sxs-lookup"><span data-stu-id="ae2b1-125">To resolve both these errors, delete the current image from the portal, and [recapture it from the current VHDs](capture-image.md) with the same setting as that for the OS (generalized/specialized).</span></span>

## <a name="issue-custom-gallery-marketplace-image-allocation-failure"></a><span data-ttu-id="ae2b1-126">Probléma: Egyéni / gyűjtemény / Piactéri lemezképhez; foglalási hiba</span><span class="sxs-lookup"><span data-stu-id="ae2b1-126">Issue: Custom/ gallery/ marketplace image; allocation failure</span></span>
<span data-ttu-id="ae2b1-127">Ez a hiba helyzetekben akkor keletkezik, ha az új virtuális gép kérelmet küld egy fürt, amely nem rendelkezik a kérelem olyan rendelkezésre álló szabad területet, vagy nem támogatja a kért Virtuálisgép-méretet.</span><span class="sxs-lookup"><span data-stu-id="ae2b1-127">This error arises in situations when the new VM request is sent to a cluster that either does not have available free space to accommodate the request, or cannot support the VM size being requested.</span></span> <span data-ttu-id="ae2b1-128">Már nem lehet azonos a felhőszolgáltatásban található virtuális gépek különböző sorozata.</span><span class="sxs-lookup"><span data-stu-id="ae2b1-128">It is not possible to mix different series of VMs in the same cloud service.</span></span> <span data-ttu-id="ae2b1-129">Ezért ha szeretne létrehozni egy új virtuális gép mérete eltér a felhőalapú szolgáltatás támogathatja a, a számítási kérelem sikertelen lesz.</span><span class="sxs-lookup"><span data-stu-id="ae2b1-129">So if you want to create a new VM of a different size than what your cloud service can support, the compute request will fail.</span></span>

<span data-ttu-id="ae2b1-130">Attól függően, hogy a felhőalapú szolgáltatás, az új virtuális gép létrehozásához használt megkötések miatt léphetnek fel két esetben által okozott hiba.</span><span class="sxs-lookup"><span data-stu-id="ae2b1-130">Depending on the constraints of the cloud service you use to create the new VM, you might encounter an error caused by one of two situations.</span></span>

<span data-ttu-id="ae2b1-131">**1. ok:** adott fürt rögzítve a felhőalapú szolgáltatás, vagy affinitáscsoport csatolva, és ezért rögzítve adott fürt úgy lett kialakítva.</span><span class="sxs-lookup"><span data-stu-id="ae2b1-131">**Cause 1:** The cloud service is pinned to a specific cluster, or it is linked to an affinity group, and hence pinned to a specific cluster by design.</span></span> <span data-ttu-id="ae2b1-132">Ezért új számítási erőforrás abban a affinitáscsoport próbálja meg ugyanabban a fürtben, a meglévő erőforrásokat a rendszer hol tárolja a kérelmek.</span><span class="sxs-lookup"><span data-stu-id="ae2b1-132">So new compute resource requests in that affinity group are tried in the same cluster where the existing resources are hosted.</span></span> <span data-ttu-id="ae2b1-133">Azonban az ugyanabban a fürtben előfordulhat, hogy nem támogatja a kért Virtuálisgép-méretet vagy nincs elegendő szabad terület, ami azt eredményezi, hogy foglalási hiba van.</span><span class="sxs-lookup"><span data-stu-id="ae2b1-133">However, the same cluster may either not support the requested VM size or have insufficient available space, resulting in an allocation error.</span></span> <span data-ttu-id="ae2b1-134">Ez érvényét veszti, hogy az új erőforrások jönnek létre egy új felhőalapú szolgáltatás vagy egy meglévő felhőszolgáltatáshoz keresztül.</span><span class="sxs-lookup"><span data-stu-id="ae2b1-134">This is true whether the new resources are created through a new cloud service or through an existing cloud service.</span></span>

<span data-ttu-id="ae2b1-135">**1. megoldás:**</span><span class="sxs-lookup"><span data-stu-id="ae2b1-135">**Resolution 1:**</span></span>

* <span data-ttu-id="ae2b1-136">Hozzon létre egy új felhőalapú szolgáltatás, és társíthatja egy régiót vagy a régió-alapú virtuális hálózat.</span><span class="sxs-lookup"><span data-stu-id="ae2b1-136">Create a new cloud service and associate it with either a region or a region-based virtual network.</span></span>
* <span data-ttu-id="ae2b1-137">Hozzon létre egy új virtuális Gépet az új felhőalapú szolgáltatás.</span><span class="sxs-lookup"><span data-stu-id="ae2b1-137">Create a new VM in the new cloud service.</span></span>
  <span data-ttu-id="ae2b1-138">Ha hibaüzenetet kap egy új felhőalapú szolgáltatás létrehozása közben, próbálja meg újra később, vagy módosítsa a terület a felhőalapú szolgáltatáshoz.</span><span class="sxs-lookup"><span data-stu-id="ae2b1-138">If you get an error when trying to create a new cloud service, either retry at a later time or change the region for the cloud service.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="ae2b1-139">Ha próbál hozzon létre egy új virtuális gép egy meglévő felhőalapú szolgáltatást, de nem sikerült, és hozzon létre egy új felhőalapú szolgáltatás az új virtuális gép kellett, dönthet úgy, vonják össze a virtuális gépeinek az ugyanazon a felhőalapú szolgáltatás.</span><span class="sxs-lookup"><span data-stu-id="ae2b1-139">If you were trying to create a new VM in an existing cloud service but couldn’t, and had to create a new cloud service for your new VM, you can choose to consolidate all your VMs in the same cloud service.</span></span> <span data-ttu-id="ae2b1-140">Ehhez törölje a virtuális gépek a meglévő felhőalapú szolgáltatást, és ismét rögzíti őket az új felhőalapú szolgáltatás a lemezekről.</span><span class="sxs-lookup"><span data-stu-id="ae2b1-140">To do so, delete the VMs in the existing cloud service, and recapture them from their disks in the new cloud service.</span></span> <span data-ttu-id="ae2b1-141">Fontos azonban, ne feledje, hogy az új felhőszolgáltatás lesz egy új nevet és a VIP, így ezeket a függőségeket, amelyek jelenleg használják ezeket az információkat a meglévő felhőszolgáltatás frissíteni kell.</span><span class="sxs-lookup"><span data-stu-id="ae2b1-141">However, it is important to remember that the new cloud service will have a new name and VIP, so you will need to update these for all the dependencies that currently use this information for the existing cloud service.</span></span>
> 
> 

<span data-ttu-id="ae2b1-142">**2. ok:** a felhőalapú szolgáltatás társítva egy virtuális hálózathoz, amely csatolva van egy affinitáscsoport, így rögzítve van az adott fürt úgy lett kialakítva.</span><span class="sxs-lookup"><span data-stu-id="ae2b1-142">**Cause 2:** The cloud service is associated with a virtual network that is linked to an affinity group, so it is pinned to a specific cluster by design.</span></span> <span data-ttu-id="ae2b1-143">Minden új számítási erőforrás abban a affinitáscsoport ezért próbálja meg ugyanabban a fürtben, a meglévő erőforrásokat a rendszer hol tárolja a kérelmek.</span><span class="sxs-lookup"><span data-stu-id="ae2b1-143">All new compute resource requests in that affinity group are therefore tried in the same cluster where the existing resources are hosted.</span></span> <span data-ttu-id="ae2b1-144">Azonban az ugyanabban a fürtben előfordulhat, hogy nem támogatja a kért Virtuálisgép-méretet vagy nincs elegendő szabad terület, ami azt eredményezi, hogy foglalási hiba van.</span><span class="sxs-lookup"><span data-stu-id="ae2b1-144">However, the same cluster may either not support the requested VM size or have insufficient available space, resulting in an allocation error.</span></span> <span data-ttu-id="ae2b1-145">Ez érvényét veszti, hogy az új erőforrások jönnek létre egy új felhőalapú szolgáltatás vagy egy meglévő felhőszolgáltatáshoz keresztül.</span><span class="sxs-lookup"><span data-stu-id="ae2b1-145">This is true whether the new resources are created through a new cloud service or through an existing cloud service.</span></span>

<span data-ttu-id="ae2b1-146">**2. megoldás:**</span><span class="sxs-lookup"><span data-stu-id="ae2b1-146">**Resolution 2:**</span></span>

* <span data-ttu-id="ae2b1-147">Hozzon létre egy új regionális virtuális hálózatot.</span><span class="sxs-lookup"><span data-stu-id="ae2b1-147">Create a new regional virtual network.</span></span>
* <span data-ttu-id="ae2b1-148">Az új virtuális gép létrehozása az új virtuális hálózat.</span><span class="sxs-lookup"><span data-stu-id="ae2b1-148">Create the new VM in the new virtual network.</span></span>
* <span data-ttu-id="ae2b1-149">[A meglévő virtuális hálózat](https://azure.microsoft.com/blog/vnet-to-vnet-connecting-virtual-networks-in-azure-across-different-regions/) az új virtuális hálózathoz.</span><span class="sxs-lookup"><span data-stu-id="ae2b1-149">[Connect your existing virtual network](https://azure.microsoft.com/blog/vnet-to-vnet-connecting-virtual-networks-in-azure-across-different-regions/) to the new virtual network.</span></span> <span data-ttu-id="ae2b1-150">További tudnivalók [regionális virtuális hálózatokba](https://azure.microsoft.com/blog/2014/05/14/regional-virtual-networks/).</span><span class="sxs-lookup"><span data-stu-id="ae2b1-150">See more about [regional virtual networks](https://azure.microsoft.com/blog/2014/05/14/regional-virtual-networks/).</span></span> <span data-ttu-id="ae2b1-151">Alternatív megoldásként, [a kapcsolat-csoport-alapú virtuális hálózat regionális virtuális hálózat áttelepítése](https://azure.microsoft.com/blog/2014/11/26/migrating-existing-services-to-regional-scope/), majd hozza létre az új virtuális Gépet.</span><span class="sxs-lookup"><span data-stu-id="ae2b1-151">Alternatively, you can [migrate your affinity-group-based virtual network to a regional virtual network](https://azure.microsoft.com/blog/2014/11/26/migrating-existing-services-to-regional-scope/), and then create the new VM.</span></span>

## <a name="next-steps"></a><span data-ttu-id="ae2b1-152">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="ae2b1-152">Next steps</span></span>
<span data-ttu-id="ae2b1-153">Ha problémát tapasztal, amikor elindítja a Linux virtuális gép leállított vagy méretezze át egy meglévő Linux virtuális Gépre az Azure-ban, tekintse meg [újraindításával és átméretezésével egy meglévő Linux virtuális gépet az Azure klasszikus üzembe helyezési problémáinak elhárítása](restart-resize-error-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="ae2b1-153">If you encounter issues when you start a stopped Linux VM or resize an existing Linux VM in Azure, see [Troubleshoot classic deployment issues with restarting or resizing an existing Linux Virtual Machine in Azure](restart-resize-error-troubleshooting.md).</span></span>

