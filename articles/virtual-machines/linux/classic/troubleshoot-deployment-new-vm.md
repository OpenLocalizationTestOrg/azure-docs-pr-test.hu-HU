---
title: "Linux virtuális gép telepítési klasszikus aaaTroubleshoot |} Microsoft Docs"
description: "Klasszikus telepítési problémák elhárításához, amikor egy új Linux virtuális gép létrehozása az Azure-ban"
services: virtual-machines-linux
documentationcenter: 
author: JiangChen79
manager: felixwu
editor: 
tags: top-support-issue
ms.assetid: c8a963fa-6b2a-4c7a-a1f4-7793adb02b19
ms.service: virtual-machines-linux
ms.workload: na
ms.tgt_pltfrm: vm-linux
ms.devlang: na
ms.topic: article
ms.date: 09/06/2016
ms.author: cjiang
ms.openlocfilehash: a642bfd9a543cd6d2104b03fe04193d9352ccae1
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="troubleshoot-classic-deployment-issues-with-creating-a-new-linux-virtual-machine-in-azure"></a><span data-ttu-id="a41fd-103">Egy új Linux virtuális gép létrehozása az Azure klasszikus üzembe helyezési problémáinak elhárítása</span><span class="sxs-lookup"><span data-stu-id="a41fd-103">Troubleshoot classic deployment issues with creating a new Linux virtual machine in Azure</span></span>
[!INCLUDE [virtual-machines-troubleshoot-deployment-new-vm-selectors](../../../../includes/virtual-machines-linux-troubleshoot-deployment-new-vm-selectors-include.md)]

[!INCLUDE [virtual-machines-troubleshoot-deployment-new-vm-opening](../../../../includes/virtual-machines-troubleshoot-deployment-new-vm-opening-include.md)]

> [!IMPORTANT] 
> <span data-ttu-id="a41fd-104">Azure az erőforrások létrehozására és kezelésére két különböző üzembe helyezési modellel rendelkezik: [Resource Manager és klasszikus](../../../resource-manager-deployment-model.md).</span><span class="sxs-lookup"><span data-stu-id="a41fd-104">Azure has two different deployment models for creating and working with resources: [Resource Manager and Classic](../../../resource-manager-deployment-model.md).</span></span> <span data-ttu-id="a41fd-105">Ez a cikk hello klasszikus telepítési modell használatát bemutatja.</span><span class="sxs-lookup"><span data-stu-id="a41fd-105">This article covers using hello Classic deployment model.</span></span> <span data-ttu-id="a41fd-106">A Microsoft azt javasolja, hogy az új telepítések esetén hello Resource Manager modellt használja.</span><span class="sxs-lookup"><span data-stu-id="a41fd-106">Microsoft recommends that most new deployments use hello Resource Manager model.</span></span> <span data-ttu-id="a41fd-107">Ez a cikk hello erőforrás-kezelő verziója: [Itt](../troubleshoot-deployment-new-vm.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="a41fd-107">For hello Resource Manager version of this article, see [here](../troubleshoot-deployment-new-vm.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span>

[!INCLUDE [support-disclaimer](../../../../includes/support-disclaimer.md)]

## <a name="collect-audit-logs"></a><span data-ttu-id="a41fd-108">A gyűjtés auditnaplókat</span><span class="sxs-lookup"><span data-stu-id="a41fd-108">Collect audit logs</span></span>
<span data-ttu-id="a41fd-109">hibaelhárítás, toostart gyűjtése hello naplózási tooidentify hello hiba hello probléma társított naplózza.</span><span class="sxs-lookup"><span data-stu-id="a41fd-109">toostart troubleshooting, collect hello audit logs tooidentify hello error associated with hello issue.</span></span>

<span data-ttu-id="a41fd-110">Hello Azure-portálon, kattintson **Tallózás** > **virtuális gépek** > *a Windows rendszerű virtuális gép*  >   **Beállítások** > **naplók**.</span><span class="sxs-lookup"><span data-stu-id="a41fd-110">In hello Azure portal, click **Browse** > **Virtual machines** > *your Windows virtual machine* > **Settings** > **Audit logs**.</span></span>

[!INCLUDE [virtual-machines-troubleshoot-deployment-new-vm-issue1](../../../../includes/virtual-machines-troubleshoot-deployment-new-vm-issue1-include.md)]

[!INCLUDE [virtual-machines-linux-troubleshoot-deployment-new-vm-table](../../../../includes/virtual-machines-linux-troubleshoot-deployment-new-vm-table.md)]

<span data-ttu-id="a41fd-111">**Y** Ha hello az operációs rendszer általánosított, Linux és feltöltött, illetve a általánosítva hello beállítása rögzített, akkor nem lesz ki a hibákat.</span><span class="sxs-lookup"><span data-stu-id="a41fd-111">**Y:** If hello OS is Linux generalized, and it is uploaded and/or captured with hello generalized setting, then there won’t be any errors.</span></span> <span data-ttu-id="a41fd-112">Ehhez hasonlóan hello az operációs rendszer esetén Linux kifejezetten, és a feltöltött, illetve a rögzített hello kifejezetten beállítást, majd a hibák nem lesz.</span><span class="sxs-lookup"><span data-stu-id="a41fd-112">Similarly, if hello OS is Linux specialized, and it is uploaded and/or captured with hello specialized setting, then there won’t be any errors.</span></span>

<span data-ttu-id="a41fd-113">**Töltse fel a hibák:**</span><span class="sxs-lookup"><span data-stu-id="a41fd-113">**Upload Errors:**</span></span>

<span data-ttu-id="a41fd-114">**N<sup>1</sup>:** Ha hello az operációs rendszer általánosított Linux, és mint feltöltött speciális, elérhetővé válik egy üzembe helyezési időtúllépési hiba hello VM Beragadt hello szakasz kiépítés, mert.</span><span class="sxs-lookup"><span data-stu-id="a41fd-114">**N<sup>1</sup>:** If hello OS is Linux generalized, and it is uploaded as specialized, you will get a provisioning timeout error because hello VM is stuck at hello provisioning stage.</span></span>

<span data-ttu-id="a41fd-115">**N<sup>2</sup>:** Linux kifejezetten, és töltheti fel, mivel általánosítva hello az operációs rendszer esetén elérhetővé válik egy üzembe helyezési hiba mert hello új virtuális gép fut hello eredeti számítógép neve, a felhasználónévvel és jelszóval.</span><span class="sxs-lookup"><span data-stu-id="a41fd-115">**N<sup>2</sup>:** If hello OS is Linux specialized, and it is uploaded as generalized, you will get a provisioning failure error because hello new VM is running with hello original computer name, username and password.</span></span>

<span data-ttu-id="a41fd-116">**Megoldás:**</span><span class="sxs-lookup"><span data-stu-id="a41fd-116">**Resolution:**</span></span>

<span data-ttu-id="a41fd-117">tooresolve mindkét ezeket a hibákat, feltöltése hello eredeti VHD, érhető el a helyszínen, a hello ugyanaz, mint a hello (általánosítva/speciális) operációs rendszer beállítása.</span><span class="sxs-lookup"><span data-stu-id="a41fd-117">tooresolve both these errors, upload hello original VHD, available on-prem, with hello same setting as that for hello OS (generalized/specialized).</span></span> <span data-ttu-id="a41fd-118">tooupload, általánosítva van, ne feledje toorun-először kiosztásának megszüntetése.</span><span class="sxs-lookup"><span data-stu-id="a41fd-118">tooupload as generalized, remember toorun -deprovision first.</span></span> <span data-ttu-id="a41fd-119">Lásd: [létrehozása és feltöltése, hogy Contains hello Linux operációs rendszer virtuális merevlemez](create-upload-vhd.md) további információt.</span><span class="sxs-lookup"><span data-stu-id="a41fd-119">See [Create and Upload a Virtual Hard Disk that Contains hello Linux Operating System](create-upload-vhd.md) for more information.</span></span>

<span data-ttu-id="a41fd-120">**Rögzítés a hibák:**</span><span class="sxs-lookup"><span data-stu-id="a41fd-120">**Capture Errors:**</span></span>

<span data-ttu-id="a41fd-121">**N<sup>3</sup>:** Ha hello az operációs rendszer általánosított Linux, és mint rögzítése speciális, elérhetővé válik egy üzembe helyezési időtúllépési hiba mert hello eredeti virtuális gép nem használható, mivel általánosítva van megjelölve.</span><span class="sxs-lookup"><span data-stu-id="a41fd-121">**N<sup>3</sup>:** If hello OS is Linux generalized, and it is captured as specialized, you will get a provisioning timeout error because hello original VM is not usable as it is marked as generalized.</span></span>

<span data-ttu-id="a41fd-122">**N<sup>4</sup>:** Linux kifejezetten, és mivel általánosítva rögzítése az operációs rendszer hello esetén elérhetővé válik egy üzembe helyezési hiba mert hello új virtuális gép fut hello eredeti számítógép neve, a felhasználónévvel és jelszóval.</span><span class="sxs-lookup"><span data-stu-id="a41fd-122">**N<sup>4</sup>:** If hello OS is Linux specialized, and it is captured as generalized, you will get a provisioning failure error because hello new VM is running with hello original computer name, username and password.</span></span> <span data-ttu-id="a41fd-123">Hello eredeti virtuális gép is nem használható, mert meg van jelölve a speciális.</span><span class="sxs-lookup"><span data-stu-id="a41fd-123">Also, hello original VM is not usable because it is marked as specialized.</span></span>

<span data-ttu-id="a41fd-124">**Megoldás:**</span><span class="sxs-lookup"><span data-stu-id="a41fd-124">**Resolution:**</span></span>

<span data-ttu-id="a41fd-125">tooresolve mindkét ezeket a hibákat, hello aktuális lemezkép törlése hello portálról és [vegye fel újra hello a jelenlegi VHD-k](capture-image.md) a hello ugyanaz, mint a hello (általánosítva/speciális) operációs rendszer beállítása.</span><span class="sxs-lookup"><span data-stu-id="a41fd-125">tooresolve both these errors, delete hello current image from hello portal, and [recapture it from hello current VHDs](capture-image.md) with hello same setting as that for hello OS (generalized/specialized).</span></span>

## <a name="issue-custom-gallery-marketplace-image-allocation-failure"></a><span data-ttu-id="a41fd-126">Probléma: Egyéni / gyűjtemény / Piactéri lemezképhez; foglalási hiba</span><span class="sxs-lookup"><span data-stu-id="a41fd-126">Issue: Custom/ gallery/ marketplace image; allocation failure</span></span>
<span data-ttu-id="a41fd-127">Ez a hiba merül fel helyzetek hello új virtuális gép kérelem tooa fürt, vagy nincs rendelkezésre álló szabad területet tooaccommodate hello kérelem elküldésekor, vagy nem támogatja a kért hello Virtuálisgép-méretet.</span><span class="sxs-lookup"><span data-stu-id="a41fd-127">This error arises in situations when hello new VM request is sent tooa cluster that either does not have available free space tooaccommodate hello request, or cannot support hello VM size being requested.</span></span> <span data-ttu-id="a41fd-128">Már nem lehetséges toomix másik adatsorozathoz hello a virtuális gépek ugyanazt a felhőalapú szolgáltatás.</span><span class="sxs-lookup"><span data-stu-id="a41fd-128">It is not possible toomix different series of VMs in hello same cloud service.</span></span> <span data-ttu-id="a41fd-129">Ezért ha egy új virtuális gép mérete eltér a felhőalapú szolgáltatás támogathatja a toocreate, hello számítási kérelme sikertelen lesz.</span><span class="sxs-lookup"><span data-stu-id="a41fd-129">So if you want toocreate a new VM of a different size than what your cloud service can support, hello compute request will fail.</span></span>

<span data-ttu-id="a41fd-130">Attól függően, hogy hello megkötések hello felhőszolgáltatás használja toocreate hello új virtuális Gépet, akkor léphetnek fel két esetben által okozott hiba.</span><span class="sxs-lookup"><span data-stu-id="a41fd-130">Depending on hello constraints of hello cloud service you use toocreate hello new VM, you might encounter an error caused by one of two situations.</span></span>

<span data-ttu-id="a41fd-131">**1. ok:** hello felhőszolgáltatás rögzített tooa adott fürt, vagy csatolt tooan affinitáscsoport, és ezért rögzített tooa adott fürt úgy lett kialakítva.</span><span class="sxs-lookup"><span data-stu-id="a41fd-131">**Cause 1:** hello cloud service is pinned tooa specific cluster, or it is linked tooan affinity group, and hence pinned tooa specific cluster by design.</span></span> <span data-ttu-id="a41fd-132">Így az új számítási erőforrás-kérelmek affinitás csoport azonos fürt hello meglévő erőforrásokat a rendszer hol tárolja hello kísérlet történt.</span><span class="sxs-lookup"><span data-stu-id="a41fd-132">So new compute resource requests in that affinity group are tried in hello same cluster where hello existing resources are hosted.</span></span> <span data-ttu-id="a41fd-133">Hello ugyanazon fürt azonban nem támogatási hello a kért Virtuálisgép-méretet, vagy nincs elegendő szabad terület, ami azt eredményezi, hogy foglalási hiba van.</span><span class="sxs-lookup"><span data-stu-id="a41fd-133">However, hello same cluster may either not support hello requested VM size or have insufficient available space, resulting in an allocation error.</span></span> <span data-ttu-id="a41fd-134">Ez érvényét veszti, hogy hello új erőforrások jönnek létre egy új felhőalapú szolgáltatás vagy egy meglévő felhőszolgáltatáshoz keresztül.</span><span class="sxs-lookup"><span data-stu-id="a41fd-134">This is true whether hello new resources are created through a new cloud service or through an existing cloud service.</span></span>

<span data-ttu-id="a41fd-135">**1. megoldás:**</span><span class="sxs-lookup"><span data-stu-id="a41fd-135">**Resolution 1:**</span></span>

* <span data-ttu-id="a41fd-136">Hozzon létre egy új felhőalapú szolgáltatás, és társíthatja egy régiót vagy a régió-alapú virtuális hálózat.</span><span class="sxs-lookup"><span data-stu-id="a41fd-136">Create a new cloud service and associate it with either a region or a region-based virtual network.</span></span>
* <span data-ttu-id="a41fd-137">Hozzon létre egy új virtuális gép hello új felhőalapú szolgáltatás.</span><span class="sxs-lookup"><span data-stu-id="a41fd-137">Create a new VM in hello new cloud service.</span></span>
  <span data-ttu-id="a41fd-138">Új felhőalapú szolgáltatás toocreate megkísérlésekor hibaüzenetet kap, ha később próbálkozzon újra, vagy hello régió hello felhőalapú szolgáltatás módosítása.</span><span class="sxs-lookup"><span data-stu-id="a41fd-138">If you get an error when trying toocreate a new cloud service, either retry at a later time or change hello region for hello cloud service.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="a41fd-139">Ha egy új virtuális gép egy meglévő felhőalapú szolgáltatást a toocreate az elérni próbált, de nem sikerült, és toocreate volna az új virtuális gép egy új felhőalapú szolgáltatás, választhat tooconsolidate a virtuális gépek a hello ugyanaz a felhőalapú szolgáltatás.</span><span class="sxs-lookup"><span data-stu-id="a41fd-139">If you were trying toocreate a new VM in an existing cloud service but couldn’t, and had toocreate a new cloud service for your new VM, you can choose tooconsolidate all your VMs in hello same cloud service.</span></span> <span data-ttu-id="a41fd-140">toodo Igen, törölje a hello hello meglévő felhőalapú szolgáltatás virtuális gépe, és ismét rögzíti őket az új felhőszolgáltatás hello merevlemezről.</span><span class="sxs-lookup"><span data-stu-id="a41fd-140">toodo so, delete hello VMs in hello existing cloud service, and recapture them from their disks in hello new cloud service.</span></span> <span data-ttu-id="a41fd-141">Azt azonban fontos, hogy hello új felhőalapú szolgáltatás lesz egy új nevet és a VIP, így tooupdate kell az összes hello függőségek, amelyek jelenleg használják ezeket az információkat hello meglévő felhőszolgáltatás tooremember.</span><span class="sxs-lookup"><span data-stu-id="a41fd-141">However, it is important tooremember that hello new cloud service will have a new name and VIP, so you will need tooupdate these for all hello dependencies that currently use this information for hello existing cloud service.</span></span>
> 
> 

<span data-ttu-id="a41fd-142">**2. ok:** hello felhőszolgáltatás társítva van egy virtuális hálózathoz csatolt tooan affinitáscsoport, ezért ezt a rögzített tooa adott fürt úgy lett kialakítva.</span><span class="sxs-lookup"><span data-stu-id="a41fd-142">**Cause 2:** hello cloud service is associated with a virtual network that is linked tooan affinity group, so it is pinned tooa specific cluster by design.</span></span> <span data-ttu-id="a41fd-143">Minden új számítási erőforrás kérelmek affinitás csoport ezért hello azonos fürt hello meglévő erőforrásokat a rendszer hol tárolja a rendszer próbált.</span><span class="sxs-lookup"><span data-stu-id="a41fd-143">All new compute resource requests in that affinity group are therefore tried in hello same cluster where hello existing resources are hosted.</span></span> <span data-ttu-id="a41fd-144">Hello ugyanazon fürt azonban nem támogatási hello a kért Virtuálisgép-méretet, vagy nincs elegendő szabad terület, ami azt eredményezi, hogy foglalási hiba van.</span><span class="sxs-lookup"><span data-stu-id="a41fd-144">However, hello same cluster may either not support hello requested VM size or have insufficient available space, resulting in an allocation error.</span></span> <span data-ttu-id="a41fd-145">Ez érvényét veszti, hogy hello új erőforrások jönnek létre egy új felhőalapú szolgáltatás vagy egy meglévő felhőszolgáltatáshoz keresztül.</span><span class="sxs-lookup"><span data-stu-id="a41fd-145">This is true whether hello new resources are created through a new cloud service or through an existing cloud service.</span></span>

<span data-ttu-id="a41fd-146">**2. megoldás:**</span><span class="sxs-lookup"><span data-stu-id="a41fd-146">**Resolution 2:**</span></span>

* <span data-ttu-id="a41fd-147">Hozzon létre egy új regionális virtuális hálózatot.</span><span class="sxs-lookup"><span data-stu-id="a41fd-147">Create a new regional virtual network.</span></span>
* <span data-ttu-id="a41fd-148">Hozzon létre új virtuális Gépet az új virtuális hálózat hello hello.</span><span class="sxs-lookup"><span data-stu-id="a41fd-148">Create hello new VM in hello new virtual network.</span></span>
* <span data-ttu-id="a41fd-149">[A meglévő virtuális hálózat](https://azure.microsoft.com/blog/vnet-to-vnet-connecting-virtual-networks-in-azure-across-different-regions/) toohello új virtuális hálózat.</span><span class="sxs-lookup"><span data-stu-id="a41fd-149">[Connect your existing virtual network](https://azure.microsoft.com/blog/vnet-to-vnet-connecting-virtual-networks-in-azure-across-different-regions/) toohello new virtual network.</span></span> <span data-ttu-id="a41fd-150">További tudnivalók [regionális virtuális hálózatokba](https://azure.microsoft.com/blog/2014/05/14/regional-virtual-networks/).</span><span class="sxs-lookup"><span data-stu-id="a41fd-150">See more about [regional virtual networks](https://azure.microsoft.com/blog/2014/05/14/regional-virtual-networks/).</span></span> <span data-ttu-id="a41fd-151">Alternatív megoldásként, [telepítse át a virtuális hálózati kapcsolat csoport-alapú tooa regionális virtuális hálózat](https://azure.microsoft.com/blog/2014/11/26/migrating-existing-services-to-regional-scope/), majd hozzon létre új virtuális gép hello.</span><span class="sxs-lookup"><span data-stu-id="a41fd-151">Alternatively, you can [migrate your affinity-group-based virtual network tooa regional virtual network](https://azure.microsoft.com/blog/2014/11/26/migrating-existing-services-to-regional-scope/), and then create hello new VM.</span></span>

## <a name="next-steps"></a><span data-ttu-id="a41fd-152">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="a41fd-152">Next steps</span></span>
<span data-ttu-id="a41fd-153">Ha problémát tapasztal, amikor elindítja a Linux virtuális gép leállított vagy méretezze át egy meglévő Linux virtuális Gépre az Azure-ban, tekintse meg [újraindításával és átméretezésével egy meglévő Linux virtuális gépet az Azure klasszikus üzembe helyezési problémáinak elhárítása](restart-resize-error-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="a41fd-153">If you encounter issues when you start a stopped Linux VM or resize an existing Linux VM in Azure, see [Troubleshoot classic deployment issues with restarting or resizing an existing Linux Virtual Machine in Azure](restart-resize-error-troubleshooting.md).</span></span>

