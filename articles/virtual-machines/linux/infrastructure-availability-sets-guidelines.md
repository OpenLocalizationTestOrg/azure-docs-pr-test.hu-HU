---
title: "aaaAvailability beállítja a Linux virtuális gépek Azure-ban |} Microsoft Docs"
description: "Tudnivalók: hello legfontosabb tervezési és megvalósítási rendelkezésre állási készletek telepítése az Azure infrastruktúra-szolgáltatásokat."
documentationcenter: 
services: virtual-machines-linux
author: iainfoulds
manager: timlt
editor: 
tags: azure-resource-manager
ms.assetid: 24f1d91c-8cc0-4251-bb67-ac4c4c37e8cd
ms.service: virtual-machines-linux
ms.workload: infrastructure-services
ms.tgt_pltfrm: vm-linux
ms.devlang: na
ms.topic: article
ms.date: 06/26/2017
ms.author: iainfou
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: 78e4da5c8fd9eb186cafacb46454444b73a9439c
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="azure-availability-sets-guidelines-for-linux-vms"></a><span data-ttu-id="3237c-103">Az Azure rendelkezésre állási készletek irányelvek Linux virtuális gépekhez</span><span class="sxs-lookup"><span data-stu-id="3237c-103">Azure availability sets guidelines for Linux VMs</span></span>

[!INCLUDE [virtual-machines-linux-infrastructure-guidelines-intro](../../../includes/virtual-machines-linux-infrastructure-guidelines-intro.md)]

<span data-ttu-id="3237c-104">Ez a cikk foglalkozik a ismertetése hello szükséges tervezési lépéseket, a rendelkezésre állási készletek tooensure az alkalmazások tervezett vagy nem tervezett események közben elérhető marad.</span><span class="sxs-lookup"><span data-stu-id="3237c-104">This article focuses on understanding hello required planning steps for availability sets tooensure your applications remains accessible during planned or unplanned events.</span></span>

## <a name="implementation-guidelines-for-availability-sets"></a><span data-ttu-id="3237c-105">A rendelkezésre állási csoportok implementációs segédlet</span><span class="sxs-lookup"><span data-stu-id="3237c-105">Implementation guidelines for availability sets</span></span>
<span data-ttu-id="3237c-106">Döntéseket:</span><span class="sxs-lookup"><span data-stu-id="3237c-106">Decisions:</span></span>

* <span data-ttu-id="3237c-107">Hány rendelkezésre állási csoportokra kell alkalmazni a hello különböző szerepkörök és rétegek a alkalmazás infrastruktúrában?</span><span class="sxs-lookup"><span data-stu-id="3237c-107">How many availability sets do you need for hello various roles and tiers in your application infrastructure?</span></span>

<span data-ttu-id="3237c-108">Feladatok:</span><span class="sxs-lookup"><span data-stu-id="3237c-108">Tasks:</span></span>

* <span data-ttu-id="3237c-109">Adja meg a virtuális gépek hello számát minden alkalmazás réteg van szüksége.</span><span class="sxs-lookup"><span data-stu-id="3237c-109">Define hello number of VMs in each application tier you require.</span></span>
* <span data-ttu-id="3237c-110">Meghatározza, hogy szükséges-e az alkalmazás használt hiba vagy a frissítési tartományok toobe tooadjust hello száma.</span><span class="sxs-lookup"><span data-stu-id="3237c-110">Determine if you need tooadjust hello number of fault or update domains toobe used for your application.</span></span>
* <span data-ttu-id="3237c-111">Adja meg a szükséges hello rendelkezésre állási készletek használata az elnevezési konvenciót, és milyen virtuális gépek találhatók őket.</span><span class="sxs-lookup"><span data-stu-id="3237c-111">Define hello required availability sets using your naming convention and what VMs reside in them.</span></span> <span data-ttu-id="3237c-112">A virtuális gép csak egy rendelkezésre állási csoport is található.</span><span class="sxs-lookup"><span data-stu-id="3237c-112">A VM can only reside in one availability set.</span></span> 

## <a name="availability-sets"></a><span data-ttu-id="3237c-113">Rendelkezésre állási csoportok</span><span class="sxs-lookup"><span data-stu-id="3237c-113">Availability sets</span></span>
<span data-ttu-id="3237c-114">Az Azure virtuális gépek (VM) helyezhető tooa nevű rendelkezésre állási csoport logikai csoportosítása.</span><span class="sxs-lookup"><span data-stu-id="3237c-114">In Azure, virtual machines (VMs) can be placed in tooa logical grouping called an availability set.</span></span> <span data-ttu-id="3237c-115">Virtuális gépeken belül egy rendelkezésre állási csoport létrehozásakor hello Azure platformon virtuális gépek elhelyezésének hello elosztása az alapul szolgáló infrastruktúra hello.</span><span class="sxs-lookup"><span data-stu-id="3237c-115">When you create VMs within an availability set, hello Azure platform distributes hello placement of those VMs across hello underlying infrastructure.</span></span> <span data-ttu-id="3237c-116">Kell egy tervezett karbantartási esemény toohello Azure platformon, vagy az alapul szolgáló hardver / infrastruktúra hibája, rendelkezésre állási készletek hello használata biztosítja, hogy legalább egy virtuális gép továbbra is futni fog.</span><span class="sxs-lookup"><span data-stu-id="3237c-116">Should there be a planned maintenance event toohello Azure platform or an underlying hardware / infrastructure fault, hello use of availability sets ensures that at least one VM remains running.</span></span>

<span data-ttu-id="3237c-117">Ajánlott eljárásként alkalmazások kell található egy virtuális.</span><span class="sxs-lookup"><span data-stu-id="3237c-117">As a best practice, applications should not reside on a single VM.</span></span> <span data-ttu-id="3237c-118">Egy rendelkezésre állási csoportot, amely tartalmaz egy virtuális nem tervezett vagy nem tervezett események hello Azure platformon belül bármely védelmet kapnak.</span><span class="sxs-lookup"><span data-stu-id="3237c-118">An availability set that contains a single VM doesn't gain any protection from planned or unplanned events within hello Azure platform.</span></span> <span data-ttu-id="3237c-119">Hello [Azure garantált szolgáltatási szintje](https://azure.microsoft.com/support/legal/sla/virtual-machines) szükséges egy rendelkezésre állási készlet tooallow hello elosztása a virtuális gépek az alapul szolgáló infrastruktúra hello belül két vagy több virtuális gépet.</span><span class="sxs-lookup"><span data-stu-id="3237c-119">hello [Azure SLA](https://azure.microsoft.com/support/legal/sla/virtual-machines) requires two or more VMs within an availability set tooallow hello distribution of VMs across hello underlying infrastructure.</span></span> <span data-ttu-id="3237c-120">Ha használ [prémium szintű Azure Storage](../../storage/storage-premium-storage.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json), hello Azure SLA vonatkozik tooa egyetlen virtuális gép.</span><span class="sxs-lookup"><span data-stu-id="3237c-120">If you are using [Azure Premium Storage](../../storage/storage-premium-storage.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json), hello Azure SLA applies tooa single VM.</span></span>

<span data-ttu-id="3237c-121">hello alapul szolgáló infrastruktúra az Azure-ban toomultiple hardver fürtök oszlik meg.</span><span class="sxs-lookup"><span data-stu-id="3237c-121">hello underlying infrastructure in Azure is divided in toomultiple hardware clusters.</span></span> <span data-ttu-id="3237c-122">Hardver fürtökön egy tartományt a Virtuálisgép-méretek képes támogatni.</span><span class="sxs-lookup"><span data-stu-id="3237c-122">Each hardware cluster can support a range of VM sizes.</span></span> <span data-ttu-id="3237c-123">Rendelkezésre állási csoportok időben csak egyetlen hardver fürt bármikor lehet üzemeltetni.</span><span class="sxs-lookup"><span data-stu-id="3237c-123">An availability set can only be hosted on a single hardware cluster at any point in time.</span></span> <span data-ttu-id="3237c-124">Ezért hello a virtuális gép méretét, amely egy egyetlen rendelkezésre állási készlet létezhet, korlátozott toohello tartomány a Virtuálisgép-méretek hello hardver fürt által támogatott.</span><span class="sxs-lookup"><span data-stu-id="3237c-124">Therefore, hello range of VM sizes that can exist in a single availability set is limited toohello range of VM sizes supported by hello hardware cluster.</span></span> <span data-ttu-id="3237c-125">hello hardver fürt hello rendelkezésre állási csoport van kiválasztva, ha hello hello a rendelkezésre állási csoporthoz az első virtuális gép van telepítve, vagy ha egy rendelkezésre állási csoportot, amelyben minden virtuális gép jelenleg hello felszabadítása leállt állapotban az első virtuális gép elindítása hello.</span><span class="sxs-lookup"><span data-stu-id="3237c-125">hello hardware cluster for hello availability set is selected when hello first VM in hello availability set is deployed or when starting hello first VM in an availability set where all VMs are currently in hello stopped-deallocated state.</span></span> <span data-ttu-id="3237c-126">a következő parancsot a CLI hello használt toodetermine hello a virtuális gép rendelkezésre állási csoport rendelkezésre méretű lehet: "az vm lista-méretek – hely \<karakterlánc\>"</span><span class="sxs-lookup"><span data-stu-id="3237c-126">hello following CLI command can be used toodetermine hello range of VM sizes available for an availability set: “az vm list-sizes --location \<string\>”</span></span>

<span data-ttu-id="3237c-127">Hardver fürtökön toomultiple frissítési tartományok és a tartalék tartományok oszlik meg.</span><span class="sxs-lookup"><span data-stu-id="3237c-127">Each hardware cluster is divided in toomultiple update domains and fault domains.</span></span> <span data-ttu-id="3237c-128">Ezekből a tartományokból egy közös frissítési ciklusa, vagy a megosztás hasonló fizikai infrastruktúra, például az energia és a hálózati fájlmegosztás mely állomások vannak definiálva.</span><span class="sxs-lookup"><span data-stu-id="3237c-128">These domains are defined by what hosts share a common update cycle, or share similar physical infrastructure such as power and networking.</span></span> <span data-ttu-id="3237c-129">Azure automatikusan osztja el a virtuális gépek rendelkezésre állási készlet tartományok toomaintain rendelkezésre állás és a hibatűrés belül.</span><span class="sxs-lookup"><span data-stu-id="3237c-129">Azure automatically distributes your VMs within an availability set across domains toomaintain availability and fault tolerance.</span></span> <span data-ttu-id="3237c-130">Attól függően, hogy az alkalmazás- és hello belül egy rendelkezésre állási csoportot a virtuális gépek számát hello méretét, hello szám módosíthatja a tartományok toouse kívánja.</span><span class="sxs-lookup"><span data-stu-id="3237c-130">Depending on hello size of your application and hello number of VMs within an availability set, you can adjust hello number of domains you wish toouse.</span></span> <span data-ttu-id="3237c-131">További tudnivalók [kezelése a rendelkezésre állás és a frissítés és a tartalék tartományok használatát](manage-availability.md).</span><span class="sxs-lookup"><span data-stu-id="3237c-131">You can read more about [managing availability and use of update and fault domains](manage-availability.md).</span></span>

<span data-ttu-id="3237c-132">Az alkalmazás-infrastruktúra megtervezéséhez tervezze meg az hello alkalmazás rétegek toouse.</span><span class="sxs-lookup"><span data-stu-id="3237c-132">When designing your application infrastructure, plan out hello application tiers toouse.</span></span> <span data-ttu-id="3237c-133">Hello átadott csoport virtuális gépek azonos cél tooavailability készletben, például a rendelkezésre állási készlet a nginx vagy Apache futó előtér virtuális gépeket.</span><span class="sxs-lookup"><span data-stu-id="3237c-133">Group VMs that serve hello same purpose in tooavailability sets, such as an availability set for your front-end VMs running nginx or Apache.</span></span> <span data-ttu-id="3237c-134">Hozzon létre egy külön rendelkezésre állási csoportban, a MongoDB vagy MySQL rendszerű háttér-virtuális géphez.</span><span class="sxs-lookup"><span data-stu-id="3237c-134">Create a separate availability set for your back-end VMs running MongoDB or MySQL.</span></span> <span data-ttu-id="3237c-135">hello célja tooensure, hogy az alkalmazás minden összetevő rendelkezésre állási csoport által védett, és legalább egyszer példány mindig továbbra is futni fog.</span><span class="sxs-lookup"><span data-stu-id="3237c-135">hello goal is tooensure that each component of your application is protected by an availability set and at least once instance always remains running.</span></span>

<span data-ttu-id="3237c-136">Terheléselosztók állítható be a rendelkezésre állási csoportok mellett minden egyes alkalmazás réteg toowork elé, és győződjön meg arról, forgalom mindig-példányt futtató irányított tooa lehet.</span><span class="sxs-lookup"><span data-stu-id="3237c-136">Load balancers can be utilized in front of each application tier toowork alongside an availability set and ensure traffic can always be routed tooa running instance.</span></span> <span data-ttu-id="3237c-137">A terheléselosztó nélkül a virtuális gépek továbbra is fut a tervezett és nem tervezett karbantartási események teljes, de a végfelhasználó nem tudja tooresolve őket, ha hello elsődleges virtuális gép nem érhető el.</span><span class="sxs-lookup"><span data-stu-id="3237c-137">Without a load balancer, your VMs may continue running throughout planned and unplanned maintenance events, but your end user may not be able tooresolve them if hello primary VM is unavailable.</span></span>

<span data-ttu-id="3237c-138">Tervezze meg az alkalmazás a magas rendelkezésre állású tárolási rétegben.</span><span class="sxs-lookup"><span data-stu-id="3237c-138">Design your application for high availability at storage layer.</span></span> <span data-ttu-id="3237c-139">hello ajánlott túl[kezelt lemezek használata virtuális gépek rendelkezésre állási csoport](manage-availability.md#use-managed-disks-for-vms-in-an-availability-set).</span><span class="sxs-lookup"><span data-stu-id="3237c-139">hello best practice is too[use Managed Disks for VMs in an Availability Set](manage-availability.md#use-managed-disks-for-vms-in-an-availability-set).</span></span> <span data-ttu-id="3237c-140">Ha a nem felügyelt lemezek jelenleg használ, erősen ajánlott, túl[alakítsa át a virtuális gépek rendelkezésre állási csoport toouse kezelt lemezeken](convert-unmanaged-to-managed-disks.md#convert-vms-in-an-availability-set).</span><span class="sxs-lookup"><span data-stu-id="3237c-140">If you are currently using unmanaged disks, we highly recommend you too[convert VMs in Availability Set toouse Managed Disks](convert-unmanaged-to-managed-disks.md#convert-vms-in-an-availability-set).</span></span>

## <a name="next-steps"></a><span data-ttu-id="3237c-141">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="3237c-141">Next steps</span></span>
[!INCLUDE [virtual-machines-linux-infrastructure-guidelines-next-steps](../../../includes/virtual-machines-linux-infrastructure-guidelines-next-steps.md)]

