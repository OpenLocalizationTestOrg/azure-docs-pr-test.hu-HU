---
title: "egy Azure virtuális gép hibakeresési SSH aaaDetailed |} Microsoft Docs"
description: "Részletesebb hibaelhárítási problémák csatlakozás tooan Azure virtuális gép SSH"
keywords: "ssh kapcsolat visszautasította, ssh hiba és az azure-ssh, SSH-kapcsolat sikertelen"
services: virtual-machines-linux
documentationcenter: 
author: iainfoulds
manager: timlt
editor: 
tags: top-support-issue,azure-service-management,azure-resource-manager
ms.assetid: b8e8be5f-e8a6-489d-9922-9df8de32e839
ms.service: virtual-machines-linux
ms.workload: infrastructure-services
ms.tgt_pltfrm: vm-linux
ms.devlang: na
ms.topic: support-article
ms.date: 07/06/2017
ms.author: iainfou
ms.openlocfilehash: 3f711e53a8251f8c06dbb589a258222566a4ae1e
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="detailed-ssh-troubleshooting-steps-for-issues-connecting-tooa-linux-vm-in-azure"></a><span data-ttu-id="8d63a-104">Részletes SSH hibaelhárítási problémák csatlakozás tooa Linux virtuális gép az Azure-ban</span><span class="sxs-lookup"><span data-stu-id="8d63a-104">Detailed SSH troubleshooting steps for issues connecting tooa Linux VM in Azure</span></span>
<span data-ttu-id="8d63a-105">Számos oka lehet, hogy hello SSH-ügyfél nem feltétlenül tudja tooreach hello SSH szolgáltatást a virtuális gép hello van.</span><span class="sxs-lookup"><span data-stu-id="8d63a-105">There are many possible reasons that hello SSH client might not be able tooreach hello SSH service on hello VM.</span></span> <span data-ttu-id="8d63a-106">Ha követte keresztül hello több [hibaelhárítási lépések általános SSH](troubleshoot-ssh-connection.md), toofurther kell hello csatlakozási probléma elhárításához.</span><span class="sxs-lookup"><span data-stu-id="8d63a-106">If you have followed through hello more [general SSH troubleshooting steps](troubleshoot-ssh-connection.md), you need toofurther troubleshoot hello connection issue.</span></span> <span data-ttu-id="8d63a-107">Ez a cikk végigvezeti részletes hibaelhárítási lépéseket toodetermine adott hello SSH-kapcsolat nem működik, és hogyan tooresolve azt.</span><span class="sxs-lookup"><span data-stu-id="8d63a-107">This article guides you through detailed troubleshooting steps toodetermine where hello SSH connection is failing and how tooresolve it.</span></span>

## <a name="take-preliminary-steps"></a><span data-ttu-id="8d63a-108">Előzetes lépések</span><span class="sxs-lookup"><span data-stu-id="8d63a-108">Take preliminary steps</span></span>
<span data-ttu-id="8d63a-109">hello alábbi ábrán látható hello összetevők, amelyek szerepet játszanak.</span><span class="sxs-lookup"><span data-stu-id="8d63a-109">hello following diagram shows hello components that are involved.</span></span>

![SSH-szolgáltatás összetevője bemutató diagram, amelyek](./media/detailed-troubleshoot-ssh-connection/ssh-tshoot1.png)

<span data-ttu-id="8d63a-111">hello következő lépések segítenek elkülöníteni hello forrás hello hiba, és hogy megoldások, illetve a lehetséges megoldások.</span><span class="sxs-lookup"><span data-stu-id="8d63a-111">hello following steps help you isolate hello source of hello failure and figure out solutions or workarounds.</span></span>

1. <span data-ttu-id="8d63a-112">Virtuális gép hello hello portálon hello állapotának ellenőrzéséhez.</span><span class="sxs-lookup"><span data-stu-id="8d63a-112">Check hello status of hello VM in hello portal.</span></span>
   <span data-ttu-id="8d63a-113">A hello [Azure-portálon](https://portal.azure.com), jelölje be **virtuális gépek** > *nevet a virtuális gép*.</span><span class="sxs-lookup"><span data-stu-id="8d63a-113">In hello [Azure portal](https://portal.azure.com), select **Virtual machines** > *VM name*.</span></span>

   <span data-ttu-id="8d63a-114">hello hello VM állapotának ablaktáblában megjelennek az **futtató**.</span><span class="sxs-lookup"><span data-stu-id="8d63a-114">hello status pane for hello VM should show **Running**.</span></span> <span data-ttu-id="8d63a-115">Görgessen lefelé tooshow közelmúltbeli tevékenységeit, a számítási, tárolási és hálózati erőforrásokat.</span><span class="sxs-lookup"><span data-stu-id="8d63a-115">Scroll down tooshow recent activity for compute, storage, and network resources.</span></span>

2. <span data-ttu-id="8d63a-116">Válassza ki **beállítások** tooexamine végpontok, IP-címek, hálózati biztonsági csoportok és egyéb beállításokat.</span><span class="sxs-lookup"><span data-stu-id="8d63a-116">Select **Settings** tooexamine endpoints, IP addresses, network security groups, and other settings.</span></span>

   <span data-ttu-id="8d63a-117">hello VM rendelkeznie kell egy SSH-forgalomhoz, megtekintheti a definiált végpontot **végpontok** vagy  **[hálózati biztonsági csoport](../../virtual-network/virtual-networks-nsg.md)**.</span><span class="sxs-lookup"><span data-stu-id="8d63a-117">hello VM should have an endpoint defined for SSH traffic that you can view in **Endpoints** or **[Network security group](../../virtual-network/virtual-networks-nsg.md)**.</span></span> <span data-ttu-id="8d63a-118">Az erőforrás-kezelő használatával létrehozott virtuális gépeken végpontok hálózati biztonsági csoport vannak tárolva.</span><span class="sxs-lookup"><span data-stu-id="8d63a-118">Endpoints in VMs that were created by using Resource Manager are stored in a network security group.</span></span> <span data-ttu-id="8d63a-119">Azt is ellenőrizze, hogy hello szabályok alkalmazott toohello hálózati biztonsági csoport és, hogy azok által hivatkozott hello alhálózaton.</span><span class="sxs-lookup"><span data-stu-id="8d63a-119">Also, verify that hello rules have been applied toohello network security group and that they're referenced in hello subnet.</span></span>

<span data-ttu-id="8d63a-120">tooverify hálózati kapcsolatot, konfigurált hello végpontok ellenőrzést, és ellenőrizze, ha hello virtuális gép egy másik protokoll, például http- vagy egy másik szolgáltatás keresztül érhető el.</span><span class="sxs-lookup"><span data-stu-id="8d63a-120">tooverify network connectivity, check hello configured endpoints and see if you can reach hello VM through another protocol, such as HTTP or another service.</span></span>

<span data-ttu-id="8d63a-121">Ezeket a lépéseket alatti próbálja újra a hello SSH kapcsolat.</span><span class="sxs-lookup"><span data-stu-id="8d63a-121">After these steps, try hello SSH connection again.</span></span>

## <a name="find-hello-source-of-hello-issue"></a><span data-ttu-id="8d63a-122">Hello probléma forrása hello keresése</span><span class="sxs-lookup"><span data-stu-id="8d63a-122">Find hello source of hello issue</span></span>
<span data-ttu-id="8d63a-123">hello SSH-ügyfél a számítógépen tooreach hello SSH szolgáltatást az Azure virtuális gép hello tooissues vagy hibás konfigurációi által a következő területek hello miatt meghiúsulhat:</span><span class="sxs-lookup"><span data-stu-id="8d63a-123">hello SSH client on your computer might fail tooreach hello SSH service on hello Azure VM due tooissues or misconfigurations in hello following areas:</span></span>

* [<span data-ttu-id="8d63a-124">SSH-ügyfélszámítógép</span><span class="sxs-lookup"><span data-stu-id="8d63a-124">SSH client computer</span></span>](#source-1-ssh-client-computer)
* [<span data-ttu-id="8d63a-125">Szervezet a peremhálózati eszköz</span><span class="sxs-lookup"><span data-stu-id="8d63a-125">Organization edge device</span></span>](#source-2-organization-edge-device)
* [<span data-ttu-id="8d63a-126">A felhőalapú szolgáltatás végpontjának és hozzáférés-vezérlési lista (ACL)</span><span class="sxs-lookup"><span data-stu-id="8d63a-126">Cloud service endpoint and access control list (ACL)</span></span>](#source-3-cloud-service-endpoint-and-acl)
* [<span data-ttu-id="8d63a-127">Hálózati biztonsági csoportok</span><span class="sxs-lookup"><span data-stu-id="8d63a-127">Network security groups</span></span>](#source-4-network-security-groups)
* [<span data-ttu-id="8d63a-128">Linux-alapú Azure virtuális gép</span><span class="sxs-lookup"><span data-stu-id="8d63a-128">Linux-based Azure VM</span></span>](#source-5-linux-based-azure-virtual-machine)

## <a name="source-1-ssh-client-computer"></a><span data-ttu-id="8d63a-129">1. forrás: SSH ügyfélszámítógép</span><span class="sxs-lookup"><span data-stu-id="8d63a-129">Source 1: SSH client computer</span></span>
<span data-ttu-id="8d63a-130">tooeliminate a számítógép hello forrásaként hello hiba, ellenőrizze, hogy segítségükkel SSH kapcsolatok tooanother helyszíni, Linux-alapú számítógép.</span><span class="sxs-lookup"><span data-stu-id="8d63a-130">tooeliminate your computer as hello source of hello failure, verify that it can make SSH connections tooanother on-premises, Linux-based computer.</span></span>

![Diagram, amely kiemeli az SSH-ügyfél számítógép összetevői](./media/detailed-troubleshoot-ssh-connection/ssh-tshoot2.png)

<span data-ttu-id="8d63a-132">Ha hello létesített kapcsolat megszakad, ellenőrizze, hogy hello problémákat a számítógépen a következő:</span><span class="sxs-lookup"><span data-stu-id="8d63a-132">If hello connection fails, check for hello following issues on your computer:</span></span>

* <span data-ttu-id="8d63a-133">A beállítás, amely helyi tűzfal blokkolja a bejövő vagy kimenő SSH forgalom (22-es TCP)</span><span class="sxs-lookup"><span data-stu-id="8d63a-133">A local firewall setting that is blocking inbound or outbound SSH traffic (TCP 22)</span></span>
* <span data-ttu-id="8d63a-134">Helyileg telepített proxy ügyfélszoftvert, amely megakadályozza az SSH-kapcsolatokhoz</span><span class="sxs-lookup"><span data-stu-id="8d63a-134">Locally installed client proxy software that is preventing SSH connections</span></span>
* <span data-ttu-id="8d63a-135">Helyileg telepített hálózatfigyelési szoftver, amely megakadályozza az SSH-kapcsolatokhoz</span><span class="sxs-lookup"><span data-stu-id="8d63a-135">Locally installed network monitoring software that is preventing SSH connections</span></span>
* <span data-ttu-id="8d63a-136">Más típusú biztonsági szoftverek felügyeljék a forgalmat, vagy az adott típusú forgalom engedélyezése vagy letiltása</span><span class="sxs-lookup"><span data-stu-id="8d63a-136">Other types of security software that either monitor traffic or allow/disallow specific types of traffic</span></span>

<span data-ttu-id="8d63a-137">Ha ezek a feltételek vonatkoznak, ideiglenesen tiltsa le a hello szoftver, és próbálkozzon egy SSH kapcsolat tooan a helyi számítógép toofind kimenő hello OK hello kapcsolat megjelenítését blokkolják a számítógépen.</span><span class="sxs-lookup"><span data-stu-id="8d63a-137">If one of these conditions apply, temporarily disable hello software and try an SSH connection tooan on-premises computer toofind out hello reason hello connection is being blocked on your computer.</span></span> <span data-ttu-id="8d63a-138">A hálózati rendszergazda toocorrect hello szoftverfrissítési beállítások tooallow SSH-kapcsolatok majd működik.</span><span class="sxs-lookup"><span data-stu-id="8d63a-138">Then work with your network administrator toocorrect hello software settings tooallow SSH connections.</span></span>

<span data-ttu-id="8d63a-139">Ha a tanúsítvány alapú hitelesítést használ, ellenőrizze, hogy rendelkezik-e ezen engedélyek toohello .ssh mappa a kezdőkönyvtárban:</span><span class="sxs-lookup"><span data-stu-id="8d63a-139">If you are using certificate authentication, verify that you have these permissions toohello .ssh folder in your home directory:</span></span>

* <span data-ttu-id="8d63a-140">Chmod 700 ~/.ssh</span><span class="sxs-lookup"><span data-stu-id="8d63a-140">Chmod 700 ~/.ssh</span></span>
* <span data-ttu-id="8d63a-141">Chmod 644 ~/.ssh/\*.pub</span><span class="sxs-lookup"><span data-stu-id="8d63a-141">Chmod 644 ~/.ssh/\*.pub</span></span>
* <span data-ttu-id="8d63a-142">Chmod 600 ~/.ssh/id_rsa (vagy bármely más fájlokat a rajtuk tárolt titkos kulcsok)</span><span class="sxs-lookup"><span data-stu-id="8d63a-142">Chmod 600 ~/.ssh/id_rsa (or any other files that have your private keys stored in them)</span></span>
* <span data-ttu-id="8d63a-143">Chmod 644 ~/.ssh/known_hosts (tartalmazza a gazdagépet, hogy csatlakozott-e toovia SSH)</span><span class="sxs-lookup"><span data-stu-id="8d63a-143">Chmod 644 ~/.ssh/known_hosts (contains hosts that you’ve connected toovia SSH)</span></span>

## <a name="source-2-organization-edge-device"></a><span data-ttu-id="8d63a-144">2. forrás: Szervezet peremhálózati eszköz</span><span class="sxs-lookup"><span data-stu-id="8d63a-144">Source 2: Organization edge device</span></span>
<span data-ttu-id="8d63a-145">tooeliminate a szervezet peremhálózati eszköz hello forrásaként hello hiba, ellenőrizze, hogy olyan számítógépre, amely közvetlenül csatlakoztatott van toohello Internet tehet SSH-kapcsolatok tooyour Azure virtuális Gépen.</span><span class="sxs-lookup"><span data-stu-id="8d63a-145">tooeliminate your organization edge device as hello source of hello failure, verify that a computer that's directly connected toohello Internet can make SSH connections tooyour Azure VM.</span></span> <span data-ttu-id="8d63a-146">Ha a telephelyek közötti VPN-vagy Azure ExpressRoute kapcsolat hello VM érnek el, hagyja ki túl[forrás 4: a hálózati biztonsági csoportok](#nsg).</span><span class="sxs-lookup"><span data-stu-id="8d63a-146">If you are accessing hello VM over a site-to-site VPN or an Azure ExpressRoute connection, skip too[Source 4: Network security groups](#nsg).</span></span>

![Diagram, amely kiemeli a szervezet a peremhálózati eszköz](./media/detailed-troubleshoot-ssh-connection/ssh-tshoot3.png)

<span data-ttu-id="8d63a-148">Ha olyan számítógépre, amely közvetlenül csatlakoztatott toohello Internet nem rendelkezik, saját erőforrás vagy felhőhatókört szolgáltatásban hozzon létre egy új Azure virtuális gép, és használja azt.</span><span class="sxs-lookup"><span data-stu-id="8d63a-148">If you don't have a computer that is directly connected toohello Internet, create a new Azure VM in its own resource group or cloud service and use it.</span></span> <span data-ttu-id="8d63a-149">További információkért lásd: [Azure-ban futó Linux virtuális gép létrehozása](quick-create-cli.md).</span><span class="sxs-lookup"><span data-stu-id="8d63a-149">For more information, see [Create a virtual machine running Linux in Azure](quick-create-cli.md).</span></span> <span data-ttu-id="8d63a-150">Amikor elkészült, a tesztet, törölje a hello erőforrás csoport vagy a virtuális gép és a felhőalapú szolgáltatást.</span><span class="sxs-lookup"><span data-stu-id="8d63a-150">Delete hello resource group or VM and cloud service when you're done with your testing.</span></span>

<span data-ttu-id="8d63a-151">Ha az SSH-kapcsolat létrehozhat egy olyan számítógéppel, közvetlenül csatlakoztatott toohello Internet van, ellenőrizze a szervezet peremhálózati eszközön:</span><span class="sxs-lookup"><span data-stu-id="8d63a-151">If you can create an SSH connection with a computer that's directly connected toohello Internet, check your organization edge device for:</span></span>

* <span data-ttu-id="8d63a-152">Az SSH-forgalmat az hello Internet megakadályozó belső tűzfal</span><span class="sxs-lookup"><span data-stu-id="8d63a-152">An internal firewall that's blocking SSH traffic with hello Internet</span></span>
* <span data-ttu-id="8d63a-153">Egy proxykiszolgálóra, amely megakadályozza az SSH-kapcsolatokhoz</span><span class="sxs-lookup"><span data-stu-id="8d63a-153">A proxy server that's preventing SSH connections</span></span>
* <span data-ttu-id="8d63a-154">Behatolásérzékelési vagy hálózatfigyelési a peremhálózati hálózat, amely megakadályozza az SSH-kapcsolatok eszközökön futó szoftverek</span><span class="sxs-lookup"><span data-stu-id="8d63a-154">Intrusion detection or network monitoring software running on devices in your edge network that's preventing SSH connections</span></span>

<span data-ttu-id="8d63a-155">A hálózati rendszergazda toocorrect hello beállításokat a szervezet biztonsági eszközök tooallow SSH forgalom hello Internet dolgozni.</span><span class="sxs-lookup"><span data-stu-id="8d63a-155">Work with your network administrator toocorrect hello settings of your organization edge devices tooallow SSH traffic with hello Internet.</span></span>

## <a name="source-3-cloud-service-endpoint-and-acl"></a><span data-ttu-id="8d63a-156">3. forrás: Felhő szolgáltatásvégpont és hozzáférés-vezérlési lista</span><span class="sxs-lookup"><span data-stu-id="8d63a-156">Source 3: Cloud service endpoint and ACL</span></span>
> [!NOTE]
> <span data-ttu-id="8d63a-157">Ebből a forrásból csak hello klasszikus telepítési modell segítségével létrehozott tooVMs vonatkozik.</span><span class="sxs-lookup"><span data-stu-id="8d63a-157">This source applies only tooVMs that were created by using hello classic deployment model.</span></span> <span data-ttu-id="8d63a-158">Virtuális gépek erőforrás-kezelő használatával létrehozott, hagyja ki túl[forrás-4: a hálózati biztonsági csoportok](#nsg).</span><span class="sxs-lookup"><span data-stu-id="8d63a-158">For VMs that were created by using Resource Manager, skip too[source 4: Network security groups](#nsg).</span></span>

<span data-ttu-id="8d63a-159">tooeliminate hello felhőalapú szolgáltatás végpontjának és hozzáférés-vezérlési lista hello forrásaként hello hiba, ellenőrizze, hogy az Azure virtuális gép egy másik hello azonos virtuális hálózati SSH-kapcsolatok tooyour VM tehet.</span><span class="sxs-lookup"><span data-stu-id="8d63a-159">tooeliminate hello cloud service endpoint and ACL as hello source of hello failure, verify that another Azure VM in hello same virtual network can make SSH connections tooyour VM.</span></span>

![Diagram, amely kiemeli a felhőalapú szolgáltatás végpontjának és hozzáférés-vezérlési lista](./media/detailed-troubleshoot-ssh-connection/ssh-tshoot4.png)

<span data-ttu-id="8d63a-161">Ha egy másik virtuális gép nem rendelkezik a hello azonos virtuális hálózatban, egyszerűen létrehozhat egyet.</span><span class="sxs-lookup"><span data-stu-id="8d63a-161">If you don't have another VM in hello same virtual network, you can easily create one.</span></span> <span data-ttu-id="8d63a-162">További információkért lásd: [Linux virtuális gép létrehozása az Azure-ban a parancssori felület hello](quick-create-cli.md).</span><span class="sxs-lookup"><span data-stu-id="8d63a-162">For more information, see [Create a Linux VM on Azure using hello CLI](quick-create-cli.md).</span></span> <span data-ttu-id="8d63a-163">Törlés hello extra virtuális gép, ha a tesztelés befejezése.</span><span class="sxs-lookup"><span data-stu-id="8d63a-163">Delete hello extra VM when you are done with your testing.</span></span>

<span data-ttu-id="8d63a-164">Ha az SSH-kapcsolat hozhatja létre a virtuális gép hello azonos virtuális hálózat, ellenőrizze a következő területeken hello:</span><span class="sxs-lookup"><span data-stu-id="8d63a-164">If you can create an SSH connection with a VM in hello same virtual network, check hello following areas:</span></span>

* <span data-ttu-id="8d63a-165">**hello végpont-konfiguráció a hello cél virtuális gép SSH-forgalmat.**</span><span class="sxs-lookup"><span data-stu-id="8d63a-165">**hello endpoint configuration for SSH traffic on hello target VM.**</span></span> <span data-ttu-id="8d63a-166">hello titkos TCP-port hello végpont melyik hello SSH hello VM szolgáltatást figyel hello TCP-portot meg kell felelnie.</span><span class="sxs-lookup"><span data-stu-id="8d63a-166">hello private TCP port of hello endpoint should match hello TCP port on which hello SSH service on hello VM is listening.</span></span> <span data-ttu-id="8d63a-167">(hello alapértelmezett port: 22-es).</span><span class="sxs-lookup"><span data-stu-id="8d63a-167">(hello default port is 22).</span></span> <span data-ttu-id="8d63a-168">Hello SSH TCP-port számát a hello Azure portálon ellenőrizze a kiválasztásával **virtuális gépek** > *nevet a virtuális gép* > **beállítások**  >  **Végpontok**.</span><span class="sxs-lookup"><span data-stu-id="8d63a-168">Verify hello SSH TCP port number in hello Azure portal by selecting **Virtual machines** > *VM name* > **Settings** > **Endpoints**.</span></span>
* <span data-ttu-id="8d63a-169">**hello ACL hello SSH forgalom végpont hello cél virtuális gépen.**</span><span class="sxs-lookup"><span data-stu-id="8d63a-169">**hello ACL for hello SSH traffic endpoint on hello target virtual machine.**</span></span> <span data-ttu-id="8d63a-170">Hozzáférés-vezérlési Listában lehetővé teszi toospecify engedélyezett vagy megtagadott a bejövő forgalom a hello Internet, a forrás IP-címe alapján.</span><span class="sxs-lookup"><span data-stu-id="8d63a-170">An ACL enables you toospecify allowed or denied incoming traffic from hello Internet, based on its source IP address.</span></span> <span data-ttu-id="8d63a-171">Helytelenül konfigurált hozzáférés-vezérlési listák előfordulhat, hogy a bejövő SSH forgalom toohello végpont.</span><span class="sxs-lookup"><span data-stu-id="8d63a-171">Misconfigured ACLs can prevent incoming SSH traffic toohello endpoint.</span></span> <span data-ttu-id="8d63a-172">Ellenőrizze a hozzáférés-vezérlési listák tooensure hello nyilvános IP-címek a proxy vagy más biztonsági kiszolgálóra érkező bejövő forgalmat engedélyezett.</span><span class="sxs-lookup"><span data-stu-id="8d63a-172">Check your ACLs tooensure that incoming traffic from hello public IP addresses of your proxy or other edge server is allowed.</span></span> <span data-ttu-id="8d63a-173">További információkért lásd: [hálózati hozzáférés-vezérlési listák (ACL)](../../virtual-network/virtual-networks-acl.md).</span><span class="sxs-lookup"><span data-stu-id="8d63a-173">For more information, see [About network access control lists (ACLs)](../../virtual-network/virtual-networks-acl.md).</span></span>

<span data-ttu-id="8d63a-174">tooeliminate hello végpont hello probléma forrásaként hello aktuális végpont távolítsa el, egy másik végpont létrehozásához, és adja meg hello SSH nevét (TCP-portját 22 hello nyilvános és magánhálózati port számát).</span><span class="sxs-lookup"><span data-stu-id="8d63a-174">tooeliminate hello endpoint as a source of hello problem, remove hello current endpoint, create another endpoint, and specify hello SSH name (TCP port 22 for hello public and private port number).</span></span> <span data-ttu-id="8d63a-175">További információkért lásd: [beállítása az Azure virtuális gép végpontja](../windows/classic/setup-endpoints.md?toc=%2fazure%2fvirtual-machines%2fwindows%2fclassic%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="8d63a-175">For more information, see [Set up endpoints on a virtual machine in Azure](../windows/classic/setup-endpoints.md?toc=%2fazure%2fvirtual-machines%2fwindows%2fclassic%2ftoc.json).</span></span>

<a id="nsg"></a>

## <a name="source-4-network-security-groups"></a><span data-ttu-id="8d63a-176">4. forrás: Hálózati biztonsági csoportok</span><span class="sxs-lookup"><span data-stu-id="8d63a-176">Source 4: Network security groups</span></span>
<span data-ttu-id="8d63a-177">Hálózati biztonsági csoportok lehetővé teszik a toohave részletesebben vezérelhető, engedélyezett bejövő és kimenő forgalom.</span><span class="sxs-lookup"><span data-stu-id="8d63a-177">Network security groups enable you toohave more granular control of allowed inbound and outbound traffic.</span></span> <span data-ttu-id="8d63a-178">Létrehozhat szabályokat, amelyek span alhálózatok és a felhőalapú szolgáltatások egy Azure virtuális hálózatra.</span><span class="sxs-lookup"><span data-stu-id="8d63a-178">You can create rules that span subnets and cloud services in an Azure virtual network.</span></span> <span data-ttu-id="8d63a-179">Ellenőrizze a hálózati biztonsági csoport szabályok tooensure hello Internet engedélyezett az adott SSH forgalom tooand.</span><span class="sxs-lookup"><span data-stu-id="8d63a-179">Check your network security group rules tooensure that SSH traffic tooand from hello Internet is allowed.</span></span>
<span data-ttu-id="8d63a-180">További információkért lásd: [hálózati biztonsági csoportok](../../virtual-network/virtual-networks-nsg.md).</span><span class="sxs-lookup"><span data-stu-id="8d63a-180">For more information, see [About network security groups](../../virtual-network/virtual-networks-nsg.md).</span></span>

<span data-ttu-id="8d63a-181">IP-ellenőrzése toovalidate hello NSG-konfigurációt is használhatja.</span><span class="sxs-lookup"><span data-stu-id="8d63a-181">You can also use IP Verify toovalidate hello NSG configuration.</span></span> <span data-ttu-id="8d63a-182">További információkért lásd: [áttekintése Azure hálózatfigyelési](https://docs.microsoft.com/en-us/azure/network-watcher/network-watcher-monitoring-overview).</span><span class="sxs-lookup"><span data-stu-id="8d63a-182">For more information, see [Azure network monitoring overview](https://docs.microsoft.com/en-us/azure/network-watcher/network-watcher-monitoring-overview).</span></span> 

## <a name="source-5-linux-based-azure-virtual-machine"></a><span data-ttu-id="8d63a-183">5. forrás: Az Azure virtuális Linux-alapú számítógép</span><span class="sxs-lookup"><span data-stu-id="8d63a-183">Source 5: Linux-based Azure virtual machine</span></span>
<span data-ttu-id="8d63a-184">hello utolsó lehetséges problémák forrása hello Azure virtuális gép saját magát.</span><span class="sxs-lookup"><span data-stu-id="8d63a-184">hello last source of possible problems is hello Azure virtual machine itself.</span></span>

![Diagram, amely kiemeli a Linux-alapú Azure virtuális gépek](./media/detailed-troubleshoot-ssh-connection/ssh-tshoot5.png)

<span data-ttu-id="8d63a-186">Ha még nem tette meg, lépésekkel hello [tooreset jelszó vagy SSH a Linux-alapú virtuális gépek](classic/reset-access.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="8d63a-186">If you haven't done so already, follow hello instructions [tooreset a password or SSH for Linux-based virtual machines](classic/reset-access.md?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json).</span></span>

<span data-ttu-id="8d63a-187">Próbáljon újra kapcsolódni a számítógépről.</span><span class="sxs-lookup"><span data-stu-id="8d63a-187">Try connecting from your computer again.</span></span> <span data-ttu-id="8d63a-188">Ha továbbra is sikertelen, hello közé tartoznak a következők hello lehetséges problémák:</span><span class="sxs-lookup"><span data-stu-id="8d63a-188">If it still fails, hello following are some of hello possible issues:</span></span>

* <span data-ttu-id="8d63a-189">hello SSH szolgáltatás nem fut a hello cél virtuális gépen.</span><span class="sxs-lookup"><span data-stu-id="8d63a-189">hello SSH service is not running on hello target virtual machine.</span></span>
* <span data-ttu-id="8d63a-190">hello SSH szolgáltatás nem figyeli a 22-es TCP-portot.</span><span class="sxs-lookup"><span data-stu-id="8d63a-190">hello SSH service is not listening on TCP port 22.</span></span> <span data-ttu-id="8d63a-191">tootest, a telnet ügyfélprogram telepítése a helyi számítógépen, és futtatása "telnet *cloudServiceName*. cloudapp.net 22".</span><span class="sxs-lookup"><span data-stu-id="8d63a-191">tootest, install a telnet client on your local computer and run "telnet *cloudServiceName*.cloudapp.net 22".</span></span> <span data-ttu-id="8d63a-192">Ez a lépés határozza meg, ha hello virtuális gép lehetővé teszi a bejövő és kimenő kommunikáció toohello SSH-végpontot.</span><span class="sxs-lookup"><span data-stu-id="8d63a-192">This step determines if hello virtual machine allows inbound and outbound communication toohello SSH endpoint.</span></span>
* <span data-ttu-id="8d63a-193">hello helyi hello cél virtuális gép tűzfalának szabályokat, amelyek akadályozzák a bejövő vagy kimenő SSH-forgalmat.</span><span class="sxs-lookup"><span data-stu-id="8d63a-193">hello local firewall on hello target virtual machine has rules that are preventing inbound or outbound SSH traffic.</span></span>
* <span data-ttu-id="8d63a-194">Behatolásérzékelési vagy hálózatfigyelési hello Azure virtuális gépen futó szoftverek megakadályozza az SSH-kapcsolatokhoz.</span><span class="sxs-lookup"><span data-stu-id="8d63a-194">Intrusion detection or network monitoring software that's running on hello Azure virtual machine is preventing SSH connections.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="8d63a-195">További források</span><span class="sxs-lookup"><span data-stu-id="8d63a-195">Additional resources</span></span>
<span data-ttu-id="8d63a-196">Alkalmazás-hozzáférés hibaelhárítással kapcsolatos további információkért lásd: [kapcsolatos problémák elhárítása access tooan alkalmazást egy Azure virtuális gépen futó](troubleshoot-app-connection.md)</span><span class="sxs-lookup"><span data-stu-id="8d63a-196">For more information about troubleshooting application access, see [Troubleshoot access tooan application running on an Azure virtual machine](troubleshoot-app-connection.md)</span></span>
