---
title: "aaaUse freebsd rendszerű csomagszűrők toocreate a tűzfal az Azure-ban |} Microsoft Docs"
description: "Megtudhatja, hogyan toodeploy NAT tűzfal használata freebsd rendszerű számítógépén PF az Azure-ban."
services: virtual-machines-linux
documentationcenter: 
author: KylieLiang
manager: timlt
editor: 
tags: azure-resource-manager
ms.assetid: 
ms.service: virtual-machines-linux
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: vm-linux
ms.workload: infrastructure-services
ms.date: 02/20/2017
ms.author: kyliel
ms.openlocfilehash: 3d3a5dde2ca03ba6fc384581c786f5eb746e6d92
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="how-toouse-freebsds-packet-filter-toocreate-a-secure-firewall-in-azure"></a><span data-ttu-id="61084-103">Hogyan toouse freebsd rendszerű csomagszűrők toocreate biztonságos tűzfal az Azure-ban</span><span class="sxs-lookup"><span data-stu-id="61084-103">How toouse FreeBSD's Packet Filter toocreate a secure firewall in Azure</span></span>
<span data-ttu-id="61084-104">Ez a cikk bemutatja hogyan toodeploy freebsd rendszerű a csomagoló szűrő Azure Resource Manager sablon segítségével használatával általános web server helyzetre NAT-tűzfalon.</span><span class="sxs-lookup"><span data-stu-id="61084-104">This article introduces how toodeploy a NAT firewall using FreeBSD’s Packer Filter through Azure Resource Manager template for common web server scenario.</span></span>

## <a name="what-is-pf"></a><span data-ttu-id="61084-105">Mi az a PF?</span><span class="sxs-lookup"><span data-stu-id="61084-105">What is PF?</span></span>
<span data-ttu-id="61084-106">PF (csomagszűrők, is írt pf) BSD licencelt csomag szűrő, egy központi szoftvertermék a firewalling.</span><span class="sxs-lookup"><span data-stu-id="61084-106">PF (Packet Filter, also written pf) is a BSD licensed stateful packet filter, a central piece of software for firewalling.</span></span> <span data-ttu-id="61084-107">PF azóta kialakulásának gyorsan, és most keresztül elérhető tűzfalak több előnye is van.</span><span class="sxs-lookup"><span data-stu-id="61084-107">PF has since evolved quickly and now has several advantages over other available firewalls.</span></span> <span data-ttu-id="61084-108">Hálózati címfordítás (NAT) PF nap egyet, majd csomagütemező óta, és aktív várólista felügyeleti lettek integrálva a PF, hello ALTQ integrálása, és így PF tartozó konfigurálással konfigurálható.</span><span class="sxs-lookup"><span data-stu-id="61084-108">Network Address Translation (NAT) is in PF since day one, then packet scheduler and active queue management have been integrated into PF, by integrating hello ALTQ and making it configurable through PF's configuration.</span></span> <span data-ttu-id="61084-109">Szolgáltatások például pfsync és a carp-ot a feladatátvételi és a redundanciát, a authpf munkamenet hitelesítési és ftp-proxy tooease firewalling hello nehéz FTP protokollt is meghosszabbította PF.</span><span class="sxs-lookup"><span data-stu-id="61084-109">Features such as pfsync and CARP for failover and redundancy, authpf for session authentication, and ftp-proxy tooease firewalling hello difficult FTP protocol, have also extended PF.</span></span> <span data-ttu-id="61084-110">PF rövid, hatékony és gazdag tűzfal.</span><span class="sxs-lookup"><span data-stu-id="61084-110">In short, PF is a powerful and feature-rich firewall.</span></span> 

## <a name="get-started"></a><span data-ttu-id="61084-111">Bevezetés</span><span class="sxs-lookup"><span data-stu-id="61084-111">Get started</span></span>
<span data-ttu-id="61084-112">Ha szeretné a biztonságos tűzfal beállítása a webkiszolgálók hello felhőben, majd lássunk neki.</span><span class="sxs-lookup"><span data-stu-id="61084-112">If you are interested in setting up a secure firewall in hello cloud for your web servers, then let’s get started.</span></span> <span data-ttu-id="61084-113">Az Azure Resource Manager sablon tooset fel a hálózati topológia használt hello parancsfájlok is alkalmazhat.</span><span class="sxs-lookup"><span data-stu-id="61084-113">You can also apply hello scripts used in this Azure Resource Manager template tooset up your networking topology.</span></span>
<span data-ttu-id="61084-114">hello Azure Resource Manager sablon állítson be egy freebsd rendszerű virtuális gépet, amely hajt végre a NAT /redirection PF és két freebsd rendszerű virtuális gépek használata a hello Nginx webkiszolgálón telepítve és konfigurálva.</span><span class="sxs-lookup"><span data-stu-id="61084-114">hello Azure Resource Manager template set up a FreeBSD virtual machine that performs NAT /redirection using PF and two FreeBSD virtual machines with hello Nginx web server installed and configured.</span></span> <span data-ttu-id="61084-115">Továbbá a hello két webkiszolgálók NAT tooperforming kilépési forgalom, hello NAT/átirányítás virtuális gép elfogja a HTTP-kérelmekre, és átirányítja őket toohello ciklikus multiplexeléssel két webkiszolgálók.</span><span class="sxs-lookup"><span data-stu-id="61084-115">In addition tooperforming NAT for hello two web servers egress traffic, hello NAT/redirection virtual machine intercepts HTTP requests and redirect them toohello two web servers in round-robin fashion.</span></span> <span data-ttu-id="61084-116">hello VNet hello titkos nem átirányítható IP cím terület 10.0.0.2/24 használ, és megváltoztathatja hello sablon hello paramétereit.</span><span class="sxs-lookup"><span data-stu-id="61084-116">hello VNet uses hello private non-routable IP address space 10.0.0.2/24 and you can modify hello parameters of hello template.</span></span> <span data-ttu-id="61084-117">hello Azure Resource Manager-sablon is meghatároz egy útvonaltábla hello teljes virtuális hálózatot, amely külön útvonalak gyűjteménye használt toooverride Azure alapértelmezett útvonalak hello cél IP-címe alapján.</span><span class="sxs-lookup"><span data-stu-id="61084-117">hello Azure Resource Manager template also defines a route table for hello whole VNet, which is a collection of individual routes used toooverride Azure default routes based on hello destination IP address.</span></span> 

![pf_topology](./media/freebsd-pf-nat/pf_topology.jpg)
    
### <a name="deploy-through-azure-cli"></a><span data-ttu-id="61084-119">Az Azure CLI segítségével végzi a telepítést</span><span class="sxs-lookup"><span data-stu-id="61084-119">Deploy through Azure CLI</span></span>
<span data-ttu-id="61084-120">Hello legújabb kell [Azure CLI 2.0](/cli/azure/install-az-cli2) telepítve, és bejelentkezett tooan Azure-fiók használatával [az bejelentkezési](/cli/azure/#login).</span><span class="sxs-lookup"><span data-stu-id="61084-120">You need hello latest [Azure CLI 2.0](/cli/azure/install-az-cli2) installed and logged in tooan Azure account using [az login](/cli/azure/#login).</span></span> <span data-ttu-id="61084-121">Hozzon létre egy erőforráscsoportot az [az group create](/cli/azure/group#create) paranccsal.</span><span class="sxs-lookup"><span data-stu-id="61084-121">Create a resource group with [az group create](/cli/azure/group#create).</span></span> <span data-ttu-id="61084-122">hello alábbi példa létrehoz egy erőforráscsoport neve `myResourceGroup` a hello `West US` helyét.</span><span class="sxs-lookup"><span data-stu-id="61084-122">hello following example creates a resource group name `myResourceGroup` in hello `West US` location.</span></span>

```azurecli
az group create --name myResourceGroup --location westus
```

<span data-ttu-id="61084-123">Ezután telepítse a hello sablon [pf-freebsd rendszerű-telepítés](https://github.com/Azure/azure-quickstart-templates/tree/master/pf-freebsd-setup) rendelkező [az csoport központi telepítésének létrehozása](/cli/azure/group/deployment#create).</span><span class="sxs-lookup"><span data-stu-id="61084-123">Next, deploy hello template [pf-freebsd-setup](https://github.com/Azure/azure-quickstart-templates/tree/master/pf-freebsd-setup) with [az group deployment create](/cli/azure/group/deployment#create).</span></span> <span data-ttu-id="61084-124">Töltse le [azuredeploy.parameters.json](https://github.com/Azure/azure-quickstart-templates/blob/master/pf-freebsd-setup/azuredeploy.parameters.json) a hello ugyanazt az útvonalat, és határozza meg, mint a saját erőforrás értékek `adminPassword`, `networkPrefix`, és `domainNamePrefix`.</span><span class="sxs-lookup"><span data-stu-id="61084-124">Download [azuredeploy.parameters.json](https://github.com/Azure/azure-quickstart-templates/blob/master/pf-freebsd-setup/azuredeploy.parameters.json) under hello same path and define your own resource values, such as `adminPassword`, `networkPrefix`, and `domainNamePrefix`.</span></span> 

```azurecli
az group deployment create --resource-group myResourceGroup --name myDeploymentName \
    --template-uri https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/pf-freebsd-setup/azuredeploy.json \
    --parameters '@azuredeploy.parameters.json' --verbose
```

<span data-ttu-id="61084-125">Öt perc múlva elérhetővé válik a üdvözlő hatásával `"provisioningState": "Succeeded"`.</span><span class="sxs-lookup"><span data-stu-id="61084-125">After about five minutes, you will get hello information of `"provisioningState": "Succeeded"`.</span></span> <span data-ttu-id="61084-126">Akkor is ssh toohello előtérbeli virtuális gép (NAT) vagy nem érhető el a böngészőt hello nyilvános IP-cím vagy FQDN-jét hello előtérbeli virtuális gép (NAT) Nginx-webkiszolgálón.</span><span class="sxs-lookup"><span data-stu-id="61084-126">Then you can ssh toohello frontend VM (NAT) or access Nginx web server in a browser using hello public IP address or FQDN of hello frontend VM (NAT).</span></span> <span data-ttu-id="61084-127">hello alábbi példa felsorolja teljes tartománynév és a nyilvános IP-cím toohello elülső rétegbeli virtuális gép (NAT) hello rendelt `myResourceGroup` erőforráscsoportot.</span><span class="sxs-lookup"><span data-stu-id="61084-127">hello following example lists FQDN and public IP address that assigned toohello frontend VM (NAT) in hello `myResourceGroup` resource group.</span></span> 

```azurecli
az network public-ip list --resource-group myResourceGroup
```
    
## <a name="next-steps"></a><span data-ttu-id="61084-128">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="61084-128">Next steps</span></span>
<span data-ttu-id="61084-129">Szeretné tooset be a saját NAT az Azure-ban?</span><span class="sxs-lookup"><span data-stu-id="61084-129">Do you want tooset up your own NAT in Azure?</span></span> <span data-ttu-id="61084-130">Nyissa meg a forrást, szabad, de hatékony?</span><span class="sxs-lookup"><span data-stu-id="61084-130">Open Source, free but powerful?</span></span> <span data-ttu-id="61084-131">PF akkor érdemes választani.</span><span class="sxs-lookup"><span data-stu-id="61084-131">Then PF is a good choice.</span></span> <span data-ttu-id="61084-132">Hello sablonnal [pf-freebsd rendszerű-telepítés](https://github.com/Azure/azure-quickstart-templates/tree/master/pf-freebsd-setup), csak a szükséges öt perc tooset fel a NAT-tűzfalon ciklikus multiplexelés használatával freebsd rendszerű tartozó terheléselosztási PF a web server forgatókönyve az Azure-ban.</span><span class="sxs-lookup"><span data-stu-id="61084-132">By using hello template [pf-freebsd-setup](https://github.com/Azure/azure-quickstart-templates/tree/master/pf-freebsd-setup), you only need five minutes tooset up a NAT firewall with round-robin load balancing using FreeBSD's PF in Azure for common web server scenario.</span></span> 

<span data-ttu-id="61084-133">Ha azt szeretné, hogy az Azure-ban freebsd rendszerű toolearn hello elérhető, tekintse meg a túl[bemutatása tooFreeBSD Azure](freebsd-intro-on-azure.md).</span><span class="sxs-lookup"><span data-stu-id="61084-133">If you want toolearn hello offering of FreeBSD in Azure, refer too[introduction tooFreeBSD on Azure](freebsd-intro-on-azure.md).</span></span>

<span data-ttu-id="61084-134">Ha azt szeretné, hogy további információk a PF tooknow, tekintse meg a túl[freebsd rendszerű kézikönyv](https://www.freebsd.org/doc/handbook/firewalls-pf.html) vagy [PF-útmutató](https://www.freebsd.org/doc/handbook/firewalls-pf.html).</span><span class="sxs-lookup"><span data-stu-id="61084-134">If you want tooknow more about PF, refer too[FreeBSD handbook](https://www.freebsd.org/doc/handbook/firewalls-pf.html) or [PF-User's Guide](https://www.freebsd.org/doc/handbook/firewalls-pf.html).</span></span>
