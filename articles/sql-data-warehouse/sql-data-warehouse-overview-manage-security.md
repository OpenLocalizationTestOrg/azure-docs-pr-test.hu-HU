---
title: "az SQL Data Warehouse adatbázis aaaSecure |} Microsoft Docs"
description: "Tippek az Azure SQL Data Warehouse adatbázis védelme adattárházzal történő, megoldások."
services: sql-data-warehouse
documentationcenter: NA
author: ronortloff
manager: jhubbard
editor: 
ms.assetid: 8fa2f5ca-4cf5-4418-99a2-4dc745799850
ms.service: sql-data-warehouse
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: data-services
ms.custom: security
ms.date: 10/31/2016
ms.author: rortloff;barbkess
ms.openlocfilehash: 5ef4d760e00be46bfe7808bc95dbe1e4b3a51165
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="secure-a-database-in-sql-data-warehouse"></a><span data-ttu-id="57b0b-103">Az SQL Data Warehouse adatbázis védelme</span><span class="sxs-lookup"><span data-stu-id="57b0b-103">Secure a database in SQL Data Warehouse</span></span>
> [!div class="op_single_selector"]
> * [<span data-ttu-id="57b0b-104">Biztonság – áttekintés</span><span class="sxs-lookup"><span data-stu-id="57b0b-104">Security Overview</span></span>](sql-data-warehouse-overview-manage-security.md)
> * [<span data-ttu-id="57b0b-105">Hitelesítés</span><span class="sxs-lookup"><span data-stu-id="57b0b-105">Authentication</span></span>](sql-data-warehouse-authentication.md)
> * [<span data-ttu-id="57b0b-106">Titkosítás (portál)</span><span class="sxs-lookup"><span data-stu-id="57b0b-106">Encryption (Portal)</span></span>](sql-data-warehouse-encryption-tde.md)
> * [<span data-ttu-id="57b0b-107">Titkosítás (T-SQL)</span><span class="sxs-lookup"><span data-stu-id="57b0b-107">Encryption (T-SQL)</span></span>](sql-data-warehouse-encryption-tde-tsql.md)
> 
> 

<span data-ttu-id="57b0b-108">Ez a cikk végigvezeti az Azure SQL Data Warehouse-adatbázis védelme hello alapjait.</span><span class="sxs-lookup"><span data-stu-id="57b0b-108">This article walks through hello basics of securing your Azure SQL Data Warehouse database.</span></span> <span data-ttu-id="57b0b-109">Különösen, ez a cikk segítséget erőforrásaival korlátozza a hozzáférést, az adatok védelme és figyelési tevékenységek egy adatbázison.</span><span class="sxs-lookup"><span data-stu-id="57b0b-109">In particular, this article will get you started with resources for limiting access, protecting data, and monitoring activities on a database.</span></span>

## <a name="connection-security"></a><span data-ttu-id="57b0b-110">Kapcsolatbiztonság</span><span class="sxs-lookup"><span data-stu-id="57b0b-110">Connection security</span></span>
<span data-ttu-id="57b0b-111">Kapcsolat biztonsági toohow korlátozza, és biztonságos tűzfalszabályok vagy a kapcsolat titkosítási használó kapcsolatok tooyour adatbázisra hivatkozik.</span><span class="sxs-lookup"><span data-stu-id="57b0b-111">Connection Security refers toohow you restrict and secure connections tooyour database using firewall rules and connection encryption.</span></span>

<span data-ttu-id="57b0b-112">Tűzfalszabályok mindkét hello kiszolgáló és a hello adatbázis tooreject próbálnak meg kapcsolódni, amely nem rendelkezik explicit módon szerepel az engedélyezési listán IP-címekről használják.</span><span class="sxs-lookup"><span data-stu-id="57b0b-112">Firewall rules are used by both hello server and hello database tooreject connection attempts from IP addresses that have not been explicitly whitelisted.</span></span> <span data-ttu-id="57b0b-113">az alkalmazás ügyfél gép nyilvános IP- címének tooallow kapcsolatokat, akkor először létre kell hoznia egy kiszolgálószintű tűzfalszabályt hello Azure portálon, a REST API-t vagy a PowerShell használatával.</span><span class="sxs-lookup"><span data-stu-id="57b0b-113">tooallow connections from your application or client machine's public IP address, you must first create a server-level firewall rule using hello Azure Portal, REST API, or PowerShell.</span></span> <span data-ttu-id="57b0b-114">Ajánlott eljárásként lehetőség szerint a tűzfalon keresztül engedélyezett hello IP-címtartományok korlátozására.</span><span class="sxs-lookup"><span data-stu-id="57b0b-114">As a best practice, you should restrict hello IP address ranges allowed through your server firewall as much as possible.</span></span>  <span data-ttu-id="57b0b-115">Azure SQL Data Warehouse tooaccess a helyi számítógépen, győződjön meg arról, a hálózati és a helyi számítógép hello tűzfala lehetővé teszi, hogy a 1433-as TCP-port kimenő kommunikációra.</span><span class="sxs-lookup"><span data-stu-id="57b0b-115">tooaccess Azure SQL Data Warehouse from your local computer, ensure hello firewall on your network and local computer allows outgoing communication on TCP port 1433.</span></span>  <span data-ttu-id="57b0b-116">További információkért lásd: [Azure SQL Database-tűzfal][Azure SQL Database firewall], [sp_set_firewall_rule][sp_set_firewall_rule], és [sp_set_database_ firewall_rule][sp_set_database_firewall_rule].</span><span class="sxs-lookup"><span data-stu-id="57b0b-116">For more information, see [Azure SQL Database firewall][Azure SQL Database firewall], [sp_set_firewall_rule][sp_set_firewall_rule], and [sp_set_database_firewall_rule][sp_set_database_firewall_rule].</span></span>

<span data-ttu-id="57b0b-117">Az SQL Data Warehouse kapcsolatok tooyour alapértelmezés szerint vannak titkosítva.</span><span class="sxs-lookup"><span data-stu-id="57b0b-117">Connections tooyour SQL Data Warehouse are encrypted by default.</span></span>  <span data-ttu-id="57b0b-118">Kapcsolati beállítások toodisable módosítani a titkosítási figyelmen kívül hagyja.</span><span class="sxs-lookup"><span data-stu-id="57b0b-118">Modifying connection settings toodisable encryption are ignored.</span></span>

## <a name="authentication"></a><span data-ttu-id="57b0b-119">Authentication</span><span class="sxs-lookup"><span data-stu-id="57b0b-119">Authentication</span></span>
<span data-ttu-id="57b0b-120">Hitelesítés, a személyazonosság toohello adatbázishoz kapcsolódáskor toohow hivatkozik.</span><span class="sxs-lookup"><span data-stu-id="57b0b-120">Authentication refers toohow you prove your identity when connecting toohello database.</span></span> <span data-ttu-id="57b0b-121">SQL Data Warehouse jelenleg támogatja az SQL Server-hitelesítés egy felhasználónév és jelszó, valamint egy Azure Active Directoryban.</span><span class="sxs-lookup"><span data-stu-id="57b0b-121">SQL Data Warehouse currently supports SQL Server Authentication with a username and password as well as a Azure Active Directory.</span></span> 

<span data-ttu-id="57b0b-122">Hello logikai kiszolgáló létrehozása után az adatbázis, a "kiszolgáló-rendszergazda" Bejelentkezés a felhasználónevet és jelszót adott meg.</span><span class="sxs-lookup"><span data-stu-id="57b0b-122">When you created hello logical server for your database, you specified a "server admin" login with a username and password.</span></span> <span data-ttu-id="57b0b-123">Ezeket a hitelesítő adatokat használva hitelesítheti tooany adatbázis hello adatbázis tulajdonosa vagy a "dbo" SQL Server-hitelesítésen keresztül a kiszolgálón.</span><span class="sxs-lookup"><span data-stu-id="57b0b-123">Using these credentials, you can authenticate tooany database on that server as hello database owner, or "dbo" through SQL Server Authentication.</span></span>

<span data-ttu-id="57b0b-124">Ajánlott eljárásként, azonban a szervezet felhasználói használjon egy másik fiókot tooauthenticate.</span><span class="sxs-lookup"><span data-stu-id="57b0b-124">However, as a best practice, your organization’s users should use a different account tooauthenticate.</span></span> <span data-ttu-id="57b0b-125">Így korlátozhatja hello jogosultságaitól toohello alkalmazás és a kártékony tevékenység hello kockázatok csökkentése, ha az alkalmazás kódjában sebezhető tooa SQL injektálási támadás.</span><span class="sxs-lookup"><span data-stu-id="57b0b-125">This way you can limit hello permissions granted toohello application and reduce hello risks of malicious activity in case your application code is vulnerable tooa SQL injection attack.</span></span> 

<span data-ttu-id="57b0b-126">egy SQL-kiszolgáló hitelesített felhasználó toocreate csatlakozás toohello **fő** adatbázis a kiszolgálón a kiszolgáló-rendszergazdai bejelentkezés, és hozzon létre egy új bejelentkezés a kiszolgálóra.</span><span class="sxs-lookup"><span data-stu-id="57b0b-126">toocreate a SQL Server Authenticated user, connect toohello **master** database on your server with your server admin login and create a new server login.</span></span>  <span data-ttu-id="57b0b-127">Emellett egy jó ötlet toocreate a felhasználó már főadatbázis hello Azure SQL Data Warehouse-felhasználók számára.</span><span class="sxs-lookup"><span data-stu-id="57b0b-127">Additionally, it is a good idea toocreate a user in hello master database for Azure SQL Data Warehouse users.</span></span> <span data-ttu-id="57b0b-128">A felhasználó létrehozása a fő lehetővé teszi, hogy egy felhasználó toologin, például az SSMS használatával adatbázis nevének megadása nélkül.</span><span class="sxs-lookup"><span data-stu-id="57b0b-128">Creating a user in master allows a user toologin using tools like SSMS without specifying a database name.</span></span>  <span data-ttu-id="57b0b-129">Lehetővé teszi őket toouse hello object explorer tooview összes adatbázist egy SQL-kiszolgálón.</span><span class="sxs-lookup"><span data-stu-id="57b0b-129">It also allows them toouse hello object explorer tooview all databases on a SQL server.</span></span>

```sql
-- Connect toomaster database and create a login
CREATE LOGIN ApplicationLogin WITH PASSWORD = 'Str0ng_password';
CREATE USER ApplicationUser FOR LOGIN ApplicationLogin;
```

<span data-ttu-id="57b0b-130">Csatlakoztassa a tooyour **SQL Data Warehouse-adatbázis** az a kiszolgáló-rendszergazdai bejelentkezés, és hozzon létre egy adatbázis-felhasználó, a most létrehozott hello server bejelentkezés alapján.</span><span class="sxs-lookup"><span data-stu-id="57b0b-130">Then, connect tooyour **SQL Data Warehouse database** with your server admin login and create a database user based on hello server login you just created.</span></span>

```sql
-- Connect tooSQL DW database and create a database user
CREATE USER ApplicationUser FOR LOGIN ApplicationLogin;
```

<span data-ttu-id="57b0b-131">A felhasználó további műveletek, például a bejelentkezések létrehozása vagy új adatbázisok létrehozásához mindaddig végre, ha azok kell hozzárendelve toobe toohello `Loginmanager` és `dbmanager` szerepkörök hello master adatbázisban.</span><span class="sxs-lookup"><span data-stu-id="57b0b-131">If a user will be doing additional operations such as creating logins or creating new databases, they will also need toobe assigned toohello `Loginmanager` and `dbmanager` roles in hello master database.</span></span> <span data-ttu-id="57b0b-132">Ezek a további szerepkörök és hitelesítő tooa SQL-adatbázis további információkért lásd: [adatbázisok és az Azure SQL Database bejelentkezések kezelése][Managing databases and logins in Azure SQL Database].</span><span class="sxs-lookup"><span data-stu-id="57b0b-132">For more information on these additonal roles and authenticating tooa SQL Database, see [Managing databases and logins in Azure SQL Database][Managing databases and logins in Azure SQL Database].</span></span>  <span data-ttu-id="57b0b-133">Az SQL Data Warehouse az Azure AD a további részletekért lásd: [csatlakozás az adatraktár által használó Azure Active Directory-hitelesítéssel tooSQL][Connecting tooSQL Data Warehouse By Using Azure Active Directory Authentication].</span><span class="sxs-lookup"><span data-stu-id="57b0b-133">For more details on Azure AD for SQL Data Warehouse, see [Connecting tooSQL Data Warehouse By Using Azure Active Directory Authentication][Connecting tooSQL Data Warehouse By Using Azure Active Directory Authentication].</span></span>

## <a name="authorization"></a><span data-ttu-id="57b0b-134">Engedélyezés</span><span class="sxs-lookup"><span data-stu-id="57b0b-134">Authorization</span></span>
<span data-ttu-id="57b0b-135">Engedélyezési toowhat hivatkozik egy Azure SQL Data Warehouse-adatbázis belül végrehajtható, és ez a felhasználói fiók szerepkörtagságok és engedélyek által szabályozott.</span><span class="sxs-lookup"><span data-stu-id="57b0b-135">Authorization refers toowhat you can do within an Azure SQL Data Warehouse database, and this is controlled by your user account's role memberships and permissions.</span></span> <span data-ttu-id="57b0b-136">Ajánlott eljárásként akkor adja meg az felhasználók hello szükséges legalacsonyabb jogosultságok.</span><span class="sxs-lookup"><span data-stu-id="57b0b-136">As a best practice, you should grant users hello least privileges necessary.</span></span> <span data-ttu-id="57b0b-137">Az SQL Data Warehouse T-SQL lehetővé teszi a könnyen toomanage szerepkörök:</span><span class="sxs-lookup"><span data-stu-id="57b0b-137">Azure SQL Data Warehouse makes this easy toomanage with roles in T-SQL:</span></span>

```sql
EXEC sp_addrolemember 'db_datareader', 'ApplicationUser'; -- allows ApplicationUser tooread data
EXEC sp_addrolemember 'db_datawriter', 'ApplicationUser'; -- allows ApplicationUser toowrite data
```

<span data-ttu-id="57b0b-138">hello server rendszergazdai fiók csatlakozik a db_owner, melynek hatóság toodo hello adatbázison belül minden tagja.</span><span class="sxs-lookup"><span data-stu-id="57b0b-138">hello server admin account you are connecting with is a member of db_owner, which has authority toodo anything within hello database.</span></span> <span data-ttu-id="57b0b-139">Tartsa meg ezt a fiókot a sémafrissítések üzembe helyezéséhez és egyéb felügyeleti műveletekhez.</span><span class="sxs-lookup"><span data-stu-id="57b0b-139">Save this account for deploying schema upgrades and other management operations.</span></span> <span data-ttu-id="57b0b-140">Az alkalmazás toohello adatbázisból hello a korlátozott engedélyekkel tooconnect hello "ApplicationUser" fiók használata az alkalmazás számára szükséges legalacsonyabb jogosultságok.</span><span class="sxs-lookup"><span data-stu-id="57b0b-140">Use hello "ApplicationUser" account with more limited permissions tooconnect from your application toohello database with hello least privileges needed by your application.</span></span>

<span data-ttu-id="57b0b-141">Számos módon toofurther korlátot, a felhasználók mit tehetnek az Azure SQL Database.</span><span class="sxs-lookup"><span data-stu-id="57b0b-141">There are ways toofurther limit what a user can do with Azure SQL Database:</span></span>

* <span data-ttu-id="57b0b-142">A részletes [engedélyek] [ Permissions] lehetővé teszik, hogy vezérlő milyen műveletek is az egyes oszlopok, táblák, nézetek, eljárások és egyéb objektumok hello adatbázisban.</span><span class="sxs-lookup"><span data-stu-id="57b0b-142">Granular [Permissions][Permissions] let you control which operations you can do on individual columns, tables, views, procedures, and other objects in hello database.</span></span> <span data-ttu-id="57b0b-143">Használjon részletes engedélyeket toohave legtöbb vezérlő hello és hello minimálisan szükséges engedélyeket adja szükséges.</span><span class="sxs-lookup"><span data-stu-id="57b0b-143">Use granular permissions toohave hello most control and grant hello minimum permissions necessary.</span></span> <span data-ttu-id="57b0b-144">hello részletes engedély rendszer némileg bonyolult, és hatékonyan esetén néhány vizsgálat toouse.</span><span class="sxs-lookup"><span data-stu-id="57b0b-144">hello granular permission system is somewhat complicated and will require some study toouse effectively.</span></span>
* <span data-ttu-id="57b0b-145">[Adatbázis-szerepkörök] [ Database roles] eltérő db_datareader és db_datawriter lehet használt toocreate nagyobb teljesítményű alkalmazás felhasználói fiókok vagy kevésbé hatékony felügyeleti fiókok.</span><span class="sxs-lookup"><span data-stu-id="57b0b-145">[Database roles][Database roles] other than db_datareader and db_datawriter can be used toocreate more powerful application user accounts or less powerful management accounts.</span></span> <span data-ttu-id="57b0b-146">hello beépített rögzített adatbázis-szerepkörök egy egyszerűen toogrant engedélyeket biztosító, de a szükségesnél több jogosultságokat eredményezhet.</span><span class="sxs-lookup"><span data-stu-id="57b0b-146">hello built-in fixed database roles provide an easy way toogrant permissions, but can result in granting more permissions than are necessary.</span></span>
* <span data-ttu-id="57b0b-147">[Tárolt eljárások] [ Stored procedures] lehetnek használt toolimit hello műveletek hello adatbázison lehet tenni.</span><span class="sxs-lookup"><span data-stu-id="57b0b-147">[Stored procedures][Stored procedures] can be used toolimit hello actions that can be taken on hello database.</span></span>

<span data-ttu-id="57b0b-148">A portál felhasználói fiók szerepkör-hozzárendelések adatbázisok és a logikai kiszolgáló kezelése a klasszikus Azure portál hello vagy hello Azure Resource Manager API használatával szabályozza.</span><span class="sxs-lookup"><span data-stu-id="57b0b-148">Managing databases and logical servers from hello Azure Classic Portal or using hello Azure Resource Manager API is controlled by your portal user account's role assignments.</span></span> <span data-ttu-id="57b0b-149">A témakörrel kapcsolatos további információkért lásd: [Azure portál szerepköralapú hozzáférés-vezérlés][Role-based access control in Azure Portal].</span><span class="sxs-lookup"><span data-stu-id="57b0b-149">For more information on this topic, see [Role-based access control in Azure Portal][Role-based access control in Azure Portal].</span></span>

## <a name="encryption"></a><span data-ttu-id="57b0b-150">Titkosítás</span><span class="sxs-lookup"><span data-stu-id="57b0b-150">Encryption</span></span>
<span data-ttu-id="57b0b-151">Az Azure SQL Data adatraktár átlátszó adatok titkosítás (TDE) abban a kártékony tevékenység hello fenyegetés valós idejű titkosítási és visszafejtési az adatok aktívan elvégzésével.</span><span class="sxs-lookup"><span data-stu-id="57b0b-151">Azure SQL Data Warehouse Transparent Data Encryption (TDE) helps protect against hello threat of malicious activity by performing real-time encryption and decryption of your data at rest.</span></span>  <span data-ttu-id="57b0b-152">Az adatbázis titkosításakor társított biztonsági másolatok és a tranzakciós naplófájlok titkosítottak anélkül, hogy a módosítások tooyour alkalmazásokat.</span><span class="sxs-lookup"><span data-stu-id="57b0b-152">When you encrypt your database, associated backups and transaction log files are encrypted without requiring any changes tooyour applications.</span></span> <span data-ttu-id="57b0b-153">TDE hello tárolása teljes adatbázis szimmetrikus kulcs hívott hello adatbázis-titkosítási kulcs használatával titkosítja.</span><span class="sxs-lookup"><span data-stu-id="57b0b-153">TDE encrypts hello storage of an entire database by using a symmetric key called hello database encryption key.</span></span> <span data-ttu-id="57b0b-154">Az SQL-adatbázis adatbázis-titkosítási kulcs hello védi egy beépített kiszolgálói tanúsítványt.</span><span class="sxs-lookup"><span data-stu-id="57b0b-154">In SQL Database hello database encryption key is protected by a built-in server certificate.</span></span> <span data-ttu-id="57b0b-155">hello beépített kiszolgálói tanúsítvány egyedi SQL-adatbázis kiszolgálónként.</span><span class="sxs-lookup"><span data-stu-id="57b0b-155">hello built-in server certificate is unique for each SQL Database server.</span></span> <span data-ttu-id="57b0b-156">Microsoft legalább 90 naponta automatikusan elforgatja ezeket a tanúsítványokat.</span><span class="sxs-lookup"><span data-stu-id="57b0b-156">Microsoft automatically rotates these certificates at least every 90 days.</span></span> <span data-ttu-id="57b0b-157">az SQL Data Warehouse használt hello titkosítási algoritmus az AES-256.</span><span class="sxs-lookup"><span data-stu-id="57b0b-157">hello encryption algorithm used by SQL Data Warehouse is AES-256.</span></span> <span data-ttu-id="57b0b-158">TDE általános ismertetését lásd: [átlátható adattitkosítási][Transparent Data Encryption].</span><span class="sxs-lookup"><span data-stu-id="57b0b-158">For a general description of TDE, see [Transparent Data Encryption][Transparent Data Encryption].</span></span>

<span data-ttu-id="57b0b-159">Az adatbázis hello segítségével titkosíthatja [Azure Portal] [ Encryption with Portal] vagy [T-SQL][Encryption with TSQL].</span><span class="sxs-lookup"><span data-stu-id="57b0b-159">You can encrypt your database using hello [Azure Portal][Encryption with Portal] or [T-SQL][Encryption with TSQL].</span></span>

## <a name="next-steps"></a><span data-ttu-id="57b0b-160">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="57b0b-160">Next steps</span></span>
<span data-ttu-id="57b0b-161">Részletek és a csatlakozó tooyour SQL Data Warehouse a különböző protokollokkal példák: [csatlakozzon az adatraktár tooSQL][Connect tooSQL Data Warehouse].</span><span class="sxs-lookup"><span data-stu-id="57b0b-161">For details and examples on connecting tooyour SQL Data Warehouse with different protocols, see [Connect tooSQL Data Warehouse][Connect tooSQL Data Warehouse].</span></span>

<!--Image references-->

<!--Article references-->
[Connect tooSQL Data Warehouse]: ./sql-data-warehouse-connect-overview.md
[Encryption with Portal]: ./sql-data-warehouse-encryption-tde.md
[Encryption with TSQL]: ./sql-data-warehouse-encryption-tde-tsql.md
[Connecting tooSQL Data Warehouse By Using Azure Active Directory Authentication]: ./sql-data-warehouse-authentication.md

<!--MSDN references-->
[Azure SQL Database firewall]: https://msdn.microsoft.com/library/ee621782.aspx
[sp_set_firewall_rule]: https://msdn.microsoft.com/library/dn270017.aspx
[sp_set_database_firewall_rule]: https://msdn.microsoft.com/library/dn270010.aspx
[Database roles]: https://msdn.microsoft.com/library/ms189121.aspx
[Managing databases and logins in Azure SQL Database]: https://msdn.microsoft.com/library/ee336235.aspx
[Permissions]: https://msdn.microsoft.com/library/ms191291.aspx
[Stored procedures]: https://msdn.microsoft.com/library/ms190782.aspx
[Transparent Data Encryption]: https://msdn.microsoft.com/library/bb934049.aspx
[Azure portal]: https://portal.azure.com/

<!--Other Web references-->
[Role-based access control in Azure Portal]: https://azure.microsoft.com/documentation/articles/role-based-access-control-configure
