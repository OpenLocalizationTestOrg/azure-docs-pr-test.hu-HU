---
title: "aaaHow Azure SQL Data Warehouse adatok működik elosztott |} Microsoft Docs"
description: "Ismerje meg, hogyan oszlik meg adatok terjesztéséhez táblák az Azure SQL Data Warehouse és Parallel Data Warehouse nagymértékben párhuzamos feldolgozási (MPP) és hello beállításait."
services: sql-data-warehouse
documentationcenter: NA
author: jrowlandjones
manager: jhubbard
editor: 
ms.assetid: bae494a6-7ac5-4c38-8ca3-ab2696c63a9f
ms.service: sql-data-warehouse
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: data-services
ms.custom: tables
ms.date: 07/12/2017
ms.author: jrj;barbkess
ms.openlocfilehash: 9a712d8d5251e4391ede245105918283aaa4b193
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="distributed-data-and-distributed-tables-for-massively-parallel-processing-mpp"></a><span data-ttu-id="196cd-103">Elosztott adatokon, és elosztott táblák esetében nagymértékben párhuzamos feldolgozási (MPP)</span><span class="sxs-lookup"><span data-stu-id="196cd-103">Distributed data and distributed tables for Massively Parallel Processing (MPP)</span></span>
<span data-ttu-id="196cd-104">Ismerje meg, hogy a felhasználói adatok hogyan oszlik Azure SQL Data Warehouse és Parallel Data Warehouse, amelyek a Microsoft nagymértékben párhuzamos feldolgozási (MPP) rendszerek.</span><span class="sxs-lookup"><span data-stu-id="196cd-104">Learn how user data is distributed in Azure SQL Data Warehouse and Parallel Data Warehouse, which are Microsoft's Massively Parallel Processing (MPP) systems.</span></span> <span data-ttu-id="196cd-105">A data warehouse toouse tervezése elosztott adatokon hatékonyan segít, tooachieve hello lekérdezésfeldolgozó hello az MPP architektúra előnyeit.</span><span class="sxs-lookup"><span data-stu-id="196cd-105">Designing your data warehouse toouse distributed data effectively helps you tooachieve hello query processing benefits of hello MPP architecture.</span></span> <span data-ttu-id="196cd-106">Néhány adatbázis tervezési döntések ütköznek azokkal lekérdezési teljesítmény jelentős hatással lehet.</span><span class="sxs-lookup"><span data-stu-id="196cd-106">A few database design choices can have a significant impact on improving query performance.</span></span>  

> [!NOTE]
> <span data-ttu-id="196cd-107">Az SQL Data Warehouse és Parallel Data Warehouse használata hello azonos nagymértékben párhuzamos feldolgozási (MPP) tervezési számára, de néhány különbség miatt hello az alapul szolgáló platform.</span><span class="sxs-lookup"><span data-stu-id="196cd-107">Azure SQL Data Warehouse and Parallel Data Warehouse use hello same Massively Parallel Processing (MPP) design, but they have a few differences because of hello underlying platform.</span></span> <span data-ttu-id="196cd-108">Az SQL Data Warehouse egy Platform szolgáltatásként (PaaS), amely az Azure-on futtatja.</span><span class="sxs-lookup"><span data-stu-id="196cd-108">SQL Data Warehouse is a Platform as a Service (PaaS) that runs on Azure.</span></span> <span data-ttu-id="196cd-109">Az Analytics Platform System (AP) amely egy helyszíni készüléknek, amelyen a Windows Server párhuzamos Adatraktárhoz fut.</span><span class="sxs-lookup"><span data-stu-id="196cd-109">Parallel Data Warehouse runs on Analytics Platform System (APS) which is an on-premises appliance that runs on Windows Server.</span></span>
> 
> 

## <a name="what-is-distributed-data"></a><span data-ttu-id="196cd-110">Mi az az elosztott adatokat?</span><span class="sxs-lookup"><span data-stu-id="196cd-110">What is distributed data?</span></span>
<span data-ttu-id="196cd-111">Az SQL Data Warehouse és Parallel Data Warehouse elosztott adatokon toouser hello MPP rendszer között a különböző helyszínein a tárolt adatok hivatkozik.</span><span class="sxs-lookup"><span data-stu-id="196cd-111">In SQL Data Warehouse and Parallel Data Warehouse, distributed data refers toouser data that is stored in multiple locations across hello MPP system.</span></span> <span data-ttu-id="196cd-112">Egyes helyekre funkciókkal, mint egy független tárolási és feldolgozóegység lekérdezések futó hello adatok részét.</span><span class="sxs-lookup"><span data-stu-id="196cd-112">Each of those locations functions as an independent storage and processing unit that runs queries on its portion of hello data.</span></span> <span data-ttu-id="196cd-113">Elosztott adata alapvető toorunning lekérdezések párhuzamos tooachieve magas a lekérdezések teljesítményét.</span><span class="sxs-lookup"><span data-stu-id="196cd-113">Distributed data is fundamental toorunning queries in parallel tooachieve high query performance.</span></span>

<span data-ttu-id="196cd-114">toodistribute adatok hello adatraktár minden egyes sorára egy felhasználói tábla elosztott tooone helyet rendeli hozzá.</span><span class="sxs-lookup"><span data-stu-id="196cd-114">toodistribute data, hello data warehouse assigns each row of a user table tooone distributed location.</span></span>  <span data-ttu-id="196cd-115">Táblákon, amelyekhez a kivonat-elosztási módszer, valamint a ciklikus multiplexelési elosztását.</span><span class="sxs-lookup"><span data-stu-id="196cd-115">You can distribute tables with a hash-distribution method or a round-robin method.</span></span> <span data-ttu-id="196cd-116">elosztási módszer hello hello CREATE TABLE utasítás van megadva.</span><span class="sxs-lookup"><span data-stu-id="196cd-116">hello distribution method is specified in hello CREATE TABLE statement.</span></span> 

## <a name="hash-distributed-tables"></a><span data-ttu-id="196cd-117">Kivonatoló elosztott táblák</span><span class="sxs-lookup"><span data-stu-id="196cd-117">Hash-distributed tables</span></span>
<span data-ttu-id="196cd-118">hello a következő ábra azt mutatja be, teljes (tábla nem osztott) lekérdezi tárolási módját kivonatoló elosztott táblázatként.</span><span class="sxs-lookup"><span data-stu-id="196cd-118">hello following diagram illustrates how a full (non-distributed table) gets stored as a hash-distributed table.</span></span> <span data-ttu-id="196cd-119">Egy determinisztikus függvény minden egyes sorára toobelong tooone terjesztési rendeli hozzá.</span><span class="sxs-lookup"><span data-stu-id="196cd-119">A deterministic function assigns each row toobelong tooone distribution.</span></span> <span data-ttu-id="196cd-120">A hello tábla definíciójában hello oszlopok egyik kijelölt hello terjesztési oszlop.</span><span class="sxs-lookup"><span data-stu-id="196cd-120">In hello table definition, one of hello columns is designated as hello distribution column.</span></span> <span data-ttu-id="196cd-121">hello kivonatoló funkció hello terjesztési oszlop tooassign hello érték minden egyes sorára tooa terjesztési.</span><span class="sxs-lookup"><span data-stu-id="196cd-121">hello hash function uses hello value in hello distribution column tooassign each row tooa distribution.</span></span>

<span data-ttu-id="196cd-122">Teljesítménnyel kapcsolatos szempontok terjesztési oszlop, például megkülönböztethetőség adatok döntés vagy hello futtathatnak hello lekérdezéstípusok hello kiválasztásának van.</span><span class="sxs-lookup"><span data-stu-id="196cd-122">There are performance considerations for hello selection of a distribution column, such as distinctness, data skew, and hello types of queries run on hello system.</span></span>

<span data-ttu-id="196cd-123">![Elosztott tábla](media/sql-data-warehouse-distributed-data/hash-distributed-table.png "elosztott tábla")</span><span class="sxs-lookup"><span data-stu-id="196cd-123">![Distributed table](media/sql-data-warehouse-distributed-data/hash-distributed-table.png "Distributed table")</span></span>  

* <span data-ttu-id="196cd-124">Minden egyes sorára tooone terjesztési tartozik.</span><span class="sxs-lookup"><span data-stu-id="196cd-124">Each row belongs tooone distribution.</span></span>  
* <span data-ttu-id="196cd-125">Egy meghatározott kivonatoló algoritmus minden sor tooone terjesztési rendeli hozzá.</span><span class="sxs-lookup"><span data-stu-id="196cd-125">A deterministic hash algorithm assigns each row tooone distribution.</span></span>  
* <span data-ttu-id="196cd-126">hello) eloszlása feladatonként (a tábla sorainak száma hello különböző méretű táblák eredményobjektumokról függően változik.</span><span class="sxs-lookup"><span data-stu-id="196cd-126">hello number of table rows per distribution varies as shown by hello different sizes of tables.</span></span>

## <a name="round-robin-distributed-tables"></a><span data-ttu-id="196cd-127">Ciklikus multiplexelés elosztott táblák</span><span class="sxs-lookup"><span data-stu-id="196cd-127">Round-robin distributed tables</span></span>
<span data-ttu-id="196cd-128">Ciklikus multiplexelés elosztott tábla hello sorok soros módon minden sor tooa terjesztési hozzárendelésével osztja el.</span><span class="sxs-lookup"><span data-stu-id="196cd-128">A round-robin distributed table distributes hello rows by assigning each row tooa distribution in a sequential manner.</span></span> <span data-ttu-id="196cd-129">Gyors tooload adatok egy ciklikus multiplexelés táblába, de előfordulhat, hogy a lekérdezési teljesítmény lassabb.</span><span class="sxs-lookup"><span data-stu-id="196cd-129">It is quick tooload data into a round-robin table, but query performance might be slower.</span></span>  <span data-ttu-id="196cd-130">Általában csatlakoztatása egy ciklikus multiplexelés tábla reshuffling hello sorok tooenable hello lekérdezés tooproduce nem pontos eredményt, és sok időt igényel.</span><span class="sxs-lookup"><span data-stu-id="196cd-130">Joining a round-robin table usually requires reshuffling hello rows tooenable hello query tooproduce an accurate result, which takes time.</span></span>

## <a name="distributed-storage-locations-are-called-distributions"></a><span data-ttu-id="196cd-131">Elosztott tárolóhelyek terjesztéseket nevezzük.</span><span class="sxs-lookup"><span data-stu-id="196cd-131">Distributed storage locations are called distributions</span></span>
<span data-ttu-id="196cd-132">Minden egyes elosztott helyének terjesztési neve.</span><span class="sxs-lookup"><span data-stu-id="196cd-132">Each distributed location is called a distribution.</span></span> <span data-ttu-id="196cd-133">A lekérdezés futtatásakor párhuzamosan, minden egyes terjesztési SQL-lekérdezést végez hello adatok részét.</span><span class="sxs-lookup"><span data-stu-id="196cd-133">When a query runs in parallel, each distribution performs a SQL query on its portion of hello data.</span></span> <span data-ttu-id="196cd-134">SQL-adatraktár SQL-adatbázis toorun hello lekérdezést használja.</span><span class="sxs-lookup"><span data-stu-id="196cd-134">SQL Data Warehouse uses SQL Database toorun hello query.</span></span> <span data-ttu-id="196cd-135">Párhuzamos adatraktár SQL Server toorun hello lekérdezést használja.</span><span class="sxs-lookup"><span data-stu-id="196cd-135">Parallel Data Warehouse uses SQL Server toorun hello query.</span></span> <span data-ttu-id="196cd-136">Ez osztott architektúra az alapvető tooachieving kibővített párhuzamos számítástechnikai.</span><span class="sxs-lookup"><span data-stu-id="196cd-136">This shared-nothing architecture design is fundamental tooachieving scale-out parallel computing.</span></span>

### <a name="can-i-view-hello-distributions"></a><span data-ttu-id="196cd-137">Megtekintheti a hello terjesztéseket?</span><span class="sxs-lookup"><span data-stu-id="196cd-137">Can I view hello distributions?</span></span>
<span data-ttu-id="196cd-138">Minden terjesztési terjesztési Azonosítóval rendelkezik, és látható a rendszer nézeteket, amelyek a projektjükhöz tooSQL Data warehouse-bA és párhuzamos Adatraktárhoz.</span><span class="sxs-lookup"><span data-stu-id="196cd-138">Each distribution has a distribution ID and is visible in system views that pertain tooSQL Data Warehouse and Parallel Data Warehouse.</span></span> <span data-ttu-id="196cd-139">Hello terjesztési azonosító tootroubleshoot lekérdezési teljesítmény és más problémákat is használhatja.</span><span class="sxs-lookup"><span data-stu-id="196cd-139">You can use hello distribution ID tootroubleshoot query performance and other problems.</span></span> <span data-ttu-id="196cd-140">Hello rendszernézetek listájáért lásd: hello [MPP rendszernézet](sql-data-warehouse-reference-tsql-statements.md).</span><span class="sxs-lookup"><span data-stu-id="196cd-140">For a list of hello system views, see hello [MPP system view](sql-data-warehouse-reference-tsql-statements.md).</span></span>

## <a name="difference-between-a-distribution-and-a-compute-node"></a><span data-ttu-id="196cd-141">A telepítési és a számítási csomópont közötti különbség</span><span class="sxs-lookup"><span data-stu-id="196cd-141">Difference between a distribution and a Compute node</span></span>
<span data-ttu-id="196cd-142">Egy terjesztési hello alapvető egysége, elosztott adattárolás és párhuzamos lekérdezéseket.</span><span class="sxs-lookup"><span data-stu-id="196cd-142">A distribution is hello basic unit for storing distributed data and processing parallel queries.</span></span> <span data-ttu-id="196cd-143">Azokat a terjesztéseket számítási csomópontok vannak csoportosítva.</span><span class="sxs-lookup"><span data-stu-id="196cd-143">Distributions are grouped into Compute nodes.</span></span> <span data-ttu-id="196cd-144">Minden számítási csomópont egy vagy több felosztás követi nyomon.</span><span class="sxs-lookup"><span data-stu-id="196cd-144">Each Compute node tracks one or more distributions.</span></span>  

* <span data-ttu-id="196cd-145">Analytics Platform System számítási csomópontok hello architektúra és kibővített hardverképességeinek központi összetevője használja.</span><span class="sxs-lookup"><span data-stu-id="196cd-145">Analytics Platform System uses Compute nodes as a central component of hello hardware architecture and scale-out capabilities.</span></span> <span data-ttu-id="196cd-146">Mindig használ egyes számítási csomópontjain nyolc azokat a terjesztéseket, kivonatoló elosztott táblák hello ábrán látható módon.</span><span class="sxs-lookup"><span data-stu-id="196cd-146">It always uses eight distributions per Compute node, as shown in hello diagram for hash-distributed tables.</span></span> <span data-ttu-id="196cd-147">hello a számítási csomópontok számát, és ezért hello terjesztéseket száma, hello hello alapplatformjaként megvásárlása számítási csomópontok száma határozza meg.</span><span class="sxs-lookup"><span data-stu-id="196cd-147">hello number of Compute nodes, and therefore hello number of distributions, is determined by hello number of Compute nodes you purchase for hello appliance.</span></span> <span data-ttu-id="196cd-148">Például ha megvásárolja nyolc számítási csomópontokat, kapott 64 terjesztéseket (8 számítási csomópontok x 8 terjesztéseket/csomópont).</span><span class="sxs-lookup"><span data-stu-id="196cd-148">For example, if you purchase eight Compute nodes, you get 64 distributions (8 Compute nodes x 8 distributions/node).</span></span> 
* <span data-ttu-id="196cd-149">Az SQL Data Warehouse 60 terjesztéseket rögzített száma és a számítási csomópontok rugalmas számos rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="196cd-149">SQL Data Warehouse has a fixed number of 60 distributions and a flexible number of Compute nodes.</span></span> <span data-ttu-id="196cd-150">az Azure számítási és tárolási erőforrásokat hello számítási csomópontok valósíthatók meg.</span><span class="sxs-lookup"><span data-stu-id="196cd-150">hello Compute nodes are implemented with Azure computing and storage resources.</span></span> <span data-ttu-id="196cd-151">Számítási csomópontok száma hello szolgáltatás munkaterhelés függően toohello háttér és hello számítási kapacitás (dwu-k) adja meg, ha az adatraktár hello módosíthatja.</span><span class="sxs-lookup"><span data-stu-id="196cd-151">hello number of Compute nodes can change according toohello backend service workload and hello computing capacity (DWUs) you specify for hello data warehouse.</span></span> <span data-ttu-id="196cd-152">Amikor megváltoztatja a számítási csomópontok hello száma, azokat a terjesztéseket egyes számítási csomópontjain hello száma is változik.</span><span class="sxs-lookup"><span data-stu-id="196cd-152">When hello number of Compute nodes changes, hello number of distributions per Compute node also changes.</span></span> 

### <a name="can-i-view-hello-compute-nodes"></a><span data-ttu-id="196cd-153">Megtekintheti a számítási csomópontok hello?</span><span class="sxs-lookup"><span data-stu-id="196cd-153">Can I view hello Compute nodes?</span></span>
<span data-ttu-id="196cd-154">Minden számítási csomópont van a csomópont-Azonosítót, és látható a rendszer nézeteket, amelyek a projektjükhöz tooSQL Data warehouse-bA és párhuzamos Adatraktárhoz.</span><span class="sxs-lookup"><span data-stu-id="196cd-154">Each Compute node has a node ID and is visible in system views that pertain tooSQL Data Warehouse and Parallel Data Warehouse.</span></span>  <span data-ttu-id="196cd-155">Hello számítási csomópont hello node_id oszlop sys.pdw_nodes kezdődő rendszernézetek megkeresésével tekintheti meg.</span><span class="sxs-lookup"><span data-stu-id="196cd-155">You can see hello Compute node by looking for hello node_id column in system views whose names begin with sys.pdw_nodes.</span></span> <span data-ttu-id="196cd-156">Hello rendszernézetek listájáért lásd: hello [MPP rendszernézet](sql-data-warehouse-reference-tsql-statements.md).</span><span class="sxs-lookup"><span data-stu-id="196cd-156">For a list of hello system views, see hello [MPP system view](sql-data-warehouse-reference-tsql-statements.md).</span></span>

## <span data-ttu-id="196cd-157"><a name="Replicated"></a>Replikált táblák</span><span class="sxs-lookup"><span data-stu-id="196cd-157"><a name="Replicated"></a>Replicated Tables</span></span>
<span data-ttu-id="196cd-158">A replikált tábla rendelkezik egy teljes mértékben hello tábla példányát tárolt minden számítási csomóponton.</span><span class="sxs-lookup"><span data-stu-id="196cd-158">A table that is replicated has a fully copy of hello table stored on each Compute node.</span></span> <span data-ttu-id="196cd-159">A tábla replikálása eltávolítja hello kell tootransfer join vagy összesítés előtt a számítási csomópontok között.</span><span class="sxs-lookup"><span data-stu-id="196cd-159">Replicating a table removes hello need tootransfer data among Compute nodes before a join or aggregation.</span></span> <span data-ttu-id="196cd-160">Replikált táblák valósíthatók csak kis táblákkal miatt hello – megnövelt tárhely szükséges toostore hello teljes táblázat minden számítási csomóponton.</span><span class="sxs-lookup"><span data-stu-id="196cd-160">Replicated tables are only feasible with small tables because of hello extra storage required toostore hello full table on each compute node.</span></span>  

<span data-ttu-id="196cd-161">hello alábbi ábrán látható, hogy minden számítási csomópont replikált tábla.</span><span class="sxs-lookup"><span data-stu-id="196cd-161">hello following diagram shows a replicated table that is stored on each Compute node.</span></span> <span data-ttu-id="196cd-162">Az SQL Data Warehouse hello replikált tábla a teljes másolt tooa terjesztési adatbázis minden számítási csomóponton.</span><span class="sxs-lookup"><span data-stu-id="196cd-162">For SQL Data Warehouse, hello replicated table is fully copied tooa distribution database on each Compute node.</span></span> <span data-ttu-id="196cd-163">Párhuzamos adatraktár hello replikált tábla toohello számítási csomópont hozzárendelt összes lemezeken tárolja.</span><span class="sxs-lookup"><span data-stu-id="196cd-163">For Parallel Data Warehouse, hello replicated table is stored across all disks assigned toohello Compute node.</span></span>  <span data-ttu-id="196cd-164">A lemez stratégia fájlcsoportokat SQL Server segítségével történik.</span><span class="sxs-lookup"><span data-stu-id="196cd-164">This disk strategy is implemented by using SQL Server filegroups.</span></span>  

<span data-ttu-id="196cd-165">![Replikált tábla](media/sql-data-warehouse-distributed-data/replicated-table.png "replikált tábla")</span><span class="sxs-lookup"><span data-stu-id="196cd-165">![Replicated table](media/sql-data-warehouse-distributed-data/replicated-table.png "Replicated table")</span></span> 

## <a name="next-steps"></a><span data-ttu-id="196cd-166">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="196cd-166">Next steps</span></span>
<span data-ttu-id="196cd-167">elosztott toouse táblák hatékonyan, lásd: [táblák az SQL Data Warehouse terjesztése](sql-data-warehouse-tables-distribute.md)</span><span class="sxs-lookup"><span data-stu-id="196cd-167">toouse distributed tables effectively, see [Distributing tables in SQL Data Warehouse](sql-data-warehouse-tables-distribute.md)</span></span>  

