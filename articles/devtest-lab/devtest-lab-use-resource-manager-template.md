---
title: "aaaView és egy virtuális gép Azure Resource Manager-sablonnal |} Microsoft Docs"
description: "Ismerje meg, hogyan toouse hello Azure Resource Manager sablon egy virtuális gép toocreate más virtuális gépek"
services: devtest-lab,virtual-machines,visual-studio-online
documentationcenter: na
author: tomarcher
manager: douge
editor: 
ms.assetid: a759d9ce-655c-4ac6-8834-cb29dd7d30dd
ms.service: devtest-lab
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/05/2017
ms.author: tarcher
ms.openlocfilehash: b79f7eb4171793681a0b654e6e72a83191c76bde
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="use-a-virtual-machines-azure-resource-manager-template"></a><span data-ttu-id="dbf23-103">A virtuális gép Azure Resource Manager sablon használata</span><span class="sxs-lookup"><span data-stu-id="dbf23-103">Use a virtual machine's Azure Resource Manager template</span></span>

<span data-ttu-id="dbf23-104">Ha hoz létre egy virtuális gép (VM) a DevTest Labs szolgáltatásban keresztül hello [Azure-portálon](http://go.microsoft.com/fwlink/p/?LinkID=525040), megtekintheti a hello Azure Resource Manager sablon hello virtuális gép mentése előtt.</span><span class="sxs-lookup"><span data-stu-id="dbf23-104">When you are creating a virtual machine (VM) in DevTest Labs through hello [Azure portal](http://go.microsoft.com/fwlink/p/?LinkID=525040), you can view hello Azure Resource Manager template before you save hello VM.</span></span> <span data-ttu-id="dbf23-105">hello sablon majd használható egy alap toocreate több tesztlabor virtuális gépek hello ugyanazokat a beállításokat.</span><span class="sxs-lookup"><span data-stu-id="dbf23-105">hello template can then be used as a basis toocreate more lab VMs with hello same settings.</span></span>

<span data-ttu-id="dbf23-106">Ez a cikk ismerteti, hogyan tooview hello-e Resource Manager-sablon a virtuális gépek létrehozásakor, és hogyan toodeploy az újabb tooautomate létrehozását hello azonos virtuális gép.</span><span class="sxs-lookup"><span data-stu-id="dbf23-106">This article describes how tooview hello Resource Manager template when creating a VM, and how toodeploy it later tooautomate creation of hello same VM.</span></span>

## <a name="multi-vm-vs-single-vm-resource-manager-templates"></a><span data-ttu-id="dbf23-107">Több virtuális Gépre kiterjedő és single-virtuális gép Resource Manager-sablonok</span><span class="sxs-lookup"><span data-stu-id="dbf23-107">Multi-VM vs. single-VM Resource Manager templates</span></span>
<span data-ttu-id="dbf23-108">Két módon toocreate virtuális gépek a DevTest Labs szolgáltatásban a Resource Manager sablonnal: hello Microsoft.DevTestLab/labs/virtualmachines erőforrás kiépítése, vagy hello Microsoft.Commpute/virtualmachines erőforrás kiépítéséhez.</span><span class="sxs-lookup"><span data-stu-id="dbf23-108">There are two ways toocreate VMs in DevTest Labs using a Resource Manager template: provision hello Microsoft.DevTestLab/labs/virtualmachines resource or provision hello Microsoft.Commpute/virtualmachines resource.</span></span> <span data-ttu-id="dbf23-109">Minden olyan más esetekben használható, és különböző engedély szükséges.</span><span class="sxs-lookup"><span data-stu-id="dbf23-109">Each is used in different scenarios and require different permissions.</span></span>

- <span data-ttu-id="dbf23-110">Resource Manager-sablonok, amelyek Microsoft.DevTestLab/labs/virtualmachines erőforrás típusa (a hello "erőforrás" tulajdonságban hello sablon) hozhat létre egyéni labor virtuális gépeken.</span><span class="sxs-lookup"><span data-stu-id="dbf23-110">Resource Manager templates that use a Microsoft.DevTestLab/labs/virtualmachines resource type (as declared in hello “resource” property in hello template) can provision individual lab VMs.</span></span> <span data-ttu-id="dbf23-111">Minden virtuális gép ezután megjelenik hello DevTest Labs szolgáltatásban virtuális gépek listája egyetlen elemként:</span><span class="sxs-lookup"><span data-stu-id="dbf23-111">Each VM then shows up as a single item in hello DevTest Labs virtual machines list:</span></span>

   ![Egyetlen elem hello DevTest Labs szolgáltatásban virtuális gépek listában, virtuális gépek listája](./media/devtest-lab-use-arm-template/devtestlab-lab-vm-single-item.png)

   <span data-ttu-id="dbf23-113">A Resource Manager-sablon típusának keresztül hello Azure PowerShell-paranccsal helyezhetők **New-AzureRmResourceGroupDeployment** vagy az Azure CLI parancs hello **az csoport központi telepítésének létrehozása** .</span><span class="sxs-lookup"><span data-stu-id="dbf23-113">This type of Resource Manager template can be provisioned through hello Azure PowerShell command **New-AzureRmResourceGroupDeployment** or through hello Azure CLI command **az group deployment create**.</span></span> <span data-ttu-id="dbf23-114">Rendszergazdai jogosultságokkal van szükség, tehát a DevTest Labs szolgáltatásban felhasználói szerepkörrel felruházott felhasználók nem hello telepítés végrehajtása.</span><span class="sxs-lookup"><span data-stu-id="dbf23-114">It requires administrator permissions, so users who are assigned with a DevTest Labs user role can’t perform hello deployment.</span></span> 

- <span data-ttu-id="dbf23-115">Resource Manager-sablonok, amelyek Microsoft.Compute/virtualmachines erőforrás típusa építhető ki több virtuális gép, egy egyetlen környezet hello DevTest Labs szolgáltatásban virtuális gépek listája:</span><span class="sxs-lookup"><span data-stu-id="dbf23-115">Resource Manager templates that use a Microsoft.Compute/virtualmachines resource type can provision multiple VMs as a single environment in hello DevTest Labs virtual machines list:</span></span>

   ![Egyetlen elem hello DevTest Labs szolgáltatásban virtuális gépek listában, virtuális gépek listája](./media/devtest-lab-use-arm-template/devtestlab-lab-vm-single-environment.png)

   <span data-ttu-id="dbf23-117">Virtuális gépek ugyanabban a környezetben együtt kezelheti hello és megosztás hello azonos életciklussal.</span><span class="sxs-lookup"><span data-stu-id="dbf23-117">VMs in hello same environment can be managed together and share hello same lifecycle.</span></span> <span data-ttu-id="dbf23-118">DevTest Labs szolgáltatásban felhasználói szerepkörrel felruházott felhasználók használja ezeket a sablonokat, mindaddig, amíg hello rendszergazda úgy konfigurálta a hello labor ily módon tesztkörnyezetek hozhatók létre.</span><span class="sxs-lookup"><span data-stu-id="dbf23-118">Users who are assigned with a DevTest Labs user role can create environments using those templates as long as hello administrator has configured hello lab that way.</span></span>

<span data-ttu-id="dbf23-119">hello a cikk hátralévő része a Resource Manager-sablonok Mirosoft.DevTestLab/labs/virtualmachines használó ismerteti.</span><span class="sxs-lookup"><span data-stu-id="dbf23-119">hello remainder of this article discusses Resource Manager templates that use Mirosoft.DevTestLab/labs/virtualmachines.</span></span> <span data-ttu-id="dbf23-120">A tesztlabor rendszergazdák tooautomate tesztlabor virtuális gép létrehozása (például claimable virtuális gépek) és a mesterlemez (például a lemezkép gyári) által használt.</span><span class="sxs-lookup"><span data-stu-id="dbf23-120">These are used by lab admins tooautomate lab VM creation (for example, claimable VMs) or golden image generation (for example, image factory).</span></span>

<span data-ttu-id="dbf23-121">[Ajánlott eljárások Azure Resource Manager-sablonok létrehozásához](https://docs.microsoft.com/azure/azure-resource-manager/resource-manager-template-best-practices) sok útmutatást és javaslatokat toohelp kínál, amelyek megbízható és könnyű toouse Azure Resource Manager-sablonokat hoz létre.</span><span class="sxs-lookup"><span data-stu-id="dbf23-121">[Best practices for creating Azure Resource Manager templates](https://docs.microsoft.com/azure/azure-resource-manager/resource-manager-template-best-practices) offers many guidelines and suggestions toohelp you create Azure Resource Manager templates that are reliable and easy toouse.</span></span>

## <a name="view-and-save-a-virtual-machines-resource-manager-template"></a><span data-ttu-id="dbf23-122">Megtekintése és a virtuális gép Resource Manager-sablon mentése</span><span class="sxs-lookup"><span data-stu-id="dbf23-122">View and save a virtual machine's Resource Manager template</span></span>
1. <span data-ttu-id="dbf23-123">Hajtsa végre a hello készítésével [az első virtuális gép létrehozása egy tesztkörnyezetben](devtest-lab-create-first-vm.md) toobegin hoz létre virtuális gépet.</span><span class="sxs-lookup"><span data-stu-id="dbf23-123">Follow hello steps at [Create your first VM in a lab](devtest-lab-create-first-vm.md) toobegin creating a virtual machine.</span></span>
1. <span data-ttu-id="dbf23-124">Adja meg a virtuális gép hello szükséges információkat, és adja hozzá a virtuális gép kívánt összetevőihez.</span><span class="sxs-lookup"><span data-stu-id="dbf23-124">Enter hello required information for your virtual machine and add any artifacts you want for this VM.</span></span>
1. <span data-ttu-id="dbf23-125">Hello konfigurálása beállítások ablak hello alján válassza **nézet ARM-sablon**.</span><span class="sxs-lookup"><span data-stu-id="dbf23-125">At hello bottom of hello Configure settings window, choose **View ARM template**.</span></span>

   ![Nézet ARM-sablon gomb](./media/devtest-lab-use-arm-template/devtestlab-lab-view-rm-template.png)
1. <span data-ttu-id="dbf23-127">Másolja ki és mentse a hello Resource Manager sablon toouse újabb toocreate egy másik virtuális géphez.</span><span class="sxs-lookup"><span data-stu-id="dbf23-127">Copy and save hello Resource Manager template toouse later toocreate another virtual machine.</span></span>

   ![Resource manager sablon toosave későbbi használatra](./media/devtest-lab-use-arm-template/devtestlab-lab-copy-rm-template.png)

<span data-ttu-id="dbf23-129">Hello Resource Manager-sablon mentése után frissítenie kell hello paraméterek szakaszban hello sablon használata előtt.</span><span class="sxs-lookup"><span data-stu-id="dbf23-129">After you have saved hello Resource Manager template, you must update hello parameters section of hello template before you can use it.</span></span> <span data-ttu-id="dbf23-130">Létrehozhat egy parameter.json, amely csak hello paraméterek kívül hello tényleges Resource Manager sablon testreszabása.</span><span class="sxs-lookup"><span data-stu-id="dbf23-130">You can create a parameter.json that customizes just hello parameters, outside of hello actual Resource Manager template.</span></span> 

![A JSON-fájl használatával paramétereket testreszabása](./media/devtest-lab-use-arm-template/devtestlab-lab-custom-params.png)

## <a name="deploy-a-resource-manager-template-toocreate-a-vm"></a><span data-ttu-id="dbf23-132">A Resource Manager sablon toocreate egy virtuális gép telepítése</span><span class="sxs-lookup"><span data-stu-id="dbf23-132">Deploy a Resource Manager template toocreate a VM</span></span>
<span data-ttu-id="dbf23-133">Miután a Resource Manager-sablon mentése, és igény szerint testreszabott, használhatja tooautomate Virtuálisgép létrehozásához.</span><span class="sxs-lookup"><span data-stu-id="dbf23-133">After you have saved a Resource Manager template and customized it for your needs, you can use it tooautomate VM creation.</span></span> <span data-ttu-id="dbf23-134">[Erőforrások a Resource Manager-sablonok és Azure PowerShell telepítése](https://docs.microsoft.com/azure/azure-resource-manager/resource-group-template-deploy) ismerteti, hogyan toouse Azure PowerShell, a Resource Manager sablonok toodeploy az erőforrások tooAzure.</span><span class="sxs-lookup"><span data-stu-id="dbf23-134">[Deploy resources with Resource Manager templates and Azure PowerShell](https://docs.microsoft.com/azure/azure-resource-manager/resource-group-template-deploy) describes how toouse Azure PowerShell with Resource Manager templates toodeploy your resources tooAzure.</span></span> <span data-ttu-id="dbf23-135">[Erőforrások a Resource Manager-sablonok és az Azure parancssori felület telepítése](https://docs.microsoft.com/azure/azure-resource-manager/resource-group-template-deploy-cli) ismerteti, hogyan toouse Azure parancssori felület a Resource Manager sablonok toodeploy az erőforrások tooAzure.</span><span class="sxs-lookup"><span data-stu-id="dbf23-135">[Deploy resources with Resource Manager templates and Azure CLI](https://docs.microsoft.com/azure/azure-resource-manager/resource-group-template-deploy-cli) describes how toouse Azure CLI with Resource Manager templates toodeploy your resources tooAzure.</span></span>

> [!NOTE]
> <span data-ttu-id="dbf23-136">Csak a tesztkörnyezet tulajdonosa engedélyekkel rendelkező felhasználó Azure PowerShell használatával létrehozhat egy Resource Manager-sablon virtuális gépeket.</span><span class="sxs-lookup"><span data-stu-id="dbf23-136">Only a user with lab owner permissions can create VMs from a Resource Manager template by using Azure PowerShell.</span></span> <span data-ttu-id="dbf23-137">Ha azt szeretné, hogy tooautomate virtuális gép létrehozása egy Resource Manager-sablon használatával, és a felhasználói engedélyek csak rendelkezik, használhatja a hello [ **az tesztlabor virtuális gép létrehozása** parancsot a hello CLI](https://docs.microsoft.com/cli/azure/lab/vm#create).</span><span class="sxs-lookup"><span data-stu-id="dbf23-137">If you want tooautomate VM creation using a Resource Manager template and you only have user permissions, you can use hello [**az lab vm create** command in hello CLI](https://docs.microsoft.com/cli/azure/lab/vm#create).</span></span>

### <a name="next-steps"></a><span data-ttu-id="dbf23-138">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="dbf23-138">Next steps</span></span>
* <span data-ttu-id="dbf23-139">Ismerje meg, hogyan túl[virtuális Gépre kiterjedő környezetek létrehozása a Resource Manager-sablonok](devtest-lab-create-environment-from-arm.md).</span><span class="sxs-lookup"><span data-stu-id="dbf23-139">Learn how too[Create multi-VM environments with Resource Manager templates](devtest-lab-create-environment-from-arm.md).</span></span>
* <span data-ttu-id="dbf23-140">További gyors üzembe helyezési Resource Manager-sablonok a DevTest Labs automatizálásához áttekintheti az hello [nyilvános DevTest Labs GitHub-tárház](https://github.com/Azure/azure-quickstart-templates).</span><span class="sxs-lookup"><span data-stu-id="dbf23-140">Explore more quick-start Resource Manager templates for DevTest Labs automation from hello [public DevTest Labs GitHub repo](https://github.com/Azure/azure-quickstart-templates).</span></span>
