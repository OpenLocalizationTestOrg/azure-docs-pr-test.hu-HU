---
title: "Virtual Network (VNet) aaaAzure a tervezési és kialakítási útmutató |} Microsoft Docs"
description: "Ismerje meg, hogyan tooplan és a Tervező virtuális hálózatok az Azure-ban a elkülönítési, a kapcsolat és a hely követelmények alapján."
services: virtual-network
documentationcenter: na
author: jimdial
manager: carmonm
editor: tysonn
ms.assetid: 3a4a9aea-7608-4d2e-bb3c-40de2e537200
ms.service: virtual-network
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 02/08/2016
ms.author: jdial
ms.openlocfilehash: f3ffadf8cf254f64b1f86b44f90315d2bc679f63
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="plan-and-design-azure-virtual-networks"></a><span data-ttu-id="e0ccd-103">Azure virtuális hálózatok megtervezése</span><span class="sxs-lookup"><span data-stu-id="e0ccd-103">Plan and design Azure Virtual Networks</span></span>
<span data-ttu-id="e0ccd-104">Egy VNet tooexperiment rendelkező létrehozása elég egyszerűen, de valószínűleg több Vnetek keresztül idő toosupport hello éles a szervezet igényeinek központilag telepíti.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-104">Creating a VNet tooexperiment with is easy enough, but chances are, you will deploy multiple VNets over time toosupport hello production needs of your organization.</span></span> <span data-ttu-id="e0ccd-105">Egyes tervezési és kialakítási először kell tudni toodeploy Vnetek, csatlakozásra hello erőforrások hatékonyabban van szüksége.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-105">With some planning and design, you will be able toodeploy VNets and connect hello resources you need more effectively.</span></span> <span data-ttu-id="e0ccd-106">Ha nem ismeri a Vneteket, javasoljuk, hogy Ön [Vnetek megismerése](virtual-networks-overview.md) és [hogyan toodeploy](virtual-networks-create-vnet-arm-pportal.md) egy, a folytatás előtt.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-106">If you are not familiar with VNets, it's recommended that you [learn about VNets](virtual-networks-overview.md) and [how toodeploy](virtual-networks-create-vnet-arm-pportal.md) one before proceeding.</span></span>

## <a name="plan"></a><span data-ttu-id="e0ccd-107">Felkészülés</span><span class="sxs-lookup"><span data-stu-id="e0ccd-107">Plan</span></span>
<span data-ttu-id="e0ccd-108">Azure-előfizetések, régiók és hálózati erőforrásokat alapos ismerete fontos a sikeres.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-108">A thorough understanding of Azure subscriptions, regions, and network resources is critical for success.</span></span> <span data-ttu-id="e0ccd-109">Hello listája alább szempontok használhatja kiindulási pontként.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-109">You can use hello list of considerations below as a starting point.</span></span> <span data-ttu-id="e0ccd-110">E szempontok elsajátítása után hello követelmények hálózatterv adhat meg.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-110">Once you understand those considerations, you can define hello requirements for your network design.</span></span>

### <a name="considerations"></a><span data-ttu-id="e0ccd-111">Megfontolandó szempontok</span><span class="sxs-lookup"><span data-stu-id="e0ccd-111">Considerations</span></span>
<span data-ttu-id="e0ccd-112">Az alábbi lehetőségei hello válasz, előtt vegye figyelembe a hello következőket:</span><span class="sxs-lookup"><span data-stu-id="e0ccd-112">Before answering hello planning questions below, consider hello following:</span></span>

* <span data-ttu-id="e0ccd-113">Minden Azure-ban létrehozhat egy vagy több erőforrás áll.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-113">Everything you create in Azure is composed of one or more resources.</span></span> <span data-ttu-id="e0ccd-114">Egy virtuális gép (VM) egy olyan erőforrás, egy virtuális gép által használt hello hálózati adapter kapcsolatának (NIC) egy erőforrást, hello egy hálózati adapter által használt nyilvános IP-cím erőforrás, hello VNet hello NIC csatlakoztatott toois erőforrás.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-114">A virtual machine (VM) is a resource, hello network adapter interface (NIC) used by a VM is a resource, hello public IP address used by a NIC is a resource, hello VNet hello NIC is connected toois a resource.</span></span>
* <span data-ttu-id="e0ccd-115">Erőforrások létrehozása egy [az Azure-régió](https://azure.microsoft.com/regions/#services) és -előfizetése.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-115">You create resources within an [Azure region](https://azure.microsoft.com/regions/#services) and subscription.</span></span> <span data-ttu-id="e0ccd-116">Erőforrások csak lehet csatlakoztatott tooa virtuális hálózat már szerepel a hello azonos régióban és az előfizetés hello erőforrás.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-116">Resources can only be connected tooa virtual network that exists in hello same region and subscription hello resource is in.</span></span>
* <span data-ttu-id="e0ccd-117">Más virtuális hálózatok tooeach használatával képes kapcsolódni:</span><span class="sxs-lookup"><span data-stu-id="e0ccd-117">You can connect virtual networks tooeach other by using:</span></span>
    * <span data-ttu-id="e0ccd-118">**[Virtuális hálózati társviszony-létesítés](virtual-network-peering-overview.md)**: hello virtuális hálózatok már léteznie kell hello azonos Azure-régiót.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-118">**[Virtual network peering](virtual-network-peering-overview.md)**: hello virtual networks must exist in hello same Azure region.</span></span> <span data-ttu-id="e0ccd-119">Sávszélesség erőforrások között lévő virtuális hálózatok társviszonyban van hello ugyanaz, mintha hello erőforrások csatlakoztatott toohello ugyanazt a virtuális hálózatot.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-119">Bandwidth between resources in peered virtual networks is hello same as if hello resources were connected toohello same virtual network.</span></span>
    * <span data-ttu-id="e0ccd-120">**Egy Azure [VPN-átjáró](../vpn-gateway/vpn-gateway-vnet-vnet-rm-ps.md)**: hello virtuális hálózatok létezhet hello azonos, vagy másik Azure-régiók.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-120">**An Azure [VPN Gateway](../vpn-gateway/vpn-gateway-vnet-vnet-rm-ps.md)**: hello virtual networks can exist in hello same, or different Azure regions.</span></span> <span data-ttu-id="e0ccd-121">Hello sávszélesség hello VPN-átjárót az erőforrások egy VPN-átjárón keresztül csatlakozó virtuális hálózatok közötti sávszélesség korlátozza.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-121">Bandwidth between resources in virtual networks connected through a VPN Gateway is limited by hello bandwidth of hello VPN Gateway.</span></span>
* <span data-ttu-id="e0ccd-122">Hello egyikével csatlakoztathatja Vnetek tooyour a helyszíni hálózat [kapcsolati lehetőségek](../vpn-gateway/vpn-gateway-about-vpngateways.md#s2smulti) érhető el az Azure-ban.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-122">You can connect VNets tooyour on-premises network by using one of hello [connectivity options](../vpn-gateway/vpn-gateway-about-vpngateways.md#s2smulti) available in Azure.</span></span>
* <span data-ttu-id="e0ccd-123">Különböző erőforrások foghatók egybe a [erőforráscsoportok](../azure-resource-manager/resource-group-overview.md#resource-groups), így könnyebben toomanage hello erőforrás egységként.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-123">Different resources can be grouped together in [resource groups](../azure-resource-manager/resource-group-overview.md#resource-groups), making it easier toomanage hello resource as a unit.</span></span> <span data-ttu-id="e0ccd-124">Erőforráscsoport is több régióba származó erőforrásokat tartalmaznak, mindaddig, amíg hello erőforrások tartoznak toohello ugyanahhoz az előfizetéshez.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-124">A resource group can contain resources from multiple regions, as long as hello resources belong toohello same subscription.</span></span>

### <a name="define-requirements"></a><span data-ttu-id="e0ccd-125">Követelmények megadása</span><span class="sxs-lookup"><span data-stu-id="e0ccd-125">Define requirements</span></span>
<span data-ttu-id="e0ccd-126">Alább hello kérdések használata kiindulási pontként a Azure hálózati kialakítását.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-126">Use hello questions below as a starting point for your Azure network design.</span></span>    

1. <span data-ttu-id="e0ccd-127">Mi az Azure helyek fogja toohost Vnetek használni?</span><span class="sxs-lookup"><span data-stu-id="e0ccd-127">What Azure locations will you use toohost VNets?</span></span>
2. <span data-ttu-id="e0ccd-128">Kell-e tooprovide kommunikációs Azure között?</span><span class="sxs-lookup"><span data-stu-id="e0ccd-128">Do you need tooprovide communication between these Azure locations?</span></span>
3. <span data-ttu-id="e0ccd-129">Szüksége van az Azure VNet(s) és a helyszíni datacenter(s) közötti tooprovide kommunikációs?</span><span class="sxs-lookup"><span data-stu-id="e0ccd-129">Do you need tooprovide communication between your Azure VNet(s) and your on-premises datacenter(s)?</span></span>
4. <span data-ttu-id="e0ccd-130">Egy szolgáltatási (IaaS) virtuális gép, hogy hány infrastruktúra cloud services – szerepkörök és web apps nincs szüksége a megoldás?</span><span class="sxs-lookup"><span data-stu-id="e0ccd-130">How many Infrastructure as a Service (IaaS) VMs, cloud services roles, and web apps do you need for your solution?</span></span>
5. <span data-ttu-id="e0ccd-131">Kell-e a virtuális gépek (azaz előtér-webkiszolgáló és háttérbeli adatbázis-kiszolgálók) alapuló tooisolate forgalom?</span><span class="sxs-lookup"><span data-stu-id="e0ccd-131">Do you need tooisolate traffic based on groups of VMs (i.e. front end web servers and back end database servers)?</span></span>
6. <span data-ttu-id="e0ccd-132">Virtuális készülékek használata toocontrol adatforgalmat kell?</span><span class="sxs-lookup"><span data-stu-id="e0ccd-132">Do you need toocontrol traffic flow using virtual appliances?</span></span>
7. <span data-ttu-id="e0ccd-133">Hajtsa végre az Azure-erőforrások felhasználók kell különböző karakterkészleteket engedélyek toodifferent?</span><span class="sxs-lookup"><span data-stu-id="e0ccd-133">Do users need different sets of permissions toodifferent Azure resources?</span></span>

### <a name="understand-vnet-and-subnet-properties"></a><span data-ttu-id="e0ccd-134">VNet és alhálózat tulajdonságok ismertetése</span><span class="sxs-lookup"><span data-stu-id="e0ccd-134">Understand VNet and subnet properties</span></span>
<span data-ttu-id="e0ccd-135">Hálózatok és alhálózatok erőforrások segítségével határozza meg az Azure-ban futó munkaterhelések biztonsági korlátot.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-135">VNet and subnets resources help define a security boundary for workloads running in Azure.</span></span> <span data-ttu-id="e0ccd-136">Egy VNet jellemzőek, címterekhez, meghatározott CIDR-blokkok gyűjteménye.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-136">A VNet is characterized by a collection of address spaces, defined as CIDR blocks.</span></span>

> [!NOTE]
> <span data-ttu-id="e0ccd-137">A hálózati rendszergazdák jártas CIDR-formátumban.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-137">Network administrators are familiar with CIDR notation.</span></span> <span data-ttu-id="e0ccd-138">Ha nem ismeri a CIDR, [olvashat azokról bővebben](http://whatismyipaddress.com/cidr).</span><span class="sxs-lookup"><span data-stu-id="e0ccd-138">If you are not familiar with CIDR, [learn more about it](http://whatismyipaddress.com/cidr).</span></span>
>
>

<span data-ttu-id="e0ccd-139">Vnetek hello következő tulajdonságai tartalmaznak.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-139">VNets contain hello following properties.</span></span>

| <span data-ttu-id="e0ccd-140">Tulajdonság</span><span class="sxs-lookup"><span data-stu-id="e0ccd-140">Property</span></span> | <span data-ttu-id="e0ccd-141">Leírás</span><span class="sxs-lookup"><span data-stu-id="e0ccd-141">Description</span></span> | <span data-ttu-id="e0ccd-142">Korlátozások</span><span class="sxs-lookup"><span data-stu-id="e0ccd-142">Constraints</span></span> |
| --- | --- | --- |
| <span data-ttu-id="e0ccd-143">**név**</span><span class="sxs-lookup"><span data-stu-id="e0ccd-143">**name**</span></span> |<span data-ttu-id="e0ccd-144">VNet neve</span><span class="sxs-lookup"><span data-stu-id="e0ccd-144">VNet name</span></span> |<span data-ttu-id="e0ccd-145">Karakterlánc mentése too80 karaktereket.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-145">String of up too80 characters.</span></span> <span data-ttu-id="e0ccd-146">Betűk, számok, aláhúzásjelet, pontokat és kötőjeleket tartalmazhat.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-146">May contain letters, numbers, underscore, periods, or hyphens.</span></span> <span data-ttu-id="e0ccd-147">Betűvel vagy számmal kell kezdődnie.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-147">Must start with a letter or number.</span></span> <span data-ttu-id="e0ccd-148">Betűvel, számmal vagy aláhúzásjellel kell végződnie.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-148">Must end with a letter, number, or underscore.</span></span> <span data-ttu-id="e0ccd-149">Felső vagy kisbetűket is tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-149">Can contains upper or lower case letters.</span></span> |
| <span data-ttu-id="e0ccd-150">**hely**</span><span class="sxs-lookup"><span data-stu-id="e0ccd-150">**location**</span></span> |<span data-ttu-id="e0ccd-151">Azure-beli hely (is hivatkozott tooas régió).</span><span class="sxs-lookup"><span data-stu-id="e0ccd-151">Azure location (also referred tooas region).</span></span> |<span data-ttu-id="e0ccd-152">Közül kell hello érvényes Azure helyekre.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-152">Must be one of hello valid Azure locations.</span></span> |
| <span data-ttu-id="e0ccd-153">**Címtartományt**</span><span class="sxs-lookup"><span data-stu-id="e0ccd-153">**addressSpace**</span></span> |<span data-ttu-id="e0ccd-154">A CIDR jelölésrendszer VNet hello alkotó címelőtagokat gyűjteménye.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-154">Collection of address prefixes that make up hello VNet in CIDR notation.</span></span> |<span data-ttu-id="e0ccd-155">Érvényes CIDR címblokkokat, beleértve a nyilvános IP-címtartományok tömbje kell lennie.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-155">Must be an array of valid CIDR address blocks, including public IP address ranges.</span></span> |
| <span data-ttu-id="e0ccd-156">**alhálózatok**</span><span class="sxs-lookup"><span data-stu-id="e0ccd-156">**subnets**</span></span> |<span data-ttu-id="e0ccd-157">Hello virtuális hálózatot alkotó alhálózatok gyűjteménye</span><span class="sxs-lookup"><span data-stu-id="e0ccd-157">Collection of subnets that make up hello VNet</span></span> |<span data-ttu-id="e0ccd-158">hello alhálózati tulajdonságok az alábbi táblázatban találja.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-158">see hello subnet properties table below.</span></span> |
| <span data-ttu-id="e0ccd-159">**dhcpOptions**</span><span class="sxs-lookup"><span data-stu-id="e0ccd-159">**dhcpOptions**</span></span> |<span data-ttu-id="e0ccd-160">Egy kötelező tulajdonság nevű tartalmazó objektum **dnsServers**.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-160">Object that contains a single required property named **dnsServers**.</span></span> | |
| <span data-ttu-id="e0ccd-161">**dnsServers**</span><span class="sxs-lookup"><span data-stu-id="e0ccd-161">**dnsServers**</span></span> |<span data-ttu-id="e0ccd-162">Hello virtuális hálózat által használt DNS-kiszolgálók tömbje.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-162">Array of DNS servers used by hello VNet.</span></span> <span data-ttu-id="e0ccd-163">Ha nincs megadva kiszolgáló, az Azure belső névfeloldást szolgál.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-163">If no server is specified, Azure internal name resolution is used.</span></span> |<span data-ttu-id="e0ccd-164">Too10 DNS-kiszolgálókat, IP-cím szerint tömbje kell lennie.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-164">Must be an array of up too10 DNS servers, by IP address.</span></span> |

<span data-ttu-id="e0ccd-165">Egy alhálózat egy Vnetet gyermek erőforrása, és segítségével meghatározhatja a címterek belül használja az IP-cím előtagokat CIDR-blokkja részeit.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-165">A subnet is a child resource of a VNet, and helps define segments of address spaces within a CIDR block, using IP address prefixes.</span></span> <span data-ttu-id="e0ccd-166">Hálózati adapter toosubnets, és a csatlakoztatott tooVMs biztosítható a kapcsolat a különböző munkaterhelések lehet hozzáadni.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-166">NICs can be added toosubnets, and connected tooVMs, providing connectivity for various workloads.</span></span>

<span data-ttu-id="e0ccd-167">Alhálózatok hello következő tulajdonságai tartalmaznak.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-167">Subnets contain hello following properties.</span></span>

| <span data-ttu-id="e0ccd-168">Tulajdonság</span><span class="sxs-lookup"><span data-stu-id="e0ccd-168">Property</span></span> | <span data-ttu-id="e0ccd-169">Leírás</span><span class="sxs-lookup"><span data-stu-id="e0ccd-169">Description</span></span> | <span data-ttu-id="e0ccd-170">Korlátozások</span><span class="sxs-lookup"><span data-stu-id="e0ccd-170">Constraints</span></span> |
| --- | --- | --- |
| <span data-ttu-id="e0ccd-171">**név**</span><span class="sxs-lookup"><span data-stu-id="e0ccd-171">**name**</span></span> |<span data-ttu-id="e0ccd-172">Alhálózat neve</span><span class="sxs-lookup"><span data-stu-id="e0ccd-172">Subnet name</span></span> |<span data-ttu-id="e0ccd-173">Karakterlánc mentése too80 karaktereket.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-173">String of up too80 characters.</span></span> <span data-ttu-id="e0ccd-174">Betűk, számok, aláhúzásjelet, pontokat és kötőjeleket tartalmazhat.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-174">May contain letters, numbers, underscore, periods, or hyphens.</span></span> <span data-ttu-id="e0ccd-175">Betűvel vagy számmal kell kezdődnie.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-175">Must start with a letter or number.</span></span> <span data-ttu-id="e0ccd-176">Betűvel, számmal vagy aláhúzásjellel kell végződnie.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-176">Must end with a letter, number, or underscore.</span></span> <span data-ttu-id="e0ccd-177">Felső vagy kisbetűket is tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-177">Can contains upper or lower case letters.</span></span> |
| <span data-ttu-id="e0ccd-178">**hely**</span><span class="sxs-lookup"><span data-stu-id="e0ccd-178">**location**</span></span> |<span data-ttu-id="e0ccd-179">Azure-beli hely (is hivatkozott tooas régió).</span><span class="sxs-lookup"><span data-stu-id="e0ccd-179">Azure location (also referred tooas region).</span></span> |<span data-ttu-id="e0ccd-180">Közül kell hello érvényes Azure helyekre.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-180">Must be one of hello valid Azure locations.</span></span> |
| <span data-ttu-id="e0ccd-181">**addressPrefix**</span><span class="sxs-lookup"><span data-stu-id="e0ccd-181">**addressPrefix**</span></span> |<span data-ttu-id="e0ccd-182">Egyetlen címelőtag fel hello alhálózat CIDR-jelöléssel</span><span class="sxs-lookup"><span data-stu-id="e0ccd-182">Single address prefix that make up hello subnet in CIDR notation</span></span> |<span data-ttu-id="e0ccd-183">Egy egyetlen CIDR-blokkja valamelyik hello VNet-részét képező kell lennie.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-183">Must be a single CIDR block that is part of one of hello VNet's address spaces.</span></span> |
| <span data-ttu-id="e0ccd-184">**hálózati biztonsági csoporthoz tartozik**</span><span class="sxs-lookup"><span data-stu-id="e0ccd-184">**networkSecurityGroup**</span></span> |<span data-ttu-id="e0ccd-185">Alkalmazott NSG toohello alhálózati</span><span class="sxs-lookup"><span data-stu-id="e0ccd-185">NSG applied toohello subnet</span></span> | |
| <span data-ttu-id="e0ccd-186">**Migrálták**</span><span class="sxs-lookup"><span data-stu-id="e0ccd-186">**routeTable**</span></span> |<span data-ttu-id="e0ccd-187">Az útvonaltábla alkalmazott toohello alhálózati</span><span class="sxs-lookup"><span data-stu-id="e0ccd-187">Route table applied toohello subnet</span></span> | |
| <span data-ttu-id="e0ccd-188">**IP-konfigurációk**</span><span class="sxs-lookup"><span data-stu-id="e0ccd-188">**ipConfigurations**</span></span> |<span data-ttu-id="e0ccd-189">Hálózati adapter csatlakoztatott toohello alhálózati által használt IP-konfigurációs objektumok gyűjteménye</span><span class="sxs-lookup"><span data-stu-id="e0ccd-189">Collection of IP configuration objects used by NICs connected toohello subnet</span></span> | |

### <a name="name-resolution"></a><span data-ttu-id="e0ccd-190">Névfeloldás</span><span class="sxs-lookup"><span data-stu-id="e0ccd-190">Name resolution</span></span>
<span data-ttu-id="e0ccd-191">Alapértelmezés szerint a virtuális hálózat használja [Azure által biztosított névfeloldás](virtual-networks-name-resolution-for-vms-and-role-instances.md) tooresolve nevek hello virtuális hálózaton belül, és a nyilvános interneten hello.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-191">By default, your VNet uses [Azure-provided name resolution](virtual-networks-name-resolution-for-vms-and-role-instances.md) tooresolve names inside hello VNet, and on hello public Internet.</span></span> <span data-ttu-id="e0ccd-192">Azonban ha a Vnetek tooyour helyszíni adatközpontok, meg kell tooprovide [a saját DNS-kiszolgáló](virtual-networks-name-resolution-for-vms-and-role-instances.md) tooresolve nevek a hálózatok között.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-192">However, if you connect your VNets tooyour on-premises data centers, you need tooprovide [your own DNS server](virtual-networks-name-resolution-for-vms-and-role-instances.md) tooresolve names between your networks.</span></span>  

### <a name="limits"></a><span data-ttu-id="e0ccd-193">Korlátok</span><span class="sxs-lookup"><span data-stu-id="e0ccd-193">Limits</span></span>
<span data-ttu-id="e0ccd-194">Tekintse át a hálózati korlátok hello a hello [Azure korlátozza](../azure-subscription-service-limits.md#networking-limits) cikk tooensure a tervező nem ütköznek a hello korlátok bármelyikét.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-194">Review hello networking limits in hello [Azure limits](../azure-subscription-service-limits.md#networking-limits) article tooensure that your design doesn't conflict with any of hello limits.</span></span> <span data-ttu-id="e0ccd-195">Néhány korlátot lehet növelni egy támogatási jegy megnyitásával.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-195">Some limits can be increased by opening a support ticket.</span></span>

### <a name="role-based-access-control-rbac"></a><span data-ttu-id="e0ccd-196">Szerepköralapú hozzáférés-vezérlés (RBAC)</span><span class="sxs-lookup"><span data-stu-id="e0ccd-196">Role-Based Access Control (RBAC)</span></span>
<span data-ttu-id="e0ccd-197">Használhat [Azure RBAC](../active-directory/role-based-access-built-in-roles.md) toocontrol hello szintű hozzáférés különböző felhasználók rendelkezhetnek toodifferent erőforrások az Azure-ban.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-197">You can use [Azure RBAC](../active-directory/role-based-access-built-in-roles.md) toocontrol hello level of access different users may have toodifferent resources in Azure.</span></span> <span data-ttu-id="e0ccd-198">Ily módon is elkülönítse a csapat a igényeiknek hello dolgozott.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-198">That way you can segregate hello work done by your team based on their needs.</span></span>

<span data-ttu-id="e0ccd-199">Csakúgy, mint a virtuális hálózatok az érintett felhasználók hello **hálózat közreműködő** szerepkör Azure Resource Manager virtuális hálózati erőforrások teljes hozzáféréssel rendelkeznek.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-199">As far as virtual networks are concerned, users in hello **Network Contributor** role have full control over Azure Resource Manager virtual network resources.</span></span> <span data-ttu-id="e0ccd-200">Ehhez hasonlóan a hello felhasználók **klasszikus hálózat közreműködő** szerepkör klasszikus virtuális hálózati erőforrások teljes hozzáféréssel rendelkeznek.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-200">Similarly, users in hello **Classic Network Contributor** role have full control over classic virtual network resources.</span></span>

> [!NOTE]
> <span data-ttu-id="e0ccd-201">Emellett [saját szerepköröket hozhat létre](../active-directory/role-based-access-control-configure.md) tooseparate felügyeleti igényeinek.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-201">You can also [create your own roles](../active-directory/role-based-access-control-configure.md) tooseparate your administrative needs.</span></span>
>
>

## <a name="design"></a><span data-ttu-id="e0ccd-202">Tervezés</span><span class="sxs-lookup"><span data-stu-id="e0ccd-202">Design</span></span>
<span data-ttu-id="e0ccd-203">Miután eldöntötte hello válaszokat, hello toohello kérdéseire [megtervezése](#Plan) szakaszban, tekintse át a Vnetek definiálása előtt hello következő.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-203">Once you know hello answers toohello questions in hello [Plan](#Plan) section, review hello following before defining your VNets.</span></span>

### <a name="number-of-subscriptions-and-vnets"></a><span data-ttu-id="e0ccd-204">Az előfizetések és Vnetek száma</span><span class="sxs-lookup"><span data-stu-id="e0ccd-204">Number of subscriptions and VNets</span></span>
<span data-ttu-id="e0ccd-205">Érdemes lehet több Vnetek létrehozása a következő forgatókönyvek hello:</span><span class="sxs-lookup"><span data-stu-id="e0ccd-205">You should consider creating multiple VNets in hello following scenarios:</span></span>

* <span data-ttu-id="e0ccd-206">**Virtuális gépek különböző Azure helyszíneken található toobe igénylő**.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-206">**VMs that need toobe placed in different Azure locations**.</span></span> <span data-ttu-id="e0ccd-207">Az Azure Vnetekhez regionális.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-207">VNets in Azure are regional.</span></span> <span data-ttu-id="e0ccd-208">Ezek nem terjedhetnek ki helyét.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-208">They cannot span locations.</span></span> <span data-ttu-id="e0ccd-209">Ezért szükség van legalább egy virtuális hálózat minden egyes toohost virtuális gépek a kívánt Azure-beli hely.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-209">Therefore you need at least one VNet for each Azure location you want toohost VMs in.</span></span>
* <span data-ttu-id="e0ccd-210">**Egy másik teljesen izolált toobe igénylő munkaterhelések**.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-210">**Workloads that need toobe completely isolated from one another**.</span></span> <span data-ttu-id="e0ccd-211">Külön Vnetek, hogy akkor is használható hello azonos IP-címterek, tooisolate különböző terhelésekhez egymástól hozhat létre.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-211">You can create separate VNets, that even use hello same IP address spaces, tooisolate different workloads from one another.</span></span>

<span data-ttu-id="e0ccd-212">Ne feledje, hogy a fent látható hello korlátok régiónként, amelyek.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-212">Keep in mind that hello limits you see above are per region, per subscription.</span></span> <span data-ttu-id="e0ccd-213">Ez azt jelenti, hogy több előfizetések tooincrease hello korlát az Azure-ban kezelheti erőforrások is használhatja.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-213">That means you can use multiple subscriptions tooincrease hello limit of resources you can maintain in Azure.</span></span> <span data-ttu-id="e0ccd-214">Használhatja a telephelyek közötti VPN vagy ExpressRoute-kapcsolatcsoportot, tooconnect Vnetekhez különböző előfizetésekhez.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-214">You can use a site-to-site VPN, or an ExpressRoute circuit, tooconnect VNets in different subscriptions.</span></span>

### <a name="subscription-and-vnet-design-patterns"></a><span data-ttu-id="e0ccd-215">Előfizetés és hálózatok tervezési minták</span><span class="sxs-lookup"><span data-stu-id="e0ccd-215">Subscription and VNet design patterns</span></span>
<span data-ttu-id="e0ccd-216">hello az alábbi táblázat néhány gyakori tervminták előfizetések és Vnetek használatával.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-216">hello table below shows some common design patterns for using subscriptions and VNets.</span></span>

| <span data-ttu-id="e0ccd-217">Forgatókönyv</span><span class="sxs-lookup"><span data-stu-id="e0ccd-217">Scenario</span></span> | <span data-ttu-id="e0ccd-218">Ábra</span><span class="sxs-lookup"><span data-stu-id="e0ccd-218">Diagram</span></span> | <span data-ttu-id="e0ccd-219">Informatikai szakemberek</span><span class="sxs-lookup"><span data-stu-id="e0ccd-219">Pros</span></span> | <span data-ttu-id="e0ccd-220">Hátrányok</span><span class="sxs-lookup"><span data-stu-id="e0ccd-220">Cons</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="e0ccd-221">Egyetlen előfizetés, két Vnetek alkalmazásonkénti</span><span class="sxs-lookup"><span data-stu-id="e0ccd-221">Single subscription, two VNets per app</span></span> |![Egyetlen előfizetés](./media/virtual-network-vnet-plan-design-arm/figure1.png) |<span data-ttu-id="e0ccd-223">Csak egyetlen előfizetéssel toomanage.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-223">Only one subscription toomanage.</span></span> |<span data-ttu-id="e0ccd-224">Maximális száma Vnetek Azure-régiót.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-224">Maximum number of VNets per Azure region.</span></span> <span data-ttu-id="e0ccd-225">Legalább egy előfizetésre van szüksége, amely után.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-225">You need more subscriptions after that.</span></span> <span data-ttu-id="e0ccd-226">Felülvizsgálati hello [Azure korlátozza](../azure-subscription-service-limits.md#networking-limits) cikkben alább.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-226">Review hello [Azure limits](../azure-subscription-service-limits.md#networking-limits) article for details.</span></span> |
| <span data-ttu-id="e0ccd-227">Alkalmazásonkénti alkalmazásonkénti két Vnetek egy előfizetés</span><span class="sxs-lookup"><span data-stu-id="e0ccd-227">One subscription per app, two VNets per app</span></span> |![Egyetlen előfizetés](./media/virtual-network-vnet-plan-design-arm/figure2.png) |<span data-ttu-id="e0ccd-229">Előfizetésenként csak két Vnetek használja.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-229">Uses only two VNets per subscription.</span></span> |<span data-ttu-id="e0ccd-230">Ha túl sok alkalmazás nehezebben toomanage.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-230">Harder toomanage when there are too many apps.</span></span> |
| <span data-ttu-id="e0ccd-231">Egy előfizetés üzleti egység, két Vnetek alkalmazásonkénti.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-231">One subscription per business unit, two VNets per app.</span></span> |![Egyetlen előfizetés](./media/virtual-network-vnet-plan-design-arm/figure3.png) |<span data-ttu-id="e0ccd-233">Előfizetések számának és a Vnetek közötti egyensúly.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-233">Balance between number of subscriptions and VNets.</span></span> |<span data-ttu-id="e0ccd-234">Maximális száma Vnetek részleg (előfizetés).</span><span class="sxs-lookup"><span data-stu-id="e0ccd-234">Maximum number of VNets per business unit (subscription).</span></span> <span data-ttu-id="e0ccd-235">Felülvizsgálati hello [Azure korlátozza](../azure-subscription-service-limits.md#networking-limits) cikkben alább.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-235">Review hello [Azure limits](../azure-subscription-service-limits.md#networking-limits) article for details.</span></span> |
| <span data-ttu-id="e0ccd-236">Egy előfizetés üzleti egység, az egyes alkalmazások két Vnetek.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-236">One subscription per business unit, two VNets per group of apps.</span></span> |![Egyetlen előfizetés](./media/virtual-network-vnet-plan-design-arm/figure4.png) |<span data-ttu-id="e0ccd-238">Előfizetések számának és a Vnetek közötti egyensúly.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-238">Balance between number of subscriptions and VNets.</span></span> |<span data-ttu-id="e0ccd-239">Alkalmazások kell lehet különíteni alhálózatokat és az NSG-ket.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-239">Apps must be isolated by using subnets and NSGs.</span></span> |

### <a name="number-of-subnets"></a><span data-ttu-id="e0ccd-240">Alhálózatok száma</span><span class="sxs-lookup"><span data-stu-id="e0ccd-240">Number of subnets</span></span>
<span data-ttu-id="e0ccd-241">A következő forgatókönyvek hello a Vneten belül több alhálózaton kell figyelembe vennie:</span><span class="sxs-lookup"><span data-stu-id="e0ccd-241">You should consider multiple subnets in a VNet in hello following scenarios:</span></span>

* <span data-ttu-id="e0ccd-242">**Az alhálózat összes hálózati adapter nem elég saját IP-címek**.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-242">**Not enough private IP addresses for all NICs in a subnet**.</span></span> <span data-ttu-id="e0ccd-243">Az alhálózati címteret nem tartalmaz elegendő IP-cím hello hello alhálózatot a hálózati adapterek száma, ha szüksége toocreate több alhálózatra.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-243">If your subnet address space does not contain enough IP addresses for hello number of NICs in hello subnet, you need toocreate multiple subnets.</span></span> <span data-ttu-id="e0ccd-244">Ne feledje, hogy Azure fenntartja az egyes alhálózatokon, amelyek nem használhatók 5 magánhálózati IP-címek: hello első és utolsó hello címtartomány (hello alhálózati címet, és a csoportos küldés) és belső (célokra DHCP és DNS-) 3 címek toobe címét.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-244">Keep in mind that Azure reserves 5 private IP addresses from each subnet that cannot be used: hello first and last addresses of hello address space (for hello subnet address, and multicast) and 3 addresses toobe used internally (for DHCP and DNS purposes).</span></span>
* <span data-ttu-id="e0ccd-245">**Biztonság**.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-245">**Security**.</span></span> <span data-ttu-id="e0ccd-246">Alhálózatok tooseparate csoportok virtuális gépek egymástól használhatók, amelyek rendelkeznek egy többrétegű struktúra, és alkalmazza a különböző munkaterhelések [hálózati biztonsági csoportokkal (NSG-k)](virtual-networks-nsg.md#subnets) ezek alhálózatok esetében.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-246">You can use subnets tooseparate groups of VMs from one another for workloads that have a multi-layer structure, and apply different [network security groups (NSGs)](virtual-networks-nsg.md#subnets) for those subnets.</span></span>
* <span data-ttu-id="e0ccd-247">**A hibrid kapcsolat**.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-247">**Hybrid connectivity**.</span></span> <span data-ttu-id="e0ccd-248">Használható VPN-átjárók és az ExpressRoute-Kapcsolatcsoportok túl[csatlakozás](../vpn-gateway/vpn-gateway-about-vpngateways.md#s2smulti) a Vnetek tooone egy másik, és tooyour a helyszíni adatok center(s).</span><span class="sxs-lookup"><span data-stu-id="e0ccd-248">You can use VPN gateways and ExpressRoute circuits too[connect](../vpn-gateway/vpn-gateway-about-vpngateways.md#s2smulti) your VNets tooone another, and tooyour on-premises data center(s).</span></span> <span data-ttu-id="e0ccd-249">VPN-átjárók és az ExpressRoute-Kapcsolatcsoportok kell létrehozni a saját toobe alhálózatának.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-249">VPN gateways and ExpressRoute circuits require a subnet of their own toobe created.</span></span>
* <span data-ttu-id="e0ccd-250">**Virtuális készülékek**.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-250">**Virtual appliances**.</span></span> <span data-ttu-id="e0ccd-251">Egy Azure virtuális hálózatot a virtuális készülék, például tűzfalat, WAN gyorsító vagy VPN-átjáró használható.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-251">You can use a virtual appliance, such as a firewall, WAN accelerator, or VPN gateway in an Azure VNet.</span></span> <span data-ttu-id="e0ccd-252">Ha így tesz, akkor túl kell[forgalmat](virtual-networks-udr-overview.md) toothose készülékek és a saját alhálózat elkülöníti azokat.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-252">When you do so, you need too[route traffic](virtual-networks-udr-overview.md) toothose appliances and isolate them in their own subnet.</span></span>

### <a name="subnet-and-nsg-design-patterns"></a><span data-ttu-id="e0ccd-253">Alhálózat és NSG-tervezési minták</span><span class="sxs-lookup"><span data-stu-id="e0ccd-253">Subnet and NSG design patterns</span></span>
<span data-ttu-id="e0ccd-254">hello az alábbi táblázat néhány gyakori tervminták alhálózatok használatával.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-254">hello table below shows some common design patterns for using subnets.</span></span>

| <span data-ttu-id="e0ccd-255">Forgatókönyv</span><span class="sxs-lookup"><span data-stu-id="e0ccd-255">Scenario</span></span> | <span data-ttu-id="e0ccd-256">Ábra</span><span class="sxs-lookup"><span data-stu-id="e0ccd-256">Diagram</span></span> | <span data-ttu-id="e0ccd-257">Informatikai szakemberek</span><span class="sxs-lookup"><span data-stu-id="e0ccd-257">Pros</span></span> | <span data-ttu-id="e0ccd-258">Hátrányok</span><span class="sxs-lookup"><span data-stu-id="e0ccd-258">Cons</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="e0ccd-259">Egyetlen alhálózattal, NSG-k száma alkalmazásonként-alkalmazási rétegben</span><span class="sxs-lookup"><span data-stu-id="e0ccd-259">Single subnet, NSGs per application layer, per app</span></span> |![Egyetlen alhálózattal](./media/virtual-network-vnet-plan-design-arm/figure5.png) |<span data-ttu-id="e0ccd-261">Csak egy alhálózat toomanage.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-261">Only one subnet toomanage.</span></span> |<span data-ttu-id="e0ccd-262">Több NSG-ket szükséges tooisolate minden alkalmazáshoz.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-262">Multiple NSGs necessary tooisolate each application.</span></span> |
| <span data-ttu-id="e0ccd-263">Egy alhálózat alkalmazásonkénti alkalmazás rétegenként NSG-k</span><span class="sxs-lookup"><span data-stu-id="e0ccd-263">One subnet per app, NSGs per application layer</span></span> |![Alkalmazásonkénti alhálózati](./media/virtual-network-vnet-plan-design-arm/figure6.png) |<span data-ttu-id="e0ccd-265">Kevesebb NSG-k toomanage.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-265">Fewer NSGs toomanage.</span></span> |<span data-ttu-id="e0ccd-266">Több alhálózat toomanage.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-266">Multiple subnets toomanage.</span></span> |
| <span data-ttu-id="e0ccd-267">Egy alhálózat alkalmazás rétegenként alkalmazásonkénti NSG-ket.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-267">One subnet per application layer, NSGs per app.</span></span> |![Rétegenként alhálózati](./media/virtual-network-vnet-plan-design-arm/figure7.png) |<span data-ttu-id="e0ccd-269">Kiegyenlítheti száma alhálózat és NSG-k között.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-269">Balance between number of subnets and NSGs.</span></span> |<span data-ttu-id="e0ccd-270">Előfizetésenként NSG-k maximális száma.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-270">Maximum number of NSGs per subscription.</span></span> <span data-ttu-id="e0ccd-271">Felülvizsgálati hello [Azure korlátozza](../azure-subscription-service-limits.md#networking-limits) cikkben alább.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-271">Review hello [Azure limits](../azure-subscription-service-limits.md#networking-limits) article for details.</span></span> |
| <span data-ttu-id="e0ccd-272">Alkalmazás rétegenként alkalmazásonkénti NSG-k száma alhálózat több alhálózattal</span><span class="sxs-lookup"><span data-stu-id="e0ccd-272">One subnet per application layer, per app, NSGs per subnet</span></span> |![Alkalmazásonkénti rétegenként alhálózati](./media/virtual-network-vnet-plan-design-arm/figure8.png) |<span data-ttu-id="e0ccd-274">Valószínűleg kisebb NSG-k száma.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-274">Possibly smaller number of NSGs.</span></span> |<span data-ttu-id="e0ccd-275">Több alhálózat toomanage.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-275">Multiple subnets toomanage.</span></span> |

## <a name="sample-design"></a><span data-ttu-id="e0ccd-276">A minta-Tervező</span><span class="sxs-lookup"><span data-stu-id="e0ccd-276">Sample design</span></span>
<span data-ttu-id="e0ccd-277">tooillustrate hello alkalmazásának hello információkat ebben a cikkben vegye figyelembe a következő forgatókönyv hello.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-277">tooillustrate hello application of hello information in this article, consider hello following scenario.</span></span>

<span data-ttu-id="e0ccd-278">A vállalatnál, amelyen 2 adatközpontok Észak-Amerikában, és két adatközpontok Európa dolgozik.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-278">You work for a company that has 2 data centers in North America, and two data centers Europe.</span></span> <span data-ttu-id="e0ccd-279">6 azonosított 2 különböző üzleti egységek által kezelt alkalmazások elérhető különböző ügyfél, amelyet az toomigrate tooAzure, egy kísérlet keretében.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-279">You identified 6 different customer facing applications maintained by 2 different business units that you want toomigrate tooAzure as a pilot.</span></span> <span data-ttu-id="e0ccd-280">hello alapvető architektúráját hello alkalmazásokhoz a következők:</span><span class="sxs-lookup"><span data-stu-id="e0ccd-280">hello basic architecture for hello applications are as follows:</span></span>

* <span data-ttu-id="e0ccd-281">Az App1, App2, App3 és App4 futtató Ubuntu Linux-kiszolgálókon lévő webalkalmazások.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-281">App1, App2, App3, and App4 are web applications hosted on Linux servers running Ubuntu.</span></span> <span data-ttu-id="e0ccd-282">Minden alkalmazás a Linux-kiszolgálókon a RESTful-szolgáltatásokat futtató tooa különálló alkalmazáskészletekben kiszolgáló csatlakozik.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-282">Each application connects tooa separate application server that hosts RESTful services on Linux servers.</span></span> <span data-ttu-id="e0ccd-283">hello RESTful-szolgáltatásokat csatlakozás tooa háttér MySQL-adatbázis.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-283">hello RESTful services connect tooa back end MySQL database.</span></span>
* <span data-ttu-id="e0ccd-284">App5 és App6 is a Windows a Windows Server 2012 R2 rendszerű kiszolgálókon tárolt webes alkalmazásokhoz.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-284">App5 and App6 are web applications hosted on Windows servers running Windows Server 2012 R2.</span></span> <span data-ttu-id="e0ccd-285">Minden alkalmazás tooa háttérben SQL Server-adatbázishoz csatlakozik.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-285">Each application connects tooa back end SQL Server database.</span></span>
* <span data-ttu-id="e0ccd-286">Minden alkalmazás jelenleg tárolt hello vállalati adatközpontok Észak-Amerikában egyikét.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-286">All apps are currently hosted in one of hello company's data centers in North America.</span></span>
* <span data-ttu-id="e0ccd-287">a helyszíni adatközpont hello hello 10.0.0.0/8 címterület használata.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-287">hello on-premises data centers use hello 10.0.0.0/8 address space.</span></span>

<span data-ttu-id="e0ccd-288">A virtuális hálózati megoldás, amely megfelel a követelményeknek hello toodesign lesz szüksége:</span><span class="sxs-lookup"><span data-stu-id="e0ccd-288">You need toodesign a virtual network solution that meets hello following requirements:</span></span>

* <span data-ttu-id="e0ccd-289">Mindegyik üzleti egység más üzleti egységek hálózatierőforrás-fogyasztás nem érinti.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-289">Each business unit should not be affected by resource consumption of other business units.</span></span>
* <span data-ttu-id="e0ccd-290">Virtuális hálózatokat és alhálózatokat toomake felügyeleti könnyebb hello mennyisége kell minimálisra csökkenthető.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-290">You should minimize hello amount of VNets and subnets toomake management easier.</span></span>
* <span data-ttu-id="e0ccd-291">Mindegyik üzleti egység egy teszt/fejlesztői VNet összes alkalmazás használt kell rendelkeznie.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-291">Each business unit should have a single test/development VNet used for all applications.</span></span>
* <span data-ttu-id="e0ccd-292">Minden alkalmazás 2 különböző Azure-adatközpont / kontinensen (Észak-Amerikából és Európából végzik a munkájukat) helyezkedik el.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-292">Each application is hosted in 2 different Azure data centers per continent (North America and Europe).</span></span>
* <span data-ttu-id="e0ccd-293">Minden alkalmazás teljesen elkülönülnek egymástól.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-293">Each application is completely isolated from each other.</span></span>
* <span data-ttu-id="e0ccd-294">Minden alkalmazás elérhető az ügyfelek által az hello Internet HTTP-n keresztül.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-294">Each application can be accessed by customers over hello Internet using HTTP.</span></span>
* <span data-ttu-id="e0ccd-295">Minden alkalmazás elérhetők, felhasználók csatlakoztatott toohello helyszíni adatközpontok egy titkosított alagút használatával.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-295">Each application can be accessed by users connected toohello on-premises data centers by using an encrypted tunnel.</span></span>
* <span data-ttu-id="e0ccd-296">Kapcsolat tooon helyszíni adatközpontok használjon meglévő VPN-eszközök.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-296">Connection tooon-premises data centers should use existing VPN devices.</span></span>
* <span data-ttu-id="e0ccd-297">hello vállalati hálózati csoport kell faxrendszergazdáknak teljes hozzáférésük van hello VNet konfigurációját.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-297">hello company's networking group should have full control over hello VNet configuration.</span></span>
* <span data-ttu-id="e0ccd-298">Mindegyik üzleti egység a fejlesztők használatuk csak akkor tudja toodeploy virtuális gépek tooexisting alhálózatokat.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-298">Developers in each business unit should only be able toodeploy VMs tooexisting subnets.</span></span>
* <span data-ttu-id="e0ccd-299">Minden alkalmazást telepíti át, mivel ezek tooAzure (növekedési-és-shift).</span><span class="sxs-lookup"><span data-stu-id="e0ccd-299">All applications will be migrated as they are tooAzure (lift-and-shift).</span></span>
* <span data-ttu-id="e0ccd-300">az egyes helyeken hello adatbázisok kell replikálni tooother Azure helyek naponta egyszer.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-300">hello databases in each location should replicate tooother Azure locations once a day.</span></span>
* <span data-ttu-id="e0ccd-301">Minden alkalmazás kell használni, 5 előtér-webkiszolgálók, 2 alkalmazáskiszolgálók (ha szükséges) és 2 adatbázis-kiszolgálókhoz.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-301">Each application should use 5 front end web servers, 2 application servers (when necessary), and 2 database servers.</span></span>

### <a name="plan"></a><span data-ttu-id="e0ccd-302">Felkészülés</span><span class="sxs-lookup"><span data-stu-id="e0ccd-302">Plan</span></span>
<span data-ttu-id="e0ccd-303">Először meg kell válaszolnia a Tervező hello hello kérdés megválaszolásával tervezési [követelményeinek meghatározása](#Define-requirements) szakaszban, ahogy alább látható.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-303">You should start your design planning by answering hello question in hello [Define requirements](#Define-requirements) section as shown below.</span></span>

1. <span data-ttu-id="e0ccd-304">Mi az Azure helyek fogja toohost Vnetek használni?</span><span class="sxs-lookup"><span data-stu-id="e0ccd-304">What Azure locations will you use toohost VNets?</span></span>

    <span data-ttu-id="e0ccd-305">Észak-Amerikában 2 helyeket, és az Európai 2 helyek.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-305">2 locations in North America, and 2 locations in Europe.</span></span> <span data-ttu-id="e0ccd-306">Ki kell választania azokat a meglévő helyszíni adatközpontok hello fizikai helye alapján.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-306">You should pick those based on hello physical location of your existing on-premises data centers.</span></span> <span data-ttu-id="e0ccd-307">Ezzel a módszerrel a kapcsolatot a fizikai helyek tooAzure a jobb késleltetése lesz.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-307">That way your connection from your physical locations tooAzure will have a better latency.</span></span>
2. <span data-ttu-id="e0ccd-308">Kell-e tooprovide kommunikációs Azure között?</span><span class="sxs-lookup"><span data-stu-id="e0ccd-308">Do you need tooprovide communication between these Azure locations?</span></span>

    <span data-ttu-id="e0ccd-309">Igen.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-309">Yes.</span></span> <span data-ttu-id="e0ccd-310">Hello adatbázisok replikált tooall helyek kell lennie.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-310">Since hello databases must be replicated tooall locations.</span></span>
3. <span data-ttu-id="e0ccd-311">Szüksége van az Azure VNet(s) és a helyszíni adatok center(s) közötti tooprovide kommunikációs?</span><span class="sxs-lookup"><span data-stu-id="e0ccd-311">Do you need tooprovide communication between your Azure VNet(s) and your on-premises data center(s)?</span></span>

    <span data-ttu-id="e0ccd-312">Igen.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-312">Yes.</span></span> <span data-ttu-id="e0ccd-313">Felhasználók csatlakoztatva toohello helyszíni adatközpontok kell tudni tooaccess hello alkalmazások egy titkosított alagúton keresztül.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-313">Since users connected toohello on-premises data centers must be able tooaccess hello applications through an encrypted tunnel.</span></span>
4. <span data-ttu-id="e0ccd-314">Hány IaaS virtuális gépeket kell megoldást?</span><span class="sxs-lookup"><span data-stu-id="e0ccd-314">How many IaaS VMs do you need for your solution?</span></span>

    <span data-ttu-id="e0ccd-315">200 IaaS virtuális gépeket.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-315">200 IaaS VMs.</span></span> <span data-ttu-id="e0ccd-316">Az App1, App2, App3 és App4 minden 5 webkiszolgálók, minden egyes 2 alkalmazáskiszolgálók és szükséges 2 adatbázis-kiszolgálókhoz minden.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-316">App1, App2, App3, and App4 require 5 web servers each, 2 applications servers each, and 2 database servers each.</span></span> <span data-ttu-id="e0ccd-317">Ez összesen alkalmazásonként 9 IaaS virtuális gépeket, vagy 36 IaaS virtuális gépeket.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-317">That's a total of 9 IaaS VMs per application, or 36 IaaS VMs.</span></span> <span data-ttu-id="e0ccd-318">App5 és App6 5 webkiszolgálókat és a 2 adatbázis-kiszolgálókhoz minden szükséges.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-318">App5 and App6 require 5 web servers and 2 database servers each.</span></span> <span data-ttu-id="e0ccd-319">Ez összesen alkalmazásonként 7 IaaS virtuális gépeket, illetve 14 IaaS virtuális gépeket.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-319">That's a total of 7 IaaS VMs per application, or 14 IaaS VMs.</span></span> <span data-ttu-id="e0ccd-320">Ezért figyelembe kell 50 IaaS virtuális gépek minden egyes Azure-régióban lévő alkalmazásokhoz.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-320">Therefore, you need 50 IaaS VMs for all applications in each Azure region.</span></span> <span data-ttu-id="e0ccd-321">Toouse 4 régiók igazolnia kell, mert nem lesznek 200 IaaS virtuális gépeket.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-321">Since we need toouse 4 regions, there will be 200 IaaS VMs.</span></span>

    <span data-ttu-id="e0ccd-322">Az Azure IaaS virtuális gépeket és a helyszíni hálózat között is kell tooprovide DNS-kiszolgálók minden egyes virtuális hálózatot, vagy a helyszíni adatok központok tooresolve neve.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-322">You will also need tooprovide DNS servers in each VNet, or in your on-premises data centers tooresolve name between your Azure IaaS VMs and your on-premises network.</span></span>
5. <span data-ttu-id="e0ccd-323">Kell-e a virtuális gépek (azaz előtér-webkiszolgáló és háttérbeli adatbázis-kiszolgálók) alapuló tooisolate forgalom?</span><span class="sxs-lookup"><span data-stu-id="e0ccd-323">Do you need tooisolate traffic based on groups of VMs (i.e. front end web servers and back end database servers)?</span></span>

    <span data-ttu-id="e0ccd-324">Igen.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-324">Yes.</span></span> <span data-ttu-id="e0ccd-325">Minden alkalmazás legyen teljesen elkülönülnek egymástól, és minden alkalmazásréteg is el kell különíteni.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-325">Each application should be completely isolated from each other, and each application layer should also be isolated.</span></span>
6. <span data-ttu-id="e0ccd-326">Virtuális készülékek használata toocontrol adatforgalmat kell?</span><span class="sxs-lookup"><span data-stu-id="e0ccd-326">Do you need toocontrol traffic flow using virtual appliances?</span></span>

    <span data-ttu-id="e0ccd-327">Nem.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-327">No.</span></span> <span data-ttu-id="e0ccd-328">Virtuális készülékek lehet használt tooprovide több forgalom áramlását – beleértve a részletes adatok vezérlősík naplózás vezérlése.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-328">Virtual appliances can be used tooprovide more control over traffic flow, including more detailed data plane logging.</span></span>
7. <span data-ttu-id="e0ccd-329">Hajtsa végre az Azure-erőforrások felhasználók kell különböző karakterkészleteket engedélyek toodifferent?</span><span class="sxs-lookup"><span data-stu-id="e0ccd-329">Do users need different sets of permissions toodifferent Azure resources?</span></span>

    <span data-ttu-id="e0ccd-330">Igen.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-330">Yes.</span></span> <span data-ttu-id="e0ccd-331">hello hálózati csapatának a következőket kell teljes hozzáférést hello virtuális hálózati beállítások, amíg a fejlesztők csak akkor tudja toodeploy a virtuális gépek toopre létező alhálózataikat.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-331">hello networking team needs full control on hello virtual networking settings, while developers should only be able toodeploy their VMs toopre-existing subnets.</span></span>

### <a name="design"></a><span data-ttu-id="e0ccd-332">Tervezés</span><span class="sxs-lookup"><span data-stu-id="e0ccd-332">Design</span></span>
<span data-ttu-id="e0ccd-333">Hello tervezési előfizetések, Vnetek, alhálózatok és egyéb NSG-ket kell követnie.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-333">You should follow hello design specifying subscriptions, VNets, subnets, and NSGs.</span></span> <span data-ttu-id="e0ccd-334">Itt ismertetik az NSG-k, de kapcsolatos kell további [NSG-k](virtual-networks-nsg.md) a tervezés befejezése előtt.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-334">We will discuss NSGs here, but you should learn more about [NSGs](virtual-networks-nsg.md) before finishing your design.</span></span>

<span data-ttu-id="e0ccd-335">**Az előfizetések és Vnetek száma**</span><span class="sxs-lookup"><span data-stu-id="e0ccd-335">**Number of subscriptions and VNets**</span></span>

<span data-ttu-id="e0ccd-336">hello követelményeknek kapcsolódó toosubscriptions és Vnetek:</span><span class="sxs-lookup"><span data-stu-id="e0ccd-336">hello following requirements are related toosubscriptions and VNets:</span></span>

* <span data-ttu-id="e0ccd-337">Mindegyik üzleti egység más üzleti egységek hálózatierőforrás-fogyasztás nem érinti.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-337">Each business unit should not be affected by resource consumption of other business units.</span></span>
* <span data-ttu-id="e0ccd-338">Hello mennyiségét virtuális hálózatokat és alhálózatokat kell minimálisra csökkenthető.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-338">You should minimize hello amount of VNets and subnets.</span></span>
* <span data-ttu-id="e0ccd-339">Mindegyik üzleti egység egy teszt/fejlesztői VNet összes alkalmazás használt kell rendelkeznie.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-339">Each business unit should have a single test/development VNet used for all applications.</span></span>
* <span data-ttu-id="e0ccd-340">Minden alkalmazás 2 különböző Azure-adatközpont / kontinensen (Észak-Amerikából és Európából végzik a munkájukat) helyezkedik el.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-340">Each application is hosted in 2 different Azure data centers per continent (North America and Europe).</span></span>

<span data-ttu-id="e0ccd-341">Ezek a követelmények, meg kell egy előfizetési részlegek számára.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-341">Based on those requirements, you need a subscription for each business unit.</span></span> <span data-ttu-id="e0ccd-342">Így az üzleti egységek az erőforrások fogyasztásának is nem beleszámít korlátok egyéb üzleti egységek számára.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-342">That way, consumption of resources from a business unit will not count towards limits for other business units.</span></span> <span data-ttu-id="e0ccd-343">És mivel azt szeretné, hogy a Vnetek toominimize hello száma, érdemes hello **üzleti egység, az egyes alkalmazások két Vnetek egy előfizetés** mintát, az alább látható módon.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-343">And since you want toominimize hello number of VNets, you should consider using hello **one subscription per business unit, two VNets per group of apps** pattern as seen below.</span></span>

![Egyetlen előfizetés](./media/virtual-network-vnet-plan-design-arm/figure9.png)

<span data-ttu-id="e0ccd-345">Minden egyes vnet toospecify hello címterület is kell.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-345">You also need toospecify hello address space for each VNet.</span></span> <span data-ttu-id="e0ccd-346">Mivel szüksége hello közötti kapcsolatot a helyszíni adatközpont hello Azure-régiók, használja az Azure Vnetekhez hello címterület nem ütközhetnek hello a helyszíni hálózat és minden egyes virtuális hálózat által használt hello címterület nem kell más meglévő Vnetek ütközhetnek.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-346">Since you need connectivity between hello on-premises data centers and hello Azure regions, hello address space used for Azure VNets cannot clash with hello on-premises network, and hello address space used by each VNet should not clash with other existing VNets.</span></span> <span data-ttu-id="e0ccd-347">Ezek a követelmények használható hello címterek hello tábla toosatisfy alatt.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-347">You could use hello address spaces in hello table below toosatisfy these requirements.</span></span>  

| <span data-ttu-id="e0ccd-348">**Előfizetés**</span><span class="sxs-lookup"><span data-stu-id="e0ccd-348">**Subscription**</span></span> | <span data-ttu-id="e0ccd-349">**Virtuális hálózat**</span><span class="sxs-lookup"><span data-stu-id="e0ccd-349">**VNet**</span></span> | <span data-ttu-id="e0ccd-350">**Az Azure-régió**</span><span class="sxs-lookup"><span data-stu-id="e0ccd-350">**Azure region**</span></span> | <span data-ttu-id="e0ccd-351">**Címtér**</span><span class="sxs-lookup"><span data-stu-id="e0ccd-351">**Address space**</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="e0ccd-352">BU1</span><span class="sxs-lookup"><span data-stu-id="e0ccd-352">BU1</span></span> |<span data-ttu-id="e0ccd-353">ProdBU1US1</span><span class="sxs-lookup"><span data-stu-id="e0ccd-353">ProdBU1US1</span></span> |<span data-ttu-id="e0ccd-354">USA nyugati régiója</span><span class="sxs-lookup"><span data-stu-id="e0ccd-354">West US</span></span> |<span data-ttu-id="e0ccd-355">172.16.0.0/16</span><span class="sxs-lookup"><span data-stu-id="e0ccd-355">172.16.0.0/16</span></span> |
| <span data-ttu-id="e0ccd-356">BU1</span><span class="sxs-lookup"><span data-stu-id="e0ccd-356">BU1</span></span> |<span data-ttu-id="e0ccd-357">ProdBU1US2</span><span class="sxs-lookup"><span data-stu-id="e0ccd-357">ProdBU1US2</span></span> |<span data-ttu-id="e0ccd-358">USA keleti régiója</span><span class="sxs-lookup"><span data-stu-id="e0ccd-358">East US</span></span> |<span data-ttu-id="e0ccd-359">172.17.0.0/16</span><span class="sxs-lookup"><span data-stu-id="e0ccd-359">172.17.0.0/16</span></span> |
| <span data-ttu-id="e0ccd-360">BU1</span><span class="sxs-lookup"><span data-stu-id="e0ccd-360">BU1</span></span> |<span data-ttu-id="e0ccd-361">ProdBU1EU1</span><span class="sxs-lookup"><span data-stu-id="e0ccd-361">ProdBU1EU1</span></span> |<span data-ttu-id="e0ccd-362">Észak-Európa</span><span class="sxs-lookup"><span data-stu-id="e0ccd-362">North Europe</span></span> |<span data-ttu-id="e0ccd-363">172.18.0.0/16</span><span class="sxs-lookup"><span data-stu-id="e0ccd-363">172.18.0.0/16</span></span> |
| <span data-ttu-id="e0ccd-364">BU1</span><span class="sxs-lookup"><span data-stu-id="e0ccd-364">BU1</span></span> |<span data-ttu-id="e0ccd-365">ProdBU1EU2</span><span class="sxs-lookup"><span data-stu-id="e0ccd-365">ProdBU1EU2</span></span> |<span data-ttu-id="e0ccd-366">Nyugat-Európa</span><span class="sxs-lookup"><span data-stu-id="e0ccd-366">West Europe</span></span> |<span data-ttu-id="e0ccd-367">172.19.0.0/16</span><span class="sxs-lookup"><span data-stu-id="e0ccd-367">172.19.0.0/16</span></span> |
| <span data-ttu-id="e0ccd-368">BU1</span><span class="sxs-lookup"><span data-stu-id="e0ccd-368">BU1</span></span> |<span data-ttu-id="e0ccd-369">TestDevBU1</span><span class="sxs-lookup"><span data-stu-id="e0ccd-369">TestDevBU1</span></span> |<span data-ttu-id="e0ccd-370">USA nyugati régiója</span><span class="sxs-lookup"><span data-stu-id="e0ccd-370">West US</span></span> |<span data-ttu-id="e0ccd-371">172.20.0.0/16</span><span class="sxs-lookup"><span data-stu-id="e0ccd-371">172.20.0.0/16</span></span> |
| <span data-ttu-id="e0ccd-372">BU2</span><span class="sxs-lookup"><span data-stu-id="e0ccd-372">BU2</span></span> |<span data-ttu-id="e0ccd-373">TestDevBU2</span><span class="sxs-lookup"><span data-stu-id="e0ccd-373">TestDevBU2</span></span> |<span data-ttu-id="e0ccd-374">USA nyugati régiója</span><span class="sxs-lookup"><span data-stu-id="e0ccd-374">West US</span></span> |<span data-ttu-id="e0ccd-375">172.21.0.0/16</span><span class="sxs-lookup"><span data-stu-id="e0ccd-375">172.21.0.0/16</span></span> |
| <span data-ttu-id="e0ccd-376">BU2</span><span class="sxs-lookup"><span data-stu-id="e0ccd-376">BU2</span></span> |<span data-ttu-id="e0ccd-377">ProdBU2US1</span><span class="sxs-lookup"><span data-stu-id="e0ccd-377">ProdBU2US1</span></span> |<span data-ttu-id="e0ccd-378">USA nyugati régiója</span><span class="sxs-lookup"><span data-stu-id="e0ccd-378">West US</span></span> |<span data-ttu-id="e0ccd-379">172.22.0.0/16</span><span class="sxs-lookup"><span data-stu-id="e0ccd-379">172.22.0.0/16</span></span> |
| <span data-ttu-id="e0ccd-380">BU2</span><span class="sxs-lookup"><span data-stu-id="e0ccd-380">BU2</span></span> |<span data-ttu-id="e0ccd-381">ProdBU2US2</span><span class="sxs-lookup"><span data-stu-id="e0ccd-381">ProdBU2US2</span></span> |<span data-ttu-id="e0ccd-382">USA keleti régiója</span><span class="sxs-lookup"><span data-stu-id="e0ccd-382">East US</span></span> |<span data-ttu-id="e0ccd-383">172.23.0.0/16</span><span class="sxs-lookup"><span data-stu-id="e0ccd-383">172.23.0.0/16</span></span> |
| <span data-ttu-id="e0ccd-384">BU2</span><span class="sxs-lookup"><span data-stu-id="e0ccd-384">BU2</span></span> |<span data-ttu-id="e0ccd-385">ProdBU2EU1</span><span class="sxs-lookup"><span data-stu-id="e0ccd-385">ProdBU2EU1</span></span> |<span data-ttu-id="e0ccd-386">Észak-Európa</span><span class="sxs-lookup"><span data-stu-id="e0ccd-386">North Europe</span></span> |<span data-ttu-id="e0ccd-387">172.24.0.0/16</span><span class="sxs-lookup"><span data-stu-id="e0ccd-387">172.24.0.0/16</span></span> |
| <span data-ttu-id="e0ccd-388">BU2</span><span class="sxs-lookup"><span data-stu-id="e0ccd-388">BU2</span></span> |<span data-ttu-id="e0ccd-389">ProdBU2EU2</span><span class="sxs-lookup"><span data-stu-id="e0ccd-389">ProdBU2EU2</span></span> |<span data-ttu-id="e0ccd-390">Nyugat-Európa</span><span class="sxs-lookup"><span data-stu-id="e0ccd-390">West Europe</span></span> |<span data-ttu-id="e0ccd-391">172.25.0.0/16</span><span class="sxs-lookup"><span data-stu-id="e0ccd-391">172.25.0.0/16</span></span> |

<span data-ttu-id="e0ccd-392">**Alhálózatokat és az NSG-k száma**</span><span class="sxs-lookup"><span data-stu-id="e0ccd-392">**Number of subnets and NSGs**</span></span>

<span data-ttu-id="e0ccd-393">hello követelményeknek kapcsolódó toosubnets és NSG-k:</span><span class="sxs-lookup"><span data-stu-id="e0ccd-393">hello following requirements are related toosubnets and NSGs:</span></span>

* <span data-ttu-id="e0ccd-394">Hello mennyiségét virtuális hálózatokat és alhálózatokat kell minimálisra csökkenthető.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-394">You should minimize hello amount of VNets and subnets.</span></span>
* <span data-ttu-id="e0ccd-395">Minden alkalmazás teljesen elkülönülnek egymástól.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-395">Each application is completely isolated from each other.</span></span>
* <span data-ttu-id="e0ccd-396">Minden alkalmazás elérhető az ügyfelek által az hello Internet HTTP-n keresztül.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-396">Each application can be accessed by customers over hello Internet using HTTP.</span></span>
* <span data-ttu-id="e0ccd-397">Minden alkalmazás elérhetők, felhasználók csatlakoztatott toohello helyszíni adatközpontok egy titkosított alagút használatával.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-397">Each application can be accessed by users connected toohello on-premises data centers by using an encrypted tunnel.</span></span>
* <span data-ttu-id="e0ccd-398">Kapcsolat tooon helyszíni adatközpontok használjon meglévő VPN-eszközök.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-398">Connection tooon-premises data centers should use existing VPN devices.</span></span>
* <span data-ttu-id="e0ccd-399">az egyes helyeken hello adatbázisok kell replikálni tooother Azure helyek naponta egyszer.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-399">hello databases in each location should replicate tooother Azure locations once a day.</span></span>

<span data-ttu-id="e0ccd-400">Ezek a követelmények alapján, képes használni, egy alkalmazás rétegenként, és az NSG-k toofilter adatforgalom alkalmazásonként.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-400">Based on those requirements, you could use one subnet per application layer, and use NSGs toofilter traffic per application.</span></span> <span data-ttu-id="e0ccd-401">Ezzel a módszerrel csak akkor kell minden egyes virtuális hálózat (előtér alkalmazásréteg és adatrétege) 3 alhálózatai és alkalmazásonként száma alhálózat egy NSG.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-401">That way, you only have 3 subnets in each VNet (front end, application layer, and data layer) and one NSG per application per subnet.</span></span> <span data-ttu-id="e0ccd-402">Ebben az esetben érdemes hello **alkalmazás rétegenként alkalmazásonkénti NSG-ket egy alhálózat** tervezési minta alapján.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-402">In this case, you should consider using hello **one subnet per application layer, NSGs per app** design pattern.</span></span> <span data-ttu-id="e0ccd-403">hello az alábbi ábra hello tervezési minta hello képviselő hello használata **ProdBU1US1** virtuális hálózat.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-403">hello figure below shows hello use of hello design pattern representing hello **ProdBU1US1** VNet.</span></span>

![Rétegenként rétegenként alkalmazásonként egy NSG több alhálózattal](./media/virtual-network-vnet-plan-design-arm/figure11.png)

<span data-ttu-id="e0ccd-405">Azonban szüksége is toocreate egy külön alhálózatot hello VPN-kapcsolat hello Vnetek, és a helyszíni adatközpont között.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-405">However, you also need toocreate an extra subnet for hello VPN connectivity between hello VNets, and your on-premises data centers.</span></span> <span data-ttu-id="e0ccd-406">És az egyes alhálózatokon toospecify hello cím területre van szükség.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-406">And you need toospecify hello address space for each subnet.</span></span> <span data-ttu-id="e0ccd-407">hello az alábbi ábra egy minta megoldás **ProdBU1US1** virtuális hálózat.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-407">hello figure below shows a sample solution for **ProdBU1US1** VNet.</span></span> <span data-ttu-id="e0ccd-408">Ebben a forgatókönyvben minden vnet replikálna.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-408">You would replicate this scenario for each VNet.</span></span> <span data-ttu-id="e0ccd-409">A szín jelöli egy másik alkalmazás.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-409">Each color represents a different application.</span></span>

![A minta virtuális hálózat](./media/virtual-network-vnet-plan-design-arm/figure10.png)

<span data-ttu-id="e0ccd-411">**Hozzáférés-vezérlés**</span><span class="sxs-lookup"><span data-stu-id="e0ccd-411">**Access Control**</span></span>

<span data-ttu-id="e0ccd-412">hello következő követelményei kapcsolódó tooaccess vezérlő:</span><span class="sxs-lookup"><span data-stu-id="e0ccd-412">hello following requirements are related tooaccess control:</span></span>

* <span data-ttu-id="e0ccd-413">hello vállalati hálózati csoport kell faxrendszergazdáknak teljes hozzáférésük van hello VNet konfigurációját.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-413">hello company's networking group should have full control over hello VNet configuration.</span></span>
* <span data-ttu-id="e0ccd-414">Mindegyik üzleti egység a fejlesztők használatuk csak akkor tudja toodeploy virtuális gépek tooexisting alhálózatokat.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-414">Developers in each business unit should only be able toodeploy VMs tooexisting subnets.</span></span>

<span data-ttu-id="e0ccd-415">Ezek a követelmények alapján, érdemes felvenni felhasználók a hálózati csoport toohello beépített hello **hálózat közreműködő** minden előfizetésben; szerepkör, és hozzon létre egy egyéni biztonsági szerepkört a hello alkalmazásfejlesztők minden előfizetés kiadása jogok nekik tooadd virtuális gépek tooexisting alhálózatokat.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-415">Based on those requirements, you could add users from hello networking team toohello built-in **Network Contributor** role in each subscription; and create a custom role for hello application developers in each subscription giving them rights tooadd VMs tooexisting subnets.</span></span>

## <a name="next-steps"></a><span data-ttu-id="e0ccd-416">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="e0ccd-416">Next steps</span></span>
* <span data-ttu-id="e0ccd-417">[Telepíthet egy virtuális hálózatot](virtual-networks-create-vnet-arm-template-click.md) eset alapján.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-417">[Deploy a virtual network](virtual-networks-create-vnet-arm-template-click.md) based on a scenario.</span></span>
* <span data-ttu-id="e0ccd-418">Hogyan túl megértéséhez[terheléselosztásához](../load-balancer/load-balancer-overview.md) IaaS virtuális gépeket és [kezelése az útválasztást a több Azure-régiók](../traffic-manager/traffic-manager-overview.md).</span><span class="sxs-lookup"><span data-stu-id="e0ccd-418">Understand how too[load balance](../load-balancer/load-balancer-overview.md) IaaS VMs and [manage routing over multiple Azure regions](../traffic-manager/traffic-manager-overview.md).</span></span>
* <span data-ttu-id="e0ccd-419">További információ [NSG-ket és hogyan tooplan és tervezési](virtual-networks-nsg.md) egy NSG-megoldáshoz.</span><span class="sxs-lookup"><span data-stu-id="e0ccd-419">Learn more about [NSGs and how tooplan and design](virtual-networks-nsg.md) an NSG solution.</span></span>
* <span data-ttu-id="e0ccd-420">További információ a [létesítmények közötti és VNet kapcsolati lehetőségek](../vpn-gateway/vpn-gateway-about-vpngateways.md#s2smulti).</span><span class="sxs-lookup"><span data-stu-id="e0ccd-420">Learn more about your [cross-premises and VNet connectivity options](../vpn-gateway/vpn-gateway-about-vpngateways.md#s2smulti).</span></span>
