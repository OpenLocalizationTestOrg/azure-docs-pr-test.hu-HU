---
title: "aaaExecute Python gépi tanulási parancsfájlok |} Microsoft Docs"
description: "Vázol fel tervezési alapelvek az alapul szolgáló Azure Machine Learning és alapvető használati forgatókönyvek, képességekre és korlátozásokra Python parancsfájlok támogatása."
keywords: "Python gépi tanulási, pandas, a python pandas, a python-parancsfájlok, python-parancsfájl végrehajtása"
services: machine-learning
documentationcenter: 
author: bradsev
manager: jhubbard
editor: cgronlun
ms.assetid: ee9eb764-0d3e-4104-a797-19fc29345d39
ms.service: machine-learning
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/26/2017
ms.author: bradsev
ms.openlocfilehash: 8d23aaa972a46cb1a07ea0f18cc1e24933fe3e6f
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="execute-python-machine-learning-scripts-in-azure-machine-learning-studio"></a><span data-ttu-id="5a7c0-104">A Python Machine Learning parancsfájlok végrehajtása az Azure Machine Learning Studióban</span><span class="sxs-lookup"><span data-stu-id="5a7c0-104">Execute Python machine learning scripts in Azure Machine Learning Studio</span></span>

<span data-ttu-id="5a7c0-105">Ez a témakör ismerteti az alapul szolgáló hello aktuális támogatja a Python-parancsfájl az Azure Machine Learning hello tervezési alapelvek.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-105">This topic describes hello design principles underlying hello current support for Python scripts in Azure Machine Learning.</span></span> <span data-ttu-id="5a7c0-106">hello fő képesség azt is, beleértve:</span><span class="sxs-lookup"><span data-stu-id="5a7c0-106">hello main capabilities provided are also outlined, including:</span></span>

- <span data-ttu-id="5a7c0-107">a végrehajtás alapvető használati forgatókönyvek</span><span class="sxs-lookup"><span data-stu-id="5a7c0-107">execute basic usage scenarios</span></span>
- <span data-ttu-id="5a7c0-108">a kísérlet pontozása egy webszolgáltatás</span><span class="sxs-lookup"><span data-stu-id="5a7c0-108">score an experiment in a web service</span></span>
- <span data-ttu-id="5a7c0-109">importálja a meglévő kód támogatása</span><span class="sxs-lookup"><span data-stu-id="5a7c0-109">support for importing existing code</span></span>
- <span data-ttu-id="5a7c0-110">képi megjelenítések exportálása</span><span class="sxs-lookup"><span data-stu-id="5a7c0-110">export visualizations</span></span>
- <span data-ttu-id="5a7c0-111">hajtsa végre a felügyelt szolgáltatás kiválasztása</span><span class="sxs-lookup"><span data-stu-id="5a7c0-111">perform supervised feature selection</span></span>
- <span data-ttu-id="5a7c0-112">bizonyos korlátozások megértése</span><span class="sxs-lookup"><span data-stu-id="5a7c0-112">understand some limitations</span></span>

<span data-ttu-id="5a7c0-113">[Python](https://www.python.org/) a hello eszköz mellkasát sok adatszakértőkön elengedhetetlen eszköz.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-113">[Python](https://www.python.org/) is an indispensable tool in hello tool chest of many data scientists.</span></span> <span data-ttu-id="5a7c0-114">Rendelkezik:</span><span class="sxs-lookup"><span data-stu-id="5a7c0-114">It has:</span></span>

* <span data-ttu-id="5a7c0-115">egy elegáns és tömör szintaxis</span><span class="sxs-lookup"><span data-stu-id="5a7c0-115">an elegant and concise syntax,</span></span> 
* <span data-ttu-id="5a7c0-116">többplatformos támogatást,</span><span class="sxs-lookup"><span data-stu-id="5a7c0-116">cross-platform support,</span></span> 
* <span data-ttu-id="5a7c0-117">hatékony szalagtárak hatalmas és</span><span class="sxs-lookup"><span data-stu-id="5a7c0-117">a vast collection of powerful libraries, and</span></span> 
* <span data-ttu-id="5a7c0-118">érett Fejlesztőeszközök.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-118">mature development tools.</span></span> 

<span data-ttu-id="5a7c0-119">Python használatban van a machine learning modellezési jellemzően használt munkafolyamat minden egyes szakaszába:</span><span class="sxs-lookup"><span data-stu-id="5a7c0-119">Python is being used in all phases of a workflow typically used in machine learning modeling:</span></span>

- <span data-ttu-id="5a7c0-120">adatok betöltési és feldolgozása</span><span class="sxs-lookup"><span data-stu-id="5a7c0-120">data ingest and processing</span></span> 
- <span data-ttu-id="5a7c0-121">szolgáltatás létrehozása</span><span class="sxs-lookup"><span data-stu-id="5a7c0-121">feature construction</span></span>
- <span data-ttu-id="5a7c0-122">modell betanítási</span><span class="sxs-lookup"><span data-stu-id="5a7c0-122">model training</span></span> 
- <span data-ttu-id="5a7c0-123">Modellellenőrzés</span><span class="sxs-lookup"><span data-stu-id="5a7c0-123">model validation</span></span>
- <span data-ttu-id="5a7c0-124">hello modellek központi telepítése</span><span class="sxs-lookup"><span data-stu-id="5a7c0-124">deployment of hello models</span></span>

<span data-ttu-id="5a7c0-125">Azure Machine Learning Studio támogatja a beágyazási Python-parancsfájlok tanulási kísérlet és zökkenőmentesen is közzé őket a Microsoft Azure webszolgáltatásként gépek különböző részre.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-125">Azure Machine Learning Studio supports embedding Python scripts into various parts of a machine learning experiment and also seamlessly publishing them as web services on Microsoft Azure.</span></span>

[!INCLUDE [machine-learning-free-trial](../../includes/machine-learning-free-trial.md)]


## <a name="design-principles-of-python-scripts-in-machine-learning"></a><span data-ttu-id="5a7c0-126">Python gépi tanulási parancsfájlok tervezési alapelvei</span><span class="sxs-lookup"><span data-stu-id="5a7c0-126">Design principles of Python scripts in Machine Learning</span></span>

<span data-ttu-id="5a7c0-127">az Azure Machine Learning Studióban hello elsődleges kapcsolódási felületet tooPython hello keresztül van [Python-parancsfájl végrehajtására] [ execute-python-script] modul 1. ábrán látható.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-127">hello primary interface tooPython in Azure Machine Learning Studio is via hello [Execute Python Script][execute-python-script] module shown in Figure 1.</span></span>

![image1](./media/machine-learning-execute-python-scripts/execute-machine-learning-python-scripts-module.png)

![image2](./media/machine-learning-execute-python-scripts/embedded-machine-learning-python-script.png)

<span data-ttu-id="5a7c0-130">1. ábra.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-130">Figure 1.</span></span> <span data-ttu-id="5a7c0-131">Hello **Python-parancsfájl végrehajtására** modul.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-131">hello **Execute Python Script** module.</span></span>

<span data-ttu-id="5a7c0-132">Hello [Python-parancsfájl végrehajtására] [ execute-python-script] modul az Azure ML Studio mentése toothree bemeneti adatokat fogad, és hozza be tootwo kimenetek (hello a következő szakaszban ismertetett), például az R analóg hello [ R-parancsfájl végrehajtása] [ execute-r-script] modul.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-132">hello [Execute Python Script][execute-python-script] module in Azure ML Studio accepts up toothree inputs and produces up tootwo outputs (discussed in hello following section), like its R analogue, hello [Execute R Script][execute-r-script] module.</span></span> <span data-ttu-id="5a7c0-133">hello Python kódját toobe végre bekerül a hello paraméter mezőben kifejezetten nevű belépési pont hívott függvény `azureml_main`.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-133">hello Python code toobe executed is entered into hello parameter box as a specially named entry-point function called `azureml_main`.</span></span> <span data-ttu-id="5a7c0-134">Az alábbiakban hello tervezési alapelvek használt tooimplement ezzel a modullal:</span><span class="sxs-lookup"><span data-stu-id="5a7c0-134">Here are hello key design principles used tooimplement this module:</span></span>

1. <span data-ttu-id="5a7c0-135">*A Python felhasználók idiomatikus kell lennie.*</span><span class="sxs-lookup"><span data-stu-id="5a7c0-135">*Must be idiomatic for Python users.*</span></span> <span data-ttu-id="5a7c0-136">A Python-felhasználók kódjukat funkciók modulok belül, figyelembe.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-136">Most Python users factor their code as functions inside modules.</span></span> <span data-ttu-id="5a7c0-137">Ezért helyezése egy legfelső szintű modul végrehajtható kimutatások számos olyan viszonylag ritkán fordul elő.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-137">So putting a lot of executable statements in a top-level module is relatively rare.</span></span> <span data-ttu-id="5a7c0-138">Ennek eredményeképpen hello parancsfájl mezőben is fogadja egy speciális Python függvény adatként megakadályozását toojust utasítások sorozata.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-138">As a result, hello script box also takes a specially named Python function as opposed toojust a sequence of statements.</span></span> <span data-ttu-id="5a7c0-139">hello objektum hello függvény felfedett Python könyvtár alaptípusok például [Pandas](http://pandas.pydata.org/) adatkeretek és [NumPy](http://www.numpy.org/) tömbök.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-139">hello objects exposed in hello function are standard Python library types such as [Pandas](http://pandas.pydata.org/) data frames and [NumPy](http://www.numpy.org/) arrays.</span></span>
2. <span data-ttu-id="5a7c0-140">*Valósághű helyi között kell lennie, és a felhő végrehajtások.*</span><span class="sxs-lookup"><span data-stu-id="5a7c0-140">*Must have high-fidelity between local and cloud executions.*</span></span> <span data-ttu-id="5a7c0-141">hello használt háttér tooexecute hello Python kódját alapuló [Anaconda](https://store.continuum.io/cshop/anaconda/), a platformok közötti tudományos Python elosztási széles körben használt.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-141">hello backend used tooexecute hello Python code is based on [Anaconda](https://store.continuum.io/cshop/anaconda/), a widely used cross-platform scientific Python distribution.</span></span> <span data-ttu-id="5a7c0-142">Bezárás too200 hello leggyakoribb Python-csomagokat, a mellékelt.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-142">It comes with close too200 of hello most common Python packages.</span></span> <span data-ttu-id="5a7c0-143">Ezért az adatelemzők debug és a helyi Azure Machine Learning-kompatibilis Anaconda-környezetre kódjukat minősítéséhez.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-143">Therefore, data scientists can debug and qualify their code on their local Azure Machine Learning-compatible Anaconda environment.</span></span> <span data-ttu-id="5a7c0-144">Majd használjon például egy meglévő fejlesztőkörnyezet [IPython](http://ipython.org/) notebook vagy [a Python Tools for Visual Studio](http://aka.ms/ptvs), toorun Azure ML kísérlet részeként.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-144">Then use an existing development environment, such as [IPython](http://ipython.org/) notebook or [Python Tools for Visual Studio](http://aka.ms/ptvs), toorun it as part of an Azure ML experiment.</span></span> <span data-ttu-id="5a7c0-145">Hello `azureml_main` belépési pont, a Python eredeti függvény, ezért x Azure ML-specifikus kód nélkül hozhatóak létre vagy hello SDK telepítve.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-145">hello `azureml_main` entry point is a vanilla Python function and so ****can be authored without Azure ML-specific code or hello SDK installed.</span></span>
3. <span data-ttu-id="5a7c0-146">*A többi Azure Machine Learning modulok zökkenőmentesen összeállítható kell lennie.*</span><span class="sxs-lookup"><span data-stu-id="5a7c0-146">*Must be seamlessly composable with other Azure Machine Learning modules.*</span></span> <span data-ttu-id="5a7c0-147">Hello [Python-parancsfájl végrehajtására] [ execute-python-script] modul fogad el, bemenetekhez és kimenetekhez, szabványos Azure Machine Learning adatkészletek.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-147">hello [Execute Python Script][execute-python-script] module accepts, as inputs and outputs, standard Azure Machine Learning datasets.</span></span> <span data-ttu-id="5a7c0-148">hello alapul szolgáló keretrendszer átlátható és hatékonyan kulcsösszetevő hello Azure ML és Python futtatókörnyezetek.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-148">hello underlying framework transparently and efficiently bridges hello Azure ML and Python runtimes.</span></span> <span data-ttu-id="5a7c0-149">Ezért a Python meglévő Azure ML munkafolyamathoz, beleértve azokat is, hívja az R és SQLite együtt használható.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-149">So Python can be used in conjunction with existing Azure ML workflows, including those that call into R and SQLite.</span></span> <span data-ttu-id="5a7c0-150">Eredményeként adatok tudósok munkafolyamatok állítható össze, amelyek:</span><span class="sxs-lookup"><span data-stu-id="5a7c0-150">A  result, data scientist could compose workflows that:</span></span>
   * <span data-ttu-id="5a7c0-151">Python és Pandas használja az adatok előzetes feldolgozás és tisztítás</span><span class="sxs-lookup"><span data-stu-id="5a7c0-151">use Python and Pandas for data pre-processing and cleaning</span></span>
   * <span data-ttu-id="5a7c0-152">adatcsatorna hello adatok tooa SQL átalakítása, több adatkészletek tooform funkció csatlakoztatása</span><span class="sxs-lookup"><span data-stu-id="5a7c0-152">feed hello data tooa SQL transformation, joining multiple datasets tooform features</span></span>
   * <span data-ttu-id="5a7c0-153">hello algoritmusok használata az Azure Machine Learning modellek betanítása</span><span class="sxs-lookup"><span data-stu-id="5a7c0-153">train models using hello algorithms in Azure Machine Learning</span></span> 
   * <span data-ttu-id="5a7c0-154">értékelje ki és utófeldolgozási hello eredményeket R.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-154">evaluate and post-process hello results using R.</span></span>


## <a name="basic-usage-scenarios-in-ml-for-python-scripts"></a><span data-ttu-id="5a7c0-155">Python parancsfájlok ml alapvető használati forgatókönyvek</span><span class="sxs-lookup"><span data-stu-id="5a7c0-155">Basic usage scenarios in ML for Python scripts</span></span>

<span data-ttu-id="5a7c0-156">Ez a szakasz azt megtekintheti, néhány alapvető használatát hello hello [Python-parancsfájl végrehajtására] [ execute-python-script] modul.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-156">In this section, we survey some of hello basic uses of hello [Execute Python Script][execute-python-script] module.</span></span> <span data-ttu-id="5a7c0-157">Bemenetek toohello Python modul mint Pandas adatkeretek érhetők el.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-157">Inputs toohello Python module are exposed as Pandas data frames.</span></span> <span data-ttu-id="5a7c0-158">hello függvénynek kell adnia egy Python belül csomagolt egyetlen Pandas adatok keret [feladatütemezési](https://docs.python.org/2/c-api/sequence.html) például egy rekord, lista vagy NumPy tömb.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-158">hello function must return a single Pandas data frame packaged inside of a Python [sequence](https://docs.python.org/2/c-api/sequence.html) such as a tuple, list, or NumPy array.</span></span> <span data-ttu-id="5a7c0-159">Ebben a sorozatban hello első elemének ezután visszaérkezik az első kimeneti portjára hello hello modul.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-159">hello first element of this sequence is then returned in hello first output port of hello module.</span></span> <span data-ttu-id="5a7c0-160">Ez a rendszer a 2. ábrán látható.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-160">This scheme is shown in Figure 2.</span></span>

![image3](./media/machine-learning-execute-python-scripts/map-of-python-script-inputs-outputs.png)

<span data-ttu-id="5a7c0-162">2. ábra</span><span class="sxs-lookup"><span data-stu-id="5a7c0-162">Figure 2.</span></span> <span data-ttu-id="5a7c0-163">Leképezési bemeneti portok tooparameters és a visszatérési érték toooutput port.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-163">Mapping of input ports tooparameters and return value toooutput port.</span></span>

<span data-ttu-id="5a7c0-164">Hogyan hello bemeneti portok működtetni a hello csatlakoztatott tooparameters szemantikáját részletes `azureml_main` függvény az 1 láthatók:</span><span class="sxs-lookup"><span data-stu-id="5a7c0-164">More detailed semantics of how hello input ports get mapped tooparameters of hello `azureml_main` function are shown in Table 1:</span></span>

![image1T](./media/machine-learning-execute-python-scripts/python-script-inputs-mapped-to-parameters.png)

<span data-ttu-id="5a7c0-166">1. táblázat.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-166">Table 1.</span></span> <span data-ttu-id="5a7c0-167">A bemeneti portok toofunction paraméterek leképezését.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-167">Mapping of input ports toofunction parameters.</span></span>

<span data-ttu-id="5a7c0-168">hello bemeneti portok és függvényparamétereket között lesz pozicionális:</span><span class="sxs-lookup"><span data-stu-id="5a7c0-168">hello mapping between input ports and function parameters is positional:</span></span>

- <span data-ttu-id="5a7c0-169">hello első csatlakoztatott bemeneti porthoz csatlakoztatott toohello hello függvény első paramétere.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-169">hello first connected input port is mapped toohello first parameter of hello function.</span></span> 
- <span data-ttu-id="5a7c0-170">második bemenet hello (Ha csatlakozott) csatlakoztatott toohello hello függvény második paramétere.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-170">hello second input (if connected) is mapped toohello second parameter of hello function.</span></span>

<span data-ttu-id="5a7c0-171">Lásd: *adatelemzéshez Python* (O'Reilly, 2012) további információt a Python Pandas és hogyan lehet használt toomanipulate adatok hatékonyabb és gazdaságosabb Nyugat McKinney által.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-171">See *Python for Data Analysis* (O'Reilly, 2012) by W. McKinney for more information on Python Pandas and on how it can be used toomanipulate data effectively and efficiently.</span></span> 


## <a name="translation-of-input-and-output-types"></a><span data-ttu-id="5a7c0-172">Bemeneti és kimeneti típusú fordítás</span><span class="sxs-lookup"><span data-stu-id="5a7c0-172">Translation of input and output types</span></span> 
<span data-ttu-id="5a7c0-173">Azure ml bemeneti adatkészletek Pandas konvertált toodata keretek.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-173">Input datasets in Azure ML are converted toodata frames in Pandas.</span></span> <span data-ttu-id="5a7c0-174">Kimeneti adatkeretek hátsó tooAzure ML adatkészletek lesznek átalakítva.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-174">Output data frames are converted back tooAzure ML datasets.</span></span> <span data-ttu-id="5a7c0-175">hello átalakítás esetén a következő történik:</span><span class="sxs-lookup"><span data-stu-id="5a7c0-175">hello following conversions are performed:</span></span>

1. <span data-ttu-id="5a7c0-176">Konvertálja a karakterláncot, és a numerikus oszlopok-van, és egy adatkészletet a hiányzó értékeket konvertált too'NA "Pandas szereplő értékek.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-176">String and numeric columns are converted as-is and missing values in a dataset are converted too‘NA’ values in Pandas.</span></span> <span data-ttu-id="5a7c0-177">hello azonos átalakítás történik, az hello módon vissza (NA Pandas értékei Azure ml konvertált toomissing értékek).</span><span class="sxs-lookup"><span data-stu-id="5a7c0-177">hello same conversion happens on hello way back (NA values in Pandas are converted toomissing values in Azure ML).</span></span>
2. <span data-ttu-id="5a7c0-178">Index vektorok Pandas az Azure ml nem támogatottak.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-178">Index vectors in Pandas are not supported in Azure ML.</span></span> <span data-ttu-id="5a7c0-179">Az összes bemeneti adatkeretek hello Python függvény mindig rendelkezik egy 64 bites mínusz 1 sorok száma 0 toohello a numerikus index.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-179">All input data frames in hello Python function always have a 64-bit numerical index from 0 toohello number of rows minus 1.</span></span> 
3. <span data-ttu-id="5a7c0-180">Az Azure ML adatkészletek nem lehet ismétlődő oszlopneveket tartalmaz, az oszlopnevek, amelyek nem karakterlánc.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-180">Azure ML datasets cannot have duplicate column names and column names that are not strings.</span></span> <span data-ttu-id="5a7c0-181">Ha egy kimeneti adatok keret nem numerikus oszlopot tartalmaz, hello keretrendszer hívások `str` a hello oszlopneveket.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-181">If an output data frame contains non-numeric columns, hello framework calls `str` on hello column names.</span></span> <span data-ttu-id="5a7c0-182">Hasonlóképpen, minden ismétlődő oszlopnevek-e automatikusan összekeveredett tooinsure hello nevek egyediek.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-182">Likewise, any duplicate column names are automatically mangled tooinsure hello names are unique.</span></span> <span data-ttu-id="5a7c0-183">hello (2) utótagot toohello első ismétlődő, (3) toohello második duplikált, és így tovább.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-183">hello suffix (2) is added toohello first duplicate, (3) toohello second duplicate, and so on.</span></span>


## <a name="operationalizing-python-scripts"></a><span data-ttu-id="5a7c0-184">Python parancsfájlok végrehajtott</span><span class="sxs-lookup"><span data-stu-id="5a7c0-184">Operationalizing Python scripts</span></span>

<span data-ttu-id="5a7c0-185">Bármely [Python-parancsfájl végrehajtására] [ execute-python-script] pontozási kísérletben használt modulok webszolgáltatásként közzétételekor nevezzük.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-185">Any [Execute Python Script][execute-python-script] modules used in a scoring experiment are called when published as a web service.</span></span> <span data-ttu-id="5a7c0-186">3. ábrán például egy pontozási kísérletet, amely tartalmazza a hello kód tooevaluate egyetlen Python kifejezés látható.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-186">For example, Figure 3 shows a scoring experiment that contains hello code tooevaluate a single Python expression.</span></span> 

![image4](./media/machine-learning-execute-python-scripts/figure3a.png)

![image5](./media/machine-learning-execute-python-scripts/python-script-with-python-pandas.png)

<span data-ttu-id="5a7c0-189">3. ábra.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-189">Figure 3.</span></span> <span data-ttu-id="5a7c0-190">Webszolgáltatás egy Python-kifejezés kiértékelésekor.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-190">Web service for evaluating a Python expression.</span></span>

<span data-ttu-id="5a7c0-191">Ez a kísérlet létrehozása webszolgáltatás:</span><span class="sxs-lookup"><span data-stu-id="5a7c0-191">A web service created from this experiment:</span></span>

- <span data-ttu-id="5a7c0-192">a Python kifejezés (karakterláncként) bemenetként vesz igénybe</span><span class="sxs-lookup"><span data-stu-id="5a7c0-192">takes as input a Python expression (as a string)</span></span>
- <span data-ttu-id="5a7c0-193">elküldi toohello Python parancsértelmező</span><span class="sxs-lookup"><span data-stu-id="5a7c0-193">sends it toohello Python interpreter</span></span> 
- <span data-ttu-id="5a7c0-194">hello kifejezés mind kiértékelése hello eredmény tartalmazó táblát adja vissza.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-194">returns a table containing both hello expression and hello evaluated result.</span></span>


## <a name="importing-existing-python-script-modules"></a><span data-ttu-id="5a7c0-195">Meglévő Python-parancsfájl modulok importálása</span><span class="sxs-lookup"><span data-stu-id="5a7c0-195">Importing existing Python script modules</span></span>

<span data-ttu-id="5a7c0-196">Egy gyakori használati eset sok adatszakértőkön az Azure ML kísérletek tooincorporate meglévő Python parancsfájlhoz.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-196">A common use-case for many data scientists is tooincorporate existing Python scripts into Azure ML experiments.</span></span> <span data-ttu-id="5a7c0-197">Ahelyett, hogy az összes kód összefűzendő és illeszthetők be egy parancsfájl dobozban, hello [Python-parancsfájl végrehajtására] [ execute-python-script] modul fogad hello harmadik bemeneti portját a Python-modulok tartalmazó zip-fájl.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-197">Instead of requiring that all code be concatenated and pasted into a single script box, hello [Execute Python Script][execute-python-script] module accepts a zip file that contains Python modules at hello third input port.</span></span> <span data-ttu-id="5a7c0-198">hello fájl van unzipped hello végrehajtási keretrendszer futásidőben, és hello tartalma toohello könyvtár elérési útja hello Python parancsértelmező kerülnek.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-198">hello file is unzipped by hello execution framework at runtime and hello contents are added toohello library path of hello Python interpreter.</span></span> <span data-ttu-id="5a7c0-199">Hello `azureml_main` függvény importálhatja ezeket a modulokat közvetlenül a belépési pont.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-199">hello `azureml_main` entry point function can then import these modules directly.</span></span>

<span data-ttu-id="5a7c0-200">Tegyük fel fontolja meg egy egyszerű "Hello, World" függvényt tartalmazó Hello.py hello fájl.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-200">As an example, consider hello file Hello.py containing a simple “Hello, World” function.</span></span>

![image6](./media/machine-learning-execute-python-scripts/figure4.png)

<span data-ttu-id="5a7c0-202">4. ábra.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-202">Figure 4.</span></span> <span data-ttu-id="5a7c0-203">Felhasználó által definiált függvény Hello.py fájlban.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-203">User-defined function in Hello.py file.</span></span>

<span data-ttu-id="5a7c0-204">A következő létrehozhatunk Hello.zip Hello.py tartalmazó fájlt:</span><span class="sxs-lookup"><span data-stu-id="5a7c0-204">Next, we create a file Hello.zip that contains Hello.py:</span></span>

![image7](./media/machine-learning-execute-python-scripts/figure5.png)

<span data-ttu-id="5a7c0-206">5. ábra.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-206">Figure 5.</span></span> <span data-ttu-id="5a7c0-207">Felhasználó által definiált Python kódot tartalmazó zip-fájl.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-207">Zip file containing user-defined Python code.</span></span>

<span data-ttu-id="5a7c0-208">Töltse fel hello zip-fájl adatkészletként Azure Machine Learning Studio.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-208">Upload hello zip file as a dataset into Azure Machine Learning Studio.</span></span> <span data-ttu-id="5a7c0-209">Ezután hozzon létre és hello Python kódot használó hello Hello.zip fájlban toohello harmadik bemeneti portját a hello csatolásával a kísérlet futtatásához **Python-parancsfájl végrehajtására** modul, az ábrán látható módon.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-209">Then create and run an experiment that uses hello Python code in hello Hello.zip file by attaching it toohello third input port of hello **Execute Python Script** module, as shown in this figure.</span></span>

![image8](./media/machine-learning-execute-python-scripts/figure6a.png)

![image9](./media/machine-learning-execute-python-scripts/figure6b.png)

<span data-ttu-id="5a7c0-212">6. ábra.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-212">Figure 6.</span></span> <span data-ttu-id="5a7c0-213">Felhasználó által definiált Python kóddal mintakísérletet feltöltött csomagot .zip fájlként.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-213">Sample experiment with user-defined Python code uploaded as a zip file.</span></span>

<span data-ttu-id="5a7c0-214">hello modul kimeneti jeleníti meg, hogy hello zip-fájl már csomagolatlan és hello funkcióval `print_hello` futott.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-214">hello module output shows that hello zip file has been unpackaged and that hello function `print_hello` has been run.</span></span>
<span data-ttu-id="5a7c0-215"> 
![image10](./media/machine-learning-execute-python-scripts/figure7.png)</span><span class="sxs-lookup"><span data-stu-id="5a7c0-215"> 
![image10](./media/machine-learning-execute-python-scripts/figure7.png)</span></span>

<span data-ttu-id="5a7c0-216">7. ábra.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-216">Figure 7.</span></span> <span data-ttu-id="5a7c0-217">Felhasználó által definiált függvény hello belül használt [Python-parancsfájl végrehajtására] [ execute-python-script] modul.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-217">User-defined function in use inside hello [Execute Python Script][execute-python-script] module.</span></span>


## <a name="working-with-visualizations"></a><span data-ttu-id="5a7c0-218">Képi megjelenítés használata</span><span class="sxs-lookup"><span data-stu-id="5a7c0-218">Working with visualizations</span></span>

<span data-ttu-id="5a7c0-219">Létrehozott, amely képes lehet ábrázolt MatplotLib hello böngésző előkészítésére hello által visszaadható [Python-parancsfájl végrehajtására][execute-python-script].</span><span class="sxs-lookup"><span data-stu-id="5a7c0-219">Plots created using MatplotLib that can be visualized on hello browser can be returned by hello [Execute Python Script][execute-python-script].</span></span> <span data-ttu-id="5a7c0-220">A teljesség hello előkészítésére automatikusan átirányított tooimages, R. használatakor Így hello felhasználói explicit módon menteni kell bármely előkészítésére tooPNG fájlokat, ha vannak toobe hátsó tooAzure Machine Learning adott vissza.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-220">But hello plots are not automatically redirected tooimages as they are when using R. So hello user must explicitly save any plots tooPNG files if they are toobe returned back tooAzure Machine Learning.</span></span> 

<span data-ttu-id="5a7c0-221">MatplotLib toogenerate képek, végre kell hajtania a következő eljárás hello:</span><span class="sxs-lookup"><span data-stu-id="5a7c0-221">toogenerate images from MatplotLib, you must complete hello following procedure:</span></span>

* <span data-ttu-id="5a7c0-222">Váltás hello háttér túl "AGG" hello az alapértelmezett Qt-alapú megjelenítő</span><span class="sxs-lookup"><span data-stu-id="5a7c0-222">switch hello backend too“AGG” from hello default Qt-based renderer</span></span> 
* <span data-ttu-id="5a7c0-223">Hozzon létre egy új. ábra-objektumot</span><span class="sxs-lookup"><span data-stu-id="5a7c0-223">create a new figure object</span></span> 
* <span data-ttu-id="5a7c0-224">hello tengely első és bele felvételt minden készítése</span><span class="sxs-lookup"><span data-stu-id="5a7c0-224">get hello axis and generate all plots into it</span></span> 
* <span data-ttu-id="5a7c0-225">hello. ábra tooa PNG-fájl mentése</span><span class="sxs-lookup"><span data-stu-id="5a7c0-225">save hello figure tooa PNG file</span></span> 

<span data-ttu-id="5a7c0-226">Ezt a folyamatot mutatja be, amely létrehoz egy pont rajzot mátrix hello scatter_matrix funkcióval Pandas a 8. ábra a következő hello.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-226">This process is illustrated in hello following Figure 8 that creates a scatter plot matrix using hello scatter_matrix function in Pandas.</span></span>

![image1v](./media/machine-learning-execute-python-scripts/figure-v1-8.png)

<span data-ttu-id="5a7c0-228">8. ábra.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-228">Figure 8.</span></span> <span data-ttu-id="5a7c0-229">Kód MatplotLib adatok tooimages toosave.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-229">Code toosave MatplotLib figures tooimages.</span></span>

<span data-ttu-id="5a7c0-230">9. ábra mutatja a kísérlet, amely előzőleg bemutatott tooreturn tevékenységtérkép hello második kimenő porton keresztül hello parancsfájlt használ.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-230">Figure 9 shows an experiment that uses hello script shown previously tooreturn plots via hello second output port.</span></span>

![image2v](./media/machine-learning-execute-python-scripts/figure-v2-9a.png) 

![image2v](./media/machine-learning-execute-python-scripts/figure-v2-9b.png) 

<span data-ttu-id="5a7c0-233">9. ábra.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-233">Figure 9.</span></span> <span data-ttu-id="5a7c0-234">Python kódból generált előkészítésére megjelenítése.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-234">Visualizing plots generated from Python code.</span></span>

<span data-ttu-id="5a7c0-235">Lehetséges tooreturn több adatok kijelzőként különböző képek, hello Azure Machine Learning futásidejű felveszi az összes képek és fűzi össze azokat a képi megjelenítéshez tartozó.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-235">It is possible tooreturn multiple figures by saving them into different images, hello Azure Machine Learning runtime picks up all images and concatenates them for visualization.</span></span>


## <a name="advanced-examples"></a><span data-ttu-id="5a7c0-236">Speciális példák</span><span class="sxs-lookup"><span data-stu-id="5a7c0-236">Advanced examples</span></span>

<span data-ttu-id="5a7c0-237">az Azure Machine Learning telepített hello Anaconda környezete például NumPy SciPy vagy Scikits további közös csomagot tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-237">hello Anaconda environment installed in Azure Machine Learning contains common packages such as NumPy, SciPy, and Scikits-Learn.</span></span> <span data-ttu-id="5a7c0-238">Ezeket a csomagokat a machine learning-feldolgozási folyamat különböző adatfeldolgozási feladatok hatékony használható.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-238">These packages can be effectively used for various data processing tasks in a machine learning pipeline.</span></span> <span data-ttu-id="5a7c0-239">Tegyük fel, hello következő kísérlet és parancsprogram szemlélteti dataset hello ensemble tanulókkal toocompute szolgáltatás fontosság pontszámok Scikits ismerje meg a használatát.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-239">As an example, hello following experiment and script illustrate hello use of ensemble learners in Scikits-Learn toocompute feature importance scores for a dataset.</span></span> <span data-ttu-id="5a7c0-240">hello pontszámok felügyelt használt tooperform szolgáltatás kiválasztása előtt egy másik ML modellbe táplált folyamatban lehet.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-240">hello scores can be used tooperform supervised feature selection before being fed into another ML model.</span></span>

<span data-ttu-id="5a7c0-241">Itt pedig a hello Python használt függvény toocompute hello fontosság pontszámokat rendelés hello szolgáltatások hello pontszámok alapján:</span><span class="sxs-lookup"><span data-stu-id="5a7c0-241">Here is hello Python function used toocompute hello importance scores and order hello features based on hello scores:</span></span>

![image11](./media/machine-learning-execute-python-scripts/figure8.png)

<span data-ttu-id="5a7c0-243">10. ábra.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-243">Figure 10.</span></span> <span data-ttu-id="5a7c0-244">Pontszámok függvény toorank funkcióihoz.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-244">Function toorank features by scores.</span></span>
<span data-ttu-id="5a7c0-245"> hello következő kísérlet majd kiszámítja és hello fontosság pontszámok funkciók hello "Pima indiai cukorbetegség" dataset az Azure Machine Learning adja vissza:</span><span class="sxs-lookup"><span data-stu-id="5a7c0-245">  hello following experiment then computes and returns hello importance scores of features in hello “Pima Indian Diabetes” dataset in Azure Machine Learning:</span></span>

<span data-ttu-id="5a7c0-246">![image12](./media/machine-learning-execute-python-scripts/figure9a.png)
![image13](./media/machine-learning-execute-python-scripts/figure9b.png)</span><span class="sxs-lookup"><span data-stu-id="5a7c0-246">![image12](./media/machine-learning-execute-python-scripts/figure9a.png)
![image13](./media/machine-learning-execute-python-scripts/figure9b.png)</span></span>    

<span data-ttu-id="5a7c0-247">11. ábra.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-247">Figure 11.</span></span> <span data-ttu-id="5a7c0-248">Kísérlet toorank szolgáltatások hello Pima indiai cukorbetegség adatkészletben.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-248">Experiment toorank features in hello Pima Indian Diabetes dataset.</span></span>

## <a name="limitations"></a><span data-ttu-id="5a7c0-249">Korlátozások</span><span class="sxs-lookup"><span data-stu-id="5a7c0-249">Limitations</span></span>
<span data-ttu-id="5a7c0-250">Hello [Python-parancsfájl végrehajtására] [ execute-python-script] van hello a következő korlátozások vonatkoznak:</span><span class="sxs-lookup"><span data-stu-id="5a7c0-250">hello [Execute Python Script][execute-python-script] currently has hello following limitations:</span></span>

1. <span data-ttu-id="5a7c0-251">*Elkülönített végrehajtása.*</span><span class="sxs-lookup"><span data-stu-id="5a7c0-251">*Sandboxed execution.*</span></span> <span data-ttu-id="5a7c0-252">hello Python-futtatókörnyezet jelenleg védőfal mögött, és emiatt nem engedélyezi a hozzáférést toohello hálózati vagy toohello helyi fájlrendszer tartósan.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-252">hello Python runtime is currently sandboxed and, as a result, does not allow access toohello network or toohello local file system in a persistent manner.</span></span> <span data-ttu-id="5a7c0-253">Minden fájl mentése helyileg elkülönített és törölni hello modul befejeződése után.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-253">All files saved locally are isolated and deleted once hello module finishes.</span></span> <span data-ttu-id="5a7c0-254">hello kivétel alatt hello az aktuális könyvtárban és annak alkönyvtáraiban, Python kódját hello nem férhet hozzá a legtöbb könyvtárak hello fut a gépen.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-254">hello Python code cannot access most directories on hello machine it runs on, hello exception being hello current directory and its subdirectories.</span></span>
2. <span data-ttu-id="5a7c0-255">*Kifinomult fejlesztési és a hibaelhárítási támogatás hiánya.*</span><span class="sxs-lookup"><span data-stu-id="5a7c0-255">*Lack of sophisticated development and debugging support.*</span></span> <span data-ttu-id="5a7c0-256">Python modul hello jelenleg nem támogatja IDE-szolgáltatásokkal, például az intellisense és hibakeresés folyamatát.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-256">hello Python module currently does not support IDE features such as intellisense and debugging.</span></span> <span data-ttu-id="5a7c0-257">Hello modul futási időben nem sikerül, ha hello teljes Python Veremkivonat is elérhető.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-257">Also, if hello module fails at runtime, hello full Python stack trace is available.</span></span> <span data-ttu-id="5a7c0-258">De a hello kimeneti naplót hello modul lehet megtekinteni.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-258">But it must be viewed in hello output log for hello module.</span></span> <span data-ttu-id="5a7c0-259">Jelenleg javasoljuk, hogy Ön által fejlesztett és egy környezetben, például IPython Python-parancsfájlok hibakeresése és hello kód majd importálnia hello modul.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-259">We currently recommend that you develop and debug Python scripts in an environment such as IPython and then import hello code into hello module.</span></span>
3. <span data-ttu-id="5a7c0-260">*Keret kimeneti egyetlen adatokat.*</span><span class="sxs-lookup"><span data-stu-id="5a7c0-260">*Single data frame output.*</span></span> <span data-ttu-id="5a7c0-261">hello Python belépési pont csak engedélyezett tooreturn egyetlen keret output típusúként.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-261">hello Python entry point is only permitted tooreturn a single data frame as output.</span></span> <span data-ttu-id="5a7c0-262">Tetszőleges Python objektumok, például a betanított modellek közvetlenül biztonsági toohello Azure Machine Learning futásidejű jelenleg lehetséges tooreturn nincs.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-262">It is not currently possible tooreturn arbitrary Python objects such as trained models directly back toohello Azure Machine Learning runtime.</span></span> <span data-ttu-id="5a7c0-263">Például [R-parancsfájl végrehajtása][execute-r-script], amelynek van hello ugyanez a helyzet, akkor lehet sok esetben egy olyan bájtot toopickle objektumok tömb, és térjen vissza, amely adatok kereten belül.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-263">Like [Execute R Script][execute-r-script], which has hello same limitation, it is possible in many cases toopickle objects into a byte array and then return that inside of a data frame.</span></span>
4. <span data-ttu-id="5a7c0-264">*Nem tudja toocustomize Python telepítési*.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-264">*Inability toocustomize Python installation*.</span></span> <span data-ttu-id="5a7c0-265">Hello csak úgy tooadd egyéni Python modult jelenleg a korábban ismertetett hello zip-fájl mechanizmus révén.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-265">Currently, hello only way tooadd custom Python modules is via hello zip file mechanism described earlier.</span></span> <span data-ttu-id="5a7c0-266">Ez nem valósítható meg, hogy kis modulok, akkor nagy modulok (különösen a natív DLL-ek) és a modulok nagy számú nehézkes.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-266">While this is feasible for small modules, it is cumbersome for large modules (especially those with native DLLs) or a large number of modules.</span></span> 

## <a name="conclusions"></a><span data-ttu-id="5a7c0-267">Következtetéseket</span><span class="sxs-lookup"><span data-stu-id="5a7c0-267">Conclusions</span></span>
<span data-ttu-id="5a7c0-268">Hello [Python-parancsfájl végrehajtására] [ execute-python-script] modul lehetővé teszi, hogy egy adatok tudósok tooincorporate meglévő Python a felhőben üzemeltetett machine learning munkafolyamatok az Azure Machine Learning és tooseamlessly azok a webes szolgáltatás részeként.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-268">hello [Execute Python Script][execute-python-script] module allows a data scientist tooincorporate existing Python code into cloud-hosted machine learning workflows in Azure Machine Learning and tooseamlessly operationalize them as part of a web service.</span></span> <span data-ttu-id="5a7c0-269">hello Python-parancsfájl modul természetes együttműködik az Azure Machine Learning más modulok.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-269">hello Python script module interoperates naturally with other modules in Azure Machine Learning.</span></span> <span data-ttu-id="5a7c0-270">a kutatási funkciójával toopre adatfeldolgozási és a szolgáltatás kivonása, majd tooevaluation feladatok számos és utófeldolgozás hello eredmények hello modul használható.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-270">hello module can be used for a range of tasks from data exploration toopre-processing and feature extraction, and then tooevaluation and post-processing of hello results.</span></span> <span data-ttu-id="5a7c0-271">hello háttér futásidejű végrehajtási használt Anaconda, tesztelt és széles körben használt Python elosztási alapul.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-271">hello backend runtime used for execution is based on Anaconda, a well-tested and widely used Python distribution.</span></span> <span data-ttu-id="5a7c0-272">A háttérrendszer egyszerűen meg tooon-tábla meglévő kódot eszközök hello felhőbe.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-272">This backend makes it simple for you tooon-board existing code assets into hello cloud.</span></span>

<span data-ttu-id="5a7c0-273">További funkciók toohello tooprovide várhatóan [Python-parancsfájl végrehajtására] [ execute-python-script] modul például képes tootrain hello, és azok a Python modellek és tooadd jobb hello támogatása fejlesztési és az Azure Machine Learning Studióban kód hibakereséséhez.</span><span class="sxs-lookup"><span data-stu-id="5a7c0-273">We expect tooprovide additional functionality toohello [Execute Python Script][execute-python-script] module such as hello ability tootrain and operationalize models in Python and tooadd better support for hello development and debugging code in Azure Machine Learning Studio.</span></span>

## <a name="next-steps"></a><span data-ttu-id="5a7c0-274">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="5a7c0-274">Next steps</span></span>
<span data-ttu-id="5a7c0-275">További információkért lásd: hello [Python fejlesztői központ](https://azure.microsoft.com/develop/python/).</span><span class="sxs-lookup"><span data-stu-id="5a7c0-275">For more information, see hello [Python Developer Center](https://azure.microsoft.com/develop/python/).</span></span>

<!-- Module References -->
[execute-python-script]: https://msdn.microsoft.com/library/azure/cdb56f95-7f4c-404d-bde7-5bb972e6f232/
[execute-r-script]: https://msdn.microsoft.com/library/azure/30806023-392b-42e0-94d6-6b775a6e0fd5/
