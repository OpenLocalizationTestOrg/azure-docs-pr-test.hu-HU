---
title: "Az Azure Machine Learning a algoritmusok optimalizálása |} Microsoft Docs"
description: "Válassza ki az optimális paraméterkészlet az az Azure Machine Learning algoritmus ismerteti."
services: machine-learning
documentationcenter: 
author: bradsev
manager: jhubbard
editor: cgronlun
ms.assetid: 6717e30e-b8d8-4cc1-ad0b-1d4727928d32
ms.service: machine-learning
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/29/2017
ms.author: bradsev
ms.openlocfilehash: b3be7f31ac31c656744fb809e3972af0ac4ad4f1
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 07/11/2017
---
# <a name="choose-parameters-to-optimize-your-algorithms-in-azure-machine-learning"></a><span data-ttu-id="62969-103">Válassza ki a paraméterek az Azure Machine Learning a algoritmusok optimalizálása</span><span class="sxs-lookup"><span data-stu-id="62969-103">Choose parameters to optimize your algorithms in Azure Machine Learning</span></span>
<span data-ttu-id="62969-104">Ez a témakör ismerteti a jobb oldali hyperparameter beállítása az Azure Machine Learning algoritmus kiválasztása.</span><span class="sxs-lookup"><span data-stu-id="62969-104">This topic describes how to choose the right hyperparameter set for an algorithm in Azure Machine Learning.</span></span> <span data-ttu-id="62969-105">A legtöbb gépi tanulási algoritmusok tartozhat paraméter beállítása.</span><span class="sxs-lookup"><span data-stu-id="62969-105">Most machine learning algorithms have parameters to set.</span></span> <span data-ttu-id="62969-106">Amikor egy modell betanításához kell e paraméterek értékének megadására.</span><span class="sxs-lookup"><span data-stu-id="62969-106">When you train a model, you need to provide values for those parameters.</span></span> <span data-ttu-id="62969-107">A betanított modell hatékonyságát attól függ, hogy a modell paraméterek, választott.</span><span class="sxs-lookup"><span data-stu-id="62969-107">The efficacy of the trained model depends on the model parameters that you choose.</span></span> <span data-ttu-id="62969-108">A folyamat, hogy a rendszer az optimális beállítása olyan paraméterek összessége *kijelölési minta*.</span><span class="sxs-lookup"><span data-stu-id="62969-108">The process of finding the optimal set of parameters is known as *model selection*.</span></span>

[!INCLUDE [machine-learning-free-trial](../../includes/machine-learning-free-trial.md)]

<span data-ttu-id="62969-109">A kijelölési minta különböző módja van.</span><span class="sxs-lookup"><span data-stu-id="62969-109">There are various ways to do model selection.</span></span> <span data-ttu-id="62969-110">A gépi tanulásban kereszt-ellenőrzési a legszélesebb körben használt módszerek egyikét a modell kiválasztása, pedig az alapértelmezett modell kijelölés mechanizmus az Azure Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="62969-110">In machine learning, cross-validation is one of the most widely used methods for model selection, and it is the default model selection mechanism in Azure Machine Learning.</span></span> <span data-ttu-id="62969-111">Azure Machine Learning támogatja az R és Python, mert mindig megvalósítható a saját modell kijelölés mechanizmusok R vagy Python használatával.</span><span class="sxs-lookup"><span data-stu-id="62969-111">Because Azure Machine Learning supports both R and Python, you can always implement their own model selection mechanisms by using either R or Python.</span></span>

<span data-ttu-id="62969-112">A legjobb paraméterhalmaz keresése folyamatban négy lépésben történik:</span><span class="sxs-lookup"><span data-stu-id="62969-112">There are four steps in the process of finding the best parameter set:</span></span>

1. <span data-ttu-id="62969-113">**Adja meg a paraméter terület**: algoritmust, először döntse el, akkor érdemes megfontolni a pontos paraméterértékeket.</span><span class="sxs-lookup"><span data-stu-id="62969-113">**Define the parameter space**: For the algorithm, first decide the exact parameter values you want to consider.</span></span>
2. <span data-ttu-id="62969-114">**A kereszt-ellenőrzési beállítások megadása**: döntse el, a kereszt-ellenőrzési modellrészt az adatkészlet kiválasztása.</span><span class="sxs-lookup"><span data-stu-id="62969-114">**Define the cross-validation settings**: Decide how to choose cross-validation folds for the dataset.</span></span>
3. <span data-ttu-id="62969-115">**Adja meg a mérték**: milyen metrika használandó paraméterek, például pontossága legjobb készletének meghatározása mellett dönt, a legfelső szintű közepét négyzet hiba, pontosság, visszaírási vagy f-pontszám.</span><span class="sxs-lookup"><span data-stu-id="62969-115">**Define the metric**: Decide what metric to use for determining the best set of parameters, such as accuracy, root mean squared error, precision, recall, or f-score.</span></span>
4. <span data-ttu-id="62969-116">**Betanítása, értékelje ki, és hasonlítsa össze**: a paraméterértékek egyedi kombinációit kereszt-ellenőrzési által végzett, és adhat meg a hiba a metrika alapján.</span><span class="sxs-lookup"><span data-stu-id="62969-116">**Train, evaluate, and compare**: For each unique combination of the parameter values, cross-validation is carried out by and based on the error metric you define.</span></span> <span data-ttu-id="62969-117">Értékelési és összehasonlító után válassza ki a legjobban teljesítő modell.</span><span class="sxs-lookup"><span data-stu-id="62969-117">After evaluation and comparison, you can choose the best-performing model.</span></span>

<span data-ttu-id="62969-118">Az alábbi ábrán látható, hogy ez elérhető az Azure Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="62969-118">The following image illustrates shows how this can be achieved in Azure Machine Learning.</span></span>

![A legjobb paraméterhalmaz keresése](./media/machine-learning-algorithm-parameters-optimize/fig1.png)

## <a name="define-the-parameter-space"></a><span data-ttu-id="62969-120">Adja meg a paraméter terület</span><span class="sxs-lookup"><span data-stu-id="62969-120">Define the parameter space</span></span>
<span data-ttu-id="62969-121">Megadhatja, hogy a paraméter, állítsa be megfelelően a modell alkalmazásinicializálási lépéshez.</span><span class="sxs-lookup"><span data-stu-id="62969-121">You can define the parameter set at the model initialization step.</span></span> <span data-ttu-id="62969-122">Minden gépi tanulási algoritmusok paraméter ablaktábla trainer két módja van: *egyetlen paraméter* és *paraméter tartomány*.</span><span class="sxs-lookup"><span data-stu-id="62969-122">The parameter pane of all machine learning algorithms has two trainer modes: *Single Parameter* and *Parameter Range*.</span></span> <span data-ttu-id="62969-123">Válassza ki a paraméter tartomány mód.</span><span class="sxs-lookup"><span data-stu-id="62969-123">Choose Parameter Range mode.</span></span> <span data-ttu-id="62969-124">Paraméter tartomány módban mindegyik paraméterhez több értékeket adhat meg.</span><span class="sxs-lookup"><span data-stu-id="62969-124">In Parameter Range mode, you can enter multiple values for each parameter.</span></span> <span data-ttu-id="62969-125">A szövegmezőben vesszővel elválasztott értékeket adhat meg.</span><span class="sxs-lookup"><span data-stu-id="62969-125">You can enter comma-separated values in the text box.</span></span>

![Két osztályú súlyozott döntési fa, egyetlen paraméter](./media/machine-learning-algorithm-parameters-optimize/fig2.png)

 <span data-ttu-id="62969-127">Alternatív megoldásként megadhatja a rács és pontok létrehozását a teljes száma a maximális és minimális pontjait **használata tartomány jelentéskészítő**.</span><span class="sxs-lookup"><span data-stu-id="62969-127">Alternately, you can define the maximum and minimum points of the grid and the total number of points to be generated with **Use Range Builder**.</span></span> <span data-ttu-id="62969-128">Alapértelmezés szerint a paraméterértékek skálán lineáris jönnek létre.</span><span class="sxs-lookup"><span data-stu-id="62969-128">By default, the parameter values are generated on a linear scale.</span></span> <span data-ttu-id="62969-129">Ha azonban **logaritmikus skála** be van jelölve, az értékek létrejönnek a Logaritmikus skála (Ez azt jelenti, hogy a szomszédos pontok aránya az állandó helyett a különbség).</span><span class="sxs-lookup"><span data-stu-id="62969-129">But if **Log Scale** is checked, the values are generated in the log scale (that is, the ratio of the adjacent points is constant instead of their difference).</span></span> <span data-ttu-id="62969-130">Egész paraméterrel meghatározhatja széles kötőjellel.</span><span class="sxs-lookup"><span data-stu-id="62969-130">For integer parameters, you can define a range by using a hyphen.</span></span> <span data-ttu-id="62969-131">Például "1 – 10" azt jelenti, hogy az összes egész számok 1 és 10 (mind a két szélsőértéket beleértve) közötti a paraméter készletet alkotnak.</span><span class="sxs-lookup"><span data-stu-id="62969-131">For example, “1-10” means that all integers between 1 and 10 (both inclusive) form the parameter set.</span></span> <span data-ttu-id="62969-132">A kevert üzemmód is támogatott.</span><span class="sxs-lookup"><span data-stu-id="62969-132">A mixed mode is also supported.</span></span> <span data-ttu-id="62969-133">Például a paramétert állítsa "1 – 10, 20, 50" tartalmazhat egész számok 1-10, 20, 50 és.</span><span class="sxs-lookup"><span data-stu-id="62969-133">For example, the parameter set “1-10, 20, 50” would include integers 1-10, 20, and 50.</span></span>

![Két osztályú súlyozott döntési fa, paraméter](./media/machine-learning-algorithm-parameters-optimize/fig3.png)

## <a name="define-cross-validation-folds"></a><span data-ttu-id="62969-135">Kereszt-ellenőrzési modellrészt meghatározása</span><span class="sxs-lookup"><span data-stu-id="62969-135">Define cross-validation folds</span></span>
<span data-ttu-id="62969-136">A [partíció és minta] [ partition-and-sample] modul segítségével modellrészt véletlenszerűen hozzárendelése az adatokat.</span><span class="sxs-lookup"><span data-stu-id="62969-136">The [Partition and Sample][partition-and-sample] module can be used to randomly assign folds to the data.</span></span> <span data-ttu-id="62969-137">A következő példa a modul konfigurációja, hogy meg kell határozni öt modellrészt és véletlenszerűen számot a modellrészek a minta-példányokban kívánja.</span><span class="sxs-lookup"><span data-stu-id="62969-137">In the following sample configuration for the module, we define five folds and randomly assign a fold number to the sample instances.</span></span>

![Partíció és minta](./media/machine-learning-algorithm-parameters-optimize/fig4.png)

## <a name="define-the-metric"></a><span data-ttu-id="62969-139">A mérőszám meghatározása</span><span class="sxs-lookup"><span data-stu-id="62969-139">Define the metric</span></span>
<span data-ttu-id="62969-140">A [Finomhangolhatják a modell-Hiperparamétereket] [ tune-model-hyperparameters] modul támogatást biztosít az egy adott algoritmus és a dataset paraméterek legjobb készletét empirically kiválasztása.</span><span class="sxs-lookup"><span data-stu-id="62969-140">The [Tune Model Hyperparameters][tune-model-hyperparameters] module provides support for empirically choosing the best set of parameters for a given algorithm and dataset.</span></span> <span data-ttu-id="62969-141">Egyéb információk mellett a modell betanítása vonatkozó a **tulajdonságok** ablaktábla ehhez a modul tartalmazza a metrikát a legjobb paraméter készletének meghatározása.</span><span class="sxs-lookup"><span data-stu-id="62969-141">In addition to other information regarding training the model, the **Properties** pane of this module includes the metric for determining the best parameter set.</span></span> <span data-ttu-id="62969-142">Két különböző legördülő listák a besorolás és regressziós algoritmus, illetve rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="62969-142">It has two different drop-down list boxes for classification and regression algorithms, respectively.</span></span> <span data-ttu-id="62969-143">Ha a szóban forgó algoritmus egy osztályozó algoritmus, a regressziós metrika rendszer figyelmen kívül hagyja, és ez fordítva is igaz.</span><span class="sxs-lookup"><span data-stu-id="62969-143">If the algorithm under consideration is a classification algorithm, the regression metric is ignored and vice versa.</span></span> <span data-ttu-id="62969-144">Ebben a példában a mérőszáma **pontossága**.</span><span class="sxs-lookup"><span data-stu-id="62969-144">In this specific example, the metric is **Accuracy**.</span></span>   

![Ismétlés paraméterek](./media/machine-learning-algorithm-parameters-optimize/fig5.png)

## <a name="train-evaluate-and-compare"></a><span data-ttu-id="62969-146">A vonat, kiértékeléséhez és összehasonlítása</span><span class="sxs-lookup"><span data-stu-id="62969-146">Train, evaluate, and compare</span></span>
<span data-ttu-id="62969-147">Azonos [Finomhangolhatják a modell-Hiperparamétereket] [ tune-model-hyperparameters] modul az modellek, amelyek megfelelnek a paraméterhalmaz betanítja, különböző metrikák kiértékeli, és létrehozza a legjobban betanított modell úgy dönt, a mérték alapján.</span><span class="sxs-lookup"><span data-stu-id="62969-147">The same [Tune Model Hyperparameters][tune-model-hyperparameters] module trains all the models that correspond to the parameter set, evaluates various metrics, and then creates the best-trained model based on the metric you choose.</span></span> <span data-ttu-id="62969-148">Ez a modul két kötelező bemeneti rendelkezik:</span><span class="sxs-lookup"><span data-stu-id="62969-148">This module has two mandatory inputs:</span></span>

* <span data-ttu-id="62969-149">A kellő tanuló</span><span class="sxs-lookup"><span data-stu-id="62969-149">The untrained learner</span></span>
* <span data-ttu-id="62969-150">Az adatkészlet</span><span class="sxs-lookup"><span data-stu-id="62969-150">The dataset</span></span>

<span data-ttu-id="62969-151">A modul is rendelkezik egy nem kötelező bemeneti adatkészletet.</span><span class="sxs-lookup"><span data-stu-id="62969-151">The module also has an optional dataset input.</span></span> <span data-ttu-id="62969-152">Csatlakozás a dataset modellrészek információ a kötelező dataset bemeneti.</span><span class="sxs-lookup"><span data-stu-id="62969-152">Connect the dataset with fold information to the mandatory dataset input.</span></span> <span data-ttu-id="62969-153">Ha a DataSet adatkészlet bármely modellrészek információ nem hozzá van rendelve, majd a 10-szeres kereszt-ellenőrzési automatikusan végre alapértelmezés szerint.</span><span class="sxs-lookup"><span data-stu-id="62969-153">If the dataset is not assigned any fold information, then a 10-fold cross-validation is automatically executed by default.</span></span> <span data-ttu-id="62969-154">Ha a modellrészek-hozzárendelés nem végezték el, és egy érvényesítési dataset szerepel. a választható dataset port, egy tanítási-teszt mód van kiválasztva, és az első adatkészletet használt paraméter kombinációjához a modell betanításához.</span><span class="sxs-lookup"><span data-stu-id="62969-154">If the fold assignment is not done and a validation dataset is provided at the optional dataset port, then a train-test mode is chosen and the first dataset is used to train the model for each parameter combination.</span></span>

![Súlyozott döntési fa osztályozó](./media/machine-learning-algorithm-parameters-optimize/fig6a.png)

<span data-ttu-id="62969-156">A modell majd kiértékelése az érvényesítési adatkészlettel.</span><span class="sxs-lookup"><span data-stu-id="62969-156">The model is then evaluated on the validation dataset.</span></span> <span data-ttu-id="62969-157">A modul bal oldali kimeneti portját különböző metrikákat a paraméterértékek funkciók szerint jeleníti meg.</span><span class="sxs-lookup"><span data-stu-id="62969-157">The left output port of the module shows different metrics as functions of parameter values.</span></span> <span data-ttu-id="62969-158">A jobb oldali kimeneti portjára biztosít a betanított modell, amely megfelel a kiválasztott metrika szerint a legjobban teljesítő modell (**pontossága** ebben az esetben).</span><span class="sxs-lookup"><span data-stu-id="62969-158">The right output port gives the trained model that corresponds to the best-performing model according to the chosen metric (**Accuracy** in this case).</span></span>  

![Érvényesítési adatkészlet](./media/machine-learning-algorithm-parameters-optimize/fig6b.png)

<span data-ttu-id="62969-160">A pontos paraméterek megjelenítése a jobb oldali kimeneti portjára által választott tekintheti meg.</span><span class="sxs-lookup"><span data-stu-id="62969-160">You can see the exact parameters chosen by visualizing the right output port.</span></span> <span data-ttu-id="62969-161">Ez a modell használható TesztKészlet pontozási vagy egy operationalized webszolgáltatás a modell betanítását, a mentés után.</span><span class="sxs-lookup"><span data-stu-id="62969-161">This model can be used in scoring a test set or in an operationalized web service after saving as a trained model.</span></span>

<!-- Module References -->
[partition-and-sample]: https://msdn.microsoft.com/library/azure/a8726e34-1b3e-4515-b59a-3e4a475654b8/
[tune-model-hyperparameters]: https://msdn.microsoft.com/library/azure/038d91b6-c2f2-42a1-9215-1f2c20ed1b40/
