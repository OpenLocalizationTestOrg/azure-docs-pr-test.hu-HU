---
title: aaaOptimize a algoritmusok az Azure Machine Learning |} Microsoft Docs
description: "Ismerteti, hogyan a toochoose hello optimális paraméter beállítása az Azure Machine Learning algoritmus."
services: machine-learning
documentationcenter: 
author: bradsev
manager: jhubbard
editor: cgronlun
ms.assetid: 6717e30e-b8d8-4cc1-ad0b-1d4727928d32
ms.service: machine-learning
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/29/2017
ms.author: bradsev
ms.openlocfilehash: fbf2f71abdbce19483fb048d67a39cbb368a928e
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="choose-parameters-toooptimize-your-algorithms-in-azure-machine-learning"></a><span data-ttu-id="23974-103">Az Azure Machine Learning a algoritmusok paraméterek toooptimize kiválasztása</span><span class="sxs-lookup"><span data-stu-id="23974-103">Choose parameters toooptimize your algorithms in Azure Machine Learning</span></span>
<span data-ttu-id="23974-104">Ez a témakör ismerteti, hogyan toochoose hello jobb hyperparameter beállítani az Azure Machine Learning algoritmus.</span><span class="sxs-lookup"><span data-stu-id="23974-104">This topic describes how toochoose hello right hyperparameter set for an algorithm in Azure Machine Learning.</span></span> <span data-ttu-id="23974-105">A legtöbb gépi tanulási algoritmusok paraméterek tooset rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="23974-105">Most machine learning algorithms have parameters tooset.</span></span> <span data-ttu-id="23974-106">Amikor egy modell betanításához tooprovide értékeket kell azokat a paramétereket.</span><span class="sxs-lookup"><span data-stu-id="23974-106">When you train a model, you need tooprovide values for those parameters.</span></span> <span data-ttu-id="23974-107">hello betanított modell hello hatékonyságát hello modell paraméterek, választott függ.</span><span class="sxs-lookup"><span data-stu-id="23974-107">hello efficacy of hello trained model depends on hello model parameters that you choose.</span></span> <span data-ttu-id="23974-108">hello művelet, hogy a rendszer hello optimális paraméterek készletét néven *kijelölési minta*.</span><span class="sxs-lookup"><span data-stu-id="23974-108">hello process of finding hello optimal set of parameters is known as *model selection*.</span></span>

[!INCLUDE [machine-learning-free-trial](../../includes/machine-learning-free-trial.md)]

<span data-ttu-id="23974-109">Nincsenek különböző módokon toodo modell kiválasztása.</span><span class="sxs-lookup"><span data-stu-id="23974-109">There are various ways toodo model selection.</span></span> <span data-ttu-id="23974-110">A gépi tanulásban kereszt-ellenőrzési hello legszélesebb körben használt módszerek egyikét a modell kiválasztása, pedig hello alapértelmezett modell kijelölés mechanizmus az Azure Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="23974-110">In machine learning, cross-validation is one of hello most widely used methods for model selection, and it is hello default model selection mechanism in Azure Machine Learning.</span></span> <span data-ttu-id="23974-111">Azure Machine Learning támogatja az R és Python, mert mindig megvalósítható a saját modell kijelölés mechanizmusok R vagy Python használatával.</span><span class="sxs-lookup"><span data-stu-id="23974-111">Because Azure Machine Learning supports both R and Python, you can always implement their own model selection mechanisms by using either R or Python.</span></span>

<span data-ttu-id="23974-112">Hello folyamat során, hogy a legjobb paraméterhalmaz hello négy lépésben történik:</span><span class="sxs-lookup"><span data-stu-id="23974-112">There are four steps in hello process of finding hello best parameter set:</span></span>

1. <span data-ttu-id="23974-113">**Hello paraméter térköz meghatározása**: hello algoritmushoz, először döntse el, hello pontos paraméterértékek tooconsider szeretné.</span><span class="sxs-lookup"><span data-stu-id="23974-113">**Define hello parameter space**: For hello algorithm, first decide hello exact parameter values you want tooconsider.</span></span>
2. <span data-ttu-id="23974-114">**Hello kereszt-ellenőrzési beállítások megadása**: döntse el, hogyan toochoose kereszt-ellenőrzési modellrészt hello az adatkészlethez.</span><span class="sxs-lookup"><span data-stu-id="23974-114">**Define hello cross-validation settings**: Decide how toochoose cross-validation folds for hello dataset.</span></span>
3. <span data-ttu-id="23974-115">**Hello mérőszám meghatározása**: döntse el, milyen metrika toouse hello legjobb set paraméterek, például a pontosság meghatározásához, legfelső szintű közepét négyzet hiba, pontosság, visszaírási vagy f-pontszámot.</span><span class="sxs-lookup"><span data-stu-id="23974-115">**Define hello metric**: Decide what metric toouse for determining hello best set of parameters, such as accuracy, root mean squared error, precision, recall, or f-score.</span></span>
4. <span data-ttu-id="23974-116">**Betanítása, értékelje ki, és hasonlítsa össze**: hello paraméterértékek egyedi kombinációit kereszt-ellenőrzési által végzett, és megadhatja a hello hiba metrika alapján.</span><span class="sxs-lookup"><span data-stu-id="23974-116">**Train, evaluate, and compare**: For each unique combination of hello parameter values, cross-validation is carried out by and based on hello error metric you define.</span></span> <span data-ttu-id="23974-117">Értékelési és összehasonlító után dönthet úgy hello legjobban teljesítő modell.</span><span class="sxs-lookup"><span data-stu-id="23974-117">After evaluation and comparison, you can choose hello best-performing model.</span></span>

<span data-ttu-id="23974-118">hello a következő kép bemutatja, hogyan Ez elérhető az Azure Machine Learning mutatja be.</span><span class="sxs-lookup"><span data-stu-id="23974-118">hello following image illustrates shows how this can be achieved in Azure Machine Learning.</span></span>

![Hello legjobb paraméterhalmaz keresése](./media/machine-learning-algorithm-parameters-optimize/fig1.png)

## <a name="define-hello-parameter-space"></a><span data-ttu-id="23974-120">Adja meg a hello paraméter terület</span><span class="sxs-lookup"><span data-stu-id="23974-120">Define hello parameter space</span></span>
<span data-ttu-id="23974-121">Állítsa be megfelelően hello modell alkalmazásinicializálási lépéshez hello paraméter adhat meg.</span><span class="sxs-lookup"><span data-stu-id="23974-121">You can define hello parameter set at hello model initialization step.</span></span> <span data-ttu-id="23974-122">hello paraméter ablaktábla az összes gépi tanulási algoritmusok trainer szolgáltatásnak két módja van: *egyetlen paraméter* és *paraméter tartomány*.</span><span class="sxs-lookup"><span data-stu-id="23974-122">hello parameter pane of all machine learning algorithms has two trainer modes: *Single Parameter* and *Parameter Range*.</span></span> <span data-ttu-id="23974-123">Válassza ki a paraméter tartomány mód.</span><span class="sxs-lookup"><span data-stu-id="23974-123">Choose Parameter Range mode.</span></span> <span data-ttu-id="23974-124">Paraméter tartomány módban mindegyik paraméterhez több értékeket adhat meg.</span><span class="sxs-lookup"><span data-stu-id="23974-124">In Parameter Range mode, you can enter multiple values for each parameter.</span></span> <span data-ttu-id="23974-125">Hello szövegmezőben vesszővel elválasztott értékeket adhat meg.</span><span class="sxs-lookup"><span data-stu-id="23974-125">You can enter comma-separated values in hello text box.</span></span>

![Két osztályú súlyozott döntési fa, egyetlen paraméter](./media/machine-learning-algorithm-parameters-optimize/fig2.png)

 <span data-ttu-id="23974-127">Alternatív megoldásként definiálhatja hello maximális és minimális pontok hello rács és hello segítségével létrehozott pontok toobe teljes száma **használata tartomány jelentéskészítő**.</span><span class="sxs-lookup"><span data-stu-id="23974-127">Alternately, you can define hello maximum and minimum points of hello grid and hello total number of points toobe generated with **Use Range Builder**.</span></span> <span data-ttu-id="23974-128">Alapértelmezés szerint hello paraméterértékek skálán lineáris jönnek létre.</span><span class="sxs-lookup"><span data-stu-id="23974-128">By default, hello parameter values are generated on a linear scale.</span></span> <span data-ttu-id="23974-129">Ha azonban **logaritmikus skála** be van jelölve, hello értékek jönnek létre a Logaritmikus skála hello (Ez azt jelenti, hogy hello arány hello szomszédos pontok, állandó a különbség helyett).</span><span class="sxs-lookup"><span data-stu-id="23974-129">But if **Log Scale** is checked, hello values are generated in hello log scale (that is, hello ratio of hello adjacent points is constant instead of their difference).</span></span> <span data-ttu-id="23974-130">Egész paraméterrel meghatározhatja széles kötőjellel.</span><span class="sxs-lookup"><span data-stu-id="23974-130">For integer parameters, you can define a range by using a hyphen.</span></span> <span data-ttu-id="23974-131">Például, "1 – 10" azt jelenti, hogy minden egész számok 1 és 10 közötti hello paraméter készletet alkotnak (mind a két szélsőértéket beleértve).</span><span class="sxs-lookup"><span data-stu-id="23974-131">For example, “1-10” means that all integers between 1 and 10 (both inclusive) form hello parameter set.</span></span> <span data-ttu-id="23974-132">A kevert üzemmód is támogatott.</span><span class="sxs-lookup"><span data-stu-id="23974-132">A mixed mode is also supported.</span></span> <span data-ttu-id="23974-133">Például hello paraméterhalmaz "1 – 10, 20, 50" tartalmazhat egész számok 1-10, 20, 50 és.</span><span class="sxs-lookup"><span data-stu-id="23974-133">For example, hello parameter set “1-10, 20, 50” would include integers 1-10, 20, and 50.</span></span>

![Két osztályú súlyozott döntési fa, paraméter](./media/machine-learning-algorithm-parameters-optimize/fig3.png)

## <a name="define-cross-validation-folds"></a><span data-ttu-id="23974-135">Kereszt-ellenőrzési modellrészt meghatározása</span><span class="sxs-lookup"><span data-stu-id="23974-135">Define cross-validation folds</span></span>
<span data-ttu-id="23974-136">Hello [partíció és minta] [ partition-and-sample] modul használt toorandomly hozzárendelése modellrészt toohello adatok is lehetnek.</span><span class="sxs-lookup"><span data-stu-id="23974-136">hello [Partition and Sample][partition-and-sample] module can be used toorandomly assign folds toohello data.</span></span> <span data-ttu-id="23974-137">A következő hello modul mintakonfiguráció hello, azt meg kell határozni öt modellrészt és véletlenszerűen rendelje hozzá egy szám toohello minta példányok.</span><span class="sxs-lookup"><span data-stu-id="23974-137">In hello following sample configuration for hello module, we define five folds and randomly assign a fold number toohello sample instances.</span></span>

![Partíció és minta](./media/machine-learning-algorithm-parameters-optimize/fig4.png)

## <a name="define-hello-metric"></a><span data-ttu-id="23974-139">Hello mérőszám meghatározása</span><span class="sxs-lookup"><span data-stu-id="23974-139">Define hello metric</span></span>
<span data-ttu-id="23974-140">Hello [Finomhangolhatják a modell-Hiperparamétereket] [ tune-model-hyperparameters] modul támogatást nyújt az empirically kiválasztása hello ajánlott egy adott algoritmus és a dataset paraméterek készletét.</span><span class="sxs-lookup"><span data-stu-id="23974-140">hello [Tune Model Hyperparameters][tune-model-hyperparameters] module provides support for empirically choosing hello best set of parameters for a given algorithm and dataset.</span></span> <span data-ttu-id="23974-141">Ezenkívül képzési hello tooother információhoz modellre: hello **tulajdonságok** Ez a modul ablaktábláján tartalmaz hello metrika hello legjobb paraméterhalmaz meghatározásához.</span><span class="sxs-lookup"><span data-stu-id="23974-141">In addition tooother information regarding training hello model, hello **Properties** pane of this module includes hello metric for determining hello best parameter set.</span></span> <span data-ttu-id="23974-142">Két különböző legördülő listák a besorolás és regressziós algoritmus, illetve rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="23974-142">It has two different drop-down list boxes for classification and regression algorithms, respectively.</span></span> <span data-ttu-id="23974-143">Ha a szóban forgó hello algoritmus egy osztályozó algoritmus, hello regressziós metrika rendszer figyelmen kívül hagyja, és ez fordítva is igaz.</span><span class="sxs-lookup"><span data-stu-id="23974-143">If hello algorithm under consideration is a classification algorithm, hello regression metric is ignored and vice versa.</span></span> <span data-ttu-id="23974-144">Ebben a példában a hello mérőszáma **pontossága**.</span><span class="sxs-lookup"><span data-stu-id="23974-144">In this specific example, hello metric is **Accuracy**.</span></span>   

![Ismétlés paraméterek](./media/machine-learning-algorithm-parameters-optimize/fig5.png)

## <a name="train-evaluate-and-compare"></a><span data-ttu-id="23974-146">A vonat, kiértékeléséhez és összehasonlítása</span><span class="sxs-lookup"><span data-stu-id="23974-146">Train, evaluate, and compare</span></span>
<span data-ttu-id="23974-147">hello azonos [Finomhangolhatják a modell-Hiperparamétereket] [ tune-model-hyperparameters] modul betanítja összes hello modellt a toohello paraméterhalmaz megfelelnek, különböző metrikák kiértékeli, és létrehozza a hello legjobban betanított modell hello alapján a metrika választja.</span><span class="sxs-lookup"><span data-stu-id="23974-147">hello same [Tune Model Hyperparameters][tune-model-hyperparameters] module trains all hello models that correspond toohello parameter set, evaluates various metrics, and then creates hello best-trained model based on hello metric you choose.</span></span> <span data-ttu-id="23974-148">Ez a modul két kötelező bemeneti rendelkezik:</span><span class="sxs-lookup"><span data-stu-id="23974-148">This module has two mandatory inputs:</span></span>

* <span data-ttu-id="23974-149">hello kellő tanuló</span><span class="sxs-lookup"><span data-stu-id="23974-149">hello untrained learner</span></span>
* <span data-ttu-id="23974-150">hello adatkészlet</span><span class="sxs-lookup"><span data-stu-id="23974-150">hello dataset</span></span>

<span data-ttu-id="23974-151">hello modul is rendelkezik egy nem kötelező bemeneti adatkészletet.</span><span class="sxs-lookup"><span data-stu-id="23974-151">hello module also has an optional dataset input.</span></span> <span data-ttu-id="23974-152">Csatlakozás hello dataset modellrészek információk toohello kötelező dataset bemeneti.</span><span class="sxs-lookup"><span data-stu-id="23974-152">Connect hello dataset with fold information toohello mandatory dataset input.</span></span> <span data-ttu-id="23974-153">Ha hello adatkészlet nincs hozzárendelve semmilyen modellrészek információt, majd a 10-szeres kereszt-ellenőrzési automatikusan végre alapértelmezés szerint.</span><span class="sxs-lookup"><span data-stu-id="23974-153">If hello dataset is not assigned any fold information, then a 10-fold cross-validation is automatically executed by default.</span></span> <span data-ttu-id="23974-154">Ha hello modellrészek hozzárendelés nem végezték el és érvényesítési dataset áll hello választható dataset port, egy tanítási-teszt mód van kiválasztva, és hello első adatkészlet egy használt tootrain hello modell minden paraméterkombináció.</span><span class="sxs-lookup"><span data-stu-id="23974-154">If hello fold assignment is not done and a validation dataset is provided at hello optional dataset port, then a train-test mode is chosen and hello first dataset is used tootrain hello model for each parameter combination.</span></span>

![Súlyozott döntési fa osztályozó](./media/machine-learning-algorithm-parameters-optimize/fig6a.png)

<span data-ttu-id="23974-156">hello modell majd kiértékelése hello érvényesítési adatkészlethez.</span><span class="sxs-lookup"><span data-stu-id="23974-156">hello model is then evaluated on hello validation dataset.</span></span> <span data-ttu-id="23974-157">hello hello modul látható kimeneti portjára különböző metrikák állapotban maradt funkciók a paraméterértékek.</span><span class="sxs-lookup"><span data-stu-id="23974-157">hello left output port of hello module shows different metrics as functions of parameter values.</span></span> <span data-ttu-id="23974-158">jobb oldali kimeneti portjára ad hello betanított modell, amely megfelel a kiválasztott metrika toohello szerint toohello legjobban teljesítő modell hello (**pontossága** ebben az esetben).</span><span class="sxs-lookup"><span data-stu-id="23974-158">hello right output port gives hello trained model that corresponds toohello best-performing model according toohello chosen metric (**Accuracy** in this case).</span></span>  

![Érvényesítési adatkészlet](./media/machine-learning-algorithm-parameters-optimize/fig6b.png)

<span data-ttu-id="23974-160">Hello pontos paraméterek megjelenítése hello jobb oldali kimeneti portjára által választott tekintheti meg.</span><span class="sxs-lookup"><span data-stu-id="23974-160">You can see hello exact parameters chosen by visualizing hello right output port.</span></span> <span data-ttu-id="23974-161">Ez a modell használható TesztKészlet pontozási vagy egy operationalized webszolgáltatás a modell betanítását, a mentés után.</span><span class="sxs-lookup"><span data-stu-id="23974-161">This model can be used in scoring a test set or in an operationalized web service after saving as a trained model.</span></span>

<!-- Module References -->
[partition-and-sample]: https://msdn.microsoft.com/library/azure/a8726e34-1b3e-4515-b59a-3e4a475654b8/
[tune-model-hyperparameters]: https://msdn.microsoft.com/library/azure/038d91b6-c2f2-42a1-9215-1f2c20ed1b40/
