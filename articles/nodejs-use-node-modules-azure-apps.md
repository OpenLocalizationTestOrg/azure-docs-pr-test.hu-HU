---
title: a Node.js modulok aaaWorking
description: "Ismerje meg, hogy az Azure App Service és a Felhőszolgáltatások használata a Node.js modulok toowork."
services: 
documentationcenter: nodejs
author: TomArcher
manager: routlaw
editor: 
ms.assetid: c0e6cd3d-932d-433e-b72d-e513e23b4eb6
ms.service: multiple
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: nodejs
ms.topic: article
ms.date: 08/17/2016
ms.author: tarcher
ms.openlocfilehash: 926358b7eb80a659dbc1015686b06a30d8c9b8f0
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="using-nodejs-modules-with-azure-applications"></a><span data-ttu-id="16bae-103">A Node.js modulok használata az Azure alkalmazásokkal</span><span class="sxs-lookup"><span data-stu-id="16bae-103">Using Node.js Modules with Azure applications</span></span>
<span data-ttu-id="16bae-104">Ez a dokumentum útmutatást nyújt a Node.js modulok használata az Azure-platformon futó alkalmazások.</span><span class="sxs-lookup"><span data-stu-id="16bae-104">This document provides guidance on using Node.js modules with applications hosted on Azure.</span></span> <span data-ttu-id="16bae-105">beleértve annak biztosítását, hogy az alkalmazás a modul egy adott verzióját használja, továbbá a natív modulok az Azure-ral való használatát.</span><span class="sxs-lookup"><span data-stu-id="16bae-105">It provides guidance on ensuring that your application uses a specific version of module as well as using native modules with Azure.</span></span>

<span data-ttu-id="16bae-106">Ha már ismeri a Node.js modulok használata **package.json** és **npm-shrinkwrap.json** fájlok, a következő információk hello Ez a cikk ismertet gyors összegzését tartalmazza:</span><span class="sxs-lookup"><span data-stu-id="16bae-106">If you are already familiar with using Node.js modules, **package.json** and **npm-shrinkwrap.json** files, hello following information provides a quick summary of what is discussed in this article:</span></span>

* <span data-ttu-id="16bae-107">Az Azure App Service megértette **package.json** és **npm-shrinkwrap.json** fájlok, illetve az ezen fájlokban található bejegyzések alapuló modult telepítheti.</span><span class="sxs-lookup"><span data-stu-id="16bae-107">Azure App Service understands **package.json** and **npm-shrinkwrap.json** files and can install modules based on entries in these files.</span></span>

* <span data-ttu-id="16bae-108">Azure Cloud Services várt hello fejlesztőkörnyezetet és hello telepített összes modul toobe **csomópont\_modulok** directory toobe hello központi telepítési csomag részét képezi.</span><span class="sxs-lookup"><span data-stu-id="16bae-108">Azure Cloud Services expect all modules toobe installed on hello development environment, and hello **node\_modules** directory toobe included as part of hello deployment package.</span></span> <span data-ttu-id="16bae-109">Már lehetséges tooenable modulokkal telepítésének támogatása **package.json** vagy **npm-shrinkwrap.json** fájlokat a Felhőszolgáltatások; azonban ez a konfiguráció szükséges hello alapértelmezett testreszabása Cloud Service projektek által használt parancsfájlok.</span><span class="sxs-lookup"><span data-stu-id="16bae-109">It is possible tooenable support for installing modules using **package.json** or **npm-shrinkwrap.json** files on Cloud Services; however, this configuration requires customization of hello default scripts used by Cloud Service projects.</span></span> <span data-ttu-id="16bae-110">A példa bemutatja, hogyan tooconfigure ebben a környezetben, lásd: [Azure indítási tevékenységhez toorun npm telepítése tooavoid csomópont modulok telepítése](https://github.com/woloski/nodeonazure-blog/blob/master/articles/startup-task-to-run-npm-in-azure.markdown)</span><span class="sxs-lookup"><span data-stu-id="16bae-110">For an example of how tooconfigure this environment, see [Azure Startup task toorun npm install tooavoid deploying node modules](https://github.com/woloski/nodeonazure-blog/blob/master/articles/startup-task-to-run-npm-in-azure.markdown)</span></span>

> [!NOTE]
> <span data-ttu-id="16bae-111">Az Azure virtuális gépek nem esik szó ebben a cikkben mivel hello telepítési élményt nyújt a virtuális gép hello operációs rendszer hello virtuális gép által üzemeltetett függ.</span><span class="sxs-lookup"><span data-stu-id="16bae-111">Azure Virtual Machines are not discussed in this article, as hello deployment experience in a VM is dependent on hello operating system hosted by hello Virtual Machine.</span></span>
> 
> 

## <a name="nodejs-modules"></a><span data-ttu-id="16bae-112">A node.js modulok</span><span class="sxs-lookup"><span data-stu-id="16bae-112">Node.js Modules</span></span>
<span data-ttu-id="16bae-113">A modulokra betölthető JavaScript-csomagok, amelyek bizonyos funkciók biztosítanak az alkalmazáshoz.</span><span class="sxs-lookup"><span data-stu-id="16bae-113">Modules are loadable JavaScript packages that provide specific functionality for your application.</span></span> <span data-ttu-id="16bae-114">Modulok általában segítségével telepíthetők hello **npm** parancssori eszközzel, azonban néhány modulokat (például a http-modulja hello) hello core Node.js csomag részeként biztosított.</span><span class="sxs-lookup"><span data-stu-id="16bae-114">Modules are usually installed using hello **npm** command-line tool, however some modules (such as hello http module) are provided as part of hello core Node.js package.</span></span>

<span data-ttu-id="16bae-115">Amikor modulok telepítve vannak, hello tárolásuk **csomópont\_modulok** könyvtár: az alkalmazás könyvtárstruktúrát hello gyökérmappájában.</span><span class="sxs-lookup"><span data-stu-id="16bae-115">When modules are installed, they are stored in hello **node\_modules** directory at hello root of your application directory structure.</span></span> <span data-ttu-id="16bae-116">Minden modul belül hello **csomópont\_modulok** directory kezeli a saját **csomópont\_modulok** modulokat, attól függ, és ez a viselkedés ismétlődik tartalmazó könyvtárat minden modul összes hello módon hello függőségi lánc le.</span><span class="sxs-lookup"><span data-stu-id="16bae-116">Each module within hello **node\_modules** directory maintains its own **node\_modules** directory that contains any modules that it depends on, and this behavior repeats for every module all hello way down hello dependency chain.</span></span> <span data-ttu-id="16bae-117">Ebben a környezetben lehetővé teszi, hogy minden telepített modulokban toohave saját verzióra vonatkozó követelmények hello modulok függ, azonban igen nagy könyvtárstruktúrát eredményezheti.</span><span class="sxs-lookup"><span data-stu-id="16bae-117">This environment allows each module installed toohave its own version requirements for hello modules it depends on, however it can result in quite a large directory structure.</span></span>

<span data-ttu-id="16bae-118">Központi telepítés hello **csomópont\_modulok** könyvtárába, ha az alkalmazás részét hello telepítési képest hello mérete növekszik toousing egy **package.json** vagy  **npm-shrinkwrap.json** azonban azt garantálja, hogy éles környezetben használt hello modulok hello verziói vannak hello ugyanaz a fejlesztési használt hello modulok; fájlt.</span><span class="sxs-lookup"><span data-stu-id="16bae-118">Deploying hello **node\_modules** directory as part of your application increases hello size of hello deployment when compared toousing a **package.json** or **npm-shrinkwrap.json** file; however, it does guarantee that hello versions of hello modules used in production are hello same as hello modules used in development.</span></span>

### <a name="native-modules"></a><span data-ttu-id="16bae-119">A natív modulok</span><span class="sxs-lookup"><span data-stu-id="16bae-119">Native Modules</span></span>
<span data-ttu-id="16bae-120">A legtöbb modulokra egyszerűen csak egyszerű szöveges JavaScript-fájlt, miközben néhány modulokra platformspecifikus bináris képek.</span><span class="sxs-lookup"><span data-stu-id="16bae-120">While most modules are simply plain-text JavaScript files, some modules are platform-specific binary images.</span></span> <span data-ttu-id="16bae-121">Ezek a modulok összeállítása telepítésekor, általában a Python és a csomópont-gyp.</span><span class="sxs-lookup"><span data-stu-id="16bae-121">These modules are compiled at install time, usually by using Python and node-gyp.</span></span> <span data-ttu-id="16bae-122">Mivel Azure Felhőszolgáltatások támaszkodnak hello **csomópont\_modulok** mappa hello alkalmazásokban, valamint hello telepített modulok részét felhőszolgáltatásban kell működnie, mindaddig, amíg volt bármilyen natív modul telepítése telepített és összeállítása a Windows fejlesztői rendszernek.</span><span class="sxs-lookup"><span data-stu-id="16bae-122">Since Azure Cloud Services rely on hello **node\_modules** folder being deployed as part of hello application, any native module included as part of hello installed modules should work in a cloud service as long as it was installed and compiled on a Windows development system.</span></span>

<span data-ttu-id="16bae-123">Az Azure App Service nem támogatja a natív modulok, és meghiúsulhat, ha a konkrét Előfeltételek modulok fordítása.</span><span class="sxs-lookup"><span data-stu-id="16bae-123">Azure App Service does not support all native modules, and might fail when compiling modules with specific prerequisites.</span></span> <span data-ttu-id="16bae-124">Néhány népszerű modulokat, például a MongoDB választható natív függőségekkel rendelkeznek, és ezeket nem működnek, két lehetséges megoldások napjainkban szinte minden elérhető natív modul sikeres bizonyult:</span><span class="sxs-lookup"><span data-stu-id="16bae-124">While some popular modules like MongoDB have optional native dependencies and work fine without them, two workarounds proved successful with almost all native modules available today:</span></span>

* <span data-ttu-id="16bae-125">Futtatás **npm telepítése** egy Windows-gépen, amelyen minden hello natív modul előfeltétel telepítve van.</span><span class="sxs-lookup"><span data-stu-id="16bae-125">Run **npm install** on a Windows machine that has all hello native module's prerequisites installed.</span></span> <span data-ttu-id="16bae-126">Ezután telepítse a létrehozott hello **csomópont\_modulok** mappa hello alkalmazás tooAzure App Service részeként.</span><span class="sxs-lookup"><span data-stu-id="16bae-126">Then, deploy hello created **node\_modules** folder as part of hello application tooAzure App Service.</span></span>

  * <span data-ttu-id="16bae-127">Előtt fordítása, ellenőrizze, hogy a helyi Node.js telepítési rendelkezik a megfelelő architektúra és hello verzió minél az Azure-ban használt egyik lehetséges toohello (hello aktuális értékek ellenőrizhetők tulajdonságokból Runtime **process.arch**és **process.version**).</span><span class="sxs-lookup"><span data-stu-id="16bae-127">Before compiling, check that your local Node.js installation has matching architecture and hello version is as close as possible toohello one used in Azure (hello current values can be checked on runtime from properties **process.arch** and **process.version**).</span></span>

* <span data-ttu-id="16bae-128">Az Azure App Service lehet konfigurált tooexecute egyéni bash vagy rendszerhéj-parancsfájlok felkínálva a telepítés során hello lehetőség tooexecute egyéni parancsokat, és pontosan a hello konfigurálása módon **npm telepítése** futtatták.</span><span class="sxs-lookup"><span data-stu-id="16bae-128">Azure App Service can be configured tooexecute custom bash or shell scripts during deployment, giving you hello opportunity tooexecute custom commands and precisely configure hello way **npm install** is being run.</span></span> <span data-ttu-id="16bae-129">A videó ábrázoló hogyan tooconfigure környezet, lásd: [egyéni webhely üzembe helyezési parancsfájlok a Kudu].</span><span class="sxs-lookup"><span data-stu-id="16bae-129">For a video showing how tooconfigure that environment, see [Custom Website Deployment Scripts with Kudu].</span></span>

### <a name="using-a-packagejson-file"></a><span data-ttu-id="16bae-130">A package.json fájl használata</span><span class="sxs-lookup"><span data-stu-id="16bae-130">Using a package.json file</span></span>
<span data-ttu-id="16bae-131">Hello **package.json** fájl egy módon toospecify hello legfelső szintű függőségek az alkalmazás által igényelt hello üzemeltetési platformtól telepíthetik hello függőségek, ahelyett, hogy nincs szükség tooinclude hello **csomópont \_csomagok** mappa hello központi telepítésének részeként.</span><span class="sxs-lookup"><span data-stu-id="16bae-131">hello **package.json** file is a way toospecify hello top-level dependencies your application requires so that hello hosting platform can install hello dependencies, rather than requiring you tooinclude hello **node\_packages** folder as part of hello deployment.</span></span> <span data-ttu-id="16bae-132">Hello alkalmazás telepítése után hello **npm telepítése** parancs használt tooparse hello: **package.json** fájlt, és felsorolt összes hello függőségek telepítése.</span><span class="sxs-lookup"><span data-stu-id="16bae-132">After hello application has been deployed, hello **npm install** command is used tooparse hello **package.json** file and install all hello dependencies listed.</span></span>

<span data-ttu-id="16bae-133">Fejlesztési, használhatja a hello **--mentése**, **--mentés-fejlesztői**, vagy **--mentés választható** paraméterek modulok tooadd hello modul tooyour bejegyzésttelepítésekor**package.json** automatikusan fájlt.</span><span class="sxs-lookup"><span data-stu-id="16bae-133">During development, you can use hello **--save**, **--save-dev**, or **--save-optional** parameters when installing modules tooadd an entry for hello module tooyour **package.json** file automatically.</span></span> <span data-ttu-id="16bae-134">További információkért lásd: [npm-telepítés](https://docs.npmjs.com/cli/install).</span><span class="sxs-lookup"><span data-stu-id="16bae-134">For more information, see [npm-install](https://docs.npmjs.com/cli/install).</span></span>

<span data-ttu-id="16bae-135">Egy potenciális problémát, amelynek hello **package.json** fájl csak meghatározza a legfelső szintű függőségekhez hello verziója.</span><span class="sxs-lookup"><span data-stu-id="16bae-135">One potential problem with hello **package.json** file is that it only specifies hello version for top-level dependencies.</span></span> <span data-ttu-id="16bae-136">Minden telepített modulokban előfordulhat, hogy, vagy attól függ, hello modulok hello verziója nem adható meg, és így, akkor előfordulhat, hogy akkor fordulhatnak elő egy másik függőségi lánc egyik fejlesztési használt hello mint.</span><span class="sxs-lookup"><span data-stu-id="16bae-136">Each module installed may or may not specify hello version of hello modules it depends on, and so it is possible that you may end up with a different dependency chain than hello one used in development.</span></span>

> [!NOTE]
> <span data-ttu-id="16bae-137">App Service-ben tooAzure telepítésekor, ha a <b>package.json</b> fájl hivatkozik egy natív moduljára, megjelenhet egy hasonló toohello hiba, ha a Git használatával hello alkalmazás közzététele a következő példa:</span><span class="sxs-lookup"><span data-stu-id="16bae-137">When deploying tooAzure App Service, if your <b>package.json</b> file references a native module you might see an error similar toohello following example when publishing hello application using Git:</span></span>
> 
> <span data-ttu-id="16bae-138">npm hiba!</span><span class="sxs-lookup"><span data-stu-id="16bae-138">npm ERR!</span></span> <span data-ttu-id="16bae-139">module-name@0.6.0telepítés: "csomópont-gyp konfigurálása build"</span><span class="sxs-lookup"><span data-stu-id="16bae-139">module-name@0.6.0 install: 'node-gyp configure build'</span></span>
> 
> <span data-ttu-id="16bae-140">npm hiba!</span><span class="sxs-lookup"><span data-stu-id="16bae-140">npm ERR!</span></span> <span data-ttu-id="16bae-141">"cmd"/ c""csomópont-gyp konfigurálása build"" sikertelen 1</span><span class="sxs-lookup"><span data-stu-id="16bae-141">'cmd "/c" "node-gyp configure build"' failed with 1</span></span>
> 
> 

### <a name="using-a-npm-shrinkwrapjson-file"></a><span data-ttu-id="16bae-142">Npm-shrinkwrap.json fájl használatával</span><span class="sxs-lookup"><span data-stu-id="16bae-142">Using a npm-shrinkwrap.json file</span></span>
<span data-ttu-id="16bae-143">Hello **npm-shrinkwrap.json** fájl egy kísérlet tooaddress hello modul versioning korlátozásai hello **package.json** fájlt.</span><span class="sxs-lookup"><span data-stu-id="16bae-143">hello **npm-shrinkwrap.json** file is an attempt tooaddress hello module versioning limitations of hello **package.json** file.</span></span> <span data-ttu-id="16bae-144">Hello közben **package.json** fájl csak verziójával együtt hello legfelső szintű modulok, hello **npm-shrinkwrap.json** fájl hello verzió követelményeit hello teljes modul függőségi lánc tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="16bae-144">While hello **package.json** file only includes versions for hello top-level modules, hello **npm-shrinkwrap.json** file contains hello version requirements for hello full module dependency chain.</span></span>

<span data-ttu-id="16bae-145">Amikor az alkalmazás készen áll a termelési, verzióra vonatkozó követelmények zárolását, és hozzon létre egy **npm-shrinkwrap.json** hello segítségével fájlt **npm shrinkwrap** parancsot.</span><span class="sxs-lookup"><span data-stu-id="16bae-145">When your application is ready for production, you can lock down version requirements and create an **npm-shrinkwrap.json** file by using hello **npm shrinkwrap** command.</span></span> <span data-ttu-id="16bae-146">Ez a parancs fogja használni a hello jelenleg telepített hello verziók **csomópont\_modulok** mappa, és jegyezze fel ezeket verziók toohello **npm-shrinkwrap.json** fájlt.</span><span class="sxs-lookup"><span data-stu-id="16bae-146">This command will use hello versions currently installed in hello **node\_modules** folder, and record these versions toohello **npm-shrinkwrap.json** file.</span></span> <span data-ttu-id="16bae-147">Hello alkalmazást üzemeltető környezetben telepített toohello után hello **npm telepítése** parancs használt tooparse hello: **npm-shrinkwrap.json** fájlt, és felsorolt összes hello függőségek telepítése.</span><span class="sxs-lookup"><span data-stu-id="16bae-147">After hello application has been deployed toohello hosting environment, hello **npm install** command is used tooparse hello **npm-shrinkwrap.json** file and install all hello dependencies listed.</span></span> <span data-ttu-id="16bae-148">További információkért lásd: [npm-shrinkwrap](https://docs.npmjs.com/cli/shrinkwrap).</span><span class="sxs-lookup"><span data-stu-id="16bae-148">For more information, see [npm-shrinkwrap](https://docs.npmjs.com/cli/shrinkwrap).</span></span>

> [!NOTE]
> <span data-ttu-id="16bae-149">App Service-ben tooAzure telepítésekor, ha a <b>npm-shrinkwrap.json</b> fájl hivatkozik egy natív moduljára, megjelenhet egy hasonló toohello hiba, ha a Git használatával hello alkalmazás közzététele a következő példa:</span><span class="sxs-lookup"><span data-stu-id="16bae-149">When deploying tooAzure App Service, if your <b>npm-shrinkwrap.json</b> file references a native module you might see an error similar toohello following example when publishing hello application using Git:</span></span>
> 
> <span data-ttu-id="16bae-150">npm hiba!</span><span class="sxs-lookup"><span data-stu-id="16bae-150">npm ERR!</span></span> <span data-ttu-id="16bae-151">module-name@0.6.0telepítés: "csomópont-gyp konfigurálása build"</span><span class="sxs-lookup"><span data-stu-id="16bae-151">module-name@0.6.0 install: 'node-gyp configure build'</span></span>
> 
> <span data-ttu-id="16bae-152">npm hiba!</span><span class="sxs-lookup"><span data-stu-id="16bae-152">npm ERR!</span></span> <span data-ttu-id="16bae-153">"cmd"/ c""csomópont-gyp konfigurálása build"" sikertelen 1</span><span class="sxs-lookup"><span data-stu-id="16bae-153">'cmd "/c" "node-gyp configure build"' failed with 1</span></span>
> 
> 

## <a name="next-steps"></a><span data-ttu-id="16bae-154">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="16bae-154">Next steps</span></span>
<span data-ttu-id="16bae-155">Most, hogy megismerkedett hogyan toouse Node.js modulok az Azure-ral, megtudhatja, hogyan túl[hello Node.js verzió megadása], [és üzembe egy Node.js-webalkalmazás](app-service-web/app-service-web-get-started-nodejs.md), és [hogyan toouse hello Azure parancssori Felület Mac és Linux].</span><span class="sxs-lookup"><span data-stu-id="16bae-155">Now that you understand how toouse Node.js modules with Azure, learn how too[specify hello Node.js version], [build and deploy a Node.js web app](app-service-web/app-service-web-get-started-nodejs.md), and [How toouse hello Azure Command-Line Interface for Mac and Linux].</span></span>

<span data-ttu-id="16bae-156">További információkért lásd: hello [Node.js fejlesztői központ](/nodejs/azure/).</span><span class="sxs-lookup"><span data-stu-id="16bae-156">For more information, see hello [Node.js Developer Center](/nodejs/azure/).</span></span>

[hello Node.js verzió megadása]: nodejs-specify-node-version-azure-apps.md
[hogyan toouse hello Azure parancssori Felület Mac és Linux]:cli-install-nodejs.md
[egyéni webhely üzembe helyezési parancsfájlok a Kudu]: https://channel9.msdn.com/Shows/Azure-Friday/Custom-Web-Site-Deployment-Scripts-with-Kudu-with-David-Ebbo
