---
title: "Node.js modulok használata"
description: "Útmutató az Azure App Service és a Felhőszolgáltatások használata a Node.js modulok használata."
services: 
documentationcenter: nodejs
author: TomArcher
manager: routlaw
editor: 
ms.assetid: c0e6cd3d-932d-433e-b72d-e513e23b4eb6
ms.service: multiple
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: nodejs
ms.topic: article
ms.date: 08/17/2016
ms.author: tarcher
ms.openlocfilehash: 1418c19594f19a15402d494880514298826445df
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 08/18/2017
---
# <a name="using-nodejs-modules-with-azure-applications"></a><span data-ttu-id="697f9-103">A Node.js modulok használata az Azure alkalmazásokkal</span><span class="sxs-lookup"><span data-stu-id="697f9-103">Using Node.js Modules with Azure applications</span></span>
<span data-ttu-id="697f9-104">Ez a dokumentum útmutatást nyújt a Node.js modulok használata az Azure-platformon futó alkalmazások.</span><span class="sxs-lookup"><span data-stu-id="697f9-104">This document provides guidance on using Node.js modules with applications hosted on Azure.</span></span> <span data-ttu-id="697f9-105">beleértve annak biztosítását, hogy az alkalmazás a modul egy adott verzióját használja, továbbá a natív modulok az Azure-ral való használatát.</span><span class="sxs-lookup"><span data-stu-id="697f9-105">It provides guidance on ensuring that your application uses a specific version of module as well as using native modules with Azure.</span></span>

<span data-ttu-id="697f9-106">Ha már ismeri a Node.js modulok használata **package.json** és **npm-shrinkwrap.json** fájlok, ez a cikk ismertet gyors összegzését tartalmazza a következő információkat:</span><span class="sxs-lookup"><span data-stu-id="697f9-106">If you are already familiar with using Node.js modules, **package.json** and **npm-shrinkwrap.json** files, the following information provides a quick summary of what is discussed in this article:</span></span>

* <span data-ttu-id="697f9-107">Az Azure App Service megértette **package.json** és **npm-shrinkwrap.json** fájlok, illetve az ezen fájlokban található bejegyzések alapuló modult telepítheti.</span><span class="sxs-lookup"><span data-stu-id="697f9-107">Azure App Service understands **package.json** and **npm-shrinkwrap.json** files and can install modules based on entries in these files.</span></span>

* <span data-ttu-id="697f9-108">Azure Cloud Services várt kell telepíteni a fejlesztési környezet összes modul és a **csomópont\_modulok** directory a központi telepítési csomag része.</span><span class="sxs-lookup"><span data-stu-id="697f9-108">Azure Cloud Services expect all modules to be installed on the development environment, and the **node\_modules** directory to be included as part of the deployment package.</span></span> <span data-ttu-id="697f9-109">Lehetséges modulokkal telepítése támogatásának engedélyezése **package.json** vagy **npm-shrinkwrap.json** fájlokat a Felhőszolgáltatások; azonban ez a konfiguráció szükséges az alapértelmezett testreszabása Cloud Service projektek által használt parancsfájlok.</span><span class="sxs-lookup"><span data-stu-id="697f9-109">It is possible to enable support for installing modules using **package.json** or **npm-shrinkwrap.json** files on Cloud Services; however, this configuration requires customization of the default scripts used by Cloud Service projects.</span></span> <span data-ttu-id="697f9-110">Példa bemutatja, hogyan konfigurálhatja az ebben a környezetben, lásd: [Azure indítási feladat npm-telepítés elkerülése érdekében a csomópont-modulok telepítése](https://github.com/woloski/nodeonazure-blog/blob/master/articles/startup-task-to-run-npm-in-azure.markdown)</span><span class="sxs-lookup"><span data-stu-id="697f9-110">For an example of how to configure this environment, see [Azure Startup task to run npm install to avoid deploying node modules](https://github.com/woloski/nodeonazure-blog/blob/master/articles/startup-task-to-run-npm-in-azure.markdown)</span></span>

> [!NOTE]
> <span data-ttu-id="697f9-111">Az Azure virtuális gépek nem ismertetése a cikkben, mivel a telepítési élményt nyújt a virtuális gépen az operációs rendszer a virtuális gép által üzemeltetett függ.</span><span class="sxs-lookup"><span data-stu-id="697f9-111">Azure Virtual Machines are not discussed in this article, as the deployment experience in a VM is dependent on the operating system hosted by the Virtual Machine.</span></span>
> 
> 

## <a name="nodejs-modules"></a><span data-ttu-id="697f9-112">A node.js modulok</span><span class="sxs-lookup"><span data-stu-id="697f9-112">Node.js Modules</span></span>
<span data-ttu-id="697f9-113">A modulokra betölthető JavaScript-csomagok, amelyek bizonyos funkciók biztosítanak az alkalmazáshoz.</span><span class="sxs-lookup"><span data-stu-id="697f9-113">Modules are loadable JavaScript packages that provide specific functionality for your application.</span></span> <span data-ttu-id="697f9-114">Modulok általában segítségével telepíthetők a **npm** parancssori eszközzel, azonban néhány modulokat (például a http-modulja) Node.js core csomag részeként biztosított.</span><span class="sxs-lookup"><span data-stu-id="697f9-114">Modules are usually installed using the **npm** command-line tool, however some modules (such as the http module) are provided as part of the core Node.js package.</span></span>

<span data-ttu-id="697f9-115">Amikor modulok telepítve vannak, tárolásuk a **csomópont\_modulok** könyvtárhoz, az alkalmazás könyvtárstruktúrát gyökerében.</span><span class="sxs-lookup"><span data-stu-id="697f9-115">When modules are installed, they are stored in the **node\_modules** directory at the root of your application directory structure.</span></span> <span data-ttu-id="697f9-116">Minden modul belül a **csomópont\_modulok** directory kezeli a saját **csomópont\_modulok** függ, és ez a viselkedés ismétlődik a modulokat tartalmazó könyvtárat minden modul egészen a függőségi láncból le.</span><span class="sxs-lookup"><span data-stu-id="697f9-116">Each module within the **node\_modules** directory maintains its own **node\_modules** directory that contains any modules that it depends on, and this behavior repeats for every module all the way down the dependency chain.</span></span> <span data-ttu-id="697f9-117">Ebben a környezetben lehetővé teszi, hogy a telepítés után a saját verziójával kapcsolatos követelmények a modulok függ, azonban igen nagy könyvtárstruktúrát eredményezhet modulokhoz.</span><span class="sxs-lookup"><span data-stu-id="697f9-117">This environment allows each module installed to have its own version requirements for the modules it depends on, however it can result in quite a large directory structure.</span></span>

<span data-ttu-id="697f9-118">Központi telepítése a **csomópont\_modulok** könyvtárába, az alkalmazás részei a központi telepítés használatával mérete növekszik a **package.json** vagy  **npm-shrinkwrap.json** azonban azt garantálja, hogy az éles környezetben használt modulok verziói ugyanazok, mint a modulok használják a fejlesztési; fájlt.</span><span class="sxs-lookup"><span data-stu-id="697f9-118">Deploying the **node\_modules** directory as part of your application increases the size of the deployment when compared to using a **package.json** or **npm-shrinkwrap.json** file; however, it does guarantee that the versions of the modules used in production are the same as the modules used in development.</span></span>

### <a name="native-modules"></a><span data-ttu-id="697f9-119">A natív modulok</span><span class="sxs-lookup"><span data-stu-id="697f9-119">Native Modules</span></span>
<span data-ttu-id="697f9-120">A legtöbb modulokra egyszerűen csak egyszerű szöveges JavaScript-fájlt, miközben néhány modulokra platformspecifikus bináris képek.</span><span class="sxs-lookup"><span data-stu-id="697f9-120">While most modules are simply plain-text JavaScript files, some modules are platform-specific binary images.</span></span> <span data-ttu-id="697f9-121">Ezek a modulok összeállítása telepítésekor, általában a Python és a csomópont-gyp.</span><span class="sxs-lookup"><span data-stu-id="697f9-121">These modules are compiled at install time, usually by using Python and node-gyp.</span></span> <span data-ttu-id="697f9-122">Mivel Azure Felhőszolgáltatások támaszkodnak az **csomópont\_modulok** mindaddig, amíg telepítve lett az alkalmazás, minden natív modul, a telepített modulok részét képező részeként telepített mappa működnek felhőszolgáltatásban és a Windows fejlesztői rendszeren lefordított.</span><span class="sxs-lookup"><span data-stu-id="697f9-122">Since Azure Cloud Services rely on the **node\_modules** folder being deployed as part of the application, any native module included as part of the installed modules should work in a cloud service as long as it was installed and compiled on a Windows development system.</span></span>

<span data-ttu-id="697f9-123">Az Azure App Service nem támogatja a natív modulok, és meghiúsulhat, ha a konkrét Előfeltételek modulok fordítása.</span><span class="sxs-lookup"><span data-stu-id="697f9-123">Azure App Service does not support all native modules, and might fail when compiling modules with specific prerequisites.</span></span> <span data-ttu-id="697f9-124">Néhány népszerű modulokat, például a MongoDB választható natív függőségekkel rendelkeznek, és ezeket nem működnek, két lehetséges megoldások napjainkban szinte minden elérhető natív modul sikeres bizonyult:</span><span class="sxs-lookup"><span data-stu-id="697f9-124">While some popular modules like MongoDB have optional native dependencies and work fine without them, two workarounds proved successful with almost all native modules available today:</span></span>

* <span data-ttu-id="697f9-125">Futtatás **npm telepítése** egy Windows-gépen, amelyen a natív modul minden előfeltétel telepítve van.</span><span class="sxs-lookup"><span data-stu-id="697f9-125">Run **npm install** on a Windows machine that has all the native module's prerequisites installed.</span></span> <span data-ttu-id="697f9-126">Ezután telepítse a létrehozott **csomópont\_modulok** mappa az Azure App Service alkalmazás részeként.</span><span class="sxs-lookup"><span data-stu-id="697f9-126">Then, deploy the created **node\_modules** folder as part of the application to Azure App Service.</span></span>

  * <span data-ttu-id="697f9-127">Előtt fordítása, ellenőrizze, hogy a helyi Node.js telepítési rendelkezik a megfelelő architektúra, és a lehető egy Azure-ban használt verziója (az aktuális értékek ellenőrizhetők tulajdonságokból Runtime **process.arch** és **process.version**).</span><span class="sxs-lookup"><span data-stu-id="697f9-127">Before compiling, check that your local Node.js installation has matching architecture and the version is as close as possible to the one used in Azure (the current values can be checked on runtime from properties **process.arch** and **process.version**).</span></span>

* <span data-ttu-id="697f9-128">Az Azure App Service beállítható úgy, hogy a telepítés során egyéni bash vagy rendszerhéj-parancsfájlok végrehajtása felkínálva egyéni parancsokat hajthat végre, és pontosan állítania **npm telepítése** futtatták.</span><span class="sxs-lookup"><span data-stu-id="697f9-128">Azure App Service can be configured to execute custom bash or shell scripts during deployment, giving you the opportunity to execute custom commands and precisely configure the way **npm install** is being run.</span></span> <span data-ttu-id="697f9-129">A videó bemutatja, hogyan konfigurálja, hogy a környezetet, lásd: [egyéni webhely üzembe helyezési parancsfájlok a Kudu].</span><span class="sxs-lookup"><span data-stu-id="697f9-129">For a video showing how to configure that environment, see [Custom Website Deployment Scripts with Kudu].</span></span>

### <a name="using-a-packagejson-file"></a><span data-ttu-id="697f9-130">A package.json fájl használata</span><span class="sxs-lookup"><span data-stu-id="697f9-130">Using a package.json file</span></span>
<span data-ttu-id="697f9-131">A **package.json** fájl egy módszerre, amellyel az alkalmazás által igényelt, a gazdaplatform telepíthetik a függőségek ahelyett, hogy nincs szükség a következők a legfelső szintű függőségeinek megadása a **csomópont\_ csomagok** mappába a központi telepítésének részeként.</span><span class="sxs-lookup"><span data-stu-id="697f9-131">The **package.json** file is a way to specify the top-level dependencies your application requires so that the hosting platform can install the dependencies, rather than requiring you to include the **node\_packages** folder as part of the deployment.</span></span> <span data-ttu-id="697f9-132">Miután az alkalmazás telepítve van, a **npm telepítése** parancs segítségével elemezni a **package.json** fájlt, és telepítse a felsorolt függőségei.</span><span class="sxs-lookup"><span data-stu-id="697f9-132">After the application has been deployed, the **npm install** command is used to parse the **package.json** file and install all the dependencies listed.</span></span>

<span data-ttu-id="697f9-133">Fejlesztési, használhatja a **--mentése**, **--mentés-fejlesztői**, vagy **--mentés választható** paraméterek, a modul bejegyzése hozzáadása a moduloktelepítésekor**package.json** automatikusan fájlt.</span><span class="sxs-lookup"><span data-stu-id="697f9-133">During development, you can use the **--save**, **--save-dev**, or **--save-optional** parameters when installing modules to add an entry for the module to your **package.json** file automatically.</span></span> <span data-ttu-id="697f9-134">További információkért lásd: [npm-telepítés](https://docs.npmjs.com/cli/install).</span><span class="sxs-lookup"><span data-stu-id="697f9-134">For more information, see [npm-install](https://docs.npmjs.com/cli/install).</span></span>

<span data-ttu-id="697f9-135">Egy potenciális problémát, amelynek a **package.json** fájl csak meghatározza a felső szintű függőségek verzió.</span><span class="sxs-lookup"><span data-stu-id="697f9-135">One potential problem with the **package.json** file is that it only specifies the version for top-level dependencies.</span></span> <span data-ttu-id="697f9-136">Minden telepített modulokban előfordulhat, hogy, vagy attól függ, a modulok verziója nem adható meg, és így, akkor előfordulhat, hogy akkor is szükségessé tehet, mint egy fejlesztési szerepel egy másik függőségi láncból.</span><span class="sxs-lookup"><span data-stu-id="697f9-136">Each module installed may or may not specify the version of the modules it depends on, and so it is possible that you may end up with a different dependency chain than the one used in development.</span></span>

> [!NOTE]
> <span data-ttu-id="697f9-137">Ha Azure App Service-ben való üzembe helyezés esetén a <b>package.json</b> fájl hivatkozik a natív modult az alábbi példához hasonló hiba jelenhet meg, a Git használatával alkalmazás közzététele során:</span><span class="sxs-lookup"><span data-stu-id="697f9-137">When deploying to Azure App Service, if your <b>package.json</b> file references a native module you might see an error similar to the following example when publishing the application using Git:</span></span>
> 
> <span data-ttu-id="697f9-138">npm hiba!</span><span class="sxs-lookup"><span data-stu-id="697f9-138">npm ERR!</span></span> <span data-ttu-id="697f9-139">module-name@0.6.0telepítés: "csomópont-gyp konfigurálása build"</span><span class="sxs-lookup"><span data-stu-id="697f9-139">module-name@0.6.0 install: 'node-gyp configure build'</span></span>
> 
> <span data-ttu-id="697f9-140">npm hiba!</span><span class="sxs-lookup"><span data-stu-id="697f9-140">npm ERR!</span></span> <span data-ttu-id="697f9-141">"cmd"/ c""csomópont-gyp konfigurálása build"" sikertelen 1</span><span class="sxs-lookup"><span data-stu-id="697f9-141">'cmd "/c" "node-gyp configure build"' failed with 1</span></span>
> 
> 

### <a name="using-a-npm-shrinkwrapjson-file"></a><span data-ttu-id="697f9-142">Npm-shrinkwrap.json fájl használatával</span><span class="sxs-lookup"><span data-stu-id="697f9-142">Using a npm-shrinkwrap.json file</span></span>
<span data-ttu-id="697f9-143">A **npm-shrinkwrap.json** fájl modul versioning vonatkozó korlátozások elhárítása kísérlet a **package.json** fájlt.</span><span class="sxs-lookup"><span data-stu-id="697f9-143">The **npm-shrinkwrap.json** file is an attempt to address the module versioning limitations of the **package.json** file.</span></span> <span data-ttu-id="697f9-144">Amíg a **package.json** fájl csak a legfelső szintű modulok-verziók szerepelnek a **npm-shrinkwrap.json** fájl tartalmazza a teljes modul függőségi láncból verzió követelményei.</span><span class="sxs-lookup"><span data-stu-id="697f9-144">While the **package.json** file only includes versions for the top-level modules, the **npm-shrinkwrap.json** file contains the version requirements for the full module dependency chain.</span></span>

<span data-ttu-id="697f9-145">Amikor az alkalmazás készen áll a termelési, verzióra vonatkozó követelmények zárolását, és hozzon létre egy **npm-shrinkwrap.json** fájl használatával a **npm shrinkwrap** parancsot.</span><span class="sxs-lookup"><span data-stu-id="697f9-145">When your application is ready for production, you can lock down version requirements and create an **npm-shrinkwrap.json** file by using the **npm shrinkwrap** command.</span></span> <span data-ttu-id="697f9-146">Ez a parancs fogja használni a jelenleg telepített verzió a **csomópont\_modulok** mappa, és jegyezze fel az ezen verziói a **npm-shrinkwrap.json** fájlt.</span><span class="sxs-lookup"><span data-stu-id="697f9-146">This command will use the versions currently installed in the **node\_modules** folder, and record these versions to the **npm-shrinkwrap.json** file.</span></span> <span data-ttu-id="697f9-147">Az alkalmazás az üzemeltetési környezetbe telepítése után a **npm telepítése** parancs segítségével elemezni a **npm-shrinkwrap.json** fájlt, és telepítse a felsorolt függőségei.</span><span class="sxs-lookup"><span data-stu-id="697f9-147">After the application has been deployed to the hosting environment, the **npm install** command is used to parse the **npm-shrinkwrap.json** file and install all the dependencies listed.</span></span> <span data-ttu-id="697f9-148">További információkért lásd: [npm-shrinkwrap](https://docs.npmjs.com/cli/shrinkwrap).</span><span class="sxs-lookup"><span data-stu-id="697f9-148">For more information, see [npm-shrinkwrap](https://docs.npmjs.com/cli/shrinkwrap).</span></span>

> [!NOTE]
> <span data-ttu-id="697f9-149">Ha Azure App Service-ben való üzembe helyezés esetén a <b>npm-shrinkwrap.json</b> fájl hivatkozik a natív modult az alábbi példához hasonló hiba jelenhet meg, a Git használatával alkalmazás közzététele során:</span><span class="sxs-lookup"><span data-stu-id="697f9-149">When deploying to Azure App Service, if your <b>npm-shrinkwrap.json</b> file references a native module you might see an error similar to the following example when publishing the application using Git:</span></span>
> 
> <span data-ttu-id="697f9-150">npm hiba!</span><span class="sxs-lookup"><span data-stu-id="697f9-150">npm ERR!</span></span> <span data-ttu-id="697f9-151">module-name@0.6.0telepítés: "csomópont-gyp konfigurálása build"</span><span class="sxs-lookup"><span data-stu-id="697f9-151">module-name@0.6.0 install: 'node-gyp configure build'</span></span>
> 
> <span data-ttu-id="697f9-152">npm hiba!</span><span class="sxs-lookup"><span data-stu-id="697f9-152">npm ERR!</span></span> <span data-ttu-id="697f9-153">"cmd"/ c""csomópont-gyp konfigurálása build"" sikertelen 1</span><span class="sxs-lookup"><span data-stu-id="697f9-153">'cmd "/c" "node-gyp configure build"' failed with 1</span></span>
> 
> 

## <a name="next-steps"></a><span data-ttu-id="697f9-154">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="697f9-154">Next steps</span></span>
<span data-ttu-id="697f9-155">Most, hogy megismerte a Node.js modulok használata Azure, megtudhatja, hogyan [a Node.js verzió megadása], [és üzembe egy Node.js-webalkalmazás](app-service-web/app-service-web-get-started-nodejs.md), és [az Azure parancssori használata Felület Mac és Linux].</span><span class="sxs-lookup"><span data-stu-id="697f9-155">Now that you understand how to use Node.js modules with Azure, learn how to [specify the Node.js version], [build and deploy a Node.js web app](app-service-web/app-service-web-get-started-nodejs.md), and [How to use the Azure Command-Line Interface for Mac and Linux].</span></span>

<span data-ttu-id="697f9-156">További információk: [Node.js fejlesztői központ](/nodejs/azure/).</span><span class="sxs-lookup"><span data-stu-id="697f9-156">For more information, see the [Node.js Developer Center](/nodejs/azure/).</span></span>

<span data-ttu-id="697f9-157">[a Node.js verzió megadása]: nodejs-specify-node-version-azure-apps.md</span><span class="sxs-lookup"><span data-stu-id="697f9-157">[specify the Node.js version]: nodejs-specify-node-version-azure-apps.md</span></span>
<span data-ttu-id="697f9-158">[az Azure parancssori használata Felület Mac és Linux]:cli-install-nodejs.md</span><span class="sxs-lookup"><span data-stu-id="697f9-158">[How to use the Azure Command-Line Interface for Mac and Linux]:cli-install-nodejs.md</span></span>
<span data-ttu-id="697f9-159">[egyéni webhely üzembe helyezési parancsfájlok a Kudu]: https://channel9.msdn.com/Shows/Azure-Friday/Custom-Web-Site-Deployment-Scripts-with-Kudu-with-David-Ebbo</span><span class="sxs-lookup"><span data-stu-id="697f9-159">[Custom Website Deployment Scripts with Kudu]: https://channel9.msdn.com/Shows/Azure-Friday/Custom-Web-Site-Deployment-Scripts-with-Kudu-with-David-Ebbo</span></span>
