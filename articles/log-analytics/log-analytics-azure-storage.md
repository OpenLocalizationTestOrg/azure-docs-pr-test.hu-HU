---
title: "aaaCollect Azure szolgáltatás naplók és a metrikák Naplóelemzési |} Microsoft Docs"
description: "Diagnosztika konfigurálása az Azure-erőforrások toowrite naplók és a metrikák tooLog elemzés."
services: log-analytics
documentationcenter: 
author: MGoedtel
manager: carmonm
editor: 
ms.assetid: 84105740-3697-4109-bc59-2452c1131bfe
ms.service: log-analytics
ms.workload: na
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 04/12/2017
ms.author: magoedte
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: 1cede9a94ec83c4e3a95853dc2ec355d8df06d6e
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="collect-azure-service-logs-and-metrics-for-use-in-log-analytics"></a><span data-ttu-id="58c10-103">Azure szolgáltatás és a metrikák Naplóelemzési használható gyűjtése</span><span class="sxs-lookup"><span data-stu-id="58c10-103">Collect Azure service logs and metrics for use in Log Analytics</span></span>

<span data-ttu-id="58c10-104">Folyamatosan naplókat és az Azure-szolgáltatások metrikáját négy különböző módja van:</span><span class="sxs-lookup"><span data-stu-id="58c10-104">There are four different ways of collecting logs and metrics for Azure services:</span></span>

1. <span data-ttu-id="58c10-105">Az Azure diagnostics közvetlen tooLog Analytics (*diagnosztika* a következő táblázat hello)</span><span class="sxs-lookup"><span data-stu-id="58c10-105">Azure diagnostics direct tooLog Analytics (*Diagnostics* in hello following table)</span></span>
2. <span data-ttu-id="58c10-106">Az Azure diagnostics tooAzure tárolási tooLog Analytics (*tárolási* a következő táblázat hello)</span><span class="sxs-lookup"><span data-stu-id="58c10-106">Azure diagnostics tooAzure storage tooLog Analytics (*Storage* in hello following table)</span></span>
3. <span data-ttu-id="58c10-107">Az Azure szolgáltatások összekötők (*összekötők* a következő táblázat hello)</span><span class="sxs-lookup"><span data-stu-id="58c10-107">Connectors for Azure services (*Connectors* in hello following table)</span></span>
4. <span data-ttu-id="58c10-108">A Naplóelemzési (üres a következő táblázat hello és szolgáltatásokról, amelyek nem szerepelnek a listán) a toocollect, majd a post-adatokat parancsfájlok</span><span class="sxs-lookup"><span data-stu-id="58c10-108">Scripts toocollect and then post data into Log Analytics (blanks in hello following table and for services that are not listed)</span></span>


| <span data-ttu-id="58c10-109">Szolgáltatás</span><span class="sxs-lookup"><span data-stu-id="58c10-109">Service</span></span>                 | <span data-ttu-id="58c10-110">Erőforrás típusa</span><span class="sxs-lookup"><span data-stu-id="58c10-110">Resource Type</span></span>                           | <span data-ttu-id="58c10-111">Logs</span><span class="sxs-lookup"><span data-stu-id="58c10-111">Logs</span></span>        | <span data-ttu-id="58c10-112">Mérőszámok</span><span class="sxs-lookup"><span data-stu-id="58c10-112">Metrics</span></span>     | <span data-ttu-id="58c10-113">Megoldás</span><span class="sxs-lookup"><span data-stu-id="58c10-113">Solution</span></span> |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="58c10-114">Alkalmazásátjárók</span><span class="sxs-lookup"><span data-stu-id="58c10-114">Application gateways</span></span>    | <span data-ttu-id="58c10-115">Microsoft.Network/applicationGateways</span><span class="sxs-lookup"><span data-stu-id="58c10-115">Microsoft.Network/applicationGateways</span></span>   | <span data-ttu-id="58c10-116">Diagnosztika</span><span class="sxs-lookup"><span data-stu-id="58c10-116">Diagnostics</span></span> | <span data-ttu-id="58c10-117">Diagnosztika</span><span class="sxs-lookup"><span data-stu-id="58c10-117">Diagnostics</span></span> | [<span data-ttu-id="58c10-118">Az Azure alkalmazás átjáró elemzés</span><span class="sxs-lookup"><span data-stu-id="58c10-118">Azure Application Gateway Analytics</span></span>](log-analytics-azure-networking-analytics.md#azure-application-gateway-analytics-solution-in-log-analytics) |
| <span data-ttu-id="58c10-119">Az Application insights</span><span class="sxs-lookup"><span data-stu-id="58c10-119">Application insights</span></span>    |                                         | <span data-ttu-id="58c10-120">összekötő</span><span class="sxs-lookup"><span data-stu-id="58c10-120">Connector</span></span>   | <span data-ttu-id="58c10-121">összekötő</span><span class="sxs-lookup"><span data-stu-id="58c10-121">Connector</span></span>   | <span data-ttu-id="58c10-122">[Application Insights-összekötő](https://blogs.technet.microsoft.com/msoms/2016/09/26/application-insights-connector-in-oms/) (előzetes verzió)</span><span class="sxs-lookup"><span data-stu-id="58c10-122">[Application Insights Connector](https://blogs.technet.microsoft.com/msoms/2016/09/26/application-insights-connector-in-oms/) (Preview)</span></span> |
| <span data-ttu-id="58c10-123">Automation-fiókok</span><span class="sxs-lookup"><span data-stu-id="58c10-123">Automation accounts</span></span>     | <span data-ttu-id="58c10-124">Microsoft.Automation/AutomationAccounts</span><span class="sxs-lookup"><span data-stu-id="58c10-124">Microsoft.Automation/AutomationAccounts</span></span> | <span data-ttu-id="58c10-125">Diagnosztika</span><span class="sxs-lookup"><span data-stu-id="58c10-125">Diagnostics</span></span> |             | [<span data-ttu-id="58c10-126">További információ</span><span class="sxs-lookup"><span data-stu-id="58c10-126">More information</span></span>](../automation/automation-manage-send-joblogs-log-analytics.md)|
| <span data-ttu-id="58c10-127">Batch-fiókok</span><span class="sxs-lookup"><span data-stu-id="58c10-127">Batch accounts</span></span>          | <span data-ttu-id="58c10-128">Microsoft.Batch/batchAccounts</span><span class="sxs-lookup"><span data-stu-id="58c10-128">Microsoft.Batch/batchAccounts</span></span>           | <span data-ttu-id="58c10-129">Diagnosztika</span><span class="sxs-lookup"><span data-stu-id="58c10-129">Diagnostics</span></span> | <span data-ttu-id="58c10-130">Diagnosztika</span><span class="sxs-lookup"><span data-stu-id="58c10-130">Diagnostics</span></span> | |
| <span data-ttu-id="58c10-131">Klasszikus cloud services csomag</span><span class="sxs-lookup"><span data-stu-id="58c10-131">Classic cloud services</span></span>  |                                         | <span data-ttu-id="58c10-132">Storage</span><span class="sxs-lookup"><span data-stu-id="58c10-132">Storage</span></span>     |             | [<span data-ttu-id="58c10-133">További információ</span><span class="sxs-lookup"><span data-stu-id="58c10-133">More information</span></span>](log-analytics-azure-storage-iis-table.md) |
| <span data-ttu-id="58c10-134">Cognitive Services</span><span class="sxs-lookup"><span data-stu-id="58c10-134">Cognitive services</span></span>      | <span data-ttu-id="58c10-135">Microsoft.CognitiveServices/accounts</span><span class="sxs-lookup"><span data-stu-id="58c10-135">Microsoft.CognitiveServices/accounts</span></span>    |             | <span data-ttu-id="58c10-136">Diagnosztika</span><span class="sxs-lookup"><span data-stu-id="58c10-136">Diagnostics</span></span> | |
| <span data-ttu-id="58c10-137">A Data Lake analytics</span><span class="sxs-lookup"><span data-stu-id="58c10-137">Data Lake analytics</span></span>     | <span data-ttu-id="58c10-138">Microsoft.DataLakeAnalytics/accounts</span><span class="sxs-lookup"><span data-stu-id="58c10-138">Microsoft.DataLakeAnalytics/accounts</span></span>    | <span data-ttu-id="58c10-139">Diagnosztika</span><span class="sxs-lookup"><span data-stu-id="58c10-139">Diagnostics</span></span> |             | |
| <span data-ttu-id="58c10-140">A Data Lake store</span><span class="sxs-lookup"><span data-stu-id="58c10-140">Data Lake store</span></span>         | <span data-ttu-id="58c10-141">Microsoft.DataLakeStore/accounts</span><span class="sxs-lookup"><span data-stu-id="58c10-141">Microsoft.DataLakeStore/accounts</span></span>        | <span data-ttu-id="58c10-142">Diagnosztika</span><span class="sxs-lookup"><span data-stu-id="58c10-142">Diagnostics</span></span> |             | |
| <span data-ttu-id="58c10-143">Event Hub névtér</span><span class="sxs-lookup"><span data-stu-id="58c10-143">Event Hub namespace</span></span>     | <span data-ttu-id="58c10-144">Microsoft.EventHub/namespaces</span><span class="sxs-lookup"><span data-stu-id="58c10-144">Microsoft.EventHub/namespaces</span></span>           | <span data-ttu-id="58c10-145">Diagnosztika</span><span class="sxs-lookup"><span data-stu-id="58c10-145">Diagnostics</span></span> | <span data-ttu-id="58c10-146">Diagnosztika</span><span class="sxs-lookup"><span data-stu-id="58c10-146">Diagnostics</span></span> | |
| <span data-ttu-id="58c10-147">IoT-központok</span><span class="sxs-lookup"><span data-stu-id="58c10-147">IoT Hubs</span></span>                | <span data-ttu-id="58c10-148">Microsoft.Devices/IotHubs</span><span class="sxs-lookup"><span data-stu-id="58c10-148">Microsoft.Devices/IotHubs</span></span>               |             | <span data-ttu-id="58c10-149">Diagnosztika</span><span class="sxs-lookup"><span data-stu-id="58c10-149">Diagnostics</span></span> | |
| <span data-ttu-id="58c10-150">Key Vault</span><span class="sxs-lookup"><span data-stu-id="58c10-150">Key Vault</span></span>               | <span data-ttu-id="58c10-151">Microsoft.KeyVault/vaults</span><span class="sxs-lookup"><span data-stu-id="58c10-151">Microsoft.KeyVault/vaults</span></span>               | <span data-ttu-id="58c10-152">Diagnosztika</span><span class="sxs-lookup"><span data-stu-id="58c10-152">Diagnostics</span></span> |             | [<span data-ttu-id="58c10-153">KeyVault elemzés</span><span class="sxs-lookup"><span data-stu-id="58c10-153">KeyVault Analytics</span></span>](log-analytics-azure-key-vault.md) |
| <span data-ttu-id="58c10-154">Terheléselosztók</span><span class="sxs-lookup"><span data-stu-id="58c10-154">Load Balancers</span></span>          | <span data-ttu-id="58c10-155">Microsoft.Network/loadBalancers</span><span class="sxs-lookup"><span data-stu-id="58c10-155">Microsoft.Network/loadBalancers</span></span>         | <span data-ttu-id="58c10-156">Diagnosztika</span><span class="sxs-lookup"><span data-stu-id="58c10-156">Diagnostics</span></span> |             |  |
| <span data-ttu-id="58c10-157">Logic Apps</span><span class="sxs-lookup"><span data-stu-id="58c10-157">Logic Apps</span></span>              | <span data-ttu-id="58c10-158">Microsoft.Logic/workflows</span><span class="sxs-lookup"><span data-stu-id="58c10-158">Microsoft.Logic/workflows</span></span> <br> <span data-ttu-id="58c10-159">Microsoft.Logic/integrationAccounts</span><span class="sxs-lookup"><span data-stu-id="58c10-159">Microsoft.Logic/integrationAccounts</span></span> | <span data-ttu-id="58c10-160">Diagnosztika</span><span class="sxs-lookup"><span data-stu-id="58c10-160">Diagnostics</span></span> | <span data-ttu-id="58c10-161">Diagnosztika</span><span class="sxs-lookup"><span data-stu-id="58c10-161">Diagnostics</span></span> | |
| <span data-ttu-id="58c10-162">Network Security Groups (Hálózati biztonsági csoportok)</span><span class="sxs-lookup"><span data-stu-id="58c10-162">Network Security Groups</span></span> | <span data-ttu-id="58c10-163">Microsoft.Network/networksecuritygroups</span><span class="sxs-lookup"><span data-stu-id="58c10-163">Microsoft.Network/networksecuritygroups</span></span> | <span data-ttu-id="58c10-164">Diagnosztika</span><span class="sxs-lookup"><span data-stu-id="58c10-164">Diagnostics</span></span> |             | [<span data-ttu-id="58c10-165">Azure hálózati biztonsági csoport elemzés</span><span class="sxs-lookup"><span data-stu-id="58c10-165">Azure Network Security Group Analytics</span></span>](log-analytics-azure-networking-analytics.md#azure-network-security-group-analytics-solution-in-log-analytics) |
| <span data-ttu-id="58c10-166">Helyreállítási tárolók</span><span class="sxs-lookup"><span data-stu-id="58c10-166">Recovery vaults</span></span>         | <span data-ttu-id="58c10-167">Microsoft.RecoveryServices/vaults</span><span class="sxs-lookup"><span data-stu-id="58c10-167">Microsoft.RecoveryServices/vaults</span></span>       |             |             | [<span data-ttu-id="58c10-168">Az Azure Recovery Services Analytics (előzetes verzió)</span><span class="sxs-lookup"><span data-stu-id="58c10-168">Azure Recovery Services Analytics (Preview)</span></span>](https://github.com/krnese/AzureDeploy/blob/master/OMS/MSOMS/Solutions/recoveryservices/)|
| <span data-ttu-id="58c10-169">Szolgáltatások keresése</span><span class="sxs-lookup"><span data-stu-id="58c10-169">Search services</span></span>         | <span data-ttu-id="58c10-170">Microsoft.Search/searchServices</span><span class="sxs-lookup"><span data-stu-id="58c10-170">Microsoft.Search/searchServices</span></span>         | <span data-ttu-id="58c10-171">Diagnosztika</span><span class="sxs-lookup"><span data-stu-id="58c10-171">Diagnostics</span></span> | <span data-ttu-id="58c10-172">Diagnosztika</span><span class="sxs-lookup"><span data-stu-id="58c10-172">Diagnostics</span></span> | |
| <span data-ttu-id="58c10-173">Service Bus-névtér</span><span class="sxs-lookup"><span data-stu-id="58c10-173">Service Bus namespace</span></span>   | <span data-ttu-id="58c10-174">Microsoft.ServiceBus/namespaces</span><span class="sxs-lookup"><span data-stu-id="58c10-174">Microsoft.ServiceBus/namespaces</span></span>         | <span data-ttu-id="58c10-175">Diagnosztika</span><span class="sxs-lookup"><span data-stu-id="58c10-175">Diagnostics</span></span> | <span data-ttu-id="58c10-176">Diagnosztika</span><span class="sxs-lookup"><span data-stu-id="58c10-176">Diagnostics</span></span> | [<span data-ttu-id="58c10-177">Service Bus Analytics (előzetes verzió)</span><span class="sxs-lookup"><span data-stu-id="58c10-177">Service Bus Analytics (Preview)</span></span>](https://github.com/Azure/azure-quickstart-templates/tree/master/oms-servicebus-solution)|
| <span data-ttu-id="58c10-178">Service Fabric</span><span class="sxs-lookup"><span data-stu-id="58c10-178">Service Fabric</span></span>          |                                         | <span data-ttu-id="58c10-179">Storage</span><span class="sxs-lookup"><span data-stu-id="58c10-179">Storage</span></span>     |             | [<span data-ttu-id="58c10-180">Service Fabric Analytics (előzetes verzió)</span><span class="sxs-lookup"><span data-stu-id="58c10-180">Service Fabric Analytics (Preview)</span></span>](log-analytics-service-fabric.md) |
| <span data-ttu-id="58c10-181">SQL (12-es verzió)</span><span class="sxs-lookup"><span data-stu-id="58c10-181">SQL (v12)</span></span>               | <span data-ttu-id="58c10-182">Microsoft.Sql/servers/databases</span><span class="sxs-lookup"><span data-stu-id="58c10-182">Microsoft.Sql/servers/databases</span></span> <br> <span data-ttu-id="58c10-183">Microsoft.Sql/servers/elasticPools</span><span class="sxs-lookup"><span data-stu-id="58c10-183">Microsoft.Sql/servers/elasticPools</span></span> |             | <span data-ttu-id="58c10-184">Diagnosztika</span><span class="sxs-lookup"><span data-stu-id="58c10-184">Diagnostics</span></span> | [<span data-ttu-id="58c10-185">Az Azure SQL elemzés (előzetes verzió)</span><span class="sxs-lookup"><span data-stu-id="58c10-185">Azure SQL Analytics (Preview)</span></span>](log-analytics-azure-sql.md) |
| <span data-ttu-id="58c10-186">Storage</span><span class="sxs-lookup"><span data-stu-id="58c10-186">Storage</span></span>                 |                                         |             | <span data-ttu-id="58c10-187">Szkript</span><span class="sxs-lookup"><span data-stu-id="58c10-187">Script</span></span>      | [<span data-ttu-id="58c10-188">Az Azure Storage Analytics (előzetes verzió)</span><span class="sxs-lookup"><span data-stu-id="58c10-188">Azure Storage Analytics (Preview)</span></span>](https://github.com/Azure/azure-quickstart-templates/tree/master/oms-azure-storage-analytics-solution) |
| <span data-ttu-id="58c10-189">Virtuális gépek</span><span class="sxs-lookup"><span data-stu-id="58c10-189">Virtual Machines</span></span>        | <span data-ttu-id="58c10-190">Microsoft.Compute/virtualMachines</span><span class="sxs-lookup"><span data-stu-id="58c10-190">Microsoft.Compute/virtualMachines</span></span>       | <span data-ttu-id="58c10-191">Mellék</span><span class="sxs-lookup"><span data-stu-id="58c10-191">Extension</span></span>   | <span data-ttu-id="58c10-192">Mellék</span><span class="sxs-lookup"><span data-stu-id="58c10-192">Extension</span></span> <br> <span data-ttu-id="58c10-193">Diagnosztika</span><span class="sxs-lookup"><span data-stu-id="58c10-193">Diagnostics</span></span>  | |
| <span data-ttu-id="58c10-194">Virtuális gépek méretezési csoportok</span><span class="sxs-lookup"><span data-stu-id="58c10-194">Virtual Machines scale sets</span></span> | <span data-ttu-id="58c10-195">Microsoft.Compute/virtualMachines</span><span class="sxs-lookup"><span data-stu-id="58c10-195">Microsoft.Compute/virtualMachines</span></span> <br> <span data-ttu-id="58c10-196">Microsoft.Compute/virtualMachineScaleSets/virtualMachines</span><span class="sxs-lookup"><span data-stu-id="58c10-196">Microsoft.Compute/virtualMachineScaleSets/virtualMachines</span></span> |             | <span data-ttu-id="58c10-197">Diagnosztika</span><span class="sxs-lookup"><span data-stu-id="58c10-197">Diagnostics</span></span> | |
| <span data-ttu-id="58c10-198">Kiszolgáló-webfarmok</span><span class="sxs-lookup"><span data-stu-id="58c10-198">Web Server farms</span></span>        | <span data-ttu-id="58c10-199">Microsoft.Web/serverfarms</span><span class="sxs-lookup"><span data-stu-id="58c10-199">Microsoft.Web/serverfarms</span></span>               |             | <span data-ttu-id="58c10-200">Diagnosztika</span><span class="sxs-lookup"><span data-stu-id="58c10-200">Diagnostics</span></span> | |
| <span data-ttu-id="58c10-201">Webhelyek</span><span class="sxs-lookup"><span data-stu-id="58c10-201">Web Sites</span></span>               | <span data-ttu-id="58c10-202">Microsoft.Web/sites</span><span class="sxs-lookup"><span data-stu-id="58c10-202">Microsoft.Web/sites</span></span> <br> <span data-ttu-id="58c10-203">Microsoft.Web/sites/slots</span><span class="sxs-lookup"><span data-stu-id="58c10-203">Microsoft.Web/sites/slots</span></span> |             | <span data-ttu-id="58c10-204">Diagnosztika</span><span class="sxs-lookup"><span data-stu-id="58c10-204">Diagnostics</span></span> | [<span data-ttu-id="58c10-205">Az Azure Web Apps Analytics (előzetes verzió)</span><span class="sxs-lookup"><span data-stu-id="58c10-205">Azure Web Apps Analytics (Preview)</span></span>](https://azuremarketplace.microsoft.com/marketplace/apps/Microsoft.AzureWebAppsAnalyticsOMS?tab=Overview) |


> [!NOTE]
> <span data-ttu-id="58c10-206">A figyeléshez az Azure virtuális gépek (Linux és Windows rendszerekhez), azt javasoljuk, hello telepítése [napló Analytics Virtuálisgép-bővítmény](log-analytics-azure-vm-extension.md).</span><span class="sxs-lookup"><span data-stu-id="58c10-206">For monitoring Azure virtual machines (both Linux and Windows), we recommend installing hello [Log Analytics VM extension](log-analytics-azure-vm-extension.md).</span></span> <span data-ttu-id="58c10-207">hello ügynök biztosít a virtuális gépekről gyűjtött insights.</span><span class="sxs-lookup"><span data-stu-id="58c10-207">hello agent provides you with insights collected from within your virtual machines.</span></span> <span data-ttu-id="58c10-208">Használhatja a hello bővítményt a virtuálisgép-méretezési készlet.</span><span class="sxs-lookup"><span data-stu-id="58c10-208">You can also use hello extension for Virtual machine scale sets.</span></span>
>
>

## <a name="azure-diagnostics-direct-toolog-analytics"></a><span data-ttu-id="58c10-209">Az Azure diagnostics közvetlen tooLog elemzés</span><span class="sxs-lookup"><span data-stu-id="58c10-209">Azure diagnostics direct tooLog Analytics</span></span>
<span data-ttu-id="58c10-210">Sok Azure-erőforrások képes toowrite diagnosztikai naplók és a metrikák közvetlen tooLog elemzés, és ez egy elsődleges hello mód a hello adatgyűjtés elemzés céljából.</span><span class="sxs-lookup"><span data-stu-id="58c10-210">Many Azure resources are able toowrite diagnostic logs and metrics directly tooLog Analytics and this is hello preferred way of collecting hello data for analysis.</span></span> <span data-ttu-id="58c10-211">Az Azure diagnostics használatakor adatot ír azonnal tooLog elemzés, és nincs szükség toofirst írási hello adatok toostorage van.</span><span class="sxs-lookup"><span data-stu-id="58c10-211">When using Azure diagnostics, data is written immediately tooLog Analytics and there is no need toofirst write hello data toostorage.</span></span>

<span data-ttu-id="58c10-212">Azure-erőforrások, amely támogatja a [Azure figyelő](../monitoring-and-diagnostics/monitoring-overview.md) metrikák, valamint a naplókat elküldheti közvetlenül tooLog elemzés.</span><span class="sxs-lookup"><span data-stu-id="58c10-212">Azure resources that support [Azure monitor](../monitoring-and-diagnostics/monitoring-overview.md) can send their logs and metrics directly tooLog Analytics.</span></span>

* <span data-ttu-id="58c10-213">Az elérhető mérőszámok hello hello részletekért lásd a túl[támogatott Azure-figyelő metrikák](../monitoring-and-diagnostics/monitoring-supported-metrics.md).</span><span class="sxs-lookup"><span data-stu-id="58c10-213">For hello details of hello available metrics, refer too[supported metrics with Azure Monitor](../monitoring-and-diagnostics/monitoring-supported-metrics.md).</span></span>
* <span data-ttu-id="58c10-214">Hello elérhető naplók hello részletekért lásd a túl[szolgáltatások és a séma támogatja a diagnosztikai naplók](../monitoring-and-diagnostics/monitoring-diagnostic-logs-schema.md).</span><span class="sxs-lookup"><span data-stu-id="58c10-214">For hello details of hello available logs, refer too[supported services and schema for diagnostic logs](../monitoring-and-diagnostics/monitoring-diagnostic-logs-schema.md).</span></span>

### <a name="enable-diagnostics-with-powershell"></a><span data-ttu-id="58c10-215">Diagnosztika engedélyezése a PowerShell-lel</span><span class="sxs-lookup"><span data-stu-id="58c10-215">Enable diagnostics with PowerShell</span></span>
<span data-ttu-id="58c10-216">Hello November 2016 (v2.3.0) vagy későbbi kiadásában a szükséges [Azure PowerShell](/powershell/azure/overview).</span><span class="sxs-lookup"><span data-stu-id="58c10-216">You need hello November 2016 (v2.3.0) or later release of [Azure PowerShell](/powershell/azure/overview).</span></span>

<span data-ttu-id="58c10-217">a következő PowerShell-példa azt mutatja meg hogyan hello toouse [Set-AzureRmDiagnosticSetting](/powershell/module/azurerm.insights/set-azurermdiagnosticsetting) tooenable diagnosztika a hálózati biztonsági csoport.</span><span class="sxs-lookup"><span data-stu-id="58c10-217">hello following PowerShell example shows how toouse [Set-AzureRmDiagnosticSetting](/powershell/module/azurerm.insights/set-azurermdiagnosticsetting) tooenable diagnostics on a network security group.</span></span> <span data-ttu-id="58c10-218">hello ugyanezt a megközelítést akkor működik, ha minden támogatott erőforrás - beállítása `$resourceId` tooenable diagnosztika a kívánt hello erőforrás toohello erőforrás-azonosító.</span><span class="sxs-lookup"><span data-stu-id="58c10-218">hello same approach works for all supported resources - set `$resourceId` toohello resource id of hello resource you want tooenable diagnostics for.</span></span>

```powershell
$workspaceId = "/subscriptions/d2e37fee-1234-40b2-5678-0b2199de3b50/resourcegroups/oi-default-east-us/providers/microsoft.operationalinsights/workspaces/rollingbaskets"

$resourceId = "/SUBSCRIPTIONS/ec11ca60-1234-491e-5678-0ea07feae25c/RESOURCEGROUPS/DEMO/PROVIDERS/MICROSOFT.NETWORK/NETWORKSECURITYGROUPS/DEMO"

Set-AzureRmDiagnosticSetting -ResourceId $ResourceId  -WorkspaceId $workspaceId -Enabled $true
```

### <a name="enable-diagnostics-with-resource-manager-templates"></a><span data-ttu-id="58c10-219">A Resource Manager-sablonok diagnosztika engedélyezése</span><span class="sxs-lookup"><span data-stu-id="58c10-219">Enable diagnostics with Resource Manager templates</span></span>

<span data-ttu-id="58c10-220">Ha létrejön, és hello diagnosztika elküldött tooyour Naplóelemzési munkaterület alatt is használhatja a sablont hasonló toohello egy erőforrás diagnosztikai tooenable.</span><span class="sxs-lookup"><span data-stu-id="58c10-220">tooenable diagnostics on a resource when it is created, and have hello diagnostics sent tooyour Log Analytics workspace you can use a template similar toohello one below.</span></span> <span data-ttu-id="58c10-221">Ebben a példában az Automation-fiók, de minden támogatott erőforrástípusai működik szolgál.</span><span class="sxs-lookup"><span data-stu-id="58c10-221">This example is for an Automation account but works for all supported resource types.</span></span>

```json
        {
            "type": "Microsoft.Automation/automationAccounts/providers/diagnosticSettings",
            "name": "[concat(parameters('omsAutomationAccountName'), '/', 'Microsoft.Insights/service')]",
            "apiVersion": "2015-07-01",
            "dependsOn": [
                "[concat('Microsoft.Automation/automationAccounts/', parameters('omsAutomationAccountName'))]",
                "[concat('Microsoft.OperationalInsights/workspaces/', parameters('omsWorkspaceName'))]"
            ],
            "properties": {
                "workspaceId": "[resourceId('Microsoft.OperationalInsights/workspaces', parameters('omsWorkspaceName'))]",
                "logs": [
                    {
                        "category": "JobLogs",
                        "enabled": true
                    },
                    {
                        "category": "JobStreams",
                        "enabled": true
                    }
                ]
            }
        }
```

[!INCLUDE [log-analytics-troubleshoot-azure-diagnostics](../../includes/log-analytics-troubleshoot-azure-diagnostics.md)]

## <a name="azure-diagnostics-toostorage-then-toolog-analytics"></a><span data-ttu-id="58c10-222">Az Azure diagnostics toostorage majd tooLog elemzés</span><span class="sxs-lookup"><span data-stu-id="58c10-222">Azure diagnostics toostorage then tooLog Analytics</span></span>

<span data-ttu-id="58c10-223">Az egyes erőforrások belül a naplók gyűjtésére, lehetséges toosend hello naplók tooAzure tárolási és Naplóelemzési tooread hello naplók tárolásból konfigurálja.</span><span class="sxs-lookup"><span data-stu-id="58c10-223">For collecting logs from within some resources, it is possible toosend hello logs tooAzure storage and then configure Log Analytics tooread hello logs from storage.</span></span>

<span data-ttu-id="58c10-224">A Naplóelemzési használhatja ezt a módszert toocollect diagnosztika az Azure storage hello erőforrások és a naplók a következő:</span><span class="sxs-lookup"><span data-stu-id="58c10-224">Log Analytics can use this approach toocollect diagnostics from Azure storage for hello following resources and logs:</span></span>

| <span data-ttu-id="58c10-225">Erőforrás</span><span class="sxs-lookup"><span data-stu-id="58c10-225">Resource</span></span> | <span data-ttu-id="58c10-226">Logs</span><span class="sxs-lookup"><span data-stu-id="58c10-226">Logs</span></span> |
| --- | --- |
| <span data-ttu-id="58c10-227">Service Fabric</span><span class="sxs-lookup"><span data-stu-id="58c10-227">Service Fabric</span></span> |<span data-ttu-id="58c10-228">ETWEvent</span><span class="sxs-lookup"><span data-stu-id="58c10-228">ETWEvent</span></span> <br> <span data-ttu-id="58c10-229">Működési események</span><span class="sxs-lookup"><span data-stu-id="58c10-229">Operational Event</span></span> <br> <span data-ttu-id="58c10-230">Megbízható szereplő esemény</span><span class="sxs-lookup"><span data-stu-id="58c10-230">Reliable Actor Event</span></span> <br> <span data-ttu-id="58c10-231">Megbízható szolgáltatás esemény</span><span class="sxs-lookup"><span data-stu-id="58c10-231">Reliable Service Event</span></span> |
| <span data-ttu-id="58c10-232">Virtuális gépek</span><span class="sxs-lookup"><span data-stu-id="58c10-232">Virtual Machines</span></span> |<span data-ttu-id="58c10-233">Linux rendszernaplójába bejegyzett</span><span class="sxs-lookup"><span data-stu-id="58c10-233">Linux Syslog</span></span> <br> <span data-ttu-id="58c10-234">Windows-esemény</span><span class="sxs-lookup"><span data-stu-id="58c10-234">Windows Event</span></span> <br> <span data-ttu-id="58c10-235">IIS-napló</span><span class="sxs-lookup"><span data-stu-id="58c10-235">IIS Log</span></span> <br> <span data-ttu-id="58c10-236">Windows ETWEvent</span><span class="sxs-lookup"><span data-stu-id="58c10-236">Windows ETWEvent</span></span> |
| <span data-ttu-id="58c10-237">Webes szerepkörök</span><span class="sxs-lookup"><span data-stu-id="58c10-237">Web Roles</span></span> <br> <span data-ttu-id="58c10-238">Feldolgozói szerepkörök</span><span class="sxs-lookup"><span data-stu-id="58c10-238">Worker Roles</span></span> |<span data-ttu-id="58c10-239">Linux rendszernaplójába bejegyzett</span><span class="sxs-lookup"><span data-stu-id="58c10-239">Linux Syslog</span></span> <br> <span data-ttu-id="58c10-240">Windows-esemény</span><span class="sxs-lookup"><span data-stu-id="58c10-240">Windows Event</span></span> <br> <span data-ttu-id="58c10-241">IIS-napló</span><span class="sxs-lookup"><span data-stu-id="58c10-241">IIS Log</span></span> <br> <span data-ttu-id="58c10-242">Windows ETWEvent</span><span class="sxs-lookup"><span data-stu-id="58c10-242">Windows ETWEvent</span></span> |

> [!NOTE]
> <span data-ttu-id="58c10-243">Van szó, tárolás és diagnosztika tooa tárfiók küldésekor tranzakciók és mikor Naplóelemzési hello adatokat olvas a tárfiók a Azure megszokott adatforgalmi díjakat.</span><span class="sxs-lookup"><span data-stu-id="58c10-243">You are charged normal Azure data rates for storage and transactions when you send diagnostics tooa storage account and for when Log Analytics reads hello data from your storage account.</span></span>
>
>

<span data-ttu-id="58c10-244">Lásd: [blob-tároló használja az IIS és a tábla tárolási események](log-analytics-azure-storage-iis-table.md) toolearn további információk a Naplóelemzési hogyan be ezeket a naplókat.</span><span class="sxs-lookup"><span data-stu-id="58c10-244">See [Use blob storage for IIS and table storage for events](log-analytics-azure-storage-iis-table.md) toolearn more about how Log Analytics can collect these logs.</span></span>

## <a name="connectors-for-azure-services"></a><span data-ttu-id="58c10-245">Az Azure szolgáltatások összekötők</span><span class="sxs-lookup"><span data-stu-id="58c10-245">Connectors for Azure services</span></span>

<span data-ttu-id="58c10-246">Nincs összekötőként szolgál az Application Insights részére, amely lehetővé teszi, hogy az Application Insights toobe tooLog Analytics küldött által összegyűjtött adatokat.</span><span class="sxs-lookup"><span data-stu-id="58c10-246">There is a connector for Application Insights, which allows data collected by Application Insights toobe sent tooLog Analytics.</span></span>

<span data-ttu-id="58c10-247">További tudnivalók hello [Application Insights-összekötő](https://blogs.technet.microsoft.com/msoms/2016/09/26/application-insights-connector-in-oms/).</span><span class="sxs-lookup"><span data-stu-id="58c10-247">Learn more about hello [Application Insights connector](https://blogs.technet.microsoft.com/msoms/2016/09/26/application-insights-connector-in-oms/).</span></span>

## <a name="scripts-toocollect-and-post-data-toolog-analytics"></a><span data-ttu-id="58c10-248">Parancsfájlok toocollect és a post data tooLog elemzés</span><span class="sxs-lookup"><span data-stu-id="58c10-248">Scripts toocollect and post data tooLog Analytics</span></span>

<span data-ttu-id="58c10-249">Az Azure-szolgáltatásokat, amelyek nem rendelkeznek közvetlen módon toosend naplók és a metrikák tooLog Analytics egy Azure Automation-parancsfájl toocollect is használhatja a napló és a metrikák hello.</span><span class="sxs-lookup"><span data-stu-id="58c10-249">For Azure services that do not provide a direct way toosend logs and metrics tooLog Analytics you can use an Azure Automation script toocollect hello log and metrics.</span></span> <span data-ttu-id="58c10-250">hello parancsfájlt is majd küldési hello tooLog Analytics használatával végzett hello [adatgyűjtő API](log-analytics-data-collector-api.md)</span><span class="sxs-lookup"><span data-stu-id="58c10-250">hello script can then send hello data tooLog Analytics using hello [data collector API](log-analytics-data-collector-api.md)</span></span>

<span data-ttu-id="58c10-251">hello Azure sablon gyűjteménye van [példák Azure Automation](https://azure.microsoft.com/en-us/resources/templates/?term=OMS) szolgáltatások, és küldje el azt tooLog Analytics toocollect adatait.</span><span class="sxs-lookup"><span data-stu-id="58c10-251">hello Azure template gallery has [examples of using Azure Automation](https://azure.microsoft.com/en-us/resources/templates/?term=OMS) toocollect data from services and sending it tooLog Analytics.</span></span>

## <a name="next-steps"></a><span data-ttu-id="58c10-252">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="58c10-252">Next steps</span></span>

* <span data-ttu-id="58c10-253">[A blob storage használata az IIS és a tábla tárolási események](log-analytics-azure-storage-iis-table.md) tooread hello naplók az Azure-szolgáltatásokat, hogy az írási tootable diagnosztika tároló- és IIS írásbeli tooblob tárolási naplózza.</span><span class="sxs-lookup"><span data-stu-id="58c10-253">[Use blob storage for IIS and table storage for events](log-analytics-azure-storage-iis-table.md) tooread hello logs for Azure services that write diagnostics tootable storage or IIS logs written tooblob storage.</span></span>
* <span data-ttu-id="58c10-254">[Megoldások](log-analytics-add-solutions.md) hello adatok tooprovide betekintést.</span><span class="sxs-lookup"><span data-stu-id="58c10-254">[Enable Solutions](log-analytics-add-solutions.md) tooprovide insight into hello data.</span></span>
* <span data-ttu-id="58c10-255">[Használja a keresési lekérdezések](log-analytics-log-searches.md) tooanalyze hello adatokat.</span><span class="sxs-lookup"><span data-stu-id="58c10-255">[Use search queries](log-analytics-log-searches.md) tooanalyze hello data.</span></span>
