---
title: "Azure Automation Runbook műveletet a Naplóelemzési felhasználó által kezdeményezett |} Microsoft Docs"
description: "Ez a cikk ismerteti, hogyan egy Naplóelemzési keresési eredmény igény egy Automation-runbook futtatását."
services: log-analytics
documentationcenter: 
author: mgoedtel
manager: carmonm
editor: tysonn
ms.assetid: 
ms.service: log-analytics
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: infrastructure-services
ms.date: 05/04/2017
ms.author: magoedte
ms.openlocfilehash: ff938697add98f3d21b4971175432335ee2e39ba
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 07/11/2017
---
# <a name="take-action-with-an-automation-runbook-from-a-log-analytics-log-search-result"></a><span data-ttu-id="5d334-103">A Naplóelemzési napló keresési eredmény egy Automation-Runbook a művelet végrehajtása</span><span class="sxs-lookup"><span data-stu-id="5d334-103">Take Action with an Automation Runbook from a Log Analytics log search result</span></span>

<span data-ttu-id="5d334-104">Az Azure Naplóelemzés napló keresési eredményt, most kiválaszthatja **hajtsa végre a műveletet** egy Automation-runbook futtatásához.</span><span class="sxs-lookup"><span data-stu-id="5d334-104">From a log search result in Azure Log Analytics, you can now select **Take action** to run an Automation runbook.</span></span>  <span data-ttu-id="5d334-105">A forgatókönyv segítségével kijavítani a problémát, vagy más műveletet például hibaelhárítási adatokat gyűjthet, egy e-mailek küldése, vagy hozzon létre egy szolgáltatási kérelem igénybe vehet.</span><span class="sxs-lookup"><span data-stu-id="5d334-105">The runbook can be used to remediate the issue or take some other action such as collect troubleshooting information, send an email, or create a service request.</span></span> 

## <a name="components-and-features-used"></a><span data-ttu-id="5d334-106">Használt összetevők és szolgáltatások</span><span class="sxs-lookup"><span data-stu-id="5d334-106">Components and features used</span></span>
* [<span data-ttu-id="5d334-107">Azure Automation-fiók</span><span class="sxs-lookup"><span data-stu-id="5d334-107">Azure Automation account</span></span>](../automation/automation-offering-get-started.md)
* [<span data-ttu-id="5d334-108">A Naplóelemzési munkaterület</span><span class="sxs-lookup"><span data-stu-id="5d334-108">Log Analytics workspace</span></span>](../log-analytics/log-analytics-overview.md)

## <a name="to-initiate-runbook-from-log-search"></a><span data-ttu-id="5d334-109">Naplófájl-keresési runbook indítására</span><span class="sxs-lookup"><span data-stu-id="5d334-109">To initiate runbook from log search</span></span>

<span data-ttu-id="5d334-110">Hajtsa végre a műveletet egy olyan eseményre, és a napló a keresési eredmények runbook kezdeményezni, akkor először hozzon létre egy naplófájl-keresési, és az eredmények hívhat meg a runbook igény.</span><span class="sxs-lookup"><span data-stu-id="5d334-110">To take action on an event and initiate a runbook from your log search results, you start by creating a log search and from the results you can invoke a runbook on-demand.</span></span>  <span data-ttu-id="5d334-111">Ez a napló keresési funkció az Azure-ban érhető el vagy [OMS-portálon](../log-analytics/log-analytics-log-searches.md).</span><span class="sxs-lookup"><span data-stu-id="5d334-111">This can be achieved from the log search feature in the Azure or [OMS portal](../log-analytics/log-analytics-log-searches.md).</span></span>  <span data-ttu-id="5d334-112">Ebben a példában a naplófájl-keresési funkció alapszintű bemutató az Azure-portálról végezzük.</span><span class="sxs-lookup"><span data-stu-id="5d334-112">In this example, we perform a log search from the Azure portal with a basic demonstration of this feature.</span></span>

1. <span data-ttu-id="5d334-113">Az Azure portálon, a központ menüben kattintson a **további szolgáltatások** válassza **Naplóelemzési**.</span><span class="sxs-lookup"><span data-stu-id="5d334-113">In the Azure portal, on the Hub menu click **More services** and select **Log Analytics**.</span></span>  
2. <span data-ttu-id="5d334-114">A Naplóelemzési panelen válassza ki a Naplóelemzési munkaterület, majd a munkaterületen panelen **naplófájl-keresési**.</span><span class="sxs-lookup"><span data-stu-id="5d334-114">On the Log Analytics blade, select your Log Analytics workspace and on the workspace blade select **Log Search**.</span></span>  
3. <span data-ttu-id="5d334-115">A naplófájl-keresési panelen napló keresés végrehajtása.</span><span class="sxs-lookup"><span data-stu-id="5d334-115">On the Log Search blade, perform a log search.</span></span>  
4. <span data-ttu-id="5d334-116">A napló a keresési eredmények, kattintson a három pont a mezők és az előugró ablakban válassza ki az egyik balra **művelet végrehajtása a**.</span><span class="sxs-lookup"><span data-stu-id="5d334-116">From the log search results, click the ellipse to the left of one of the fields and from the popup, select **Take action on**.</span></span><br><br> <span data-ttu-id="5d334-117">![Válassza a keresési eredmény érvénybe műveletet](./media/log-analytics-log-search-takeaction/log-search-takeaction-menuoption.png)</span><span class="sxs-lookup"><span data-stu-id="5d334-117">![Select Take Action from search result](./media/log-analytics-log-search-takeaction/log-search-takeaction-menuoption.png)</span></span> 
5. <span data-ttu-id="5d334-118">Hajtsa végre a megfelelő művelet paneljén válassza **egy runbook futtatására**, majd a a **egy runbook futtatására** panelen kiválaszthatja a runbook futtatását.</span><span class="sxs-lookup"><span data-stu-id="5d334-118">From the Take action blade, select **Run a runbook**, and on the **Run a runbook** blade you can select a runbook to run.</span></span>  <span data-ttu-id="5d334-119">Az Automation-fiók, amely csatolva van a Naplóelemzési munkaterület minden olyan forgatókönyvben is választhat.</span><span class="sxs-lookup"><span data-stu-id="5d334-119">You can select any runbook in the Automation account that is linked to the Log Analytics workspace.</span></span>  <span data-ttu-id="5d334-120">Vegye figyelembe a következőket:</span><span class="sxs-lookup"><span data-stu-id="5d334-120">Note the following:</span></span>

    * <span data-ttu-id="5d334-121">Runbookok címkék alapján vannak rendezve.</span><span class="sxs-lookup"><span data-stu-id="5d334-121">Runbooks are organized by tags</span></span>
    * <span data-ttu-id="5d334-122">Közvetlenül a mezőket a keresési eredmények a forgatókönyv bemeneti paraméter értékek választhatók ki.</span><span class="sxs-lookup"><span data-stu-id="5d334-122">Runbook input parameter values can be selected directly from the fields of the search result.</span></span>  <span data-ttu-id="5d334-123">A legördülő lista megjelenik az eredmény, válassza ki az összes elérhető mezők.</span><span class="sxs-lookup"><span data-stu-id="5d334-123">A drop-down list will appear displaying all the available fields from the result to select from.</span></span>  
    * <span data-ttu-id="5d334-124">Ha szeretné a runbook futtatásához egy [hibrid forgatókönyv-feldolgozó](../automation/automation-hybrid-runbook-worker.md) , hogy a számítógépen, amelyen a probléma, ha a megfelelő hibrid forgatókönyv-feldolgozó csoport tagja a gép csak tartalmazó telepítette.</span><span class="sxs-lookup"><span data-stu-id="5d334-124">You can choose to run the runbook on a [hybrid runbook worker](../automation/automation-hybrid-runbook-worker.md) that you have installed on the machine that has the issue if you have a corresponding Hybrid Runbook Worker group that only contains this machine as a member.</span></span>  <span data-ttu-id="5d334-125">Ha a hibrid feldolgozócsoport megegyezik-e a számítógép, amely a naplófájl-keresési eredmény nevét, majd a csoport automatikusan ki van választva.</span><span class="sxs-lookup"><span data-stu-id="5d334-125">If the name of the Hybrid Worker group matches the name of the computer that is in the log search result, then the group is selected automatically.</span></span>    

6. <span data-ttu-id="5d334-126">Miután rákattintott **futtatása**, a runbook-feladat panelen nyílik meg, hogy tekintse át a feladat állapotának meg.</span><span class="sxs-lookup"><span data-stu-id="5d334-126">After you click **Run**, the runbook job blade will open to allow you to review the status of the job.</span></span>   

<span data-ttu-id="5d334-127">Választja, ha egy runbookot, amely úgy lett konfigurálva, hogy [Log Analytics-riasztás alapján nevű](../automation/automation-invoke-runbook-from-omsla-alert.md), van egy bemeneti paraméter, **WebhookData** , amely **objektum** típusa.</span><span class="sxs-lookup"><span data-stu-id="5d334-127">If you select a runbook that was configured to be [called from a Log Analytics alert](../automation/automation-invoke-runbook-from-omsla-alert.md), it has an input parameter called **WebhookData** that is **Object** type.</span></span>  <span data-ttu-id="5d334-128">Ha a bemeneti paraméter megadása kötelező, akkor adhatók át a runbook a keresési eredmények között, akkor átalakíthatja a JSON-formátumú karakterláncot egy objektumtípust, hogy lehetővé teszi a szűrést végezni, amelyre hivatkozhat a runbook-tevékenységek elemeket.</span><span class="sxs-lookup"><span data-stu-id="5d334-128">If the input parameter is mandatory, you need to pass the search results to the runbook so it can convert the JSON-formatted string into an object type allowing you to filter on specific items that you will reference in runbook activities.</span></span>  <span data-ttu-id="5d334-129">Ehhez kiválasztásával **keresési eredmények (objektum)** a legördülő listából.</span><span class="sxs-lookup"><span data-stu-id="5d334-129">You do this by selecting **Search result (Object)** from the drop-down list.</span></span><br><br> <span data-ttu-id="5d334-130">![Válassza ki a Webhook-objektumot a runbook paraméter](media/log-analytics-log-search-takeaction/select-runbook-and-properties.png)</span><span class="sxs-lookup"><span data-stu-id="5d334-130">![Select Webhook data object for runbook parameter](media/log-analytics-log-search-takeaction/select-runbook-and-properties.png)</span></span>   
    
## <a name="next-steps"></a><span data-ttu-id="5d334-131">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="5d334-131">Next steps</span></span>

* <span data-ttu-id="5d334-132">Tekintse át a [Naplóelemzési jelentkezzen keresési hivatkozás](log-analytics-search-reference.md) megtekintéséhez az összes keresési mezők és facets Naplóelemzési érhető el.</span><span class="sxs-lookup"><span data-stu-id="5d334-132">Review the [Log Analytics log search reference](log-analytics-search-reference.md) to view all of the search fields and facets available in Log Analytics.</span></span>
* <span data-ttu-id="5d334-133">Útmutató Automation-runbook meghívása automatikusan, tekintse át [egy Azure Automation-runbook hívja az OMS-Log Analytics-riasztás alapján](../automation/automation-invoke-runbook-from-omsla-alert.md).</span><span class="sxs-lookup"><span data-stu-id="5d334-133">To learn how to invoke an Automation runbook automatically, review [calling an Azure Automation runbook from an OMS Log Analytics alert](../automation/automation-invoke-runbook-from-omsla-alert.md).</span></span>  