---
title: "aaaDesign vész-helyreállítási megoldások – az Azure SQL Database |} Microsoft Docs"
description: "Megtudhatja, hogyan toodesign vész-helyreállítási hello megfelelő feladatátvételi mintát válassza ki a felhőalapú megoldás."
services: sql-database
documentationcenter: 
author: anosov1960
manager: jhubbard
editor: monicar
ms.assetid: 2db99057-0c79-4fb0-a7f1-d1c057ec787f
ms.service: sql-database
ms.custom: business continuity
ms.devlang: NA
ms.topic: article
ms.tgt_pltfrm: NA
ms.workload: NA
ms.date: 04/07/2017
ms.author: sashan;carlrab
ms.openlocfilehash: 9d9eca7570c7a01c992d0b33d449721709b471c3
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="disaster-recovery-strategies-for-applications-using-sql-database-elastic-pools"></a><span data-ttu-id="70562-103">Vész helyreállítási stratégiát az SQL Database rugalmas készleteket használó alkalmazások</span><span class="sxs-lookup"><span data-stu-id="70562-103">Disaster recovery strategies for applications using SQL Database elastic pools</span></span>
<span data-ttu-id="70562-104">Hello évek azt rendelkezik megtanulta, hogy felhőalapú szolgáltatások nincsenek-e biztos és katasztrofális incidensek fordulhat elő.</span><span class="sxs-lookup"><span data-stu-id="70562-104">Over hello years we have learned that cloud services are not foolproof and catastrophic incidents happen.</span></span> <span data-ttu-id="70562-105">SQL-adatbázis biztosítja a több képességek tooprovide hello üzleti folytonossági az alkalmazás ezen események fordulhat elő.</span><span class="sxs-lookup"><span data-stu-id="70562-105">SQL Database provides several capabilities tooprovide for hello business continuity of your application when these incidents occur.</span></span> <span data-ttu-id="70562-106">[Rugalmas készletek](sql-database-elastic-pool.md) és az önálló adatbázisok támogatja hello vész-helyreállítási funkciók ugyanolyan típusú.</span><span class="sxs-lookup"><span data-stu-id="70562-106">[Elastic pools](sql-database-elastic-pool.md) and single databases support hello same kind of disaster recovery capabilities.</span></span> <span data-ttu-id="70562-107">Ez a cikk ismerteti a több vész-Helyreállítási stratégiát, a rugalmas készletbe, amely kihasználja ezeket az SQL-adatbázis üzleti folytonosságot biztosító szolgáltatásokat.</span><span class="sxs-lookup"><span data-stu-id="70562-107">This article describes several DR strategies for elastic pools that leverage these SQL Database business continuity features.</span></span>

<span data-ttu-id="70562-108">Ez a cikk a következő kanonikus SaaS ISV alkalmazásminta hello használja:</span><span class="sxs-lookup"><span data-stu-id="70562-108">This article uses hello following canonical SaaS ISV application pattern:</span></span>

<span data-ttu-id="70562-109"><i>A modern felhőalapú webalkalmazás minden végfelhasználó látja el egy SQL-adatbázis. hello ISV sok ügyfél rendelkezik, és ezért a sok más néven a bérlői adatbázisok használja. Mivel a bérlői adatbázisok hello általában előre nem látható tevékenység mintázatok, hello ISV egy rugalmas készlet toomake hello adatbázis költségének nagyon előre jelezhető hosszú időn keresztül használja. a rugalmas készlet hello is egyszerűbbé teszi a hello teljesítménykezelés, amikor hello felhasználói tevékenység napra. Ezenkívül toohello bérlői adatbázisok hello alkalmazás is használja több adatbázisok toomanage felhasználói profilok, a biztonság érdekében gyűjt használati minták stb. Az egyes bérlők hello rendelkezésre állását ne befolyásolja hello alkalmazás rendelkezésre állásának teljes. Azonban hello rendelkezésre állásának és teljesítményének felügyeleti adatbázisok kritikus hello alkalmazás függvény és hello felügyeleti adatbázisok esetén a kapcsolat nélküli hello teljes alkalmazás offline állapotban.</i></span><span class="sxs-lookup"><span data-stu-id="70562-109"><i>A modern cloud-based web application provisions one SQL database for each end user. hello ISV has many customers and therefore uses many databases, known as tenant databases. Because hello tenant databases typically have unpredictable activity patterns, hello ISV uses an elastic pool toomake hello database cost very predictable over extended periods of time. hello elastic pool also simplifies hello performance management when hello user activity spikes. In addition toohello tenant databases hello application also uses several databases toomanage user profiles, security, collect usage patterns etc. Availability of hello individual tenants does not impact hello application’s availability as whole. However, hello availability and performance of management databases is critical for hello application’s function and if hello management databases are offline hello entire application is offline.</i></span></span>  

<span data-ttu-id="70562-110">A cikk ismerteti a lehetőségeket költség-és nagybetűket indítási alkalmazások tooones szigorú rendelkezésre állási követelmények számos vész-Helyreállítási stratégiát.</span><span class="sxs-lookup"><span data-stu-id="70562-110">This article discusses DR strategies covering a range of scenarios from cost sensitive startup applications tooones with stringent availability requirements.</span></span>

## <a name="scenario-1-cost-sensitive-startup"></a><span data-ttu-id="70562-111">1. forgatókönyv.</span><span class="sxs-lookup"><span data-stu-id="70562-111">Scenario 1.</span></span> <span data-ttu-id="70562-112">Költség-és nagybetűket indítása</span><span class="sxs-lookup"><span data-stu-id="70562-112">Cost sensitive startup</span></span>
<span data-ttu-id="70562-113"><i>I indítási üzleti vagyok, és rendkívül vagyok költség-és nagybetűket.  Szeretném toosimplify üzembe helyezési és kezelési hello alkalmazás, és egy korlátozott SLA-t az egyes ügyfelek is van. Azonban azt szeretném tooensure hello alkalmazás, a teljes soha nem offline állapotban.</i></span><span class="sxs-lookup"><span data-stu-id="70562-113"><i>I am a startup business and am extremely cost sensitive.  I want toosimplify deployment and management of hello application and I can have a limited SLA for individual customers. But I want tooensure hello application as a whole is never offline.</i></span></span>

<span data-ttu-id="70562-114">toosatisfy hello egyszerűség követelmény, minden bérlői adatbázis üzembe helyezés az Azure-régió, az Ön által választott hello egy rugalmas készlet, és telepítheti a georeplikált önálló adatbázisok, felügyeleti adatbázisok.</span><span class="sxs-lookup"><span data-stu-id="70562-114">toosatisfy hello simplicity requirement, deploy all tenant databases into one elastic pool in hello Azure region of your choice and deploy management databases as geo-replicated single databases.</span></span> <span data-ttu-id="70562-115">Hello vész-helyreállítási bérlő használja a georedundáns helyreállítás, amely minden további költség nélkül.</span><span class="sxs-lookup"><span data-stu-id="70562-115">For hello disaster recovery of tenants, use geo-restore, which comes at no additional cost.</span></span> <span data-ttu-id="70562-116">tooensure hello rendelkezésre állását hello felügyeleti adatbázisok, földrajzi-replikálja azokat tooanother régió automatikus feladatátvételt csoport (az előzetes verzió) (1. lépés) használata.</span><span class="sxs-lookup"><span data-stu-id="70562-116">tooensure hello availability of hello management databases, geo-replicate them tooanother region using an auto-failover group (in-preview) (step 1).</span></span> <span data-ttu-id="70562-117">hello vészhelyreállítási konfiguráció ebben a forgatókönyvben a folyamatban lévő költségét hello egyenlő toohello hello másodlagos adatbázisok teljes költsége.</span><span class="sxs-lookup"><span data-stu-id="70562-117">hello ongoing cost of hello disaster recovery configuration in this scenario is equal toohello total cost of hello secondary databases.</span></span> <span data-ttu-id="70562-118">Ez a konfiguráció a következő diagram hello látható.</span><span class="sxs-lookup"><span data-stu-id="70562-118">This configuration is illustrated on hello next diagram.</span></span>

![1. ábra](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-1.png)

<span data-ttu-id="70562-120">Nem tervezett kimaradás esetén hello elsődleges régióban, hello helyreállítási lépéseket toobring online az alkalmazás által hello a következő ábra mutatja.</span><span class="sxs-lookup"><span data-stu-id="70562-120">If an outage occurs in hello primary region, hello recovery steps toobring your application online are illustrated by hello next diagram.</span></span>

* <span data-ttu-id="70562-121">hello feladatátvételi csoport hello felügyeleti adatbázis toohello vész-Helyreállítási régió automatikus feladatátvételt kezdeményez.</span><span class="sxs-lookup"><span data-stu-id="70562-121">hello failover group initiates automatic failover of hello management database toohello DR region.</span></span> <span data-ttu-id="70562-122">hello alkalmazás automatikusan újracsatlakozásakor toohello új elsődleges és minden új fiókokat és bérlői adatbázisok hello vész-Helyreállítási régióban jönnek létre.</span><span class="sxs-lookup"><span data-stu-id="70562-122">hello application is automatically reconnected toohello new primary and all new accounts and tenant databases are created in hello DR region.</span></span> <span data-ttu-id="70562-123">hello meglévő ügyfelek tekintse meg az adatok átmenetileg nem érhető el.</span><span class="sxs-lookup"><span data-stu-id="70562-123">hello existing customers see their data temporarily unavailable.</span></span>
* <span data-ttu-id="70562-124">Hozzon létre hello rugalmas készlet hello azonos konfigurációjú hello eredeti készlet (2).</span><span class="sxs-lookup"><span data-stu-id="70562-124">Create hello elastic pool with hello same configuration as hello original pool (2).</span></span>
* <span data-ttu-id="70562-125">Hello bérlői adatbázisok (3) georedundáns helyreállítás toocreate példányát használja.</span><span class="sxs-lookup"><span data-stu-id="70562-125">Use geo-restore toocreate copies of hello tenant databases (3).</span></span> <span data-ttu-id="70562-126">Vegye figyelembe, egyes visszaállítások hello kiváltó hello végfelhasználói kapcsolatok által, vagy néhány más alkalmazás-specifikus prioritás sémát használja.</span><span class="sxs-lookup"><span data-stu-id="70562-126">You can consider triggering hello individual restores by hello end-user connections or use some other application-specific priority scheme.</span></span>


<span data-ttu-id="70562-127">Ezen a ponton az alkalmazás újra online állapotba kerül hello vész-Helyreállítási régióban, de néhány ügyfél tapasztalhat a késleltetés, az adatok elérése közben.</span><span class="sxs-lookup"><span data-stu-id="70562-127">At this point your application is back online in hello DR region, but some customers experience delay when accessing their data.</span></span>

![2. ábra](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-2.png)

<span data-ttu-id="70562-129">Hello kimaradás ideiglenes volt, akkor lehetséges, hogy hello elsődleges régió helyreállnak Azure előtt minden hello adatbázis visszaállítása befejeződött hello vész-Helyreállítási régióban.</span><span class="sxs-lookup"><span data-stu-id="70562-129">If hello outage was temporary, it is possible that hello primary region is recovered by Azure before all hello database restores are complete in hello DR region.</span></span> <span data-ttu-id="70562-130">Ebben az esetben levezényelni a mozgóátlag hello alkalmazás hátsó toohello elsődleges régióban.</span><span class="sxs-lookup"><span data-stu-id="70562-130">In this case, orchestrate moving hello application back toohello primary region.</span></span> <span data-ttu-id="70562-131">hello tart hello következő diagramon ábrázolt hello lépéseket.</span><span class="sxs-lookup"><span data-stu-id="70562-131">hello process takes hello steps illustrated on hello next diagram.</span></span>

* <span data-ttu-id="70562-132">Összes függőben lévő georedundáns helyreállítás kérelem megszakítása.</span><span class="sxs-lookup"><span data-stu-id="70562-132">Cancel all outstanding geo-restore requests.</span></span>   
* <span data-ttu-id="70562-133">Feladatok átadása hello felügyeleti adatbázisok toohello elsődleges régió (5).</span><span class="sxs-lookup"><span data-stu-id="70562-133">Fail over hello management databases toohello primary region (5).</span></span> <span data-ttu-id="70562-134">Hello régió helyreállítását követően hello régi elsődleges automatikusan váltak másodlagos.</span><span class="sxs-lookup"><span data-stu-id="70562-134">After hello region’s recovery, hello old primaries have automatically become secondaries.</span></span> <span data-ttu-id="70562-135">Most vált a szerepkörök újra.</span><span class="sxs-lookup"><span data-stu-id="70562-135">Now they switch roles again.</span></span> 
* <span data-ttu-id="70562-136">Hello alkalmazás kapcsolati karakterlánc toopoint hátsó toohello elsődleges régió módosítása.</span><span class="sxs-lookup"><span data-stu-id="70562-136">Change hello application's connection string toopoint back toohello primary region.</span></span> <span data-ttu-id="70562-137">Most már minden új fiókokat és a bérlői adatbázisok hello elsődleges régióban jönnek létre.</span><span class="sxs-lookup"><span data-stu-id="70562-137">Now all new accounts and tenant databases are created in hello primary region.</span></span> <span data-ttu-id="70562-138">Egyes meglévő ügyfelek tekintse meg az adatok átmenetileg nem érhető el.</span><span class="sxs-lookup"><span data-stu-id="70562-138">Some existing customers see their data temporarily unavailable.</span></span>   
* <span data-ttu-id="70562-139">Összes adatbázis beállítása az hello vész-Helyreállítási készlet csak tooread tooensure nem módosítható hello vész-Helyreállítási régióban (6).</span><span class="sxs-lookup"><span data-stu-id="70562-139">Set all databases in hello DR pool tooread-only tooensure they cannot be modified in hello DR region (6).</span></span> 
* <span data-ttu-id="70562-140">Az egyes adatbázisok a hello vész-Helyreállítási készlet hello helyreállítási óta megváltozott nevezze át vagy törölje a megfelelő adatbázisokat hello hello elsődleges készletben (7).</span><span class="sxs-lookup"><span data-stu-id="70562-140">For each database in hello DR pool that has changed since hello recovery, rename or delete hello corresponding databases in hello primary pool (7).</span></span> 
* <span data-ttu-id="70562-141">Másolás hello hello vész-Helyreállítási készlet toohello elsődleges készlet (8)-adatbázisok frissítve.</span><span class="sxs-lookup"><span data-stu-id="70562-141">Copy hello updated databases from hello DR pool toohello primary pool (8).</span></span> 
* <span data-ttu-id="70562-142">Hello (9) DR-készlet törlése</span><span class="sxs-lookup"><span data-stu-id="70562-142">Delete hello DR pool (9)</span></span>

<span data-ttu-id="70562-143">Ezen a ponton az alkalmazás érhető el az összes bérlői adatbázisai hello elsődleges készletben hello elsődleges régióban.</span><span class="sxs-lookup"><span data-stu-id="70562-143">At this point your application is online in hello primary region with all tenant databases available in hello primary pool.</span></span>

![3. ábra](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-3.png)

<span data-ttu-id="70562-145">hello kulcs **előnyeit** ezt a stratégiát az adatredundanciát réteg alacsony folyamatban lévő költsége.</span><span class="sxs-lookup"><span data-stu-id="70562-145">hello key **benefit** of this strategy is low ongoing cost for data tier redundancy.</span></span> <span data-ttu-id="70562-146">Biztonsági mentések automatikusan hozzák hello SQL adatbázis-szolgáltatás nincs alkalmazás átdolgozás és minden további költség nélkül.</span><span class="sxs-lookup"><span data-stu-id="70562-146">Backups are taken automatically by hello SQL Database service with no application rewrite and at no additional cost.</span></span>  <span data-ttu-id="70562-147">hello költsége van szükség, csak akkor, ha hello rugalmas adatbázis visszaállítását végzi.</span><span class="sxs-lookup"><span data-stu-id="70562-147">hello cost is incurred only when hello elastic databases are restored.</span></span> <span data-ttu-id="70562-148">Hello **kompromisszum** , hogy a teljes helyreállítás hello összes bérlői adatbázis jelentős időt vesz igénybe.</span><span class="sxs-lookup"><span data-stu-id="70562-148">hello **trade-off** is that hello complete recovery of all tenant databases takes significant time.</span></span> <span data-ttu-id="70562-149">hello mennyi idő függ indítja el a vész-Helyreállítási hello visszaállítások hello száma régió és bérlői adatbázisok hello teljes méretét.</span><span class="sxs-lookup"><span data-stu-id="70562-149">hello length of time depends on hello total number of restores you initiate in hello DR region and overall size of hello tenant databases.</span></span> <span data-ttu-id="70562-150">Akkor is, ha az egyes bérlők számára visszaállítások keresztül mások helyezi előtérbe, amelyek használják az összes hello a más visszaállítások kezdeményezett ugyanabban a régióban hello, hello szolgáltatás arbitrates és azelőtt gyorsítja fel toominimize hello hello meglévő ügyfelek adatbázisok általános hatása.</span><span class="sxs-lookup"><span data-stu-id="70562-150">Even if you prioritize some tenants' restores over others, you are competing with all hello other restores that are initiated in hello same region as hello service arbitrates and throttles toominimize hello overall impact on hello existing customers' databases.</span></span> <span data-ttu-id="70562-151">Emellett a hello helyreállítási hello bérlői adatbázisok nem tudja elindítani, amíg hello új rugalmas készletet hello vész-Helyreállítási régióban jön létre.</span><span class="sxs-lookup"><span data-stu-id="70562-151">In addition, hello recovery of hello tenant databases cannot start until hello new elastic pool in hello DR region is created.</span></span>

## <a name="scenario-2-mature-application-with-tiered-service"></a><span data-ttu-id="70562-152">2. forgatókönyv.</span><span class="sxs-lookup"><span data-stu-id="70562-152">Scenario 2.</span></span> <span data-ttu-id="70562-153">Érett alkalmazás rétegzett szolgáltatással</span><span class="sxs-lookup"><span data-stu-id="70562-153">Mature application with tiered service</span></span>
<span data-ttu-id="70562-154"><i>Én vagyok a rétegzett szolgáltatási ajánlatok és különböző SLA-k próba felhasználók és az ügyfelek fizető érett SaaS-alkalmazáshoz. A próba ügyfelek hello tooreduce hello költségek, lehetőség szerint van. Próbaverziós felhasználók is igénybe vehet az állásidőt, de annak valószínűsége kívánt tooreduce. Fizető felhasználók hello leállási esetén a felhőszolgáltató közötti átviteléhez kockázata. Szeretném, hogy fizető vevők mindig tudja tooaccess toomake, az adatokat.</i></span><span class="sxs-lookup"><span data-stu-id="70562-154"><i>I am a mature SaaS application with tiered service offers and different SLAs for trial customers and for paying customers. For hello trial customers, I have tooreduce hello cost as much as possible. Trial customers can take downtime but I want tooreduce its likelihood. For hello paying customers, any downtime is a flight risk. So I want toomake sure that paying customers are always able tooaccess their data.</i></span></span> 

<span data-ttu-id="70562-155">Ebben az esetben különálló hello próbabérlőket a toosupport bérlők fizeti külön rugalmas készletek üzembe őket.</span><span class="sxs-lookup"><span data-stu-id="70562-155">toosupport this scenario, separate hello trial tenants from paid tenants by putting them into separate elastic pools.</span></span> <span data-ttu-id="70562-156">hello próba felhasználóknak alacsonyabb eDTU-bérlők és az alacsonyabb SLA-t és a hosszabb helyreállítási idő kell.</span><span class="sxs-lookup"><span data-stu-id="70562-156">hello trial customers have lower eDTU per tenant and lower SLA with a longer recovery time.</span></span> <span data-ttu-id="70562-157">hello fizető vevők egy magasabb eDTU-bérlő és a magasabb SLA-t a készletben vannak.</span><span class="sxs-lookup"><span data-stu-id="70562-157">hello paying customers are in a pool with higher eDTU per tenant and a higher SLA.</span></span> <span data-ttu-id="70562-158">tooguarantee hello legalacsonyabb helyreállítási idő hello fizető vevők bérlői adatbázisok a következők georeplikált.</span><span class="sxs-lookup"><span data-stu-id="70562-158">tooguarantee hello lowest recovery time, hello paying customers' tenant databases are geo-replicated.</span></span> <span data-ttu-id="70562-159">Ez a konfiguráció a következő diagram hello látható.</span><span class="sxs-lookup"><span data-stu-id="70562-159">This configuration is illustrated on hello next diagram.</span></span> 

![4. ábra](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-4.png)

<span data-ttu-id="70562-161">Mint hello első forgatókönyv esetén hello felügyeleti adatbázisok aktívak meglehetősen, egyetlen georeplikált adatbázis használata az (1).</span><span class="sxs-lookup"><span data-stu-id="70562-161">As in hello first scenario, hello management databases are quite active so you use a single geo-replicated database for it (1).</span></span> <span data-ttu-id="70562-162">Ez biztosítja, kiszámítható teljesítményt hello új ügyfél-előfizetések, a profil frissítések és az egyéb felügyeleti műveleteket.</span><span class="sxs-lookup"><span data-stu-id="70562-162">This ensures hello predictable performance for new customer subscriptions, profile updates, and other management operations.</span></span> <span data-ttu-id="70562-163">hello régióban, amelyben hello elsődleges hello felügyeleti adatbázisok található hello elsődleges régió, és hello régióban, amelyben hello másodlagos hello felügyeleti adatbázisok található hello vész-Helyreállítási régióban.</span><span class="sxs-lookup"><span data-stu-id="70562-163">hello region in which hello primaries of hello management databases reside is hello primary region and hello region in which hello secondaries of hello management databases reside is hello DR region.</span></span>

<span data-ttu-id="70562-164">hello fizető vevők bérlői adatbázisok rendelkezik aktív adatbázisok hello "fizetett" készlet hello elsődleges régióban kiépítve.</span><span class="sxs-lookup"><span data-stu-id="70562-164">hello paying customers’ tenant databases have active databases in hello “paid” pool provisioned in hello primary region.</span></span> <span data-ttu-id="70562-165">Egy másodlagos címkészlet, amely azonos neve, a vész-Helyreállítási hello régió hello kiépítéséhez.</span><span class="sxs-lookup"><span data-stu-id="70562-165">Provision a secondary pool with hello same name in hello DR region.</span></span> <span data-ttu-id="70562-166">Minden egyes bérlő az toohello georeplikált másodlagos készlet (2).</span><span class="sxs-lookup"><span data-stu-id="70562-166">Each tenant is geo-replicated toohello secondary pool (2).</span></span> <span data-ttu-id="70562-167">Ez lehetővé teszi, hogy a gyors helyreállításának összes bérlői adatbázis feladatátvétel használatával.</span><span class="sxs-lookup"><span data-stu-id="70562-167">This enables quick recovery of all tenant databases using failover.</span></span> 

<span data-ttu-id="70562-168">Nem tervezett kimaradás esetén hello elsődleges régióban, hello helyreállítási lépéseket toobring az alkalmazások online mutatja be a következő diagram hello:</span><span class="sxs-lookup"><span data-stu-id="70562-168">If an outage occurs in hello primary region, hello recovery steps toobring your application online are illustrated in hello next diagram:</span></span>

![5. ábra](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-5.png)

* <span data-ttu-id="70562-170">Azonnal feladatátvételt hello felügyeleti adatbázisok toohello vész-Helyreállítási régió (3).</span><span class="sxs-lookup"><span data-stu-id="70562-170">Immediately fail over hello management databases toohello DR region (3).</span></span>
* <span data-ttu-id="70562-171">Hello alkalmazás kapcsolati karakterlánc toopoint toohello vész-Helyreállítási régió módosítása.</span><span class="sxs-lookup"><span data-stu-id="70562-171">Change hello application’s connection string toopoint toohello DR region.</span></span> <span data-ttu-id="70562-172">Most már minden új fiókokat és a bérlői adatbázisok hello vész-Helyreállítási régióban jönnek létre.</span><span class="sxs-lookup"><span data-stu-id="70562-172">Now all new accounts and tenant databases are created in hello DR region.</span></span> <span data-ttu-id="70562-173">hello meglévő próba felhasználók tekintheti meg saját átmenetileg nem érhető el.</span><span class="sxs-lookup"><span data-stu-id="70562-173">hello existing trial customers see their data temporarily unavailable.</span></span>
* <span data-ttu-id="70562-174">Bérlő adatbázisok toohello készletébe hello vész-Helyreállítási régió tooimmediately fizetett hello átkapcsolás állítsa vissza a rendelkezésre állásuk (4).</span><span class="sxs-lookup"><span data-stu-id="70562-174">Fail over hello paid tenant's databases toohello pool in hello DR region tooimmediately restore their availability (4).</span></span> <span data-ttu-id="70562-175">Mivel hello feladatátvételi egy gyors metaadatok szint módosítása, fontolja meg az optimalizálás, ahol hello egyedi feladatátvételek lépésüket az igény szerinti hello végfelhasználói kapcsolatok.</span><span class="sxs-lookup"><span data-stu-id="70562-175">Since hello failover is a quick metadata level change, consider an optimization where hello individual failovers are triggered on demand by hello end-user connections.</span></span> 
* <span data-ttu-id="70562-176">Ha a másodlagos készlet edtu-k mérete alacsonyabb, mint az elsődleges hello volt, mert hello másodlagos adatbázisok volt a másodlagos adatbázist, miközben azok csak a szükséges hello kapacitás tooprocess hello módosítás naplózza azonnal kapacitásbővítés hello készlet most tooaccommodate hello teljes egyetlen bérlő számára [5] munkaterhelését.</span><span class="sxs-lookup"><span data-stu-id="70562-176">If your secondary pool eDTU size was lower than hello primary because hello secondary databases only required hello capacity tooprocess hello change logs while they were secondaries, immediately increase hello pool capacity now tooaccommodate hello full workload of all tenants (5).</span></span> 
* <span data-ttu-id="70562-177">Hozzon létre új rugalmas készletet hello hello azonos nevet, és azonos hello konfigurációs hello vész-Helyreállítási régióban hello próba ügyfelek adatbázisok (6).</span><span class="sxs-lookup"><span data-stu-id="70562-177">Create hello new elastic pool with hello same name and hello same configuration in hello DR region for hello trial customers' databases (6).</span></span> 
* <span data-ttu-id="70562-178">Ha hello próba ügyfelek hozzon létre, a georedundáns helyreállítás toorestore hello egyedi próbabérlet adatbázisok hello új készletbe (7).</span><span class="sxs-lookup"><span data-stu-id="70562-178">Once hello trial customers’ pool is created, use geo-restore toorestore hello individual trial tenant databases into hello new pool (7).</span></span> <span data-ttu-id="70562-179">Vegye figyelembe a hello végfelhasználói kapcsolatokhoz hello egyes visszaállítások váltanak, vagy néhány más alkalmazás-specifikus prioritás sémát használja.</span><span class="sxs-lookup"><span data-stu-id="70562-179">Consider triggering hello individual restores by hello end-user connections or use some other application-specific priority scheme.</span></span>

<span data-ttu-id="70562-180">Ezen a ponton az alkalmazás ismét online hello vész-Helyreállítási régióban.</span><span class="sxs-lookup"><span data-stu-id="70562-180">At this point your application is back online in hello DR region.</span></span> <span data-ttu-id="70562-181">Minden fizető vevők hozzáférhetnek tootheir adatokat, miközben hello próba ügyfél késleltetés tapasztalhat, az adatok elérése közben.</span><span class="sxs-lookup"><span data-stu-id="70562-181">All paying customers have access tootheir data while hello trial customers experience delay when accessing their data.</span></span>

<span data-ttu-id="70562-182">Ha hello elsődleges régió Azure hasznosítják *után* hello alkalmazás folytathatja, az adott régióban hello alkalmazást futtató hello vész-Helyreállítási régióban visszaállítását, vagy dönthet úgy is toofail hátsó toohello elsődleges régióban.</span><span class="sxs-lookup"><span data-stu-id="70562-182">When hello primary region is recovered by Azure *after* you have restored hello application in hello DR region you can continue running hello application in that region or you can decide toofail back toohello primary region.</span></span> <span data-ttu-id="70562-183">Ha az elsődleges régióban hello állítja helyre a rendszer *előtt* hello feladatátvétel befejeződött, javasoljuk, hogy visszavétele azonnal.</span><span class="sxs-lookup"><span data-stu-id="70562-183">If hello primary region is recovered *before* hello failover process is completed, consider failing back right away.</span></span> <span data-ttu-id="70562-184">hello feladat-visszavétel mutatja be a következő diagram hello hello lépéseket hajtja végre:</span><span class="sxs-lookup"><span data-stu-id="70562-184">hello failback takes hello steps illustrated in hello next diagram:</span></span> 

![6. ábra](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-6.png)

* <span data-ttu-id="70562-186">Összes függőben lévő georedundáns helyreállítás kérelem megszakítása.</span><span class="sxs-lookup"><span data-stu-id="70562-186">Cancel all outstanding geo-restore requests.</span></span>   
* <span data-ttu-id="70562-187">Feladatok átadása hello felügyeleti adatbázisok (8).</span><span class="sxs-lookup"><span data-stu-id="70562-187">Fail over hello management databases (8).</span></span> <span data-ttu-id="70562-188">Hello régió helyreállítását követően hello régi elsődleges automatikusan vált hello másodlagos.</span><span class="sxs-lookup"><span data-stu-id="70562-188">After hello region’s recovery, hello old primary automatically become hello secondary.</span></span> <span data-ttu-id="70562-189">Most azt válnak hello elsődleges újra.</span><span class="sxs-lookup"><span data-stu-id="70562-189">Now it becomes hello primary again.</span></span>  
* <span data-ttu-id="70562-190">Feladatok átadása hello fizetős bérlői adatbázisok (9).</span><span class="sxs-lookup"><span data-stu-id="70562-190">Fail over hello paid tenant databases (9).</span></span> <span data-ttu-id="70562-191">Ehhez hasonlóan hello régió helyreállítását követően hello régi elsődleges automatikusan vált hello másodlagos.</span><span class="sxs-lookup"><span data-stu-id="70562-191">Similarly, after hello region’s recovery, hello old primaries automatically become hello secondaries.</span></span> <span data-ttu-id="70562-192">Most ismét válnának hello eredményezi.</span><span class="sxs-lookup"><span data-stu-id="70562-192">Now they become hello primaries again.</span></span> 
* <span data-ttu-id="70562-193">Set hello hello vész-Helyreállítási régióban csak tooread (10) módosított próba adatbázisok visszaállítása.</span><span class="sxs-lookup"><span data-stu-id="70562-193">Set hello restored trial databases that have changed in hello DR region tooread-only (10).</span></span>
* <span data-ttu-id="70562-194">Az egyes adatbázisok hello próba felhasználók vész-Helyreállítási készlet hello helyreállítási óta módosult nevezze át vagy törölje a megfelelő adatbázis hello hello próba felhasználók elsődleges készletben (11).</span><span class="sxs-lookup"><span data-stu-id="70562-194">For each database in hello trial customers DR pool that changed since hello recovery, rename or delete hello corresponding database in hello trial customers primary pool (11).</span></span> 
* <span data-ttu-id="70562-195">Másolás hello hello vész-Helyreállítási készlet toohello elsődleges készlet (12)-adatbázisok frissítve.</span><span class="sxs-lookup"><span data-stu-id="70562-195">Copy hello updated databases from hello DR pool toohello primary pool (12).</span></span> 
* <span data-ttu-id="70562-196">Hello (13) DR-készlet törlése</span><span class="sxs-lookup"><span data-stu-id="70562-196">Delete hello DR pool (13)</span></span> 

> [!NOTE]
> <span data-ttu-id="70562-197">hello feladatátvételi művelet aszinkron.</span><span class="sxs-lookup"><span data-stu-id="70562-197">hello failover operation is asynchronous.</span></span> <span data-ttu-id="70562-198">toominimize hello helyreállításkor fontos, hogy legalább 20 adatbázisok kötegekben végrehajtási hello bérlői adatbázisok feladatátvételi parancsot.</span><span class="sxs-lookup"><span data-stu-id="70562-198">toominimize hello recovery time it is important that you execute hello tenant databases' failover command in batches of at least 20 databases.</span></span> 
> 
> 

<span data-ttu-id="70562-199">hello kulcs **előnyeit** ezt a stratégiát arra, hogy hello legmagasabb SLA biztosít az ügyfelek fizető hello.</span><span class="sxs-lookup"><span data-stu-id="70562-199">hello key **benefit** of this strategy is that it provides hello highest SLA for hello paying customers.</span></span> <span data-ttu-id="70562-200">Emellett biztosítja azt, hogy új kísérletek hello feloldja-e, amint hello vész-Helyreállítási próbakészletben jön létre.</span><span class="sxs-lookup"><span data-stu-id="70562-200">It also guarantees that hello new trials are unblocked as soon as hello trial DR pool is created.</span></span> <span data-ttu-id="70562-201">Hello **kompromisszum** ügyfelek fizetős, hogy ez a beállítás növeli a hello összköltsége hello bérlői adatbázisok által hello másodlagos DR-készlet hello költségét.</span><span class="sxs-lookup"><span data-stu-id="70562-201">hello **trade-off** is that this setup increases hello total cost of hello tenant databases by hello cost of hello secondary DR pool for paid customers.</span></span> <span data-ttu-id="70562-202">Emellett ha hello másodlagos készlet különböző méretű, hello fizető vevők alacsonyabb teljesítmény tapasztalható feladatátvétel után befejezéséig hello készlet frissítése hello vész-Helyreállítási régióban.</span><span class="sxs-lookup"><span data-stu-id="70562-202">In addition, if hello secondary pool has a different size, hello paying customers experience lower performance after failover until hello pool upgrade in hello DR region is completed.</span></span> 

## <a name="scenario-3-geographically-distributed-application-with-tiered-service"></a><span data-ttu-id="70562-203">3. forgatókönyv.</span><span class="sxs-lookup"><span data-stu-id="70562-203">Scenario 3.</span></span> <span data-ttu-id="70562-204">Földrajzilag elosztott alkalmazás rétegzett szolgáltatással</span><span class="sxs-lookup"><span data-stu-id="70562-204">Geographically distributed application with tiered service</span></span>
<span data-ttu-id="70562-205"><i>A rétegzett szolgáltatási ajánlatok érett SaaS-alkalmazás van. Szeretné, hogy egy rendkívül agresszív SLA toomy ügyfelek fizetett toooffer rendelkezem, és minimálisra hello gyakorolt hatás leállás esetén, mert még rövid megszakítás okozhat az ügyfél kapcsolatos. Nagyon fontos, hogy az ügyfelek fizető hello mindig is hozzáférjenek az adataikhoz. hello kísérletek szabad és szolgáltatásiszint-szerződésben garantált hello próbaidőszak nem ajánlja fel.</i></span><span class="sxs-lookup"><span data-stu-id="70562-205"><i>I have a mature SaaS application with tiered service offers. I want toooffer a very aggressive SLA toomy paid customers and minimize hello risk of impact when outages occur because even brief interruption can cause customer dissatisfaction. It is critical that hello paying customers can always access their data. hello trials are free and an SLA is not offered during hello trial period. </i></span></span> 

<span data-ttu-id="70562-206">toosupport ebben a forgatókönyvben, használjon három különálló rugalmas készletek.</span><span class="sxs-lookup"><span data-stu-id="70562-206">toosupport this scenario, use three separate elastic pools.</span></span> <span data-ttu-id="70562-207">Kiépítés két egyenlő méretű rendelkező készleteket magas edtu-k két különböző régiókban toocontain hello lévő adatbázisonként fizetős ügyfelek bérlői adatbázisok.</span><span class="sxs-lookup"><span data-stu-id="70562-207">Provision two equal size pools with high eDTUs per database in two different regions toocontain hello paid customers' tenant databases.</span></span> <span data-ttu-id="70562-208">hello hello próbabérlőket tartalmazó harmadik készlet lehet alacsonyabb edtu-k adatbázisonkénti és építhető ki hello két régiók egyikéhez sem.</span><span class="sxs-lookup"><span data-stu-id="70562-208">hello third pool containing hello trial tenants can have lower eDTUs per database and be provisioned in one of hello two regions.</span></span>

<span data-ttu-id="70562-209">tooguarantee hello legalacsonyabb helyreállításkor leállások során, hello fizető vevők bérlői adatbázisok a következők georeplikált hello elsődleges adatbázisok hello két régió 50 %.</span><span class="sxs-lookup"><span data-stu-id="70562-209">tooguarantee hello lowest recovery time during outages, hello paying customers' tenant databases are geo-replicated with 50% of hello primary databases in each of hello two regions.</span></span> <span data-ttu-id="70562-210">Hasonlóképpen minden egyes régió rendelkezik hello másodlagos adatbázisok 50 %-át.</span><span class="sxs-lookup"><span data-stu-id="70562-210">Similarly, each region has 50% of hello secondary databases.</span></span> <span data-ttu-id="70562-211">Ezzel a módszerrel a régió nem érhető el, ha csak 50 %-át fizetett ügyfelek adatbázisok hello érintett és toofail rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="70562-211">This way, if a region is offline, only 50% of hello paid customers' databases are impacted and have toofail over.</span></span> <span data-ttu-id="70562-212">hello más adatbázisok változatlanok maradnak.</span><span class="sxs-lookup"><span data-stu-id="70562-212">hello other databases remain intact.</span></span> <span data-ttu-id="70562-213">Ezt a konfigurációt mutatja be a következő diagram hello:</span><span class="sxs-lookup"><span data-stu-id="70562-213">This configuration is illustrated in hello following diagram:</span></span>

![4. ábra](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-7.png)

<span data-ttu-id="70562-215">A hello előző esetben hello felügyeleti adatbázisok aktívak üzembe helyezését, így azokat egypéldányosként georeplikált-adatbázisok konfigurálása (1).</span><span class="sxs-lookup"><span data-stu-id="70562-215">As in hello previous scenarios, hello management databases are quite active so configure them as single geo-replicated databases (1).</span></span> <span data-ttu-id="70562-216">Ez biztosítja, kiszámítható teljesítményt hello hello új ügyfél-előfizetések, a profil frissítések és az egyéb felügyeleti műveleteket.</span><span class="sxs-lookup"><span data-stu-id="70562-216">This ensures hello predictable performance of hello new customer subscriptions, profile updates and other management operations.</span></span> <span data-ttu-id="70562-217">A régió hello elsődleges régió hello felügyeleti adatbázisok és hello régió B használt hello felügyeleti adatbázisok helyreállításához.</span><span class="sxs-lookup"><span data-stu-id="70562-217">Region A is hello primary region for hello management databases and hello region B is used for recovery of hello management databases.</span></span>

<span data-ttu-id="70562-218">hello fizető vevők bérlői adatbázisok georeplikált is, de az elsődleges és másodlagos elosztva terület A és B (2) a régióban.</span><span class="sxs-lookup"><span data-stu-id="70562-218">hello paying customers’ tenant databases are also geo-replicated but with primaries and secondaries split between region A and region B (2).</span></span> <span data-ttu-id="70562-219">Ezzel a módszerrel hello bérlői elsődleges adatbázisok hello kimaradás által érintett átveheti toohello más régióban, és elérhetővé válik.</span><span class="sxs-lookup"><span data-stu-id="70562-219">This way, hello tenant primary databases impacted by hello outage can fail over toohello other region and become available.</span></span> <span data-ttu-id="70562-220">hello más fele hello bérlői adatbázisok nem kell minden érintett.</span><span class="sxs-lookup"><span data-stu-id="70562-220">hello other half of hello tenant databases are not be impacted at all.</span></span> 

<span data-ttu-id="70562-221">hello következő ábra szemlélteti a hello helyreállítási lépéseket tootake, nem tervezett kimaradás esetén régióban azonosítójához.</span><span class="sxs-lookup"><span data-stu-id="70562-221">hello next diagram illustrates hello recovery steps tootake if  an outage occurs in region A.</span></span>

![5. ábra](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-8.png)

* <span data-ttu-id="70562-223">Azonnal feladatátvételt hello felügyeleti adatbázisok tooregion B (3).</span><span class="sxs-lookup"><span data-stu-id="70562-223">Immediately fail over hello management databases tooregion B (3).</span></span>
* <span data-ttu-id="70562-224">Hello alkalmazás kapcsolati karakterlánc toopoint toohello felügyeleti adatbázisok régió b módosítása hello felügyeleti adatbázisok toomake hello új fiókokat és a bérlői adatbázisok B régióban jönnek létre, és hello meglévő bérlő adatbázisok nem talált meg arról, hogy módosítsa, is.</span><span class="sxs-lookup"><span data-stu-id="70562-224">Change hello application’s connection string toopoint toohello management databases in region B. Modify hello management databases toomake sure hello new accounts and tenant databases are created in region B and hello existing tenant databases are found there as well.</span></span> <span data-ttu-id="70562-225">hello meglévő próba felhasználók tekintheti meg saját átmenetileg nem érhető el.</span><span class="sxs-lookup"><span data-stu-id="70562-225">hello existing trial customers see their data temporarily unavailable.</span></span>
* <span data-ttu-id="70562-226">Feladatok átadása fizetős hello bérlői adatbázisok toopool 2 régió B tooimmediately restore a rendelkezésre állásuk (4).</span><span class="sxs-lookup"><span data-stu-id="70562-226">Fail over hello paid tenant's databases toopool 2 in region B tooimmediately restore their availability (4).</span></span> <span data-ttu-id="70562-227">Mivel hello feladatátvételi gyors metaadatok szint módosítását, akkor fontolja meg az optimalizálás, ahol hello egyedi feladatátvételek lépésüket az igény szerinti hello végfelhasználói kapcsolatok.</span><span class="sxs-lookup"><span data-stu-id="70562-227">Since hello failover is a quick metadata level change, you may consider an optimization where hello individual failovers are triggered on demand by hello end-user connections.</span></span> 
* <span data-ttu-id="70562-228">Óta most készlet 2 csak elsődleges adatbázist tartalmaz, hello teljes munkaterhelés hello készlet nő, és azonnal növelheti a eDTU méretét (5).</span><span class="sxs-lookup"><span data-stu-id="70562-228">Since now pool 2 contains only primary databases, hello total workload in hello pool increases and can immediately increase its eDTU size (5).</span></span> 
* <span data-ttu-id="70562-229">Hozzon létre új rugalmas készletet hello hello azonos nevet, és azonos hello konfigurációs hello régióban B hello próba ügyfelek adatbázisok (6).</span><span class="sxs-lookup"><span data-stu-id="70562-229">Create hello new elastic pool with hello same name and hello same configuration in hello region B for hello trial customers' databases (6).</span></span> 
* <span data-ttu-id="70562-230">Miután hello hozzon létre georedundáns helyreállítás toorestore hello egyedi próbabérlet adatbázis használata hello készletbe (7).</span><span class="sxs-lookup"><span data-stu-id="70562-230">Once hello pool is created use geo-restore toorestore hello individual trial tenant database into hello pool (7).</span></span> <span data-ttu-id="70562-231">Vegye figyelembe, egyes visszaállítások hello kiváltó hello végfelhasználói kapcsolatok által, vagy néhány más alkalmazás-specifikus prioritás sémát használja.</span><span class="sxs-lookup"><span data-stu-id="70562-231">You can consider triggering hello individual restores by hello end-user connections or use some other application-specific priority scheme.</span></span>

> [!NOTE]
> <span data-ttu-id="70562-232">hello feladatátvételi művelet aszinkron.</span><span class="sxs-lookup"><span data-stu-id="70562-232">hello failover operation is asynchronous.</span></span> <span data-ttu-id="70562-233">toominimize hello helyreállítási idő, fontos, hogy legalább 20 adatbázisok kötegekben végrehajtási hello bérlői adatbázisok feladatátvételi parancsot.</span><span class="sxs-lookup"><span data-stu-id="70562-233">toominimize hello recovery time, it is important that you execute hello tenant databases' failover command in batches of at least 20 databases.</span></span> 
> 

<span data-ttu-id="70562-234">Ezen a ponton az alkalmazás újra online állapotba kerül régióban a b kiszolgálóra. Minden fizető vevők hozzáférhetnek tootheir adatokat, miközben hello próba ügyfél késleltetés tapasztalhat, az adatok elérése közben.</span><span class="sxs-lookup"><span data-stu-id="70562-234">At this point your application is back online in region B. All paying customers have access tootheir data while hello trial customers experience delay when accessing their data.</span></span>

<span data-ttu-id="70562-235">A régió helyreállításakor akkor van szükség toodecide toouse régió B próba felhasználók vagy a feladat-visszavétel toousing hello próba felhasználók készlet régióban A. Egy feltétel lehet hello % próbabérlet adatbázisok hello helyreállítási óta módosult.</span><span class="sxs-lookup"><span data-stu-id="70562-235">When region A is recovered you need toodecide if you want toouse region B for trial customers or failback toousing hello trial customers pool in region A. One criteria could be hello % of trial tenant databases modified since hello recovery.</span></span> <span data-ttu-id="70562-236">Függetlenül attól, hogy döntést kell toore-egyenleg fizetős hello bérlők között két rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="70562-236">Regardless of that decision, you need toore-balance hello paid tenants between two pools.</span></span> <span data-ttu-id="70562-237">hello következő diagram hello folyamatát mutatja be, amikor hello próbabérlet adatbázisok hátsó tooregion A. sikertelen</span><span class="sxs-lookup"><span data-stu-id="70562-237">hello next diagram illustrates hello process when hello trial tenant databases fail back tooregion A.</span></span>  

![6. ábra](./media/sql-database-disaster-recovery-strategies-for-applications-with-elastic-pool/diagram-9.png)

* <span data-ttu-id="70562-239">Megszakítja az összes függőben lévő georedundáns helyreállítás kérelmek tootrial vész-Helyreállítási készlet.</span><span class="sxs-lookup"><span data-stu-id="70562-239">Cancel all outstanding geo-restore requests tootrial DR pool.</span></span>   
* <span data-ttu-id="70562-240">Feladatok átadása hello konfigurációkezelési adatbázis (8).</span><span class="sxs-lookup"><span data-stu-id="70562-240">Fail over hello management database (8).</span></span> <span data-ttu-id="70562-241">Hello régió helyreállítását követően hello régi elsődleges automatikusan másodlagos hello inaktívvá vált.</span><span class="sxs-lookup"><span data-stu-id="70562-241">After hello region’s recovery, hello old primary automatically became hello secondary.</span></span> <span data-ttu-id="70562-242">Most azt válnak hello elsődleges újra.</span><span class="sxs-lookup"><span data-stu-id="70562-242">Now it becomes hello primary again.</span></span>  
* <span data-ttu-id="70562-243">Válassza ki, melyik fizetős bérlői adatbázisok sikertelen hátsó toopool 1 – kezdeményezési feladatátvételi tootheir másodlagos (9).</span><span class="sxs-lookup"><span data-stu-id="70562-243">Select which paid tenant databases fail back toopool 1 and initiate failover tootheir secondaries (9).</span></span> <span data-ttu-id="70562-244">Hello régió helyreállítását követően 1 alkalmazáskészletben lévő összes adatbázis automatikusan másodlagos inaktívvá vált.</span><span class="sxs-lookup"><span data-stu-id="70562-244">After hello region’s recovery, all databases in pool 1 automatically became secondaries.</span></span> <span data-ttu-id="70562-245">Most 50 %-át őket elsődleges ismét válik.</span><span class="sxs-lookup"><span data-stu-id="70562-245">Now 50% of them become primaries again.</span></span> 
* <span data-ttu-id="70562-246">Tartozó 2 toohello eredeti eDTU (10) hello méretének csökkentésére.</span><span class="sxs-lookup"><span data-stu-id="70562-246">Reduce hello size of pool 2 toohello original eDTU (10).</span></span>
* <span data-ttu-id="70562-247">A készlet összes hello régióban B csak tooread (11) próba adatbázisok visszaállítása.</span><span class="sxs-lookup"><span data-stu-id="70562-247">Set all restored trial databases in hello region B tooread-only (11).</span></span>
* <span data-ttu-id="70562-248">Az egyes adatbázisok hello próba vész-Helyreállítási készlet hello helyreállítási óta megváltozott nevezze át vagy törölje a megfelelő adatbázis hello hello elsődleges próbakészletben (12).</span><span class="sxs-lookup"><span data-stu-id="70562-248">For each database in hello trial DR pool that has changed since hello recovery, rename or delete hello corresponding database in hello trial primary pool (12).</span></span> 
* <span data-ttu-id="70562-249">Másolás hello hello vész-Helyreállítási készlet toohello elsődleges készlet (13)-adatbázisok frissítve.</span><span class="sxs-lookup"><span data-stu-id="70562-249">Copy hello updated databases from hello DR pool toohello primary pool (13).</span></span> 
* <span data-ttu-id="70562-250">Hello (14) DR-készlet törlése</span><span class="sxs-lookup"><span data-stu-id="70562-250">Delete hello DR pool (14)</span></span> 

<span data-ttu-id="70562-251">hello kulcs **előnyöket** e stratégia vannak:</span><span class="sxs-lookup"><span data-stu-id="70562-251">hello key **benefits** of this strategy are:</span></span>

* <span data-ttu-id="70562-252">Fizető felhasználók, mert biztosítja, hogy nem tervezett kimaradás nem befolyásolja a több mint 50 %-a hello bérlői adatbázisok hello hello legtöbb agresszív SLA támogatja.</span><span class="sxs-lookup"><span data-stu-id="70562-252">It supports hello most aggressive SLA for hello paying customers because it ensures that an outage cannot impact more than 50% of hello tenant databases.</span></span> 
* <span data-ttu-id="70562-253">Ez garantálja, hogy új kísérletek hello feloldja-e, amint hello eljárást vész-Helyreállítási készlet hello helyreállítás során jön létre.</span><span class="sxs-lookup"><span data-stu-id="70562-253">It guarantees that hello new trials are unblocked as soon as hello trail DR pool is created during hello recovery.</span></span> 
* <span data-ttu-id="70562-254">Lehetővé teszi a tárolókészlet-kapacitást hello 50 %-készlet 1 másodlagos adatbázisok a hatékonyabb kihasználását, és készlet 2 garantáltan toobe hello elsődleges adatbázisokéval kevésbé aktív.</span><span class="sxs-lookup"><span data-stu-id="70562-254">It allows more efficient use of hello pool capacity as 50% of secondary databases in pool 1 and pool 2 are guaranteed toobe less active than hello primary databases.</span></span>

<span data-ttu-id="70562-255">fő hello **kompromisszumot** vannak:</span><span class="sxs-lookup"><span data-stu-id="70562-255">hello main **trade-offs** are:</span></span>

* <span data-ttu-id="70562-256">hello CRUD műveletek hello felügyeleti adatbázisokhoz elleni hello elsődleges hello felügyeleti adatbázisok végrehajtás kisebb késést biztosít a hello csatlakoztatott végfelhasználók tooregion A mint hello csatlakoztatott végfelhasználók tooregion B rendelkeznek.</span><span class="sxs-lookup"><span data-stu-id="70562-256">hello CRUD operations against hello management databases have lower latency for hello end users connected tooregion A than for hello end users connected tooregion B as they are executed against hello primary of hello management databases.</span></span>
* <span data-ttu-id="70562-257">Összetettebb tervezési hello felügyeleti adatbázis igényel.</span><span class="sxs-lookup"><span data-stu-id="70562-257">It requires more complex design of hello management database.</span></span> <span data-ttu-id="70562-258">Például minden bérlő rekord tartalmazza-e a location kódcímke, amelyet a feladatátvétel és a feladat-visszavétel során módosított toobe.</span><span class="sxs-lookup"><span data-stu-id="70562-258">For example, each tenant record has a location tag that needs toobe changed during failover and failback.</span></span>  
* <span data-ttu-id="70562-259">Fizető felhasználók hello szokásosnál alacsonyabb teljesítményt tapasztalhat, befejeződéséig hello régióban B készlet frissítése.</span><span class="sxs-lookup"><span data-stu-id="70562-259">hello paying customers may experience lower performance than usual until hello pool upgrade in region B is completed.</span></span> 

## <a name="summary"></a><span data-ttu-id="70562-260">Összefoglalás</span><span class="sxs-lookup"><span data-stu-id="70562-260">Summary</span></span>
<span data-ttu-id="70562-261">Ez a cikk hello vész helyreállítási stratégiák a több-bérlős Szolgáltatottszoftver-ISV alkalmazás által használt adatbázis-rétegből hello összpontosít.</span><span class="sxs-lookup"><span data-stu-id="70562-261">This article focuses on hello disaster recovery strategies for hello database tier used by a SaaS ISV multi-tenant application.</span></span> <span data-ttu-id="70562-262">hello stratégia van hello igények alapján hello alkalmazás, például a hello üzleti modell hello SLA-t szeretné toooffer tooyour ügyfelei, költségvetés megkötés stb. A leírása stratégia vázol fel hello előnyei és kompromisszum így sikerült tájékozott döntést.</span><span class="sxs-lookup"><span data-stu-id="70562-262">hello strategy you choose is based on hello needs of hello application, such as hello business model, hello SLA you want toooffer tooyour customers, budget constraint etc. Each described strategy outlines hello benefits and trade-off so you could make an informed decision.</span></span> <span data-ttu-id="70562-263">Valószínűleg az adott alkalmazás emellett egyéb Azure összetevőket tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="70562-263">Also, your specific application likely includes other Azure components.</span></span> <span data-ttu-id="70562-264">Ezért tekintse át az üzleti folytonossági útmutatást és levezényléséhez hello helyreállítási hello adatbázis réteg velük.</span><span class="sxs-lookup"><span data-stu-id="70562-264">So you review their business continuity guidance and orchestrate hello recovery of hello database tier with them.</span></span> <span data-ttu-id="70562-265">További információ az adatbázis-alkalmazások az Azure helyreállítási kezelése toolearn tekintse meg a túl[Designing vész-helyreállítási megoldások](sql-database-designing-cloud-solutions-for-disaster-recovery.md).</span><span class="sxs-lookup"><span data-stu-id="70562-265">toolearn more about managing recovery of database applications in Azure, refer too[Designing cloud solutions for disaster recovery](sql-database-designing-cloud-solutions-for-disaster-recovery.md).</span></span>  

## <a name="next-steps"></a><span data-ttu-id="70562-266">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="70562-266">Next steps</span></span>
* <span data-ttu-id="70562-267">tudnivalók Azure SQL adatbázis automatikus biztonsági mentés, toolearn lásd: [SQL-adatbázis biztonsági mentések automatikus](sql-database-automated-backups.md).</span><span class="sxs-lookup"><span data-stu-id="70562-267">toolearn about Azure SQL Database automated backups, see [SQL Database automated backups](sql-database-automated-backups.md).</span></span>
* <span data-ttu-id="70562-268">Egy üzleti folytonosság – áttekintés és forgatókönyvek: [üzleti folytonosság – áttekintés](sql-database-business-continuity.md).</span><span class="sxs-lookup"><span data-stu-id="70562-268">For a business continuity overview and scenarios, see [Business continuity overview](sql-database-business-continuity.md).</span></span>
* <span data-ttu-id="70562-269">toolearn a helyreállításhoz, az automatikus biztonsági mentés használatával kapcsolatban lásd: [adatbázis visszaállítása biztonsági másolatból hello szolgáltatás által kezdeményezett](sql-database-recovery-using-backups.md).</span><span class="sxs-lookup"><span data-stu-id="70562-269">toolearn about using automated backups for recovery, see [restore a database from hello service-initiated backups](sql-database-recovery-using-backups.md).</span></span>
* <span data-ttu-id="70562-270">toolearn gyorsabb helyreállítási beállításokkal kapcsolatban lásd: [aktív georeplikáció](sql-database-geo-replication-overview.md).</span><span class="sxs-lookup"><span data-stu-id="70562-270">toolearn about faster recovery options, see [active geo-replication](sql-database-geo-replication-overview.md).</span></span>
* <span data-ttu-id="70562-271">toolearn tartalmaznak, az automatikus biztonsági mentés használatával kapcsolatban lásd: [adatbázis másolása](sql-database-copy.md).</span><span class="sxs-lookup"><span data-stu-id="70562-271">toolearn about using automated backups for archiving, see [database copy](sql-database-copy.md).</span></span>

