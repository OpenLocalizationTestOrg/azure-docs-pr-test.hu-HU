---
title: "aaaManaging kiterjesztett felhő adatbázisok |} Microsoft Docs"
description: "Bemutatja a hello rugalmas feladat szolgáltatás"
metakeywords: azure sql database elastic databases
services: sql-database
documentationcenter: 
manager: jhubbard
author: ddove
ms.assetid: 6fa47cf2-1162-4534-a206-6e2d95b78580
ms.service: sql-database
ms.custom: scale out apps
ms.workload: sql-database
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 10/24/2016
ms.author: ddove
ms.openlocfilehash: b6d330cd712421b8cba781e835830772e6e5b77e
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="managing-scaled-out-cloud-databases"></a><span data-ttu-id="c1d5a-103">Kiterjesztett felhő adatbázisok kezelése</span><span class="sxs-lookup"><span data-stu-id="c1d5a-103">Managing scaled-out cloud databases</span></span>
<span data-ttu-id="c1d5a-104">toomanage kiterjesztett szilánkos adatbázisok hello **rugalmas adatbázis-feladatok** funkció (előzetes verzió) lehetővé teszi, hogy Ön tooreliably Transact-SQL (T-SQL) parancsprogram végrehajtása adatbázisok, beleértve a csoportja között:</span><span class="sxs-lookup"><span data-stu-id="c1d5a-104">toomanage scaled-out sharded databases, hello **Elastic Database jobs** feature (preview) enables you tooreliably execute a Transact-SQL (T-SQL) script across a group of databases, including:</span></span>

* <span data-ttu-id="c1d5a-105">(az alábbiakban ismertetett) adatbázisok egyénileg definiált gyűjteménye</span><span class="sxs-lookup"><span data-stu-id="c1d5a-105">a custom-defined collection of databases (explained below)</span></span>
* <span data-ttu-id="c1d5a-106">az összes adatbázis egy [rugalmas készlet](sql-database-elastic-pool.md)</span><span class="sxs-lookup"><span data-stu-id="c1d5a-106">all databases in an [elastic pool](sql-database-elastic-pool.md)</span></span>
* <span data-ttu-id="c1d5a-107">a shard készletének (használatával létrehozott [Elastic Database ügyféloldali kódtárának](sql-database-elastic-database-client-library.md)).</span><span class="sxs-lookup"><span data-stu-id="c1d5a-107">a shard set (created using [Elastic Database client library](sql-database-elastic-database-client-library.md)).</span></span> 

## <a name="documentation"></a><span data-ttu-id="c1d5a-108">Dokumentáció</span><span class="sxs-lookup"><span data-stu-id="c1d5a-108">Documentation</span></span>
* <span data-ttu-id="c1d5a-109">[Hello rugalmas feladat összetevőinek telepítése](sql-database-elastic-jobs-service-installation.md).</span><span class="sxs-lookup"><span data-stu-id="c1d5a-109">[Install hello Elastic Database job components](sql-database-elastic-jobs-service-installation.md).</span></span> 
* <span data-ttu-id="c1d5a-110">[Ismerkedés a rugalmas feladatok](sql-database-elastic-jobs-getting-started.md).</span><span class="sxs-lookup"><span data-stu-id="c1d5a-110">[Get started with Elastic Database jobs](sql-database-elastic-jobs-getting-started.md).</span></span>
* <span data-ttu-id="c1d5a-111">[PowerShell-lel feladatok létrehozásához és kezeléséhez](sql-database-elastic-jobs-powershell.md).</span><span class="sxs-lookup"><span data-stu-id="c1d5a-111">[Create and manage jobs using PowerShell](sql-database-elastic-jobs-powershell.md).</span></span>
* [<span data-ttu-id="c1d5a-112">Létrehozásához és kezeléséhez kimenő Azure SQL-adatbázisok méretezése</span><span class="sxs-lookup"><span data-stu-id="c1d5a-112">Create and manage scaled out Azure SQL Databases</span></span>](sql-database-elastic-jobs-getting-started.md)

<span data-ttu-id="c1d5a-113">**Rugalmas adatbázis-feladatok** jelenleg egy ügyfél által szolgáltatott, Azure Cloud Service, amely lehetővé teszi az ad hoc és ütemezett felügyeleti feladatokat, melyekhez nevezzük hello végrehajtásának **feladatok**.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-113">**Elastic Database jobs** is currently a customer-hosted Azure Cloud Service that enables hello execution of ad-hoc and scheduled administrative tasks, which are called **jobs**.</span></span> <span data-ttu-id="c1d5a-114">A feladatok könnyen, és megbízhatóan kezelése az Azure SQL-adatbázisok nagy mennyiségű felügyeleti műveletek a Transact-SQL-parancsfájlok tooperform futtatásával.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-114">With jobs, you can easily and reliably manage large groups of Azure SQL Databases by running Transact-SQL scripts tooperform administrative operations.</span></span> 

![Rugalmas feladat szolgáltatás][1]

## <a name="why-use-jobs"></a><span data-ttu-id="c1d5a-116">Miért érdemes használni a feladatokat?</span><span class="sxs-lookup"><span data-stu-id="c1d5a-116">Why use jobs?</span></span>
<span data-ttu-id="c1d5a-117">**Kezelés**</span><span class="sxs-lookup"><span data-stu-id="c1d5a-117">**Manage**</span></span>

<span data-ttu-id="c1d5a-118">Egyszerűen tegye sémamódosítások, hitelesítő adatok kezelése, hivatkozás adatfrissítések, teljesítményadat-gyűjtés vagy bérlő (ügyfél) telemetriai adatok gyűjtése.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-118">Easily do schema changes, credentials management, reference data updates, performance data collection or tenant (customer) telemetry collection.</span></span>

<span data-ttu-id="c1d5a-119">**Jelentések**</span><span class="sxs-lookup"><span data-stu-id="c1d5a-119">**Reports**</span></span>

<span data-ttu-id="c1d5a-120">Egy Azure SQL-adatbázisok gyűjteményét egyetlen táblát összesített adatokat.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-120">Aggregate data from a collection of Azure SQL Databases into a single destination table.</span></span>

<span data-ttu-id="c1d5a-121">**Terhelés csökkentése**</span><span class="sxs-lookup"><span data-stu-id="c1d5a-121">**Reduce overhead**</span></span>

<span data-ttu-id="c1d5a-122">Általában kell csatlakoztatni a tooeach adatbázis egymástól függetlenül rendelés toorun Transact-SQL-utasítások, vagy más felügyeleti feladatok.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-122">Normally, you must connect tooeach database independently in order toorun Transact-SQL statements or perform other administrative tasks.</span></span> <span data-ttu-id="c1d5a-123">Egy feladat hello feladat tooeach adatbázisban, hello célcsoport-naplózás kezeli.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-123">A job handles hello task of logging in tooeach database in hello target group.</span></span> <span data-ttu-id="c1d5a-124">Akkor is meghatározását, karbantartása és megőrizni a Transact-SQL-parancsfájlok toobe hajtotta végre az Azure SQL-adatbázisok csoport között.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-124">You also define, maintain and persist Transact-SQL scripts toobe executed across a group of Azure SQL Databases.</span></span>

<span data-ttu-id="c1d5a-125">**Nyilvántartás**</span><span class="sxs-lookup"><span data-stu-id="c1d5a-125">**Accounting**</span></span>

<span data-ttu-id="c1d5a-126">Feladatok futtatása hello parancsfájl és a napló hello állapotát az egyes adatbázisok végrehajtása.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-126">Jobs run hello script and log hello status of execution for each database.</span></span> <span data-ttu-id="c1d5a-127">Hiba esetén is kap automatikus próbálkozzon újra.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-127">You also get automatic retry when failures occur.</span></span>

<span data-ttu-id="c1d5a-128">**Rugalmasság**</span><span class="sxs-lookup"><span data-stu-id="c1d5a-128">**Flexibility**</span></span>

<span data-ttu-id="c1d5a-129">Azure SQL-adatbázisok egyéni csoportot, és fut egy feladat ütemezésének meghatározását.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-129">Define custom groups of Azure SQL Databases, and define schedules for running a job.</span></span>

> [!NOTE]
> <span data-ttu-id="c1d5a-130">Hello Azure-portálon csak egy meghatározott funkciókat korlátozott tooSQL Azure rugalmas készletek érhető el.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-130">In hello Azure portal, only a reduced set of functions limited tooSQL Azure elastic pools is available.</span></span> <span data-ttu-id="c1d5a-131">Hello PowerShell API-k tooaccess hello teljes készletét a jelenlegi funkcionalitás használatára.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-131">Use hello PowerShell APIs tooaccess hello full set of current functionality.</span></span>
> 
> 

## <a name="applications"></a><span data-ttu-id="c1d5a-132">Alkalmazások</span><span class="sxs-lookup"><span data-stu-id="c1d5a-132">Applications</span></span>
* <span data-ttu-id="c1d5a-133">Felügyeleti feladatok, például egy új séma telepítését.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-133">Perform administrative tasks, such as deploying a new schema.</span></span>
* <span data-ttu-id="c1d5a-134">Hivatkozás adatok-termékinformációk közös frissítése összes adatbázis között.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-134">Update reference data-product information common across all databases.</span></span> <span data-ttu-id="c1d5a-135">Vagy az ütemezések automatikus frissítések minden hétköznap, óra múlva.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-135">Or schedules automatic updates every weekday, after hours.</span></span>
* <span data-ttu-id="c1d5a-136">Építse újra az indexek tooimprove lekérdezések teljesítményét.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-136">Rebuild indexes tooimprove query performance.</span></span> <span data-ttu-id="c1d5a-137">hello újraépítése lehet konfigurált tooexecute közötti ismétlődő módon, adatbázisok gyűjteménye, mint csúcsidőn.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-137">hello rebuilding can be configured tooexecute across a collection of databases on a recurring basis, such as during off-peak hours.</span></span>
* <span data-ttu-id="c1d5a-138">Gyűjtése lekérdezés eredményeit az adatbázisok közül egy központi táblába folyamatos jelleggel.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-138">Collect query results from a set of databases into a central table on an on-going basis.</span></span> <span data-ttu-id="c1d5a-139">Teljesítmény-lekérdezések folyamatosan hajtható végre, és végre tootrigger további feladatok toobe konfigurálva.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-139">Performance queries can be continually executed and configured tootrigger additional tasks toobe executed.</span></span>
* <span data-ttu-id="c1d5a-140">Az adatbázisok elvégzése nagyobb hosszabb futó adatfeldolgozási-lekérdezéseket hajt végre, például hello ügyfél telemetriai gyűjteménye.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-140">Execute longer running data processing queries across a large set of databases, for example hello collection of customer telemetry.</span></span> <span data-ttu-id="c1d5a-141">Eredmények további elemzés céljára egyetlen céltáblába történő összegyűjtése.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-141">Results are collected into a single destination table for further analysis.</span></span>

## <a name="elastic-database-jobs-end-to-end"></a><span data-ttu-id="c1d5a-142">Rugalmas adatbázis-feladatok: végpont</span><span class="sxs-lookup"><span data-stu-id="c1d5a-142">Elastic Database jobs: end-to-end</span></span>
1. <span data-ttu-id="c1d5a-143">Telepítse a hello **rugalmas adatbázis-feladatok** összetevőket.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-143">Install hello **Elastic Database jobs** components.</span></span> <span data-ttu-id="c1d5a-144">További információkért lásd: [rugalmas adatbázis telepítése feladatok](sql-database-elastic-jobs-service-installation.md).</span><span class="sxs-lookup"><span data-stu-id="c1d5a-144">For more information, see [Installing Elastic Database jobs](sql-database-elastic-jobs-service-installation.md).</span></span> <span data-ttu-id="c1d5a-145">Ha hello telepítése meghiúsul, tekintse meg a [hogyan toouninstall](sql-database-elastic-jobs-uninstall.md).</span><span class="sxs-lookup"><span data-stu-id="c1d5a-145">If hello installation fails, see [how toouninstall](sql-database-elastic-jobs-uninstall.md).</span></span>
2. <span data-ttu-id="c1d5a-146">Használja a PowerShell API-k tooaccess hello további funkciókat, például az adatbázis egyénileg definiált gyűjtemények, ütemezések hozzáadása és/vagy adatgyűjtési eredmények beállítása létrehozásáról.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-146">Use hello PowerShell APIs tooaccess more functionality, for example creating custom-defined database collections, adding schedules and/or gathering results sets.</span></span> <span data-ttu-id="c1d5a-147">Hello-portál használata egyszerű telepítés és a feladatok létrehozása/figyelési korlátozott elleni tooexecution egy **rugalmas készlet**.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-147">Use hello portal for simple installation and creation/monitoring of jobs limited tooexecution against a **elastic pool**.</span></span> 
3. <span data-ttu-id="c1d5a-148">A feladat-végrehajtás titkosított hitelesítő adatok létrehozása és [hello felhasználói (vagy szerepkör) tooeach adatbázis hozzáadása hello csoport](sql-database-security-overview.md).</span><span class="sxs-lookup"><span data-stu-id="c1d5a-148">Create encrypted credentials for job execution and [add hello user (or role) tooeach database in hello group](sql-database-security-overview.md).</span></span>
4. <span data-ttu-id="c1d5a-149">Hozzon létre egy idempotent T-SQL parancsfájl hello csoport minden adatbázison futtatható.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-149">Create an idempotent T-SQL script that can be run against every database in hello group.</span></span> 
5. <span data-ttu-id="c1d5a-150">Hajtsa végre a következő lépések toocreate feladatokat hello Azure-portál használatával: [létrehozása és a rugalmas adatbázis-feladatok kezelése](sql-database-elastic-jobs-create-and-manage.md).</span><span class="sxs-lookup"><span data-stu-id="c1d5a-150">Follow these steps toocreate jobs using hello Azure portal: [Creating and managing Elastic Database jobs](sql-database-elastic-jobs-create-and-manage.md).</span></span> 
6. <span data-ttu-id="c1d5a-151">Vagy a PowerShell-parancsfájlok használata: [létrehozása a PowerShell (előzetes verzió) használatával SQL Database rugalmas adatbázis-feladatok kezelése és](sql-database-elastic-jobs-powershell.md).</span><span class="sxs-lookup"><span data-stu-id="c1d5a-151">Or use PowerShell scripts: [Create and manage a SQL Database elastic database jobs using PowerShell (preview)](sql-database-elastic-jobs-powershell.md).</span></span>

## <a name="idempotent-scripts"></a><span data-ttu-id="c1d5a-152">Az Idempotent parancsfájlok</span><span class="sxs-lookup"><span data-stu-id="c1d5a-152">Idempotent scripts</span></span>
<span data-ttu-id="c1d5a-153">hello parancsfájlok kell [idempotent](https://en.wikipedia.org/wiki/Idempotence).</span><span class="sxs-lookup"><span data-stu-id="c1d5a-153">hello scripts must be [idempotent](https://en.wikipedia.org/wiki/Idempotence).</span></span> <span data-ttu-id="c1d5a-154">Egyszerű fogalmazva "idempotent" azt jelenti, hogy ha hello parancsfájl sikeres, és újra fut, hello ugyanazt az eredményt következik be.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-154">In simple terms, "idempotent" means that if hello script succeeds, and it is run again, hello same result occurs.</span></span> <span data-ttu-id="c1d5a-155">A parancsfájl meghiúsulhat, tootransient hálózati problémák miatt.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-155">A script may fail due tootransient network issues.</span></span> <span data-ttu-id="c1d5a-156">Ebben az esetben hello feladat automatikusan megpróbálja hello parancsfájl futtatását egy előre definiált ennyiszer desisting előtt.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-156">In that case, hello job will automatically retry running hello script a preset number of times before desisting.</span></span> <span data-ttu-id="c1d5a-157">Az idempotent parancsfájl hello azonos vezethet, még akkor is, ha korábban már sikeresen futott kétszer van.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-157">An idempotent script has hello same result even if has been successfully run twice.</span></span> 

<span data-ttu-id="c1d5a-158">Egy egyszerű tactic tootest hello meglétét az objektum létrehozása az előtt.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-158">A simple tactic is tootest for hello existence of an object before creating it.</span></span>  

    IF NOT EXIST (some_object)
    -- Create hello object 
    -- If it exists, drop hello object before recreating it.

<span data-ttu-id="c1d5a-159">Ehhez hasonlóan egy parancsfájlt kell lennie képes tooexecute sikeresen logikailag teszteléséhez a, és azokat a feltételeket elleni talál.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-159">Similarly, a script must be able tooexecute successfully by logically testing for and countering any conditions it finds.</span></span>

## <a name="failures-and-logs"></a><span data-ttu-id="c1d5a-160">Hibák és a naplókat</span><span class="sxs-lookup"><span data-stu-id="c1d5a-160">Failures and logs</span></span>
<span data-ttu-id="c1d5a-161">Ha több próbálkozást követően a parancsfájl futása sikertelen, a hello feladat hello hiba jelentkezik, és továbbra is fennáll.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-161">If a script fails after multiple attempts, hello job logs hello error and continues.</span></span> <span data-ttu-id="c1d5a-162">A feladat befejeződését követően (azaz a Futtatás elleni hello csoportban lévő összes adatbázis), ellenőrizheti a sikertelen bejelentkezési kísérletek listáját.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-162">After a job ends (meaning a run against all databases in hello group), you can check its list of failed attempts.</span></span> <span data-ttu-id="c1d5a-163">hello naplók toodebug hibás parancsfájlok részletekkel szolgálnak.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-163">hello logs provide details toodebug faulty scripts.</span></span> 

## <a name="group-types-and-creation"></a><span data-ttu-id="c1d5a-164">Csoport típusok és létrehozása</span><span class="sxs-lookup"><span data-stu-id="c1d5a-164">Group types and creation</span></span>
<span data-ttu-id="c1d5a-165">A csoportok két fő típusba sorolhatók:</span><span class="sxs-lookup"><span data-stu-id="c1d5a-165">There are two kinds of groups:</span></span> 

1. <span data-ttu-id="c1d5a-166">A shard beállítása</span><span class="sxs-lookup"><span data-stu-id="c1d5a-166">Shard sets</span></span>
2. <span data-ttu-id="c1d5a-167">Egyéni csoportok</span><span class="sxs-lookup"><span data-stu-id="c1d5a-167">Custom groups</span></span>

<span data-ttu-id="c1d5a-168">Shard set csoportok hozhatók létre hello [skálázáshoz rugalmas adatbáziseszközöket](sql-database-elastic-scale-introduction.md).</span><span class="sxs-lookup"><span data-stu-id="c1d5a-168">Shard set groups are created using hello [Elastic Database tools](sql-database-elastic-scale-introduction.md).</span></span> <span data-ttu-id="c1d5a-169">A szilánkok set csoport létrehozásakor adatbázisok hozzáadásakor vagy eltávolításakor automatikusan hello csoportból.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-169">When you create a shard set group, databases are added or removed from hello group automatically.</span></span> <span data-ttu-id="c1d5a-170">Például egy új shard lesz automatikusan hello csoport Ha hozzáadja toohello shard leképezés.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-170">For example, a new shard will be automatically in hello group when you add it toohello shard map.</span></span> <span data-ttu-id="c1d5a-171">Egy feladat majd is futtathatók hello csoport.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-171">A job can then be run against hello group.</span></span>

<span data-ttu-id="c1d5a-172">Egyéni csoportok a hello ugyanakkor, szigorúan definiálhatók.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-172">Custom groups, on hello other hand, are rigidly defined.</span></span> <span data-ttu-id="c1d5a-173">Meg kell explicit módon adja hozzá, vagy távolítsa el az adatbázisok egyéni csoportokból.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-173">You must explicitly add or remove databases from custom groups.</span></span> <span data-ttu-id="c1d5a-174">Egy adatbázis hello csoport megszakadásakor hello feladat megpróbál toorun hello parancsfájl hello adatbázison végzett végleges hibát eredményez.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-174">If a database in hello group is dropped, hello job will attempt toorun hello script against hello database resulting in an eventual failure.</span></span> <span data-ttu-id="c1d5a-175">Hello Azure-portál jelenleg használatával létrehozott csoportok olyan egyéni csoportok.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-175">Groups created using hello Azure portal currently are custom groups.</span></span> 

## <a name="components-and-pricing"></a><span data-ttu-id="c1d5a-176">Összetevők és az árképzés terén</span><span class="sxs-lookup"><span data-stu-id="c1d5a-176">Components and pricing</span></span>
<span data-ttu-id="c1d5a-177">hello következő összetevők működnek együtt az Azure felhőalapú szolgáltatás, amely lehetővé teszi az alkalmi felügyeleti feladatok végrehajtásának toocreate.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-177">hello following components work together toocreate an Azure Cloud service that enables ad-hoc execution of administrative jobs.</span></span> <span data-ttu-id="c1d5a-178">hello összetevők telepítése és konfigurálása automatikusan történik az előfizetés a telepítés során.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-178">hello components are installed and configured automatically during setup, in your subscription.</span></span> <span data-ttu-id="c1d5a-179">Hello szolgáltatások azonosíthatja, mindannyian rendelkezik hello azonos az automatikusan generált név.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-179">You can identify hello services as they all have hello same auto-generated name.</span></span> <span data-ttu-id="c1d5a-180">hello neve egyedi, és hello előtag "edj" követően 21 véletlenszerűen létrehozott karaktereket tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-180">hello name is unique, and consists of hello prefix "edj" followed by 21 randomly generated characters.</span></span>

* <span data-ttu-id="c1d5a-181">**Azure Cloud Service**: rugalmas adatbázis-feladatok (előzetes verzió) Azure felhasználói által szolgáltatott felhők kerül hello szolgáltatás tooperform végrehajtásának kért feladatok.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-181">**Azure Cloud Service**: elastic database jobs (preview) is delivered as a customer-hosted Azure Cloud service tooperform execution of hello requested tasks.</span></span> <span data-ttu-id="c1d5a-182">Hello portálról hello szolgáltatás telepítése és megtalálható a Microsoft Azure-előfizetése.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-182">From hello portal, hello service is deployed and hosted in your Microsoft Azure subscription.</span></span> <span data-ttu-id="c1d5a-183">hello telepített alapértelmezett szolgáltatás fut, a magas rendelkezésre álláshoz két feldolgozói szerepkörök hello legalább.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-183">hello default deployed service runs with hello minimum of two worker roles for high availability.</span></span> <span data-ttu-id="c1d5a-184">minden egyes feldolgozói szerepkör (ElasticDatabaseJobWorker) hello alapértelmezett mérete a A0 példánya fut.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-184">hello default size of each worker role (ElasticDatabaseJobWorker) runs on an A0 instance.</span></span> <span data-ttu-id="c1d5a-185">Díjszabási, lásd: [árképzési felhőszolgáltatások](https://azure.microsoft.com/pricing/details/cloud-services/).</span><span class="sxs-lookup"><span data-stu-id="c1d5a-185">For pricing, see [Cloud services pricing](https://azure.microsoft.com/pricing/details/cloud-services/).</span></span> 
* <span data-ttu-id="c1d5a-186">**Az Azure SQL Database**: hello szolgáltatást használ egy Azure SQL Database hello néven **feladatvezérlő adatbázishoz** toostore hello feladat metaadatai mindegyikét.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-186">**Azure SQL Database**: hello service uses an Azure SQL Database known as hello **control database** toostore all of hello job metadata.</span></span> <span data-ttu-id="c1d5a-187">hello alapértelmezett szolgáltatásréteget egy S0.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-187">hello default service tier is a S0.</span></span> <span data-ttu-id="c1d5a-188">Díjszabási, lásd: [SQL Database – díjszabás](https://azure.microsoft.com/pricing/details/sql-database/).</span><span class="sxs-lookup"><span data-stu-id="c1d5a-188">For pricing, see [SQL Database Pricing](https://azure.microsoft.com/pricing/details/sql-database/).</span></span>
* <span data-ttu-id="c1d5a-189">**Az Azure Service Bus**: az Azure Service Bus koordinációs hello munka hello Azure Cloud Service belül van.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-189">**Azure Service Bus**: An Azure Service Bus is for coordination of hello work within hello Azure Cloud Service.</span></span> <span data-ttu-id="c1d5a-190">Lásd: [Service Bus árképzési](https://azure.microsoft.com/pricing/details/service-bus/).</span><span class="sxs-lookup"><span data-stu-id="c1d5a-190">See [Service Bus Pricing](https://azure.microsoft.com/pricing/details/service-bus/).</span></span>
* <span data-ttu-id="c1d5a-191">**Az Azure Storage**: az Azure Storage-fiók használatos diagnosztikai toostore kimeneti hello esemény igénylő problémát további hibakeresési naplózás (lásd: [diagnosztika engedélyezésével az Azure Cloud Services és a virtuális gépek](../cloud-services/cloud-services-dotnet-diagnostics.md)).</span><span class="sxs-lookup"><span data-stu-id="c1d5a-191">**Azure Storage**: An Azure Storage account is used toostore diagnostic output logging in hello event that an issue requires further debugging (see [Enabling Diagnostics in Azure Cloud Services and Virtual Machines](../cloud-services/cloud-services-dotnet-diagnostics.md)).</span></span> <span data-ttu-id="c1d5a-192">Díjszabási, lásd: [Azure Storage szolgáltatás díjszabása](https://azure.microsoft.com/pricing/details/storage/).</span><span class="sxs-lookup"><span data-stu-id="c1d5a-192">For pricing, see [Azure Storage Pricing](https://azure.microsoft.com/pricing/details/storage/).</span></span>

## <a name="how-elastic-database-jobs-work"></a><span data-ttu-id="c1d5a-193">A rugalmas adatbázis-feladatok működése</span><span class="sxs-lookup"><span data-stu-id="c1d5a-193">How Elastic Database jobs work</span></span>
1. <span data-ttu-id="c1d5a-194">Egy Azure SQL Database jelöl ki egy **feladatvezérlő adatbázishoz** amely tárolja az összes metaadat-adatainak és állapotának adatokat.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-194">An Azure SQL Database is designated a **control database** which stores all meta-data and state data.</span></span>
2. <span data-ttu-id="c1d5a-195">hello feladatvezérlő adatbázishoz illetéktelen hello **szolgáltatás feladat** toolaunch és nyomon követése feladatok tooexecute.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-195">hello control database is accessed by hello **job service** toolaunch and track jobs tooexecute.</span></span>
3. <span data-ttu-id="c1d5a-196">Két különböző szerepkörök kommunikálnak hello feladatvezérlő adatbázishoz:</span><span class="sxs-lookup"><span data-stu-id="c1d5a-196">Two different roles communicate with hello control database:</span></span> 
   * <span data-ttu-id="c1d5a-197">Tartományvezérlő: Meghatározza, hogy milyen típusú feladatok szükséges feladatok tooperform hello kért feladat, és az ismételt próbálkozás sikertelen feladatok hozzon létre új feladat feladatok.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-197">Controller: Determines which jobs require tasks tooperform hello requested job, and retries failed jobs by creating new job tasks.</span></span>
   * <span data-ttu-id="c1d5a-198">Feladat a feladat a végrehajtás: Hello feladat feladatokat végzi.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-198">Job Task Execution: Carries out hello job tasks.</span></span>

### <a name="job-task-types"></a><span data-ttu-id="c1d5a-199">Feladattípusok feladat</span><span class="sxs-lookup"><span data-stu-id="c1d5a-199">Job task types</span></span>
<span data-ttu-id="c1d5a-200">Több feladat feladatokat hajthat végre feladatok végrehajtásának típusa van:</span><span class="sxs-lookup"><span data-stu-id="c1d5a-200">There are multiple types of job tasks that carry out execution of jobs:</span></span>

* <span data-ttu-id="c1d5a-201">ShardMapRefresh: Lekérdezések hello shard térkép toodetermine szilánkok használt összes hello adatbázis</span><span class="sxs-lookup"><span data-stu-id="c1d5a-201">ShardMapRefresh: Queries hello shard map toodetermine all hello databases used as shards</span></span>
* <span data-ttu-id="c1d5a-202">ScriptSplit: Hello parancsfájl felosztja a kötegek "Ugrás" kimutatásait között</span><span class="sxs-lookup"><span data-stu-id="c1d5a-202">ScriptSplit: Splits hello script across ‘GO’ statements into batches</span></span>
* <span data-ttu-id="c1d5a-203">ExpandJob: Gyermek feladatok létrehozása az egyes adatbázisok a feladatból, amelynek célpontja adatbázisok csoportja</span><span class="sxs-lookup"><span data-stu-id="c1d5a-203">ExpandJob: Creates child jobs for each database from a job that targets a group of databases</span></span>
* <span data-ttu-id="c1d5a-204">ScriptExecution: Végrehajtja a megadott hitelesítő adatok használatával egy adott adatbázison parancsfájl</span><span class="sxs-lookup"><span data-stu-id="c1d5a-204">ScriptExecution: Executes a script against a particular database using defined credentials</span></span>
* <span data-ttu-id="c1d5a-205">Dacpac: Vonatkozik DACPAC tooa adott adatbázishoz adott hitelesítő adatok használatával</span><span class="sxs-lookup"><span data-stu-id="c1d5a-205">Dacpac: Applies a DACPAC tooa particular database using particular credentials</span></span>

## <a name="end-to-end-job-execution-work-flow"></a><span data-ttu-id="c1d5a-206">Végpontok közötti feladat-végrehajtási-munkafolyamat</span><span class="sxs-lookup"><span data-stu-id="c1d5a-206">End-to-end job execution work-flow</span></span>
1. <span data-ttu-id="c1d5a-207">Hello portál vagy a PowerShell API hello használ, a feladatok bekerülnek hello **feladatvezérlő adatbázishoz**.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-207">Using either hello Portal or hello PowerShell API, a job is inserted into hello  **control database**.</span></span> <span data-ttu-id="c1d5a-208">hello feladat a megadott hitelesítő adatok használatával adatbázisok csoportja elleni Transact-SQL parancsfájl végrehajtását kéri.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-208">hello job requests execution of a Transact-SQL script against a group of databases using specific credentials.</span></span>
2. <span data-ttu-id="c1d5a-209">hello vezérlő hello új feladat azonosítja.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-209">hello controller identifies hello new job.</span></span> <span data-ttu-id="c1d5a-210">Munka feladatai jönnek létre, és végre toosplit hello parancsfájl és toorefresh hello csoport adatbázisok.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-210">Job tasks are created and executed toosplit hello script and toorefresh hello group’s databases.</span></span> <span data-ttu-id="c1d5a-211">Új feladat utolsó lépésként létrejön, tooexpand hello feladat végrehajtása, és hozzon létre új gyermek feladatok, ahol minden gyermek folyamat megadott tooexecute hello Transact-SQL parancsfájl hello csoportban lévő egyes adatbázison.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-211">Lastly, a new job is created and executed tooexpand hello job and create new child jobs where each child job is specified tooexecute hello Transact-SQL script against an individual database in hello group.</span></span>
3. <span data-ttu-id="c1d5a-212">hello vezérlő gyermek feladatok létrehozott hello azonosítja.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-212">hello controller identifies hello created child jobs.</span></span> <span data-ttu-id="c1d5a-213">Az egyes feladatokhoz hello vezérlő hoz létre, és elindítja egy feladat tooexecute hello feladatparancsfájl adatbázis.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-213">For each job, hello controller creates and triggers a job task tooexecute hello script against a database.</span></span> 
4. <span data-ttu-id="c1d5a-214">Minden feladat feladat befejezése után hello vezérlő frissíti hello feladatok befejeződött tooa állapotát.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-214">After all job tasks have completed, hello controller updates hello jobs tooa completed state.</span></span> 
   <span data-ttu-id="c1d5a-215">Feladat végrehajtása során bármikor hello PowerShell API lehet használt tooview hello feladat végrehajtása aktuális állapotát.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-215">At any point during job execution, hello PowerShell API can be used tooview hello current state of job execution.</span></span> <span data-ttu-id="c1d5a-216">Az összes idő a PowerShell API-k jelennek meg az UTC hello által visszaadott.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-216">All times returned by hello PowerShell APIs are represented in UTC.</span></span> <span data-ttu-id="c1d5a-217">Ha szükséges, a lemondási kérelmet kezdeményezett toostop egy feladat lehet.</span><span class="sxs-lookup"><span data-stu-id="c1d5a-217">If desired, a cancellation request can be initiated toostop a job.</span></span> 

## <a name="next-steps"></a><span data-ttu-id="c1d5a-218">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="c1d5a-218">Next steps</span></span>
<span data-ttu-id="c1d5a-219">[Hello összetevőinek telepítése](sql-database-elastic-jobs-service-installation.md), majd [létrehozása és hozzáadása a napló a tooeach adatbázisban az adatbázisok csoportja hello](sql-database-manage-logins.md).</span><span class="sxs-lookup"><span data-stu-id="c1d5a-219">[Install hello components](sql-database-elastic-jobs-service-installation.md), then [create and add a log in tooeach database in hello group of databases](sql-database-manage-logins.md).</span></span> <span data-ttu-id="c1d5a-220">toofurther megérteni a feladat létrehozása és kezelése című [rugalmas adatbázis-feladatok létrehozását és kezelését](sql-database-elastic-jobs-create-and-manage.md).</span><span class="sxs-lookup"><span data-stu-id="c1d5a-220">toofurther understand job creation and management, see [creating and managing elastic database jobs](sql-database-elastic-jobs-create-and-manage.md).</span></span> <span data-ttu-id="c1d5a-221">Lásd még: [Ismerkedés a rugalmas feladatok](sql-database-elastic-jobs-getting-started.md).</span><span class="sxs-lookup"><span data-stu-id="c1d5a-221">See also [Getting started with Elastic Database jobs](sql-database-elastic-jobs-getting-started.md).</span></span>

[!INCLUDE [elastic-scale-include](../../includes/elastic-scale-include.md)]

<!--Image references-->
[1]: ./media/sql-database-elastic-jobs-overview/elastic-jobs.png
<!--anchors-->


