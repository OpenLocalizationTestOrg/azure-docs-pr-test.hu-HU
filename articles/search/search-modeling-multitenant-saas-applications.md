---
title: "Több vállalat kiszolgálása az Azure Search modellezési |} Microsoft Docs"
description: "További információk a közös tervminták több-bérlős SaaS-alkalmazásokhoz az Azure Search használata során."
services: search
manager: jhubbard
author: ashmaka
documentationcenter: 
ms.assetid: 72e9696a-553b-47dc-9e05-a82db0ebf094
ms.service: search
ms.devlang: NA
ms.workload: search
ms.topic: article
ms.tgt_pltfrm: na
ms.date: 10/26/2016
ms.author: ashmaka
ms.openlocfilehash: fd1b0c7cc8210d27fdc500bf4e5641bedfe93cff
ms.sourcegitcommit: f537befafb079256fba0529ee554c034d73f36b0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 07/11/2017
---
# <a name="design-patterns-for-multitenant-saas-applications-and-azure-search"></a><span data-ttu-id="44e11-103">A kialakítási minták a több-bérlős SaaS-alkalmazásokhoz és az Azure Search</span><span class="sxs-lookup"><span data-stu-id="44e11-103">Design patterns for multitenant SaaS applications and Azure Search</span></span>
<span data-ttu-id="44e11-104">Egy több-bérlős alkalmazás egyike, amellyel a bérlők számára nem látható, vagy semmilyen más bérlővel adatok megosztására tetszőleges számú szolgáltatások és képességei azonosak.</span><span class="sxs-lookup"><span data-stu-id="44e11-104">A multitenant application is one that provides the same services and capabilities to any number of tenants who cannot see or share the data of any other tenant.</span></span> <span data-ttu-id="44e11-105">Ez a dokumentum ismerteti a bérlő elkülönítési stratégiák több-bérlős alkalmazásokhoz az Azure Search beépített.</span><span class="sxs-lookup"><span data-stu-id="44e11-105">This document discusses tenant isolation strategies for multitenant applications built with Azure Search.</span></span>

## <a name="azure-search-concepts"></a><span data-ttu-id="44e11-106">Az Azure Search fogalmak</span><span class="sxs-lookup"><span data-stu-id="44e11-106">Azure Search concepts</span></span>
<span data-ttu-id="44e11-107">Keresés,--szolgáltatás megoldás az Azure Search lehetővé teszi a fejlesztők számára hatékony keresési lép adhat hozzá az alkalmazásokhoz bármilyen infrastruktúra kezelése és a keresési szakértő váljon nélkül.</span><span class="sxs-lookup"><span data-stu-id="44e11-107">As a search-as-a-service solution, Azure Search allows developers to add rich search experiences to applications without managing any infrastructure or becoming an expert in search.</span></span> <span data-ttu-id="44e11-108">Adatok feltöltődtek a szolgáltatásra, és a felhőben tárolt majd.</span><span class="sxs-lookup"><span data-stu-id="44e11-108">Data is uploaded to the service and then stored in the cloud.</span></span> <span data-ttu-id="44e11-109">Az Azure Search API egyszerű kérelmek használatával, az adatok majd módosíthatók és keres.</span><span class="sxs-lookup"><span data-stu-id="44e11-109">Using simple requests to the Azure Search API, the data can then be modified and searched.</span></span> <span data-ttu-id="44e11-110">A szolgáltatás áttekintése itt található: [Ez a cikk](http://aka.ms/whatisazsearch).</span><span class="sxs-lookup"><span data-stu-id="44e11-110">An overview of the service can be found in [this article](http://aka.ms/whatisazsearch).</span></span> <span data-ttu-id="44e11-111">Ismertetése kialakítási minta, előtt fontos tudni, hogy néhány olyan fogalmat, az Azure Search.</span><span class="sxs-lookup"><span data-stu-id="44e11-111">Before discussing design patterns, it is important to understand some concepts in Azure Search.</span></span>

### <a name="search-services-indexes-fields-and-documents"></a><span data-ttu-id="44e11-112">Keresési szolgáltatások, az indexek, a mezők és a dokumentumok</span><span class="sxs-lookup"><span data-stu-id="44e11-112">Search services, indexes, fields, and documents</span></span>
<span data-ttu-id="44e11-113">Azure Search használata esetén egy előfizet egy *keresési szolgáltatás*.</span><span class="sxs-lookup"><span data-stu-id="44e11-113">When using Azure Search, one subscribes to a *search service*.</span></span> <span data-ttu-id="44e11-114">Mivel adatokat tölt fel az Azure Search, tárolása pedig egy *index* belül a keresési szolgáltatást.</span><span class="sxs-lookup"><span data-stu-id="44e11-114">As data is uploaded to Azure Search, it is stored in an *index* within the search service.</span></span> <span data-ttu-id="44e11-115">Egy önálló szolgáltatásként az indexek száma lehet.</span><span class="sxs-lookup"><span data-stu-id="44e11-115">There can be a number of indexes within a single service.</span></span> <span data-ttu-id="44e11-116">Az ismerős fogalmakat adatbázisok használatához a közben a szolgáltatás az indexek is likened, adatbázisban lévő táblák adatbázishoz a keresési szolgáltatás is likened.</span><span class="sxs-lookup"><span data-stu-id="44e11-116">To use the familiar concepts of databases, the search service can be likened to a database while the indexes within a service can be likened to tables within a database.</span></span>

<span data-ttu-id="44e11-117">A keresési szolgáltatás belüli egyes index saját séma, testreszabható számos által definiált van *mezők*.</span><span class="sxs-lookup"><span data-stu-id="44e11-117">Each index within a search service has its own schema, which is defined by a number of customizable *fields*.</span></span> <span data-ttu-id="44e11-118">Adatok kerülnek az Azure Search-index egyéni formájában *dokumentumok*.</span><span class="sxs-lookup"><span data-stu-id="44e11-118">Data is added to an Azure Search index in the form of individual *documents*.</span></span> <span data-ttu-id="44e11-119">Minden egyes dokumentum egy adott index fel kell tölteni, és bele kell férnie a sémát, hogy indexeli.</span><span class="sxs-lookup"><span data-stu-id="44e11-119">Each document must be uploaded to a particular index and must fit that index's schema.</span></span> <span data-ttu-id="44e11-120">Azure Search használatával adatokat keres, ha a teljes szöveges keresési lekérdezések alapján egy adott index adják ki.</span><span class="sxs-lookup"><span data-stu-id="44e11-120">When searching data using Azure Search, the full-text search queries are issued against a particular index.</span></span>  <span data-ttu-id="44e11-121">Hasonlítsa össze ezeket a fogalmakat, az adatbázis, mezőket is likened, a tábla oszlopainak, és dokumentumokat is likened, sorokra.</span><span class="sxs-lookup"><span data-stu-id="44e11-121">To compare these concepts to those of a database, fields can be likened to columns in a table and documents can be likened to rows.</span></span>

### <a name="scalability"></a><span data-ttu-id="44e11-122">Méretezhetőség</span><span class="sxs-lookup"><span data-stu-id="44e11-122">Scalability</span></span>
<span data-ttu-id="44e11-123">Bármely Azure Search szolgáltatást, a standard [tarifacsomag](https://azure.microsoft.com/pricing/details/search/) méretezheti a két dimenziókban: tárolási és rendelkezésre állás.</span><span class="sxs-lookup"><span data-stu-id="44e11-123">Any Azure Search service in the Standard [pricing tier](https://azure.microsoft.com/pricing/details/search/) can scale in two dimensions: storage and availability.</span></span>

* <span data-ttu-id="44e11-124">*Partíciók* felveheti a search szolgáltatás a tároló növelése érdekében.</span><span class="sxs-lookup"><span data-stu-id="44e11-124">*Partitions* can be added to increase the storage of a search service.</span></span>
* <span data-ttu-id="44e11-125">*Replikák* adhatók hozzá egy szolgáltatás, amelyet egy keresési szolgáltatás kezelni tud a kapacitásának növelése érdekében.</span><span class="sxs-lookup"><span data-stu-id="44e11-125">*Replicas* can be added to a service to increase the throughput of requests that a search service can handle.</span></span>

<span data-ttu-id="44e11-126">Hozzáadása és eltávolítása a partíció, és a replikákról lehetővé teszi a kapacitás, a keresési szolgáltatást együtt adatok mennyiségét, és a forgalom az alkalmazás iránti igények kielégítése érdekében.</span><span class="sxs-lookup"><span data-stu-id="44e11-126">Adding and removing partitions and replicas at will allow the capacity of the search service to grow with the amount of data and traffic the application demands.</span></span> <span data-ttu-id="44e11-127">Ahhoz, hogy a keresési szolgáltatás eléréséhez, az olvasási [SLA](https://azure.microsoft.com/support/legal/sla/search/v1_0/), két replika van szükség.</span><span class="sxs-lookup"><span data-stu-id="44e11-127">In order for a search service to achieve a read [SLA](https://azure.microsoft.com/support/legal/sla/search/v1_0/), it requires two replicas.</span></span> <span data-ttu-id="44e11-128">Ahhoz, hogy a szolgáltatás eléréséhez, az olvasási és írási [SLA](https://azure.microsoft.com/support/legal/sla/search/v1_0/), három replikák van szükség.</span><span class="sxs-lookup"><span data-stu-id="44e11-128">In order for a service to achieve a read-write [SLA](https://azure.microsoft.com/support/legal/sla/search/v1_0/), it requires three replicas.</span></span>

### <a name="service-and-index-limits-in-azure-search"></a><span data-ttu-id="44e11-129">Az Azure Search szolgáltatás és az index korlátok</span><span class="sxs-lookup"><span data-stu-id="44e11-129">Service and index limits in Azure Search</span></span>
<span data-ttu-id="44e11-130">Nincsenek különböző néhány [tarifacsomagok](https://azure.microsoft.com/pricing/details/search/) az Azure Search, hogy a rétegek mindegyiknek különböző [korlátozásai és a kvóták](search-limits-quotas-capacity.md).</span><span class="sxs-lookup"><span data-stu-id="44e11-130">There are a few different [pricing tiers](https://azure.microsoft.com/pricing/details/search/) in Azure Search, each of the tiers has different [limits and quotas](search-limits-quotas-capacity.md).</span></span> <span data-ttu-id="44e11-131">Ezek a korlátozások némelyike a szolgáltatás szintjén, a index szintjén vannak, és a partíció szintjén vannak.</span><span class="sxs-lookup"><span data-stu-id="44e11-131">Some of these limits are at the service-level, some are at the index-level, and some are at the partition-level.</span></span>

|  | <span data-ttu-id="44e11-132">Basic</span><span class="sxs-lookup"><span data-stu-id="44e11-132">Basic</span></span> | <span data-ttu-id="44e11-133">Standard1</span><span class="sxs-lookup"><span data-stu-id="44e11-133">Standard1</span></span> | <span data-ttu-id="44e11-134">Standard2</span><span class="sxs-lookup"><span data-stu-id="44e11-134">Standard2</span></span> | <span data-ttu-id="44e11-135">Standard3</span><span class="sxs-lookup"><span data-stu-id="44e11-135">Standard3</span></span> | <span data-ttu-id="44e11-136">Standard3 HD</span><span class="sxs-lookup"><span data-stu-id="44e11-136">Standard3 HD</span></span> |
| --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="44e11-137">Maximális replikák-szolgáltatás</span><span class="sxs-lookup"><span data-stu-id="44e11-137">Maximum Replicas per Service</span></span> |<span data-ttu-id="44e11-138">3</span><span class="sxs-lookup"><span data-stu-id="44e11-138">3</span></span> |<span data-ttu-id="44e11-139">12</span><span class="sxs-lookup"><span data-stu-id="44e11-139">12</span></span> |<span data-ttu-id="44e11-140">12</span><span class="sxs-lookup"><span data-stu-id="44e11-140">12</span></span> |<span data-ttu-id="44e11-141">12</span><span class="sxs-lookup"><span data-stu-id="44e11-141">12</span></span> |<span data-ttu-id="44e11-142">12</span><span class="sxs-lookup"><span data-stu-id="44e11-142">12</span></span> |
| <span data-ttu-id="44e11-143">Maximális partícióból szolgáltatás</span><span class="sxs-lookup"><span data-stu-id="44e11-143">Maximum Partitions per Service</span></span> |<span data-ttu-id="44e11-144">1</span><span class="sxs-lookup"><span data-stu-id="44e11-144">1</span></span> |<span data-ttu-id="44e11-145">12</span><span class="sxs-lookup"><span data-stu-id="44e11-145">12</span></span> |<span data-ttu-id="44e11-146">12</span><span class="sxs-lookup"><span data-stu-id="44e11-146">12</span></span> |<span data-ttu-id="44e11-147">12</span><span class="sxs-lookup"><span data-stu-id="44e11-147">12</span></span> |<span data-ttu-id="44e11-148">1</span><span class="sxs-lookup"><span data-stu-id="44e11-148">1</span></span> |
| <span data-ttu-id="44e11-149">Maximális keresési egységek (replikák * partíciók) szolgáltatás</span><span class="sxs-lookup"><span data-stu-id="44e11-149">Maximum Search Units (Replicas*Partitions) per Service</span></span> |<span data-ttu-id="44e11-150">3</span><span class="sxs-lookup"><span data-stu-id="44e11-150">3</span></span> |<span data-ttu-id="44e11-151">36</span><span class="sxs-lookup"><span data-stu-id="44e11-151">36</span></span> |<span data-ttu-id="44e11-152">36</span><span class="sxs-lookup"><span data-stu-id="44e11-152">36</span></span> |<span data-ttu-id="44e11-153">36</span><span class="sxs-lookup"><span data-stu-id="44e11-153">36</span></span> |<span data-ttu-id="44e11-154">36 (legfeljebb 3 partíció)</span><span class="sxs-lookup"><span data-stu-id="44e11-154">36 (max 3 partitions)</span></span> |
| <span data-ttu-id="44e11-155">Maximális dokumentumok-szolgáltatás</span><span class="sxs-lookup"><span data-stu-id="44e11-155">Maximum Documents per Service</span></span> |<span data-ttu-id="44e11-156">1 millió</span><span class="sxs-lookup"><span data-stu-id="44e11-156">1 million</span></span> |<span data-ttu-id="44e11-157">180 millió</span><span class="sxs-lookup"><span data-stu-id="44e11-157">180 million</span></span> |<span data-ttu-id="44e11-158">720 millió</span><span class="sxs-lookup"><span data-stu-id="44e11-158">720 million</span></span> |<span data-ttu-id="44e11-159">1.4 milliárd</span><span class="sxs-lookup"><span data-stu-id="44e11-159">1.4 billion</span></span> |<span data-ttu-id="44e11-160">600 millió</span><span class="sxs-lookup"><span data-stu-id="44e11-160">600 million</span></span> |
| <span data-ttu-id="44e11-161">Maximális tárolási szolgáltatás</span><span class="sxs-lookup"><span data-stu-id="44e11-161">Maximum Storage per Service</span></span> |<span data-ttu-id="44e11-162">2 GB</span><span class="sxs-lookup"><span data-stu-id="44e11-162">2 GB</span></span> |<span data-ttu-id="44e11-163">300 GB</span><span class="sxs-lookup"><span data-stu-id="44e11-163">300 GB</span></span> |<span data-ttu-id="44e11-164">1,2 TB</span><span class="sxs-lookup"><span data-stu-id="44e11-164">1.2 TB</span></span> |<span data-ttu-id="44e11-165">2,4 TB</span><span class="sxs-lookup"><span data-stu-id="44e11-165">2.4 TB</span></span> |<span data-ttu-id="44e11-166">600 GB</span><span class="sxs-lookup"><span data-stu-id="44e11-166">600 GB</span></span> |
| <span data-ttu-id="44e11-167">Maximális dokumentumok partíciónként</span><span class="sxs-lookup"><span data-stu-id="44e11-167">Maximum Documents per Partition</span></span> |<span data-ttu-id="44e11-168">1 millió</span><span class="sxs-lookup"><span data-stu-id="44e11-168">1 million</span></span> |<span data-ttu-id="44e11-169">15 millió</span><span class="sxs-lookup"><span data-stu-id="44e11-169">15 million</span></span> |<span data-ttu-id="44e11-170">60 millió</span><span class="sxs-lookup"><span data-stu-id="44e11-170">60 million</span></span> |<span data-ttu-id="44e11-171">120 millió</span><span class="sxs-lookup"><span data-stu-id="44e11-171">120 million</span></span> |<span data-ttu-id="44e11-172">200 millió</span><span class="sxs-lookup"><span data-stu-id="44e11-172">200 million</span></span> |
| <span data-ttu-id="44e11-173">Maximális tárolási partíciónként</span><span class="sxs-lookup"><span data-stu-id="44e11-173">Maximum Storage per Partition</span></span> |<span data-ttu-id="44e11-174">2 GB</span><span class="sxs-lookup"><span data-stu-id="44e11-174">2 GB</span></span> |<span data-ttu-id="44e11-175">25 GB</span><span class="sxs-lookup"><span data-stu-id="44e11-175">25 GB</span></span> |<span data-ttu-id="44e11-176">100 GB</span><span class="sxs-lookup"><span data-stu-id="44e11-176">100 GB</span></span> |<span data-ttu-id="44e11-177">200 GB</span><span class="sxs-lookup"><span data-stu-id="44e11-177">200 GB</span></span> |<span data-ttu-id="44e11-178">200 GB</span><span class="sxs-lookup"><span data-stu-id="44e11-178">200 GB</span></span> |
| <span data-ttu-id="44e11-179">Maximális indexek-szolgáltatás</span><span class="sxs-lookup"><span data-stu-id="44e11-179">Maximum Indexes per Service</span></span> |<span data-ttu-id="44e11-180">5</span><span class="sxs-lookup"><span data-stu-id="44e11-180">5</span></span> |<span data-ttu-id="44e11-181">50</span><span class="sxs-lookup"><span data-stu-id="44e11-181">50</span></span> |<span data-ttu-id="44e11-182">200</span><span class="sxs-lookup"><span data-stu-id="44e11-182">200</span></span> |<span data-ttu-id="44e11-183">200</span><span class="sxs-lookup"><span data-stu-id="44e11-183">200</span></span> |<span data-ttu-id="44e11-184">3000 (legfeljebb 1000 indexek/partíció)</span><span class="sxs-lookup"><span data-stu-id="44e11-184">3000 (max 1000 indexes/partition)</span></span> |

#### <a name="s3-high-density"></a><span data-ttu-id="44e11-185">S3 Nagy sűrűségű "</span><span class="sxs-lookup"><span data-stu-id="44e11-185">S3 High Density'</span></span>
<span data-ttu-id="44e11-186">Az Azure Search S3 tarifacsomag van egy beállítást a kifejezetten a több-bérlős forgatókönyvek készült nagy sűrűségű (HD) mód.</span><span class="sxs-lookup"><span data-stu-id="44e11-186">In Azure Search’s S3 pricing tier, there is an option for the High Density (HD) mode designed specifically for multitenant scenarios.</span></span> <span data-ttu-id="44e11-187">Sok esetben az egyetlen szolgáltatásban történő elérése az egyszerűség és a költséghatékonyság hatékonyságát előnyei kisebb bérlők nagy számú támogatásához szükséges.</span><span class="sxs-lookup"><span data-stu-id="44e11-187">In many cases, it is necessary to support a large number of smaller tenants under a single service to achieve the benefits of simplicity and cost efficiency.</span></span>

<span data-ttu-id="44e11-188">S3 HD lehetővé teszi a sok kisméretű indexeit, hogy amelyet indexek lehetővé teszi a partíciók használatával további indexek egyetlen szolgáltatás futtatására, a szolgáltatás kereskedelmi egyetlen keresési szolgáltatás felügyelet alá kell csomagolni.</span><span class="sxs-lookup"><span data-stu-id="44e11-188">S3 HD allows for the many small indexes to be packed under the management of a single search service by trading the ability to scale out indexes using partitions for the ability to host more indexes in a single service.</span></span>

<span data-ttu-id="44e11-189">S3 szolgáltatásnak konkrétan, 1 és 200 indexek üzemeltető együtt sikerült legfeljebb 1.4 milliárd dokumentumok között lehet.</span><span class="sxs-lookup"><span data-stu-id="44e11-189">Concretely, an S3 service could have between 1 and 200 indexes that together could host up to 1.4 billion documents.</span></span> <span data-ttu-id="44e11-190">Egy S3 HD egyrészről lehetővé teszi az egyedi indexek csak go legfeljebb 1 millió dokumentumot, de legfeljebb 1000 indexek 200 millió partíciónként azoknak a teljes dokumentum számával (legfeljebb 3000 szolgáltatásonként) partíciónként is képes kezelni (legfeljebb 600 millió-szolgáltatás esetében).</span><span class="sxs-lookup"><span data-stu-id="44e11-190">An S3 HD on the other hand would allow individual indexes to only go up to 1 million documents, but it can handle up to 1000 indexes per partition (up to 3000 per service) with a total document count of 200 million per partition (up to 600 million per service).</span></span>

## <a name="considerations-for-multitenant-applications"></a><span data-ttu-id="44e11-191">Több-bérlős alkalmazásokhoz szempontjai</span><span class="sxs-lookup"><span data-stu-id="44e11-191">Considerations for multitenant applications</span></span>
<span data-ttu-id="44e11-192">Több-bérlős alkalmazásokhoz hatékonyan kell juttatnia erőforrások szétosztását a bérlők között a különböző bérlők adatvédelmi bizonyos fokú megőrzése mellett.</span><span class="sxs-lookup"><span data-stu-id="44e11-192">Multitenant applications must effectively distribute resources among the tenants while preserving some level of privacy between the various tenants.</span></span> <span data-ttu-id="44e11-193">Ilyen alkalmazás architektúrája tervezésekor, van néhány szempontok:</span><span class="sxs-lookup"><span data-stu-id="44e11-193">There are a few considerations when designing the architecture for such an application:</span></span>

* <span data-ttu-id="44e11-194">*Bérlők elkülönítésének:* alkalmazásfejlesztők kell annak érdekében, hogy nem a bérlők számára nem engedélyezett vagy nemkívánatos férhetnek hozzá az adatokhoz, a többi bérlő megfelelő intézkedéseket.</span><span class="sxs-lookup"><span data-stu-id="44e11-194">*Tenant isolation:* Application developers need to take appropriate measures to ensure that no tenants have unauthorized or unwanted access to the data of other tenants.</span></span> <span data-ttu-id="44e11-195">Az adatvédelem szempontjából, túl bérlői elkülönítési stratégiák a megosztott erőforrások és a védelmet a zajos szomszédok hatékony kezelése szükséges.</span><span class="sxs-lookup"><span data-stu-id="44e11-195">Beyond the perspective of data privacy, tenant isolation strategies require effective management of shared resources and protection from noisy neighbors.</span></span>
* <span data-ttu-id="44e11-196">*A felhő erőforrás költség:* módon és bármely alkalmazás, szoftveres megoldások költség versenyképes egy több-bérlős alkalmazás összetevőjeként kell maradnia.</span><span class="sxs-lookup"><span data-stu-id="44e11-196">*Cloud resource cost:* As with any other application, software solutions must remain cost competitive as a component of a multitenant application.</span></span>
* <span data-ttu-id="44e11-197">*Műveletek a könnyű:* a több-bérlős architektúrák fejleszt, amikor az alkalmazás műveleteket és összetettsége szempontjából fontos szempont.</span><span class="sxs-lookup"><span data-stu-id="44e11-197">*Ease of Operations:* When developing a multitenant architecture, the impact on the application's operations and complexity is an important consideration.</span></span> <span data-ttu-id="44e11-198">Az Azure Search rendelkezik egy [99,9 %-os SLA](https://azure.microsoft.com/support/legal/sla/search/v1_0/).</span><span class="sxs-lookup"><span data-stu-id="44e11-198">Azure Search has a [99.9% SLA](https://azure.microsoft.com/support/legal/sla/search/v1_0/).</span></span>
* <span data-ttu-id="44e11-199">*Globális erőforrásigényét:* több-Bérlős alkalmazások esetleg hatékonyan a bérlők számára, amely a világ különböző pontjain kiszolgálásához.</span><span class="sxs-lookup"><span data-stu-id="44e11-199">*Global footprint:* Multitenant applications may need to effectively serve tenants which are distributed across the globe.</span></span>
* <span data-ttu-id="44e11-200">*Méretezhetőség:* alkalmazásfejlesztők figyelembe kell vennie, hogyan azok egyeztetése közötti alkalmazás összetettségi elég alacsony szintű karbantartásáért, valamint a bérlők számának és a bérlők adatok méretét a skálázandó alkalmazás tervezése és munkaterhelés.</span><span class="sxs-lookup"><span data-stu-id="44e11-200">*Scalability:* Application developers need to consider how they reconcile between maintaining a sufficiently low level of application complexity and designing the application to scale with number of tenants and the size of tenants' data and workload.</span></span>

<span data-ttu-id="44e11-201">Az Azure Search kínál néhány határok bérlők adatok és a terhelést elkülönítéséhez használható.</span><span class="sxs-lookup"><span data-stu-id="44e11-201">Azure Search offers a few boundaries that can be used to isolate tenants’ data and workload.</span></span>

## <a name="modeling-multitenancy-with-azure-search"></a><span data-ttu-id="44e11-202">Több vállalat kiszolgálása az Azure Search modellezési</span><span class="sxs-lookup"><span data-stu-id="44e11-202">Modeling multitenancy with Azure Search</span></span>
<span data-ttu-id="44e11-203">Egy több-bérlős forgatókönyv esetén az alkalmazás fejlesztőjének egy vagy több keresési szolgáltatást használ, és osztani a bérlők között a szolgáltatások, indexeket, vagy mindkettőt.</span><span class="sxs-lookup"><span data-stu-id="44e11-203">In the case of a multitenant scenario, the application developer consumes one or more search services and divide their tenants among services, indexes, or both.</span></span> <span data-ttu-id="44e11-204">Az Azure Search rendelkezik néhány gyakori minták a modellezési egy több-bérlős forgatókönyv:</span><span class="sxs-lookup"><span data-stu-id="44e11-204">Azure Search has a few common patterns when modeling a multitenant scenario:</span></span>

1. <span data-ttu-id="44e11-205">*Bérlőnként index:* mindegyik bérlő rendelkezik egy keresési szolgáltatáson belül, amely más bérlők meg van osztva a saját index.</span><span class="sxs-lookup"><span data-stu-id="44e11-205">*Index per tenant:* Each tenant has its own index within a search service that is shared with other tenants.</span></span>
2. <span data-ttu-id="44e11-206">*Bérlőnként szolgáltatás:* mindegyik bérlő rendelkezik saját dedikált Azure Search szolgáltatással, adatokat és a munkaterhelések elkülönítése legmagasabb szintű kínál.</span><span class="sxs-lookup"><span data-stu-id="44e11-206">*Service per tenant:* Each tenant has its own dedicated Azure Search service, offering highest level of data and workload separation.</span></span>
3. <span data-ttu-id="44e11-207">*Mindkét vegyesen:* nagyobb, a több aktív bérlők rendelt dedikált szolgáltatások, amíg kisebb bérlők megosztott szolgáltatások az egyedi indexek vannak rendelve.</span><span class="sxs-lookup"><span data-stu-id="44e11-207">*Mix of both:* Larger, more-active tenants are assigned dedicated services while smaller tenants are assigned individual indexes within shared services.</span></span>

## <a name="1-index-per-tenant"></a><span data-ttu-id="44e11-208">1. Bérlőnként index</span><span class="sxs-lookup"><span data-stu-id="44e11-208">1. Index per tenant</span></span>
![Az index egyes bérlői modell egy portrayal](./media/search-modeling-multitenant-saas-applications/azure-search-index-per-tenant.png)

<span data-ttu-id="44e11-210">Az index egyes bérlői modell több bérlő helyezkednek el egyetlen Azure Search szolgáltatás ahol mindegyik bérlő rendelkezik saját index.</span><span class="sxs-lookup"><span data-stu-id="44e11-210">In an index-per-tenant model, multiple tenants occupy a single Azure Search service where each tenant has their own index.</span></span>

<span data-ttu-id="44e11-211">Bérlők adatok elkülönítési érhető el, mert minden keresési kérelmeket, és az Azure Search index szinten kiállított dokumentum műveletek.</span><span class="sxs-lookup"><span data-stu-id="44e11-211">Tenants achieve data isolation because all search requests and document operations are issued at an index level in Azure Search.</span></span> <span data-ttu-id="44e11-212">Az alkalmazási rétegre van a szükséges tájékoztatási át tudja irányítani a forgalmat a különböző bérlők a megfelelő indexek miközben is erőforrásokat érhet el a szolgáltatási szint összes bérlők között.</span><span class="sxs-lookup"><span data-stu-id="44e11-212">In the application layer, there is the need awareness to direct the various tenants’ traffic to the proper indexes while also managing resources at the service level across all tenants.</span></span>

<span data-ttu-id="44e11-213">Az index egyes bérlői modell kulcsattribútum azt a képességet az alkalmazás fejlesztő oversubscribe a kapacitás, a search szolgáltatás, az alkalmazás bérlők között.</span><span class="sxs-lookup"><span data-stu-id="44e11-213">A key attribute of the index-per-tenant model is the ability for the application developer to oversubscribe the capacity of a search service among the application’s tenants.</span></span> <span data-ttu-id="44e11-214">Ha a bérlők munkaterhelési eloszlása egyenletlen rendelkezik, a bérlők optimális kombinációja be legyen-e elosztva a keresési szolgáltatás indexek nagyon aktív, az erőforrás-igényes bérlők számos olyan közben egyszerre egy hosszú utóhívás kisebb aktív bérlők.</span><span class="sxs-lookup"><span data-stu-id="44e11-214">If the tenants have an uneven distribution of workload, the optimal combination of tenants can be distributed across a search service’s indexes to accommodate a number of highly active, resource-intensive tenants while simultaneously serving a long tail of less active tenants.</span></span> <span data-ttu-id="44e11-215">A kompromisszum a modell nem kezeli az olyan helyzetekben, ahol mindegyik bérlő egyidejű nagyon aktív.</span><span class="sxs-lookup"><span data-stu-id="44e11-215">The trade-off is the inability of the model to handle situations where each tenant is concurrently highly active.</span></span>

<span data-ttu-id="44e11-216">Az index-/-bérlős modell alapjául szolgáló változó költség modell, ahol az egész Azure Search szolgáltatást vásárolt kezdeti és majd ezt követően feltölti a bérlők számára.</span><span class="sxs-lookup"><span data-stu-id="44e11-216">The index-per-tenant model provides the basis for a variable cost model, where an entire Azure Search service is bought up-front and then subsequently filled with tenants.</span></span> <span data-ttu-id="44e11-217">Ez lehetővé teszi a nem használt kapacitás kísérletek és ingyenes fiókot kell kijelölni.</span><span class="sxs-lookup"><span data-stu-id="44e11-217">This allows for unused capacity to be designated for trials and free accounts.</span></span>

<span data-ttu-id="44e11-218">Globális tárhely-alkalmazások esetében az index-/-bérlős modell nem lehet a leghatékonyabb.</span><span class="sxs-lookup"><span data-stu-id="44e11-218">For applications with a global footprint, the index-per-tenant model may not be the most efficient.</span></span> <span data-ttu-id="44e11-219">Ha egy alkalmazás bérlők a világ különböző pontjain, akkor egy külön szolgáltatási mindegyik régióhoz, amely előfordulhat, hogy duplikálja költségek azok szükség lehet.</span><span class="sxs-lookup"><span data-stu-id="44e11-219">If an application's tenants are distributed across the globe, a separate service may be necessary for each region which may duplicate costs across each of them.</span></span>

<span data-ttu-id="44e11-220">Az Azure Search lehetővé teszi, hogy a skála az egyedi indexek és indexek száma nő.</span><span class="sxs-lookup"><span data-stu-id="44e11-220">Azure Search allows for the scale of both the individual indexes and the total number of indexes to grow.</span></span> <span data-ttu-id="44e11-221">Ha egy megfelelő árképzési szint van kiválasztva, partíciókat és a replikák is hozzáadhatók a teljes keresési szolgáltatást, ha a szolgáltatáson belül egyedi index növekedésének storage vagy a forgalom túl nagy.</span><span class="sxs-lookup"><span data-stu-id="44e11-221">If an appropriate pricing tier is chosen, partitions and replicas can be added to the entire search service when an individual index within the service grows too large in terms of storage or traffic.</span></span>

<span data-ttu-id="44e11-222">Indexek száma túl nagy az egyetlen szolgáltatás növekszik, ha egy másik szolgáltatást ki kell létrehozni, hogy megfeleljen az új bérlők számára.</span><span class="sxs-lookup"><span data-stu-id="44e11-222">If the total number of indexes grows too large for a single service, another service has to be provisioned to accommodate the new tenants.</span></span> <span data-ttu-id="44e11-223">Ha indexek, az új szolgáltatással bővül keresési szolgáltatások közötti áthelyezésének, az adatokat az indexből kézzel átmásolni egy index a másikra, az Azure Search nem teszi lehetővé egy olyan indexnél, az áthelyezendő rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="44e11-223">If indexes have to be moved between search services as new services are added, the data from the index has to be manually copied from one index to the other as Azure Search does not allow for an index to be moved.</span></span>

## <a name="2-service-per-tenant"></a><span data-ttu-id="44e11-224">2. Bérlőnként szolgáltatás</span><span class="sxs-lookup"><span data-stu-id="44e11-224">2. Service per tenant</span></span>
![A szolgáltatás egy bérlő modell egy portrayal](./media/search-modeling-multitenant-saas-applications/azure-search-service-per-tenant.png)

<span data-ttu-id="44e11-226">A szolgáltatás-/-bérlős architektúrák mindegyik bérlő saját keresési szolgáltatás rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="44e11-226">In a service-per-tenant architecture, each tenant has its own search service.</span></span>

<span data-ttu-id="44e11-227">Ebben a modellben az alkalmazás eléri-e a legnagyobb szintű a bérlők elszigetelését.</span><span class="sxs-lookup"><span data-stu-id="44e11-227">In this model, the application achieves the maximum level of isolation for its tenants.</span></span> <span data-ttu-id="44e11-228">Minden szolgáltatás van dedikált, tárolási és átviteli sebesség kezelésére keresési kérelmet, valamint a külön API-kulcsokat.</span><span class="sxs-lookup"><span data-stu-id="44e11-228">Each service has dedicated storage and throughput for handling search request as well as separate API keys.</span></span>

<span data-ttu-id="44e11-229">Ahol mindegyik bérlő rendelkezik egy nagy méretű tárhely, vagy a munkaterhelés kevés variancia bérlő bérlői alkalmazások a szolgáltatás egy bérlő modell tényleges választási esetén, mert erőforrások megosztása nem különböző bérlők munkaterhelések között.</span><span class="sxs-lookup"><span data-stu-id="44e11-229">For applications where each tenant has a large footprint or the workload has little variability from tenant to tenant, the service-per-tenant model is an effective choice as resources are not shared across various tenants’ workloads.</span></span>

<span data-ttu-id="44e11-230">A szolgáltatás egyes bérlői modellek egy előre jelezhető, rögzített költség modell előnyeit is biztosít.</span><span class="sxs-lookup"><span data-stu-id="44e11-230">A service per tenant model also offers the benefit of a predictable, fixed cost model.</span></span> <span data-ttu-id="44e11-231">Nincs teljes keresési szolgáltatásnak a kezdeti beruházást van addig, amíg nincs egy bérlőt, töltse ki, azonban a költség-/-bérlő értéke magasabb, mint az index egyes bérlői modell.</span><span class="sxs-lookup"><span data-stu-id="44e11-231">There is no up-front investment in an entire search service until there is a tenant to fill it, however the cost-per-tenant is higher than an index-per-tenant model.</span></span>

<span data-ttu-id="44e11-232">A szolgáltatás egy bérlő modell esetén egy globális tárhely alkalmazások hatékony választani.</span><span class="sxs-lookup"><span data-stu-id="44e11-232">The service-per-tenant model is an efficient choice for applications with a global footprint.</span></span> <span data-ttu-id="44e11-233">Földrajzilag elosztott bérlők egyszerűen mindegyik bérlő szolgáltatás a megfelelő régióban.</span><span class="sxs-lookup"><span data-stu-id="44e11-233">With geographically-distributed tenants, it is easy to have each tenant's service in the appropriate region.</span></span>

<span data-ttu-id="44e11-234">Ebben a mintában skálázás kihívás merülhetnek fel, ha az egyes bérlők elszaporodó a szolgáltatás.</span><span class="sxs-lookup"><span data-stu-id="44e11-234">The challenges in scaling this pattern arise when individual tenants outgrow their service.</span></span> <span data-ttu-id="44e11-235">Az Azure Search jelenleg nem támogatja a tarifacsomagot a keresési szolgáltatás frissítésével összes adatot kell kézzel átmásolni egy új szolgáltatás.</span><span class="sxs-lookup"><span data-stu-id="44e11-235">Azure Search does not currently support upgrading the pricing tier of a search service, so all data would have to be manually copied to a new service.</span></span>

## <a name="3-mixing-both-models"></a><span data-ttu-id="44e11-236">3. Mindkét modellt keverése</span><span class="sxs-lookup"><span data-stu-id="44e11-236">3. Mixing both models</span></span>
<span data-ttu-id="44e11-237">Több vállalat kiszolgálása modellezési egy másik mintát index / bérlői és a szolgáltatás egy bérlő stratégiák van keverése.</span><span class="sxs-lookup"><span data-stu-id="44e11-237">Another pattern for modeling multitenancy is mixing both index-per-tenant and service-per-tenant strategies.</span></span>

<span data-ttu-id="44e11-238">A két mintát úgy, egy alkalmazás legnagyobb bérlők lefoglalhatja dedikált szolgáltatások közben kevésbé aktív, kisebb bérlők hosszú végének indexek lefoglalhatja a megosztott szolgáltatás.</span><span class="sxs-lookup"><span data-stu-id="44e11-238">By mixing the two patterns, an application's largest tenants can occupy dedicated services while the long tail of less active, smaller tenants can occupy indexes in a shared service.</span></span> <span data-ttu-id="44e11-239">Ez a modell biztosítja, hogy a legnagyobb bérlők következetesen nagy teljesítményű szolgáltatásból elősegítik a kisebb bérlők bármely zajos szomszédok elleni védelméhez.</span><span class="sxs-lookup"><span data-stu-id="44e11-239">This model ensures that the largest tenants have consistently high performance from the service while helping to protect the smaller tenants from any noisy neighbors.</span></span>

<span data-ttu-id="44e11-240">Azonban ezt a stratégiát végrehajtási támaszkodik előrelátás előrejelzésére, mely a bérlők egy dedikált szolgáltatás vagy egy megosztott szolgáltatás indexe van szükség.</span><span class="sxs-lookup"><span data-stu-id="44e11-240">However, implementing this strategy relies foresight in predicting which tenants will require a dedicated service versus an index in a shared service.</span></span> <span data-ttu-id="44e11-241">Alkalmazás összetettségét növeli a kell a több-bérlős modell kezeléséhez.</span><span class="sxs-lookup"><span data-stu-id="44e11-241">Application complexity increases with the need to manage both of these multitenancy models.</span></span>

## <a name="achieving-even-finer-granularity"></a><span data-ttu-id="44e11-242">Még nagyobb részletességgel elérése</span><span class="sxs-lookup"><span data-stu-id="44e11-242">Achieving even finer granularity</span></span>
<span data-ttu-id="44e11-243">A fenti kialakítási minta a következő modellre: több-bérlős forgatókönyvek az Azure Search azt feltételezik, hogy az alkalmazás teljes példánya esetén az egyes bérlők egységes hatókör.</span><span class="sxs-lookup"><span data-stu-id="44e11-243">The above design patterns to model multitenant scenarios in Azure Search assume a uniform scope where each tenant is a whole instance of an application.</span></span> <span data-ttu-id="44e11-244">Alkalmazások azonban néha kezelik a sok kisebb hatókörét.</span><span class="sxs-lookup"><span data-stu-id="44e11-244">However, applications can sometimes handle many smaller scopes.</span></span>

<span data-ttu-id="44e11-245">Ha a szolgáltatás-/-bérlők és az index / bérlői modellek nem elég hatókörök, egy granularitási még nagyobb fokú eléréséhez index modellezésére.</span><span class="sxs-lookup"><span data-stu-id="44e11-245">If service-per-tenant and index-per-tenant models are not sufficiently small scopes, it is possible to model an index to achieve an even finer degree of granularity.</span></span>

<span data-ttu-id="44e11-246">Ahhoz, hogy egy egyetlen index a különböző ügyfél-végpontok eltérően viselkednek, egy mezőt az indexbe, amely a megadott érték közötti minden lehetséges ügyfél is hozzáadhatók.</span><span class="sxs-lookup"><span data-stu-id="44e11-246">To have a single index behave differently for different client endpoints, a field can be added to an index which designates a certain value for each possible client.</span></span> <span data-ttu-id="44e11-247">Minden alkalommal, amikor az ügyfél meghívja az Azure Search lekérdezni, vagy módosíthatja az indexet, a kódot az ügyfélalkalmazás határozza meg a megfelelő értéket a Azure keresési mező [szűrő](https://msdn.microsoft.com/library/azure/dn798921.aspx) időben funkció.</span><span class="sxs-lookup"><span data-stu-id="44e11-247">Each time a client calls Azure Search to query or modify an index, the code from the client application specifies the appropriate value for that field using Azure Search's [filter](https://msdn.microsoft.com/library/azure/dn798921.aspx) capability at query time.</span></span>

<span data-ttu-id="44e11-248">Ez a módszer külön felhasználói fiókok, külön jogosultsági szintek funkció eléréséhez használható, és akár teljesen különálló alkalmazások.</span><span class="sxs-lookup"><span data-stu-id="44e11-248">This method can be used to achieve functionality of separate user accounts, separate permission levels, and even completely separate applications.</span></span>

> [!NOTE]
> <span data-ttu-id="44e11-249">A fent leírt megközelítéssel több bérlő kiszolgálására egyetlen index konfigurálása befolyásolja az keresési eredmények.</span><span class="sxs-lookup"><span data-stu-id="44e11-249">Using the approach described above to configure a single index to serve multiple tenants affects the relevance of search results.</span></span> <span data-ttu-id="44e11-250">Keresési relevanciájának pontszámok arra az esetre vonatkoznak egy index szintű hatókörben, nem bérlői szintű hatókör, így egyetlen bérlő számára adatokat a relevanciájának pontszámok alapul szolgáló statisztikákról, például a kifejezés gyakoriság van beépítve.</span><span class="sxs-lookup"><span data-stu-id="44e11-250">Search relevance scores are computed at an index-level scope, not a tenant-level scope, so all tenants' data is incorporated in the relevance scores' underlying statistics such as term frequency.</span></span>
> 
> 

## <a name="next-steps"></a><span data-ttu-id="44e11-251">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="44e11-251">Next steps</span></span>
<span data-ttu-id="44e11-252">Az Azure Search esetén számos alkalmazás kényszerítő választani [a szolgáltatás robusztus képességeivel kapcsolatos további](http://aka.ms/whatisazsearch).</span><span class="sxs-lookup"><span data-stu-id="44e11-252">Azure Search is a compelling choice for many applications, [read more about the service's robust capabilities](http://aka.ms/whatisazsearch).</span></span> <span data-ttu-id="44e11-253">A különböző tervminták több-bérlős alkalmazások kiértékelését végzi, vegye figyelembe a [különböző árképzési szinteket](https://azure.microsoft.com/pricing/details/search/) és a megfelelő [szolgáltatási korlátait](search-limits-quotas-capacity.md) legjobb személyessé tétele az Azure Search alkalmazás megfelelően munkaterhelések és különböző méretű architektúráinak megfelelően.</span><span class="sxs-lookup"><span data-stu-id="44e11-253">When evaluating the various design patterns for multitenant applications, consider the [various pricing tiers](https://azure.microsoft.com/pricing/details/search/) and the respective [service limits](search-limits-quotas-capacity.md) to best tailor Azure Search to fit application workloads and architectures of all sizes.</span></span>

<span data-ttu-id="44e11-254">Bármely kérdések az Azure Search és a több-bérlős forgatókönyvek irányítható azuresearch_contact@microsoft.com.</span><span class="sxs-lookup"><span data-stu-id="44e11-254">Any questions about Azure Search and multitenant scenarios can be directed to azuresearch_contact@microsoft.com.</span></span>

