---
title: "több vállalat kiszolgálása az Azure Search aaaModeling |} Microsoft Docs"
description: "További információk a közös tervminták több-bérlős SaaS-alkalmazásokhoz az Azure Search használata során."
services: search
manager: jhubbard
author: ashmaka
documentationcenter: 
ms.assetid: 72e9696a-553b-47dc-9e05-a82db0ebf094
ms.service: search
ms.devlang: NA
ms.workload: search
ms.topic: article
ms.tgt_pltfrm: na
ms.date: 10/26/2016
ms.author: ashmaka
ms.openlocfilehash: dd46cda772d32566b9aaa18d407f12fdf178bd43
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="design-patterns-for-multitenant-saas-applications-and-azure-search"></a><span data-ttu-id="fadd1-103">A kialakítási minták a több-bérlős SaaS-alkalmazásokhoz és az Azure Search</span><span class="sxs-lookup"><span data-stu-id="fadd1-103">Design patterns for multitenant SaaS applications and Azure Search</span></span>
<span data-ttu-id="fadd1-104">Egy több-bérlős alkalmazás egyike hello biztosító szolgáltatásokat és képességeket tooany ugyanannyi bérlők számára nem látható, vagy a semmilyen más bérlővel hello adatmegosztásra.</span><span class="sxs-lookup"><span data-stu-id="fadd1-104">A multitenant application is one that provides hello same services and capabilities tooany number of tenants who cannot see or share hello data of any other tenant.</span></span> <span data-ttu-id="fadd1-105">Ez a dokumentum ismerteti a bérlő elkülönítési stratégiák több-bérlős alkalmazásokhoz az Azure Search beépített.</span><span class="sxs-lookup"><span data-stu-id="fadd1-105">This document discusses tenant isolation strategies for multitenant applications built with Azure Search.</span></span>

## <a name="azure-search-concepts"></a><span data-ttu-id="fadd1-106">Az Azure Search fogalmak</span><span class="sxs-lookup"><span data-stu-id="fadd1-106">Azure Search concepts</span></span>
<span data-ttu-id="fadd1-107">Keresés,--szolgáltatás megoldásként Azure Search lehetővé teszi a fejlesztők tooadd hatékony keresési tooapplications észlel bármilyen infrastruktúra kezelése és a keresési szakértő váljon nélkül.</span><span class="sxs-lookup"><span data-stu-id="fadd1-107">As a search-as-a-service solution, Azure Search allows developers tooadd rich search experiences tooapplications without managing any infrastructure or becoming an expert in search.</span></span> <span data-ttu-id="fadd1-108">Adatok feltöltése toohello szolgáltatás, és majd hello felhőben tárolt.</span><span class="sxs-lookup"><span data-stu-id="fadd1-108">Data is uploaded toohello service and then stored in hello cloud.</span></span> <span data-ttu-id="fadd1-109">Egyszerű kérelmek toohello Azure Search API használatával, hello adatok majd módosíthatók és keres.</span><span class="sxs-lookup"><span data-stu-id="fadd1-109">Using simple requests toohello Azure Search API, hello data can then be modified and searched.</span></span> <span data-ttu-id="fadd1-110">Hello szolgáltatás áttekintése itt található: [Ez a cikk](http://aka.ms/whatisazsearch).</span><span class="sxs-lookup"><span data-stu-id="fadd1-110">An overview of hello service can be found in [this article](http://aka.ms/whatisazsearch).</span></span> <span data-ttu-id="fadd1-111">Ismertetése előtt kialakítási minta, fontos fontos toounderstand néhány olyan fogalmat, az Azure Search.</span><span class="sxs-lookup"><span data-stu-id="fadd1-111">Before discussing design patterns, it is important toounderstand some concepts in Azure Search.</span></span>

### <a name="search-services-indexes-fields-and-documents"></a><span data-ttu-id="fadd1-112">Keresési szolgáltatások, az indexek, a mezők és a dokumentumok</span><span class="sxs-lookup"><span data-stu-id="fadd1-112">Search services, indexes, fields, and documents</span></span>
<span data-ttu-id="fadd1-113">Azure Search használata esetén egy előfizet tooa *keresési szolgáltatás*.</span><span class="sxs-lookup"><span data-stu-id="fadd1-113">When using Azure Search, one subscribes tooa *search service*.</span></span> <span data-ttu-id="fadd1-114">Mert adatai feltöltött tooAzure keresési, tárolása pedig egy *index* hello keresési szolgáltatáson belül.</span><span class="sxs-lookup"><span data-stu-id="fadd1-114">As data is uploaded tooAzure Search, it is stored in an *index* within hello search service.</span></span> <span data-ttu-id="fadd1-115">Egy önálló szolgáltatásként az indexek száma lehet.</span><span class="sxs-lookup"><span data-stu-id="fadd1-115">There can be a number of indexes within a single service.</span></span> <span data-ttu-id="fadd1-116">toouse hello ismerős fogalmai adatbázisok hello keresési szolgáltatás lehet likened tooa adatbázis szolgáltatás hello az indexek adatbázisban lévő likened tootables lehetnek.</span><span class="sxs-lookup"><span data-stu-id="fadd1-116">toouse hello familiar concepts of databases, hello search service can be likened tooa database while hello indexes within a service can be likened tootables within a database.</span></span>

<span data-ttu-id="fadd1-117">A keresési szolgáltatás belüli egyes index saját séma, testreszabható számos által definiált van *mezők*.</span><span class="sxs-lookup"><span data-stu-id="fadd1-117">Each index within a search service has its own schema, which is defined by a number of customizable *fields*.</span></span> <span data-ttu-id="fadd1-118">Adatok kerülnek tooan Azure Search-index hello képernyőn egyéni *dokumentumok*.</span><span class="sxs-lookup"><span data-stu-id="fadd1-118">Data is added tooan Azure Search index in hello form of individual *documents*.</span></span> <span data-ttu-id="fadd1-119">Minden egyes dokumentum feltöltött tooa adott index kell lennie, és bele kell férnie a sémát, hogy indexeli.</span><span class="sxs-lookup"><span data-stu-id="fadd1-119">Each document must be uploaded tooa particular index and must fit that index's schema.</span></span> <span data-ttu-id="fadd1-120">Azure Search használatával adatok keresésekor hello teljes szöveges keresési lekérdezések alapján egy adott index adják ki.</span><span class="sxs-lookup"><span data-stu-id="fadd1-120">When searching data using Azure Search, hello full-text search queries are issued against a particular index.</span></span>  <span data-ttu-id="fadd1-121">toocompare ezen fogalmakat toothose adatbázis mezők lehet likened toocolumns egy tábla, és dokumentumokat likened toorows lehet.</span><span class="sxs-lookup"><span data-stu-id="fadd1-121">toocompare these concepts toothose of a database, fields can be likened toocolumns in a table and documents can be likened toorows.</span></span>

### <a name="scalability"></a><span data-ttu-id="fadd1-122">Méretezhetőség</span><span class="sxs-lookup"><span data-stu-id="fadd1-122">Scalability</span></span>
<span data-ttu-id="fadd1-123">Bármely Azure Search szolgáltatást, a hello Standard [tarifacsomag](https://azure.microsoft.com/pricing/details/search/) méretezheti a két dimenziókban: tárolási és rendelkezésre állás.</span><span class="sxs-lookup"><span data-stu-id="fadd1-123">Any Azure Search service in hello Standard [pricing tier](https://azure.microsoft.com/pricing/details/search/) can scale in two dimensions: storage and availability.</span></span>

* <span data-ttu-id="fadd1-124">*Partíciók* tooincrease hello tárolása egy keresési szolgáltatás lehet hozzáadni.</span><span class="sxs-lookup"><span data-stu-id="fadd1-124">*Partitions* can be added tooincrease hello storage of a search service.</span></span>
* <span data-ttu-id="fadd1-125">*Replikák* tooa szolgáltatás tooincrease hello kapacitásának kezelni tud a keresési szolgáltatás lehet hozzáadni.</span><span class="sxs-lookup"><span data-stu-id="fadd1-125">*Replicas* can be added tooa service tooincrease hello throughput of requests that a search service can handle.</span></span>

<span data-ttu-id="fadd1-126">Hozzáadása és eltávolítása a partíciókat és a replikákról lehetővé teszi hello keresési szolgáltatás toogrow hello mennyiségű adat és a forgalom hello terhelésekig hello kapacitását.</span><span class="sxs-lookup"><span data-stu-id="fadd1-126">Adding and removing partitions and replicas at will allow hello capacity of hello search service toogrow with hello amount of data and traffic hello application demands.</span></span> <span data-ttu-id="fadd1-127">A rendezés egy keresési szolgáltatás tooachieve az olvasási [SLA](https://azure.microsoft.com/support/legal/sla/search/v1_0/), két replika van szükség.</span><span class="sxs-lookup"><span data-stu-id="fadd1-127">In order for a search service tooachieve a read [SLA](https://azure.microsoft.com/support/legal/sla/search/v1_0/), it requires two replicas.</span></span> <span data-ttu-id="fadd1-128">A rendezés egy szolgáltatás tooachieve az olvasási és írási [SLA](https://azure.microsoft.com/support/legal/sla/search/v1_0/), három replikák van szükség.</span><span class="sxs-lookup"><span data-stu-id="fadd1-128">In order for a service tooachieve a read-write [SLA](https://azure.microsoft.com/support/legal/sla/search/v1_0/), it requires three replicas.</span></span>

### <a name="service-and-index-limits-in-azure-search"></a><span data-ttu-id="fadd1-129">Az Azure Search szolgáltatás és az index korlátok</span><span class="sxs-lookup"><span data-stu-id="fadd1-129">Service and index limits in Azure Search</span></span>
<span data-ttu-id="fadd1-130">Nincsenek különböző néhány [tarifacsomagok](https://azure.microsoft.com/pricing/details/search/) az Azure Search hello rétegek mindegyikén különböző [korlátozásai és a kvóták](search-limits-quotas-capacity.md).</span><span class="sxs-lookup"><span data-stu-id="fadd1-130">There are a few different [pricing tiers](https://azure.microsoft.com/pricing/details/search/) in Azure Search, each of hello tiers has different [limits and quotas](search-limits-quotas-capacity.md).</span></span> <span data-ttu-id="fadd1-131">Ezek a korlátozások némelyike: hello szolgáltatásiszint-, némelyek hello index-szinten, és hello partíció-szintjén vannak.</span><span class="sxs-lookup"><span data-stu-id="fadd1-131">Some of these limits are at hello service-level, some are at hello index-level, and some are at hello partition-level.</span></span>

|  | <span data-ttu-id="fadd1-132">Basic</span><span class="sxs-lookup"><span data-stu-id="fadd1-132">Basic</span></span> | <span data-ttu-id="fadd1-133">Standard1</span><span class="sxs-lookup"><span data-stu-id="fadd1-133">Standard1</span></span> | <span data-ttu-id="fadd1-134">Standard2</span><span class="sxs-lookup"><span data-stu-id="fadd1-134">Standard2</span></span> | <span data-ttu-id="fadd1-135">Standard3</span><span class="sxs-lookup"><span data-stu-id="fadd1-135">Standard3</span></span> | <span data-ttu-id="fadd1-136">Standard3 HD</span><span class="sxs-lookup"><span data-stu-id="fadd1-136">Standard3 HD</span></span> |
| --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="fadd1-137">Maximális replikák-szolgáltatás</span><span class="sxs-lookup"><span data-stu-id="fadd1-137">Maximum Replicas per Service</span></span> |<span data-ttu-id="fadd1-138">3</span><span class="sxs-lookup"><span data-stu-id="fadd1-138">3</span></span> |<span data-ttu-id="fadd1-139">12</span><span class="sxs-lookup"><span data-stu-id="fadd1-139">12</span></span> |<span data-ttu-id="fadd1-140">12</span><span class="sxs-lookup"><span data-stu-id="fadd1-140">12</span></span> |<span data-ttu-id="fadd1-141">12</span><span class="sxs-lookup"><span data-stu-id="fadd1-141">12</span></span> |<span data-ttu-id="fadd1-142">12</span><span class="sxs-lookup"><span data-stu-id="fadd1-142">12</span></span> |
| <span data-ttu-id="fadd1-143">Maximális partícióból szolgáltatás</span><span class="sxs-lookup"><span data-stu-id="fadd1-143">Maximum Partitions per Service</span></span> |<span data-ttu-id="fadd1-144">1</span><span class="sxs-lookup"><span data-stu-id="fadd1-144">1</span></span> |<span data-ttu-id="fadd1-145">12</span><span class="sxs-lookup"><span data-stu-id="fadd1-145">12</span></span> |<span data-ttu-id="fadd1-146">12</span><span class="sxs-lookup"><span data-stu-id="fadd1-146">12</span></span> |<span data-ttu-id="fadd1-147">12</span><span class="sxs-lookup"><span data-stu-id="fadd1-147">12</span></span> |<span data-ttu-id="fadd1-148">1</span><span class="sxs-lookup"><span data-stu-id="fadd1-148">1</span></span> |
| <span data-ttu-id="fadd1-149">Maximális keresési egységek (replikák * partíciók) szolgáltatás</span><span class="sxs-lookup"><span data-stu-id="fadd1-149">Maximum Search Units (Replicas*Partitions) per Service</span></span> |<span data-ttu-id="fadd1-150">3</span><span class="sxs-lookup"><span data-stu-id="fadd1-150">3</span></span> |<span data-ttu-id="fadd1-151">36</span><span class="sxs-lookup"><span data-stu-id="fadd1-151">36</span></span> |<span data-ttu-id="fadd1-152">36</span><span class="sxs-lookup"><span data-stu-id="fadd1-152">36</span></span> |<span data-ttu-id="fadd1-153">36</span><span class="sxs-lookup"><span data-stu-id="fadd1-153">36</span></span> |<span data-ttu-id="fadd1-154">36 (legfeljebb 3 partíció)</span><span class="sxs-lookup"><span data-stu-id="fadd1-154">36 (max 3 partitions)</span></span> |
| <span data-ttu-id="fadd1-155">Maximális dokumentumok-szolgáltatás</span><span class="sxs-lookup"><span data-stu-id="fadd1-155">Maximum Documents per Service</span></span> |<span data-ttu-id="fadd1-156">1 millió</span><span class="sxs-lookup"><span data-stu-id="fadd1-156">1 million</span></span> |<span data-ttu-id="fadd1-157">180 millió</span><span class="sxs-lookup"><span data-stu-id="fadd1-157">180 million</span></span> |<span data-ttu-id="fadd1-158">720 millió</span><span class="sxs-lookup"><span data-stu-id="fadd1-158">720 million</span></span> |<span data-ttu-id="fadd1-159">1.4 milliárd</span><span class="sxs-lookup"><span data-stu-id="fadd1-159">1.4 billion</span></span> |<span data-ttu-id="fadd1-160">600 millió</span><span class="sxs-lookup"><span data-stu-id="fadd1-160">600 million</span></span> |
| <span data-ttu-id="fadd1-161">Maximális tárolási szolgáltatás</span><span class="sxs-lookup"><span data-stu-id="fadd1-161">Maximum Storage per Service</span></span> |<span data-ttu-id="fadd1-162">2 GB</span><span class="sxs-lookup"><span data-stu-id="fadd1-162">2 GB</span></span> |<span data-ttu-id="fadd1-163">300 GB</span><span class="sxs-lookup"><span data-stu-id="fadd1-163">300 GB</span></span> |<span data-ttu-id="fadd1-164">1,2 TB</span><span class="sxs-lookup"><span data-stu-id="fadd1-164">1.2 TB</span></span> |<span data-ttu-id="fadd1-165">2,4 TB</span><span class="sxs-lookup"><span data-stu-id="fadd1-165">2.4 TB</span></span> |<span data-ttu-id="fadd1-166">600 GB</span><span class="sxs-lookup"><span data-stu-id="fadd1-166">600 GB</span></span> |
| <span data-ttu-id="fadd1-167">Maximális dokumentumok partíciónként</span><span class="sxs-lookup"><span data-stu-id="fadd1-167">Maximum Documents per Partition</span></span> |<span data-ttu-id="fadd1-168">1 millió</span><span class="sxs-lookup"><span data-stu-id="fadd1-168">1 million</span></span> |<span data-ttu-id="fadd1-169">15 millió</span><span class="sxs-lookup"><span data-stu-id="fadd1-169">15 million</span></span> |<span data-ttu-id="fadd1-170">60 millió</span><span class="sxs-lookup"><span data-stu-id="fadd1-170">60 million</span></span> |<span data-ttu-id="fadd1-171">120 millió</span><span class="sxs-lookup"><span data-stu-id="fadd1-171">120 million</span></span> |<span data-ttu-id="fadd1-172">200 millió</span><span class="sxs-lookup"><span data-stu-id="fadd1-172">200 million</span></span> |
| <span data-ttu-id="fadd1-173">Maximális tárolási partíciónként</span><span class="sxs-lookup"><span data-stu-id="fadd1-173">Maximum Storage per Partition</span></span> |<span data-ttu-id="fadd1-174">2 GB</span><span class="sxs-lookup"><span data-stu-id="fadd1-174">2 GB</span></span> |<span data-ttu-id="fadd1-175">25 GB</span><span class="sxs-lookup"><span data-stu-id="fadd1-175">25 GB</span></span> |<span data-ttu-id="fadd1-176">100 GB</span><span class="sxs-lookup"><span data-stu-id="fadd1-176">100 GB</span></span> |<span data-ttu-id="fadd1-177">200 GB</span><span class="sxs-lookup"><span data-stu-id="fadd1-177">200 GB</span></span> |<span data-ttu-id="fadd1-178">200 GB</span><span class="sxs-lookup"><span data-stu-id="fadd1-178">200 GB</span></span> |
| <span data-ttu-id="fadd1-179">Maximális indexek-szolgáltatás</span><span class="sxs-lookup"><span data-stu-id="fadd1-179">Maximum Indexes per Service</span></span> |<span data-ttu-id="fadd1-180">5</span><span class="sxs-lookup"><span data-stu-id="fadd1-180">5</span></span> |<span data-ttu-id="fadd1-181">50</span><span class="sxs-lookup"><span data-stu-id="fadd1-181">50</span></span> |<span data-ttu-id="fadd1-182">200</span><span class="sxs-lookup"><span data-stu-id="fadd1-182">200</span></span> |<span data-ttu-id="fadd1-183">200</span><span class="sxs-lookup"><span data-stu-id="fadd1-183">200</span></span> |<span data-ttu-id="fadd1-184">3000 (legfeljebb 1000 indexek/partíció)</span><span class="sxs-lookup"><span data-stu-id="fadd1-184">3000 (max 1000 indexes/partition)</span></span> |

#### <a name="s3-high-density"></a><span data-ttu-id="fadd1-185">S3 Nagy sűrűségű "</span><span class="sxs-lookup"><span data-stu-id="fadd1-185">S3 High Density'</span></span>
<span data-ttu-id="fadd1-186">Azure Search S3 tarifacsomag a beállítás a kifejezetten a több-bérlős forgatókönyvek készült hello nagy sűrűségű (HD) módban van.</span><span class="sxs-lookup"><span data-stu-id="fadd1-186">In Azure Search’s S3 pricing tier, there is an option for hello High Density (HD) mode designed specifically for multitenant scenarios.</span></span> <span data-ttu-id="fadd1-187">Sok esetben az is szükséges toosupport nagyszámú kisebb bérlők alatt egy egyszerűség és a költséghatékonyság hatékonyságát egyetlen szolgáltatás tooachieve hello előnyeit.</span><span class="sxs-lookup"><span data-stu-id="fadd1-187">In many cases, it is necessary toosupport a large number of smaller tenants under a single service tooachieve hello benefits of simplicity and cost efficiency.</span></span>

<span data-ttu-id="fadd1-188">S3 HD lehetővé teszi a sok kisméretű indexek toobe érinti egy egyetlen search szolgáltatás hello felügyelete alatt álló hello képességét tooscale kimenő indexek partíciók használatával a hello képességét toohost egyetlen szolgáltatás további indexek kereskedelmi hello.</span><span class="sxs-lookup"><span data-stu-id="fadd1-188">S3 HD allows for hello many small indexes toobe packed under hello management of a single search service by trading hello ability tooscale out indexes using partitions for hello ability toohost more indexes in a single service.</span></span>

<span data-ttu-id="fadd1-189">S3 szolgáltatásnak konkrétan, 1 és 200 indexek üzemeltető együtt sikerült másolatot too1.4 milliárd dokumentumok között lehet.</span><span class="sxs-lookup"><span data-stu-id="fadd1-189">Concretely, an S3 service could have between 1 and 200 indexes that together could host up too1.4 billion documents.</span></span> <span data-ttu-id="fadd1-190">Egy S3 HD a hello egyrészről lehetővé teszi az egyedi indexek tooonly feljebb too1 millió dokumentumot, de be too1000 indexeket 200 millió partíciónként azoknak a teljes dokumentum számával (felfelé too3000 szolgáltatásonként) partíciónként kezelni tud (felfelé too600 millió-szolgáltatás esetében).</span><span class="sxs-lookup"><span data-stu-id="fadd1-190">An S3 HD on hello other hand would allow individual indexes tooonly go up too1 million documents, but it can handle up too1000 indexes per partition (up too3000 per service) with a total document count of 200 million per partition (up too600 million per service).</span></span>

## <a name="considerations-for-multitenant-applications"></a><span data-ttu-id="fadd1-191">Több-bérlős alkalmazásokhoz szempontjai</span><span class="sxs-lookup"><span data-stu-id="fadd1-191">Considerations for multitenant applications</span></span>
<span data-ttu-id="fadd1-192">Több-bérlős alkalmazások kell hatékony terjesztésére erőforrások közötti hello bérlők között hello adatvédelmi bizonyos fokú megőrzésével különböző bérlők.</span><span class="sxs-lookup"><span data-stu-id="fadd1-192">Multitenant applications must effectively distribute resources among hello tenants while preserving some level of privacy between hello various tenants.</span></span> <span data-ttu-id="fadd1-193">Ilyen alkalmazás hello architektúra tervezésekor, van néhány szempontok:</span><span class="sxs-lookup"><span data-stu-id="fadd1-193">There are a few considerations when designing hello architecture for such an application:</span></span>

* <span data-ttu-id="fadd1-194">*Bérlők elkülönítésének:* alkalmazásfejlesztők tootake megfelelő intézkedéseket tooensure, hogy nem a bérlők számára nem engedélyezett vagy kívánt access toohello adatokat a többi bérlő nem szükséges.</span><span class="sxs-lookup"><span data-stu-id="fadd1-194">*Tenant isolation:* Application developers need tootake appropriate measures tooensure that no tenants have unauthorized or unwanted access toohello data of other tenants.</span></span> <span data-ttu-id="fadd1-195">Adatvédelem hello szempontjából, túl bérlői elkülönítési stratégiák a megosztott erőforrások és a védelmet a zajos szomszédok hatékony kezelése szükséges.</span><span class="sxs-lookup"><span data-stu-id="fadd1-195">Beyond hello perspective of data privacy, tenant isolation strategies require effective management of shared resources and protection from noisy neighbors.</span></span>
* <span data-ttu-id="fadd1-196">*A felhő erőforrás költség:* módon és bármely alkalmazás, szoftveres megoldások költség versenyképes egy több-bérlős alkalmazás összetevőjeként kell maradnia.</span><span class="sxs-lookup"><span data-stu-id="fadd1-196">*Cloud resource cost:* As with any other application, software solutions must remain cost competitive as a component of a multitenant application.</span></span>
* <span data-ttu-id="fadd1-197">*Műveletek a könnyű:* fontos szempont a több-bérlős architektúrák fejlesztésekor hello hello alkalmazás műveletek gyakorolt és összetettségét.</span><span class="sxs-lookup"><span data-stu-id="fadd1-197">*Ease of Operations:* When developing a multitenant architecture, hello impact on hello application's operations and complexity is an important consideration.</span></span> <span data-ttu-id="fadd1-198">Az Azure Search rendelkezik egy [99,9 %-os SLA](https://azure.microsoft.com/support/legal/sla/search/v1_0/).</span><span class="sxs-lookup"><span data-stu-id="fadd1-198">Azure Search has a [99.9% SLA](https://azure.microsoft.com/support/legal/sla/search/v1_0/).</span></span>
* <span data-ttu-id="fadd1-199">*Globális erőforrásigényét:* több-Bérlős alkalmazások esetleg tooeffectively szolgálnak bérlők számára, amely hello földgömb különböző pontjain.</span><span class="sxs-lookup"><span data-stu-id="fadd1-199">*Global footprint:* Multitenant applications may need tooeffectively serve tenants which are distributed across hello globe.</span></span>
* <span data-ttu-id="fadd1-200">*Méretezhetőség:* alkalmazásfejlesztők tooconsider hogyan azok egyeztetése alkalmazás összetettségi elég alacsony szintű karbantartásáért, valamint a hello alkalmazás tooscale megtervezése a bérlők száma között kell, és hello bérlők adatok méretétől és munkaterhelés.</span><span class="sxs-lookup"><span data-stu-id="fadd1-200">*Scalability:* Application developers need tooconsider how they reconcile between maintaining a sufficiently low level of application complexity and designing hello application tooscale with number of tenants and hello size of tenants' data and workload.</span></span>

<span data-ttu-id="fadd1-201">Az Azure Search kínál, amelyek idővel használt tooisolate bérlők adatok és alkalmazások és szolgáltatások néhány határokat.</span><span class="sxs-lookup"><span data-stu-id="fadd1-201">Azure Search offers a few boundaries that can be used tooisolate tenants’ data and workload.</span></span>

## <a name="modeling-multitenancy-with-azure-search"></a><span data-ttu-id="fadd1-202">Több vállalat kiszolgálása az Azure Search modellezési</span><span class="sxs-lookup"><span data-stu-id="fadd1-202">Modeling multitenancy with Azure Search</span></span>
<span data-ttu-id="fadd1-203">Egy több-bérlős forgatókönyv hello esetben hello alkalmazásfejlesztő egy vagy több keresési szolgáltatást használ, és osztani a bérlők között a szolgáltatások, indexeket, vagy mindkettőt.</span><span class="sxs-lookup"><span data-stu-id="fadd1-203">In hello case of a multitenant scenario, hello application developer consumes one or more search services and divide their tenants among services, indexes, or both.</span></span> <span data-ttu-id="fadd1-204">Az Azure Search rendelkezik néhány gyakori minták a modellezési egy több-bérlős forgatókönyv:</span><span class="sxs-lookup"><span data-stu-id="fadd1-204">Azure Search has a few common patterns when modeling a multitenant scenario:</span></span>

1. <span data-ttu-id="fadd1-205">*Bérlőnként index:* mindegyik bérlő rendelkezik egy keresési szolgáltatáson belül, amely más bérlők meg van osztva a saját index.</span><span class="sxs-lookup"><span data-stu-id="fadd1-205">*Index per tenant:* Each tenant has its own index within a search service that is shared with other tenants.</span></span>
2. <span data-ttu-id="fadd1-206">*Bérlőnként szolgáltatás:* mindegyik bérlő rendelkezik saját dedikált Azure Search szolgáltatással, adatokat és a munkaterhelések elkülönítése legmagasabb szintű kínál.</span><span class="sxs-lookup"><span data-stu-id="fadd1-206">*Service per tenant:* Each tenant has its own dedicated Azure Search service, offering highest level of data and workload separation.</span></span>
3. <span data-ttu-id="fadd1-207">*Mindkét vegyesen:* nagyobb, a több aktív bérlők rendelt dedikált szolgáltatások, amíg kisebb bérlők megosztott szolgáltatások az egyedi indexek vannak rendelve.</span><span class="sxs-lookup"><span data-stu-id="fadd1-207">*Mix of both:* Larger, more-active tenants are assigned dedicated services while smaller tenants are assigned individual indexes within shared services.</span></span>

## <a name="1-index-per-tenant"></a><span data-ttu-id="fadd1-208">1. Bérlőnként index</span><span class="sxs-lookup"><span data-stu-id="fadd1-208">1. Index per tenant</span></span>
![Egy portrayal hello index / bérlői modell](./media/search-modeling-multitenant-saas-applications/azure-search-index-per-tenant.png)

<span data-ttu-id="fadd1-210">Az index egyes bérlői modell több bérlő helyezkednek el egyetlen Azure Search szolgáltatás ahol mindegyik bérlő rendelkezik saját index.</span><span class="sxs-lookup"><span data-stu-id="fadd1-210">In an index-per-tenant model, multiple tenants occupy a single Azure Search service where each tenant has their own index.</span></span>

<span data-ttu-id="fadd1-211">Bérlők adatok elkülönítési érhető el, mert minden keresési kérelmeket, és az Azure Search index szinten kiállított dokumentum műveletek.</span><span class="sxs-lookup"><span data-stu-id="fadd1-211">Tenants achieve data isolation because all search requests and document operations are issued at an index level in Azure Search.</span></span> <span data-ttu-id="fadd1-212">Hello alkalmazásréteg nincs hello szükség ezekre a műveletekre toodirect különböző bérlők forgalom toohello megfelelő indexek hello miközben is erőforrások hello szolgáltatás szintjén keresztüli egyetlen bérlő számára.</span><span class="sxs-lookup"><span data-stu-id="fadd1-212">In hello application layer, there is hello need awareness toodirect hello various tenants’ traffic toohello proper indexes while also managing resources at hello service level across all tenants.</span></span>

<span data-ttu-id="fadd1-213">Hello index / bérlői modell kulcsattribútum hello mostantól hello alkalmazás fejlesztői toooversubscribe hello egy keresési szolgáltatás kapacitása hello alkalmazás bérlők között.</span><span class="sxs-lookup"><span data-stu-id="fadd1-213">A key attribute of hello index-per-tenant model is hello ability for hello application developer toooversubscribe hello capacity of a search service among hello application’s tenants.</span></span> <span data-ttu-id="fadd1-214">Ha egy munkaterhelés egyenetlen eloszlását, bérlők számára is optimális kombinációja hello legyen elosztva a hello bérlők rendelkezik egy keresési szolgáltatás indexeli tooaccommodate nagyon aktív, az erőforrás-igényes bérlők számos hosszú végének közben egyszerre kevésbé aktív bérlők.</span><span class="sxs-lookup"><span data-stu-id="fadd1-214">If hello tenants have an uneven distribution of workload, hello optimal combination of tenants can be distributed across a search service’s indexes tooaccommodate a number of highly active, resource-intensive tenants while simultaneously serving a long tail of less active tenants.</span></span> <span data-ttu-id="fadd1-215">hello kompromisszum hello nem képes hello modell toohandle olyan helyzetekben, ahol mindegyik bérlő egyidejű nagyon aktív.</span><span class="sxs-lookup"><span data-stu-id="fadd1-215">hello trade-off is hello inability of hello model toohandle situations where each tenant is concurrently highly active.</span></span>

<span data-ttu-id="fadd1-216">hello index / bérlői modell hello alapot biztosít egy változó költség modell, ahol az egész Azure Search szolgáltatást vásárolt kezdeti és majd ezt követően feltölti a bérlők számára.</span><span class="sxs-lookup"><span data-stu-id="fadd1-216">hello index-per-tenant model provides hello basis for a variable cost model, where an entire Azure Search service is bought up-front and then subsequently filled with tenants.</span></span> <span data-ttu-id="fadd1-217">Ez lehetővé teszi a nem használt kapacitás toobe kijelölt kísérletek és ingyenes fiókot.</span><span class="sxs-lookup"><span data-stu-id="fadd1-217">This allows for unused capacity toobe designated for trials and free accounts.</span></span>

<span data-ttu-id="fadd1-218">Az alkalmazások globális tárhely hello index / bérlői modell nem lehet leghatékonyabb hello.</span><span class="sxs-lookup"><span data-stu-id="fadd1-218">For applications with a global footprint, hello index-per-tenant model may not be hello most efficient.</span></span> <span data-ttu-id="fadd1-219">Ha egy alkalmazás bérlők különböző pontjain hello földgolyó méretét, akkor egy külön szolgáltatási mindegyik régióhoz, amely előfordulhat, hogy duplikálja költségek azok szükség lehet.</span><span class="sxs-lookup"><span data-stu-id="fadd1-219">If an application's tenants are distributed across hello globe, a separate service may be necessary for each region which may duplicate costs across each of them.</span></span>

<span data-ttu-id="fadd1-220">Az Azure Search lehetővé teszi, hogy hello bővített hello egyedi indexek és indexek toogrow hello teljes száma.</span><span class="sxs-lookup"><span data-stu-id="fadd1-220">Azure Search allows for hello scale of both hello individual indexes and hello total number of indexes toogrow.</span></span> <span data-ttu-id="fadd1-221">Ha egy megfelelő árképzési szint választja, és partíciók és replikák felveheti teljes keresőszolgáltatás toohello, amikor hello szolgáltatáson belül egyedi index növekedésének storage vagy a forgalom túl nagy.</span><span class="sxs-lookup"><span data-stu-id="fadd1-221">If an appropriate pricing tier is chosen, partitions and replicas can be added toohello entire search service when an individual index within hello service grows too large in terms of storage or traffic.</span></span>

<span data-ttu-id="fadd1-222">Hello indexek száma túl nagy az egyetlen szolgáltatás növekszik, ha egy másik szolgáltatás rendelkezik kiépített toobe tooaccommodate hello új bérlők számára.</span><span class="sxs-lookup"><span data-stu-id="fadd1-222">If hello total number of indexes grows too large for a single service, another service has toobe provisioned tooaccommodate hello new tenants.</span></span> <span data-ttu-id="fadd1-223">Ha indexek toobe léptetik keresési szolgáltatások között, hogy új szolgáltatással bővül, hello adatok hello indexből rendelkezik-e manuálisan másolta át egy index toohello más toobe, az Azure Search nem érhető el egy index toobe áthelyezték.</span><span class="sxs-lookup"><span data-stu-id="fadd1-223">If indexes have toobe moved between search services as new services are added, hello data from hello index has toobe manually copied from one index toohello other as Azure Search does not allow for an index toobe moved.</span></span>

## <a name="2-service-per-tenant"></a><span data-ttu-id="fadd1-224">2. Bérlőnként szolgáltatás</span><span class="sxs-lookup"><span data-stu-id="fadd1-224">2. Service per tenant</span></span>
![Egy portrayal hello szolgáltatás / bérlői modell](./media/search-modeling-multitenant-saas-applications/azure-search-service-per-tenant.png)

<span data-ttu-id="fadd1-226">A szolgáltatás-/-bérlős architektúrák mindegyik bérlő saját keresési szolgáltatás rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="fadd1-226">In a service-per-tenant architecture, each tenant has its own search service.</span></span>

<span data-ttu-id="fadd1-227">Ebben a modellben hello alkalmazás éri el a bérlők elszigetelését hello maximális szintjét.</span><span class="sxs-lookup"><span data-stu-id="fadd1-227">In this model, hello application achieves hello maximum level of isolation for its tenants.</span></span> <span data-ttu-id="fadd1-228">Minden szolgáltatás van dedikált, tárolási és átviteli sebesség kezelésére keresési kérelmet, valamint a külön API-kulcsokat.</span><span class="sxs-lookup"><span data-stu-id="fadd1-228">Each service has dedicated storage and throughput for handling search request as well as separate API keys.</span></span>

<span data-ttu-id="fadd1-229">Alkalmazások esetében, ahol mindegyik bérlő rendelkezik egy nagy erőforrásigényét vagy hello munkaterhelés a bérlő tootenant kevés variancia hello szolgáltatás / bérlői modell tényleges választási esetén, mert erőforrások megosztása nem különböző bérlők munkaterhelések között.</span><span class="sxs-lookup"><span data-stu-id="fadd1-229">For applications where each tenant has a large footprint or hello workload has little variability from tenant tootenant, hello service-per-tenant model is an effective choice as resources are not shared across various tenants’ workloads.</span></span>

<span data-ttu-id="fadd1-230">A szolgáltatás egyes bérlői modellek hello előnye, hogy egy előre jelezhető, rögzített költség modell is biztosít.</span><span class="sxs-lookup"><span data-stu-id="fadd1-230">A service per tenant model also offers hello benefit of a predictable, fixed cost model.</span></span> <span data-ttu-id="fadd1-231">Van egy teljes keresési szolgáltatás nincs kezdeti beruházást addig, amíg nincs egy bérlő toofill, azonban hello költség-/-bérlő értéke magasabb, mint az index egyes bérlői modell.</span><span class="sxs-lookup"><span data-stu-id="fadd1-231">There is no up-front investment in an entire search service until there is a tenant toofill it, however hello cost-per-tenant is higher than an index-per-tenant model.</span></span>

<span data-ttu-id="fadd1-232">hello szolgáltatás / bérlői modell esetén egy globális tárhely alkalmazások hatékony választani.</span><span class="sxs-lookup"><span data-stu-id="fadd1-232">hello service-per-tenant model is an efficient choice for applications with a global footprint.</span></span> <span data-ttu-id="fadd1-233">A földrajzilag elosztott bérlők esetén könnyen toohave az egyes bérlők szolgáltatás hello megfelelő régió.</span><span class="sxs-lookup"><span data-stu-id="fadd1-233">With geographically-distributed tenants, it is easy toohave each tenant's service in hello appropriate region.</span></span>

<span data-ttu-id="fadd1-234">Ebben a mintában skálázás hello kihívás merülhetnek fel, ha az egyes bérlők elszaporodó a szolgáltatás.</span><span class="sxs-lookup"><span data-stu-id="fadd1-234">hello challenges in scaling this pattern arise when individual tenants outgrow their service.</span></span> <span data-ttu-id="fadd1-235">Az Azure Search jelenleg nem támogatja, minden adatot kell manuálisan toobe tooa új szolgáltatás IP-címek egy keresési szolgáltatás frissítése hello.</span><span class="sxs-lookup"><span data-stu-id="fadd1-235">Azure Search does not currently support upgrading hello pricing tier of a search service, so all data would have toobe manually copied tooa new service.</span></span>

## <a name="3-mixing-both-models"></a><span data-ttu-id="fadd1-236">3. Mindkét modellt keverése</span><span class="sxs-lookup"><span data-stu-id="fadd1-236">3. Mixing both models</span></span>
<span data-ttu-id="fadd1-237">Több vállalat kiszolgálása modellezési egy másik mintát index / bérlői és a szolgáltatás egy bérlő stratégiák van keverése.</span><span class="sxs-lookup"><span data-stu-id="fadd1-237">Another pattern for modeling multitenancy is mixing both index-per-tenant and service-per-tenant strategies.</span></span>

<span data-ttu-id="fadd1-238">Úgy hello két minták, egy alkalmazás legnagyobb bérlők lefoglalhatja dedikált szolgáltatások míg hosszú vége, az aktív, kisebb bérlők kevésbé hello indexek lefoglalhatja a megosztott szolgáltatás.</span><span class="sxs-lookup"><span data-stu-id="fadd1-238">By mixing hello two patterns, an application's largest tenants can occupy dedicated services while hello long tail of less active, smaller tenants can occupy indexes in a shared service.</span></span> <span data-ttu-id="fadd1-239">Ez a modell biztosítja, hogy hello legnagyobb bérlők következetesen nagy teljesítményű hello szolgáltatásból származó bármely zajos szomszédok kisebb bérlők hello tooprotect elősegítik.</span><span class="sxs-lookup"><span data-stu-id="fadd1-239">This model ensures that hello largest tenants have consistently high performance from hello service while helping tooprotect hello smaller tenants from any noisy neighbors.</span></span>

<span data-ttu-id="fadd1-240">Azonban ezt a stratégiát végrehajtási támaszkodik előrelátás előrejelzésére, mely a bérlők egy dedikált szolgáltatás vagy egy megosztott szolgáltatás indexe van szükség.</span><span class="sxs-lookup"><span data-stu-id="fadd1-240">However, implementing this strategy relies foresight in predicting which tenants will require a dedicated service versus an index in a shared service.</span></span> <span data-ttu-id="fadd1-241">Alkalmazás összetettsége hello kell toomanage mindkét az több-bérlős modellek fokozódik.</span><span class="sxs-lookup"><span data-stu-id="fadd1-241">Application complexity increases with hello need toomanage both of these multitenancy models.</span></span>

## <a name="achieving-even-finer-granularity"></a><span data-ttu-id="fadd1-242">Még nagyobb részletességgel elérése</span><span class="sxs-lookup"><span data-stu-id="fadd1-242">Achieving even finer granularity</span></span>
<span data-ttu-id="fadd1-243">hello kialakítási minták toomodel több-bérlős forgatókönyvek az Azure Search fent egy egységes hatókörhöz, ahol mindegyik bérlő teljes példánya egy alkalmazás feltételezi.</span><span class="sxs-lookup"><span data-stu-id="fadd1-243">hello above design patterns toomodel multitenant scenarios in Azure Search assume a uniform scope where each tenant is a whole instance of an application.</span></span> <span data-ttu-id="fadd1-244">Alkalmazások azonban néha kezelik a sok kisebb hatókörét.</span><span class="sxs-lookup"><span data-stu-id="fadd1-244">However, applications can sometimes handle many smaller scopes.</span></span>

<span data-ttu-id="fadd1-245">Ha a szolgáltatás-/-bérlők és az index / bérlői modellek nem elég hatókörök, akkor lehetséges toomodel egy index tooachieve egy granularitási még nagyobb fokú.</span><span class="sxs-lookup"><span data-stu-id="fadd1-245">If service-per-tenant and index-per-tenant models are not sufficiently small scopes, it is possible toomodel an index tooachieve an even finer degree of granularity.</span></span>

<span data-ttu-id="fadd1-246">egyetlen index eltérően viselkednek a különböző ügyfél-végpontok toohave, egy mező lehet hozzáadott tooan index összes lehetséges ügyfél a megadott érték jelzi.</span><span class="sxs-lookup"><span data-stu-id="fadd1-246">toohave a single index behave differently for different client endpoints, a field can be added tooan index which designates a certain value for each possible client.</span></span> <span data-ttu-id="fadd1-247">Minden alkalommal, amikor egy ügyfél hívja az Azure Search tooquery vagy index módosítása, hello kód hello ügyfélalkalmazás határozza meg a megfelelő értéket hello Azure keresési mező [szűrő](https://msdn.microsoft.com/library/azure/dn798921.aspx) időben funkció.</span><span class="sxs-lookup"><span data-stu-id="fadd1-247">Each time a client calls Azure Search tooquery or modify an index, hello code from hello client application specifies hello appropriate value for that field using Azure Search's [filter](https://msdn.microsoft.com/library/azure/dn798921.aspx) capability at query time.</span></span>

<span data-ttu-id="fadd1-248">Ez a metódus lehet külön felhasználói fiókokat, külön jogosultsági szintek és akár teljesen különálló alkalmazások használt tooachieve funkcióit.</span><span class="sxs-lookup"><span data-stu-id="fadd1-248">This method can be used tooachieve functionality of separate user accounts, separate permission levels, and even completely separate applications.</span></span>

> [!NOTE]
> <span data-ttu-id="fadd1-249">Hello megközelítéssel a fent leírt tooconfigure egy egyetlen index tooserve több bérlő érinti hello relevanciájának a keresési eredmények.</span><span class="sxs-lookup"><span data-stu-id="fadd1-249">Using hello approach described above tooconfigure a single index tooserve multiple tenants affects hello relevance of search results.</span></span> <span data-ttu-id="fadd1-250">Keresési relevanciájának pontszámok arra az esetre vonatkoznak egy index szintű hatókörben, nem bérlői szintű hatókör, így egyetlen bérlő számára adatokat hello relevanciájának pontszámok alapul szolgáló statisztikákról, például a kifejezés gyakoriság van beépítve.</span><span class="sxs-lookup"><span data-stu-id="fadd1-250">Search relevance scores are computed at an index-level scope, not a tenant-level scope, so all tenants' data is incorporated in hello relevance scores' underlying statistics such as term frequency.</span></span>
> 
> 

## <a name="next-steps"></a><span data-ttu-id="fadd1-251">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="fadd1-251">Next steps</span></span>
<span data-ttu-id="fadd1-252">Az Azure Search esetén számos alkalmazás kényszerítő választani [hello szolgáltatás robusztus képességeivel kapcsolatos további](http://aka.ms/whatisazsearch).</span><span class="sxs-lookup"><span data-stu-id="fadd1-252">Azure Search is a compelling choice for many applications, [read more about hello service's robust capabilities](http://aka.ms/whatisazsearch).</span></span> <span data-ttu-id="fadd1-253">Ha kiértékelése hello különböző kialakítási minták több-bérlős alkalmazásokhoz, javasoljuk, hogy a hello [különböző árképzési szinteket](https://azure.microsoft.com/pricing/details/search/) és a megfelelő hello [szolgáltatási korlátait](search-limits-quotas-capacity.md) toobest személyessé tétele az Azure Search toofit alkalmazások és szolgáltatások és a különböző méretű architektúráinak megfelelően.</span><span class="sxs-lookup"><span data-stu-id="fadd1-253">When evaluating hello various design patterns for multitenant applications, consider hello [various pricing tiers](https://azure.microsoft.com/pricing/details/search/) and hello respective [service limits](search-limits-quotas-capacity.md) toobest tailor Azure Search toofit application workloads and architectures of all sizes.</span></span>

<span data-ttu-id="fadd1-254">Bármely kérdések az Azure Search és a több-bérlős forgatókönyvek irányítható tooazuresearch_contact@microsoft.com.</span><span class="sxs-lookup"><span data-stu-id="fadd1-254">Any questions about Azure Search and multitenant scenarios can be directed tooazuresearch_contact@microsoft.com.</span></span>

