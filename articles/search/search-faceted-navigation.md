---
title: "aaaHow tooimplement jellemzőalapú navigációs az Azure Search |} Microsoft Docs"
description: "Adja hozzá a Jellemzőalapú navigáció tooapplications, amelyekbe beépül az Azure Search, egy üzemeltetett felhőalapú keresőszolgáltatás, Microsoft Azure-on."
services: search
documentationcenter: 
author: HeidiSteen
manager: mblythe
editor: 
ms.assetid: cdf98fd4-63fd-4b50-b0b0-835cb08ad4d3
ms.service: search
ms.devlang: rest-api
ms.workload: search
ms.topic: article
ms.tgt_pltfrm: na
ms.date: 3/10/2017
ms.author: heidist
ms.openlocfilehash: c1e6bf9dc55d0044525db79e37d35a50ded5a736
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="how-tooimplement-faceted-navigation-in-azure-search"></a><span data-ttu-id="0aed5-103">Hogyan tooimplement jellemzőalapú navigációs az Azure Search</span><span class="sxs-lookup"><span data-stu-id="0aed5-103">How tooimplement faceted navigation in Azure Search</span></span>
<span data-ttu-id="0aed5-104">Jellemzőalapú navigáció, amely az alkalmazások keresése irányuló részletezési navigációs szűrési mechanizmus.</span><span class="sxs-lookup"><span data-stu-id="0aed5-104">Faceted navigation is a filtering mechanism that provides self-directed drilldown navigation in search applications.</span></span> <span data-ttu-id="0aed5-105">hello kifejezés "jellemzőalapú navigációs" ismeretlen, de Ön már valószínűleg használta.</span><span class="sxs-lookup"><span data-stu-id="0aed5-105">hello term 'faceted navigation' may be unfamiliar, but you've probably used it before.</span></span> <span data-ttu-id="0aed5-106">Hello a következő példa azt mutatja meg, mint jellemzőalapú navigációs értéke "Nothing" több mint hello használt kategóriák toofilter eredmények.</span><span class="sxs-lookup"><span data-stu-id="0aed5-106">As hello following example shows, faceted navigation is nothing more than hello categories used toofilter results.</span></span>

 ![Az Azure Search feladat portál bemutató][1]

<span data-ttu-id="0aed5-108">Jellemzőalapú navigáció egy másik belépési pont toosearch.</span><span class="sxs-lookup"><span data-stu-id="0aed5-108">Faceted navigation is an alternative entry point toosearch.</span></span> <span data-ttu-id="0aed5-109">Biztosít egy tetszőleges alternatív tootyping összetett keresési kifejezést kézzel.</span><span class="sxs-lookup"><span data-stu-id="0aed5-109">It offers a convenient alternative tootyping complex search expressions by hand.</span></span> <span data-ttu-id="0aed5-110">Értékkorlátozás segítséget, amit keresünk, biztosítva, hogy nem kapott eredmény.</span><span class="sxs-lookup"><span data-stu-id="0aed5-110">Facets can help you find what you're looking for, while ensuring that you don’t get zero results.</span></span> <span data-ttu-id="0aed5-111">Fejlesztőként értékkorlátozás lehetővé teszik, hogy hello leghasznosabb vonatkozó keresési feltétel szerint lépjen a keresési corpus tenni.</span><span class="sxs-lookup"><span data-stu-id="0aed5-111">As a developer, facets let you expose hello most useful search criteria for navigating your search corpus.</span></span> <span data-ttu-id="0aed5-112">Online kereskedelmi alkalmazások jellemzőalapú navigációs gyakran-t márkákat, szervezeti egységek (kid tartozó helyébe), méret, ár, időben népszerűvé vált és minősítése.</span><span class="sxs-lookup"><span data-stu-id="0aed5-112">In online retail applications, faceted navigation is often built over brands, departments (kid’s shoes), size, price, popularity, and ratings.</span></span> 

<span data-ttu-id="0aed5-113">Végrehajtási jellemzőalapú navigációs eltérő keresési technológiák között.</span><span class="sxs-lookup"><span data-stu-id="0aed5-113">Implementing faceted navigation differs across search technologies.</span></span> <span data-ttu-id="0aed5-114">Az Azure Search jellemzőalapú navigációs-t időben, a séma attribútummal mezőket.</span><span class="sxs-lookup"><span data-stu-id="0aed5-114">In Azure Search, faceted navigation is built at query time, using fields that you previously attributed in your schema.</span></span>

-   <span data-ttu-id="0aed5-115">Hello lekérdezésekben épülő az alkalmazás, egy lekérdezést kell küldenie *értékkorlátozás lekérdezési paraméterek* tooget hello elérhető szűrő dimenzióértéknek a dokumentum set vezethet.</span><span class="sxs-lookup"><span data-stu-id="0aed5-115">In hello queries that your application builds, a query must send *facet query parameters* tooget hello available facet filter values for that document result set.</span></span>

-   <span data-ttu-id="0aed5-116">tooactually trim hello dokumentum eredménykészlet, hello alkalmazást is telepíteni kell egy `$filter` kifejezés.</span><span class="sxs-lookup"><span data-stu-id="0aed5-116">tooactually trim hello document result set, hello application must also apply a `$filter` expression.</span></span>

<span data-ttu-id="0aed5-117">Az alkalmazásfejlesztés jelent, amely hoz létre a lekérdezések programozás hello tömeges hello munka.</span><span class="sxs-lookup"><span data-stu-id="0aed5-117">In your application development, writing code that constructs queries constitutes hello bulk of hello work.</span></span> <span data-ttu-id="0aed5-118">Hello szolgáltatást, beleértve a beépített támogatását tartományok definiálása és a dimenzió eredmények összesítése által biztosított számos hello alkalmazás viselkedésmódok jellemzőalapú navigációs sávon teheti meg.</span><span class="sxs-lookup"><span data-stu-id="0aed5-118">Many of hello application behaviors that you would expect from faceted navigation are provided by hello service, including built-in support for defining ranges and getting counts for facet results.</span></span> <span data-ttu-id="0aed5-119">hello szolgáltatást is tartalmaz, amelyek segítenek ésszerű alapértelmezett kezelése nehézkessé navigációs struktúrák elkerülése érdekében.</span><span class="sxs-lookup"><span data-stu-id="0aed5-119">hello service also includes sensible defaults that help you avoid unwieldy navigation structures.</span></span> 

## <a name="sample-code-and-demo"></a><span data-ttu-id="0aed5-120">Mintakód és bemutató</span><span class="sxs-lookup"><span data-stu-id="0aed5-120">Sample code and demo</span></span>
<span data-ttu-id="0aed5-121">Ez a cikk feladat keresési portál használ példaként.</span><span class="sxs-lookup"><span data-stu-id="0aed5-121">This article uses a job search portal as an example.</span></span> <span data-ttu-id="0aed5-122">hello például egy ASP.NET MVC alkalmazás valósul meg.</span><span class="sxs-lookup"><span data-stu-id="0aed5-122">hello example is implemented as an ASP.NET MVC application.</span></span>

-   <span data-ttu-id="0aed5-123">Tekintse meg, és tesztelje a hello működő bemutató online, [Azure keresési feladat Portal bemutató](http://azjobsdemo.azurewebsites.net/).</span><span class="sxs-lookup"><span data-stu-id="0aed5-123">See and test hello working demo online at [Azure Search Job Portal Demo](http://azjobsdemo.azurewebsites.net/).</span></span>

-   <span data-ttu-id="0aed5-124">Hello kód letöltését hello [tárház Azure-minták a githubon](https://github.com/Azure-Samples/search-dotnet-asp-net-mvc-jobs).</span><span class="sxs-lookup"><span data-stu-id="0aed5-124">Download hello code from hello [Azure-Samples repo on GitHub](https://github.com/Azure-Samples/search-dotnet-asp-net-mvc-jobs).</span></span>

## <a name="get-started"></a><span data-ttu-id="0aed5-125">Bevezetés</span><span class="sxs-lookup"><span data-stu-id="0aed5-125">Get started</span></span>
<span data-ttu-id="0aed5-126">Ha új toosearch fejlesztési, a legjobb módja toothink hello jellemzőalapú navigációs irányuló keresési hello lehetőségeit mutatja.</span><span class="sxs-lookup"><span data-stu-id="0aed5-126">If you're new toosearch development, hello best way toothink of faceted navigation is that it shows hello possibilities for self-directed search.</span></span> <span data-ttu-id="0aed5-127">Olyan típusú leásási keresési élményt biztosít, a keresési eredmények keresztül pont, és kattintson a műveletek gyorsan szűkíteni használt előre definiált szűrők alapján.</span><span class="sxs-lookup"><span data-stu-id="0aed5-127">It’s a type of drill-down search experience, based on predefined filters, used for quickly narrowing down search results through point-and-click actions.</span></span> 

### <a name="interaction-model"></a><span data-ttu-id="0aed5-128">Interakció modell</span><span class="sxs-lookup"><span data-stu-id="0aed5-128">Interaction model</span></span>

<span data-ttu-id="0aed5-129">hello keresési élményt biztosít a jellemzőalapú navigáció iteratív, így érdemes megismerni azt, hogy a válasz toouser műveletek unfold lekérdezések sorozatot.</span><span class="sxs-lookup"><span data-stu-id="0aed5-129">hello search experience for faceted navigation is iterative, so let’s start by understanding it as a sequence of queries that unfold in response toouser actions.</span></span>

<span data-ttu-id="0aed5-130">hello kiindulási pontjaként egy alkalmazás-lap, amely általában helyezve hello peremétől jellemzőalapú navigáció.</span><span class="sxs-lookup"><span data-stu-id="0aed5-130">hello starting point is an application page that provides faceted navigation, typically placed on hello periphery.</span></span> <span data-ttu-id="0aed5-131">A faszerkezetben, minden értéknek vagy kattintható jelölőnégyzetekkel jellemzőalapú navigációs gyakran.</span><span class="sxs-lookup"><span data-stu-id="0aed5-131">Faceted navigation is often a tree structure, with checkboxes for each value, or clickable text.</span></span> 

1. <span data-ttu-id="0aed5-132">Küldött tooAzure keresési lekérdezés hello jellemzőalapú navigációs szerkezetben keresztül egy vagy több dimenzió lekérdezési paraméter határozza meg.</span><span class="sxs-lookup"><span data-stu-id="0aed5-132">A query sent tooAzure Search specifies hello faceted navigation structure via one or more facet query parameters.</span></span> <span data-ttu-id="0aed5-133">Például hello lekérdezés tartalmazhat `facet=Rating`, lehet, hogy az egy `:values` vagy `:sort` beállítás toofurther hello bemutató szűkítéséhez.</span><span class="sxs-lookup"><span data-stu-id="0aed5-133">For instance, hello query might include `facet=Rating`, perhaps with a `:values` or `:sort` option toofurther refine hello presentation.</span></span>
2. <span data-ttu-id="0aed5-134">hello bemutató réteg képezi le egy keresése oldal, amely jellemzőalapú navigációs hello típushoz megadott hello kérés használatával.</span><span class="sxs-lookup"><span data-stu-id="0aed5-134">hello presentation layer renders a search page that provides faceted navigation, using hello facets specified on hello request.</span></span>
3. <span data-ttu-id="0aed5-135">Megadott egy jellemzőalapú navigációs szerkezetben, amely tartalmazza az értékelést, kattintson egy, a "4" tooindicate csak egy minősítés 4 vagy újabb termékek megjeleníteni.</span><span class="sxs-lookup"><span data-stu-id="0aed5-135">Given a faceted navigation structure that includes Rating, you click "4" tooindicate that only products with a rating of 4 or higher should be shown.</span></span> 
4. <span data-ttu-id="0aed5-136">Válaszként hello alkalmazás küld egy lekérdezést, amely tartalmazza`$filter=Rating ge 4`</span><span class="sxs-lookup"><span data-stu-id="0aed5-136">In response, hello application sends a query that includes `$filter=Rating ge 4`</span></span> 
5. <span data-ttu-id="0aed5-137">hello bemutató réteg frissítések hello lapot, amely az csökkentett eredménykészletet, csak a megadott elemeket, amelyek megfelelnek a hello új feltétel tartalmazó (ebben az esetben a termékek besorolású 4 és legfeljebb).</span><span class="sxs-lookup"><span data-stu-id="0aed5-137">hello presentation layer updates hello page, showing a reduced result set, containing just those items that satisfy hello new criteria (in this case, products rated 4 and up).</span></span>

<span data-ttu-id="0aed5-138">Egy dimenzió egy lekérdezési paraméter, de ne tévessze össze az lekérdezés bevitellel.</span><span class="sxs-lookup"><span data-stu-id="0aed5-138">A facet is a query parameter, but do not confuse it with query input.</span></span> <span data-ttu-id="0aed5-139">A lekérdezésben kiválasztási feltételek, soha nem használható.</span><span class="sxs-lookup"><span data-stu-id="0aed5-139">It is never used as selection criteria in a query.</span></span> <span data-ttu-id="0aed5-140">Ehelyett úgy tekintenek a dimenzió lekérdezési paraméterek mint bemenetek toohello navigációs szerkezetben hello válaszul ismét elérhető lesz.</span><span class="sxs-lookup"><span data-stu-id="0aed5-140">Instead, think of facet query parameters as inputs toohello navigation structure that comes back in hello response.</span></span> <span data-ttu-id="0aed5-141">Minden dimenzió lekérdezési paraméter, akkor adja meg, az Azure Search értékeli ki, hány dokumentumok hello részleges eredmények értékkorlátozás értékek szerepelnek.</span><span class="sxs-lookup"><span data-stu-id="0aed5-141">For each facet query parameter you provide, Azure Search evaluates how many documents are in hello partial results for each facet value.</span></span>

<span data-ttu-id="0aed5-142">Értesítés hello `$filter` a 4. lépésben.</span><span class="sxs-lookup"><span data-stu-id="0aed5-142">Notice hello `$filter` in step 4.</span></span> <span data-ttu-id="0aed5-143">hello szűrő jellemzőalapú navigációs fontos eleme.</span><span class="sxs-lookup"><span data-stu-id="0aed5-143">hello filter is an important aspect of faceted navigation.</span></span> <span data-ttu-id="0aed5-144">Annak ellenére, hogy facets és a szűrők a hello API független, mindkét toodeliver hello élmény szeretné szüksége van.</span><span class="sxs-lookup"><span data-stu-id="0aed5-144">Although facets and filters are independent in hello API, you need both toodeliver hello experience you intend.</span></span> 

### <a name="app-design-pattern"></a><span data-ttu-id="0aed5-145">Alkalmazás-kialakítási mintája</span><span class="sxs-lookup"><span data-stu-id="0aed5-145">App design pattern</span></span>

<span data-ttu-id="0aed5-146">Az alkalmazás kódjában a hello mintája toouse jellemzőalapú lekérdezés paraméterek tooreturn hello jellemzőalapú navigációs szerkezetben értékkorlátozás eredményeket, valamint a $filter kifejezés együtt.</span><span class="sxs-lookup"><span data-stu-id="0aed5-146">In application code, hello pattern is toouse facet query parameters tooreturn hello faceted navigation structure along with facet results, plus a $filter expression.</span></span>  <span data-ttu-id="0aed5-147">hello szűrő kifejezés leírók hello kattintson az esemény a hello értékkorlátozás értéke.</span><span class="sxs-lookup"><span data-stu-id="0aed5-147">hello filter expression handles hello click event on hello facet value.</span></span> <span data-ttu-id="0aed5-148">Gondoljon hello `$filter` kifejezés hello háttérkódot hello tényleges tisztítás, a keresési eredmények toohello bemutató réteg adott vissza.</span><span class="sxs-lookup"><span data-stu-id="0aed5-148">Think of hello `$filter` expression as hello code behind hello actual trimming of search results returned toohello presentation layer.</span></span> <span data-ttu-id="0aed5-149">Egy színek dimenzió megadott, hello szín piros kattintva keresztül történik egy `$filter` kifejezés, amely csak a vörös színt rendelkező elem kijelölése.</span><span class="sxs-lookup"><span data-stu-id="0aed5-149">Given a Colors facet, clicking hello color Red is implemented through a `$filter` expression that selects only those items that have a color of red.</span></span> 

### <a name="query-basics"></a><span data-ttu-id="0aed5-150">Lekérdezés alapjai</span><span class="sxs-lookup"><span data-stu-id="0aed5-150">Query basics</span></span>

<span data-ttu-id="0aed5-151">Az Azure Search, egy kérelem egy vagy több lekérdezési paraméterek keresztül megadott (lásd: [dokumentumok keresése](http://msdn.microsoft.com/library/azure/dn798927.aspx) minden egyes leírása).</span><span class="sxs-lookup"><span data-stu-id="0aed5-151">In Azure Search, a request is specified through one or more query parameters (see [Search Documents](http://msdn.microsoft.com/library/azure/dn798927.aspx) for a description of each one).</span></span> <span data-ttu-id="0aed5-152">Nincs hello lekérdezési paraméterek szükségesek, de rendelkeznie kell ahhoz, hogy a lekérdezés érvényes toobe legalább egy.</span><span class="sxs-lookup"><span data-stu-id="0aed5-152">None of hello query parameters are required, but you must have at least one in order for a query toobe valid.</span></span>

<span data-ttu-id="0aed5-153">Pontosság, megértettem, hello képességét toofilter kimenő irreleváns találatok sorrendekben legalább ezek a kifejezések egyike:</span><span class="sxs-lookup"><span data-stu-id="0aed5-153">Precision, understood as hello ability toofilter out irrelevant hits, is achieved through one or both of these expressions:</span></span>

-   <span data-ttu-id="0aed5-154">**keresési =**</span><span class="sxs-lookup"><span data-stu-id="0aed5-154">**search=**</span></span>  
    <span data-ttu-id="0aed5-155">Ez a paraméter értékének hello hello keresési kifejezés számít.</span><span class="sxs-lookup"><span data-stu-id="0aed5-155">hello value of this parameter constitutes hello search expression.</span></span> <span data-ttu-id="0aed5-156">Előfordulhat, hogy egy darab szöveg vagy egy összetett keresési kifejezés, amely tartalmazza a feltételeket és a kezelők.</span><span class="sxs-lookup"><span data-stu-id="0aed5-156">It might be a single piece of text, or a complex search expression that includes multiple terms and operators.</span></span> <span data-ttu-id="0aed5-157">Hello kiszolgálón egy keresési kifejezés használható teljes szöveges keresés, hello index az egyező kifejezések, eredményt visszaadó sorrend a kereshető mezők lekérdezése.</span><span class="sxs-lookup"><span data-stu-id="0aed5-157">On hello server, a search expression is used for full-text search, querying searchable fields in hello index for matching terms, returning results in rank order.</span></span> <span data-ttu-id="0aed5-158">Ha `search` toonull, a lekérdezés-végrehajtás hello teljes index felett van (Ez azt jelenti, hogy `search=*`).</span><span class="sxs-lookup"><span data-stu-id="0aed5-158">If you set `search` toonull, query execution is over hello entire index (that is, `search=*`).</span></span> <span data-ttu-id="0aed5-159">In this Case, hello egyéb elemeinek lekérdezése, például egy `$filter` vagy pontozási profil, amelyek hello elsődleges tényező befolyásolja a dokumentumok visszaadott `($filter`), hogy milyen sorrendben (`scoringProfile` vagy `$orderby`).</span><span class="sxs-lookup"><span data-stu-id="0aed5-159">In this case, other elements of hello query, such as a `$filter` or scoring profile, are hello primary factors affecting which documents are returned `($filter`) and in what order (`scoringProfile` or `$orderby`).</span></span>

-   <span data-ttu-id="0aed5-160">**$filter =**</span><span class="sxs-lookup"><span data-stu-id="0aed5-160">**$filter=**</span></span>  
    <span data-ttu-id="0aed5-161">A szűrő akkor egy rendkívül erős eszköz korlátozza a keresési eredmények hello értékek adott dokumentum attribútumok alapján hello méretét.</span><span class="sxs-lookup"><span data-stu-id="0aed5-161">A filter is a powerful mechanism for limiting hello size of search results based on hello values of specific document attributes.</span></span> <span data-ttu-id="0aed5-162">A `$filter` ki lesz értékelve először értékkorlátozás logika, amely hello rendelkezésre álló értékeket, és az értékek megfelelő számát követi</span><span class="sxs-lookup"><span data-stu-id="0aed5-162">A `$filter` is evaluated first, followed by faceting logic that generates hello available values and corresponding counts for each value</span></span>

<span data-ttu-id="0aed5-163">Összetett keresési kifejezések lassabban hello hello lekérdezés.</span><span class="sxs-lookup"><span data-stu-id="0aed5-163">Complex search expressions decrease hello performance of hello query.</span></span> <span data-ttu-id="0aed5-164">Ahol lehetséges, jól felépített szűrő kifejezések tooincrease pontosság használja, és javíthatja a lekérdezések teljesítményét.</span><span class="sxs-lookup"><span data-stu-id="0aed5-164">Where possible, use well-constructed filter expressions tooincrease precision and improve query performance.</span></span>

<span data-ttu-id="0aed5-165">toobetter megérteni, hogyan szűrőt ad pontosabb, hasonlítsa össze egy összetett keresési kifejezés tooone, amely egy kifejezést tartalmaz:</span><span class="sxs-lookup"><span data-stu-id="0aed5-165">toobetter understand how a filter adds more precision, compare a complex search expression tooone that includes a filter expression:</span></span>

-   `GET /indexes/hotel/docs?search=lodging budget +Seattle –motel +parking`
-   `GET /indexes/hotel/docs?search=lodging&$filter=City eq ‘Seattle’ and Parking and Type ne ‘motel’`

<span data-ttu-id="0aed5-166">Mindkét lekérdezések érvényesek, de hello második jobb, ha a keresett nem motelek a budapesti várakozást.</span><span class="sxs-lookup"><span data-stu-id="0aed5-166">Both queries are valid, but hello second is superior if you’re looking for non-motels with parking in Seattle.</span></span>
-   <span data-ttu-id="0aed5-167">hello első lekérdezés listázzák említett vagy a nem szerepel a karakterlánc típusú, például a nevét, leírását és bármely más kereshető adatokat tartalmazó mező támaszkodik.</span><span class="sxs-lookup"><span data-stu-id="0aed5-167">hello first query relies on those specific words being mentioned or not mentioned in string fields like Name, Description, and any other field containing searchable data.</span></span>
-   <span data-ttu-id="0aed5-168">hello második lekérdezés a strukturált adatok pontos egyezés keresi, és valószínűleg toobe pontosabb sokkal.</span><span class="sxs-lookup"><span data-stu-id="0aed5-168">hello second query looks for precise matches on structured data and is likely toobe much more accurate.</span></span>

<span data-ttu-id="0aed5-169">Olyan alkalmazások, amelyek tartalmazzák a jellemzőalapú navigáció győződjön meg arról, hogy minden egyes felhasználói művelet egy jellemzőalapú navigációs szerkezetben keresztül csatolni a keresési eredmények szűkítését.</span><span class="sxs-lookup"><span data-stu-id="0aed5-169">In applications that include faceted navigation, make sure that each user action over a faceted navigation structure is accompanied by a narrowing of search results.</span></span> <span data-ttu-id="0aed5-170">toonarrow eredményeket egy kifejezést használja.</span><span class="sxs-lookup"><span data-stu-id="0aed5-170">toonarrow results, use a filter expression.</span></span>

<a name="howtobuildit"></a>

## <a name="build-a-faceted-navigation-app"></a><span data-ttu-id="0aed5-171">Hozza létre a jellemzőalapú navigáció alkalmazását</span><span class="sxs-lookup"><span data-stu-id="0aed5-171">Build a faceted navigation app</span></span>
<span data-ttu-id="0aed5-172">Az Azure Search jellemzőalapú navigációs az alkalmazás kódjában hello keresési kérelem épülő valósítja meg.</span><span class="sxs-lookup"><span data-stu-id="0aed5-172">You implement faceted navigation with Azure Search in your application code that builds hello search request.</span></span> <span data-ttu-id="0aed5-173">hello jellemzőalapú navigáció a sémában, amely a korábban meghatározott elemek támaszkodik.</span><span class="sxs-lookup"><span data-stu-id="0aed5-173">hello faceted navigation relies on elements in your schema that you defined previously.</span></span>

<span data-ttu-id="0aed5-174">A search-index előre meghatározott van hello `Facetable [true|false]` attribútum indexelése, állítson be a kijelölt mezőket tooenable, vagy tiltsa le a használatukat jellemzőalapú navigációs szerkezetben.</span><span class="sxs-lookup"><span data-stu-id="0aed5-174">Predefined in your search index is hello `Facetable [true|false]` index attribute, set on selected fields tooenable or disable their use in a faceted navigation structure.</span></span> <span data-ttu-id="0aed5-175">Nélkül `"Facetable" = true`, egy mező nem lehet felhasználni dimenzió navigációs.</span><span class="sxs-lookup"><span data-stu-id="0aed5-175">Without `"Facetable" = true`, a field cannot be used in facet navigation.</span></span>

<span data-ttu-id="0aed5-176">hello bemutató réteg a kódban hello felhasználói élményt nyújt.</span><span class="sxs-lookup"><span data-stu-id="0aed5-176">hello presentation layer in your code provides hello user experience.</span></span> <span data-ttu-id="0aed5-177">Az szerepelnie kell a hello jellemzőalapú navigációs, például hello címke értékek, jelölőnégyzeteket vagy hello száma hello része.</span><span class="sxs-lookup"><span data-stu-id="0aed5-177">It should list hello constituent parts of hello faceted navigation, such as hello label, values, check boxes, and hello count.</span></span> <span data-ttu-id="0aed5-178">hello Azure Search REST API platform független, ezért bármilyen nyelvet és a kívánt platform.</span><span class="sxs-lookup"><span data-stu-id="0aed5-178">hello Azure Search REST API is platform agnostic, so use whatever language and platform you want.</span></span> <span data-ttu-id="0aed5-179">hello fontos, tooinclude felhasználói felületi elemei, amelyek támogatják a növekményes frissítése, a frissített felhasználói felület állapota, minden további tényező van kiválasztva.</span><span class="sxs-lookup"><span data-stu-id="0aed5-179">hello important thing is tooinclude UI elements that support incremental refresh, with updated UI state as each additional facet is selected.</span></span> 

<span data-ttu-id="0aed5-180">A lekérdezés idejét, az alkalmazás kódjában kérést hoz létre, amely tartalmazza az `facet=[string]`, egy kérelem paraméter, amely hello mező toofacet által.</span><span class="sxs-lookup"><span data-stu-id="0aed5-180">At query time, your application code creates a request that includes `facet=[string]`, a request parameter that provides hello field toofacet by.</span></span> <span data-ttu-id="0aed5-181">Lekérdezés például rendelkezhet több facets `&facet=color&facet=category&facet=rating`, egymástól által az ampersand (&) karaktert.</span><span class="sxs-lookup"><span data-stu-id="0aed5-181">A query can have multiple facets, such as `&facet=color&facet=category&facet=rating`, each one separated by an ampersand (&) character.</span></span>

<span data-ttu-id="0aed5-182">Alkalmazás kódja is kell létrehozni egy `$filter` kifejezés toohandle hello kattintson jellemzőalapú navigáció az események.</span><span class="sxs-lookup"><span data-stu-id="0aed5-182">Application code must also construct a `$filter` expression toohandle hello click events in faceted navigation.</span></span> <span data-ttu-id="0aed5-183">A `$filter` hello keresési eredményeket, hello értékkorlátozás értéke szűrőként csökkenti.</span><span class="sxs-lookup"><span data-stu-id="0aed5-183">A `$filter` reduces hello search results, using hello facet value as filter criteria.</span></span>

<span data-ttu-id="0aed5-184">Az Azure Search hello keresési eredmény, egy vagy több ad meg, valamint frissítések toohello jellemzőalapú navigációs szerkezetben igényei szerint adja vissza.</span><span class="sxs-lookup"><span data-stu-id="0aed5-184">Azure Search returns hello search results, based on one or more terms that you enter, along with updates toohello faceted navigation structure.</span></span> <span data-ttu-id="0aed5-185">Az Azure Search jellemzőalapú navigációs egy egyszintű konstrukció értékkorlátozás értékekkel, és megjeleníti, hogy hány eredmények találhatók minden egyes.</span><span class="sxs-lookup"><span data-stu-id="0aed5-185">In Azure Search, faceted navigation is a single-level construction, with facet values, and counts of how many results are found for each one.</span></span>

<span data-ttu-id="0aed5-186">A következő részekben hello, hogyan lehet közelebbről vesszük toobuild minden egyes részben.</span><span class="sxs-lookup"><span data-stu-id="0aed5-186">In hello following sections, we take a closer look at how toobuild each part.</span></span>

<a name="buildindex"></a>

## <a name="build-hello-index"></a><span data-ttu-id="0aed5-187">Hello index létrehozása</span><span class="sxs-lookup"><span data-stu-id="0aed5-187">Build hello index</span></span>
<span data-ttu-id="0aed5-188">Értékkorlátozás engedélyezve van a hello index, az index attribútum keresztül mező által alapon: `"Facetable": true`.</span><span class="sxs-lookup"><span data-stu-id="0aed5-188">Faceting is enabled on a field-by-field basis in hello index, via this index attribute: `"Facetable": true`.</span></span>  
<span data-ttu-id="0aed5-189">Minden mező típusok, amelyeket esetleg használhatnak jellemzőalapú navigációs `Facetable` alapértelmezés szerint.</span><span class="sxs-lookup"><span data-stu-id="0aed5-189">All field types that could possibly be used in faceted navigation are `Facetable` by default.</span></span> <span data-ttu-id="0aed5-190">Ilyen típusú tartalmaznak `Edm.String`, `Edm.DateTimeOffset`, és az összes numerikus típusú hello (alapvetően a minden mező típusok a következők kivételével kategorizálható `Edm.GeographyPoint`, jellemzőalapú navigációs nem használható).</span><span class="sxs-lookup"><span data-stu-id="0aed5-190">Such field types include `Edm.String`, `Edm.DateTimeOffset`, and all hello numeric field types (essentially, all field types are facetable except `Edm.GeographyPoint`, which can’t be used in faceted navigation).</span></span> 

<span data-ttu-id="0aed5-191">Az index létrehozásakor jellemzőalapú navigációs esetén ajánlott eljárás kikapcsolt tooexplicitly kapcsolja értékkorlátozás soha nem használható mint egy dimenzió mezők.</span><span class="sxs-lookup"><span data-stu-id="0aed5-191">When building an index, a best practice for faceted navigation is tooexplicitly turn faceting off for fields that should never be used as a facet.</span></span>  <span data-ttu-id="0aed5-192">Különösen a singleton értékek, például az azonosító vagy a termék nevét, a karakterlánc típusú beállításaként túl`"Facetable": false` tooprevent jellemzőalapú navigációs használja a véletlen (és hatástalan).</span><span class="sxs-lookup"><span data-stu-id="0aed5-192">In particular, string fields for singleton values, such as an ID or product name, should be set too`"Facetable": false` tooprevent their accidental (and ineffective) use in faceted navigation.</span></span> <span data-ttu-id="0aed5-193">Értékkorlátozás nem kell ki indításának segít hello index hello mérete kisebb, és általában javítja a teljesítményt.</span><span class="sxs-lookup"><span data-stu-id="0aed5-193">Turning faceting off where you don’t need it helps keep hello size of hello index small, and typically improves performance.</span></span>

<span data-ttu-id="0aed5-194">Következő hello feladat Portal bemutató mintaalkalmazást, néhány attribútumok tooreduce hello méretű rövidített hello sémája része:</span><span class="sxs-lookup"><span data-stu-id="0aed5-194">Following is part of hello schema for hello Job Portal Demo sample app, trimmed of some attributes tooreduce hello size:</span></span>

```json
{
  ...
  "name": "nycjobs",
  "fields": [
    { “name”: "id",                 "type": "Edm.String",              "searchable": false, "filterable": false, ... "facetable": false, ... },
    { “name”: "job_id",             "type": "Edm.String",              "searchable": false, "filterable": false, ... "facetable": false, ... },
    { “name”: "agency",              "type": "Edm.String",             "searchable": true,  "filterable": true, ...  "facetable": true, ...  },
    { “name”: "posting_type",        "type": "Edm.String",             "searchable": true,  "filterable": true, ...  "facetable": true, ...  },
    { “name”: "num_of_positions",    "type": "Edm.Int32",              "searchable": false, "filterable": true, ...  "facetable": true, ...  },
    { “name”: "business_title",      "type": "Edm.String",             "searchable": true,  "filterable": true, ...  "facetable": true, ...  },
    { “name”: "civil_service_title", "type": "Edm.String",             "searchable": true,  "filterable": true, ...  "facetable": true, ...  },
    { “name”: "title_code_no",       "type": "Edm.String",             "searchable": true,  "filterable": true, ...  "facetable": true, ...  },
    { “name”: "level",               "type": "Edm.String",             "searchable": true,  "filterable": true, ...  "facetable": true, ...  },
    { “name”: "salary_range_from",   "type": "Edm.Int32",              "searchable": false, "filterable": true, ...  "facetable": true, ...  },
    { “name”: "salary_range_to",     "type": "Edm.Int32",              "searchable": false, "filterable": true, ...  "facetable": true, ...  },
    { “name”: "salary_frequency",    "type": "Edm.String",             "searchable": true,  "filterable": true, ...  "facetable": true, ...  },
    { “name”: "work_location",       "type": "Edm.String",             "searchable": true,  "filterable": true, ...  "facetable": true, ...  },
…
    { “name”: "geo_location",        "type": "Edm.GeographyPoint",     "searchable": false, "filterable": true, ...  "facetable": false, ... },
    { “name”: "tags",                "type": "Collection(Edm.String)", "searchable": true,  "filterable": true, ...  "facetable": true, ...  }
  ],
…
}
```

<span data-ttu-id="0aed5-195">Ahogy látja hello minta sémában `Facetable` , értékkorlátozás, például az azonosító értékek nem használható a karakterlánc típusú ki van kapcsolva.</span><span class="sxs-lookup"><span data-stu-id="0aed5-195">As you can see in hello sample schema, `Facetable` is turned off for string fields that shouldn’t be used as facets, such as ID values.</span></span> <span data-ttu-id="0aed5-196">Értékkorlátozás nem kell ki indításának segít hello index hello mérete kisebb, és általában javítja a teljesítményt.</span><span class="sxs-lookup"><span data-stu-id="0aed5-196">Turning faceting off where you don’t need it helps keep hello size of hello index small, and typically improves performance.</span></span>

> [!TIP]
> <span data-ttu-id="0aed5-197">Ajánlott eljárásként hello minden mező attribútum teljes készletét tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="0aed5-197">As a best practice, include hello full set of index attributes for each field.</span></span> <span data-ttu-id="0aed5-198">Bár a `Facetable` alapértelmezés szerint be szinte minden mező szándékosan beállítása minden attribútum segítségével gondolja, hogy minden egyes séma döntési hello következményei keresztül.</span><span class="sxs-lookup"><span data-stu-id="0aed5-198">Although `Facetable` is on by default for almost all fields, purposely setting each attribute can help you think through hello implications of each schema decision.</span></span> 

<a name="checkdata"></a>

## <a name="check-hello-data"></a><span data-ttu-id="0aed5-199">Hello adatok ellenőrzése</span><span class="sxs-lookup"><span data-stu-id="0aed5-199">Check hello data</span></span>
<span data-ttu-id="0aed5-200">az adatok hello minőségének e hello jellemzőalapú navigációs szerkezetben megvalósul a várt módon közvetlen hatással van.</span><span class="sxs-lookup"><span data-stu-id="0aed5-200">hello quality of your data has a direct effect on whether hello faceted navigation structure materializes as you expect it to.</span></span> <span data-ttu-id="0aed5-201">Hatással van hello könnyű tooreduce hello eredménykészlet szűrőket hozhat létre.</span><span class="sxs-lookup"><span data-stu-id="0aed5-201">It also affects hello ease of constructing filters tooreduce hello result set.</span></span>

<span data-ttu-id="0aed5-202">Ha azt szeretné, hogy a márka vagy ár toofacet, egyes dokumentumok tartalmaznia kell az értékek *márkanév* és *ProductPrice* , amelyek érvényes, egységes, és a termelékenység szűrő beállításként.</span><span class="sxs-lookup"><span data-stu-id="0aed5-202">If you want toofacet by Brand or Price, each document should contain values for *BrandName* and *ProductPrice* that are valid, consistent, and productive as a filter option.</span></span>

<span data-ttu-id="0aed5-203">Az alábbiakban néhány emlékeztetőket milyen tooscrub számára:</span><span class="sxs-lookup"><span data-stu-id="0aed5-203">Here are a few reminders of what tooscrub for:</span></span>

* <span data-ttu-id="0aed5-204">Minden mező toofacet által használni kívánt tegye fel magának hogy tartalmaz-e a irányuló keresési szűrőként megfelelő értékeket.</span><span class="sxs-lookup"><span data-stu-id="0aed5-204">For every field that you want toofacet by, ask yourself whether it contains values that are suitable as filters in self-directed search.</span></span> <span data-ttu-id="0aed5-205">hello értékeket rövid leíró és eléggé jellegzetes toooffer választási lehetőséget versengő beállításai között kell lennie.</span><span class="sxs-lookup"><span data-stu-id="0aed5-205">hello values should be short, descriptive, and sufficiently distinctive toooffer a clear choice between competing options.</span></span>
* <span data-ttu-id="0aed5-206">Talál helyesírási hibát vagy majdnem egyező értékek.</span><span class="sxs-lookup"><span data-stu-id="0aed5-206">Misspellings or nearly matching values.</span></span> <span data-ttu-id="0aed5-207">Ha a színt és a mezőértékek értékkorlátozás közé tartozik a narancssárga és Ornage (helyesírási), egy dimenzió hello szín mező alapján lenne érvényesítéséhez mindkét.</span><span class="sxs-lookup"><span data-stu-id="0aed5-207">If you facet on Color, and field values include Orange and Ornage (a misspelling), a facet based on hello Color field would pick up both.</span></span>
* <span data-ttu-id="0aed5-208">Vegyes eset szöveget is képes teszi pusztítást jellemzőalapú navigációs narancssárga és narancssárga két különböző értékként jelenik meg.</span><span class="sxs-lookup"><span data-stu-id="0aed5-208">Mixed case text can also wreak havoc in faceted navigation, with orange and Orange appearing as two different values.</span></span> 
* <span data-ttu-id="0aed5-209">Ugyanazt az értéket egy külön dimenzió eredményezhet az egyes hello egyetlen és többes számú verzióját.</span><span class="sxs-lookup"><span data-stu-id="0aed5-209">Single and plural versions of hello same value can result in a separate facet for each.</span></span>

<span data-ttu-id="0aed5-210">Módon is tekinthető, a gondossággal a hello adatok előkészítése az hatékony jellemzőalapú navigációs lényeges eleme.</span><span class="sxs-lookup"><span data-stu-id="0aed5-210">As you can imagine, diligence in preparing hello data is an essential aspect of effective faceted navigation.</span></span>

<a name="presentationlayer"></a>

## <a name="build-hello-ui"></a><span data-ttu-id="0aed5-211">Hello felhasználói felület létrehozása</span><span class="sxs-lookup"><span data-stu-id="0aed5-211">Build hello UI</span></span>
<span data-ttu-id="0aed5-212">Munkavégzéséből hello bemutató réteg is felderíthesse az követelményeket, ellenkező esetben előfordulhat, hogy hiányzik, és megismerje a milyen lehetőségek állnak alapvető toohello súgó nyújtotta adatkeresési élménybe.</span><span class="sxs-lookup"><span data-stu-id="0aed5-212">Working back from hello presentation layer can help you uncover requirements that might be missed otherwise, and understand which capabilities are essential toohello search experience.</span></span>

<span data-ttu-id="0aed5-213">Jellemzőalapú navigációs tekintetében a a webhely vagy alkalmazás lap hello jellemzőalapú navigációs szerkezetben megjeleníti, hello lap felhasználói bevitelt észleli, és megváltozott hello elemek beszúrása.</span><span class="sxs-lookup"><span data-stu-id="0aed5-213">In terms of faceted navigation, your web or application page displays hello faceted navigation structure, detects user input on hello page, and inserts hello changed elements.</span></span> 

<span data-ttu-id="0aed5-214">Webes alkalmazásokhoz mivel toorefresh a növekményes változásokat lehetővé teszi a AJAX általánosan használt van hello bemutató rétegben.</span><span class="sxs-lookup"><span data-stu-id="0aed5-214">For web applications, AJAX is commonly used in hello presentation layer because it allows you toorefresh incremental changes.</span></span> <span data-ttu-id="0aed5-215">ASP.NET MVC vagy bármely más képi megjelenítés platform, amely a HTTP protokollon keresztül is kapcsolódhatnak az Azure Search szolgáltatás tooan is használhatja.</span><span class="sxs-lookup"><span data-stu-id="0aed5-215">You could also use ASP.NET MVC or any other visualization platform that can connect tooan Azure Search service over HTTP.</span></span> <span data-ttu-id="0aed5-216">hello mintaalkalmazás hivatkozott ebben a cikkben – hello **Azure keresési feladat Portal bemutató** – ASP.NET MVC alkalmazásnak toobe történik.</span><span class="sxs-lookup"><span data-stu-id="0aed5-216">hello sample application referenced throughout this article -- hello **Azure Search Job Portal Demo** – happens toobe an ASP.NET MVC application.</span></span>

<span data-ttu-id="0aed5-217">Hello mintában jellemzőalapú navigációs beépített hello keresési eredmények oldalát.</span><span class="sxs-lookup"><span data-stu-id="0aed5-217">In hello sample, faceted navigation is built into hello search results page.</span></span> <span data-ttu-id="0aed5-218">hello a következő példa hello vett `index.cshtml` fájl hello mintaalkalmazásnak, mutat be hello statikus HTML-szerkezet jellemzőalapú navigációs megjelenítése hello keresési eredmények.</span><span class="sxs-lookup"><span data-stu-id="0aed5-218">hello following example, taken from hello `index.cshtml` file of hello sample application, shows hello static HTML structure for displaying faceted navigation on hello search results page.</span></span> <span data-ttu-id="0aed5-219">beépített és az újonnan létrehozott dinamikusan küldje el a kívánt keresőkifejezést, vagy válassza ki vagy egy dimenzió törölje a értékkorlátozás hello listája.</span><span class="sxs-lookup"><span data-stu-id="0aed5-219">hello list of facets is built or rebuilt dynamically when you submit a search term, or select or clear a facet.</span></span>

```html
<div class="widget sidebar-widget jobs-filter-widget">
  <h5 class="widget-title">Filter Results</h5>
    <p id="filterReset"></p>
    <div class="widget-content">

      <h6 id="businessTitleFacetTitle">Business Title</h6>
      <ul class="filter-list" id="business_title_facets">
      </ul>

      <h6>Location</h6>
      <ul class="filter-list" id="posting_type_facets">
      </ul>

      <h6>Posting Type</h6>
      <ul class="filter-list" id="posting_type_facets"></ul>

      <h6>Minimum Salary</h6>
      <ul class="filter-list" id="salary_range_facets">
      </ul>

  </div>
</div>
```

<span data-ttu-id="0aed5-220">a következő kódrészletet a hello hello `index.cshtml` lap dinamikusan összeállít hello HTML toodisplay hello első értékkorlátozás, üzleti cím.</span><span class="sxs-lookup"><span data-stu-id="0aed5-220">hello following code snippet from hello `index.cshtml` page dynamically builds hello HTML toodisplay hello first facet, Business Title.</span></span> <span data-ttu-id="0aed5-221">Hasonló funkciókat dinamikusan hozhat létre. a hello HTML hello más értékkorlátozást.</span><span class="sxs-lookup"><span data-stu-id="0aed5-221">Similar functions dynamically build hello HTML for hello other facets.</span></span> <span data-ttu-id="0aed5-222">Minden dimenzió rendelkezik egy címke és számát, amely dimenzió eredményező talált elemek hello számát mutatja.</span><span class="sxs-lookup"><span data-stu-id="0aed5-222">Each facet has a label and a count, which displays hello number of items found for that facet result.</span></span>

```js
function UpdateBusinessTitleFacets(data) {
  var facetResultsHTML = '';
  for (var i = 0; i < data.length; i++) {
    facetResultsHTML += '<li><a href="javascript:void(0)" onclick="ChooseBusinessTitleFacet(\'' + data[i].Value + '\');">' + data[i].Value + ' (' + data[i].Count + ')</span></a></li>';
  }

  $("#business_title_facets").html(facetResultsHTML);
}
```

> [!TIP]
> <span data-ttu-id="0aed5-223">Amikor hello keresési eredmények oldalát, ne felejtse el egy olyan mechanizmus clearing értékkorlátozás tooadd.</span><span class="sxs-lookup"><span data-stu-id="0aed5-223">When you design hello search results page, remember tooadd a mechanism for clearing facets.</span></span> <span data-ttu-id="0aed5-224">Ha jelölőnégyzeteket, könnyen látható hogyan tooclear hello szűrők.</span><span class="sxs-lookup"><span data-stu-id="0aed5-224">If you add check boxes, you can easily see how tooclear hello filters.</span></span> <span data-ttu-id="0aed5-225">Más elrendezés esetén szükség lehet egy webhely-navigációs mintát vagy egy másik kreatív megközelítés.</span><span class="sxs-lookup"><span data-stu-id="0aed5-225">For other layouts, you might need a breadcrumb pattern or another creative approach.</span></span> <span data-ttu-id="0aed5-226">Például hello feladat keresési portál mintaalkalmazást, válassza hello `[X]` után egy kijelölt értékkorlátozás tooclear hello dimenzió.</span><span class="sxs-lookup"><span data-stu-id="0aed5-226">For example, in hello Job Search Portal sample application, you can click hello `[X]` after a selected facet tooclear hello facet.</span></span>

<a name="buildquery"></a>

## <a name="build-hello-query"></a><span data-ttu-id="0aed5-227">Hello lekérdezés</span><span class="sxs-lookup"><span data-stu-id="0aed5-227">Build hello query</span></span>
<span data-ttu-id="0aed5-228">hello készítéséhez lekérdezéseket írhat kódot adjon meg érvényes lekérdezést, beleértve a keresési kifejezéseket, értékkorlátozás, szűrők, pontozási profilok – semmit mindegyik részének használt tooformulate kérelmet.</span><span class="sxs-lookup"><span data-stu-id="0aed5-228">hello code that you write for building queries should specify all parts of a valid query, including search expressions, facets, filters, scoring profiles– anything used tooformulate a request.</span></span> <span data-ttu-id="0aed5-229">Ez a szakasz azt vizsgálatát, ahol értékkorlátozás illeszthető be a lekérdezés, illetve a facets toodeliver szűrők használata csökkentett set vezethet.</span><span class="sxs-lookup"><span data-stu-id="0aed5-229">In this section, we explore where facets fit into a query, and how filters are used with facets toodeliver a reduced result set.</span></span>

<span data-ttu-id="0aed5-230">Figyelje meg, hogy a mintaalkalmazást a részét képezik-e értékkorlátozást.</span><span class="sxs-lookup"><span data-stu-id="0aed5-230">Notice that facets are integral in this sample application.</span></span> <span data-ttu-id="0aed5-231">hello keresési élményt hello feladat Portal bemutató jellemzőalapú navigáció és a szűrők ellátására van kialakítva.</span><span class="sxs-lookup"><span data-stu-id="0aed5-231">hello search experience in hello Job Portal Demo is designed around faceted navigation and filters.</span></span> <span data-ttu-id="0aed5-232">hello hello oldalon jellemzőalapú navigációs jól láthatóan elhelyezett elhelyezését az fontos mutatja be.</span><span class="sxs-lookup"><span data-stu-id="0aed5-232">hello prominent placement of faceted navigation on hello page demonstrates its importance.</span></span> 

<span data-ttu-id="0aed5-233">Példa: gyakran egy remek toobegin.</span><span class="sxs-lookup"><span data-stu-id="0aed5-233">An example is often a good place toobegin.</span></span> <span data-ttu-id="0aed5-234">hello a következő példa hello vett `JobsSearch.cs` fájl, a kérelmeket, amelyek hoz létre a dimenzió navigációs alapján üzleti cím, a helyet, a könyvelési típusa és a minimális fizetés buildek.</span><span class="sxs-lookup"><span data-stu-id="0aed5-234">hello following example, taken from hello `JobsSearch.cs` file, builds a request that creates facet navigation based on Business Title, Location, Posting Type, and Minimum Salary.</span></span> 

```cs
SearchParameters sp = new SearchParameters()
{
  ...
  // Add facets
  Facets = new List<String>() { "business_title", "posting_type", "level", "salary_range_from,interval:50000" },
};
```

<span data-ttu-id="0aed5-235">Egy dimenzió lekérdezési paraméter tooa mező úgy van beállítva, és hello adatok típusától függően is lehet további paraméterezni vesszővel tagolt listája, amely tartalmazza az `count:<integer>`, `sort:<>`, `interval:<integer>`, és `values:<list>`.</span><span class="sxs-lookup"><span data-stu-id="0aed5-235">A facet query parameter is set tooa field and depending on hello data type, can be further parameterized by comma-delimited list that includes `count:<integer>`, `sort:<>`, `interval:<integer>`, and `values:<list>`.</span></span> <span data-ttu-id="0aed5-236">Értékek listáját támogatott numerikus tartományok beállítása során.</span><span class="sxs-lookup"><span data-stu-id="0aed5-236">A values list is supported for numeric data when setting up ranges.</span></span> <span data-ttu-id="0aed5-237">Lásd: [dokumentumok keresése (Azure Search API)](http://msdn.microsoft.com/library/azure/dn798927.aspx) a használat részleteiről.</span><span class="sxs-lookup"><span data-stu-id="0aed5-237">See [Search Documents (Azure Search API)](http://msdn.microsoft.com/library/azure/dn798927.aspx) for usage details.</span></span>

<span data-ttu-id="0aed5-238">Értékkorlátozás, valamint az alkalmazás által megfogalmazott hello kérelem is összeállítsa-szűrők toonarrow le hello beállítása jelölt dokumentumok értékkorlátozás értéke a kijelölés alapján.</span><span class="sxs-lookup"><span data-stu-id="0aed5-238">Along with facets, hello request formulated by your application should also build filters toonarrow down hello set of candidate documents based on a facet value selection.</span></span> <span data-ttu-id="0aed5-239">Egy kerékpárt Store jellemzőalapú navigációs biztosít keresik tooquestions, például *érhetők el a milyen színek, gyártók és kerékpárt típusú?*.</span><span class="sxs-lookup"><span data-stu-id="0aed5-239">For a bike store, faceted navigation provides clues tooquestions like *What colors, manufacturers, and types of bikes are available?*.</span></span> <span data-ttu-id="0aed5-240">Szűrés kérdésekre ad választ például *hegyi kerékpárt, mely pontos kerékpárt piros, tartomány ár ezen?*.</span><span class="sxs-lookup"><span data-stu-id="0aed5-240">Filtering answers questions like *Which exact bikes are red, mountain bikes, in this price range?*.</span></span> <span data-ttu-id="0aed5-241">Kattintson a "Red" tooindicate csak piros termékek megjeleníteni, hello tovább lekérdezés hello alkalmazás küld tartalmaz `$filter=Color eq ‘Red’`.</span><span class="sxs-lookup"><span data-stu-id="0aed5-241">When you click "Red" tooindicate that only Red products should be shown, hello next query hello application sends includes `$filter=Color eq ‘Red’`.</span></span>

<span data-ttu-id="0aed5-242">a következő kódrészletet a hello hello `JobsSearch.cs` lapon kiválasztott hello üzleti cím toohello szűrőt ad, ha a kiválaszthat egy értéket a hello üzleti cím értékkorlátozás.</span><span class="sxs-lookup"><span data-stu-id="0aed5-242">hello following code snippet from hello `JobsSearch.cs` page adds hello selected Business Title toohello filter if you select a value from hello Business Title facet.</span></span>

```cs
if (businessTitleFacet != "")
  filter = "business_title eq '" + businessTitleFacet + "'";
```

<a name="tips"></a> 

## <a name="tips-and-best-practices"></a><span data-ttu-id="0aed5-243">Tippek és ajánlott eljárások</span><span class="sxs-lookup"><span data-stu-id="0aed5-243">Tips and best practices</span></span>

### <a name="indexing-tips"></a><span data-ttu-id="0aed5-244">Az indexelő tippek</span><span class="sxs-lookup"><span data-stu-id="0aed5-244">Indexing tips</span></span>
<span data-ttu-id="0aed5-245">**Növelje a index hatékonyságát, ha nem adja meg a keresési mezőbe**</span><span class="sxs-lookup"><span data-stu-id="0aed5-245">**Improve index efficiency if you don't use a Search box**</span></span>

<span data-ttu-id="0aed5-246">Ha az alkalmazás jellemzőalapú navigációs kizárólag (Ez azt jelenti, hogy nincs keresőmezőbe) jelölheti meg hello mező `searchable=false`, `facetable=true` tooproduce tömörebb index.</span><span class="sxs-lookup"><span data-stu-id="0aed5-246">If your application uses faceted navigation exclusively (that is, no search box), you can mark hello field as `searchable=false`, `facetable=true` tooproduce a more compact index.</span></span> <span data-ttu-id="0aed5-247">Ezenkívül indexelő akkor következik be, csak a teljes dimenzióértéknek nem szóhatárolással vagy több word érték részeit hello összetevő indexelése.</span><span class="sxs-lookup"><span data-stu-id="0aed5-247">In addition, indexing occurs only on whole facet values, with no word-break or indexing of hello component parts of a multi-word value.</span></span>

<span data-ttu-id="0aed5-248">**Adja meg, melyik mezőkre értékkorlátozás használható**</span><span class="sxs-lookup"><span data-stu-id="0aed5-248">**Specify which fields can be used as facets**</span></span>

<span data-ttu-id="0aed5-249">Adott hello visszahívása hello index séma meghatározza, hogy melyik mezőkre elérhető toouse, mint egy dimenzió.</span><span class="sxs-lookup"><span data-stu-id="0aed5-249">Recall that hello schema of hello index determines which fields are available toouse as a facet.</span></span> <span data-ttu-id="0aed5-250">Ha egy mező kategorizálható, a hello lekérdezés mely mezők toofacet által határoz meg.</span><span class="sxs-lookup"><span data-stu-id="0aed5-250">Assuming a field is facetable, hello query specifies which fields toofacet by.</span></span> <span data-ttu-id="0aed5-251">hello mező, amellyel értékkorlátozás program biztosít hello értékek, amelyek hello címke alatt jelennek meg.</span><span class="sxs-lookup"><span data-stu-id="0aed5-251">hello field by which you are faceting provides hello values that appear below hello label.</span></span> 

<span data-ttu-id="0aed5-252">minden címkének alatt megjelenő hello értékek lekért hello index.</span><span class="sxs-lookup"><span data-stu-id="0aed5-252">hello values that appear under each label are retrieved from hello index.</span></span> <span data-ttu-id="0aed5-253">Például ha hello értékkorlátozás mezője *szín*, hello érhető el, további szűréséhez értékek hello értékek - mező piros, fekete és így tovább.</span><span class="sxs-lookup"><span data-stu-id="0aed5-253">For example, if hello facet field is *Color*, hello values available for additional filtering are hello values for that field - Red, Black, and so forth.</span></span>

<span data-ttu-id="0aed5-254">A numerikus és DateTime típusú értékek csak, explicit módon értékeket állíthat hello értékkorlátozás mező (például `facet=Rating,values:1|2|3|4|5`).</span><span class="sxs-lookup"><span data-stu-id="0aed5-254">For Numeric and DateTime values only, you can explicitly set values on hello facet field (for example, `facet=Rating,values:1|2|3|4|5`).</span></span> <span data-ttu-id="0aed5-255">Értékek listáját ezen mező típusok toosimplify hello elkülönítése értékkorlátozás eredmények összefüggő tartományok (vagy numerikus értékek vagy időszakoknak alapján tartományok) az engedélyezett.</span><span class="sxs-lookup"><span data-stu-id="0aed5-255">A values list is allowed for these field types toosimplify hello separation of facet results into contiguous ranges (either ranges based on numeric values or time periods).</span></span> 

<span data-ttu-id="0aed5-256">**Alapértelmezés szerint csak akkor jellemzőalapú navigációs egy szintjének összecsukása**</span><span class="sxs-lookup"><span data-stu-id="0aed5-256">**By default you can only have one level of faceted navigation**</span></span> 

<span data-ttu-id="0aed5-257">Amint, nincs beágyazási értékkorlátozás a hierarchiában nincs közvetlen támogatása.</span><span class="sxs-lookup"><span data-stu-id="0aed5-257">As noted, there is no direct support for nesting facets in a hierarchy.</span></span> <span data-ttu-id="0aed5-258">Alapértelmezés szerint az Azure Search jellemzőalapú navigációs csak egy szintjének összecsukása szűrők támogatja.</span><span class="sxs-lookup"><span data-stu-id="0aed5-258">By default, faceted navigation in Azure Search only supports one level of filters.</span></span> <span data-ttu-id="0aed5-259">Azonban lehetséges megoldások léteznek.</span><span class="sxs-lookup"><span data-stu-id="0aed5-259">However, workarounds do exist.</span></span> <span data-ttu-id="0aed5-260">A dimenzió hierarchikus struktúra is kódol egy `Collection(Edm.String)` egy belépési pont száma hierarchiánként.</span><span class="sxs-lookup"><span data-stu-id="0aed5-260">You can encode a hierarchical facet structure in a `Collection(Edm.String)` with one entry point per hierarchy.</span></span> <span data-ttu-id="0aed5-261">A megoldás nem ez a cikk hello terjed.</span><span class="sxs-lookup"><span data-stu-id="0aed5-261">Implementing this workaround is beyond hello scope of this article.</span></span> 

### <a name="querying-tips"></a><span data-ttu-id="0aed5-262">Tippek lekérdezése</span><span class="sxs-lookup"><span data-stu-id="0aed5-262">Querying tips</span></span>
<span data-ttu-id="0aed5-263">**Ellenőrizze a mezőket**</span><span class="sxs-lookup"><span data-stu-id="0aed5-263">**Validate fields**</span></span>

<span data-ttu-id="0aed5-264">Ha nem megbízható felhasználói bevitel alapján dinamikusan értékkorlátozás hello listája, ellenőrzése, hogy érvényesek-e a hello hello jellemzőalapú mezők nevét.</span><span class="sxs-lookup"><span data-stu-id="0aed5-264">If you build hello list of facets dynamically based on untrusted user input, validate that hello names of hello faceted fields are valid.</span></span> <span data-ttu-id="0aed5-265">Vagy URL-címek használatával vagy fejlesztéskor escape-karakterekkel hello nevek `Uri.EscapeDataString()` .NET vagy a választott platform egyenértékű hello.</span><span class="sxs-lookup"><span data-stu-id="0aed5-265">Or, escape hello names when building URLs by using either `Uri.EscapeDataString()` in .NET, or hello equivalent in your platform of choice.</span></span>

### <a name="filtering-tips"></a><span data-ttu-id="0aed5-266">Szűrési tippek</span><span class="sxs-lookup"><span data-stu-id="0aed5-266">Filtering tips</span></span>
<span data-ttu-id="0aed5-267">**Keresési pontosság növeléséhez szűrőkkel**</span><span class="sxs-lookup"><span data-stu-id="0aed5-267">**Increase search precision with filters**</span></span>

<span data-ttu-id="0aed5-268">Szűrők használata.</span><span class="sxs-lookup"><span data-stu-id="0aed5-268">Use filters.</span></span> <span data-ttu-id="0aed5-269">Ha csak keresési kifejezés önmagában, a dokumentum toobe származó okozhat hello pontos értékkorlátozás értéke, amely nem rendelkezik sem mezők adott vissza.</span><span class="sxs-lookup"><span data-stu-id="0aed5-269">If you rely on just search expressions alone, stemming could cause a document toobe returned that doesn’t have hello precise facet value in any of its fields.</span></span>

<span data-ttu-id="0aed5-270">**A szűrők keresési teljesítményének javítása**</span><span class="sxs-lookup"><span data-stu-id="0aed5-270">**Increase search performance with filters**</span></span>

<span data-ttu-id="0aed5-271">Szűrők hello beállítása jelölt dokumentumok, a keresés szűkítéséhez, és kizárja őket rangsorolási.</span><span class="sxs-lookup"><span data-stu-id="0aed5-271">Filters narrow down hello set of candidate documents for search and exclude them from ranking.</span></span> <span data-ttu-id="0aed5-272">Ha nagy számú dokumentumok, egy szelektív dimenzió leásási gyakran használata lehetővé teszi az jobb teljesítmény érdekében.</span><span class="sxs-lookup"><span data-stu-id="0aed5-272">If you have a large set of documents, using a selective facet drill-down often gives you better performance.</span></span>
  
<span data-ttu-id="0aed5-273">**Szűrő csak a hello jellemzőalapú mezők**</span><span class="sxs-lookup"><span data-stu-id="0aed5-273">**Filter only hello faceted fields**</span></span>

<span data-ttu-id="0aed5-274">Jellemzőalapú leásási, általában érdemes tooonly is hello értékkorlátozás értéke egy adott (jellemzőalapú) mező nem bárhol közötti összes kereshető mezőt tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="0aed5-274">In faceted drill-down, you typically want tooonly include documents that have hello facet value in a specific (faceted) field, not anywhere across all searchable fields.</span></span> <span data-ttu-id="0aed5-275">Hozzáad egy szűrőt megerősíti hello célmező úgy irányítja hello szolgáltatás toosearch hello jellemzőalapú mezőben egy megfelelő értéket.</span><span class="sxs-lookup"><span data-stu-id="0aed5-275">Adding a filter reinforces hello target field by directing hello service toosearch only in hello faceted field for a matching value.</span></span>

<span data-ttu-id="0aed5-276">**Trim értékkorlátozás eredmények további szűrőkkel**</span><span class="sxs-lookup"><span data-stu-id="0aed5-276">**Trim facet results with more filters**</span></span>

<span data-ttu-id="0aed5-277">Értékkorlátozás eredményei dokumentumok hello keresési eredmények, amelyek megfelelnek egy dimenzió-kifejezés szerepel.</span><span class="sxs-lookup"><span data-stu-id="0aed5-277">Facet results are documents found in hello search results that match a facet term.</span></span> <span data-ttu-id="0aed5-278">A példában a találatok között a következő hello *a felhőalapú informatika*, 254 elemek is *belső előírás* tartalom típusként.</span><span class="sxs-lookup"><span data-stu-id="0aed5-278">In hello following example, in search results for *cloud computing*, 254 items also have *internal specification* as a content type.</span></span> <span data-ttu-id="0aed5-279">Elemek már nem szükségszerűen kölcsönösen kizárják egymást.</span><span class="sxs-lookup"><span data-stu-id="0aed5-279">Items are not necessarily mutually exclusive.</span></span> <span data-ttu-id="0aed5-280">Ha egy elem megfelel hello mindkét szűrők, egyes számít.</span><span class="sxs-lookup"><span data-stu-id="0aed5-280">If an item meets hello criteria of both filters, it is counted in each one.</span></span> <span data-ttu-id="0aed5-281">A lemezmásolási kell lehetséges, ha a értékkorlátozás `Collection(Edm.String)` mezők, amelyeket gyakran használt tooimplement dokumentum címkézése.</span><span class="sxs-lookup"><span data-stu-id="0aed5-281">This duplication is possible when faceting on `Collection(Edm.String)` fields, which are often used tooimplement document tagging.</span></span>

        Search term: "cloud computing"
        Content type
           Internal specification (254)
           Video (10) 

<span data-ttu-id="0aed5-282">Általánosságban elmondható Ha talál meg, hogy a dimenzió eredmények következetesen túl nagyok, javasoljuk, hogy adja hozzá több szűrők toogive felhasználók további beállításainak hello keresési szűkítését.</span><span class="sxs-lookup"><span data-stu-id="0aed5-282">In general, if you find that facet results are consistently too large, we recommend that you add more filters toogive users more options for narrowing hello search.</span></span>

### <a name="tips-about-result-count"></a><span data-ttu-id="0aed5-283">Eredményszám kapcsolatos tippek</span><span class="sxs-lookup"><span data-stu-id="0aed5-283">Tips about result count</span></span>

<span data-ttu-id="0aed5-284">**Hello hello értékkorlátozás navigációs tételszámának korlátozása**</span><span class="sxs-lookup"><span data-stu-id="0aed5-284">**Limit hello number of items in hello facet navigation**</span></span>

<span data-ttu-id="0aed5-285">Az egyes jellemzőalapú mezők hello navigációs fában nincs alapértelmezett maximális száma 10 értékből.</span><span class="sxs-lookup"><span data-stu-id="0aed5-285">For each faceted field in hello navigation tree, there is a default limit of 10 values.</span></span> <span data-ttu-id="0aed5-286">Ez az alapértelmezett szabálykészletében navigációs struktúrákhoz mert tartja hello értékek tooa kezelhető méretével.</span><span class="sxs-lookup"><span data-stu-id="0aed5-286">This default makes sense for navigation structures because it keeps hello values list tooa manageable size.</span></span> <span data-ttu-id="0aed5-287">Egy érték toocount hozzárendelésével hello alapértelmezett lehet felülbírálni.</span><span class="sxs-lookup"><span data-stu-id="0aed5-287">You can override hello default by assigning a value toocount.</span></span>

* <span data-ttu-id="0aed5-288">`&facet=city,count:5`Meghatározza, hogy csak hello először öt város szerint rangsorolunk eredmények hello felső található dimenzió emiatt kerüljenek vissza.</span><span class="sxs-lookup"><span data-stu-id="0aed5-288">`&facet=city,count:5` specifies that only hello first five cities found in hello top ranked results are returned as a facet result.</span></span> <span data-ttu-id="0aed5-289">Fontolja meg a kívánt keresőkifejezést "repülőtéri" és a 32 megegyezik a mintalekérdezést.</span><span class="sxs-lookup"><span data-stu-id="0aed5-289">Consider a sample query with a search term of “airport” and 32 matches.</span></span> <span data-ttu-id="0aed5-290">Ha hello lekérdezés `&facet=city,count:5`, csak a legtöbb dokumentumok hello keresési eredmények között szerepelnek hello rendelkező egyedi városokat első öt hello hello értékkorlátozás eredmények.</span><span class="sxs-lookup"><span data-stu-id="0aed5-290">If hello query specifies `&facet=city,count:5`, only hello first five unique cities with hello most documents in hello search results are included in hello facet results.</span></span>

<span data-ttu-id="0aed5-291">Értesítés hello különbséget értékkorlátozás eredmények és a keresési eredmények között.</span><span class="sxs-lookup"><span data-stu-id="0aed5-291">Notice hello distinction between facet results and search results.</span></span> <span data-ttu-id="0aed5-292">A program összes hello dokumentumok hello lekérdezésnek megfelelő.</span><span class="sxs-lookup"><span data-stu-id="0aed5-292">Search results are all hello documents that match hello query.</span></span> <span data-ttu-id="0aed5-293">Értékkorlátozás eredményei hello az egyes értékkorlátozás értéke megegyezik.</span><span class="sxs-lookup"><span data-stu-id="0aed5-293">Facet results are hello matches for each facet value.</span></span> <span data-ttu-id="0aed5-294">Hello példában a találatok között szerepelnek a városnév, amelyek nincsenek hello értékkorlátozás a problémabesorolások listája (ebben a példában 5).</span><span class="sxs-lookup"><span data-stu-id="0aed5-294">In hello example, search results include City names that are not in hello facet classification list (5 in our example).</span></span> <span data-ttu-id="0aed5-295">Keresztül válnak láthatóvá értékkorlátozás törölje, vagy válassza a város mellett egyéb facets jellemzőalapú navigációs kiszűrt eredményeket.</span><span class="sxs-lookup"><span data-stu-id="0aed5-295">Results that are filtered out through faceted navigation become visible when you clear facets, or choose other facets besides City.</span></span> 

> [!NOTE]
> <span data-ttu-id="0aed5-296">Témák megvitatásához `count` Ha egynél több típus zavaró lehet.</span><span class="sxs-lookup"><span data-stu-id="0aed5-296">Discussing `count` when there is more than one type can be confusing.</span></span> <span data-ttu-id="0aed5-297">hello következő táblázat nyújt hogyan hello kifejezés Azure Search API mintakód és dokumentáció rövid összefoglalása.</span><span class="sxs-lookup"><span data-stu-id="0aed5-297">hello following table offers a brief summary of how hello term is used in Azure Search API, sample code, and documentation.</span></span> 

* `@colorFacet.count`<br/>
  <span data-ttu-id="0aed5-298">A bemutató kódban megjelenik egy count paraméter hello értékkorlátozás, értékkorlátozás eredmények használt toodisplay hello száma.</span><span class="sxs-lookup"><span data-stu-id="0aed5-298">In presentation code, you should see a count parameter on hello facet, used toodisplay hello number of facet results.</span></span> <span data-ttu-id="0aed5-299">A dimenzió eredménye száma azt jelzi, hello értékkorlátozás kifejezés vagy a tartomány megfelelő dokumentumok hello száma.</span><span class="sxs-lookup"><span data-stu-id="0aed5-299">In facet results, count indicates hello number of documents that match on hello facet term or range.</span></span>
* `&facet=City,count:12`<br/>
  <span data-ttu-id="0aed5-300">A dimenzió lekérdezésben tooa számérték állíthatja be.</span><span class="sxs-lookup"><span data-stu-id="0aed5-300">In a facet query, you can set count tooa value.</span></span>  <span data-ttu-id="0aed5-301">hello alapértelmezés szerint 10, de be lehet állítani magasabb vagy alacsonyabb.</span><span class="sxs-lookup"><span data-stu-id="0aed5-301">hello default is 10, but you can set it higher or lower.</span></span> <span data-ttu-id="0aed5-302">Beállítás `count:12` lekérdezi hello felső 12 egyezések értékkorlátozás eredmények a dokumentum száma szerint.</span><span class="sxs-lookup"><span data-stu-id="0aed5-302">Setting `count:12` gets hello top 12 matches in facet results by document count.</span></span>
* <span data-ttu-id="0aed5-303">"`@odata.count`"</span><span class="sxs-lookup"><span data-stu-id="0aed5-303">"`@odata.count`"</span></span><br/>
  <span data-ttu-id="0aed5-304">Hello lekérdezés válaszként Ez az érték azt jelzi, hello hello keresési eredmények egyező elemek száma.</span><span class="sxs-lookup"><span data-stu-id="0aed5-304">In hello query response, this value indicates hello number of matching items in hello search results.</span></span> <span data-ttu-id="0aed5-305">Átlagosan együtt, a feltételeknek megfelelő hello keresőkifejezéssel, toohello jelenléte miatt az összes dimenzió eredmények hello összege nagyobb, de nincs értékkorlátozás értéke megegyezik rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="0aed5-305">On average, it’s larger than hello sum of all facet results combined, due toohello presence of items that match hello search term, but have no facet value matches.</span></span>

<span data-ttu-id="0aed5-306">**Értékkorlátozás eredmények összesítése beolvasása**</span><span class="sxs-lookup"><span data-stu-id="0aed5-306">**Get counts in facet results**</span></span>

<span data-ttu-id="0aed5-307">Ha hozzáad egy szűrő tooa jellemzőalapú lekérdezést, érdemes lehet a tooretain hello értékkorlátozás utasítás (például `facet=Rating&$filter=Rating ge 4`).</span><span class="sxs-lookup"><span data-stu-id="0aed5-307">When you add a filter tooa faceted query, you might want tooretain hello facet statement (for example, `facet=Rating&$filter=Rating ge 4`).</span></span> <span data-ttu-id="0aed5-308">Technikai szempontból értékkorlátozás = minősítő nem szükséges, de hello számát is dimenzióértéknek értékelések lekapcsolva tartja ad vissza, 4 és újabb rendszer.</span><span class="sxs-lookup"><span data-stu-id="0aed5-308">Technically, facet=Rating isn’t needed, but keeping it returns hello counts of facet values for ratings 4 and higher.</span></span> <span data-ttu-id="0aed5-309">Például, ha "4" és a hello lekérdezés szűrője nagyobbnak vagy azzal egyenlő túl "4", számát a rendszer visszairányítja az egyes értékelése, amely 4 és újabb rendszer.</span><span class="sxs-lookup"><span data-stu-id="0aed5-309">For example, if you click "4" and hello query includes a filter for greater or equal too"4", counts are returned for each rating that is 4 and higher.</span></span>  

<span data-ttu-id="0aed5-310">**Ellenőrizze, hogy elérhetővé pontos értékkorlátozás száma**</span><span class="sxs-lookup"><span data-stu-id="0aed5-310">**Make sure you get accurate facet counts**</span></span>

<span data-ttu-id="0aed5-311">Bizonyos esetekben előfordulhat, hogy a dimenzió száma nem egyezik a hello eredményhalmazt (lásd: [az Azure Search (fórumbejegyzést) Jellemzőalapú navigációs](https://social.msdn.microsoft.com/Forums/azure/06461173-ea26-4e6a-9545-fbbd7ee61c8f/faceting-on-azure-search?forum=azuresearch)).</span><span class="sxs-lookup"><span data-stu-id="0aed5-311">Under certain circumstances, you might find that facet counts do not match hello result sets (see [Faceted navigation in Azure Search (forum post)](https://social.msdn.microsoft.com/Forums/azure/06461173-ea26-4e6a-9545-fbbd7ee61c8f/faceting-on-azure-search?forum=azuresearch)).</span></span>

<span data-ttu-id="0aed5-312">Értékkorlátozás száma miatt toohello horizontális architektúrát pontatlan lehet.</span><span class="sxs-lookup"><span data-stu-id="0aed5-312">Facet counts can be inaccurate due toohello sharding architecture.</span></span> <span data-ttu-id="0aed5-313">Minden keresési index tartozik több szegmensben osztják, és minden shard hello legfontosabb N értékkorlátozás jelentések dokumentum száma, amelyek majd egyesítve egyetlen eredmény szerint.</span><span class="sxs-lookup"><span data-stu-id="0aed5-313">Every search index has multiple shards, and each shard reports hello top N facets by document count, which is then combined into a single result.</span></span> <span data-ttu-id="0aed5-314">Ha néhány szilánkok sok egyező értékek, míg mások kisebb értékre, előfordulhat, hogy néhány dimenzióértéknek hiányzik, vagy alatt felvenni a hello eredményei között.</span><span class="sxs-lookup"><span data-stu-id="0aed5-314">If some shards have many matching values, while others have fewer, you may find that some facet values are missing or under-counted in hello results.</span></span>

<span data-ttu-id="0aed5-315">Bár ez a viselkedés módosulhatnak bármikor, ha ez a viselkedés ma, akkor azt úgy kerülheti hello számát mesterségesen fúvódnia:<number> tooa nagy számú tooenforce teljes minden shard jelentést.</span><span class="sxs-lookup"><span data-stu-id="0aed5-315">Although this behavior could change at any time, if you encounter this behavior today, you can work around it by artificially inflating hello count:<number> tooa large number tooenforce full reporting from each shard.</span></span> <span data-ttu-id="0aed5-316">Ha a count értékének hello: nagyobb vagy egyenlő toohello szám hello mezőben egyedi értékek garantáltan pontos eredményeket.</span><span class="sxs-lookup"><span data-stu-id="0aed5-316">If hello value of count: is greater than or equal toohello number of unique values in hello field, you are guaranteed accurate results.</span></span> <span data-ttu-id="0aed5-317">Azonban amikor magas a dokumentumok számát, nincs-e a teljesítményét, ezért ez a beállítás használatakor.</span><span class="sxs-lookup"><span data-stu-id="0aed5-317">However, when document counts are high, there is a performance penalty, so use this option judiciously.</span></span>

### <a name="user-interface-tips"></a><span data-ttu-id="0aed5-318">Felhasználói felület tippek</span><span class="sxs-lookup"><span data-stu-id="0aed5-318">User interface tips</span></span>
<span data-ttu-id="0aed5-319">**Adja hozzá a címkék az egyes mezők értékkorlátozás navigációs sáv**</span><span class="sxs-lookup"><span data-stu-id="0aed5-319">**Add labels for each field in facet navigation**</span></span>

<span data-ttu-id="0aed5-320">Címkék általában definiálják hello HTML vagy formátumban (`index.cshtml` a hello mintaalkalmazás).</span><span class="sxs-lookup"><span data-stu-id="0aed5-320">Labels are typically defined in hello HTML or form (`index.cshtml` in hello sample application).</span></span> <span data-ttu-id="0aed5-321">Nincs az Azure Search értékkorlátozás navigációs feliratainak nincs API vagy bármely egyéb metaadatokat.</span><span class="sxs-lookup"><span data-stu-id="0aed5-321">There is no API in Azure Search for facet navigation labels or any other metadata.</span></span>

<a name="rangefacets"></a>

## <a name="filter-based-on-a-range"></a><span data-ttu-id="0aed5-322">Szűrő alapján</span><span class="sxs-lookup"><span data-stu-id="0aed5-322">Filter based on a range</span></span>
<span data-ttu-id="0aed5-323">Értékkorlátozás értékek tartományok keresztül egy közös keresési alkalmazás követelményeinek.</span><span class="sxs-lookup"><span data-stu-id="0aed5-323">Faceting over ranges of values is a common search application requirement.</span></span> <span data-ttu-id="0aed5-324">Tartományok numerikus adatokat és a dátum/idő értékek vannak támogatva.</span><span class="sxs-lookup"><span data-stu-id="0aed5-324">Ranges are supported for numeric data and DateTime values.</span></span> <span data-ttu-id="0aed5-325">További kapcsolatos mindkét megközelítés a [dokumentumok keresése (Azure Search API)](http://msdn.microsoft.com/library/azure/dn798927.aspx).</span><span class="sxs-lookup"><span data-stu-id="0aed5-325">You can read more about each approach in [Search Documents (Azure Search API)](http://msdn.microsoft.com/library/azure/dn798927.aspx).</span></span>

<span data-ttu-id="0aed5-326">Az Azure Search tartomány konstrukció két megközelítés biztosít a számítási tartomány egyszerűbbé teszi.</span><span class="sxs-lookup"><span data-stu-id="0aed5-326">Azure Search simplifies range construction by providing two approaches for computing a range.</span></span> <span data-ttu-id="0aed5-327">Mindkét megközelítés az Azure Search hello bemeneti adatokat a megadott megadott megfelelő tartományok hoz létre hello.</span><span class="sxs-lookup"><span data-stu-id="0aed5-327">For both approaches, Azure Search creates hello appropriate ranges given hello inputs you’ve provided.</span></span> <span data-ttu-id="0aed5-328">Például ha megadja a tartomány értékének 10 |} 20 |} 30, automatikusan létrehozza a 0 – 10, 10-20, 20 – 30 tartományait.</span><span class="sxs-lookup"><span data-stu-id="0aed5-328">For instance, if you specify range values of 10|20|30, it automatically creates ranges of 0-10, 10-20, 20-30.</span></span> <span data-ttu-id="0aed5-329">Az alkalmazás opcionálisan eltávolíthatja bármely intervallumok üres.</span><span class="sxs-lookup"><span data-stu-id="0aed5-329">Your application can optionally remove any intervals that are empty.</span></span> 

<span data-ttu-id="0aed5-330">**1. módszer: Hello időköz paraméter használata**</span><span class="sxs-lookup"><span data-stu-id="0aed5-330">**Approach 1: Use hello interval parameter**</span></span>  
<span data-ttu-id="0aed5-331">tooset ár értékkorlátozás $10 lépésekben, lehet megadni:`&facet=price,interval:10`</span><span class="sxs-lookup"><span data-stu-id="0aed5-331">tooset price facets in $10 increments, you would specify: `&facet=price,interval:10`</span></span>

<span data-ttu-id="0aed5-332">**2. módszer: Értékek listáját használja**</span><span class="sxs-lookup"><span data-stu-id="0aed5-332">**Approach 2: Use a values list**</span></span>  
<span data-ttu-id="0aed5-333">A numerikus adatok értékek listáját is használhatja.</span><span class="sxs-lookup"><span data-stu-id="0aed5-333">For numeric data, you can use a values list.</span></span>  <span data-ttu-id="0aed5-334">Vegye figyelembe a hello értékkorlátozás tartományon egy `listPrice` mező megjelenítése az alábbiak szerint:</span><span class="sxs-lookup"><span data-stu-id="0aed5-334">Consider hello facet range for a `listPrice` field, rendered as follows:</span></span>

  ![A minta értékek listája][5]

<span data-ttu-id="0aed5-336">értékkorlátozás széles, például egy-egy előző képernyőképen hello hello toospecify értékek listáját használja:</span><span class="sxs-lookup"><span data-stu-id="0aed5-336">toospecify a facet range like hello one in hello preceding screen shot, use a values list:</span></span>

    facet=listPrice,values:10|25|100|500|1000|2500

<span data-ttu-id="0aed5-337">Minden tartomány 0 használatával kiindulási pontként, hello listában a végpontok közötti értéket, és majd levágja a hello előző tartomány toocreate diszkrét időközök épül.</span><span class="sxs-lookup"><span data-stu-id="0aed5-337">Each range is built using 0 as a starting point, a value from hello list as an endpoint, and then trimmed of hello previous range toocreate discrete intervals.</span></span> <span data-ttu-id="0aed5-338">Az Azure Search jellemzőalapú navigációs részeként hajtja végre ezeket a módosításokat.</span><span class="sxs-lookup"><span data-stu-id="0aed5-338">Azure Search does these things as part of faceted navigation.</span></span> <span data-ttu-id="0aed5-339">Nincs toowrite kód minden időköz rendszerezésére szolgál.</span><span class="sxs-lookup"><span data-stu-id="0aed5-339">You do not have toowrite code for structuring each interval.</span></span>

### <a name="build-a-filter-for-a-range"></a><span data-ttu-id="0aed5-340">Összeállítása szűrőt, amely a tartomány</span><span class="sxs-lookup"><span data-stu-id="0aed5-340">Build a filter for a range</span></span>
<span data-ttu-id="0aed5-341">toofilter alapján választja, hogy használhassa a hello `"ge"` és `"lt"` szűrése operátorokat egy kétlépéses hello végpontok hello tartomány meghatározó kifejezés.</span><span class="sxs-lookup"><span data-stu-id="0aed5-341">toofilter documents based on a range you select, you can use hello `"ge"` and `"lt"` filter operators in a two-part expression that defines hello endpoints of hello range.</span></span> <span data-ttu-id="0aed5-342">Például, ha úgy dönt, hello tartomány 10-25 a `listPrice` mezőben hello szűrő lenne `$filter=listPrice ge 10 and listPrice lt 25`.</span><span class="sxs-lookup"><span data-stu-id="0aed5-342">For example, if you choose hello range 10-25 for a `listPrice` field, hello filter would be `$filter=listPrice ge 10 and listPrice lt 25`.</span></span> <span data-ttu-id="0aed5-343">Hello kódmintában hello szűrőkifejezés használ **priceFrom** és **priceTo** paraméterek tooset hello végpontok.</span><span class="sxs-lookup"><span data-stu-id="0aed5-343">In hello sample code, hello filter expression uses **priceFrom** and **priceTo** parameters tooset hello endpoints.</span></span> 

  ![A kívánt értéktartományt lekérdezés][6]

<a name="geofacets"></a> 

## <a name="filter-based-on-distance"></a><span data-ttu-id="0aed5-345">Távolság alapján szűrhet</span><span class="sxs-lookup"><span data-stu-id="0aed5-345">Filter based on distance</span></span>
<span data-ttu-id="0aed5-346">Az általános toosee, amelyek segítenek úgy dönt, hogy a tároló, a éttermi, illetve a cél tooyour jelenlegi helyéről közelségi kapcsolat alapján szűri.</span><span class="sxs-lookup"><span data-stu-id="0aed5-346">It’s common toosee filters that help you choose a store, restaurant, or destination based on its proximity tooyour current location.</span></span> <span data-ttu-id="0aed5-347">Bár az ilyen típusú szűrő jellemzőalapú navigációs nézhet, ez a beállítás csak egy szűrő.</span><span class="sxs-lookup"><span data-stu-id="0aed5-347">While this type of filter might look like faceted navigation, it’s just a filter.</span></span> <span data-ttu-id="0aed5-348">A Microsoft említse meg itt azok az Ön kifejezetten keres, hogy adott kialakítás probléma megvalósítási tanácsokat.</span><span class="sxs-lookup"><span data-stu-id="0aed5-348">We mention it here for those of you who are specifically looking for implementation advice for that particular design problem.</span></span>

<span data-ttu-id="0aed5-349">Két olyan földrajzi funkció van az Azure Search **geo.distance** és **geo.intersects**.</span><span class="sxs-lookup"><span data-stu-id="0aed5-349">There are two Geospatial functions in Azure Search, **geo.distance** and **geo.intersects**.</span></span>

* <span data-ttu-id="0aed5-350">Hello **geo.distance** függvény hello távolság kilométerben két pont között.</span><span class="sxs-lookup"><span data-stu-id="0aed5-350">hello **geo.distance** function returns hello distance in kilometers between two points.</span></span> <span data-ttu-id="0aed5-351">Egy pont mező, másik hello szűrő megnevezése állandó.</span><span class="sxs-lookup"><span data-stu-id="0aed5-351">One point is a field and other is a constant passed as part of hello filter.</span></span> 
* <span data-ttu-id="0aed5-352">Hello **geo.intersects** függvény igaz értéket ad vissza egy adott sokszögön belül egy adott pont esetén.</span><span class="sxs-lookup"><span data-stu-id="0aed5-352">hello **geo.intersects** function returns true if a given point is within a given polygon.</span></span> <span data-ttu-id="0aed5-353">hello pont mező, hello sokszög hello szűrő megnevezése koordinátának állandó listaként van megadva.</span><span class="sxs-lookup"><span data-stu-id="0aed5-353">hello point is a field and hello polygon is specified as a constant list of coordinates passed as part of hello filter.</span></span>

<span data-ttu-id="0aed5-354">A szűrő példák található [OData-kifejezésszintaxist (Azure Search)](http://msdn.microsoft.com/library/azure/dn798921.aspx).</span><span class="sxs-lookup"><span data-stu-id="0aed5-354">You can find filter examples in [OData expression syntax (Azure Search)](http://msdn.microsoft.com/library/azure/dn798921.aspx).</span></span>

<a name="tryitout"></a>

## <a name="try-hello-demo"></a><span data-ttu-id="0aed5-355">Próbálja meg hello bemutató</span><span class="sxs-lookup"><span data-stu-id="0aed5-355">Try hello demo</span></span>
<span data-ttu-id="0aed5-356">hello Azure keresési feladat Portal bemutató cikkben hivatkozott hello példákat tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="0aed5-356">hello Azure Search Job Portal Demo contains hello examples referenced in this article.</span></span>

-   <span data-ttu-id="0aed5-357">Tekintse meg, és tesztelje a hello működő bemutató online, [Azure keresési feladat Portal bemutató](http://azjobsdemo.azurewebsites.net/).</span><span class="sxs-lookup"><span data-stu-id="0aed5-357">See and test hello working demo online at [Azure Search Job Portal Demo](http://azjobsdemo.azurewebsites.net/).</span></span>

-   <span data-ttu-id="0aed5-358">Hello kód letöltését hello [tárház Azure-minták a githubon](https://github.com/Azure-Samples/search-dotnet-asp-net-mvc-jobs).</span><span class="sxs-lookup"><span data-stu-id="0aed5-358">Download hello code from hello [Azure-Samples repo on GitHub](https://github.com/Azure-Samples/search-dotnet-asp-net-mvc-jobs).</span></span>

<span data-ttu-id="0aed5-359">Munka a keresési eredmények között, nézze meg a lekérdezés konstrukció változásai hello URL-címe.</span><span class="sxs-lookup"><span data-stu-id="0aed5-359">As you work with search results, watch hello URL for changes in query construction.</span></span> <span data-ttu-id="0aed5-360">Ez az alkalmazás tooappend facets toohello URI történik, minden egyes kiválasztásakor.</span><span class="sxs-lookup"><span data-stu-id="0aed5-360">This application happens tooappend facets toohello URI as you select each one.</span></span>

1. <span data-ttu-id="0aed5-361">toouse hello leképezés funkció hello bemutató alkalmazás, a Bing Maps kulcs beszerzése hello [a Bing térképek fejlesztői központjához](https://www.bingmapsportal.com/).</span><span class="sxs-lookup"><span data-stu-id="0aed5-361">toouse hello mapping functionality of hello demo app, get a Bing Maps key from hello [Bing Maps Dev Center](https://www.bingmapsportal.com/).</span></span> <span data-ttu-id="0aed5-362">Illessze be keresztül hello meglévő kulcs hello `index.cshtml` lap.</span><span class="sxs-lookup"><span data-stu-id="0aed5-362">Paste it over hello existing key in hello `index.cshtml` page.</span></span> <span data-ttu-id="0aed5-363">Hello `BingApiKey` hello beállítása `Web.config` fájl nincs használatban.</span><span class="sxs-lookup"><span data-stu-id="0aed5-363">hello `BingApiKey` setting in hello `Web.config` file is not used.</span></span> 

2. <span data-ttu-id="0aed5-364">Hello alkalmazás futtatásához.</span><span class="sxs-lookup"><span data-stu-id="0aed5-364">Run hello application.</span></span> <span data-ttu-id="0aed5-365">Hello választható ismerkedéshez, vagy hagyja figyelmen kívül hello párbeszédpanel megnyitásához.</span><span class="sxs-lookup"><span data-stu-id="0aed5-365">Take hello optional tour, or dismiss hello dialog box.</span></span>
   
3. <span data-ttu-id="0aed5-366">Adja meg a kívánt keresőkifejezést, például a "elemző", és kattintson hello keresés ikonra.</span><span class="sxs-lookup"><span data-stu-id="0aed5-366">Enter a search term, such as "analyst", and click hello Search icon.</span></span> <span data-ttu-id="0aed5-367">hello lekérdezés gyorsan hajtja végre.</span><span class="sxs-lookup"><span data-stu-id="0aed5-367">hello query executes quickly.</span></span>
   
   <span data-ttu-id="0aed5-368">A jellemzőalapú navigációs szerkezetben is hello keresési eredmények lett visszaadva.</span><span class="sxs-lookup"><span data-stu-id="0aed5-368">A faceted navigation structure is also returned with hello search results.</span></span> <span data-ttu-id="0aed5-369">Hello keresési eredmények oldalának hello jellemzőalapú navigációs szerkezetben tartalmaz minden dimenzió eredmény hány példányban.</span><span class="sxs-lookup"><span data-stu-id="0aed5-369">In hello search result page, hello faceted navigation structure includes counts for each facet result.</span></span> <span data-ttu-id="0aed5-370">Nincs facets vannak kijelölve, ezért minden egyező eredményeinek.</span><span class="sxs-lookup"><span data-stu-id="0aed5-370">No facets are selected, so all matching results are returned.</span></span>
   
   ![Keresési eredmények értékkorlátozás kiválasztása előtt][11]

4. <span data-ttu-id="0aed5-372">Kattintson egy üzleti cím, a hely vagy a minimális fizetés.</span><span class="sxs-lookup"><span data-stu-id="0aed5-372">Click a Business Title, Location, or Minimum Salary.</span></span> <span data-ttu-id="0aed5-373">Értékkorlátozás hello kezdeti Search null értékű, de mivel azokat az értékeket, hello keresési eredmények nem egyező elemek lesz.</span><span class="sxs-lookup"><span data-stu-id="0aed5-373">Facets were null on hello initial search, but as they take on values, hello search results are trimmed of items that no longer match.</span></span>
   
   ![Keresési eredmények értékkorlátozás kiválasztása után][12]

5. <span data-ttu-id="0aed5-375">tooclear hello jellemzőalapú lekérdezést, hogy más-más lekérdezési viselkedés, megpróbálhatja kattintson hello `[X]` hello értékkorlátozás tooclear hello értékkorlátozás kiválasztása után.</span><span class="sxs-lookup"><span data-stu-id="0aed5-375">tooclear hello faceted query so that you can try different query behaviors, click hello `[X]` after hello selected facets tooclear hello facets.</span></span>
   
<a name="nextstep"></a>

## <a name="learn-more"></a><span data-ttu-id="0aed5-376">Részletek</span><span class="sxs-lookup"><span data-stu-id="0aed5-376">Learn more</span></span>
<span data-ttu-id="0aed5-377">A Watch [az Azure Search mélyreható](http://channel9.msdn.com/Events/TechEd/Europe/2014/DBI-B410).</span><span class="sxs-lookup"><span data-stu-id="0aed5-377">Watch [Azure Search Deep Dive](http://channel9.msdn.com/Events/TechEd/Europe/2014/DBI-B410).</span></span> <span data-ttu-id="0aed5-378">A 45:25, van egy bemutató hogyan tooimplement értékkorlátozást.</span><span class="sxs-lookup"><span data-stu-id="0aed5-378">At 45:25, there is a demo on how tooimplement facets.</span></span>

<span data-ttu-id="0aed5-379">További áttekinthetik a jellemzőalapú navigáció tervezési alapelvek a következő hivatkozások hello javasoljuk:</span><span class="sxs-lookup"><span data-stu-id="0aed5-379">For more insights on design principles for faceted navigation, we recommend hello following links:</span></span>

* [<span data-ttu-id="0aed5-380">A Jellemzőalapú keresési tervezése</span><span class="sxs-lookup"><span data-stu-id="0aed5-380">Designing for Faceted Search</span></span>](http://www.uie.com/articles/faceted_search/)
* [<span data-ttu-id="0aed5-381">Kialakítási minták: Jellemzőalapú navigációs</span><span class="sxs-lookup"><span data-stu-id="0aed5-381">Design Patterns: Faceted Navigation</span></span>](http://alistapart.com/article/design-patterns-faceted-navigation)


<!--Anchors-->
[How toobuild it]: #howtobuildit
[Build hello presentation layer]: #presentationlayer
[Build hello index]: #buildindex
[Check for data quality]: #checkdata
[Build hello query]: #buildquery
[Tips on how toocontrol faceted navigation]: #tips
[Faceted navigation based on range values]: #rangefacets
[Faceted navigation based on GeoPoints]: #geofacets
[Try it out]: #tryitout

<!--Image references-->
[1]: ./media/search-faceted-navigation/azure-search-faceting-example.PNG
[2]: ./media/search-faceted-navigation/Facet-2-CSHTML.PNG
[3]: ./media/search-faceted-navigation/Facet-3-schema.PNG
[4]: ./media/search-faceted-navigation/Facet-4-SearchMethod.PNG
[5]: ./media/search-faceted-navigation/Facet-5-Prices.PNG
[6]: ./media/search-faceted-navigation/Facet-6-buildfilter.PNG
[7]: ./media/search-faceted-navigation/Facet-7-appstart.png
[8]: ./media/search-faceted-navigation/Facet-8-appbike.png
[9]: ./media/search-faceted-navigation/Facet-9-appbikefaceted.png
[10]: ./media/search-faceted-navigation/Facet-10-appTitle.png
[11]: ./media/search-faceted-navigation/faceted-search-before-facets.png
[12]: ./media/search-faceted-navigation/faceted-search-after-facets.png

<!--Link references-->
[Designing for Faceted Search]: http://www.uie.com/articles/faceted_search/
[Design Patterns: Faceted Navigation]: http://alistapart.com/article/design-patterns-faceted-navigation
[Create your first application]: search-create-first-solution.md
[OData expression syntax (Azure Search)]: http://msdn.microsoft.com/library/azure/dn798921.aspx
[Azure Search Adventure Works Demo]: https://azuresearchadventureworksdemo.codeplex.com/
[http://www.odata.org/documentation/odata-version-2-0/overview/]: http://www.odata.org/documentation/odata-version-2-0/overview/ 
[Faceting on Azure Search forum post]: ../faceting-on-azure-search.md?forum=azuresearch
[Search Documents (Azure Search API)]: http://msdn.microsoft.com/library/azure/dn798927.aspx

