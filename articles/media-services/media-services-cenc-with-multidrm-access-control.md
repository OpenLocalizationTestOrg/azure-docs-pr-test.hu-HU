---
title: "CENC Multi-DRM-és hozzáférés-vezérlés: egy hivatkozás tervezési és megvalósítási Azure és az Azure Media Services |} Microsoft Docs"
description: "További információk a hogyan toolicensing hello Microsoft® Smooth Streaming ügyfél eljárás készlet."
services: media-services
documentationcenter: 
author: willzhan
manager: cfowler
editor: 
ms.assetid: 7814739b-cea9-4b9b-8370-538702e5c615
ms.service: media-services
ms.workload: media
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 07/19/2017
ms.author: willzhan;kilroyh;yanmf;juliako
ms.openlocfilehash: 033fb618650c4fbe9069d467159a8734da759bba
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="cenc-with-multi-drm-and-access-control-a-reference-design-and-implementation-on-azure-and-azure-media-services"></a><span data-ttu-id="e03ff-103">CENC többplatformos DRM és hozzáférés-vezérlés használatával: Egy referenciaterv és megvalósítás az Azure-on és az Azure Media Services szolgáltatásban</span><span class="sxs-lookup"><span data-stu-id="e03ff-103">CENC with Multi-DRM and Access Control: A Reference Design and Implementation on Azure and Azure Media Services</span></span>
 
## <a name="introduction"></a><span data-ttu-id="e03ff-104">Bevezetés</span><span class="sxs-lookup"><span data-stu-id="e03ff-104">Introduction</span></span>
<span data-ttu-id="e03ff-105">Fontos, hogy egy összetett feladat toodesign és az OTT DRM alrendszer építése jól ismert vagy online streamelési megoldások.</span><span class="sxs-lookup"><span data-stu-id="e03ff-105">It is well known that it is a complex task toodesign and build a DRM subsystem for an OTT or online streaming solution.</span></span> <span data-ttu-id="e03ff-106">És egy közös operátorok/online videó szolgáltatók toooutsource ezen része toospecialized DRM szolgáltatók gyakorlatot.</span><span class="sxs-lookup"><span data-stu-id="e03ff-106">And it is a common practice for operators/online video providers toooutsource this part toospecialized DRM service providers.</span></span> <span data-ttu-id="e03ff-107">hello a jelen dokumentum célja toopresent egy referencia-tervezési és megvalósítási végpont DRM alrendszer OTT vagy online adatfolyam megoldás.</span><span class="sxs-lookup"><span data-stu-id="e03ff-107">hello goal of this document is toopresent a reference design and implementation of end-to-end DRM subsystem in OTT or online streaming solution.</span></span>

<span data-ttu-id="e03ff-108">a jelen dokumentum megcélzott hello olvasók működik-e OTT online streaming/több-screen megoldások és bármely DRM alrendszer iránt érdeklődik olvasók DRM alrendszer a mérnökök.</span><span class="sxs-lookup"><span data-stu-id="e03ff-108">hello targeted readers of this document are engineers working in DRM subsystem of OTT or online streaming/multi-screen solutions, or any readers interested in DRM subsystem.</span></span> <span data-ttu-id="e03ff-109">hello feltételezése, hogy olvasók jártas hello DRM technológiák hello piacon, például a PlayReady, Widevine, FairPlay vagy Adobe hozzáférés legalább egyikét.</span><span class="sxs-lookup"><span data-stu-id="e03ff-109">hello assumption is that readers are familiar with at least one of hello DRM technologies on hello market, such as PlayReady, Widevine, FairPlay or Adobe Access.</span></span>

<span data-ttu-id="e03ff-110">DRM is magában foglalja az CENC (Common Encryption) és multi-DRM.</span><span class="sxs-lookup"><span data-stu-id="e03ff-110">By DRM, we also include CENC (Common Encryption) with multi-DRM.</span></span> <span data-ttu-id="e03ff-111">Online streamelésre és az OTT iparági fő változása érték toouse CENC a több-native-DRM különböző a ügyfélplatformokon, amely egy előző trend hello egyetlen DRM és az ügyfél SDK használatának a ügyfélplatformokon különböző a shift.</span><span class="sxs-lookup"><span data-stu-id="e03ff-111">A major trend in online streaming and OTT industry is toouse CENC with multi-native-DRM on various client platforms, which is a shift from hello previous trend of using a single DRM and its client SDK for various client platforms.</span></span> <span data-ttu-id="e03ff-112">Ha több native DRM CENC használ, mind a PlayReady, mind a Widevine titkosítása hello [Common Encryption (ISO/IEC 23001-7 CENC)](http://www.iso.org/iso/home/store/catalogue_ics/catalogue_detail_ics.htm?csnumber=65271/) megadását.</span><span class="sxs-lookup"><span data-stu-id="e03ff-112">When using CENC with multi-native-DRM, both PlayReady and Widevine are encrypted per hello [Common Encryption (ISO/IEC 23001-7 CENC)](http://www.iso.org/iso/home/store/catalogue_ics/catalogue_detail_ics.htm?csnumber=65271/) specification.</span></span>

<span data-ttu-id="e03ff-113">hello és multi-DRM CENC előnyei a következők:</span><span class="sxs-lookup"><span data-stu-id="e03ff-113">hello benefits of CENC with multi-DRM are as follows:</span></span>

1. <span data-ttu-id="e03ff-114">Csökkenti a költségeket, mert egy egyetlen titkosítási feldolgozási célzó különböző platformokon a natív DRMs; a használt titkosítási</span><span class="sxs-lookup"><span data-stu-id="e03ff-114">Reduces encryption cost since a single encryption processing is used targeting different platforms with its native DRMs;</span></span>
2. <span data-ttu-id="e03ff-115">Csökkenti a titkosított eszközök kezelésére, mert csak egy példányát a titkosított eszközökre van szükség; hello költség</span><span class="sxs-lookup"><span data-stu-id="e03ff-115">Reduces hello cost of managing encrypted assets since only a single copy of encrypted assets is needed;</span></span>
3. <span data-ttu-id="e03ff-116">Megszünteti a licencelési költségek, mivel hello natív DRM ügyfél általában a natív platformon szabad DRM-ügyfél.</span><span class="sxs-lookup"><span data-stu-id="e03ff-116">Eliminates DRM client licensing cost since hello native DRM client is usually free on its native platform.</span></span>

<span data-ttu-id="e03ff-117">Microsoft lett egy aktív hatnak DASH és CENC néhány fő iparági lejátszó együtt.</span><span class="sxs-lookup"><span data-stu-id="e03ff-117">Microsoft has been an active promoter of DASH and CENC together with some major industry players.</span></span> <span data-ttu-id="e03ff-118">A Microsoft Azure Media Services DASH és CENC támogatásának biztosítása rendelkezik lett.</span><span class="sxs-lookup"><span data-stu-id="e03ff-118">Microsoft Azure Media Services has been providing support of DASH and CENC.</span></span> <span data-ttu-id="e03ff-119">Friss közlemények talál Mingfei tartozó blogok: [bejelentése Google Widevine licenctovábbítási szolgáltatások az Azure Media Services](https://azure.microsoft.com/blog/announcing-general-availability-of-google-widevine-license-services/), és [Azure Media Services hozzáadja a Google Widevine-csomagolás multi-DRM adatfolyam kézbesítéséhez](https://azure.microsoft.com/blog/azure-media-services-adds-google-widevine-packaging-for-delivering-multi-drm-stream/).</span><span class="sxs-lookup"><span data-stu-id="e03ff-119">For recent announcements, please see Mingfei’s blogs: [Announcing Google Widevine license delivery services in Azure Media Services](https://azure.microsoft.com/blog/announcing-general-availability-of-google-widevine-license-services/), and [Azure Media Services adds Google Widevine packaging for delivering multi-DRM stream](https://azure.microsoft.com/blog/azure-media-services-adds-google-widevine-packaging-for-delivering-multi-drm-stream/).</span></span>  

### <a name="overview-of-this-article"></a><span data-ttu-id="e03ff-120">Ez a cikk áttekintése</span><span class="sxs-lookup"><span data-stu-id="e03ff-120">Overview of this article</span></span>
<span data-ttu-id="e03ff-121">Ez a cikk célja hello hello következőket tartalmazza:</span><span class="sxs-lookup"><span data-stu-id="e03ff-121">hello goal of this article includes hello following:</span></span>

1. <span data-ttu-id="e03ff-122">Biztosít egy referencia-Tervező DRM alrendszer CENC használata multi-DRM;</span><span class="sxs-lookup"><span data-stu-id="e03ff-122">Provides a reference design of DRM subsystem using CENC with multi-DRM;</span></span>
2. <span data-ttu-id="e03ff-123">Ez a témakör egy referencia-megvalósításban a Microsoft Azure vagy az Azure Media Services platform;</span><span class="sxs-lookup"><span data-stu-id="e03ff-123">Provides a reference implementation on Microsoft Azure/Azure Media Services platform;</span></span>
3. <span data-ttu-id="e03ff-124">Néhány tervezési és megvalósítási témaköre ismerteti.</span><span class="sxs-lookup"><span data-stu-id="e03ff-124">Discusses some design and implementation topics.</span></span>

<span data-ttu-id="e03ff-125">Hello cikkben "multi-DRM" hello következő ismerteti:</span><span class="sxs-lookup"><span data-stu-id="e03ff-125">In hello article, “multi-DRM” covers hello following:</span></span>

1. <span data-ttu-id="e03ff-126">Microsoft PlayReady</span><span class="sxs-lookup"><span data-stu-id="e03ff-126">Microsoft PlayReady</span></span>
2. <span data-ttu-id="e03ff-127">Google Widevine</span><span class="sxs-lookup"><span data-stu-id="e03ff-127">Google Widevine</span></span>
3. <span data-ttu-id="e03ff-128">Apple FairPlay</span><span class="sxs-lookup"><span data-stu-id="e03ff-128">Apple FairPlay</span></span> 

<span data-ttu-id="e03ff-129">hello következő táblázat összefoglalja hello natív platform/natív alkalmazás, és minden DRM által támogatott böngészők.</span><span class="sxs-lookup"><span data-stu-id="e03ff-129">hello following table summarizes hello native platform/native app, and browsers supported by each DRM.</span></span>

| <span data-ttu-id="e03ff-130">**Ügyfélplatform**</span><span class="sxs-lookup"><span data-stu-id="e03ff-130">**Client Platform**</span></span> | <span data-ttu-id="e03ff-131">**Natív DRM-támogatás**</span><span class="sxs-lookup"><span data-stu-id="e03ff-131">**Native DRM Support**</span></span> | <span data-ttu-id="e03ff-132">**Böngészőalkalmazás /**</span><span class="sxs-lookup"><span data-stu-id="e03ff-132">**Browser/App**</span></span> | <span data-ttu-id="e03ff-133">**Formátumban**</span><span class="sxs-lookup"><span data-stu-id="e03ff-133">**Streaming Formats**</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="e03ff-134">**Intelligens televízió, operátor vezérléséhez, OTT vezérléséhez**</span><span class="sxs-lookup"><span data-stu-id="e03ff-134">**Smart TVs, operator STBs, OTT STBs**</span></span> |<span data-ttu-id="e03ff-135">PlayReady, és/vagy Widevine, és/vagy más</span><span class="sxs-lookup"><span data-stu-id="e03ff-135">PlayReady primarily, and/or Widevine, and/or other</span></span> |<span data-ttu-id="e03ff-136">Linux, az Opera, WebKit, más</span><span class="sxs-lookup"><span data-stu-id="e03ff-136">Linux, Opera, WebKit, Other</span></span> |<span data-ttu-id="e03ff-137">Különböző formátumokba</span><span class="sxs-lookup"><span data-stu-id="e03ff-137">Various formats</span></span> |
| <span data-ttu-id="e03ff-138">**Windows 10 rendszerű eszközökhöz (Windows-Számítógépet, a Windows rendszerű táblagépek, Windows Phone, Xbox)**</span><span class="sxs-lookup"><span data-stu-id="e03ff-138">**Windows 10 devices (Windows PC, Windows Tablets, Windows Phone, Xbox)**</span></span> |<span data-ttu-id="e03ff-139">PlayReady</span><span class="sxs-lookup"><span data-stu-id="e03ff-139">PlayReady</span></span> |<span data-ttu-id="e03ff-140">Peremhálózati/IE11/EME MS</span><span class="sxs-lookup"><span data-stu-id="e03ff-140">MS Edge/IE11/EME</span></span><br/><br/><br/><span data-ttu-id="e03ff-141">UWP</span><span class="sxs-lookup"><span data-stu-id="e03ff-141">UWP</span></span> |<span data-ttu-id="e03ff-142">KÖTŐJEL (a HLS, PlayReady nem támogatott)</span><span class="sxs-lookup"><span data-stu-id="e03ff-142">DASH (For HLS, PlayReady is not supported)</span></span><br/><br/><span data-ttu-id="e03ff-143">DASH, Smooth Streaming (HLS a, a PlayReady nem támogatott)</span><span class="sxs-lookup"><span data-stu-id="e03ff-143">DASH, Smooth Streaming (For HLS, PlayReady is not supported)</span></span> |
| <span data-ttu-id="e03ff-144">**Android-eszközök (telefon, táblagép, TV)**</span><span class="sxs-lookup"><span data-stu-id="e03ff-144">**Android devices (Phone, Tablet, TV)**</span></span> |<span data-ttu-id="e03ff-145">Widevine</span><span class="sxs-lookup"><span data-stu-id="e03ff-145">Widevine</span></span> |<span data-ttu-id="e03ff-146">Chrome/EME</span><span class="sxs-lookup"><span data-stu-id="e03ff-146">Chrome/EME</span></span> |<span data-ttu-id="e03ff-147">DASH, HLS</span><span class="sxs-lookup"><span data-stu-id="e03ff-147">DASH,HLS</span></span> |
| <span data-ttu-id="e03ff-148">**(iPhone-, iPad-) iOS, OS X-ügyfelek és az Apple TV**</span><span class="sxs-lookup"><span data-stu-id="e03ff-148">**iOS (iPhone, iPad), OS X clients and Apple TV**</span></span> |<span data-ttu-id="e03ff-149">FairPlay</span><span class="sxs-lookup"><span data-stu-id="e03ff-149">FairPlay</span></span> |<span data-ttu-id="e03ff-150">Safari 8 / EME</span><span class="sxs-lookup"><span data-stu-id="e03ff-150">Safari 8+/EME</span></span> |<span data-ttu-id="e03ff-151">HLS</span><span class="sxs-lookup"><span data-stu-id="e03ff-151">HLS</span></span> |


<span data-ttu-id="e03ff-152">Hello aktuális állapota minden egyes DRM-központitelepítési, figyelembe véve a szolgáltatás általában akkor érdemes tooimplement 2 vagy 3 DRMs toomake meg arról, hogy meg hello ajánlott végpontok összes hello típusú cím módon.</span><span class="sxs-lookup"><span data-stu-id="e03ff-152">Considering hello current state of deployment for each DRM, a service will typically want tooimplement 2 or 3 DRMs toomake sure you address all hello types of endpoints in hello best way.</span></span>

<span data-ttu-id="e03ff-153">Egy kompromisszumot hello szolgáltatás logika hello összetettsége és között különböző ügyfelek hello tapasztalattal a hello ügyfél oldalán tooreach felhasználói bizonyos szintű hello összetettségét.</span><span class="sxs-lookup"><span data-stu-id="e03ff-153">There is a tradeoff between hello complexity of hello service logic and hello complexity on hello client side tooreach a certain level of user experience on hello various clients.</span></span>

<span data-ttu-id="e03ff-154">toomake a kijelölés, ne mind a tények:</span><span class="sxs-lookup"><span data-stu-id="e03ff-154">toomake your selection, keep in mind these facts:</span></span>

* <span data-ttu-id="e03ff-155">PlayReady natív módon valósul meg minden egyes Android-eszközökön, és a szoftver SDK-k szinte bármilyen platformon keresztül elérhető Windows-eszköz</span><span class="sxs-lookup"><span data-stu-id="e03ff-155">PlayReady is natively implemented in every Windows device, on some Android devices, and available through software SDKs on virtually any platform</span></span>
* <span data-ttu-id="e03ff-156">Minden Android-eszköz, a Chrome-ban, és néhány egyéb eszközök Widevine natív módon történik.</span><span class="sxs-lookup"><span data-stu-id="e03ff-156">Widevine is natively implemented in every Android device, in Chrome, and in some other devices</span></span>
* <span data-ttu-id="e03ff-157">FairPlay csak iOS és Mac OS ügyfelek vagy iTunes érhető el.</span><span class="sxs-lookup"><span data-stu-id="e03ff-157">FairPlay is available only on iOS and Mac OS clients or through iTunes.</span></span>

<span data-ttu-id="e03ff-158">Egy tipikus multi-DRM így néz ki:</span><span class="sxs-lookup"><span data-stu-id="e03ff-158">So a typical multi-DRM would be:</span></span>

* <span data-ttu-id="e03ff-159">1. lehetőség: PlayReady és Widevine</span><span class="sxs-lookup"><span data-stu-id="e03ff-159">Option 1: PlayReady and Widevine</span></span>
* <span data-ttu-id="e03ff-160">2. lehetőség: A PlayReady, Widevine és FairPlay</span><span class="sxs-lookup"><span data-stu-id="e03ff-160">Option 2: PlayReady, Widevine and FairPlay</span></span>

## <a name="a-reference-design"></a><span data-ttu-id="e03ff-161">A referencia-Tervező</span><span class="sxs-lookup"><span data-stu-id="e03ff-161">A reference design</span></span>
<span data-ttu-id="e03ff-162">Ebben a szakaszban a jelenleg használt független tootechnologies tooimplement egyben hivatkozás kialakítást jelent azt.</span><span class="sxs-lookup"><span data-stu-id="e03ff-162">In this section, we will present a reference design which is agnostic tootechnologies used tooimplement it.</span></span>

<span data-ttu-id="e03ff-163">Egy DRM alrendszer tartalmazhatja a következő összetevők hello:</span><span class="sxs-lookup"><span data-stu-id="e03ff-163">A DRM subsystem may contain hello following components:</span></span>

1. <span data-ttu-id="e03ff-164">Kulcskezelés</span><span class="sxs-lookup"><span data-stu-id="e03ff-164">Key management</span></span>
2. <span data-ttu-id="e03ff-165">DRM-csomag</span><span class="sxs-lookup"><span data-stu-id="e03ff-165">DRM packaging</span></span>
3. <span data-ttu-id="e03ff-166">DRM-licenckézbesítés</span><span class="sxs-lookup"><span data-stu-id="e03ff-166">DRM license delivery</span></span>
4. <span data-ttu-id="e03ff-167">Jogosultság ellenőrzése</span><span class="sxs-lookup"><span data-stu-id="e03ff-167">Entitlement check</span></span>
5. <span data-ttu-id="e03ff-168">Hitelesítési/engedélyezési</span><span class="sxs-lookup"><span data-stu-id="e03ff-168">Authentication/authorization</span></span>
6. <span data-ttu-id="e03ff-169">Player</span><span class="sxs-lookup"><span data-stu-id="e03ff-169">Player</span></span>
7. <span data-ttu-id="e03ff-170">Forrás/CDN</span><span class="sxs-lookup"><span data-stu-id="e03ff-170">Origin/CDN</span></span>

<span data-ttu-id="e03ff-171">hello következő diagram azt ábrázolja hello magas szintű interakció egy DRM alrendszerben hello összetevők közötti.</span><span class="sxs-lookup"><span data-stu-id="e03ff-171">hello following diagram illustrates hello high level interaction among hello components in a DRM subsystem.</span></span>

![CENC DRM alrendszer](./media/media-services-cenc-with-multidrm-access-control/media-services-generic-drm-subsystem-with-cenc.png)

<span data-ttu-id="e03ff-173">Az alábbi három alapvető "réteg" hello kialakításában:</span><span class="sxs-lookup"><span data-stu-id="e03ff-173">There are three basic “layers” in hello design:</span></span>

1. <span data-ttu-id="e03ff-174">Irodai réteghez, amely nem érhetők el külsőleg; (a fekete)</span><span class="sxs-lookup"><span data-stu-id="e03ff-174">Back office layer (in black) which are not exposed externally;</span></span>
2. <span data-ttu-id="e03ff-175">"DMZ" réteg (kék) tartalmazó összes hello végpontok irányuló nyilvános;</span><span class="sxs-lookup"><span data-stu-id="e03ff-175">“DMZ” layer (blue) containing all hello endpoints facing public;</span></span>
3. <span data-ttu-id="e03ff-176">Nyilvános Internet (könnyű kék) tartalmazó réteget CDN és a forgalom lejátszó nyilvános interneten keresztül.</span><span class="sxs-lookup"><span data-stu-id="e03ff-176">Public Internet layer (light blue) containing CDN and players with traffic across public Internet.</span></span>

<span data-ttu-id="e03ff-177">A Tartalomkezelés eszköz DRM-védelem szabályozása kell lennie, függetlenül attól statikus vagy dinamikus titkosítást.</span><span class="sxs-lookup"><span data-stu-id="e03ff-177">There should be a content management tool for controlling DRM protection, regardless it is static or dynamic encryption.</span></span> <span data-ttu-id="e03ff-178">hello bemenetek DRM titkosításhoz kell tartalmaznia:</span><span class="sxs-lookup"><span data-stu-id="e03ff-178">hello inputs for DRM encryption should include:</span></span>

1. <span data-ttu-id="e03ff-179">MBR videotartalom;</span><span class="sxs-lookup"><span data-stu-id="e03ff-179">MBR video content;</span></span>
2. <span data-ttu-id="e03ff-180">Tartalomkulcs;</span><span class="sxs-lookup"><span data-stu-id="e03ff-180">Content key;</span></span>
3. <span data-ttu-id="e03ff-181">Licenc-licenckérési URL-címeket.</span><span class="sxs-lookup"><span data-stu-id="e03ff-181">License acquisition URLs.</span></span>

<span data-ttu-id="e03ff-182">A lejátszás időszakban hello magas szintű folyamata a következő:</span><span class="sxs-lookup"><span data-stu-id="e03ff-182">During playback time, hello high level flow is:</span></span>

1. <span data-ttu-id="e03ff-183">Felhasználó hitelesítése;</span><span class="sxs-lookup"><span data-stu-id="e03ff-183">User is authenticated;</span></span>
2. <span data-ttu-id="e03ff-184">Engedélyezési jogkivonat létrejön hello felhasználói;</span><span class="sxs-lookup"><span data-stu-id="e03ff-184">Authorization token is created for hello user;</span></span>
3. <span data-ttu-id="e03ff-185">DRM-védelemmel (jegyzékfájl) tartalma letöltött tooplayer;</span><span class="sxs-lookup"><span data-stu-id="e03ff-185">DRM protected content (manifest) is downloaded tooplayer;</span></span>
4. <span data-ttu-id="e03ff-186">Player elküldi a beszerzési kérelem toolicense licenckiszolgálókat kulcs azonosítója és engedélyezési jogkivonat.</span><span class="sxs-lookup"><span data-stu-id="e03ff-186">Player submits license acquisition request toolicense servers together with key ID and authorization token.</span></span>

<span data-ttu-id="e03ff-187">Áthelyezése toohello következő téma előtt hello kapcsolatos néhány szót kulcskezelés tervezhet.</span><span class="sxs-lookup"><span data-stu-id="e03ff-187">Before moving toohello next topic, a few words about hello design of key management.</span></span>

| <span data-ttu-id="e03ff-188">**ContentKey – eszköz**</span><span class="sxs-lookup"><span data-stu-id="e03ff-188">**ContentKey–to-Asset**</span></span> | <span data-ttu-id="e03ff-189">**A forgatókönyv**</span><span class="sxs-lookup"><span data-stu-id="e03ff-189">**Scenario**</span></span> |
| --- | --- |
| <span data-ttu-id="e03ff-190">1 – 1</span><span class="sxs-lookup"><span data-stu-id="e03ff-190">1–to-1</span></span> |<span data-ttu-id="e03ff-191">hello legegyszerűbb eset.</span><span class="sxs-lookup"><span data-stu-id="e03ff-191">hello simplest case.</span></span> <span data-ttu-id="e03ff-192">Hello Legfinomabb felügyeletét biztosítja azt.</span><span class="sxs-lookup"><span data-stu-id="e03ff-192">It provides hello finest control.</span></span> <span data-ttu-id="e03ff-193">Azonban ez általában annak az eredménye hello legmagasabb licenc kézbesítési költséggel jár.</span><span class="sxs-lookup"><span data-stu-id="e03ff-193">But this generally results in hello highest license delivery cost.</span></span> <span data-ttu-id="e03ff-194">A minimális egy-egy licencet kérelme, mert minden védett eszköz szükséges.</span><span class="sxs-lookup"><span data-stu-id="e03ff-194">At minimum one license request is required for each protected asset.</span></span> |
| <span data-ttu-id="e03ff-195">1 – a-többhöz</span><span class="sxs-lookup"><span data-stu-id="e03ff-195">1–to-Many</span></span> |<span data-ttu-id="e03ff-196">Hello ugyanaz a tartalom a kulcs több eszköz használható.</span><span class="sxs-lookup"><span data-stu-id="e03ff-196">You could use hello same content key for multiple assets.</span></span> <span data-ttu-id="e03ff-197">Például az összes hello eszköz a logikai csoport például a genre vagy genre (vagy Movie gén) részhalmazát, használhat egy tartalomkulcsot.</span><span class="sxs-lookup"><span data-stu-id="e03ff-197">For example, for all hello assets in a logical group such as a genre or subset of genre (or Movie Gene), you could use a single content key.</span></span> |
| <span data-ttu-id="e03ff-198">Több-a-1</span><span class="sxs-lookup"><span data-stu-id="e03ff-198">Many–to-1</span></span> |<span data-ttu-id="e03ff-199">Több tartalomkulcs minden eszköz szükséges.</span><span class="sxs-lookup"><span data-stu-id="e03ff-199">Multiple content keys are needed for each asset.</span></span> <br/><br/><span data-ttu-id="e03ff-200">Például ha tooapply dinamikus CENC-védelem és multi-DRM MPEG-DASH vagy HLS dinamikus AES-128 titkosítási, kell két külön tartalomkulcs, külön-külön ContentKeyType.</span><span class="sxs-lookup"><span data-stu-id="e03ff-200">For example, if you need tooapply dynamic CENC protection with multi-DRM for MPEG-DASH, and dynamic AES-128 encryption for HLS, you need two separate content keys, each with its own ContentKeyType.</span></span> <span data-ttu-id="e03ff-201">(Hello tartalomkulcsot a dinamikus CENC védelemhez használt, a ContentKeyType.CommonEncryption kell használni, a tartalom dinamikus AES-128 titkosítást, ContentKeyType.EnvelopeEncryption használt kulcs használandó hello.)</span><span class="sxs-lookup"><span data-stu-id="e03ff-201">(For hello content key used for dynamic CENC protection, ContentKeyType.CommonEncryption should be used, while for hello content key used for dynamic AES-128 encryption, ContentKeyType.EnvelopeEncryption should be used.)</span></span><br/><br/><span data-ttu-id="e03ff-202">Egy másik példában DASH CENC védelméről elméletileg tartalom, lehet, hogy egy tartalomkulcsot használt tooprotect video-adatfolyamot és egy másik tartalom kulcs tooprotect hangadatfolyam.</span><span class="sxs-lookup"><span data-stu-id="e03ff-202">Another example, in CENC protection of DASH content, in theory, one content key can be used tooprotect video stream and another content key tooprotect audio stream.</span></span> |
| <span data-ttu-id="e03ff-203">Sok – túl – több</span><span class="sxs-lookup"><span data-stu-id="e03ff-203">Many – too- Many</span></span> |<span data-ttu-id="e03ff-204">Két esetben fent hello kombinációja: hello hello az adategységek azonos eszköz "csoport" kulcsot használnak az egyes tartalom egy készletét.</span><span class="sxs-lookup"><span data-stu-id="e03ff-204">Combination of hello above two scenarios: one set of content keys are used for each of hello multiple assets in hello same asset “group”.</span></span> |

<span data-ttu-id="e03ff-205">Egy másik fontos tényező tooconsider állandó, és nem állandó licencek hello felhasználása.</span><span class="sxs-lookup"><span data-stu-id="e03ff-205">Another important factor tooconsider is hello use of persistent and non-persistent licenses.</span></span>

<span data-ttu-id="e03ff-206">Miért fontosak ezeket a szempontokat?</span><span class="sxs-lookup"><span data-stu-id="e03ff-206">Why are these considerations important?</span></span>

<span data-ttu-id="e03ff-207">Közvetlen hatása toolicense kézbesítési költségeket, ha nyilvános felhő licenc kézbesítési rendelkeznek.</span><span class="sxs-lookup"><span data-stu-id="e03ff-207">They have direct impact toolicense delivery cost if you use public cloud for license delivery.</span></span> <span data-ttu-id="e03ff-208">Mérlegeljük, a következő két különböző kialakítási esetekben tooillustrate hello:</span><span class="sxs-lookup"><span data-stu-id="e03ff-208">Let’s consider hello following two different design cases tooillustrate:</span></span>

1. <span data-ttu-id="e03ff-209">Havi előfizetést: állandó licenccel, illetve 1-a-többhöz tartalom kulcs eszköz leképezés.</span><span class="sxs-lookup"><span data-stu-id="e03ff-209">Monthly subscription: Use persistent license, and 1-to-many content key-to-asset mapping.</span></span> <span data-ttu-id="e03ff-210">Például</span><span class="sxs-lookup"><span data-stu-id="e03ff-210">E.g.</span></span> <span data-ttu-id="e03ff-211">az összes hello gyermekek filmek egy egy titkosítási tartalomkulcsot használjuk.</span><span class="sxs-lookup"><span data-stu-id="e03ff-211">for all hello kids movies, we use a single content key for encryption.</span></span> <span data-ttu-id="e03ff-212">Ebben az esetben:</span><span class="sxs-lookup"><span data-stu-id="e03ff-212">In this case:</span></span>

    <span data-ttu-id="e03ff-213">Minden gyermekek filmek vagy eszköz kért # licencek teljes száma = 1</span><span class="sxs-lookup"><span data-stu-id="e03ff-213">Total # licenses requested for all kids movies/device = 1</span></span>
2. <span data-ttu-id="e03ff-214">Havi előfizetést: nem állandó licenccel, illetve 1-1 leképezési tartalomkulcsot és eszköz közötti.</span><span class="sxs-lookup"><span data-stu-id="e03ff-214">Monthly subscription: Use non-persistent license, and 1-to-1 mapping between content key and asset.</span></span> <span data-ttu-id="e03ff-215">Ebben az esetben:</span><span class="sxs-lookup"><span data-stu-id="e03ff-215">In this case:</span></span>

    <span data-ttu-id="e03ff-216">Minden gyermekek filmek vagy eszköz kért # licencek teljes száma = [# filmek figyelt] x [# munkamenetek]</span><span class="sxs-lookup"><span data-stu-id="e03ff-216">Total # licenses requested for all kids movies/device = [# movies watched] x [# sessions]</span></span>

<span data-ttu-id="e03ff-217">Mint könnyen látható, két különböző kialakításokról eredményez nagyon különböző licenc hello elküldésére minták ezért licenc költségeket, ha a nyilvános felhők, például az Azure Media Services licenctovábbítási szolgáltatása biztosítja.</span><span class="sxs-lookup"><span data-stu-id="e03ff-217">As you can easily see, hello two different designs result in very different license request patterns hence license delivery cost if license delivery service is provided by a public cloud such as Azure Media Services.</span></span>

## <a name="mapping-design-tootechnology-for-implementation"></a><span data-ttu-id="e03ff-218">Leképezési tervezési tootechnology végrehajtásához</span><span class="sxs-lookup"><span data-stu-id="e03ff-218">Mapping design tootechnology for implementation</span></span>
<span data-ttu-id="e03ff-219">A következő azt képezze le a Microsoft Azure vagy az Azure Media Services platform, az általános tervezési tootechnologies mely technológia toouse minden építőelem a megadásával.</span><span class="sxs-lookup"><span data-stu-id="e03ff-219">Next, we map our generic design tootechnologies on Microsoft Azure/Azure Media Services platform, by specifying which technology toouse for each building block.</span></span>

<span data-ttu-id="e03ff-220">hello következő táblázatban hello leképezés:</span><span class="sxs-lookup"><span data-stu-id="e03ff-220">hello following table shows hello mapping:</span></span>

| <span data-ttu-id="e03ff-221">**Építőelem**</span><span class="sxs-lookup"><span data-stu-id="e03ff-221">**Building Block**</span></span> | <span data-ttu-id="e03ff-222">**Technológia**</span><span class="sxs-lookup"><span data-stu-id="e03ff-222">**Technology**</span></span> |
| --- | --- |
| <span data-ttu-id="e03ff-223">**Player**</span><span class="sxs-lookup"><span data-stu-id="e03ff-223">**Player**</span></span> |[<span data-ttu-id="e03ff-224">Azure Media Player</span><span class="sxs-lookup"><span data-stu-id="e03ff-224">Azure Media Player</span></span>](https://azure.microsoft.com/services/media-services/media-player/) |
| <span data-ttu-id="e03ff-225">**Az identitásszolgáltató (IDP)**</span><span class="sxs-lookup"><span data-stu-id="e03ff-225">**Identity Provider (IDP)**</span></span> |<span data-ttu-id="e03ff-226">Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="e03ff-226">Azure Active Directory</span></span> |
| <span data-ttu-id="e03ff-227">**Biztonságos biztonságijogkivonat-szolgáltatás (STS)**</span><span class="sxs-lookup"><span data-stu-id="e03ff-227">**Secure Token Service (STS)**</span></span> |<span data-ttu-id="e03ff-228">Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="e03ff-228">Azure Active Directory</span></span> |
| <span data-ttu-id="e03ff-229">**DRM Protection munkafolyamata**</span><span class="sxs-lookup"><span data-stu-id="e03ff-229">**DRM Protection Workflow**</span></span> |<span data-ttu-id="e03ff-230">Azure Media Services dinamikus védelme</span><span class="sxs-lookup"><span data-stu-id="e03ff-230">Azure Media Services Dynamic Protection</span></span> |
| <span data-ttu-id="e03ff-231">**DRM licenc kézbesítés**</span><span class="sxs-lookup"><span data-stu-id="e03ff-231">**DRM License Delivery**</span></span> |<span data-ttu-id="e03ff-232">1. Az Azure Media Services-licenc kézbesítési (PlayReady, Widevine, FairPlay), vagy</span><span class="sxs-lookup"><span data-stu-id="e03ff-232">1. Azure Media Services License Delivery (PlayReady, Widevine, FairPlay), or</span></span> <br/><span data-ttu-id="e03ff-233">2. Axinom licenckiszolgáló,</span><span class="sxs-lookup"><span data-stu-id="e03ff-233">2. Axinom License Server,</span></span> <br/><span data-ttu-id="e03ff-234">3. Egyéni PlayReady licenckiszolgáló</span><span class="sxs-lookup"><span data-stu-id="e03ff-234">3. Custom PlayReady License Server</span></span> |
| <span data-ttu-id="e03ff-235">**Forrás**</span><span class="sxs-lookup"><span data-stu-id="e03ff-235">**Origin**</span></span> |<span data-ttu-id="e03ff-236">Az Azure Media Services-Streamvégpont</span><span class="sxs-lookup"><span data-stu-id="e03ff-236">Azure Media Services Streaming Endpoint</span></span> |
| <span data-ttu-id="e03ff-237">**Kulcskezelés**</span><span class="sxs-lookup"><span data-stu-id="e03ff-237">**Key Management**</span></span> |<span data-ttu-id="e03ff-238">A hivatkozás végrehajtása esetén nem szükséges</span><span class="sxs-lookup"><span data-stu-id="e03ff-238">Not needed for reference implementation</span></span> |
| <span data-ttu-id="e03ff-239">**Tartalomkezelés**</span><span class="sxs-lookup"><span data-stu-id="e03ff-239">**Content Management**</span></span> |<span data-ttu-id="e03ff-240">A C# Konzolalkalmazás</span><span class="sxs-lookup"><span data-stu-id="e03ff-240">A C# console application</span></span> |

<span data-ttu-id="e03ff-241">Identity Provider (IDP) és a Secure Token Service (STS) más szóval lesz az Azure AD.</span><span class="sxs-lookup"><span data-stu-id="e03ff-241">In other words, both Identity Provider (IDP) and Secure Token Service (STS) will be Azure AD.</span></span> <span data-ttu-id="e03ff-242">Player, használjuk [Azure Media Player API](http://amp.azure.net/libs/amp/latest/docs/).</span><span class="sxs-lookup"><span data-stu-id="e03ff-242">For player, we will use [Azure Media Player API](http://amp.azure.net/libs/amp/latest/docs/).</span></span> <span data-ttu-id="e03ff-243">Az Azure Media Services és Azure Media Player támogatják a KÖTŐJELET és CENC multi-DRM.</span><span class="sxs-lookup"><span data-stu-id="e03ff-243">Both Azure Media Services and Azure Media Player support DASH and CENC with multi-DRM.</span></span>

<span data-ttu-id="e03ff-244">a következő ábrán látható hello hello felépítéséről a fenti technológia leképezési hello.</span><span class="sxs-lookup"><span data-stu-id="e03ff-244">hello following diagram shows hello overall structure and flow with hello above technology mapping.</span></span>

![Az AMS CENC](./media/media-services-cenc-with-multidrm-access-control/media-services-cenc-subsystem-on-AMS-platform.png)

<span data-ttu-id="e03ff-246">Hello tartalomkezelési eszköz rendelés tooset dinamikus CENC titkosítási fel, a következő bemenet hello fog használni:</span><span class="sxs-lookup"><span data-stu-id="e03ff-246">In order tooset up dynamic CENC encryption, hello content management tool will use hello following inputs:</span></span>

1. <span data-ttu-id="e03ff-247">Nyissa meg a tartalom;</span><span class="sxs-lookup"><span data-stu-id="e03ff-247">Open content;</span></span>
2. <span data-ttu-id="e03ff-248">A következő kulcsból: tartalomkulcsot generációs/felügyeleti;</span><span class="sxs-lookup"><span data-stu-id="e03ff-248">Content key from key generation/management;</span></span>
3. <span data-ttu-id="e03ff-249">Licenc-licenckérési URL-címek;</span><span class="sxs-lookup"><span data-stu-id="e03ff-249">License acquisition URLs;</span></span>
4. <span data-ttu-id="e03ff-250">Azure ad-információk listáját.</span><span class="sxs-lookup"><span data-stu-id="e03ff-250">A list of information from Azure AD.</span></span>

<span data-ttu-id="e03ff-251">hello tartalomkezelési eszköz hello kimenete a következő lesz:</span><span class="sxs-lookup"><span data-stu-id="e03ff-251">hello output of hello content management tool will be:</span></span>

1. <span data-ttu-id="e03ff-252">Hogyan licenc kézbesítési ellenőrzi a JWT jogkivonat és DRM licenc specifikációk; hello megadását tartalmazó ContentKeyAuthorizationPolicy</span><span class="sxs-lookup"><span data-stu-id="e03ff-252">ContentKeyAuthorizationPolicy containing hello specification on how license delivery verifies a JWT token and DRM license specifications;</span></span>
2. <span data-ttu-id="e03ff-253">A AssetDeliveryPolicy tartalmazó beállításokat a streaming formátumban, DRM-védelem és licenc-licenckérési URL-címeket.</span><span class="sxs-lookup"><span data-stu-id="e03ff-253">AssetDeliveryPolicy containing specifications on streaming format, DRM protection and license acquisition URLs.</span></span>

<span data-ttu-id="e03ff-254">Futásidőben, hello folyamata van, mint alatt:</span><span class="sxs-lookup"><span data-stu-id="e03ff-254">During runtime, hello flow is as below:</span></span>

1. <span data-ttu-id="e03ff-255">Felhasználók hitelesítése után a JWT jogkivonat jön létre;</span><span class="sxs-lookup"><span data-stu-id="e03ff-255">Upon user authentication, a JWT token is generated;</span></span>
2. <span data-ttu-id="e03ff-256">Hello JWT jogkivonat lévő hello jogcímek egyik tartalmazó objektum Csoportazonosító hello "EntitledUserGroup" a "csoport" jogcímet.</span><span class="sxs-lookup"><span data-stu-id="e03ff-256">One of hello claims contained in hello JWT token is “groups” claim containing hello group object ID of “EntitledUserGroup”.</span></span> <span data-ttu-id="e03ff-257">Ezt az igényt az "jogosultság ellenőrzése" továbbításához használható.</span><span class="sxs-lookup"><span data-stu-id="e03ff-257">This claim will be used for passing “entitlement check”.</span></span>
3. <span data-ttu-id="e03ff-258">Player letöltések ügyfél jegyzékfájlt egy CENC a védett tartalmakat, és a "látja" hello következő:</span><span class="sxs-lookup"><span data-stu-id="e03ff-258">Player downloads client manifest of a CENC protected content and “sees” hello following:</span></span>

   1. <span data-ttu-id="e03ff-259">kulcs azonosítója,</span><span class="sxs-lookup"><span data-stu-id="e03ff-259">key ID,</span></span>
   2. <span data-ttu-id="e03ff-260">hello tartalma védve, CENC</span><span class="sxs-lookup"><span data-stu-id="e03ff-260">hello content is CENC protected,</span></span>
   3. <span data-ttu-id="e03ff-261">Licenc-licenckérési URL-címeket.</span><span class="sxs-lookup"><span data-stu-id="e03ff-261">License acquisition URLs.</span></span>
4. <span data-ttu-id="e03ff-262">Player hello böngésző/DRM támogatott alapján licenc beszerzési kérelmet küld.</span><span class="sxs-lookup"><span data-stu-id="e03ff-262">Player makes a license acquisition request based on hello browser/DRM supported.</span></span> <span data-ttu-id="e03ff-263">Hello licenc beszerzési kérelem, kulcs azonosítója és hello JWT jogkivonat fog is küldhető el.</span><span class="sxs-lookup"><span data-stu-id="e03ff-263">In hello license acquisition request, key ID and hello JWT token will also be submitted.</span></span> <span data-ttu-id="e03ff-264">Licenctovábbítási szolgáltatása ellenőrzi, hogy hello JWT jogkivonat és hello jogcímek tartalmazott, mielőtt a kiállító hello licenc szükséges.</span><span class="sxs-lookup"><span data-stu-id="e03ff-264">License delivery service will verify hello JWT token and hello claims contained before issuing hello needed license.</span></span>

## <a name="implementation"></a><span data-ttu-id="e03ff-265">Megvalósítás</span><span class="sxs-lookup"><span data-stu-id="e03ff-265">Implementation</span></span>
### <a name="implementation-procedures"></a><span data-ttu-id="e03ff-266">Eljárások végrehajtása</span><span class="sxs-lookup"><span data-stu-id="e03ff-266">Implementation procedures</span></span>
<span data-ttu-id="e03ff-267">hello megvalósítási lépések hello tartalmazza:</span><span class="sxs-lookup"><span data-stu-id="e03ff-267">hello implementation will include hello following steps:</span></span>

1. <span data-ttu-id="e03ff-268">Készítse elő a teszt eszköz(ök): a vizsgálati videó toomulti sávszélességű kódolására, csomag töredékes MP4 Azure Media Services.</span><span class="sxs-lookup"><span data-stu-id="e03ff-268">Prepare test asset(s): encode/package a test video toomulti-bitrate fragmented MP4 in Azure Media Services.</span></span> <span data-ttu-id="e03ff-269">Ez az eszköz nincs DRM-védelemmel.</span><span class="sxs-lookup"><span data-stu-id="e03ff-269">This asset is NOT DRM protected.</span></span> <span data-ttu-id="e03ff-270">DRM-védelem később dinamikus védelmi végezhető el.</span><span class="sxs-lookup"><span data-stu-id="e03ff-270">DRM protection will be done by dynamic protection later.</span></span>
2. <span data-ttu-id="e03ff-271">Kulcs azonosítója és a tartalom létrehozása (nem kötelező a kulcs kezdőérték) kulcs.</span><span class="sxs-lookup"><span data-stu-id="e03ff-271">Create key ID and content key (optionally from key seed).</span></span> <span data-ttu-id="e03ff-272">A célra kulcskezelés rendszer nincs szükség, mert jelenleg csak egyetlen halmazába foglalkoznak azonosítója és a vizsgálati eszközök; több tartalomkulcs</span><span class="sxs-lookup"><span data-stu-id="e03ff-272">For our purpose, key management system is not needed since we are dealing with only a single set of key ID and content key for a couple of test assets;</span></span>
3. <span data-ttu-id="e03ff-273">AMS API tooconfigure multi-DRM-licenctovábbítási szolgáltatások hello vizsgálati eszköz használható.</span><span class="sxs-lookup"><span data-stu-id="e03ff-273">Use AMS API tooconfigure multi-DRM license delivery services for hello test asset.</span></span> <span data-ttu-id="e03ff-274">A vállalat vagy a vállalat forgalmazók Azure Media Services szolgáltatások helyett egyéni licenc kiszolgálókat használ, ha kihagyja ezt a lépést, és adja meg a licenc-licenckérési URL-címek konfigurálásához licenc kézbesítési hello lépésben.</span><span class="sxs-lookup"><span data-stu-id="e03ff-274">If you are using custom license servers by your company or your company’s vendors instead of license services in Azure Media Services, you can skip this step and specify license acquisition URLs in hello step for configuring license delivery.</span></span> <span data-ttu-id="e03ff-275">AMS API néhány részletes szükséges toospecify konfigurációkat, például az engedélyezési házirend-korlátozás licenc válasz sablonok DRM-licenc különböző szolgáltatások, stb. Jelenleg a hello Azure-portálon nem még meg hello ehhez a konfigurációhoz szükséges a felhasználói felület.</span><span class="sxs-lookup"><span data-stu-id="e03ff-275">AMS API is needed toospecify some detailed configurations, such as authorization policy restriction, license response templates for different DRM license services, etc. At this time, hello Azure portal does not yet provide hello needed UI for this configuration.</span></span> <span data-ttu-id="e03ff-276">API-szintű adatainak megkeresése és a mintakódot Ágnes Kornich dokumentumban: [segítségével PlayReady és/vagy Widevine Dynamic Common Encryption](media-services-protect-with-drm.md).</span><span class="sxs-lookup"><span data-stu-id="e03ff-276">You can find API level info and sample code in Julia Kornich’s document: [Using PlayReady and/or Widevine Dynamic Common Encryption](media-services-protect-with-drm.md).</span></span>
4. <span data-ttu-id="e03ff-277">Használja az AMS API tooconfigure objektumtovábbítási szabályzat hello vizsgálati eszköz.</span><span class="sxs-lookup"><span data-stu-id="e03ff-277">Use AMS API tooconfigure asset delivery policy for hello test asset.</span></span> <span data-ttu-id="e03ff-278">API-szintű adatainak megkeresése és a mintakódot Ágnes Kornich dokumentumban: [segítségével PlayReady és/vagy Widevine Dynamic Common Encryption](media-services-protect-with-drm.md).</span><span class="sxs-lookup"><span data-stu-id="e03ff-278">You can find API level info and sample code in Julia Kornich’s document: [Using PlayReady and/or Widevine Dynamic Common Encryption](media-services-protect-with-drm.md).</span></span>
5. <span data-ttu-id="e03ff-279">Hozza létre és konfigurálja az Azure Active Directory-bérlő az Azure rendszerben;</span><span class="sxs-lookup"><span data-stu-id="e03ff-279">Create and configure an Azure Active Directory tenant in Azure;</span></span>
6. <span data-ttu-id="e03ff-280">Néhány felhasználói fiókok és csoportok létrehozása az Azure Active Directory-bérlőhöz: legalább hozzon létre "EntitledUser" csoportot és toothis felhasználói csoport hozzáadása.</span><span class="sxs-lookup"><span data-stu-id="e03ff-280">Create a few user accounts and groups in your Azure Active Directory tenant: you should create at least “EntitledUser” group and add a user toothis group.</span></span> <span data-ttu-id="e03ff-281">A csoportban található felhasználók fogja továbbítani jogosultsági ellenőrzés licenc a beszerzési és nem a csoportban található felhasználók toopass hitelesítési ellenőrzés sikertelen lesz, és nem lesz képes tooacquire licenc.</span><span class="sxs-lookup"><span data-stu-id="e03ff-281">Users in this group will pass entitlement check in license acquisition and users not in this group will fail toopass authentication check and will not be able tooacquire any license.</span></span> <span data-ttu-id="e03ff-282">A "EntitledUser" csoport tagjaként a szükséges "csoportok" jogcím hello JWT jogkivonat Azure ad ki.</span><span class="sxs-lookup"><span data-stu-id="e03ff-282">Being a member of this “EntitledUser” group is a required “groups” claim in hello JWT token issued by Azure AD.</span></span> <span data-ttu-id="e03ff-283">Ez a követelmény jogcím multi-DRM licenc delivery services lépés konfigurálása kell megadni.</span><span class="sxs-lookup"><span data-stu-id="e03ff-283">This claim requirement should be specified in configuring multi-DRM license delivery services step.</span></span>
7. <span data-ttu-id="e03ff-284">Hozzon létre egy ASP.NET MVC alkalmazást, amely a videólejátszó szolgáltató.</span><span class="sxs-lookup"><span data-stu-id="e03ff-284">Create an ASP.NET MVC app which will be hosting your video player.</span></span> <span data-ttu-id="e03ff-285">Az ASP.NET alkalmazás felhasználóhitelesítéssel hello Azure Active Directory-bérlő elleni védelemmel látja el.</span><span class="sxs-lookup"><span data-stu-id="e03ff-285">This ASP.NET app will be protected with user authentication against hello Azure Active Directory tenant.</span></span> <span data-ttu-id="e03ff-286">Megfelelő jogcímeket fognak szerepelni felhasználók hitelesítése után hello hozzáférési jogkivonatok.</span><span class="sxs-lookup"><span data-stu-id="e03ff-286">Proper claims will be included in hello access tokens obtained after user authentication.</span></span> <span data-ttu-id="e03ff-287">Ez a lépés ajánlott OpenID Connect API.</span><span class="sxs-lookup"><span data-stu-id="e03ff-287">OpenID Connect API is recommended for this step.</span></span> <span data-ttu-id="e03ff-288">A következő NuGet-csomagok tooinstall hello lesz szüksége:</span><span class="sxs-lookup"><span data-stu-id="e03ff-288">You need tooinstall hello following NuGet packages:</span></span>
   * <span data-ttu-id="e03ff-289">Install-Package Microsoft.Azure.ActiveDirectory.GraphClient</span><span class="sxs-lookup"><span data-stu-id="e03ff-289">Install-Package Microsoft.Azure.ActiveDirectory.GraphClient</span></span>
   * <span data-ttu-id="e03ff-290">Install-Package Microsoft.Owin.Security.OpenIdConnect</span><span class="sxs-lookup"><span data-stu-id="e03ff-290">Install-Package Microsoft.Owin.Security.OpenIdConnect</span></span>
   * <span data-ttu-id="e03ff-291">Install-Package Microsoft.Owin.Security.Cookies</span><span class="sxs-lookup"><span data-stu-id="e03ff-291">Install-Package Microsoft.Owin.Security.Cookies</span></span>
   * <span data-ttu-id="e03ff-292">Install-Package Microsoft.Owin.Host.SystemWeb</span><span class="sxs-lookup"><span data-stu-id="e03ff-292">Install-Package Microsoft.Owin.Host.SystemWeb</span></span>
   * <span data-ttu-id="e03ff-293">Install-Package Microsoft.IdentityModel.Clients.ActiveDirectory</span><span class="sxs-lookup"><span data-stu-id="e03ff-293">Install-Package Microsoft.IdentityModel.Clients.ActiveDirectory</span></span>
8. <span data-ttu-id="e03ff-294">Hozzon létre egy player használt [Azure Media Player API](http://amp.azure.net/libs/amp/latest/docs/).</span><span class="sxs-lookup"><span data-stu-id="e03ff-294">Create a player using [Azure Media Player API](http://amp.azure.net/libs/amp/latest/docs/).</span></span> <span data-ttu-id="e03ff-295">[Az Azure Media Player ProtectionInfo API](http://amp.azure.net/libs/amp/latest/docs/) lehetővé teszi a toospecify mely DRM technológia toouse különböző DRM-platformon.</span><span class="sxs-lookup"><span data-stu-id="e03ff-295">[Azure Media Player’s ProtectionInfo API](http://amp.azure.net/libs/amp/latest/docs/) allows you toospecify which DRM technology toouse on different DRM platform.</span></span>
9. <span data-ttu-id="e03ff-296">Teszt mátrix:</span><span class="sxs-lookup"><span data-stu-id="e03ff-296">Test matrix:</span></span>

| <span data-ttu-id="e03ff-297">**DRM**</span><span class="sxs-lookup"><span data-stu-id="e03ff-297">**DRM**</span></span> | <span data-ttu-id="e03ff-298">**Böngésző**</span><span class="sxs-lookup"><span data-stu-id="e03ff-298">**Browser**</span></span> | <span data-ttu-id="e03ff-299">**Jogosult felhasználó eredménye**</span><span class="sxs-lookup"><span data-stu-id="e03ff-299">**Result for Entitled User**</span></span> | <span data-ttu-id="e03ff-300">**Nem jogosult felhasználó eredménye**</span><span class="sxs-lookup"><span data-stu-id="e03ff-300">**Result for Un-entitled User**</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="e03ff-301">**PlayReady**</span><span class="sxs-lookup"><span data-stu-id="e03ff-301">**PlayReady**</span></span> |<span data-ttu-id="e03ff-302">MS peremhálózati vagy IE11 Windows 10 rendszeren</span><span class="sxs-lookup"><span data-stu-id="e03ff-302">MS Edge or IE11 on Windows 10</span></span> |<span data-ttu-id="e03ff-303">Sikeres</span><span class="sxs-lookup"><span data-stu-id="e03ff-303">Succeed</span></span> |<span data-ttu-id="e03ff-304">Sikertelen</span><span class="sxs-lookup"><span data-stu-id="e03ff-304">Fail</span></span> |
| <span data-ttu-id="e03ff-305">**Widevine**</span><span class="sxs-lookup"><span data-stu-id="e03ff-305">**Widevine**</span></span> |<span data-ttu-id="e03ff-306">A Windows 10 Chrome</span><span class="sxs-lookup"><span data-stu-id="e03ff-306">Chrome on Windows 10</span></span> |<span data-ttu-id="e03ff-307">Sikeres</span><span class="sxs-lookup"><span data-stu-id="e03ff-307">Succeed</span></span> |<span data-ttu-id="e03ff-308">Sikertelen</span><span class="sxs-lookup"><span data-stu-id="e03ff-308">Fail</span></span> |
| <span data-ttu-id="e03ff-309">**FairPlay**</span><span class="sxs-lookup"><span data-stu-id="e03ff-309">**FairPlay**</span></span> |<span data-ttu-id="e03ff-310">TBD</span><span class="sxs-lookup"><span data-stu-id="e03ff-310">TBD</span></span> | | |

<span data-ttu-id="e03ff-311">Az Azure Media Services csapatától George Trifonov írás biztosít az ASP.NET MVC player alkalmazásoknak az Azure Active Directory beállításának részletes lépéseket blog: [integrálni Azure Media Services OWIN MVC alkalmazás Azure Active Directory-alapú, és korlátozhatja a JWT jogcímei alapján kulcs tartalomkézbesítési](http://gtrifonov.com/2015/01/24/mvc-owin-azure-media-services-ad-integration/).</span><span class="sxs-lookup"><span data-stu-id="e03ff-311">George Trifonov of Azure Media Services Team has written a blog providing detailed steps in setting up Azure Active Directory for an ASP.NET MVC player app: [Integrate Azure Media Services OWIN MVC based app with Azure Active Directory and restrict content key delivery based on JWT claims](http://gtrifonov.com/2015/01/24/mvc-owin-azure-media-services-ad-integration/).</span></span>

<span data-ttu-id="e03ff-312">George is írás blog a [JWT jogkivonat hitelesítés az Azure Media Services és a dinamikus titkosítás](http://gtrifonov.com/2015/01/03/jwt-token-authentication-in-azure-media-services-and-dynamic-encryption/).</span><span class="sxs-lookup"><span data-stu-id="e03ff-312">George has also written a blog on [JWT token Authentication in Azure Media Services and Dynamic Encryption](http://gtrifonov.com/2015/01/03/jwt-token-authentication-in-azure-media-services-and-dynamic-encryption/).</span></span> <span data-ttu-id="e03ff-313">És itt a [mintát a Azure AD integrálása Azure Media Services kulcs kézbesítésével](https://github.com/AzureMediaServicesSamples/Key-delivery-with-AAD-integration/).</span><span class="sxs-lookup"><span data-stu-id="e03ff-313">And here is his [sample on Azure AD integration with Azure Media Services key delivery](https://github.com/AzureMediaServicesSamples/Key-delivery-with-AAD-integration/).</span></span>

<span data-ttu-id="e03ff-314">Információk az Azure Active Directoryban:</span><span class="sxs-lookup"><span data-stu-id="e03ff-314">For information on Azure Active Directory:</span></span>

* <span data-ttu-id="e03ff-315">A fejlesztői információt [Azure Active Directory fejlesztői útmutatója](../active-directory/active-directory-developers-guide.md).</span><span class="sxs-lookup"><span data-stu-id="e03ff-315">You can find developer information in [Azure Active Directory Developer’s Guide](../active-directory/active-directory-developers-guide.md).</span></span>
* <span data-ttu-id="e03ff-316">A rendszergazda információt [felügyelheti az Azure AD-címtár](../active-directory/active-directory-administer.md).</span><span class="sxs-lookup"><span data-stu-id="e03ff-316">You can find administrator information in [Administer Your Azure AD Directory](../active-directory/active-directory-administer.md).</span></span>

### <a name="some-gotchas-in-implementation"></a><span data-ttu-id="e03ff-317">Néhány gotchas végrehajtása</span><span class="sxs-lookup"><span data-stu-id="e03ff-317">Some gotchas in implementation</span></span>
<span data-ttu-id="e03ff-318">Nincsenek egyes "gotchas" hello megvalósításában.</span><span class="sxs-lookup"><span data-stu-id="e03ff-318">There are some “gotchas” in hello implementation.</span></span> <span data-ttu-id="e03ff-319">Remélhetőleg "gotchas" listája a következő hello segítségével hibaelhárítási abban az esetben, ha problémákat tapasztal.</span><span class="sxs-lookup"><span data-stu-id="e03ff-319">Hopefully hello following list of “gotchas” can help you troubleshooting in case you run into issues.</span></span>

1. <span data-ttu-id="e03ff-320">**Kibocsátó** URL-címet kell végződnie **"/"**.</span><span class="sxs-lookup"><span data-stu-id="e03ff-320">**Issuer** URL should end with **"/"**.</span></span>  

    <span data-ttu-id="e03ff-321">**A célközönség** hello player alkalmazás ügyfél-azonosító és is fel kell **"/"** hello végén lévő hello kiállítójának URL-címe.</span><span class="sxs-lookup"><span data-stu-id="e03ff-321">**Audience** should be hello player application client ID and you should also add **"/"** at hello end of hello issuer URL.</span></span>

        <add key="ida:audience" value="[Application Client ID GUID]" />
        <add key="ida:issuer" value="https://sts.windows.net/[AAD Tenant ID]/" />

    <span data-ttu-id="e03ff-322">A [JWT dekóder](http://jwt.calebb.net/), megtekintheti az **és** és **iss** hello JWT jogkivonat az alábbiak szerint:</span><span class="sxs-lookup"><span data-stu-id="e03ff-322">In [JWT Decoder](http://jwt.calebb.net/), you should see **aud** and **iss** as below in hello JWT token:</span></span>

    ![1. gotcha](./media/media-services-cenc-with-multidrm-access-control/media-services-1st-gotcha.png)
2. <span data-ttu-id="e03ff-324">Engedélyek toohello alkalmazás felvétele az aad-ben (a konfigurálás lapon hello alkalmazás).</span><span class="sxs-lookup"><span data-stu-id="e03ff-324">Add Permissions toohello application in AAD (on Configure tab of hello application).</span></span> <span data-ttu-id="e03ff-325">Ez azért szükséges, az egyes alkalmazásokhoz (helyi és a telepített verzió).</span><span class="sxs-lookup"><span data-stu-id="e03ff-325">This is required for each application (local and deployed versions).</span></span>

    ![2. gotcha](./media/media-services-cenc-with-multidrm-access-control/media-services-perms-to-other-apps.png)
3. <span data-ttu-id="e03ff-327">Hello helyes kibocsátói dinamikus CENC védelem beállításakor használja:</span><span class="sxs-lookup"><span data-stu-id="e03ff-327">Use hello right issuer in setting up dynamic CENC protection:</span></span>

        <add key="ida:issuer" value="https://sts.windows.net/[AAD Tenant ID]/"/>

    <span data-ttu-id="e03ff-328">hello következők nem fognak működni:</span><span class="sxs-lookup"><span data-stu-id="e03ff-328">hello following will not work:</span></span>

        <add key="ida:issuer" value="https://willzhanad.onmicrosoft.com/" />

    <span data-ttu-id="e03ff-329">hello GUID az hello AAD bérlő azonosítója.</span><span class="sxs-lookup"><span data-stu-id="e03ff-329">hello GUID is hello AAD tenant ID.</span></span> <span data-ttu-id="e03ff-330">hello GUID Azure-portálon található végpontok előugró.</span><span class="sxs-lookup"><span data-stu-id="e03ff-330">hello GUID can be found in Endpoints popup in Azure portal.</span></span>
4. <span data-ttu-id="e03ff-331">Támogatás csoporttagság jogosultságokat jogcímek.</span><span class="sxs-lookup"><span data-stu-id="e03ff-331">Grant group membership claims privileges.</span></span> <span data-ttu-id="e03ff-332">Ellenőrizze, hogy az aad-ben Alkalmazásjegyzék-fájl, hello következő tudunk</span><span class="sxs-lookup"><span data-stu-id="e03ff-332">Make sure in AAD application manifest file, we have hello following</span></span>

    <span data-ttu-id="e03ff-333">"groupMembershipClaims": "All", (hello alapértelmezett értéke null)</span><span class="sxs-lookup"><span data-stu-id="e03ff-333">"groupMembershipClaims": "All",    (hello default value is null)</span></span>
5. <span data-ttu-id="e03ff-334">A beállítás megfelelő TokenType korlátozás követelmények létrehozásakor.</span><span class="sxs-lookup"><span data-stu-id="e03ff-334">Setting proper TokenType when creating restriction requirements.</span></span>

        objTokenRestrictionTemplate.TokenType = TokenType.JWT;

    <span data-ttu-id="e03ff-335">Mivel hozzáadását támogatja a jwt-t (AAD) továbbá tooSWT (ACS), hello TokenType alapérték TokenType.JWT.</span><span class="sxs-lookup"><span data-stu-id="e03ff-335">Since adding support of JWT (AAD) in addition tooSWT (ACS), hello default TokenType is TokenType.JWT.</span></span> <span data-ttu-id="e03ff-336">Ha SWT/ACS használ, meg kell adni a tooTokenType.SWT.</span><span class="sxs-lookup"><span data-stu-id="e03ff-336">If you use SWT/ACS, you must set tooTokenType.SWT.</span></span>

## <a name="additional-topics-for-implementation"></a><span data-ttu-id="e03ff-337">Kiegészítő témakörök az végrehajtása</span><span class="sxs-lookup"><span data-stu-id="e03ff-337">Additional Topics for Implementation</span></span>
<span data-ttu-id="e03ff-338">Ezután azt fogja lemezre uss néhány kiegészítő témakörök a tervezési és megvalósítási.</span><span class="sxs-lookup"><span data-stu-id="e03ff-338">Next we will disc uss some additional topics in our design and implementation.</span></span>

### <a name="http-or-https"></a><span data-ttu-id="e03ff-339">HTTP vagy HTTPS?</span><span class="sxs-lookup"><span data-stu-id="e03ff-339">HTTP or HTTPS?</span></span>
<span data-ttu-id="e03ff-340">hello azt beépített ASP.NET MVC lejátszóalkalmazás támogatnia kell a következő hello:</span><span class="sxs-lookup"><span data-stu-id="e03ff-340">hello ASP.NET MVC player application we built must support hello following:</span></span>

1. <span data-ttu-id="e03ff-341">Az Azure AD, amely a HTTPS; toobe szükséges felhasználói hitelesítést</span><span class="sxs-lookup"><span data-stu-id="e03ff-341">User authentication through Azure AD which needs toobe under HTTPS;</span></span>
2. <span data-ttu-id="e03ff-342">JWT jogkivonat exchange ügyfél és az Azure AD, amelyekre szüksége van a HTTPS; toobe között</span><span class="sxs-lookup"><span data-stu-id="e03ff-342">JWT token exchange between client and Azure AD which needs toobe under HTTPS;</span></span>
3. <span data-ttu-id="e03ff-343">DRM-licenc beszerzési hello ügyfél, amely a HTTPS szükséges toobe Ha licenc kézbesítési Azure Media Services biztosítja.</span><span class="sxs-lookup"><span data-stu-id="e03ff-343">DRM license acquisition by hello client which is required toobe under HTTPS if license delivery is provided by Azure Media Services.</span></span> <span data-ttu-id="e03ff-344">Természetesen PlayReady termékcsomag határozza meg, hogy HTTPS licenc kézbesítésre.</span><span class="sxs-lookup"><span data-stu-id="e03ff-344">Of course, PlayReady product suite does not mandate HTTPS for license delivery.</span></span> <span data-ttu-id="e03ff-345">Ha a PlayReady licenckiszolgáló Azure Media Services kívül esik, HTTP vagy HTTPS használható.</span><span class="sxs-lookup"><span data-stu-id="e03ff-345">If your PlayReady license server is outside of Azure Media Services, either HTTP or HTTPS could be used.</span></span>

<span data-ttu-id="e03ff-346">Ezért az ASP.NET lejátszóalkalmazás hello fogja használni az HTTPS az ajánlott eljárás.</span><span class="sxs-lookup"><span data-stu-id="e03ff-346">Therefore, hello ASP.NET player application will use HTTPS as a best practice.</span></span> <span data-ttu-id="e03ff-347">Ez azt jelenti, hogy a hello Azure Media Player a HTTPS oldalon lesz.</span><span class="sxs-lookup"><span data-stu-id="e03ff-347">This means hello Azure Media Player will be on a page under HTTPS.</span></span> <span data-ttu-id="e03ff-348">Azonban az adatfolyamként történő azt részesítsék előnyben a HTTP, ezért ellenőriznünk kell a vegyes tartalom probléma tooconsider.</span><span class="sxs-lookup"><span data-stu-id="e03ff-348">However, for streaming we prefer HTTP, hence we need tooconsider mixed content issue.</span></span>

1. <span data-ttu-id="e03ff-349">Böngésző vegyes tartalom nem teszi lehetővé.</span><span class="sxs-lookup"><span data-stu-id="e03ff-349">Browser does not allow mixed content.</span></span> <span data-ttu-id="e03ff-350">De a beépülő modulok, például a Silverlight- és OSMF beépülő modul a smooth, valamint a kötőjel.</span><span class="sxs-lookup"><span data-stu-id="e03ff-350">But plugins like Silverlight and OSMF plugin for smooth and DASH allow.</span></span> <span data-ttu-id="e03ff-351">Vegyes tartalom kapcsolatos egyik biztonsági szempont - ezt toohello fenyegetés miatt a hello képességét tooinject rosszindulatú JS, ami okozhat a felhasználói adatok toobe veszélyben hello.</span><span class="sxs-lookup"><span data-stu-id="e03ff-351">Mixed content is a security concern - This is due toohello threat of hello ability tooinject malicious JS which can cause hello customer data toobe at risk.</span></span>  <span data-ttu-id="e03ff-352">Böngészők blokkolják a ez alapértelmezés szerint, és eddig hello csak úgy toowork köré hello (forrás) kiszolgáló oldalán, tooallow minden olyan tartománynál, (függetlenül attól, hogy https vagy http).</span><span class="sxs-lookup"><span data-stu-id="e03ff-352">Browsers block this by default and so far hello only way toowork around it is on hello server (origin) side, tooallow all domains (regardless https or http).</span></span> <span data-ttu-id="e03ff-353">Ez az valószínűleg nem jó ötlet vagy.</span><span class="sxs-lookup"><span data-stu-id="e03ff-353">This is probably not a good idea either.</span></span>
2. <span data-ttu-id="e03ff-354">Azt a vegyes tartalom kerülendő: mindkettő használja a HTTP vagy HTTPS használatára is.</span><span class="sxs-lookup"><span data-stu-id="e03ff-354">We should avoid mixed content: either both use HTTP or both use HTTPS.</span></span> <span data-ttu-id="e03ff-355">Vegyes tartalom lejátszását, amikor a silverlightSS technológia szükséges, vegyes tartalom figyelmeztetés törlése.</span><span class="sxs-lookup"><span data-stu-id="e03ff-355">When playing mixed content, silverlightSS tech requires clearing a mixed content warning.</span></span> <span data-ttu-id="e03ff-356">flashSS műszaki vegyes tartalom vegyes tartalom figyelmeztetés nélkül kezeli.</span><span class="sxs-lookup"><span data-stu-id="e03ff-356">flashSS tech handles mixed content without mixed content warning.</span></span>
3. <span data-ttu-id="e03ff-357">Ha a streamvégpontján augusztus 2014 előtt készült, nem fogja támogatni HTTPS.</span><span class="sxs-lookup"><span data-stu-id="e03ff-357">If your streaming endpoint was created before August 2014, it will not support HTTPS.</span></span> <span data-ttu-id="e03ff-358">Ebben az esetben hozzon létre és használjon egy új streamvégpont HTTPS-hez.</span><span class="sxs-lookup"><span data-stu-id="e03ff-358">In this case, please create and use a new streaming endpoint for HTTPS.</span></span>

<span data-ttu-id="e03ff-359">Hello hivatkozás megvalósításban DRM védett tartalmakat, az alkalmazás- és adatfolyamként történő továbbítását fogja tudni HTTTPS.</span><span class="sxs-lookup"><span data-stu-id="e03ff-359">In hello reference implementation, for DRM protected contents, both application and streaming will be under HTTTPS.</span></span> <span data-ttu-id="e03ff-360">Tartalmának megnyitása hello player nem kell hitelesítést vagy licenc, így hello liberty toouse vagy HTTP vagy HTTPS.</span><span class="sxs-lookup"><span data-stu-id="e03ff-360">For open contents, hello player does not need authentication or license, so you have hello liberty toouse either HTTP or HTTPS.</span></span>

### <a name="azure-active-directory-signing-key-rollover"></a><span data-ttu-id="e03ff-361">Az Azure Active Directory aláírási kulcs váltása</span><span class="sxs-lookup"><span data-stu-id="e03ff-361">Azure Active Directory signing key rollover</span></span>
<span data-ttu-id="e03ff-362">Ez az egy fontos pont tootake a megvalósítás figyelembe.</span><span class="sxs-lookup"><span data-stu-id="e03ff-362">This is an important point tootake into consideration of your implementation.</span></span> <span data-ttu-id="e03ff-363">Ha nem ez a megvalósítás a, befejeződött hello rendszer végül leállnak teljesen legfeljebb 6 héten belül.</span><span class="sxs-lookup"><span data-stu-id="e03ff-363">If you do not consider this in your implementation, hello completed system will eventually stop working completely within at most 6 weeks.</span></span>

<span data-ttu-id="e03ff-364">Az Azure AD által használt iparági szabványos tooestablish megbízhatósági és alkalmazások az Azure AD között.</span><span class="sxs-lookup"><span data-stu-id="e03ff-364">Azure AD uses industry standard tooestablish trust between itself and applications using Azure AD.</span></span> <span data-ttu-id="e03ff-365">Pontosabban az Azure AD nyilvános és titkos kulcsból álló kulcspárt tartalmazó aláíró kulcsot használ.</span><span class="sxs-lookup"><span data-stu-id="e03ff-365">Specifically, Azure AD uses a signing key that consists of a public and private key pair.</span></span> <span data-ttu-id="e03ff-366">Az Azure AD létrehoz egy biztonsági jogkivonatot, amely hello felhasználói információkat tartalmaz, ez a jogkivonat aláírását Azure ad használatával a titkos kulcsot, hátsó toohello alkalmazás elküldés előtt.</span><span class="sxs-lookup"><span data-stu-id="e03ff-366">When Azure AD creates a security token that contains information about hello user, this token is signed by Azure AD using its private key before it is sent back toohello application.</span></span> <span data-ttu-id="e03ff-367">amely a hello token tooverify érvényes és az Azure AD ténylegesen kezdeményezésű, hello alkalmazásnak ellenőriznie kell a nyilvános kulcsával. hello hello bérlői összevonási metaadat-dokumentum található, az Azure AD által elérhetővé tett hello jogkivonat aláírása.</span><span class="sxs-lookup"><span data-stu-id="e03ff-367">tooverify that hello token is valid and actually originated from Azure AD, hello application must validate hello token’s signature using hello public key exposed by Azure AD that is contained in hello tenant’s federation metadata document.</span></span> <span data-ttu-id="e03ff-368">A nyilvános kulcs – hello aláírókulcsának, amelyből származik – pedig hello azonos használttól egyetlen bérlő számára az Azure ad-ben.</span><span class="sxs-lookup"><span data-stu-id="e03ff-368">This public key – and hello signing key from which it derives – is hello same one used for all tenants in Azure AD.</span></span>

<span data-ttu-id="e03ff-369">Részletes adatait az Azure AD kulcsváltás hello dokumentumban található: [aláírási kulcs átfordulási az Azure AD vonatkozó fontos információk](../active-directory/active-directory-signing-key-rollover.md).</span><span class="sxs-lookup"><span data-stu-id="e03ff-369">Detailed info on Azure AD key rollover can be found in hello document: [Important Information about Signing Key Rollover in Azure AD](../active-directory/active-directory-signing-key-rollover.md).</span></span>

<span data-ttu-id="e03ff-370">Hello közötti [nyilvános-titkos kulcsból álló kulcspárt](https://login.microsoftonline.com/common/discovery/keys/),</span><span class="sxs-lookup"><span data-stu-id="e03ff-370">Between hello [public-private key pair](https://login.microsoftonline.com/common/discovery/keys/),</span></span>

* <span data-ttu-id="e03ff-371">hello titkos kulcs használata esetén által az Azure Active Directory toogenerate a JWT jogkivonat;</span><span class="sxs-lookup"><span data-stu-id="e03ff-371">hello private key is used by Azure Active Directory toogenerate a JWT token;</span></span>
* <span data-ttu-id="e03ff-372">hello nyilvános kulcsot használja egy alkalmazás, például DRM-Licenctovábbítási szolgáltatások AMS tooverify hello JWT jogkivonat;</span><span class="sxs-lookup"><span data-stu-id="e03ff-372">hello public key is used by an application such as DRM License Delivery Services in AMS tooverify hello JWT token;</span></span>

<span data-ttu-id="e03ff-373">Biztonsági célra az Azure Active Directory forog ezt a tanúsítványt rendszeres időközönként (6 hét).</span><span class="sxs-lookup"><span data-stu-id="e03ff-373">For security purpose, Azure Active Directory rotates this certificate periodically (every 6 weeks).</span></span> <span data-ttu-id="e03ff-374">Biztonsági problémák esetén hello kulcsváltás akkor fordulhat elő, amikor.</span><span class="sxs-lookup"><span data-stu-id="e03ff-374">In case of security breaches, hello key rollover can occur any time.</span></span> <span data-ttu-id="e03ff-375">Ezért hello licenctovábbítási szolgáltatások az AMS kell tooupdate hello nyilvános kulcsot használják az Azure AD forog hello kulcspár, ellenkező esetben az AMS tokent használó hitelesítés sikertelen lesz, és engedélyezve lesznek kiállítva.</span><span class="sxs-lookup"><span data-stu-id="e03ff-375">Therefore, hello license delivery services in AMS need tooupdate hello public key used as Azure AD rotates hello key pair, otherwise token authentication in AMS will fail and no license will be issued.</span></span>

<span data-ttu-id="e03ff-376">Ez TokenRestrictionTemplate.OpenIdConnectDiscoveryDocument úgy, hogy DRM-licenctovábbítási szolgáltatások konfigurálása esetén érhető el.</span><span class="sxs-lookup"><span data-stu-id="e03ff-376">This is achieved by setting TokenRestrictionTemplate.OpenIdConnectDiscoveryDocument when configuring DRM license delivery services.</span></span>

<span data-ttu-id="e03ff-377">hello JWT jogkivonat-folyamata van, mint alatt:</span><span class="sxs-lookup"><span data-stu-id="e03ff-377">hello JWT token flow is as below:</span></span>

1. <span data-ttu-id="e03ff-378">Az Azure AD állít ki hello JWT jogkivonat hello aktuális titkos kulccsal, a hitelesített felhasználók;</span><span class="sxs-lookup"><span data-stu-id="e03ff-378">Azure AD will issue hello JWT token with hello current private key for an authenticated user;</span></span>
2. <span data-ttu-id="e03ff-379">Ha egy player egy CENC tartalmú multi-DRM-védelemmel látja, először megkeresi az Azure AD által kibocsátott hello JWT jogkivonat.</span><span class="sxs-lookup"><span data-stu-id="e03ff-379">When a player sees a CENC with multi-DRM protected content, it will first locate hello JWT token issued by Azure AD.</span></span>
3. <span data-ttu-id="e03ff-380">hello player hello JWT jogkivonat toolicense kézbesítési szolgáltatásokkal a licenc-beszerzési kérést küld az AMS;</span><span class="sxs-lookup"><span data-stu-id="e03ff-380">hello player sends license acquisition request with hello JWT token toolicense delivery services in AMS;</span></span>
4. <span data-ttu-id="e03ff-381">hello licenctovábbítási szolgáltatások az AMS használandó hello aktuális érvényes nyilvános kulcsot az Azure AD tooverify hello JWT jogkivonat licencek kiadása előtt.</span><span class="sxs-lookup"><span data-stu-id="e03ff-381">hello license delivery services in AMS will use hello current/valid public key from Azure AD tooverify hello JWT token, before issuing licenses.</span></span>

<span data-ttu-id="e03ff-382">DRM-licenctovábbítási szolgáltatások mindig keresi hello aktuális érvényes nyilvános kulcsot az Azure AD.</span><span class="sxs-lookup"><span data-stu-id="e03ff-382">DRM license delivery services will always be checking for hello current/valid public key from Azure AD.</span></span> <span data-ttu-id="e03ff-383">hello nyilvános kulcsot az Azure AD által használt ellenőrzése az Azure AD által kibocsátott JWT jogkivonat hello kulcs lesz.</span><span class="sxs-lookup"><span data-stu-id="e03ff-383">hello public key presented by Azure AD will be hello key used for verifying a JWT token issued by Azure AD.</span></span>

<span data-ttu-id="e03ff-384">Mi történik, ha a hello kulcsához kapcsolódó kulcsváltás után AAD JWT jogkivonat állít elő, de előtt hello JWT jogkivonat játékosok tooDRM licenctovábbítási szolgáltatások AMS az ellenőrzés által küldött történik?</span><span class="sxs-lookup"><span data-stu-id="e03ff-384">What if hello key rollover happens after AAD generates a JWT token but before hello JWT token is sent by players tooDRM license delivery services in AMS for verification?</span></span>

<span data-ttu-id="e03ff-385">A kulcs bármikor előfordulhat, hogy állítva, mert nincs mindig egynél több érvényes nyilvános kulccsal elérhető hello összevonási metaadatok dokumentumban.</span><span class="sxs-lookup"><span data-stu-id="e03ff-385">Because a key may be rolled at any moment, there is always more than one valid public key available in hello federation metadata document.</span></span> <span data-ttu-id="e03ff-386">Az Azure Media Services licenc kézbesítési hello kulcsok megadott hello dokumentumot, mivel előfordulhat, hogy később is visszalátogatnia, állítva egy kulcs egy másik előfordulhat, hogy azok helyettesítéseivel, és így tovább használhatja.</span><span class="sxs-lookup"><span data-stu-id="e03ff-386">Azure Media Services license delivery can use any of hello keys specified in hello document, since one key may be rolled soon, another may be its replacement, and so forth.</span></span>

### <a name="where-is-hello-access-token"></a><span data-ttu-id="e03ff-387">Ha van hello hozzáférési jogkivonat?</span><span class="sxs-lookup"><span data-stu-id="e03ff-387">Where is hello Access Token?</span></span>
<span data-ttu-id="e03ff-388">Ha tekinti meg hogyan webalkalmazás hívja az API-alkalmazás [OAuth 2.0 ügyfél hitelesítő adatok megadása az Alkalmazásidentitás](../active-directory/develop/active-directory-authentication-scenarios.md#web-application-to-web-api), hello hitelesítési folyamat van, mint alatt:</span><span class="sxs-lookup"><span data-stu-id="e03ff-388">If you look at how a web app calls an API app under [Application Identity with OAuth 2.0 Client Credentials Grant](../active-directory/develop/active-directory-authentication-scenarios.md#web-application-to-web-api), hello authentication flow is as below:</span></span>

1. <span data-ttu-id="e03ff-389">TooAzure AD hello webes alkalmazás a bejelentkezett felhasználó (lásd: hello [webböngésző tooWeb alkalmazás](../active-directory/develop/active-directory-authentication-scenarios.md#web-browser-to-web-application).</span><span class="sxs-lookup"><span data-stu-id="e03ff-389">A user is signed in tooAzure AD in hello web application (see hello [Web Browser tooWeb Application](../active-directory/develop/active-directory-authentication-scenarios.md#web-browser-to-web-application).</span></span>
2. <span data-ttu-id="e03ff-390">az Azure AD hello engedélyezési végpont hello felhasználói ügynök hátsó toohello ügyfélalkalmazás engedélyezési kóddal irányítja át.</span><span class="sxs-lookup"><span data-stu-id="e03ff-390">hello Azure AD authorization endpoint redirects hello user agent back toohello client application with an authorization code.</span></span> <span data-ttu-id="e03ff-391">hello felhasználói ügynök engedélyezési kód toohello ügyfél alkalmazás átirányítási URI-t adja vissza.</span><span class="sxs-lookup"><span data-stu-id="e03ff-391">hello user agent returns authorization code toohello client application’s redirect URI.</span></span>
3. <span data-ttu-id="e03ff-392">hello webalkalmazásnak kell tooacquire olyan hozzáférési jogkivonatot, hogy a hitelesítéshez toohello webes API és hello szükséges erőforrás lekérése.</span><span class="sxs-lookup"><span data-stu-id="e03ff-392">hello web application needs tooacquire an access token so that it can authenticate toohello web API and retrieve hello desired resource.</span></span> <span data-ttu-id="e03ff-393">A kérelem tooAzure AD meg jogkivonat végpontjához hello hitelesítő adat, ügyfél-Azonosítót és webes API-alkalmazás azonosítója URI teszi.</span><span class="sxs-lookup"><span data-stu-id="e03ff-393">It makes a request tooAzure AD’s token endpoint, providing hello credential, client ID, and web API’s application ID URI.</span></span> <span data-ttu-id="e03ff-394">Adott hello megadja hello engedélyezési kód tooprove felhasználó hozzájárult.</span><span class="sxs-lookup"><span data-stu-id="e03ff-394">It presents hello authorization code tooprove that hello user has consented.</span></span>
4. <span data-ttu-id="e03ff-395">Az Azure AD hitelesíti a hello alkalmazás, és a JWT jogkivonat, amely használt toocall hello webes API adja vissza.</span><span class="sxs-lookup"><span data-stu-id="e03ff-395">Azure AD authenticates hello application and returns a JWT access token that is used toocall hello web API.</span></span>
5. <span data-ttu-id="e03ff-396">A HTTPS PROTOKOLLOKON keresztül hello webalkalmazás hello JWT access token tooadd hello JWT karakterlánc a "Tulajdonos" jelöléssel visszaadott hello engedélyezési fejlécének hello kérelem toohello webes API-t használ.</span><span class="sxs-lookup"><span data-stu-id="e03ff-396">Over HTTPS, hello web application uses hello returned JWT access token tooadd hello JWT string with a “Bearer” designation in hello Authorization header of hello request toohello web API.</span></span> <span data-ttu-id="e03ff-397">hello webes API-k majd érvényesíti hello JWT jogkivonatot, és ellenőrzés nem jelez hibát, ha vissza hello szükséges erőforrás.</span><span class="sxs-lookup"><span data-stu-id="e03ff-397">hello web API then validates hello JWT token, and if validation is successful, returns hello desired resource.</span></span>

<span data-ttu-id="e03ff-398">A "Alkalmazásidentitás" folyamatában hello webes API-k hello webes alkalmazás hitelesített hello felhasználó megbízik.</span><span class="sxs-lookup"><span data-stu-id="e03ff-398">In this “application identity” flow, hello web API trusts that hello web application authenticated hello user.</span></span> <span data-ttu-id="e03ff-399">Ezért ez a minta egy megbízható alrendszer neve.</span><span class="sxs-lookup"><span data-stu-id="e03ff-399">For this reason, this pattern is called a trusted subsystem.</span></span> <span data-ttu-id="e03ff-400">Hello [diagram ezen az oldalon](https://docs.microsoft.com/azure/active-directory/active-directory-protocols-oauth-code) ismerteti, hogyan engedélyezési kódot adjon folyamata működik.</span><span class="sxs-lookup"><span data-stu-id="e03ff-400">hello [diagram on this page](https://docs.microsoft.com/azure/active-directory/active-directory-protocols-oauth-code) describes how authorization code grant flow works.</span></span>

<span data-ttu-id="e03ff-401">Licenc a beszerzési token korlátozás, hello azt követő azonos megbízható alrendszer mintát.</span><span class="sxs-lookup"><span data-stu-id="e03ff-401">In license acquisition with token restriction, we are following hello same trusted subsystem pattern.</span></span> <span data-ttu-id="e03ff-402">És hello licenctovábbítási szolgáltatása Azure Media Services hello webes API-k erőforrás, "háttér-erőforrás" hello webalkalmazás tooaccess kell.</span><span class="sxs-lookup"><span data-stu-id="e03ff-402">And hello license delivery service in Azure Media Services is hello web API resource, hello “backend resource” a web application needs tooaccess.</span></span> <span data-ttu-id="e03ff-403">Ezért hol található hello hozzáférési jogkivonat?</span><span class="sxs-lookup"><span data-stu-id="e03ff-403">So where is hello access token?</span></span>

<span data-ttu-id="e03ff-404">Valóban azt beszerzésekor hozzáférési jogkivonatot az Azure AD.</span><span class="sxs-lookup"><span data-stu-id="e03ff-404">Indeed, we are obtaining access token from Azure AD.</span></span> <span data-ttu-id="e03ff-405">A felhasználó sikeres hitelesítést követően engedélyezési kódot ad vissza.</span><span class="sxs-lookup"><span data-stu-id="e03ff-405">After successful user authentication, authorization code is returned.</span></span> <span data-ttu-id="e03ff-406">hello engedélyezési program használja, Azonosítóját és az alkalmazás ügyfélkulcsot, a hozzáférési token tooexchange együtt.</span><span class="sxs-lookup"><span data-stu-id="e03ff-406">hello authorization code is then used, together with client ID and app key, tooexchange for access token.</span></span> <span data-ttu-id="e03ff-407">És hello hozzáférési jogkivonat van mutató "mutató" alkalmazás eléréséhez, vagy Azure Media Services licenctovábbítási szolgáltatása jelző.</span><span class="sxs-lookup"><span data-stu-id="e03ff-407">And hello access token is for accessing a “pointer” application pointing or representing Azure Media Services license delivery service.</span></span>

<span data-ttu-id="e03ff-408">Igazolnia kell tooregister és hello "mutató" alkalmazás konfigurálása az Azure AD hello alábbi lépéseket követve:</span><span class="sxs-lookup"><span data-stu-id="e03ff-408">We need tooregister and configure hello “pointer” app in Azure AD by following hello steps below:</span></span>

1. <span data-ttu-id="e03ff-409">Hello Azure AD-bérlőben</span><span class="sxs-lookup"><span data-stu-id="e03ff-409">In hello Azure AD tenant</span></span>

   * <span data-ttu-id="e03ff-410">bejelentkezés az URL-címmel (erőforrás) alkalmazás hozzáadása:</span><span class="sxs-lookup"><span data-stu-id="e03ff-410">add an application (resource) with sign-on URL:</span></span>

   <span data-ttu-id="e03ff-411">https://[resource_name].azurewebsites.NET/ és</span><span class="sxs-lookup"><span data-stu-id="e03ff-411">https://[resource_name].azurewebsites.net/ and</span></span>

   * <span data-ttu-id="e03ff-412">App ID URL-címe:</span><span class="sxs-lookup"><span data-stu-id="e03ff-412">app ID URL:</span></span>

   <span data-ttu-id="e03ff-413">https://[aad_tenant_name].onmicrosoft.com/[resource_name];</span><span class="sxs-lookup"><span data-stu-id="e03ff-413">https://[aad_tenant_name].onmicrosoft.com/[resource_name];</span></span>
2. <span data-ttu-id="e03ff-414">Adja hozzá egy új kulcsot hello erőforrás alkalmazás;</span><span class="sxs-lookup"><span data-stu-id="e03ff-414">Add a new key for hello resource app;</span></span>
3. <span data-ttu-id="e03ff-415">Hello alkalmazás-jegyzékfájl frissítése az, hogy hello groupMembershipClaims tulajdonság értéke a következő hello: "groupMembershipClaims": "All",</span><span class="sxs-lookup"><span data-stu-id="e03ff-415">Update hello app manifest file so that hello groupMembershipClaims property has hello following value: "groupMembershipClaims": "All",</span></span>  
4. <span data-ttu-id="e03ff-416">A mutató toohello player web app alkalmazásban hello szakaszban "engedélyek tooother alkalmazások" hello Azure AD alkalmazás adja hozzá a hello erőforrás-alkalmazás, amely hozzá lett adva a fenti 1. lépés.</span><span class="sxs-lookup"><span data-stu-id="e03ff-416">In hello Azure AD app pointing toohello player web app, in hello section “permissions tooother applications”, add hello resource app which was added in step 1 above.</span></span> <span data-ttu-id="e03ff-417">A "delegált engedélyek" Ellenőrizze a "Hozzáférés [resource_name]" jelet.</span><span class="sxs-lookup"><span data-stu-id="e03ff-417">Under “delegated permissions” check “Access [resource_name]” checkmark.</span></span> <span data-ttu-id="e03ff-418">Ez engedélyezi hello web app toocreate hozzáférési jogkivonatok hello erőforrás alkalmazás eléréséhez.</span><span class="sxs-lookup"><span data-stu-id="e03ff-418">This gives hello web app permission toocreate access tokens for accessing hello resource app.</span></span> <span data-ttu-id="e03ff-419">Akkor tegye ezt hello webes alkalmazás a helyi és a telepített verziójához a Visual Studio és az Azure web app fejlesztői.</span><span class="sxs-lookup"><span data-stu-id="e03ff-419">You should do this for both local and deployed version of hello web app if you are developing with Visual Studio and Azure web app.</span></span>

<span data-ttu-id="e03ff-420">Az Azure AD által kibocsátott hello JWT jogkivonat ezért valóban hello hozzáférési jogkivonat az "mutató" erőforrás eléréséhez.</span><span class="sxs-lookup"><span data-stu-id="e03ff-420">Therefore, hello JWT token issued by Azure AD is indeed hello access token for accessing this “pointer” resource.</span></span>

### <a name="what-about-live-streaming"></a><span data-ttu-id="e03ff-421">Mi a helyzet élő adatfolyam?</span><span class="sxs-lookup"><span data-stu-id="e03ff-421">What about Live Streaming?</span></span>
<span data-ttu-id="e03ff-422">A fenti hello a vitafórum rendelkezik lett összpontosító igény szerinti eszközök.</span><span class="sxs-lookup"><span data-stu-id="e03ff-422">In hello above, our discussion has been focusing on on-demand assets.</span></span> <span data-ttu-id="e03ff-423">Mi a helyzet live streaming?</span><span class="sxs-lookup"><span data-stu-id="e03ff-423">What about live streaming?</span></span>

<span data-ttu-id="e03ff-424">hello jó hírünk használható pontosan hello azonos tervezési és megvalósítási védelmére élő adatfolyamként történő Azure Media Services, a program "VOD eszközként" társított hello eszköz kezelésére.</span><span class="sxs-lookup"><span data-stu-id="e03ff-424">hello good news is that you can use exactly hello same design and implementation for protecting live streaming in Azure Media Services, by treating hello asset associated with a program as a “VOD asset”.</span></span>

<span data-ttu-id="e03ff-425">Pontosabban is ismert, hogy toodo élő adatfolyam-Azure Media Services, toocreate kell egy csatornát, majd egy hello csatorna a programot.</span><span class="sxs-lookup"><span data-stu-id="e03ff-425">Specifically, it is well known that toodo live streaming in Azure Media Services, you need toocreate a channel, then a program under hello channel.</span></span> <span data-ttu-id="e03ff-426">toocreate hello programot, szükség toocreate egy eszköz, amelynek hello élő archív hello program fogja tartalmazni.</span><span class="sxs-lookup"><span data-stu-id="e03ff-426">toocreate hello program, you need toocreate an asset which will contain hello live archive for hello program.</span></span> <span data-ttu-id="e03ff-427">A sorrend tooprovide CENC multi-DRM-védelemmel hello élő tartalom toodo, szükség van tooapply hello azonos telepítő/feldolgozási toohello eszköz, mintha csak egy "VOD eszköz" hello program indítása előtt volt.</span><span class="sxs-lookup"><span data-stu-id="e03ff-427">In order tooprovide CENC with multi-DRM protection of hello live content, all you need toodo, is tooapply hello same setup/processing toohello asset as if it was a “VOD asset” before you start hello program.</span></span>

### <a name="what-about-license-servers-outside-of-azure-media-services"></a><span data-ttu-id="e03ff-428">Mi a helyzet licenckiszolgálókat Azure Media Services kívül?</span><span class="sxs-lookup"><span data-stu-id="e03ff-428">What about license servers outside of Azure Media Services?</span></span>
<span data-ttu-id="e03ff-429">Az ügyfelek gyakran, előfordulhat, hogy befektettek licenc kiszolgálófarm vagy a saját data center vagy üzemeltetett DRM-szolgáltatók.</span><span class="sxs-lookup"><span data-stu-id="e03ff-429">Often, customers may have invested in license server farm either in their own data center or hosted by DRM service providers.</span></span> <span data-ttu-id="e03ff-430">Szerencsére Azure Media Services Content Protection lehetővé teszi toooperate hibrid módban: tartalma birtokolt, és dinamikusan védett Azure Media Services, amíg DRM-licencek kiszolgálók Azure Media Services kívül érkeznek.</span><span class="sxs-lookup"><span data-stu-id="e03ff-430">Fortunately, Azure Media Services Content Protection allows you toooperate in hybrid mode: contents hosted and dynamically protected in Azure Media Services, while DRM licenses are delivered by servers outside Azure Media Services.</span></span> <span data-ttu-id="e03ff-431">Ebben az esetben a következő szempontok változások hello van:</span><span class="sxs-lookup"><span data-stu-id="e03ff-431">In this case, there are hello following considerations of changes:</span></span>

1. <span data-ttu-id="e03ff-432">hello Secure Token Service igények tooissue jogkivonatok elfogadható és hello licenc kiszolgálófarm ellenőrizheti.</span><span class="sxs-lookup"><span data-stu-id="e03ff-432">hello Secure Token Service needs tooissue tokens which are acceptable and can be verified by hello license server farm.</span></span> <span data-ttu-id="e03ff-433">Hello Widevine licenckiszolgálókat Axinom által biztosított például egy adott JWT jogkivonat, amely tartalmazza a "jogosultság üzenet" igényel.</span><span class="sxs-lookup"><span data-stu-id="e03ff-433">For example, hello Widevine license servers provided by Axinom requires a specific JWT token which contains “entitlement message”.</span></span> <span data-ttu-id="e03ff-434">Ezért van szüksége az STS tooissue toohave ilyen JWT jogkivonat.</span><span class="sxs-lookup"><span data-stu-id="e03ff-434">Therefore, you need toohave an STS tooissue such JWT token.</span></span> <span data-ttu-id="e03ff-435">hello szerzők egy végrehajtás elvégzése, valamint a dokumentum a következő hello hello részleteket megtalálja [Azure dokumentációs központban](https://azure.microsoft.com/documentation/): [használatával Axinom toodeliver Widevine-licencek tooAzure Media Services](media-services-axinom-integration.md).</span><span class="sxs-lookup"><span data-stu-id="e03ff-435">hello authors have completed such an implementation and you can find hello details in hello following document in [Azure Documentation Center](https://azure.microsoft.com/documentation/): [Using Axinom toodeliver Widevine licenses tooAzure Media Services](media-services-axinom-integration.md).</span></span>
2. <span data-ttu-id="e03ff-436">Már nincs szüksége tooconfigure licenctovábbítási szolgáltatása (ContentKeyAuthorizationPolicy) Azure Media Services.</span><span class="sxs-lookup"><span data-stu-id="e03ff-436">You no longer need tooconfigure license delivery service (ContentKeyAuthorizationPolicy) in Azure Media Services.</span></span> <span data-ttu-id="e03ff-437">Mit kell toodo tooprovide hello licenc licenckérési URL-címeit (PlayReady és Widevine FairPlay) konfigurálása során AssetDeliveryPolicy és multi-DRM CENC beállításában.</span><span class="sxs-lookup"><span data-stu-id="e03ff-437">What you need toodo is tooprovide hello license acquisition URLs (for PlayReady, Widevine and FairPlay) when you configure AssetDeliveryPolicy in setting up CENC with multi-DRM.</span></span>

### <a name="what-if-i-want-toouse-a-custom-sts"></a><span data-ttu-id="e03ff-438">Mi történik, ha egy egyéni STS toouse érdemes?</span><span class="sxs-lookup"><span data-stu-id="e03ff-438">What if I want toouse a custom STS?</span></span>
<span data-ttu-id="e03ff-439">Néhány oka, hogy az ügyfél biztosítani a JWT-jogkivonatokat is választhat toouse egy egyéni STS (Secure Token Service) lehet.</span><span class="sxs-lookup"><span data-stu-id="e03ff-439">There could be a few reasons that a customer may choose toouse a custom STS (Secure Token Service) for providing JWT tokens.</span></span> <span data-ttu-id="e03ff-440">Ezek a következők:</span><span class="sxs-lookup"><span data-stu-id="e03ff-440">Some of them are:</span></span>

1. <span data-ttu-id="e03ff-441">hello Identity Provider (IDP) hello ügyfél által használt nem támogatja az STS.</span><span class="sxs-lookup"><span data-stu-id="e03ff-441">hello Identity Provider (IDP) used by hello customer does not support STS.</span></span> <span data-ttu-id="e03ff-442">Ebben az esetben egy egyéni STS lesz lehetőség.</span><span class="sxs-lookup"><span data-stu-id="e03ff-442">In this case a custom STS may be an option.</span></span>
2. <span data-ttu-id="e03ff-443">hello ügyfél esetleg rugalmas vagy szorosabb vezérlő az STS integrálása számlázórendszerrel ügyfél előfizető.</span><span class="sxs-lookup"><span data-stu-id="e03ff-443">hello customer may need more flexible or tighter control in integrating STS with customer’s subscriber billing system.</span></span> <span data-ttu-id="e03ff-444">Például MVPD operátor több OTT előfizető csomagot kínálhat például prémium alapvető, sportruházat, stb. hello operátor érdemes toomatch hello jogcím egy jogkivonatba egy előfizető csomaggal, hogy csak a megfelelő csomag hello tartalmát szeretné elérhetővé tenni.</span><span class="sxs-lookup"><span data-stu-id="e03ff-444">For example, an MVPD operator may offer multiple OTT subscriber packages such as premium, basic, sports, etc. hello operator may want toomatch hello claims in a token with a subscriber’s package so that only contents in hello right package is made available.</span></span> <span data-ttu-id="e03ff-445">Ebben az esetben egy egyéni STS biztosít hello szükséges rugalmasságot és.</span><span class="sxs-lookup"><span data-stu-id="e03ff-445">In this case, a custom STS provides hello needed flexibility and control.</span></span>

<span data-ttu-id="e03ff-446">Két módosításokat kell toobe végrehajtott egyéni STS használata esetén:</span><span class="sxs-lookup"><span data-stu-id="e03ff-446">Two changes need toobe made when using a custom STS:</span></span>

1. <span data-ttu-id="e03ff-447">Az eszközhöz tartozó licenctovábbítási szolgáltatása konfigurálásakor be kell toospecify hello biztonsági kulcsot használja hello egyéni STS (további részleteket az alábbi) helyett hello aktuális kulcsot az Azure Active Directory-ellenőrzés.</span><span class="sxs-lookup"><span data-stu-id="e03ff-447">When configuring license delivery service for an asset, you need toospecify hello security key used for verification by hello custom STS (more details below) instead of hello current key from Azure Active Directory.</span></span>
2. <span data-ttu-id="e03ff-448">Amikor JTW jogkivonat történik, a biztonsági kulcs helyett hello titkos kulcsot az Azure Active Directoryban hello aktuális X509 tanúsítvány van megadva.</span><span class="sxs-lookup"><span data-stu-id="e03ff-448">When a JTW token is generated, a security key is specified instead of hello private key of hello current X509 certificate in Azure Active Directory.</span></span>

<span data-ttu-id="e03ff-449">A biztonsági kulcsok két típusa van:</span><span class="sxs-lookup"><span data-stu-id="e03ff-449">There are two types of security keys:</span></span>

1. <span data-ttu-id="e03ff-450">Szimmetrikus kulcs: hello ugyanazzal a kulccsal létrehozása és ellenőrzése a JWT jogkivonat;</span><span class="sxs-lookup"><span data-stu-id="e03ff-450">Symmetric key: hello same key is used for both generating and verifying a JWT token;</span></span>
2. <span data-ttu-id="e03ff-451">Aszimmetrikus kulcs: egy nyilvános-titkos kulcspár egy X509 tanúsítvánnyal titkosított/generálásához JWT jogkivonat és hello nyilvános kulcs ellenőrzésének hello jogkivonat titkos kulcsával.</span><span class="sxs-lookup"><span data-stu-id="e03ff-451">Asymmetric key: a public-private key pair in an X509 certificate is used with private key for encrypting/generating a JWT token and hello public key for verifying hello token.</span></span>

#### <a name="tech-note"></a><span data-ttu-id="e03ff-452">Műszaki megjegyzés</span><span class="sxs-lookup"><span data-stu-id="e03ff-452">Tech note</span></span>
<span data-ttu-id="e03ff-453">.NET-keretrendszer használatakor / C#, a fejlesztői platform hello X509 aszimmetrikus kulcs használt tanúsítványnak rendelkeznie kell legalább 2048 bites kulcshosszt.</span><span class="sxs-lookup"><span data-stu-id="e03ff-453">If you use .NET Framework/C# as your development platform, hello X509 certificate used for asymmetric security key must have key length at least 2048.</span></span> <span data-ttu-id="e03ff-454">Ez a követelmény a .NET-keretrendszer System.IdentityModel.Tokens.X509AsymmetricSecurityKey hello osztály.</span><span class="sxs-lookup"><span data-stu-id="e03ff-454">This is a requirement of hello class System.IdentityModel.Tokens.X509AsymmetricSecurityKey in .NET Framework.</span></span> <span data-ttu-id="e03ff-455">Ellenkező esetben a következő kivétel hello fog jelezni:</span><span class="sxs-lookup"><span data-stu-id="e03ff-455">Otherwise, hello following exception will be thrown:</span></span>

<span data-ttu-id="e03ff-456">IDX10630: az aláíráshoz "System.IdentityModel.Tokens.X509AsymmetricSecurityKey" hello nem lehet kisebb, mint '2048' bit.</span><span class="sxs-lookup"><span data-stu-id="e03ff-456">IDX10630: hello 'System.IdentityModel.Tokens.X509AsymmetricSecurityKey' for signing cannot be smaller than '2048' bits.</span></span>

## <a name="hello-completed-system-and-test"></a><span data-ttu-id="e03ff-457">befejeződött hello rendszer és a teszt</span><span class="sxs-lookup"><span data-stu-id="e03ff-457">hello completed system and test</span></span>
<span data-ttu-id="e03ff-458">Végigvezetjük néhány olyan forgatókönyvet befejeződött hello végpont rendszer, hogy az olvasók egy alapszintű hello viselkedés "képe" rendelkezhet egy bejelentkezési fiókjának beolvasása előtt.</span><span class="sxs-lookup"><span data-stu-id="e03ff-458">We will walk through a few scenarios in hello completed end-to-end system so that readers can have a basic “picture” of hello behavior before getting a login account.</span></span>

<span data-ttu-id="e03ff-459">hello player webalkalmazás és a bejelentkezési található [Itt](https://openidconnectweb.azurewebsites.net/).</span><span class="sxs-lookup"><span data-stu-id="e03ff-459">hello player web application and its login can be found [here](https://openidconnectweb.azurewebsites.net/).</span></span>

<span data-ttu-id="e03ff-460">Ha az alábbiakra lesz szüksége a "nem integrált" lehetőséget: videó eszközök Azure Media Services üzemeltetett, mely vagy védelem nélkül van, vagy védett DRM, de a jogkivonat (kibocsátó egy licenc toowhoever azt kérő) hitelesítés nélkül tesztelheti, bejelentkezési azonosító nélküli (váltásával tooHTTP a videoadatfolyam-továbbítás esetén HTTP Protokollon keresztül).</span><span class="sxs-lookup"><span data-stu-id="e03ff-460">If what you need is “non-integrated” scenario: video assets hosted in Azure Media Services which are either unprotected, or DRM protected but without token authentication (issuing a license toowhoever requesting it), you can test it without login (by switching tooHTTP if your video streaming is over HTTP).</span></span>

<span data-ttu-id="e03ff-461">Ha mire van szüksége a végpontok közötti integrált lehetőséget: lexikális elem a hitelesítés és a rendszer az Azure AD által létrehozott JWT jogkivonat az Azure Media Services dinamikus DRM védelem alatt videó eszközök, akkor kell toologin.</span><span class="sxs-lookup"><span data-stu-id="e03ff-461">If what you need is end-to-end integrated scenario: video assets is under dynamic DRM protection in Azure Media Services, with token authentication and JWT token being generated by Azure AD, you need toologin.</span></span>

### <a name="user-login"></a><span data-ttu-id="e03ff-462">Felhasználói bejelentkezés</span><span class="sxs-lookup"><span data-stu-id="e03ff-462">User login</span></span>
<span data-ttu-id="e03ff-463">Rendelés tootest hello végpontok közötti integrált DRM rendszer kell toohave egy "fiók" létrehozni vagy hozzáadni.</span><span class="sxs-lookup"><span data-stu-id="e03ff-463">In order tootest hello end-to-end integrated DRM system, you need toohave an “account” created or added.</span></span>

<span data-ttu-id="e03ff-464">Milyen fiókot?</span><span class="sxs-lookup"><span data-stu-id="e03ff-464">What account?</span></span>

<span data-ttu-id="e03ff-465">Bár az Azure eredetileg csak a Microsoft-fiókos felhasználó által hozzáférése engedélyezett, mostantól engedélyezi mindkét rendszer felhasználóinak hozzáférését.</span><span class="sxs-lookup"><span data-stu-id="e03ff-465">Although Azure originally allowed access only by Microsoft account users, it now allows access by users from both systems.</span></span> <span data-ttu-id="e03ff-466">Ezt az tettük azzal, hogy az összes hello Azure-tulajdonság megbízik az Azure AD hitelesítésében, így az Azure AD hitelesíti a szervezeti felhasználókat, és hozzon létre összevonási kapcsolat ahol az Azure AD hello Microsoft fiók végfelhasználói identitásrendszere megbízik tooauthenticate identitásrendszerében a felhasználók.</span><span class="sxs-lookup"><span data-stu-id="e03ff-466">This was done by having all hello Azure properties trust Azure AD for authentication, having Azure AD authenticate organizational users, and by creating a federation relationship where Azure AD trusts hello Microsoft account consumer identity system tooauthenticate consumer users.</span></span> <span data-ttu-id="e03ff-467">Ennek eredményeképpen az Azure AD képes tooauthenticate "Vendég" Microsoft-fiókok, valamint a "natív" Azure AD-fiókok.</span><span class="sxs-lookup"><span data-stu-id="e03ff-467">As a result, Azure AD is able tooauthenticate “guest” Microsoft accounts as well as “native” Azure AD accounts.</span></span>

<span data-ttu-id="e03ff-468">Microsoft-fiók (MSA) tartományhoz az Azure AD megbízik, mivel azokat a fiókokat bármelyik hello következő tartományok toohello egyéni az Azure AD bérlői, és használja a hello fiók toologin is hozzáadhat:</span><span class="sxs-lookup"><span data-stu-id="e03ff-468">Since Azure AD trusts Microsoft Account (MSA) domain, you can add any accounts from any of hello following domains toohello custom Azure AD tenant and use hello account toologin:</span></span>

| <span data-ttu-id="e03ff-469">**Tartománynév**</span><span class="sxs-lookup"><span data-stu-id="e03ff-469">**Domain Name**</span></span> | <span data-ttu-id="e03ff-470">**Tartomány**</span><span class="sxs-lookup"><span data-stu-id="e03ff-470">**Domain**</span></span> |
| --- | --- |
| <span data-ttu-id="e03ff-471">**Egyéni az Azure AD bérlő tartománya**</span><span class="sxs-lookup"><span data-stu-id="e03ff-471">**Custom Azure AD tenant domain**</span></span> |<span data-ttu-id="e03ff-472">somename.onmicrosoft.com</span><span class="sxs-lookup"><span data-stu-id="e03ff-472">somename.onmicrosoft.com</span></span> |
| <span data-ttu-id="e03ff-473">**Vállalati tartományhoz**</span><span class="sxs-lookup"><span data-stu-id="e03ff-473">**Corporate domain**</span></span> |<span data-ttu-id="e03ff-474">Microsoft.com</span><span class="sxs-lookup"><span data-stu-id="e03ff-474">microsoft.com</span></span> |
| <span data-ttu-id="e03ff-475">**Microsoft-fiók (MSA) tartomány**</span><span class="sxs-lookup"><span data-stu-id="e03ff-475">**Microsoft Account (MSA) domain**</span></span> |<span data-ttu-id="e03ff-476">Outlook.com-os, live.com, hotmail.com</span><span class="sxs-lookup"><span data-stu-id="e03ff-476">outlook.com, live.com, hotmail.com</span></span> |

<span data-ttu-id="e03ff-477">Hello szerzők toohave létrehozott új és az Ön fiókja is kapcsolódhat.</span><span class="sxs-lookup"><span data-stu-id="e03ff-477">You may contact any of hello authors toohave an account created or added for you.</span></span>

<span data-ttu-id="e03ff-478">Az alábbiakban ugyanaz a tartományi fiókok által használt különböző bejelentkezési oldalak hello példaként bemutató képernyőképeket láthat.</span><span class="sxs-lookup"><span data-stu-id="e03ff-478">Below are hello screenshots of different login pages used by different domain accounts.</span></span>

<span data-ttu-id="e03ff-479">**Egyéni az Azure AD tartományi fiók bérlői**: Ebben az esetben hello egyéni az Azure AD bérlői tartomány az hello testreszabott bejelentkezési oldal jelenik meg.</span><span class="sxs-lookup"><span data-stu-id="e03ff-479">**Custom Azure AD tenant domain account**: In this case, you see hello customized login page of hello custom Azure AD tenant domain.</span></span>

![Egyéni az Azure AD bérlő tartományi fiók](./media/media-services-cenc-with-multidrm-access-control/media-services-ad-tenant-domain1.png)

<span data-ttu-id="e03ff-481">**Microsoft tartományi fiók intelligens kártyával**: Ebben az esetben látni hello bejelentkezési oldal vállalati Microsoft szerint testre szabott informatikai kéttényezős hitelesítéssel.</span><span class="sxs-lookup"><span data-stu-id="e03ff-481">**Microsoft domain account with smart card**: In this case you see hello login page customized by Microsoft corporate IT with two-factor authentication.</span></span>

![Egyéni az Azure AD bérlő tartományi fiók](./media/media-services-cenc-with-multidrm-access-control/media-services-ad-tenant-domain2.png)

<span data-ttu-id="e03ff-483">**Microsoft-fiók (MSA)**: Ebben az esetben a fogyasztók látja Microsoft Account hello bejelentkezési oldalán.</span><span class="sxs-lookup"><span data-stu-id="e03ff-483">**Microsoft Account (MSA)**: In this case, you see hello login page of Microsoft Account for consumers.</span></span>

![Egyéni az Azure AD bérlő tartományi fiók](./media/media-services-cenc-with-multidrm-access-control/media-services-ad-tenant-domain3.png)

### <a name="using-encrypted-media-extensions-for-playready"></a><span data-ttu-id="e03ff-485">PlayReady titkosított Media bővítményekkel</span><span class="sxs-lookup"><span data-stu-id="e03ff-485">Using Encrypted Media Extensions for PlayReady</span></span>
<span data-ttu-id="e03ff-486">Olyan modern böngészőt a titkosított Media Extensions (EME) PlayReady támogatása, például a Windows 10-es PlayReady futó Internet Explorer 11 és mentése a Windows 8.1 és a Microsoft Edge böngésző lesz az alapul szolgáló DRM hello EME.</span><span class="sxs-lookup"><span data-stu-id="e03ff-486">On a modern browser with Encrypted Media Extensions (EME) for PlayReady support, such as IE 11 on Windows 8.1 and up, and Microsoft Edge browser on Windows 10, PlayReady will be hello underlying DRM for EME.</span></span>

![PlayReady EME használata](./media/media-services-cenc-with-multidrm-access-control/media-services-eme-for-playready1.png)

<span data-ttu-id="e03ff-488">hello sötét player terület toohello tényt, hogy PlayReady védelem megakadályozza, hogy egy képernyőfelvétel-készítés védett videó hajtsanak miatt van.</span><span class="sxs-lookup"><span data-stu-id="e03ff-488">hello dark player area is due toohello fact that PlayReady protection prevents one from making screen capture of protected video.</span></span>

<span data-ttu-id="e03ff-489">hello alábbi képernyőn látható hello player beépülő modulok és MSE/EME támogatás.</span><span class="sxs-lookup"><span data-stu-id="e03ff-489">hello following screen shows hello player plugins and MSE/EME support.</span></span>

![PlayReady EME használata](./media/media-services-cenc-with-multidrm-access-control/media-services-eme-for-playready2.png)

<span data-ttu-id="e03ff-491">A Microsoft Edge és a Windows 10 Internet Explorer 11 EME lehetővé teszi, hogy meghívása a [PlayReady SL3000](https://www.microsoft.com/playready/features/EnhancedContentProtection.aspx/) Windows 10 rendszerű eszközökön, amelyek támogatják azt.</span><span class="sxs-lookup"><span data-stu-id="e03ff-491">EME in Microsoft Edge and IE 11 on Windows 10 allows invoking of [PlayReady SL3000](https://www.microsoft.com/playready/features/EnhancedContentProtection.aspx/) on Windows 10 devices which support it.</span></span> <span data-ttu-id="e03ff-492">PlayReady SL3000 feloldja a bővített támogatás tartalom hello áramló (4 KB-os, HDR, stb.) és új tartalom üzemeltetési modell (a korai ablakának bővített tartalom).</span><span class="sxs-lookup"><span data-stu-id="e03ff-492">PlayReady SL3000 unlocks hello flow of enhanced premium content (4K, HDR, etc.) and new content delivery models (early window for Enhanced Content).</span></span>

<span data-ttu-id="e03ff-493">Hello Windows-eszközök összpontosítani: PlayReady van hello csak a hello hardver (PlayReady SL3000) Windows-eszközökön elérhető DRM.</span><span class="sxs-lookup"><span data-stu-id="e03ff-493">Focus on hello Windows devices: PlayReady is hello only DRM in hello HW available on Windows devices (PlayReady SL3000).</span></span> <span data-ttu-id="e03ff-494">Egy adatfolyam-továbbítási szolgáltatás használhatja a PlayReady vagy egy UWP-alkalmazás EME keresztül, és segítségével PlayReady SL3000 egy másik DRM-nál nagyobb videominőséget kínálnak.</span><span class="sxs-lookup"><span data-stu-id="e03ff-494">A streaming service can use PlayReady through EME or through a UWP application and offer a higher video quality using PlayReady SL3000 than another DRM.</span></span> <span data-ttu-id="e03ff-495">Általában 2K tartalom Chrome, Firefox vagy keresztül halad, és 4 K tartalom a Microsoft Edge/IE11 vagy egy UWP-alkalmazás hello ugyanarra az eszközre (attól függően, hogy szolgáltatás beállításainak és megvalósítása).</span><span class="sxs-lookup"><span data-stu-id="e03ff-495">Typically, 2K content will flow through Chrome or Firefox, and 4K content through Microsoft Edge/IE11 or a UWP application on hello same device (depending on service settings and implementation).</span></span>

#### <a name="using-eme-for-widevine"></a><span data-ttu-id="e03ff-496">Widevine EME használata</span><span class="sxs-lookup"><span data-stu-id="e03ff-496">Using EME for Widevine</span></span>
<span data-ttu-id="e03ff-497">Olyan modern böngészőt EME vagy Widevine-támogatással rendelkező, például a Chrome 41 + a Windows 10, Windows 8.1-, Mac OS x Yosemite és Chrome Android 4.4.4, a Google Widevine DRM mögött EME hello.</span><span class="sxs-lookup"><span data-stu-id="e03ff-497">On a modern browser with EME/Widevine support, such as Chrome 41+ on Windows 10, Windows 8.1, Mac OSX Yosemite, and Chrome on Android 4.4.4, Google Widevine is hello DRM behind EME.</span></span>

![Widevine EME használata](./media/media-services-cenc-with-multidrm-access-control/media-services-eme-for-widevine1.png)

<span data-ttu-id="e03ff-499">Figyelje meg, hogy Widevine nem gátolja meg egy védett videó képernyőfelvétel-készítés hajtsanak végre.</span><span class="sxs-lookup"><span data-stu-id="e03ff-499">Notice that Widevine does not prevent one from making screen capture of protected video.</span></span>

![Widevine EME használata](./media/media-services-cenc-with-multidrm-access-control/media-services-eme-for-widevine2.png)

### <a name="not-entitled-users"></a><span data-ttu-id="e03ff-501">Nem jogosult felhasználók</span><span class="sxs-lookup"><span data-stu-id="e03ff-501">Not entitled users</span></span>
<span data-ttu-id="e03ff-502">Ha a felhasználó nincs "Jogosult felhasználók" csoport tagja, hello felhasználók pedig nem fogják tudni toopass "jogosultság ellenőrzése", és hello multi-DRM-licencelési szolgáltatástól fogja megtagadják tooissue hello kért licenc alább látható módon.</span><span class="sxs-lookup"><span data-stu-id="e03ff-502">If a user is not a member of "Entitled Users" group, hello user will not be able toopass “entitlement check” and hello multi-DRM license service will refuse tooissue hello requested license as shown below.</span></span> <span data-ttu-id="e03ff-503">hello részletes leírás: "licenc megszerzése sikertelen", amelyhez megfelelően van.</span><span class="sxs-lookup"><span data-stu-id="e03ff-503">hello detailed description is “License acquire failed”, which is as designed.</span></span>

![Nem jogosult felhasználók](./media/media-services-cenc-with-multidrm-access-control/media-services-unentitledusers.png)

### <a name="running-custom-secure-token-service"></a><span data-ttu-id="e03ff-505">Egyéni biztonságos biztonságijogkivonat-szolgáltatás fut</span><span class="sxs-lookup"><span data-stu-id="e03ff-505">Running custom Secure Token Service</span></span>
<span data-ttu-id="e03ff-506">A futó egyéni Secure Token Service (STS) hello esetben hello JWT jogkivonat fogja kiállítani hello egyéni STS szimmetrikus vagy aszimmetrikus kulccsal.</span><span class="sxs-lookup"><span data-stu-id="e03ff-506">For hello scenario of running custom Secure Token Service (STS), hello JWT token will be issued by hello custom STS using either symmetric or asymmetric key.</span></span>

<span data-ttu-id="e03ff-507">hello eset (Chrome használatával történő) szimmetrikus kulcs használatával:</span><span class="sxs-lookup"><span data-stu-id="e03ff-507">hello case of using symmetric key (using Chrome):</span></span>

![Egyéni STS fut](./media/media-services-cenc-with-multidrm-access-control/media-services-running-sts1.png)

<span data-ttu-id="e03ff-509">kis-és egy X509 keresztül aszimmetrikus kulccsal hello tanúsítvány (Microsoft modern böngészőt használ).</span><span class="sxs-lookup"><span data-stu-id="e03ff-509">hello case of using asymmetric key via an X509 certificate (using Microsoft modern browser).</span></span>

![Egyéni STS fut](./media/media-services-cenc-with-multidrm-access-control/media-services-running-sts2.png)

<span data-ttu-id="e03ff-511">Mindkét fenti esetekben hello felhasználói hitelesítési marad hello azonos – az Azure AD használatával.</span><span class="sxs-lookup"><span data-stu-id="e03ff-511">In both of hello above cases, user authentication stays hello same – through Azure AD.</span></span> <span data-ttu-id="e03ff-512">hello egyetlen különbség, hogy a JWT-jogkivonatokat hello egyéni STS helyett az Azure AD ki.</span><span class="sxs-lookup"><span data-stu-id="e03ff-512">hello only difference is that JWT tokens are issued by hello custom STS instead of Azure AD.</span></span> <span data-ttu-id="e03ff-513">Természetesen dinamikus CENC védelmi konfigurálásakor licenctovábbítási szolgáltatása hello korlátozása típust ad meg hello JWT jogkivonat szimmetrikus vagy aszimmetrikus kulcs.</span><span class="sxs-lookup"><span data-stu-id="e03ff-513">Of course, when configuring dynamic CENC protection, hello restriction of license delivery service specifies hello type of JWT token, either symmetric or asymmetric key.</span></span>

## <a name="summary"></a><span data-ttu-id="e03ff-514">Összefoglalás</span><span class="sxs-lookup"><span data-stu-id="e03ff-514">Summary</span></span>
<span data-ttu-id="e03ff-515">Ebben a dokumentumban, amiről beszéltünk CENC token hitelesítéssel több native DRM- és hozzáférés-vezérléssel: a kialakításakor és Azure, az Azure Media Services és az Azure Media Player megvalósítása.</span><span class="sxs-lookup"><span data-stu-id="e03ff-515">In this document, we discussed CENC with multi-native-DRM and access control via token authentication: its design and its implementation using Azure, Azure Media Services and Azure Media Player.</span></span>

* <span data-ttu-id="e03ff-516">A referencia-tervező számára jelenik meg a tartalmazó hello szükséges lévő valamennyi összetevőnél DRM/CENC alrendszer;</span><span class="sxs-lookup"><span data-stu-id="e03ff-516">A reference design is presented which contains all hello necessary components in a DRM/CENC subsystem;</span></span>
* <span data-ttu-id="e03ff-517">Egy Azure, az Azure Media Services és az Azure Media Player hivatkozás végrehajtására.</span><span class="sxs-lookup"><span data-stu-id="e03ff-517">A reference implementation on Azure, Azure Media Services and Azure Media Player.</span></span>
* <span data-ttu-id="e03ff-518">Néhány közvetlenül részt hello tervezési és megvalósítási témaköröket is tartalmazza.</span><span class="sxs-lookup"><span data-stu-id="e03ff-518">Some topics directly involved in hello design and implementation are also discussed.</span></span>

## <a name="media-services-learning-paths"></a><span data-ttu-id="e03ff-519">Media Services képzési tervek</span><span class="sxs-lookup"><span data-stu-id="e03ff-519">Media Services learning paths</span></span>
[!INCLUDE [media-services-learning-paths-include](../../includes/media-services-learning-paths-include.md)]

## <a name="provide-feedback"></a><span data-ttu-id="e03ff-520">Visszajelzés küldése</span><span class="sxs-lookup"><span data-stu-id="e03ff-520">Provide feedback</span></span>
[!INCLUDE [media-services-user-voice-include](../../includes/media-services-user-voice-include.md)]
 
