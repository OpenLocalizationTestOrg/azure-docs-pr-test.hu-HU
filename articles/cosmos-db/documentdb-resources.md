---
title: "aaaAzure Cosmos DB erőforrás-modellje és fogalmai |} Microsoft Docs"
description: "További információk a adatbázisok, gyűjtemények, felhasználó által definiált függvény (UDF), dokumentumok, engedélyek toomanage erőforrások és további Azure Cosmos DB hierarchikus modelljét."
keywords: Hierarchikus modell cosmosdb, az azure, a Microsoft azure
services: cosmos-db
documentationcenter: 
author: AndrewHoh
manager: jhubbard
editor: monicar
ms.assetid: ef9d5c0c-0867-4317-bb1b-98e219799fd5
ms.service: cosmos-db
ms.workload: data-services
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 05/24/2017
ms.author: anhoh
ms.custom: H1Hack27Feb2017
ms.openlocfilehash: fc3642232b86cc27901ebd97456c386829324632
ms.sourcegitcommit: 523283cc1b3c37c428e77850964dc1c33742c5f0
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 10/06/2017
---
# <a name="azure-cosmos-db-hierarchical-resource-model-and-core-concepts"></a><span data-ttu-id="4b1a8-104">Az Azure Cosmos DB hierarchikus erőforrás-modellje és alapfogalmai</span><span class="sxs-lookup"><span data-stu-id="4b1a8-104">Azure Cosmos DB hierarchical resource model and core concepts</span></span>
<span data-ttu-id="4b1a8-105">hello Azure Cosmos DB kezelő adatbázis entitások legyenek hivatkozott tooas **erőforrások**.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-105">hello database entities that Azure Cosmos DB manages are referred tooas **resources**.</span></span> <span data-ttu-id="4b1a8-106">Az egyes erőforrások egyedileg azonosít egy logikai URI-t.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-106">Each resource is uniquely identified by a logical URI.</span></span> <span data-ttu-id="4b1a8-107">Hello erőforrások szabványos HTTP-műveletek, a kérelem/válasz fejlécek és a állapotkódokat alállapotkódok használatával kommunikálhat.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-107">You can interact with hello resources using standard HTTP verbs, request/response headers and status codes.</span></span> 

<span data-ttu-id="4b1a8-108">A cikk elolvasása lesz képes tooanswer hello a következő kérdéseket:</span><span class="sxs-lookup"><span data-stu-id="4b1a8-108">By reading this article, you'll be able tooanswer hello following questions:</span></span>

* <span data-ttu-id="4b1a8-109">Mi az erőforrás-modellje Cosmos DB?</span><span class="sxs-lookup"><span data-stu-id="4b1a8-109">What is Cosmos DB's resource model?</span></span>
* <span data-ttu-id="4b1a8-110">Mik azok a rendszer meghatározott erőforrások definiált megakadályozását toouser erőforrásként?</span><span class="sxs-lookup"><span data-stu-id="4b1a8-110">What are system defined resources as opposed toouser defined resources?</span></span>
* <span data-ttu-id="4b1a8-111">Hogyan kezelje a egy erőforrást?</span><span class="sxs-lookup"><span data-stu-id="4b1a8-111">How do I address a resource?</span></span>
* <span data-ttu-id="4b1a8-112">Hogyan működik a gyűjteményekkel?</span><span class="sxs-lookup"><span data-stu-id="4b1a8-112">How do I work with collections?</span></span>
* <span data-ttu-id="4b1a8-113">Hogyan működik a tárolt eljárások, eseményindítók és felhasználó által megadott funkciókat (UDF)?</span><span class="sxs-lookup"><span data-stu-id="4b1a8-113">How do I work with stored procedures, triggers and User Defined Functions (UDFs)?</span></span>

## <a name="hierarchical-resource-model"></a><span data-ttu-id="4b1a8-114">Hierarchikus erőforrás-modellje</span><span class="sxs-lookup"><span data-stu-id="4b1a8-114">Hierarchical resource model</span></span>
<span data-ttu-id="4b1a8-115">Az hello alábbi ábrán látható módon, hello Cosmos DB hierarchikus **erőforrás-modellje** áll egy adatbázis-fiók, logikai és állandó URI segítségével minden egyes megcímezhető alatt lévő erőforrások csoportja.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-115">As hello following diagram illustrates, hello Cosmos DB hierarchical **resource model** consists of sets of resources under a database account, each addressable via a logical and stable URI.</span></span> <span data-ttu-id="4b1a8-116">Erőforráscsoport lesz hivatkozott tooas egy **hírcsatorna** ebben a cikkben.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-116">A set of resources will be referred tooas a **feed** in this article.</span></span> 

> [!NOTE]
> <span data-ttu-id="4b1a8-117">Azure Cosmos DB kínál a rendkívül hatékony TCP protokoll, amely egyben a RESTful a kommunikációt a modellben hello keresztül elérhető [DocumentDB .NET ügyfél API-ja](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="4b1a8-117">Azure Cosmos DB offers a highly efficient TCP protocol which is also RESTful in its communication model, available through hello [DocumentDB .NET client API](documentdb-sdk-dotnet.md).</span></span>
> 
> 

<span data-ttu-id="4b1a8-118">![Az Azure Cosmos DB hierarchikus erőforrás-modellje][1]</span><span class="sxs-lookup"><span data-stu-id="4b1a8-118">![Azure Cosmos DB hierarchical resource model][1]</span></span>  
<span data-ttu-id="4b1a8-119">**Hierarchikus erőforrás-modellje**</span><span class="sxs-lookup"><span data-stu-id="4b1a8-119">**Hierarchical resource model**</span></span>   

<span data-ttu-id="4b1a8-120">az erőforrásokkal működik toostart kell [adatbázisfiók létrehozása](create-documentdb-dotnet.md) használata az Azure-előfizetéshez.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-120">toostart working with resources, you must [create a database account](create-documentdb-dotnet.md) using your Azure subscription.</span></span> <span data-ttu-id="4b1a8-121">Az adatbázisfiók állhat egy **adatbázisok**, több tartalmazó **gyűjtemények**, minden egyes, viszont tartalmazó **tárolt eljárások, eseményindítók, felhasználó által megadott függvények, dokumentumok**és kapcsolódó **mellékletek**.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-121">A database account can consist of a set of **databases**, each containing multiple **collections**, each of which in turn contain **stored procedures, triggers, UDFs, documents** and related **attachments**.</span></span> <span data-ttu-id="4b1a8-122">Egy adatbázisban is van társítva **felhasználók**, minden egyes számú **engedélyek** tooaccess gyűjtemények, tárolt eljárások, eseményindítók, felhasználó által megadott függvények, dokumentumok vagy a mellékletekben.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-122">A database also has associated **users**, each with a set of **permissions** tooaccess collections, stored procedures, triggers, UDFs, documents or attachments.</span></span> <span data-ttu-id="4b1a8-123">Míg adatbázisok, felhasználókat és gyűjtemények rendszer által meghatározott erőforrások jól ismert sémákkal rendelkező, dokumentumok és mellékletek tartalmaznak tetszőleges, felhasználó által megadott JSON-tartalmak.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-123">While databases, users, permissions and collections are system-defined resources with well-known schemas, documents and attachments contain arbitrary, user defined JSON content.</span></span>  

| <span data-ttu-id="4b1a8-124">Erőforrás</span><span class="sxs-lookup"><span data-stu-id="4b1a8-124">Resource</span></span> | <span data-ttu-id="4b1a8-125">Leírás</span><span class="sxs-lookup"><span data-stu-id="4b1a8-125">Description</span></span> |
| --- | --- |
| <span data-ttu-id="4b1a8-126">Adatbázis-fiók</span><span class="sxs-lookup"><span data-stu-id="4b1a8-126">Database account</span></span> |<span data-ttu-id="4b1a8-127">Az adatbázisfiók adatbázisok és a rögzített méretű mellékletek blob-tároló állítja be hozzá rendelve.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-127">A database account is associated with a set of databases and a fixed amount of blob storage for attachments.</span></span> <span data-ttu-id="4b1a8-128">Létrehozhat egy vagy több adatbázis fiókot az Azure-előfizetését használja.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-128">You can create one or more database accounts using your Azure subscription.</span></span> <span data-ttu-id="4b1a8-129">További tudnivalókért keresse fel a [árképzést ismertető oldalra](https://azure.microsoft.com/pricing/details/cosmos-db/).</span><span class="sxs-lookup"><span data-stu-id="4b1a8-129">For more information, visit our [pricing page](https://azure.microsoft.com/pricing/details/cosmos-db/).</span></span> |
| <span data-ttu-id="4b1a8-130">Adatbázis</span><span class="sxs-lookup"><span data-stu-id="4b1a8-130">Database</span></span> |<span data-ttu-id="4b1a8-131">Egy adatbázis a dokumentumtároló gyűjtemények között particionált logikai tárolója.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-131">A database is a logical container of document storage partitioned across collections.</span></span> <span data-ttu-id="4b1a8-132">Akkor is a felhasználók tárolójába kerülnek.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-132">It is also a users container.</span></span> |
| <span data-ttu-id="4b1a8-133">Felhasználó</span><span class="sxs-lookup"><span data-stu-id="4b1a8-133">User</span></span> |<span data-ttu-id="4b1a8-134">hello logikai névterét hatókörének engedélyeket.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-134">hello logical namespace for scoping permissions.</span></span> |
| <span data-ttu-id="4b1a8-135">Engedély</span><span class="sxs-lookup"><span data-stu-id="4b1a8-135">Permission</span></span> |<span data-ttu-id="4b1a8-136">Egy engedélyezési jogkivonatot egy felhasználó hozzáférési tooa adott erőforrás társított.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-136">An authorization token associated with a user for access tooa specific resource.</span></span> |
| <span data-ttu-id="4b1a8-137">Gyűjtemény</span><span class="sxs-lookup"><span data-stu-id="4b1a8-137">Collection</span></span> |<span data-ttu-id="4b1a8-138">A gyűjtemény egy JSON-dokumentumokat tároló, hello kapcsolódó JavaScript-alkalmazáslogika.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-138">A collection is a container of JSON documents and hello associated JavaScript application logic.</span></span> <span data-ttu-id="4b1a8-139">A gyűjtemény egy számlázható entitás, akkor, ha hello [költség](performance-levels.md) hello hello gyűjteményhez társított teljesítményszint határozza meg.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-139">A collection is a billable entity, where hello [cost](performance-levels.md) is determined by hello performance level associated with hello collection.</span></span> <span data-ttu-id="4b1a8-140">Gyűjtemények egy vagy több partícióra/kiszolgálóra is kiterjedhetnek, és méretezhető toohandle gyakorlatilag korlátlan mennyiségű tárterület vagy átviteli sebesség.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-140">Collections can span one or more partitions/servers and can scale toohandle practically unlimited volumes of storage or throughput.</span></span> |
| <span data-ttu-id="4b1a8-141">Tárolt eljárás</span><span class="sxs-lookup"><span data-stu-id="4b1a8-141">Stored Procedure</span></span> |<span data-ttu-id="4b1a8-142">Egy gyűjtemény regisztrált és tranzakciós úton futtatásuk hello adatbázismotor JavaScript nyelven írt alkalmazás logikáját.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-142">Application logic written in JavaScript which is registered with a collection and transactionally executed within hello database engine.</span></span> |
| <span data-ttu-id="4b1a8-143">Eseményindító</span><span class="sxs-lookup"><span data-stu-id="4b1a8-143">Trigger</span></span> |<span data-ttu-id="4b1a8-144">Az alkalmazáslogikát végrehajtása előtt vagy után vagy egy INSERT utasítás, JavaScript nyelven írt cseréje vagy törlési művelet.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-144">Application logic written in JavaScript executed before or after either an insert, replace or delete operation.</span></span> |
| <span data-ttu-id="4b1a8-145">AZ UDF</span><span class="sxs-lookup"><span data-stu-id="4b1a8-145">UDF</span></span> |<span data-ttu-id="4b1a8-146">JavaScript nyelven írt alkalmazás logikáját.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-146">Application logic written in JavaScript.</span></span> <span data-ttu-id="4b1a8-147">Felhasználó által megadott függvények engedélyezi egy egyéni lekérdezés operátor toomodel, és ezáltal a hello core DocumentDB API lekérdezési nyelv kiterjesztése.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-147">UDFs enable you toomodel a custom query operator and thereby extend hello core DocumentDB API query language.</span></span> |
| <span data-ttu-id="4b1a8-148">A dokumentum</span><span class="sxs-lookup"><span data-stu-id="4b1a8-148">Document</span></span> |<span data-ttu-id="4b1a8-149">Felhasználó által definiált (tetszőleges) JSON-tartalmak.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-149">User defined (arbitrary) JSON content.</span></span> <span data-ttu-id="4b1a8-150">Alapértelmezés szerint nincs a sémában definiált toobe kell, és másodlagos indexek igényelnek toobe megadott összes hello dokumentumok tooa gyűjteményhez adni.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-150">By default, no schema needs toobe defined nor do secondary indices need toobe provided for all hello documents added tooa collection.</span></span> |
| <span data-ttu-id="4b1a8-151">Melléklet</span><span class="sxs-lookup"><span data-stu-id="4b1a8-151">Attachment</span></span> |<span data-ttu-id="4b1a8-152">Egy mellékletet tartalmazó hivatkozásokat és a külső blob/médiához kapcsolódó metaadatok különleges dokumentumot.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-152">An attachment is a special document containing references and associated metadata for external blob/media.</span></span> <span data-ttu-id="4b1a8-153">hello fejlesztői választhat, toohave hello blob Cosmos DB felügyeli, vagy tárolja el azt egy külső blob-szolgáltatónál, például a onedrive-on, Dropbox, stb.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-153">hello developer can choose toohave hello blob managed by Cosmos DB or store it with an external blob service provider such as OneDrive, Dropbox, etc.</span></span> |

## <a name="system-vs-user-defined-resources"></a><span data-ttu-id="4b1a8-154">A rendszer és a felhasználó által definiált erőforrások</span><span class="sxs-lookup"><span data-stu-id="4b1a8-154">System vs. user defined resources</span></span>
<span data-ttu-id="4b1a8-155">Erőforrások, például adatbázis-fiókokat, adatbázisok, gyűjtemények, felhasználók, engedélyek, tárolt eljárások, eseményindítók és felhasználó által megadott függvények - rögzített sémájába rendelkeznek, és rendszererőforrásokat nevezzük.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-155">Resources such as database accounts, databases, collections, users, permissions, stored procedures, triggers, and UDFs - all have a fixed schema and are called system resources.</span></span> <span data-ttu-id="4b1a8-156">Ezzel szemben erőforrások, például a dokumentumok és mellékletek egyáltalán nem korlátozza a hello séma, és a felhasználó által definiált erőforrások példák.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-156">In contrast, resources such as documents and attachments have no restrictions on hello schema and are examples of user defined resources.</span></span> <span data-ttu-id="4b1a8-157">A Cosmos DB, rendszer és a felhasználó definiált erőforrások képviselt és standard-kompatibilis JSON-ként kezeli.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-157">In Cosmos DB, both system and user defined resources are represented and managed as standard-compliant JSON.</span></span> <span data-ttu-id="4b1a8-158">Minden erőforrás, a rendszer vagy felhasználó által definiált, hello alábbi közös tulajdonságokkal rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-158">All resources, system or user defined, have hello following common properties.</span></span>

> [!NOTE]
> <span data-ttu-id="4b1a8-159">Vegye figyelembe, hogy az összes rendszer az erőforrás tulajdonságai létre fűzve előtagként a saját JSON-megjelenítés aláhúzással (_).</span><span class="sxs-lookup"><span data-stu-id="4b1a8-159">Note that all system generated properties in a resource are prefixed with an underscore (_) in their JSON representation.</span></span>
> 
> 

<table>
    <tbody>
        <tr>
            <td valign="top"><p><span data-ttu-id="4b1a8-160"><strong>Tulajdonság</strong></span><span class="sxs-lookup"><span data-stu-id="4b1a8-160"><strong>Property</strong></span></span></p></td>
            <td valign="top"><p><span data-ttu-id="4b1a8-161"><strong>Állítható be a felhasználó vagy rendszer által létrehozott?</strong></span><span class="sxs-lookup"><span data-stu-id="4b1a8-161"><strong>User settable or system generated?</strong></span></span></p></td>
            <td valign="top"><p><span data-ttu-id="4b1a8-162"><strong>Cél</strong></span><span class="sxs-lookup"><span data-stu-id="4b1a8-162"><strong>Purpose</strong></span></span></p></td>
        </tr>
        <tr>
            <td valign="top"><p><span data-ttu-id="4b1a8-163">_rid</span><span class="sxs-lookup"><span data-stu-id="4b1a8-163">_rid</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="4b1a8-164">Rendszer által létrehozott</span><span class="sxs-lookup"><span data-stu-id="4b1a8-164">System generated</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="4b1a8-165">Rendszer által létrehozott, egyedi és a hierarchikus hello erőforrás-azonosítója</span><span class="sxs-lookup"><span data-stu-id="4b1a8-165">System generated, unique and hierarchical identifier of hello resource</span></span></p></td>
        </tr>
        <tr>
            <td valign="top"><p><span data-ttu-id="4b1a8-166">_etag</span><span class="sxs-lookup"><span data-stu-id="4b1a8-166">_etag</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="4b1a8-167">Rendszer által létrehozott</span><span class="sxs-lookup"><span data-stu-id="4b1a8-167">System generated</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="4b1a8-168">az egyidejű hozzáférések optimista vezérlését szükséges hello erőforrás ETag</span><span class="sxs-lookup"><span data-stu-id="4b1a8-168">etag of hello resource required for optimistic concurrency control</span></span></p></td>
        </tr>
        <tr>
            <td valign="top"><p><span data-ttu-id="4b1a8-169">_ts</span><span class="sxs-lookup"><span data-stu-id="4b1a8-169">_ts</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="4b1a8-170">Rendszer által létrehozott</span><span class="sxs-lookup"><span data-stu-id="4b1a8-170">System generated</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="4b1a8-171">Hello erőforrás utolsó frissített időbélyegzője</span><span class="sxs-lookup"><span data-stu-id="4b1a8-171">Last updated timestamp of hello resource</span></span></p></td>
        </tr>
        <tr>
            <td valign="top"><p><span data-ttu-id="4b1a8-172">_self</span><span class="sxs-lookup"><span data-stu-id="4b1a8-172">_self</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="4b1a8-173">Rendszer által létrehozott</span><span class="sxs-lookup"><span data-stu-id="4b1a8-173">System generated</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="4b1a8-174">Egyedi megcímezhető URI hello erőforrás</span><span class="sxs-lookup"><span data-stu-id="4b1a8-174">Unique addressable URI of hello resource</span></span></p></td>
        </tr>
        <tr>
            <td valign="top"><p><span data-ttu-id="4b1a8-175">id</span><span class="sxs-lookup"><span data-stu-id="4b1a8-175">id</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="4b1a8-176">Rendszer által létrehozott</span><span class="sxs-lookup"><span data-stu-id="4b1a8-176">System generated</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="4b1a8-177">Felhasználó által definiált hello erőforrás egyedi nevét (a hello ugyanaz a partícióazonosító kulcsérték).</span><span class="sxs-lookup"><span data-stu-id="4b1a8-177">User defined unique name of hello resource (with hello same partition key value).</span></span> <span data-ttu-id="4b1a8-178">Hello felhasználói azonosító nem határoz meg, ha egy azonosítót kell-e a rendszer által létrehozott</span><span class="sxs-lookup"><span data-stu-id="4b1a8-178">If hello user does not specify an id, an id will be system generated</span></span></p></td>
        </tr>
    </tbody>
</table>

### <a name="wire-representation-of-resources"></a><span data-ttu-id="4b1a8-179">Átviteli megjelenítésűre erőforrások</span><span class="sxs-lookup"><span data-stu-id="4b1a8-179">Wire representation of resources</span></span>
<span data-ttu-id="4b1a8-180">Cosmos DB nem határozza meg, a saját bővítmények toohello JSON standard vagy különleges kódolások; standard megfelelő JSON-dokumentumok együttműködik.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-180">Cosmos DB does not mandate any proprietary extensions toohello JSON standard or special encodings; it works with standard compliant JSON documents.</span></span>  

### <a name="addressing-a-resource"></a><span data-ttu-id="4b1a8-181">Egy erőforrás címzés</span><span class="sxs-lookup"><span data-stu-id="4b1a8-181">Addressing a resource</span></span>
<span data-ttu-id="4b1a8-182">Minden erőforrás URI-címmel rendelkező.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-182">All resources are URI addressable.</span></span> <span data-ttu-id="4b1a8-183">hello értékének hello **_self** tulajdonság egy erőforrás jelöli hello hello erőforrás relatív URI.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-183">hello value of hello **_self** property of a resource represents hello relative URI of hello resource.</span></span> <span data-ttu-id="4b1a8-184">hello hello URI formátuma áll hello /\<hírcsatorna\>/ {_rid} szegmenst:</span><span class="sxs-lookup"><span data-stu-id="4b1a8-184">hello format of hello URI consists of hello /\<feed\>/{_rid} path segments:</span></span>  

| <span data-ttu-id="4b1a8-185">Hello _self értéke</span><span class="sxs-lookup"><span data-stu-id="4b1a8-185">Value of hello _self</span></span> | <span data-ttu-id="4b1a8-186">Leírás</span><span class="sxs-lookup"><span data-stu-id="4b1a8-186">Description</span></span> |
| --- | --- |
| <span data-ttu-id="4b1a8-187">/dbs</span><span class="sxs-lookup"><span data-stu-id="4b1a8-187">/dbs</span></span> |<span data-ttu-id="4b1a8-188">Adatcsatorna adatbázisok egy adatbázis-fiókkal</span><span class="sxs-lookup"><span data-stu-id="4b1a8-188">Feed of databases under a database account</span></span> |
| <span data-ttu-id="4b1a8-189">/dbs/ {%{dbname/}</span><span class="sxs-lookup"><span data-stu-id="4b1a8-189">/dbs/{dbName}</span></span> |<span data-ttu-id="4b1a8-190">Megfelelő hello érték {%{dbname/} azonosítójú adatbázis</span><span class="sxs-lookup"><span data-stu-id="4b1a8-190">Database with an id matching hello value {dbName}</span></span> |
| <span data-ttu-id="4b1a8-191">{%{dbname/} /dbs/ /colls/</span><span class="sxs-lookup"><span data-stu-id="4b1a8-191">/dbs/{dbName}/colls/</span></span> |<span data-ttu-id="4b1a8-192">A gyűjtemények az adatbázis adatcsatorna</span><span class="sxs-lookup"><span data-stu-id="4b1a8-192">Feed of collections under a database</span></span> |
| <span data-ttu-id="4b1a8-193">{%{dbname/} /dbs/ /colls/ {collName}</span><span class="sxs-lookup"><span data-stu-id="4b1a8-193">/dbs/{dbName}/colls/{collName}</span></span> |<span data-ttu-id="4b1a8-194">Egy megfelelő hello érték {collName} azonosítójú gyűjtemény</span><span class="sxs-lookup"><span data-stu-id="4b1a8-194">Collection with an id matching hello value {collName}</span></span> |
| <span data-ttu-id="4b1a8-195">{%{dbname/} /dbs/ /colls/ {collName} / docs</span><span class="sxs-lookup"><span data-stu-id="4b1a8-195">/dbs/{dbName}/colls/{collName}/docs</span></span> |<span data-ttu-id="4b1a8-196">A gyűjtemény dokumentumok adatcsatorna</span><span class="sxs-lookup"><span data-stu-id="4b1a8-196">Feed of documents under a collection</span></span> |
| <span data-ttu-id="4b1a8-197">{%{dbname/} /dbs/ /colls/ {collName} /docs/ {dokumentumazonosító}</span><span class="sxs-lookup"><span data-stu-id="4b1a8-197">/dbs/{dbName}/colls/{collName}/docs/{docId}</span></span> |<span data-ttu-id="4b1a8-198">Hello érték {doc} egyező azonosítójú dokumentálása</span><span class="sxs-lookup"><span data-stu-id="4b1a8-198">Document with an id matching hello value {doc}</span></span> |
| <span data-ttu-id="4b1a8-199">{%{dbname/} /dbs/ /felhasználók/</span><span class="sxs-lookup"><span data-stu-id="4b1a8-199">/dbs/{dbName}/users/</span></span> |<span data-ttu-id="4b1a8-200">A felhasználók egy adatbázist a hírcsatorna</span><span class="sxs-lookup"><span data-stu-id="4b1a8-200">Feed of users under a database</span></span> |
| <span data-ttu-id="4b1a8-201">{%{dbname/} /dbs/ /felhasználók/ {userId}</span><span class="sxs-lookup"><span data-stu-id="4b1a8-201">/dbs/{dbName}/users/{userId}</span></span> |<span data-ttu-id="4b1a8-202">Megfelelő hello érték {felhasználói} azonosítóval rendelkező felhasználó</span><span class="sxs-lookup"><span data-stu-id="4b1a8-202">User with an id matching hello value {user}</span></span> |
| <span data-ttu-id="4b1a8-203">{%{dbname/} /dbs/ /felhasználók/ {userId} / engedélyek</span><span class="sxs-lookup"><span data-stu-id="4b1a8-203">/dbs/{dbName}/users/{userId}/permissions</span></span> |<span data-ttu-id="4b1a8-204">Adatcsatorna egy felhasználói engedélyek</span><span class="sxs-lookup"><span data-stu-id="4b1a8-204">Feed of permissions under a user</span></span> |
| <span data-ttu-id="4b1a8-205">{%{dbname/} /dbs/ /felhasználók/ {userId} /permissions/ {permissionId}</span><span class="sxs-lookup"><span data-stu-id="4b1a8-205">/dbs/{dbName}/users/{userId}/permissions/{permissionId}</span></span> |<span data-ttu-id="4b1a8-206">Egy megfelelő hello érték {engedély} azonosítójú engedély</span><span class="sxs-lookup"><span data-stu-id="4b1a8-206">Permission with an id matching hello value {permission}</span></span> |

<span data-ttu-id="4b1a8-207">Az egyes erőforrások hello azonosítóját megadó tulajdonságot keresztül elérhetővé tett egyedi felhasználó által megadott névvel rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-207">Each resource has a unique user defined name exposed via hello id property.</span></span> <span data-ttu-id="4b1a8-208">Megjegyzés: a dokumentumok, hello felhasználó nem adja meg az azonosító, ha a támogatott SDK-k automatikusan létrehoz egy egyedi azonosítóra hello dokumentum.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-208">Note: for documents, if hello user does not specify an id, our supported SDKs will automatically generate a unique id for hello document.</span></span> <span data-ttu-id="4b1a8-209">hello azonosítója nem egy felhasználó által megadott karakterláncot too256 karakter, amely egy adott szülő erőforrás hello környezeten belül egyedi másolatot.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-209">hello id is a user defined string, of up too256 characters that is unique within hello context of a specific parent resource.</span></span> 

<span data-ttu-id="4b1a8-210">Az egyes erőforrások is rendelkezik a rendszer által létrehozott hierarchikus erőforrás-azonosítója (is hivatkozott tooas egy relatív azonosító), elérhető hello _rid tulajdonsága révén.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-210">Each resource also has a system generated hierarchical resource identifier (also referred tooas an RID), which is available via hello _rid property.</span></span> <span data-ttu-id="4b1a8-211">hello RID kódolja a teljes hierarchia hello egy adott erőforrás és a megfelelő belső megjelenítése egy elosztott módon tooenforce hivatkozási integritási használt.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-211">hello RID encodes hello entire hierarchy of a given resource and it is a convenient internal representation used tooenforce referential integrity in a distributed manner.</span></span> <span data-ttu-id="4b1a8-212">a relatív AZONOSÍTÓK hello egyedi belül egy adatbázis-fiók, és belső használható Cosmos DB anélkül, hogy több partíció keresések hatékony útválasztást.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-212">hello RID is unique within a database account and it is internally used by Cosmos DB for efficient routing without requiring cross partition lookups.</span></span> <span data-ttu-id="4b1a8-213">hello hello _self és hello _rid tulajdonságainak értékei erőforrás mind a másodlagos, és a kanonikus ábrázolásai.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-213">hello values of hello _self and hello  _rid properties are both alternate and canonical representations of a resource.</span></span> 

<span data-ttu-id="4b1a8-214">hello REST API-k támogatása az erőforrások címzést és útválasztást kérelmek hello azonosítója és hello _rid tulajdonságok is.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-214">hello REST APIs support addressing of resources and routing of requests by both hello id and hello _rid properties.</span></span>

## <a name="database-accounts"></a><span data-ttu-id="4b1a8-215">Adatbázis-fiókok</span><span class="sxs-lookup"><span data-stu-id="4b1a8-215">Database accounts</span></span>
<span data-ttu-id="4b1a8-216">Megadhat egy vagy több Cosmos DB adatbázis fiókot az Azure-előfizetését használja.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-216">You can provision one or more Cosmos DB database accounts using your Azure subscription.</span></span>

<span data-ttu-id="4b1a8-217">Hozhat létre és kezelheti a Cosmos DB adatbázis fiókokat hello Azure portálon keresztül, [http://portal.azure.com/](https://portal.azure.com/).</span><span class="sxs-lookup"><span data-stu-id="4b1a8-217">You can create and manage Cosmos DB database accounts via hello Azure Portal at [http://portal.azure.com/](https://portal.azure.com/).</span></span> <span data-ttu-id="4b1a8-218">Létrehozását és kezelését egy adatbázis-fiók rendszergazdai hozzáférésre van szüksége, és csak az Azure-előfizetéshez tartozó hajtható végre.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-218">Creating and managing a database account requires administrative access and can only be performed under your Azure subscription.</span></span> 

### <a name="database-account-properties"></a><span data-ttu-id="4b1a8-219">Adatbázis-fiók tulajdonságai</span><span class="sxs-lookup"><span data-stu-id="4b1a8-219">Database account properties</span></span>
<span data-ttu-id="4b1a8-220">Kiépítése és kezelése az adatbázisfiók részeként konfigurálja, és olvassa el a következő tulajdonságai hello:</span><span class="sxs-lookup"><span data-stu-id="4b1a8-220">As part of provisioning and managing a database account you can configure and read hello following properties:</span></span>  

<table border="0" cellspacing="0" cellpadding="0">
    <tbody>
        <tr>
            <td valign="top"><p><span data-ttu-id="4b1a8-221"><strong>Tulajdonság neve</strong></span><span class="sxs-lookup"><span data-stu-id="4b1a8-221"><strong>Property Name</strong></span></span></p></td>
            <td valign="top"><p><span data-ttu-id="4b1a8-222"><strong>Leírás</strong></span><span class="sxs-lookup"><span data-stu-id="4b1a8-222"><strong>Description</strong></span></span></p></td>
        </tr>
        <tr>
            <td valign="top"><p><span data-ttu-id="4b1a8-223">Konzisztencia-házirend</span><span class="sxs-lookup"><span data-stu-id="4b1a8-223">Consistency Policy</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="4b1a8-224">A tulajdonság tooconfigure hello alapértelmezett konzisztencia a szintjének beállítása az adatbázis-fiókjában összes hello gyűjteményt.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-224">Set this property tooconfigure hello default consistency level for all hello collections under your database account.</span></span> <span data-ttu-id="4b1a8-225">Ha szeretné felülbírálni az hello konzisztenciaszint használatával [x-ms-konzisztencia-szint] hello fejléc / kérés alapon.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-225">You can override hello consistency level on a per request basis using hello [x-ms-consistency-level] request header.</span></span> <p><p><span data-ttu-id="4b1a8-226">Vegye figyelembe, hogy ez a tulajdonság csak érvényes toohello <i>felhasználó által definiált erőforrások</i>.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-226">Note that this property only applies toohello <i>user defined resources</i>.</span></span> <span data-ttu-id="4b1a8-227">Minden rendszer által definiált erőforrás olvasási konfigurált toosupport lekérdezések erős konzisztencia.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-227">All system defined resources are configured toosupport reads/queries with strong consistency.</span></span></p></td>
        </tr>
        <tr>
            <td valign="top"><p><span data-ttu-id="4b1a8-228">Engedélyezési kulcsok</span><span class="sxs-lookup"><span data-stu-id="4b1a8-228">Authorization Keys</span></span></p></td>
            <td valign="top"><p><span data-ttu-id="4b1a8-229">Ezek a hello elsődleges, és a másodlagos fő- és a csak olvasható kulcsok biztosító felügyeleti hozzáférési tooall hello erőforrások hello adatbázisfiók alapján.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-229">These are hello primary and secondary master and readonly keys that provide administrative access tooall of hello resources under hello database account.</span></span></p></td>
        </tr>
    </tbody>
</table>

<span data-ttu-id="4b1a8-230">Vegye figyelembe, hogy a hozzáadása tooprovisioning, konfigurálása és kezelése az adatbázisfiók hello Azure portál, az akkor is szoftveresen is fiókok létrehozásakor és kezelésekor Cosmos DB adatbázis hello segítségével [Azure Cosmos DB REST API-k](/rest/api/documentdb/) , jól [ügyfél SDK-k](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="4b1a8-230">Note that in addition tooprovisioning, configuring and managing your database account from hello Azure Portal, you can also programmatically create and manage Cosmos DB database accounts by using hello [Azure Cosmos DB REST APIs](/rest/api/documentdb/) as well as [client SDKs](documentdb-sdk-dotnet.md).</span></span>  

## <a name="databases"></a><span data-ttu-id="4b1a8-231">Adatbázisok</span><span class="sxs-lookup"><span data-stu-id="4b1a8-231">Databases</span></span>
<span data-ttu-id="4b1a8-232">Egy Cosmos DB adatbázisban egy olyan logikai tároló egy vagy több gyűjteményt és a felhasználók, ahogy az ábra a következő hello.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-232">A Cosmos DB database is a logical container of one or more collections and users, as shown in hello following diagram.</span></span> <span data-ttu-id="4b1a8-233">Tetszőleges számú adatbázishoz alatt egy Cosmos DB adatbázis fiók tulajdonosának toooffer korlátok hozhat létre.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-233">You can create any number of databases under a Cosmos DB database account subject toooffer limits.</span></span>  

<span data-ttu-id="4b1a8-234">![Fiók és a gyűjtemények hierarchikus adatbázismodell][2]</span><span class="sxs-lookup"><span data-stu-id="4b1a8-234">![Database account and collections hierarchical model][2]</span></span>  
<span data-ttu-id="4b1a8-235">**Egy adatbázis egy olyan logikai tároló, a felhasználók és gyűjtemények**</span><span class="sxs-lookup"><span data-stu-id="4b1a8-235">**A Database is a logical container of users and collections**</span></span>

<span data-ttu-id="4b1a8-236">Egy adatbázis gyakorlatilag korlátlan dokumentumtároló gyűjtemények belül particionált tartalmazhat.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-236">A database can contain virtually unlimited document storage partitioned within collections.</span></span>

### <a name="elastic-scale-of-a-cosmos-db-database"></a><span data-ttu-id="4b1a8-237">Rugalmasan méretezhető Cosmos DB-adatbázis</span><span class="sxs-lookup"><span data-stu-id="4b1a8-237">Elastic scale of a Cosmos DB database</span></span>
<span data-ttu-id="4b1a8-238">A Cosmos DB adatbázisa rugalmas alapértelmezés – kezdve a néhány GB toopetabytes dokumentumtároló biztonsági SSD és a létesített átviteli sebesség.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-238">A Cosmos DB database is elastic by default – ranging from a few GB toopetabytes of SSD backed document storage and provisioned throughput.</span></span> 

<span data-ttu-id="4b1a8-239">Ellentétben a hagyományos RDBMS egy adatbázist egy Cosmos DB adatbázisa nem hatókörön belüli tooa egyetlen számítógépen.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-239">Unlike a database in traditional RDBMS, a database in Cosmos DB is not scoped tooa single machine.</span></span> <span data-ttu-id="4b1a8-240">A Cosmos DB az alkalmazás skálázási igények toogrow, létrehozhat több gyűjteményt, adatbázisok vagy mindkettőt.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-240">With Cosmos DB, as your application’s scale needs toogrow, you can create more collections, databases, or both.</span></span> <span data-ttu-id="4b1a8-241">Valóban különböző első felek alkalmazásainak a Microsofton belül használt Cosmos DB egy fogyasztói léptékű által a dokumentumtároló terabájt az egyes gyűjtemények tartalmazó ezer rendkívül nagy Cosmos DB adatbázisok létrehozásához.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-241">Indeed, various first party applications within Microsoft have been using Cosmos DB at a consumer scale by creating extremely large Cosmos DB databases each containing thousands of collections with terabytes of document storage.</span></span> <span data-ttu-id="4b1a8-242">Növekedhet, és egy adatbázis zsugorítása hozzáadásával vagy eltávolításával gyűjtemények toomeet az alkalmazás méretkövetelményekhez.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-242">You can grow or shrink a database by adding or removing collections toomeet your application’s scale requirements.</span></span> 

<span data-ttu-id="4b1a8-243">Tetszőleges számú belül egy adatbázis-tulajdonos toohello ajánlat gyűjteményeket hozhat létre.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-243">You can create any number of collections within a database subject toohello offer.</span></span> <span data-ttu-id="4b1a8-244">Minden gyűjtemény rendelkezik, a biztonsági SSD-tárolóba, attól függően, hogy a kijelölt teljesítményszinttel hello meg kiosztott átviteli sebesség.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-244">Each collection has SSD backed storage and throughput provisioned for you depending on hello selected performance tier.</span></span>

<span data-ttu-id="4b1a8-245">A Cosmos DB adatbázis is egy olyan tároló, a felhasználók.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-245">A Cosmos DB database is also a container of users.</span></span> <span data-ttu-id="4b1a8-246">Egy felhasználó, szolgálna, az engedélyek egy készletét, minden részletre kiterjedő engedélyezési és hozzáférés toocollections, dokumentumok és mellékletek védelmét biztosító logikai névterét.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-246">A user, in-turn, is a logical namespace for a set of permissions that provides fine-grained authorization and access toocollections, documents and attachments.</span></span>  

<span data-ttu-id="4b1a8-247">Hello Cosmos DB erőforrás-modellje más erőforrásokat, adatbázisok hozható létre, cserélni, törlése, olvasása vagy számba könnyen használatával vagy hello [REST API-k](/rest/api/documentdb/) vagy bármelyik hello [ügyfél SDK-k](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="4b1a8-247">As with other resources in hello Cosmos DB resource model, databases can be created, replaced, deleted, read or enumerated easily using either hello [REST APIs](/rest/api/documentdb/) or any of hello [client SDKs](documentdb-sdk-dotnet.md).</span></span> <span data-ttu-id="4b1a8-248">Cosmos DB vagy hello metaadatok adatbázis erőforrás lekérdezése az erős konzisztencia biztosítja.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-248">Cosmos DB guarantees strong consistency for reading or querying hello metadata of a database resource.</span></span> <span data-ttu-id="4b1a8-249">Egy adatbázis törlése automatikusan biztosítja, hogy nem tud hozzáférni az hello gyűjtemények vagy az abban szereplő felhasználók.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-249">Deleting a database automatically ensures that you cannot access any of hello collections or users contained within it.</span></span>   

## <a name="collections"></a><span data-ttu-id="4b1a8-250">Gyűjtemények</span><span class="sxs-lookup"><span data-stu-id="4b1a8-250">Collections</span></span>
<span data-ttu-id="4b1a8-251">A Cosmos DB gyűjtemény egy olyan tároló, a JSON-dokumentumok.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-251">A Cosmos DB collection is a container for your JSON documents.</span></span> 

### <a name="elastic-ssd-backed-document-storage"></a><span data-ttu-id="4b1a8-252">Rugalmas biztonsági SSD-dokumentumtároló</span><span class="sxs-lookup"><span data-stu-id="4b1a8-252">Elastic SSD backed document storage</span></span>
<span data-ttu-id="4b1a8-253">Egy gyűjtemény belsőleg rugalmas – automatikusan növekszik, és vegye fel vagy távolítsa el a dokumentumok mértékben változik.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-253">A collection is intrinsically elastic - it automatically grows and shrinks as you add or remove documents.</span></span> <span data-ttu-id="4b1a8-254">Gyűjtemények logikai erőforrások, egy vagy több fizikai partíciók, sem kiszolgálók is kiterjedhetnek.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-254">Collections are logical resources and can span one or more physical partitions or servers.</span></span> <span data-ttu-id="4b1a8-255">a gyűjteményen belül partíciók száma hello Cosmos DB hello tároló méretét és a gyűjtemény hello kiosztott átviteli sebesség alapján határozza meg.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-255">hello number of partitions within a collection is determined by Cosmos DB based on hello storage size and hello provisioned throughput of your collection.</span></span> <span data-ttu-id="4b1a8-256">Minden partíció Cosmos DB SSD-biztonsági tárolási társítva a rögzített méretű rendelkezik, és a magas rendelkezésre állású replikálódik.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-256">Every partition in Cosmos DB has a fixed amount of SSD-backed storage associated with it, and is replicated for high availability.</span></span> <span data-ttu-id="4b1a8-257">Partíció felügyeleti teljes mértékben felügyelt Azure Cosmos DB, és nem rendelkezik toowrite komplex kódot, vagy a partíciók kezeléséhez.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-257">Partition management is fully managed by Azure Cosmos DB, and you do not have toowrite complex code or manage your partitions.</span></span> <span data-ttu-id="4b1a8-258">A cosmos DB gyűjtemények **gyakorlatilag korlátlan** tárolási és átviteli tekintetében.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-258">Cosmos DB collections are **practically unlimited** in terms of storage and throughput.</span></span> 

### <a name="automatic-indexing-of-collections"></a><span data-ttu-id="4b1a8-259">Az automatikus indexeléshez gyűjtemények</span><span class="sxs-lookup"><span data-stu-id="4b1a8-259">Automatic indexing of collections</span></span>
<span data-ttu-id="4b1a8-260">Cosmos DB egy valódi sémamentes adatbázisrendszer.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-260">Cosmos DB is a true schema-free database system.</span></span> <span data-ttu-id="4b1a8-261">Az feltételez vagy igényel semmilyen sémát hello JSON-dokumentumok.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-261">It does not assume or require any schema for hello JSON documents.</span></span> <span data-ttu-id="4b1a8-262">Dokumentumok tooa gyűjteményhez való hozzáadása, Cosmos DB automatikusan elvégzi a őket, és hogy tooquery elérhetők.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-262">As you add documents tooa collection, Cosmos DB automatically indexes them and they are available for you tooquery.</span></span> <span data-ttu-id="4b1a8-263">Automatikus indexelés dokumentumok anélkül, hogy a séma vagy a másodlagos indexek Cosmos-adatbázis kulcs képesség és írási optimalizált, a zárolás szabad és a naplószerkezetű karbantartási eljárások szerint engedélyezve van.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-263">Automatic indexing of documents without requiring schema or secondary indexes is a key capability of Cosmos DB and is enabled by write-optimized, lock-free and log-structured index maintenance techniques.</span></span> <span data-ttu-id="4b1a8-264">Cosmos DB konzisztens lekérdezések szolgálatban nagyon gyorsan írások tartós kötet támogatja.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-264">Cosmos DB supports sustained volume of extremely fast writes while still serving consistent queries.</span></span> <span data-ttu-id="4b1a8-265">A dokumentum és a index tárolása minden gyűjtemény által felhasznált toocalculate hello tárterületet használja.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-265">Both document and index storage are used toocalculate hello storage consumed by each collection.</span></span> <span data-ttu-id="4b1a8-266">Hello tárterületi és teljesítménybeli kompromisszumot társított indexelő hello indexelési házirendet egy gyűjtemény konfigurálásával szabályozhatja.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-266">You can control hello storage and performance trade-offs associated with indexing by configuring hello indexing policy for a collection.</span></span> 

### <a name="configuring-hello-indexing-policy-of-a-collection"></a><span data-ttu-id="4b1a8-267">A gyűjtemény-hello indexelési házirend konfigurálása</span><span class="sxs-lookup"><span data-stu-id="4b1a8-267">Configuring hello indexing policy of a collection</span></span>
<span data-ttu-id="4b1a8-268">házirend egyes gyűjtemények indexelő hello lehetővé teszi toomake teljesítmény- és tárolási kompromisszumot indexelő társított.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-268">hello indexing policy of each collection allows you toomake performance and storage trade-offs associated with indexing.</span></span> <span data-ttu-id="4b1a8-269">hello következő lehetőségek állnak rendelkezésre tooyou indexelési konfiguráció részeként:</span><span class="sxs-lookup"><span data-stu-id="4b1a8-269">hello following options are available tooyou as part of indexing configuration:</span></span>  

* <span data-ttu-id="4b1a8-270">Válassza ki, hogy hello gyűjtemény automatikusan elvégzi a hello dokumentumokat vagy sem.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-270">Choose whether hello collection automatically indexes all of hello documents or not.</span></span> <span data-ttu-id="4b1a8-271">Alapértelmezés szerint automatikusan indexeli ugyan összes dokumentumot.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-271">By default, all documents are automatically indexed.</span></span> <span data-ttu-id="4b1a8-272">Válassza ki az automatikus indexeléshez tooturn, és csak bizonyos dokumentumokhoz toohello index szelektív hozzáadása.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-272">You can choose tooturn off automatic indexing and selectively add only specific documents toohello index.</span></span> <span data-ttu-id="4b1a8-273">Ezzel szemben dönthet úgy, szelektív módon tooexclude csak bizonyos dokumentumokhoz.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-273">Conversely, you can selectively choose tooexclude only specific documents.</span></span> <span data-ttu-id="4b1a8-274">Ez érhet el, IGAZ vagy hamis beállítása hello automatikus tulajdonság toobe hello indexingPolicy gyűjtemény, hello [x-ms-indexingdirective] fejléc segítségével beszúrni, cseréje vagy dokumentum törlése közben.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-274">You can achieve this by setting hello automatic property toobe true or false on hello indexingPolicy of a collection and using hello [x-ms-indexingdirective] request header while inserting, replacing or deleting a document.</span></span>  
* <span data-ttu-id="4b1a8-275">Válassza ki, hogy tooinclude vagy kizárási egyedi elérési utak vagy a dokumentumokat a minták hello index.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-275">Choose whether tooinclude or exclude specific paths or patterns in your documents from hello index.</span></span> <span data-ttu-id="4b1a8-276">Érhető el ez beállítás includedPaths és a gyűjtemény hello indexingPolicy excludedPaths kulcsattribútumokkal.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-276">You can achieve this by setting includedPaths and excludedPaths on hello indexingPolicy of a collection respectively.</span></span> <span data-ttu-id="4b1a8-277">Is hello tárterületi és teljesítménybeli kompromisszumot tartomány konfigurálása és a megadott elérési út mintára lekérdezések kivonat.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-277">You can also configure hello storage and performance trade-offs for range and hash queries for specific path patterns.</span></span> 
* <span data-ttu-id="4b1a8-278">Itt választhat szinkron (konzisztens) és aszinkron (lazy) index frissítéseket.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-278">Choose between synchronous (consistent) and asynchronous (lazy) index updates.</span></span> <span data-ttu-id="4b1a8-279">Alapértelmezés szerint hello index frissítése szinkron módon minden insert, replace vagy dokumentum toohello gyűjtemény törlése.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-279">By default, hello index is updated synchronously on each insert, replace or delete of a document toohello collection.</span></span> <span data-ttu-id="4b1a8-280">Ez lehetővé teszi, hogy a hello lekérdezések toohonor hello konzisztencia szinttel azonos hello dokumentum olvasások.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-280">This enables hello queries toohonor hello same consistency level as that of hello document reads.</span></span> <span data-ttu-id="4b1a8-281">Cosmos DB írási optimalizálva, és támogatja a tartós kötetek dokumentum írások szinkron index karbantartási és egységes lekérdezések szolgáltató együtt, konfigurálhat bizonyos gyűjtemények tooupdate indexét lazily.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-281">While Cosmos DB is write optimized and supports sustained volumes of document writes along with synchronous index maintenance and serving consistent queries, you can configure certain collections tooupdate their index lazily.</span></span> <span data-ttu-id="4b1a8-282">A lusta indexelési növekedhet további hello írási teljesítmény és tömeges adatfeldolgozást forgatókönyvek elsősorban az olvasási műveleteket gyűjtemények ideális.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-282">Lazy indexing boosts hello write performance further and is ideal for bulk ingestion scenarios for primarily read-heavy collections.</span></span>

<span data-ttu-id="4b1a8-283">házirend indexelő hello feldolgozás alatt álló PUT hello gyűjtemény módosíthatja.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-283">hello indexing policy can be changed by executing a PUT on hello collection.</span></span> <span data-ttu-id="4b1a8-284">Ez lehet hello keresztül elért [ügyfél SDK](documentdb-sdk-dotnet.md), hello [Azure Portal](https://portal.azure.com) vagy hello [REST API-k](/rest/api/documentdb/).</span><span class="sxs-lookup"><span data-stu-id="4b1a8-284">This can be achieved either through hello [client SDK](documentdb-sdk-dotnet.md), hello [Azure Portal](https://portal.azure.com) or hello [REST APIs](/rest/api/documentdb/).</span></span>

### <a name="querying-a-collection"></a><span data-ttu-id="4b1a8-285">A gyűjtemény lekérdezése</span><span class="sxs-lookup"><span data-stu-id="4b1a8-285">Querying a collection</span></span>
<span data-ttu-id="4b1a8-286">a gyűjteményen belül hello dokumentumok lehet tetszőleges sémák és kérdezheti le egy gyűjteményen belül dokumentumok anélkül, hogy semmilyen sémát, illetve másodlagos indexek előzetes megfizetése esetén.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-286">hello documents within a collection can have arbitrary schemas and you can query documents within a collection without providing any schema or secondary indices upfront.</span></span> <span data-ttu-id="4b1a8-287">Hello gyűjtemény hello segítségével lekérheti [Azure Cosmos DB DocumentDB API: SQL-szintaxis hivatkozás](https://msdn.microsoft.com/library/azure/dn782250.aspx), amely biztosítja a gazdag hierarchikus, relációs és térbeli operátorokat és bővíthetőséget JavaScript-alapú felhasználó által megadott függvények.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-287">You can query hello collection using hello [Azure Cosmos DB DocumentDB API: SQL syntax reference](https://msdn.microsoft.com/library/azure/dn782250.aspx), which provides rich hierarchical, relational, and spatial operators and extensibility via JavaScript-based UDFs.</span></span> <span data-ttu-id="4b1a8-288">A JSON-szintaxis lehetővé teszi a JSON-dokumentumok fákként hello fa csomópontként címkékkel modellezési.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-288">JSON grammar allows for modeling JSON documents as trees with labels as hello tree nodes.</span></span> <span data-ttu-id="4b1a8-289">Ez lehet kihasználni a egyaránt DocumentDB API automatikus indexelési technikái, valamint a DocumentDB API SQL dialektusa szerint.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-289">This is exploited both by DocumentDB API’s automatic indexing techniques as well as DocumentDB API's SQL dialect.</span></span> <span data-ttu-id="4b1a8-290">hello DocumetDB API lekérdezési nyelv három fő szempontjait foglalja magában:</span><span class="sxs-lookup"><span data-stu-id="4b1a8-290">hello DocumetDB API query language consists of three main aspects:</span></span>   

1. <span data-ttu-id="4b1a8-291">A lekérdezési műveletek, amelyek kapcsolódnak természetes toohello faszerkezetben, beleértve a hierarchikus lekérdezések és leképezések egy kis készletét.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-291">A small set of query operations that map naturally toohello tree structure including hierarchical queries and projections.</span></span> 
2. <span data-ttu-id="4b1a8-292">Egy relációs műveleteket, köztük a összeállításban, szűrő, leképezések, összesítések és automatikus illesztések részét.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-292">A subset of relational operations including composition, filter, projections, aggregates and self joins.</span></span> 
3. <span data-ttu-id="4b1a8-293">Tiszta JavaScript-alapú, amelyek használhatók a felhasználó által megadott függvények (1) és (2).</span><span class="sxs-lookup"><span data-stu-id="4b1a8-293">Pure JavaScript based UDFs that work with (1) and (2).</span></span>  

<span data-ttu-id="4b1a8-294">hello Cosmos DB lekérdezési modelljét kísérel meg toostrike funkciót, a hatékonyság és az egyszerűség egyensúlyára.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-294">hello Cosmos DB query model attempts toostrike a balance between functionality, efficiency and simplicity.</span></span> <span data-ttu-id="4b1a8-295">hello Cosmos-adatbázis adatbázis-kezelő alapértelmezés szerint lefordítja a és hello SQL lekérdezési utasítás végrehajtása.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-295">hello Cosmos DB database engine natively compiles and executes hello SQL query statements.</span></span> <span data-ttu-id="4b1a8-296">Egy gyűjtemény hello segítségével lekérheti [REST API-k](/rest/api/documentdb/) vagy bármelyik hello [ügyfél SDK-k](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="4b1a8-296">You can query a collection using hello [REST APIs](/rest/api/documentdb/) or any of hello [client SDKs](documentdb-sdk-dotnet.md).</span></span> <span data-ttu-id="4b1a8-297">a LINQ szolgáltatónál hello .NET SDK-val rendelkezik.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-297">hello .NET SDK comes with a LINQ provider.</span></span>

> [!TIP]
> <span data-ttu-id="4b1a8-298">Próbálja ki hello DocumentDB API, és SQL-lekérdezések futtatása az adatkészletet a hello [Tesztlekérdezéseket](https://www.documentdb.com/sql/demo).</span><span class="sxs-lookup"><span data-stu-id="4b1a8-298">You can try out hello DocumentDB API and run SQL queries against our dataset in hello [Query Playground](https://www.documentdb.com/sql/demo).</span></span>
> 
> 

## <a name="multi-document-transactions"></a><span data-ttu-id="4b1a8-299">Többdokumentumos tranzakció</span><span class="sxs-lookup"><span data-stu-id="4b1a8-299">Multi-document transactions</span></span>
<span data-ttu-id="4b1a8-300">Adatbázis-tranzakció biztonságos és megbízható programozási modellt biztosít a egyidejű változtatások toohello adatok kezelésével.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-300">Database transactions provide a safe and predictable programming model for dealing with concurrent changes toohello data.</span></span> <span data-ttu-id="4b1a8-301">RDBMS, a hello hagyományos módon toowrite üzleti logikát a toowrite **tárolt eljárások** és/vagy **eseményindítók** , és küldje el az adatbázis-kiszolgáló toohello tranzakciós végrehajtásához.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-301">In RDBMS, hello traditional way toowrite business logic is toowrite **stored-procedures** and/or **triggers** and ship it toohello database server for transactional execution.</span></span> <span data-ttu-id="4b1a8-302">RDBMS hello alkalmazás-programozó szükség toodeal két különböző programozási nyelvek:</span><span class="sxs-lookup"><span data-stu-id="4b1a8-302">In RDBMS, hello application programmer is required toodeal with two disparate programming languages:</span></span> 

* <span data-ttu-id="4b1a8-303">(nem tranzakciós) hello alkalmazás programozási nyelv (pl. JavaScript, Python, C#, Java, stb.)</span><span class="sxs-lookup"><span data-stu-id="4b1a8-303">hello (non-transactional) application programming language (e.g. JavaScript, Python, C#, Java, etc.)</span></span>
* <span data-ttu-id="4b1a8-304">T-SQL, hello tranzakciós programozási nyelv hello adatbázis natív módon futtatja</span><span class="sxs-lookup"><span data-stu-id="4b1a8-304">T-SQL, hello transactional programming language which is natively executed by hello database</span></span>

<span data-ttu-id="4b1a8-305">Részletes kötelezettségvállalás tooJavaScript és JSON közvetlenül hello adatbázismotor belül, a Cosmos DB egy intuitív programozási modellt biztosít, végrehajtás alatt álló JavaScript-alapú úgy az alkalmazáslogikát közvetlenül a tárolt eljárások szempontjából hello gyűjtemények és eseményindítók.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-305">By virtue of its deep commitment tooJavaScript and JSON directly within hello database engine, Cosmos DB provides an intuitive programming model for executing JavaScript based application logic directly on hello collections in terms of stored procedures and triggers.</span></span> <span data-ttu-id="4b1a8-306">Ez lehetővé teszi, hogy mindkét hello következő:</span><span class="sxs-lookup"><span data-stu-id="4b1a8-306">This allows for both of hello following:</span></span>

* <span data-ttu-id="4b1a8-307">Párhuzamossági hatékony végrehajtásának szabályozásához helyreállítási automatikus hello JSON objektumgrafikonok közvetlenül a hello adatbázismotor indexelése</span><span class="sxs-lookup"><span data-stu-id="4b1a8-307">Efficient implementation of concurrency control, recovery, automatic indexing of hello JSON object graphs directly in hello database engine</span></span>
* <span data-ttu-id="4b1a8-308">Természetesen kifejező folyamatábrán, a változó hatókörének, a hozzárendelés és a kivételkezelő primitívek az adatbázis tranzakcióihoz közvetlenül tekintetében hello JavaScript programozási nyelv integrációja</span><span class="sxs-lookup"><span data-stu-id="4b1a8-308">Naturally expressing control flow, variable scoping, assignment and integration of exception handling primitives with database transactions directly in terms of hello JavaScript programming language</span></span>

<span data-ttu-id="4b1a8-309">hello JavaScript-logika regisztrálva, a gyűjtemény szintjén majd kiadhatnak hello gyűjteményben megadott Helyadatbázis-műveletek hello dokumentumokat.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-309">hello JavaScript logic registered at a collection level can then issue database operations on hello documents of hello given collection.</span></span> <span data-ttu-id="4b1a8-310">Cosmos DB implicit módon JavaScript-alapú tárolt eljárások és eseményindítók belül pillanatkép-elkülönítéssel között egy környezeti ACID-tranzakciókat becsomagolja hello dokumentumok egy gyűjteményen belül.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-310">Cosmos DB implicitly wraps hello JavaScript based stored procedures and triggers within an ambient ACID transactions with snapshot isolation across documents within a collection.</span></span> <span data-ttu-id="4b1a8-311">A végrehajtása során hello Ha hello JavaScript kivételt jelez, majd hello teljes tranzakció megszakad.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-311">During hello course of its execution, if hello JavaScript throws an exception, then hello entire transaction is aborted.</span></span> <span data-ttu-id="4b1a8-312">hello eredményül kapott programozási modell egy nagyon egyszerű még hatékony.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-312">hello resulting programming model is a very simple yet powerful.</span></span> <span data-ttu-id="4b1a8-313">JavaScript fejlesztők "tartós" programozási modellt kap a szalagtár primitívek, valamint a megszokott nyelvi szerkezetek továbbra is használatakor.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-313">JavaScript developers get a “durable” programming model while still using their familiar language constructs and library primitives.</span></span>   

<span data-ttu-id="4b1a8-314">hello képességét tooexecute JavaScript közvetlenül belül hello adatbázis-motort hello azonos címterének, hello pufferkészlet lehetővé teszi, hogy performant és adatbázis-művelet hello dokumentumokon végzett gyűjtemény tranzakciós végrehajtását.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-314">hello ability tooexecute JavaScript directly within hello database engine in hello same address space as hello buffer pool enables performant and transactional execution of database operations against hello documents of a collection.</span></span> <span data-ttu-id="4b1a8-315">Ezenkívül Cosmos-adatbázis adatbázis-kezelő lehetővé teszi a mély kötelezettségvállalás toohello JSON, és a JavaScript kiküszöböli bármely alkalmazás hello típus rendszerek és hello adatbázis impedancia eltérést.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-315">Furthermore, Cosmos DB database engine makes a deep commitment toohello JSON and JavaScript eliminates any impedance mismatch between hello type systems of application and hello database.</span></span>   

<span data-ttu-id="4b1a8-316">Gyűjtemény létrehozása után regisztrálhatja tárolt eljárások, eseményindítók és felhasználó által megadott függvények használatával hello gyűjtemény [REST API-k](/rest/api/documentdb/) vagy bármelyik hello [ügyfél SDK-k](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="4b1a8-316">After creating a collection, you can register stored procedures, triggers and UDFs with a collection using hello [REST APIs](/rest/api/documentdb/) or any of hello [client SDKs](documentdb-sdk-dotnet.md).</span></span> <span data-ttu-id="4b1a8-317">A regisztrációt követően hivatkoznak, és azokat hajtható végre.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-317">After registration, you can reference and execute them.</span></span> <span data-ttu-id="4b1a8-318">Vegye figyelembe a hello következő tárolt eljárás írt teljes egészében a JavaScript-kódot hello két argumentummal (könyv nevét és Szerző neve) és új dokumentum létrehozása, lekérdezi egy dokumentumot, és frissíti azt – összes egy implicit ACID-tranzakción belül.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-318">Consider hello following stored procedure written entirely in JavaScript, hello code below takes two arguments (book name and author name) and creates a new document, queries for a document and then updates it – all within an implicit ACID transaction.</span></span> <span data-ttu-id="4b1a8-319">Hello végrehajtása során bármikor Ha a JavaScript kivételt vált ki, hello teljes tranzakció megszakítása.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-319">At any point during hello execution, if a JavaScript exception is thrown, hello entire transaction aborts.</span></span>

    function businessLogic(name, author) {
        var context = getContext();
        var collectionManager = context.getCollection();        
        var collectionLink = collectionManager.getSelfLink()

        // create a new document.
        collectionManager.createDocument(collectionLink,
            {id: name, author: author},
            function(err, documentCreated) {
                if(err) throw new Error(err.message);

                // filter documents by author
                var filterQuery = "SELECT * from root r WHERE r.author = 'George R.'";
                collectionManager.queryDocuments(collectionLink,
                    filterQuery,
                    function(err, matchingDocuments) {
                        if(err) throw new Error(err.message);

                        context.getResponse().setBody(matchingDocuments.length);

                        // Replace hello author name for all documents that satisfied hello query.
                        for (var i = 0; i < matchingDocuments.length; i++) {
                            matchingDocuments[i].author = "George R. R. Martin";
                            // we don’t need tooexecute a callback because they are in parallel
                            collectionManager.replaceDocument(matchingDocuments[i]._self,
                                matchingDocuments[i]);   
                        }
                    })
            })
    };

<span data-ttu-id="4b1a8-320">hello ügyfél "elküldhet a" hello fent JavaScript logika toohello adatbázis via HTTP POST tranzakciós végrehajtásához.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-320">hello client can “ship” hello above JavaScript logic toohello database for transactional execution via HTTP POST.</span></span> <span data-ttu-id="4b1a8-321">HTTP-metódus használatával kapcsolatos további információkért lásd: [Azure Cosmos DB erőforrások RESTful interakció](https://msdn.microsoft.com/library/azure/mt622086.aspx).</span><span class="sxs-lookup"><span data-stu-id="4b1a8-321">For more information about using HTTP methods, see [RESTful interactions with Azure Cosmos DB resources](https://msdn.microsoft.com/library/azure/mt622086.aspx).</span></span> 

    client.createStoredProcedureAsync(collection._self, {id: "CRUDProc", body: businessLogic})
       .then(function(createdStoredProcedure) {
            return client.executeStoredProcedureAsync(createdStoredProcedure.resource._self,
                "NoSQL Distilled",
                "Martin Fowler");
        })
        .then(function(result) {
            console.log(result);
        },
        function(error) {
            console.log(error);
        });


<span data-ttu-id="4b1a8-322">Figyelje meg, hogy hello adatbázis natív módon együttműködik a JSON és a JavaScript, mert nincs nincs rendszer Típuseltérés, nincs "OR leképezési" vagy a kód generálása magic szükséges.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-322">Notice that because hello database natively understands JSON and JavaScript, there is no type system mismatch, no “OR mapping” or code generation magic required.</span></span>   

<span data-ttu-id="4b1a8-323">Tárolt eljárások és eseményindítók kommunikálni egy adatgyűjtési és -hello dokumentumok egy jól meghatározott hálózatiobjektum-modellje, amely felfedi a hello kontextusban gyűjtemény segítségével egy gyűjteményen belül.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-323">Stored procedures and triggers interact with a collection and hello documents in a collection through a well-defined object model, which exposes hello current collection context.</span></span>  

<span data-ttu-id="4b1a8-324">A DocumentDB API is létrehozható, törlése, hello gyűjtemények olvasására vagy könnyen használatával vagy hello számba [REST API-k](/rest/api/documentdb/) vagy bármelyik hello [ügyfél SDK-k](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="4b1a8-324">Collections in hello DocumentDB API can be created, deleted, read or enumerated easily using either hello [REST APIs](/rest/api/documentdb/) or any of hello [client SDKs](documentdb-sdk-dotnet.md).</span></span> <span data-ttu-id="4b1a8-325">hello DocumentDB API mindig vagy hello metaadat-gyűjtemény lekérdezése az erős konzisztencia biztosítja.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-325">hello DocumentDB API always provides strong consistency for reading or querying hello metadata of a collection.</span></span> <span data-ttu-id="4b1a8-326">Egy gyűjtemény automatikus törlése biztosítja, hogy nem fér hozzá egyik hello dokumentumok, a mellékleteket, a tárolt eljárások, eseményindítók, és az abban szereplő felhasználó által megadott függvények.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-326">Deleting a collection automatically ensures that you cannot access any of hello documents, attachments, stored procedures, triggers, and UDFs contained within it.</span></span>   

## <a name="stored-procedures-triggers-and-user-defined-functions-udf"></a><span data-ttu-id="4b1a8-327">Tárolt eljárások, eseményindítók és felhasználó definiált függvény (UDF)</span><span class="sxs-lookup"><span data-stu-id="4b1a8-327">Stored procedures, triggers and User Defined Functions (UDF)</span></span>
<span data-ttu-id="4b1a8-328">Hello előző szakaszban leírtak írhat alkalmazás logika toorun közvetlenül belül hello adatbázismotor tranzakción belül.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-328">As described in hello previous section, you can write application logic toorun directly within a transaction inside of hello database engine.</span></span> <span data-ttu-id="4b1a8-329">hello alkalmazáslogika teljes egészében a JavaScript írhatók, és a tárolt eljárás, eseményindító vagy egy UDF modellezhető.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-329">hello application logic can be written entirely in JavaScript and can be modeled as a stored procedure, trigger or a UDF.</span></span> <span data-ttu-id="4b1a8-330">hello tárolt eljárás vagy eseményindító JavaScript-kód beszúrása, cserélje le, törlése, olvasása vagy a lekérdezés dokumentumok egy gyűjteményen belül.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-330">hello JavaScript code within a stored procedure or a trigger can insert, replace, delete, read or query documents within a collection.</span></span> <span data-ttu-id="4b1a8-331">A hello ugyanakkor, hello JavaScript egy UDF belül nem lehet beszúrni, cseréje vagy törölhetnek dokumentumokat.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-331">On hello other hand, hello JavaScript within a UDF cannot insert, replace, or delete documents.</span></span> <span data-ttu-id="4b1a8-332">Felhasználó által megadott függvények hello dokumentumok, a lekérdezés eredményhalmazából enumerálása, és előállít egy másik eredményhalmaz.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-332">UDFs enumerate hello documents of a query's result set and produce another result set.</span></span> <span data-ttu-id="4b1a8-333">A több-bérlős Cosmos DB egy szigorú foglalás alapú erőforrás irányítás érvénybe lépteti.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-333">For multi-tenancy, Cosmos DB enforces a strict reservation based resource governance.</span></span> <span data-ttu-id="4b1a8-334">Minden egyes tárolt eljárást, eseményindító vagy egy UDF lekérdezi az operációs rendszer erőforrások toodo rögzített quantum teendőit.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-334">Each stored procedure, trigger or a UDF gets a fixed quantum of operating system resources toodo its work.</span></span> <span data-ttu-id="4b1a8-335">Továbbá a tárolt eljárások, eseményindítók vagy felhasználó által megadott függvények külső JavaScript szalagtárak szemben nem lehet csatolni, és is feketelistára teszi hello erőforrás költségvetések toothem lefoglalt túllépése esetén.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-335">Furthermore, stored procedures, triggers or UDFs cannot link against external JavaScript libraries and are blacklisted if they exceed hello resource budgets allocated toothem.</span></span> <span data-ttu-id="4b1a8-336">Akkor regisztrálása, unregister tárolt eljárások, eseményindítók vagy felhasználó által megadott függvények használatával gyűjtemény hello REST API-k.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-336">You can register, unregister stored procedures, triggers or UDFs with a collection by using hello REST APIs.</span></span>  <span data-ttu-id="4b1a8-337">Regisztráláskor tárolt eljárás, eseményindító vagy egy UDF, előre összeállított és a rendszer, bájt kód, amely később hajtsa végre.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-337">Upon registration a stored procedure, trigger, or a UDF is pre-compiled and stored as byte code which gets executed later.</span></span> <span data-ttu-id="4b1a8-338">a következő szakasz hello bemutatják, hogyan használja a hello Cosmos DB JavaScript SDK tooregister, végrehajtási és regisztrációjának törlése a tárolt eljárás, eseményindító és egy UDF.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-338">hello following section illustrate how you can use hello Cosmos DB JavaScript SDK tooregister, execute, and unregister a stored procedure, trigger, and a UDF.</span></span> <span data-ttu-id="4b1a8-339">hello JavaScript SDK értéke egy egyszerű burkoló feletti hello [REST API-k](/rest/api/documentdb/).</span><span class="sxs-lookup"><span data-stu-id="4b1a8-339">hello JavaScript SDK is a simple wrapper over hello [REST APIs](/rest/api/documentdb/).</span></span> 

### <a name="registering-a-stored-procedure"></a><span data-ttu-id="4b1a8-340">A tárolt eljárás regisztrálása</span><span class="sxs-lookup"><span data-stu-id="4b1a8-340">Registering a stored procedure</span></span>
<span data-ttu-id="4b1a8-341">Regisztrációs tárolt eljárás egy új tárolt eljárás erőforrás egy gyűjtemény HTTP POST használatával hoz létre.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-341">Registration of a stored procedure creates a new stored procedure resource on a collection via HTTP POST.</span></span>  

    var storedProc = {
        id: "validateAndCreate",
        body: function (documentToCreate) {
            documentToCreate.id = documentToCreate.id.toUpperCase();

            var collectionManager = getContext().getCollection();
            collectionManager.createDocument(collectionManager.getSelfLink(),
                documentToCreate,
                function(err, documentCreated) {
                    if(err) throw new Error('Error while creating document: ' + err.message;
                    getContext().getResponse().setBody('success - created ' + 
                            documentCreated.name);
                });
        }
    };

    client.createStoredProcedureAsync(collection._self, storedProc)
        .then(function (createdStoredProcedure) {
            console.log("Successfully created stored procedure");
        }, function(error) {
            console.log("Error");
        });

### <a name="executing-a-stored-procedure"></a><span data-ttu-id="4b1a8-342">A tárolt eljárás végrehajtása</span><span class="sxs-lookup"><span data-stu-id="4b1a8-342">Executing a stored procedure</span></span>
<span data-ttu-id="4b1a8-343">A tárolt eljárás végrehajtása végezhető el egy HTTP POST elleni meglévő tárolt eljárás erőforrás kiállító úgy, hogy a paraméterek toohello eljárás hello kérés törzsében.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-343">Execution of a stored procedure is done by issuing an HTTP POST against an existing stored procedure resource by passing parameters toohello procedure in hello request body.</span></span>

    var inputDocument = {id : "document1", author: "G. G. Marquez"};
    client.executeStoredProcedureAsync(createdStoredProcedure.resource._self, inputDocument)
        .then(function(executionResult) {
            assert.equal(executionResult, "success - created DOCUMENT1");
        }, function(error) {
            console.log("Error");
        });

### <a name="unregistering-a-stored-procedure"></a><span data-ttu-id="4b1a8-344">A regisztráció megszüntetését tárolt eljárás</span><span class="sxs-lookup"><span data-stu-id="4b1a8-344">Unregistering a stored procedure</span></span>
<span data-ttu-id="4b1a8-345">Beállításjegyzékből való törlésekor a tárolt eljárás egy HTTP DELETE elleni meglévő tárolt eljárás erőforrás kiállításával egyszerűen történik.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-345">Unregistering a stored procedure is simply done by issuing an HTTP DELETE against an existing stored procedure resource.</span></span>   

    client.deleteStoredProcedureAsync(createdStoredProcedure.resource._self)
        .then(function (response) {
            return;
        }, function(error) {
            console.log("Error");
        });


### <a name="registering-a-pre-trigger"></a><span data-ttu-id="4b1a8-346">Regisztrálás előtti eseményindító</span><span class="sxs-lookup"><span data-stu-id="4b1a8-346">Registering a pre-trigger</span></span>
<span data-ttu-id="4b1a8-347">Új eseményindító erőforrás létrehozása egy gyűjteményen keresztül HTTP POST regisztrációs eseményindító végezhető el.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-347">Registration of a trigger is done by creating a new trigger resource on a collection via HTTP POST.</span></span> <span data-ttu-id="4b1a8-348">Ha hello eseményindító előre, vagy a feladás egy vagy több eseményindító és hello típusú műveletet lehet társítva (pl. létrehozása, Replace, Delete vagy az összes) is megadhat.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-348">You can specify if hello trigger is a pre or a post trigger and hello type of operation it can be associated with (e.g. Create, Replace, Delete, or All).</span></span>   

    var preTrigger = {
        id: "upperCaseId",
        body: function() {
                var item = getContext().getRequest().getBody();
                item.id = item.id.toUpperCase();
                getContext().getRequest().setBody(item);
        },
        triggerType: TriggerType.Pre,
        triggerOperation: TriggerOperation.All
    }

    client.createTriggerAsync(collection._self, preTrigger)
        .then(function (createdPreTrigger) {
            console.log("Successfully created trigger");
        }, function(error) {
            console.log("Error");
        });

### <a name="executing-a-pre-trigger"></a><span data-ttu-id="4b1a8-349">Egy előtti eseményindító végrehajtása</span><span class="sxs-lookup"><span data-stu-id="4b1a8-349">Executing a pre-trigger</span></span>
<span data-ttu-id="4b1a8-350">Egy eseményindító végrehajtása egy meglévő eseményindító nevét hello hello helyreállításkor hello POST/PUT vagy DELETE kérelmet hello kérelem fejléce dokumentum erőforrás megadásával történik.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-350">Execution of a trigger is done by specifying hello name of an existing trigger at hello time of issuing hello POST/PUT/DELETE request of a document resource via hello request header.</span></span>  

    client.createDocumentAsync(collection._self, { id: "doc1", key: "Love in hello Time of Cholera" }, { preTriggerInclude: "upperCaseId" })
        .then(function(createdDocument) {
            assert.equal(createdDocument.resource.id, "DOC1");
        }, function(error) {
            console.log("Error");
        });

### <a name="unregistering-a-pre-trigger"></a><span data-ttu-id="4b1a8-351">A regisztráció megszüntetését előtti eseményindító</span><span class="sxs-lookup"><span data-stu-id="4b1a8-351">Unregistering a pre-trigger</span></span>
<span data-ttu-id="4b1a8-352">Egy eseményindító regisztrációját kiadása egy HTTP DELETE eseményindító erőforrással ellen használatával egyszerűen történik.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-352">Unregistering a trigger is simply done via issuing an HTTP DELETE against an existing trigger resource.</span></span>  

    client.deleteTriggerAsync(createdPreTrigger._self);
        .then(function(response) {
            return;
        }, function(error) {
            console.log("Error");
        });

### <a name="registering-a-udf"></a><span data-ttu-id="4b1a8-353">Egy UDF regisztrálása</span><span class="sxs-lookup"><span data-stu-id="4b1a8-353">Registering a UDF</span></span>
<span data-ttu-id="4b1a8-354">Egy UDF-regisztráció UDF új erőforrás létrehozása egy gyűjteményen keresztül HTTP POST végezhető el.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-354">Registration of a UDF is done by creating a new UDF resource on a collection via HTTP POST.</span></span>  

    var udf = { 
        id: "mathSqrt",
        body: function(number) {
                return Math.sqrt(number);
        },
    };
    client.createUserDefinedFunctionAsync(collection._self, udf)
        .then(function (createdUdf) {
            console.log("Successfully created stored procedure");
        }, function(error) {
            console.log("Error");
        });

### <a name="executing-a-udf-as-part-of-hello-query"></a><span data-ttu-id="4b1a8-355">Egy UDF hello lekérdezés részeként végrehajtása</span><span class="sxs-lookup"><span data-stu-id="4b1a8-355">Executing a UDF as part of hello query</span></span>
<span data-ttu-id="4b1a8-356">Egy UDF hello SQL-lekérdezés részeként adható meg, és úgy tooextend hello alapszintű használt [SQL lekérdező nyelve a DocumentDB API hello](https://msdn.microsoft.com/library/azure/dn782250.aspx).</span><span class="sxs-lookup"><span data-stu-id="4b1a8-356">A UDF can be specified as part of hello SQL query and is used as a way tooextend hello core [SQL query language for hello DocumentDB API](https://msdn.microsoft.com/library/azure/dn782250.aspx).</span></span>

    var filterQuery = "SELECT udf.mathSqrt(r.Age) AS sqrtAge FROM root r WHERE r.FirstName='John'";
    client.queryDocuments(collection._self, filterQuery).toArrayAsync();
        .then(function(queryResponse) {
            var queryResponseDocuments = queryResponse.feed;
        }, function(error) {
            console.log("Error");
        });

### <a name="unregistering-a-udf"></a><span data-ttu-id="4b1a8-357">A regisztráció megszüntetését olyan UDF-ben</span><span class="sxs-lookup"><span data-stu-id="4b1a8-357">Unregistering a UDF</span></span>
<span data-ttu-id="4b1a8-358">Beállításjegyzékből való törlésekor a UDF egy HTTP DELETE elleni meglévő UDF erőforrás kiállításával egyszerűen történik.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-358">Unregistering a UDF is simply done by issuing an HTTP DELETE against an existing UDF resource.</span></span>  

    client.deleteUserDefinedFunctionAsync(createdUdf._self)
        .then(function(response) {
            return;
        }, function(error) {
            console.log("Error");
        });

<span data-ttu-id="4b1a8-359">Bár a fenti hello kódtöredékek bemutatta hello regisztrációs (POST), a regisztrációjának (PUT), a olvasás/list (GET) és a végrehajtási (POST) keresztül hello [JavaScript SDK](https://github.com/Azure/azure-documentdb-js), használhatja a hello [REST API-k](/rest/api/documentdb/) vagy más [ügyfél SDK-k](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="4b1a8-359">Although hello snippets above showed hello registration (POST), unregistration (PUT), read/list (GET) and execution (POST) via hello [JavaScript SDK](https://github.com/Azure/azure-documentdb-js), you can also use hello [REST APIs](/rest/api/documentdb/) or other [client SDKs](documentdb-sdk-dotnet.md).</span></span> 

## <a name="documents"></a><span data-ttu-id="4b1a8-360">Dokumentumok</span><span class="sxs-lookup"><span data-stu-id="4b1a8-360">Documents</span></span>
<span data-ttu-id="4b1a8-361">Insert, cserélje le, törlése, olvashatja, számbavétele és lekérdezni egy gyűjtemény tetszőleges JSON-dokumentumokat.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-361">You can insert, replace, delete, read, enumerate and query arbitrary JSON documents in a collection.</span></span> <span data-ttu-id="4b1a8-362">Cosmos DB határozza meg, hogy semmilyen sémát, és nem igényel másodlagos indexek sorrendje toosupport egy gyűjtemény dokumentumok lekérdezését.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-362">Cosmos DB does not mandate any schema and does not require secondary indexes in order toosupport querying over documents in a collection.</span></span> <span data-ttu-id="4b1a8-363">hello maximális dokumentum mérete 2 MB.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-363">hello maximum size for a document is 2 MB.</span></span>   

<span data-ttu-id="4b1a8-364">Folyamatban egy valóban megnyitott adatbázis-szolgáltatás, Cosmos DB nem készlet semmilyen speciális adattípusok (pl. dátum idő) vagy adott kódolások JSON-dokumentumok.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-364">Being a truly open database service, Cosmos DB does not invent any specialized data types (e.g. date time) or specific encodings for JSON documents.</span></span> <span data-ttu-id="4b1a8-365">Vegye figyelembe, hogy Cosmos DB nincs szükség semmilyen különleges JSON egyezmények toocodify hello közötti kapcsolatok különböző dokumentumok; hello Cosmos-adatbázis SQL-szintaxis biztosít nagyon hatékony hierarchikus és relációs lekérdezési operátorok tooquery és a projekt dokumentumok különleges jegyzeteket vagy dokumentumok megkülönböztető tulajdonságai között szükség toocodify kapcsolatok nélkül.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-365">Note that Cosmos DB does not require any special JSON conventions toocodify hello relationships among various documents; hello SQL syntax of Cosmos DB provides very powerful hierarchical and relational query operators tooquery and project documents without any special annotations or need toocodify relationships among documents using distinguished properties.</span></span>  

<span data-ttu-id="4b1a8-366">Mint minden más erőforrásnál dokumentumok hozhatók létre, helyett törölni, olvassa el, számba és lekérdezett egyszerűen a REST API-k vagy bármelyik hello segítségével [ügyfél SDK-k](documentdb-sdk-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="4b1a8-366">As with all other resources, documents can be created, replaced, deleted, read, enumerated and queried easily using either REST APIs or any of hello [client SDKs](documentdb-sdk-dotnet.md).</span></span> <span data-ttu-id="4b1a8-367">Dokumentum törlése azonnal területet szabadít fel hello kvóta megfelelő tooall beágyazott hello mellékletek.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-367">Deleting a document instantly frees up hello quota corresponding tooall of hello nested attachments.</span></span> <span data-ttu-id="4b1a8-368">hello olvassa el a dokumentumok konzisztenciaszint hello adatbázisfiók hello konzisztencia házirend következik.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-368">hello read consistency level of documents follows hello consistency policy on hello database account.</span></span> <span data-ttu-id="4b1a8-369">Ez a házirend attól függően, hogy az adatok konzisztenciájának követelményeinek, az alkalmazás kérelem alapon felülbírálható.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-369">This policy can be overridden on a per-request basis depending on data consistency requirements of your application.</span></span> <span data-ttu-id="4b1a8-370">Dokumentumok lekérdezésekor hello olvasási módban a hello gyűjteményen indexelő konzisztencia követi hello.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-370">When querying documents, hello read consistency follows hello indexing mode set on hello collection.</span></span> <span data-ttu-id="4b1a8-371">A "konzisztens" Ez a következő hello fiók konzisztencia házirend.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-371">For “consistent”, this follows hello account’s consistency policy.</span></span> 

## <a name="attachments-and-media"></a><span data-ttu-id="4b1a8-372">Mellékletek és az adathordozó</span><span class="sxs-lookup"><span data-stu-id="4b1a8-372">Attachments and media</span></span>
<span data-ttu-id="4b1a8-373">Cosmos DB toostore bináris blobok/media Cosmos DB (legfeljebb 2 GB fiókonként) vagy saját távoli médiatárbeli tooyour lehetővé teszi.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-373">Cosmos DB allows you toostore binary blobs/media either with Cosmos DB (maximum of 2 GB per account) or tooyour own remote media store.</span></span> <span data-ttu-id="4b1a8-374">Azt is lehetővé teszi egy media nevű melléklet különleges dokumentum tekintetében toorepresent hello metaadatait.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-374">It also allows you toorepresent hello metadata of a media in terms of a special document called attachment.</span></span> <span data-ttu-id="4b1a8-375">A Cosmos DB mellékletet hivatkozások hello media/blob máshol tárolt különleges (JSON) dokumentum.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-375">An attachment in Cosmos DB is a special (JSON) document that references hello media/blob stored elsewhere.</span></span> <span data-ttu-id="4b1a8-376">Csatolmány egyszerűen egy különleges dokumentumot, amely hello metaadatok (például hely, Szerző stb.) egy olyan távoli media storage-ban tárolt adathordozó rögzíti.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-376">An attachment is simply a special document that captures hello metadata (e.g. location, author etc.) of a media stored in a remote media storage.</span></span> 

<span data-ttu-id="4b1a8-377">Fontolja meg egy közösségi olvasási alkalmazást, amely Cosmos DB toostore szabadkézi jegyzetek használ, és megjegyzéseket, beleértve a metaadatok kiemeli, könyvjelzők, minősítések, stb. tartozó, egy adott felhasználó e-könyv kedveli/dislikes.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-377">Consider a social reading application which uses Cosmos DB toostore ink annotations, and metadata including comments, highlights, bookmarks, ratings, likes/dislikes etc. associated for an e-book of a given user.</span></span>   

* <span data-ttu-id="4b1a8-378">hello hello könyv maga tartalmát tárolja hello media tároló vagy egy távoli médiatárbeli vagy Cosmos DB adatbázisfiók részeként elérhető.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-378">hello content of hello book itself is stored in hello media storage either available as part of Cosmos DB database account or a remote media store.</span></span> 
* <span data-ttu-id="4b1a8-379">Az alkalmazás minden felhasználó tárolhatjuk egy különálló dokumentumként – pl. /colls/joe/docs/book1 által hivatkozott dokumentum Füzet1 Joe metaadatait tárolja.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-379">An application may store each user’s metadata as a distinct document -- e.g. Joe’s metadata for book1 is stored in a document referenced by /colls/joe/docs/book1.</span></span> 
* <span data-ttu-id="4b1a8-380">Egy felhasználó egy adott könyv toohello tartalom lapjain mutató mellékletek hello megfelelő dokumentum pl. /colls/joe/docs/book1/chapter1 tárolt /colls/joe/docs/book1/chapter2 stb.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-380">Attachments pointing toohello content pages of a given book of a user are stored under hello corresponding document e.g. /colls/joe/docs/book1/chapter1, /colls/joe/docs/book1/chapter2 etc.</span></span> 

<span data-ttu-id="4b1a8-381">Vegye figyelembe, hogy a fent felsorolt hello példák rövid azonosítók tooconvey hello erőforrás hierarchia használatát.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-381">Note that hello examples listed above use friendly ids tooconvey hello resource hierarchy.</span></span> <span data-ttu-id="4b1a8-382">Erőforrások hello REST API-kon keresztül egyedi erőforrás-azonosítók keresztül érhetők el.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-382">Resources are accessed via hello REST APIs through unique resource ids.</span></span> 

<span data-ttu-id="4b1a8-383">Hello adathordozó Cosmos DB által felügyelt hello _media tulajdonság hello mellékletek hello media az URI hivatkozik.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-383">For hello media that is managed by Cosmos DB, hello _media property of hello attachment will reference hello media by its URI.</span></span> <span data-ttu-id="4b1a8-384">Cosmos DB toogarbage gyűjtése hello media biztosítja, ha az összes fennmaradó hivatkozást hello eldobott.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-384">Cosmos DB will ensure toogarbage collect hello media when all of hello outstanding references are dropped.</span></span> <span data-ttu-id="4b1a8-385">Cosmos DB automatikusan hozza létre hello melléklet hello új adathordozó feltöltésekor és hello _media toopoint toohello újonnan hozzáadott media tölti fel.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-385">Cosmos DB automatically generates hello attachment when you upload hello new media and populates hello _media toopoint toohello newly added media.</span></span> <span data-ttu-id="4b1a8-386">Ha a távoli blob-tárolóban (például a OneDrive, az Azure Storage DropBox stb.) által felügyelt toostore hello media, mellékletek tooreference hello media továbbra is használhatja.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-386">If you choose toostore hello media in a remote blob store managed by you (e.g. OneDrive, Azure Storage, DropBox etc), you can still use attachments tooreference hello media.</span></span> <span data-ttu-id="4b1a8-387">Ebben az esetben létrehoz hello melléklet saját magának, és feltölti a _media tulajdonsága.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-387">In this case, you will create hello attachment yourself and populate its _media property.</span></span>   

<span data-ttu-id="4b1a8-388">Csakúgy, mint minden más erőforrásnál mellékletek hozhatók létre, cserélni, törlése, olvassa el vagy számba egyszerűen a REST API-k vagy bármelyik hello ügyfél SDK-k használatával.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-388">As with all other resources, attachments can be created, replaced, deleted, read or enumerated easily using either REST APIs or any of hello client SDKs.</span></span> <span data-ttu-id="4b1a8-389">A dokumentumok, hello olvasás konzisztenciaszint mellékletek következik hello konzisztencia házirend hello adatbázis-fiók.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-389">As with documents, hello read consistency level of attachments follows hello consistency policy on hello database account.</span></span> <span data-ttu-id="4b1a8-390">Ez a házirend attól függően, hogy az adatok konzisztenciájának követelményeinek, az alkalmazás kérelem alapon felülbírálható.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-390">This policy can be overridden on a per-request basis depending on data consistency requirements of your application.</span></span> <span data-ttu-id="4b1a8-391">Mellékletek lekérdezésekor hello olvasási módban a hello gyűjteményen indexelő konzisztencia követi hello.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-391">When querying for attachments, hello read consistency follows hello indexing mode set on hello collection.</span></span> <span data-ttu-id="4b1a8-392">A "konzisztens" Ez a következő hello fiók konzisztencia házirend.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-392">For “consistent”, this follows hello account’s consistency policy.</span></span> 
 

## <a name="users"></a><span data-ttu-id="4b1a8-393">Felhasználók</span><span class="sxs-lookup"><span data-stu-id="4b1a8-393">Users</span></span>
<span data-ttu-id="4b1a8-394">A Cosmos DB felhasználói engedélyek csoportosítása logikai névterének jelöli.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-394">A Cosmos DB user represents a logical namespace for grouping permissions.</span></span> <span data-ttu-id="4b1a8-395">Egy Cosmos DB felhasználói tooa felhasználó is megfelel az identity management rendszer vagy egy előre megadott alkalmazás-szerepkör.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-395">A Cosmos DB user may correspond tooa user in an identity management system or a predefined application role.</span></span> <span data-ttu-id="4b1a8-396">A Cosmos DB a felhasználó egyszerűen egy absztrakciós toogroup engedélyekkel az adatbázis jelöli.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-396">For Cosmos DB, a user simply represents an abstraction toogroup a set of permissions under a database.</span></span>   

<span data-ttu-id="4b1a8-397">Több-bérlős megvalósítása az alkalmazásban, a felhasználók az Cosmos Adatbázisba, amely megfelel a tooyour tényleges felhasználók vagy az alkalmazás hello bérlők is létrehozhat.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-397">For implementing multi-tenancy in your application, you can create users in Cosmos DB which corresponds tooyour actual users or hello tenants of your application.</span></span> <span data-ttu-id="4b1a8-398">Ezután létrehozhat egy adott felhasználó engedélyeit, amelyek megfelelnek a hozzáférés-vezérlés toohello keresztül különböző gyűjtemények, dokumentumok, a mellékletek, stb.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-398">You can then create permissions for a given user that correspond toohello access control over various collections, documents, attachments, etc.</span></span>   

<span data-ttu-id="4b1a8-399">Az alkalmazások a felhasználó növekedési rendelkező tooscale van, az adatok különböző módokon tooshard is elfogadja.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-399">As your applications need tooscale with your user growth, you can adopt various ways tooshard your data.</span></span> <span data-ttu-id="4b1a8-400">A felhasználók az alábbiak szerint is modell:</span><span class="sxs-lookup"><span data-stu-id="4b1a8-400">You can model each of your users as follows:</span></span>   

* <span data-ttu-id="4b1a8-401">Minden felhasználó maps tooa adatbázis.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-401">Each user maps tooa database.</span></span>
* <span data-ttu-id="4b1a8-402">Minden felhasználó maps tooa gyűjtemény.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-402">Each user maps tooa collection.</span></span> 
* <span data-ttu-id="4b1a8-403">Megfelelő toomultiple felhasználók dokumentumok nyissa meg dedikált tooa gyűjtemény.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-403">Documents corresponding toomultiple users go tooa dedicated collection.</span></span> 
* <span data-ttu-id="4b1a8-404">Megfelelő toomultiple felhasználók dokumentumok lépjen a gyűjtemények tooa készletét.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-404">Documents corresponding toomultiple users go tooa set of collections.</span></span>   

<span data-ttu-id="4b1a8-405">Hello megadott horizontális skálázási stratégia mellett dönt, függetlenül a tényleges felhasználók modell Cosmos DB adatbázisban felhasználóként, és a finom nyomtatott engedélyek tooeach felhasználót hozzárendelheti.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-405">Regardless of hello specific sharding strategy you choose, you can model your actual users as users in Cosmos DB database and associate fine grained permissions tooeach user.</span></span>  

<span data-ttu-id="4b1a8-406">![Felhasználói gyűjtemények][3]</span><span class="sxs-lookup"><span data-stu-id="4b1a8-406">![User collections][3]</span></span>  
<span data-ttu-id="4b1a8-407">**Horizontális azokat a stratégiákat és modellezési felhasználók**</span><span class="sxs-lookup"><span data-stu-id="4b1a8-407">**Sharding strategies and modeling users**</span></span>

<span data-ttu-id="4b1a8-408">Más erőforrások, például felhasználói Cosmos DB hozhatók létre, helyett, törlése, olvasása vagy számba egyszerűen a REST API-k vagy bármelyik hello ügyfél SDK-k használatával.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-408">Like all other resources, users in Cosmos DB can be created, replaced, deleted, read or enumerated easily using either REST APIs or any of hello client SDKs.</span></span> <span data-ttu-id="4b1a8-409">Cosmos DB mindig vagy egy felhasználói erőforrás hello metaadatok lekérdezése az erős konzisztencia biztosítja.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-409">Cosmos DB always provides strong consistency for reading or querying hello metadata of a user resource.</span></span> <span data-ttu-id="4b1a8-410">Válassza, hogy nem férhet hozzá az abban szereplő hello engedélyek biztosítja, hogy automatikusan törli a felhasználó érdemes.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-410">It is worth pointing out that deleting a user automatically ensures that you cannot access any of hello permissions contained within it.</span></span> <span data-ttu-id="4b1a8-411">Annak ellenére, hogy hello Cosmos DB úgy szabadít fel a hello kvóta hello engedélyek hello törölt felhasználói hello háttérben részeként, törölt hello engedélyek érhető el azonnal újra az Ön toouse.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-411">Even though hello Cosmos DB reclaims hello quota of hello permissions as part of hello deleted user in hello background, hello deleted permissions is available instantly again for you toouse.</span></span>  

## <a name="permissions"></a><span data-ttu-id="4b1a8-412">Engedélyek</span><span class="sxs-lookup"><span data-stu-id="4b1a8-412">Permissions</span></span>
<span data-ttu-id="4b1a8-413">Access control szempontból, erőforrások, például adatbázis-fiókokat, adatbázisok, felhasználók és engedéllyel minősülnek *felügyeleti* erőforrásokat, mivel ezek a rendszergazdai engedélyek szükségesek.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-413">From an access control perspective, resources such as database accounts, databases, users and permission are considered *administrative* resources since these require administrative permissions.</span></span> <span data-ttu-id="4b1a8-414">A hello ugyanakkor, beleértve hello gyűjtemények, dokumentumok, mellékletek, tárolt eljárások, eseményindítók, erőforrások és felhasználó által megadott függvények alapján egy adott adatbázisnak hatókörű, és figyelembe veendő *alkalmazás-erőforrásokat*.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-414">On hello other hand, resources including hello collections, documents, attachments, stored procedures, triggers, and UDFs are scoped under a given database and considered *application resources*.</span></span> <span data-ttu-id="4b1a8-415">Megfelelő toohello kétféle típusú erőforrások és a hozzáférésüket (azaz hello rendszergazdai és felhasználói) hello szerepkörtől, hello engedélyezési modell meghatározása kétféle *hívóbetűk*: *főkulcs* és *erőforráskulcs*.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-415">Corresponding toohello two types of resources and hello roles that access them (namely hello administrator and user), hello authorization model defines two types of *access keys*: *master key* and *resource key*.</span></span> <span data-ttu-id="4b1a8-416">hello főkulcs hello adatbázisfiók része, és biztosított toohello developer (vagy a rendszergazda) ki van kiépítés hello adatbázis-fiók.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-416">hello master key is a part of hello database account and is provided toohello developer (or administrator) who is provisioning hello database account.</span></span> <span data-ttu-id="4b1a8-417">A főkulcs szemantikájú rendszergazda, abban, hogy azok használt tooauthorize hozzáférés tooboth felügyeleti és alkalmazás-erőforrásokat.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-417">This master key has administrator semantics, in that it can be used tooauthorize access tooboth administrative and application resources.</span></span> <span data-ttu-id="4b1a8-418">Ezzel szemben egy erőforrás kulcsa a részletes elérési kulcsot, amely lehetővé teszi a hozzáférést tooa *adott* alkalmazás erőforrás.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-418">In contrast, a resource key is a granular access key that allows access tooa *specific* application resource.</span></span> <span data-ttu-id="4b1a8-419">Emiatt hello kapcsolatát hello felhasználói adatbázis rögzíti, és hello engedélyek hello felhasználó rendelkezik-e egy adott erőforráshoz (pl. gyűjtemény, a dokumentum, melléklet, tárolt eljárás, eseményindító vagy UDF-ben).</span><span class="sxs-lookup"><span data-stu-id="4b1a8-419">Thus, it captures hello relationship between hello user of a database and hello permissions hello user has for a specific resource (e.g. collection, document, attachment, stored procedure, trigger, or UDF).</span></span>   

<span data-ttu-id="4b1a8-420">hello csak úgy tooobtain egy erőforrás kulcsa által egy adott felhasználói engedélyt erőforrás létrehozása.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-420">hello only way tooobtain a resource key is by creating a permission resource under a given user.</span></span> <span data-ttu-id="4b1a8-421">Vegye figyelembe, hogy a rendelés toocreate engedély beolvasása, vagy a főkulcs biztosítani kell a hello authorization fejlécet.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-421">Note that In order toocreate or retrieve a permission, a master key must be presented in hello authorization header.</span></span> <span data-ttu-id="4b1a8-422">Engedély erőforrás ties hello erőforrás, hozzáférési és hello felhasználó.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-422">A permission resource ties hello resource, its access and hello user.</span></span> <span data-ttu-id="4b1a8-423">Engedély erőforrás létrehozása után hello felhasználónak csak toopresent hello társított erőforráskulcs rendelés toogain hozzáférés toohello megfelelő erőforrás a van szüksége.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-423">After creating a permission resource, hello user only needs toopresent hello associated resource key in order toogain access toohello relevant resource.</span></span> <span data-ttu-id="4b1a8-424">Emiatt egy erőforráskulcs tekinthető hello engedély erőforrás a logikai és kompakt megjelenítése.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-424">Hence, a resource key can be viewed as a logical and compact representation of hello permission resource.</span></span>  

<span data-ttu-id="4b1a8-425">Csakúgy, mint minden más erőforrásnál Cosmos DB engedélyek hozhatók létre, cserélni, törlése, olvassa el vagy számba egyszerűen a REST API-k vagy bármelyik hello ügyfél SDK-k használatával.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-425">As with all other resources, permissions in Cosmos DB can be created, replaced, deleted, read or enumerated easily using either REST APIs or any of hello client SDKs.</span></span> <span data-ttu-id="4b1a8-426">Cosmos DB mindig vagy az engedély hello metaadatok lekérdezése az erős konzisztencia biztosítja.</span><span class="sxs-lookup"><span data-stu-id="4b1a8-426">Cosmos DB always provides strong consistency for reading or querying hello metadata of a permission.</span></span> 

## <a name="next-steps"></a><span data-ttu-id="4b1a8-427">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="4b1a8-427">Next steps</span></span>
<span data-ttu-id="4b1a8-428">További tudnivalókat a HTTP-parancsokat kell használnia, erőforrásokkal [Cosmos DB erőforrások RESTful interakció](https://msdn.microsoft.com/library/azure/mt622086.aspx).</span><span class="sxs-lookup"><span data-stu-id="4b1a8-428">Learn more about working with resources by using HTTP commands in [RESTful interactions with Cosmos DB resources](https://msdn.microsoft.com/library/azure/mt622086.aspx).</span></span>

[1]: media/documentdb-resources/resources1.png
[2]: media/documentdb-resources/resources2.png
[3]: media/documentdb-resources/resources3.png

