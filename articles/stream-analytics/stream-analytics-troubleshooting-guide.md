---
title: "Azure Stream Analytics a hibaelhárítási útmutatója |} Microsoft Docs"
description: "A Stream Analytics-feladat hibaelhárítása"
keywords: "az útmutató hibaelhárítása"
documentationcenter: 
services: stream-analytics
author: jeffstokes72
manager: jhubbard
editor: cgronlun
ms.assetid: 
ms.service: stream-analytics
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: data-services
ms.date: 04/20/2017
ms.author: jeffstok
ms.openlocfilehash: 8ecf279047f06691cef1bc0db06888974405a9f0
ms.sourcegitcommit: 18ad9bc049589c8e44ed277f8f43dcaa483f3339
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 08/29/2017
---
# <a name="troubleshooting-guide-for-azure-stream-analytics"></a><span data-ttu-id="107c8-104">Azure Stream Analytics a hibaelhárítási útmutatója</span><span class="sxs-lookup"><span data-stu-id="107c8-104">Troubleshooting guide for Azure Stream Analytics</span></span>

<span data-ttu-id="107c8-105">Első ránézésre kell egy összetett elérhető Azure Stream Analytics hibaelhárítási is megjelenhetnek.</span><span class="sxs-lookup"><span data-stu-id="107c8-105">Azure Stream Analytics troubleshooting can appear to be a complex effort at first glance.</span></span> <span data-ttu-id="107c8-106">Után számos felhasználó dolgozik, ez az útmutató a folyamatot egyszerűbbé és távolítsa el a bemenetek, kimenetek, lekérdezések és funkciók a munka bizonytalanságát létrehoztunk.</span><span class="sxs-lookup"><span data-stu-id="107c8-106">After working with many users, we have created this guide to help streamline the process and remove the guesswork about your inputs, outputs, queries, and functions.</span></span>

## <a name="troubleshoot-your-stream-analytics-job"></a><span data-ttu-id="107c8-107">A Stream Analytics-feladat hibaelhárítása</span><span class="sxs-lookup"><span data-stu-id="107c8-107">Troubleshoot your Stream Analytics job</span></span>

<span data-ttu-id="107c8-108">A legjobb eredmény érdekében a Stream Analytics-feladat hibaelhárítása kövesse az alábbi iránymutatásokat:</span><span class="sxs-lookup"><span data-stu-id="107c8-108">For best results in troubleshooting your Stream Analytics job, use the following guidelines:</span></span>

1.  <span data-ttu-id="107c8-109">A kapcsolat ellenőrzése:</span><span class="sxs-lookup"><span data-stu-id="107c8-109">Test your connectivity:</span></span>
    - <span data-ttu-id="107c8-110">Ellenőrizze a kapcsolatot bemenetekhez és kimenetekhez használatával a **kapcsolat tesztelése** az egyes bemeneti és kimeneti gombra.</span><span class="sxs-lookup"><span data-stu-id="107c8-110">Verify connectivity to inputs and outputs by using the **Test Connection** button for each input and output.</span></span>

2.  <span data-ttu-id="107c8-111">Vizsgálja meg a bemeneti adatokat:</span><span class="sxs-lookup"><span data-stu-id="107c8-111">Examine your input data:</span></span>
    - <span data-ttu-id="107c8-112">Győződjön meg arról, hogy bemeneti adat áramlik az Eseményközpont, használja a [Service Bus Explorer](https://code.msdn.microsoft.com/windowsapps/Service-Bus-Explorer-f2abca5a) (Ha használja az Event Hubs bemeneti) Azure Event Hubs való kapcsolódáshoz.</span><span class="sxs-lookup"><span data-stu-id="107c8-112">To verify that input data is flowing into Event Hub, use [Service Bus Explorer](https://code.msdn.microsoft.com/windowsapps/Service-Bus-Explorer-f2abca5a) to connect to Azure Event Hub (if Event Hub input is used).</span></span>  
    - <span data-ttu-id="107c8-113">Használja a [ **mintaadatok** ](stream-analytics-sample-data-input.md) egyes bemeneti gombra, és töltse le a bemeneti adatot.</span><span class="sxs-lookup"><span data-stu-id="107c8-113">Use the [**Sample Data**](stream-analytics-sample-data-input.md) button for each input, and download the input sample data.</span></span>
    - <span data-ttu-id="107c8-114">Vizsgálja meg a mintaadatokat az adatok az alakzat megértése: a séma és a [adattípusok](https://msdn.microsoft.com/library/azure/dn835065.aspx).</span><span class="sxs-lookup"><span data-stu-id="107c8-114">Inspect the sample data to understand the shape of the data: the schema and the [data types](https://msdn.microsoft.com/library/azure/dn835065.aspx).</span></span>

3.  <span data-ttu-id="107c8-115">A lekérdezés tesztelése:</span><span class="sxs-lookup"><span data-stu-id="107c8-115">Test your query:</span></span>
    - <span data-ttu-id="107c8-116">Az a **lekérdezés** lapon a **tesztelése** a lekérdezés tesztelése gombra, és használja a letöltött mintaadatok [a lekérdezés teszteléséhez](stream-analytics-test-query.md).</span><span class="sxs-lookup"><span data-stu-id="107c8-116">On the **Query** tab, use the **Test** button to test the query, and use the downloaded sample data to [test the query](stream-analytics-test-query.md).</span></span> <span data-ttu-id="107c8-117">Vizsgálja meg az esetleges hibákat, és próbálja meg kijavítani őket.</span><span class="sxs-lookup"><span data-stu-id="107c8-117">Examine any errors and attempt to correct them.</span></span>
    - <span data-ttu-id="107c8-118">Ha [ **Timestamp By**](https://msdn.microsoft.com/library/azure/mt573293.aspx), ellenőrizze, hogy az események időbélyegeket nagyobb, mint a [feladat kezdési ideje](stream-analytics-out-of-order-and-late-events.md).</span><span class="sxs-lookup"><span data-stu-id="107c8-118">If you use [**Timestamp By**](https://msdn.microsoft.com/library/azure/mt573293.aspx), verify that the events have timestamps greater than the [job start time](stream-analytics-out-of-order-and-late-events.md).</span></span>

4.  <span data-ttu-id="107c8-119">A lekérdezés Debug:</span><span class="sxs-lookup"><span data-stu-id="107c8-119">Debug your query:</span></span>
    - <span data-ttu-id="107c8-120">Építse újra a lekérdezést fokozatosan egyszerű select utasítás összetettebb összesítések lépések segítségével.</span><span class="sxs-lookup"><span data-stu-id="107c8-120">Rebuild the query progressively from simple select statement to more complex aggregates by using steps.</span></span> <span data-ttu-id="107c8-121">A lekérdezés logika részletes készítéséhez használható [WITH](https://msdn.microsoft.com/library/azure/dn835049.aspx) záradékban.</span><span class="sxs-lookup"><span data-stu-id="107c8-121">To build up the query logic step by step, use [WITH](https://msdn.microsoft.com/library/azure/dn835049.aspx) clauses.</span></span>
    - <span data-ttu-id="107c8-122">Használjon [SELECT INTO](stream-analytics-select-into.md) hibakeresési lekérdezések lépéseit.</span><span class="sxs-lookup"><span data-stu-id="107c8-122">Use [SELECT INTO](stream-analytics-select-into.md) to debug query steps.</span></span>

5.  <span data-ttu-id="107c8-123">Közös nehézségek, például a kiküszöbölése:</span><span class="sxs-lookup"><span data-stu-id="107c8-123">Eliminate common pitfalls, such as:</span></span>
    - <span data-ttu-id="107c8-124">A [ **ahol** ](https://msdn.microsoft.com/library/azure/dn835048.aspx) záradék a lekérdezés a program kiszűri összes eseményt, és meggátolja, hogy a kimenetet létrehozása folyamatban.</span><span class="sxs-lookup"><span data-stu-id="107c8-124">A [**WHERE**](https://msdn.microsoft.com/library/azure/dn835048.aspx) clause in the query filtered out all events, preventing any output from being generated.</span></span>
    - <span data-ttu-id="107c8-125">Ablak funkciók használata esetén várja meg a teljes ablakidőtartam egy a lekérdezés eredményének megtekintéséhez.</span><span class="sxs-lookup"><span data-stu-id="107c8-125">When you use window functions, wait for the entire window duration to see an output from the query.</span></span>
    - <span data-ttu-id="107c8-126">Az időbélyeg események megelőzi a feladat kezdési időpontja, és ezért események eldobott.</span><span class="sxs-lookup"><span data-stu-id="107c8-126">The timestamp for events precedes the job start time and, therefore, events are being dropped.</span></span>

6.  <span data-ttu-id="107c8-127">Használja az esemény Rendezés:</span><span class="sxs-lookup"><span data-stu-id="107c8-127">Use event ordering:</span></span>
    - <span data-ttu-id="107c8-128">Ha az előző lépések működött, folytassa a **beállítások** panelhez, és válassza [ **esemény rendelési**](stream-analytics-out-of-order-and-late-events.md).</span><span class="sxs-lookup"><span data-stu-id="107c8-128">If all the previous steps worked fine, go to the **Settings** blade and select [**Event Ordering**](stream-analytics-out-of-order-and-late-events.md).</span></span> <span data-ttu-id="107c8-129">Győződjön meg arról, hogy ez a házirend beállítása adott esetben mi teljesen logikus.</span><span class="sxs-lookup"><span data-stu-id="107c8-129">Verify that this policy is configured for what makes sense in your scenario.</span></span> <span data-ttu-id="107c8-130">A házirend *nem* alkalmazni a **tesztelése** a lekérdezés tesztelése gombra.</span><span class="sxs-lookup"><span data-stu-id="107c8-130">The policy is *not* applied when you use the **Test** button to test the query.</span></span> <span data-ttu-id="107c8-131">Az eredménye egy különbségének a tesztelés böngészőn és a feladat futtatásával éles környezetben.</span><span class="sxs-lookup"><span data-stu-id="107c8-131">This result is one difference between testing in-browser versus running the job in production.</span></span>

7.  <span data-ttu-id="107c8-132">Hibakeresési metrikák használatával:</span><span class="sxs-lookup"><span data-stu-id="107c8-132">Debug by using metrics:</span></span>
    - <span data-ttu-id="107c8-133">Ha nincs kimenet (a lekérdezés alapján) várható időtartama után beszerezni, próbálja meg a következőket:</span><span class="sxs-lookup"><span data-stu-id="107c8-133">If you obtain no output after the expected duration (based on the query), try the following:</span></span>
        - <span data-ttu-id="107c8-134">Nézze meg [ **figyelési metrikákat** ](stream-analytics-monitoring.md) a a **figyelő** fülre. Az értékek összesítése, mert a metrikák késnek, néhány perc múlva.</span><span class="sxs-lookup"><span data-stu-id="107c8-134">Look at [**Monitoring Metrics**](stream-analytics-monitoring.md) on the **Monitor** tab. Because the values are aggregated, the metrics are delayed by a few minutes.</span></span>
            - <span data-ttu-id="107c8-135">Ha a bemeneti események > 0, a feladat a tudják olvasni a bemeneti adatok.</span><span class="sxs-lookup"><span data-stu-id="107c8-135">If Input Events > 0, the job is able to read input data.</span></span> <span data-ttu-id="107c8-136">Ha a bemeneti események nem > 0, majd:</span><span class="sxs-lookup"><span data-stu-id="107c8-136">If Input Events is not > 0, then:</span></span>
                - <span data-ttu-id="107c8-137">Hogy az adatforrás tartozik-e érvényes adatokat, ellenőrizze, hogy használatával [Service Bus Explorer](https://code.msdn.microsoft.com/windowsapps/Service-Bus-Explorer-f2abca5a).</span><span class="sxs-lookup"><span data-stu-id="107c8-137">To see whether the data source has valid data, check it by using [Service Bus Explorer](https://code.msdn.microsoft.com/windowsapps/Service-Bus-Explorer-f2abca5a).</span></span> <span data-ttu-id="107c8-138">Ez az ellenőrzés vonatkozik, ha a feladat az Event Hubs használja bemeneti adatként.</span><span class="sxs-lookup"><span data-stu-id="107c8-138">This check applies if the job is using Event Hub as input.</span></span>
                - <span data-ttu-id="107c8-139">Ellenőrizze, hogy találhatók-e az adatok szerializálási formátum és adatok kódolást várt módon.</span><span class="sxs-lookup"><span data-stu-id="107c8-139">Check to see whether the data serialization format and data encoding are as expected.</span></span>
                - <span data-ttu-id="107c8-140">Ha a feladat az Eseményközpontok használ, ellenőrizze, hogy az üzenet törzsét *Null*.</span><span class="sxs-lookup"><span data-stu-id="107c8-140">If the job is using an Event Hub, check to see whether the body of the message is *Null*.</span></span>
            - <span data-ttu-id="107c8-141">Ha adatok konvertálási hibák > 0 és kúszó, a következő okai lehetnek:</span><span class="sxs-lookup"><span data-stu-id="107c8-141">If Data Conversion Errors > 0 and climbing, the following might be true:</span></span>
                - <span data-ttu-id="107c8-142">Előfordulhat, hogy a feladat nem deszerializálható a események.</span><span class="sxs-lookup"><span data-stu-id="107c8-142">The job might not be able to de-serialize the events.</span></span>
                - <span data-ttu-id="107c8-143">Az esemény-séma nem egyeznek a definiálva, vagy a várt séma a lekérdezésben az események.</span><span class="sxs-lookup"><span data-stu-id="107c8-143">The event schema might not match the defined or expected schema of the events in the query.</span></span>
                - <span data-ttu-id="107c8-144">Az egyes mezőit a adattípusokat az esemény nem egyeznek elvárásainak.</span><span class="sxs-lookup"><span data-stu-id="107c8-144">The datatypes of some of the fields in the event might not match expectations.</span></span>
            - <span data-ttu-id="107c8-145">Ha futásidejű hibák > 0, az azt jelenti, hogy a feladat tud adatfogadás, de a lekérdezés feldolgozása közben hibákat generál.</span><span class="sxs-lookup"><span data-stu-id="107c8-145">If Runtime Errors > 0, it means that the job can receive the data but is generating errors while processing the query.</span></span>
                - <span data-ttu-id="107c8-146">Találja a hibák, a [naplók](../azure-resource-manager/resource-group-audit.md) és szűrést végezni *sikertelen* állapotát.</span><span class="sxs-lookup"><span data-stu-id="107c8-146">To find the errors, go to the [Audit Logs](../azure-resource-manager/resource-group-audit.md) and filter on *Failed* status.</span></span>
            - <span data-ttu-id="107c8-147">Ha InputEvents > 0 és OutputEvents = 0, az azt jelenti, hogy a következők egyike igaz:</span><span class="sxs-lookup"><span data-stu-id="107c8-147">If InputEvents > 0 and OutputEvents = 0, it means that one of the following is true:</span></span>
                - <span data-ttu-id="107c8-148">A lekérdezés feldolgozása nulla kimeneti eseményt eredményezett.</span><span class="sxs-lookup"><span data-stu-id="107c8-148">Query processing resulted in zero output events.</span></span>
                - <span data-ttu-id="107c8-149">Események mezők lehet vagy helytelen formátumú, ami azt eredményezi, nulla kimeneti lekérdezés feldolgozása után.</span><span class="sxs-lookup"><span data-stu-id="107c8-149">Events or its fields might be malformed, resulting in zero output after query processing.</span></span>
                - <span data-ttu-id="107c8-150">A feladat nem tudta elküldik az adatokat a [kimeneti fogadóját](stream-analytics-select-into.md) kapcsolatot vagy a hitelesítés okokból.</span><span class="sxs-lookup"><span data-stu-id="107c8-150">The job was unable to push data to the [output sink](stream-analytics-select-into.md) for connectivity or authentication reasons.</span></span>
        - <span data-ttu-id="107c8-151">A korábban említett hiba esetekben műveletek naplóüzenetek magyarázó további információt talál (többek között, mi történik), kivéve azokat az eseteket, ahol a lekérdezés logika program kiszűri az összes esemény.</span><span class="sxs-lookup"><span data-stu-id="107c8-151">In all the previously mentioned error cases, operations log messages explain additional details (including what is happening), except in cases where the query logic filtered out all events.</span></span> <span data-ttu-id="107c8-152">Több esemény feldolgozását hibák állít elő, ha a Stream Analytics naplózza az első három hibaüzenetek azonos típusú műveletek naplókba 10 percen belül.</span><span class="sxs-lookup"><span data-stu-id="107c8-152">If the processing of multiple events generates errors, Stream Analytics logs the first three error messages of the same type within 10 minutes to Operations logs.</span></span> <span data-ttu-id="107c8-153">Azután letiltja a további azonos hibát jelzett üzenetet kapja, "Hibák hogy túl gyorsan ezek van letiltva."</span><span class="sxs-lookup"><span data-stu-id="107c8-153">It then suppresses additional identical errors with a message that reads “Errors are happening too rapidly, these are being suppressed.”</span></span>

8. <span data-ttu-id="107c8-154">Hibakeresési naplózási és diagnosztikai naplók segítségével:</span><span class="sxs-lookup"><span data-stu-id="107c8-154">Debug by using audit and diagnostic logs:</span></span>
    - <span data-ttu-id="107c8-155">Használjon [naplók](../azure-resource-manager/resource-group-audit.md), és a szűrő azonosításához, és a hibakeresési hibákat.</span><span class="sxs-lookup"><span data-stu-id="107c8-155">Use [Audit Logs](../azure-resource-manager/resource-group-audit.md), and filter to identify and debug errors.</span></span>
    - <span data-ttu-id="107c8-156">Használjon [diagnosztikai naplók feladat](stream-analytics-job-diagnostic-logs.md) azonosításához, és a hibakeresési hibákat.</span><span class="sxs-lookup"><span data-stu-id="107c8-156">Use [job diagnostic logs](stream-analytics-job-diagnostic-logs.md) to identify and debug errors.</span></span>

9. <span data-ttu-id="107c8-157">Vizsgálja meg a kimenetek:</span><span class="sxs-lookup"><span data-stu-id="107c8-157">Examine the outputs:</span></span>
    - <span data-ttu-id="107c8-158">Ha a feladat állapota: *futtató*, attól függően, hogy meghatározzák a lekérdezésben, láthatja, hogy a kimenet a fogadó adatforrás mennyi.</span><span class="sxs-lookup"><span data-stu-id="107c8-158">When the job status is *Running*, depending on the duration that's stipulated in the query, you can see the output in the sink data source.</span></span>
    - <span data-ttu-id="107c8-159">Ha nem látható, hogy egy adott kimeneti típust kimenetek, átirányítja őket, amelyek kevésbé összetett, például egy Azure Blob kimeneti típusát.</span><span class="sxs-lookup"><span data-stu-id="107c8-159">If you cannot see outputs that are going to a specific output type, redirect them to an output type that is less complex, such as an Azure Blob.</span></span> <span data-ttu-id="107c8-160">Tártallózó használatával ellenőrizze, hogy a kimenet látható.</span><span class="sxs-lookup"><span data-stu-id="107c8-160">By using Storage Explorer, check to see whether the output can be seen.</span></span> <span data-ttu-id="107c8-161">Győződjön meg arról, hogy kimenetében szabályozási korlátai vannak megakadályozza az adatok fogadása.</span><span class="sxs-lookup"><span data-stu-id="107c8-161">Additionally, verify whether throttling limits at the output are preventing data from being received.</span></span>

10. <span data-ttu-id="107c8-162">Adatfolyam elemzés használata a feladat ábra metrikák:</span><span class="sxs-lookup"><span data-stu-id="107c8-162">Use data-flow analysis with job diagram metrics:</span></span>
    - <span data-ttu-id="107c8-163">Adatfolyam elemzése és a problémák azonosításához használja a [metrikákat a feladat ábra](stream-analytics-job-diagram-with-metrics.md).</span><span class="sxs-lookup"><span data-stu-id="107c8-163">To analyze data flow and identify issues, use the [job diagram with metrics](stream-analytics-job-diagram-with-metrics.md).</span></span>

11. <span data-ttu-id="107c8-164">Nyissa meg a támogatási esetet:</span><span class="sxs-lookup"><span data-stu-id="107c8-164">Open a support case:</span></span>
    - <span data-ttu-id="107c8-165">Végül, ha minden más meghiúsul, nyissa meg a Microsoft támogatási esetet, az előfizetés-azonosító használatával, amely tartalmazza a feladatot.</span><span class="sxs-lookup"><span data-stu-id="107c8-165">Finally, if all else fails, open a Microsoft support case by using the SubscriptionID that contains your job.</span></span>

## <a name="get-help"></a><span data-ttu-id="107c8-166">Segítségkérés</span><span class="sxs-lookup"><span data-stu-id="107c8-166">Get help</span></span>

<span data-ttu-id="107c8-167">Ha további segítségre van szüksége, próbálkozzon a [Azure Stream Analytics-fórumot](https://social.msdn.microsoft.com/Forums/en-US/home?forum=AzureStreamAnalytics).</span><span class="sxs-lookup"><span data-stu-id="107c8-167">For further assistance, try our [Azure Stream Analytics forum](https://social.msdn.microsoft.com/Forums/en-US/home?forum=AzureStreamAnalytics).</span></span>

## <a name="next-steps"></a><span data-ttu-id="107c8-168">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="107c8-168">Next steps</span></span>

* [<span data-ttu-id="107c8-169">Az Azure Stream Analytics bemutatása</span><span class="sxs-lookup"><span data-stu-id="107c8-169">Introduction to Azure Stream Analytics</span></span>](stream-analytics-introduction.md)
* <span data-ttu-id="107c8-170">[Get started using Azure Stream Analytics](stream-analytics-real-time-fraud-detection.md) (Bevezetés az Azure Stream Analytics használatába)</span><span class="sxs-lookup"><span data-stu-id="107c8-170">[Get started using Azure Stream Analytics](stream-analytics-real-time-fraud-detection.md)</span></span>
* <span data-ttu-id="107c8-171">[Scale Azure Stream Analytics jobs](stream-analytics-scale-jobs.md) (Azure Stream Analytics-feladatok méretezése)</span><span class="sxs-lookup"><span data-stu-id="107c8-171">[Scale Azure Stream Analytics jobs](stream-analytics-scale-jobs.md)</span></span>
* <span data-ttu-id="107c8-172">[Azure Stream Analytics Query Language Reference](https://msdn.microsoft.com/library/azure/dn834998.aspx) (Referencia az Azure Stream Analytics lekérdezési nyelvhez)</span><span class="sxs-lookup"><span data-stu-id="107c8-172">[Azure Stream Analytics Query Language Reference](https://msdn.microsoft.com/library/azure/dn834998.aspx)</span></span>
* [<span data-ttu-id="107c8-173">Az Azure Stream Analytics felügyeleti REST API referenciája</span><span class="sxs-lookup"><span data-stu-id="107c8-173">Azure Stream Analytics Management REST API Reference</span></span>](https://msdn.microsoft.com/library/azure/dn835031.aspx)
