# <a name="get-started-using-azure-stream-analytics-real-time-fraud-detection"></a><span data-ttu-id="2da6b-101">Az Azure Stream Analytics első lépéseiben: valós idejű csalások felderítése</span><span class="sxs-lookup"><span data-stu-id="2da6b-101">Get started using Azure Stream Analytics: Real-time fraud detection</span></span>

<span data-ttu-id="2da6b-102">Ez az oktatóanyag egy végpontok közötti ábra bemutatja, hogyan nyújt az Azure Stream Analytics toouse.</span><span class="sxs-lookup"><span data-stu-id="2da6b-102">This tutorial provides an end-to-end illustration of how toouse Azure Stream Analytics.</span></span> <span data-ttu-id="2da6b-103">Az alábbiak végrehajtásának módját ismerheti meg:</span><span class="sxs-lookup"><span data-stu-id="2da6b-103">You learn how to:</span></span> 

* <span data-ttu-id="2da6b-104">Kapcsolja a streaming eseményeket az Azure Event Hubs egy példányát.</span><span class="sxs-lookup"><span data-stu-id="2da6b-104">Bring streaming events into an instance of Azure Event Hubs.</span></span> <span data-ttu-id="2da6b-105">Ebben az oktatóanyagban egy alkalmazást, amely azt adja meg, amely a mobiltelefon metaadat-bejegyzéseket adatfolyam szimulálja fogja használni.</span><span class="sxs-lookup"><span data-stu-id="2da6b-105">In this tutorial, you'll use an app that we provide that simulates a stream of mobile-phone metadata records.</span></span>

* <span data-ttu-id="2da6b-106">SQL-szerű Stream Analytics lekérdezések tootransform adatok, szoftverfelügyeleti, vagy csak a következő minták írása.</span><span class="sxs-lookup"><span data-stu-id="2da6b-106">Write SQL-like Stream Analytics queries tootransform data, aggregating information or looking for patterns.</span></span> <span data-ttu-id="2da6b-107">Hogyan toouse egy lekérdezés tooexamine bejövő streamből hello, és keresse meg, előfordulhat, hogy rosszindulatúak hívások jelenik meg.</span><span class="sxs-lookup"><span data-stu-id="2da6b-107">You will see how toouse a query tooexamine hello incoming stream and look for calls that might be fraudulent.</span></span>

* <span data-ttu-id="2da6b-108">Hello eredmények tooan kimeneti fogadóját (tárolás), amely további betekintést nyerjen elemezheti küldése.</span><span class="sxs-lookup"><span data-stu-id="2da6b-108">Send hello results tooan output sink (storage) that you can analyze for additional insights.</span></span> <span data-ttu-id="2da6b-109">Ebben az esetben akkor küld hello gyanús hívás adatok tooAzure Blob-tároló.</span><span class="sxs-lookup"><span data-stu-id="2da6b-109">In this case, you'll send hello suspicious call data tooAzure Blob storage.</span></span>

<span data-ttu-id="2da6b-110">Ebben az oktatóanyagban használjuk hello példa valós idejű csalások felderítéséhez, a telefonhívás-adatok alapján.</span><span class="sxs-lookup"><span data-stu-id="2da6b-110">In  this tutorial, we use hello example of real-time fraud detection based on phone-call data.</span></span> <span data-ttu-id="2da6b-111">De hello eljárás azt mutatja be olyan is alkalmas más típusú csalások felderítéséhez, például a hitelkártya csalás vagy azonosító adatokkal való visszaéléseket.</span><span class="sxs-lookup"><span data-stu-id="2da6b-111">But hello technique we illustrate is also suited for other types of fraud detection, such as credit card fraud or identity theft.</span></span> 

## <a name="scenario-telecommunications-and-sim-fraud-detection-in-real-time"></a><span data-ttu-id="2da6b-112">Forgatókönyv: Távközlési és SIM csalások felderítéséhez valós időben</span><span class="sxs-lookup"><span data-stu-id="2da6b-112">Scenario: Telecommunications and SIM fraud detection in real time</span></span>

<span data-ttu-id="2da6b-113">A távközlési vállalat rendelkezik nagy mennyiségű bejövő hívások adatait.</span><span class="sxs-lookup"><span data-stu-id="2da6b-113">A telecommunications company has a large volume of data for incoming calls.</span></span> <span data-ttu-id="2da6b-114">hello vállalat szeretne a csalárd toodetect meghívja valós időben, hogy a felhasználók értesítése, vagy állítsa le az adott szolgáltatást.</span><span class="sxs-lookup"><span data-stu-id="2da6b-114">hello company wants toodetect fraudulent calls in real time so that they can notify customers or shut down service for a specific number.</span></span> <span data-ttu-id="2da6b-115">Egy adott típusú SIM csalás magában foglalja a hello több hívás ugyanazzal az identitással körül hello azonos időben azonban földrajzilag különböző helyeken.</span><span class="sxs-lookup"><span data-stu-id="2da6b-115">One type of SIM fraud involves multiple calls from hello same identity around hello same time but in geographically different locations.</span></span> <span data-ttu-id="2da6b-116">toodetect csalás, az ilyen típusú hello a vállalat igényeinek tooexamine bejövő phone rögzíti, és meghatározott mintákat keressen – hello körül felé indított hívások ebben az esetben a különböző országokban egy időben.</span><span class="sxs-lookup"><span data-stu-id="2da6b-116">toodetect this type of fraud, hello company needs tooexamine incoming phone records and look for specific patterns—in this case, for calls made around hello same time in different countries.</span></span> <span data-ttu-id="2da6b-117">A telefon azt jelzi, hogy ebbe a kategóriába tartozik írt toostorage további elemzés céljából.</span><span class="sxs-lookup"><span data-stu-id="2da6b-117">Any phone records that fall into this category are written toostorage for subsequent analysis.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="2da6b-118">Előfeltételek</span><span class="sxs-lookup"><span data-stu-id="2da6b-118">Prerequisites</span></span>

<span data-ttu-id="2da6b-119">Ebben az oktatóanyagban a telefonhívás-adatok szimulálása lesz egy ügyfél-alkalmazással, amely mintát telefonhívás metaadatokat hoz létre.</span><span class="sxs-lookup"><span data-stu-id="2da6b-119">In this tutorial, you'll simulate phone-call data by using a client app that generates sample phone call metadata.</span></span> <span data-ttu-id="2da6b-120">Keresse meg például a csalárd hívások néhány hello azt jelzi, hogy az alkalmazás hello eredményez.</span><span class="sxs-lookup"><span data-stu-id="2da6b-120">Some of hello records that hello app produces look like fraudulent calls.</span></span> 

<span data-ttu-id="2da6b-121">Megkezdése előtt győződjön meg arról, hogy a következő hello:</span><span class="sxs-lookup"><span data-stu-id="2da6b-121">Before you start, make sure you have hello following:</span></span>

* <span data-ttu-id="2da6b-122">Egy Azure-fiók.</span><span class="sxs-lookup"><span data-stu-id="2da6b-122">An Azure account.</span></span>
* <span data-ttu-id="2da6b-123">hello hívás-esemény készítő alkalmazást.</span><span class="sxs-lookup"><span data-stu-id="2da6b-123">hello call-event generator app.</span></span> <span data-ttu-id="2da6b-124">Ez a letöltés hello kaphat [TelcoGenerator.zip fájl](http://download.microsoft.com/download/8/B/D/8BD50991-8D54-4F59-AB83-3354B69C8A7E/TelcoGenerator.zip) a hello Microsoft Download Center.</span><span class="sxs-lookup"><span data-stu-id="2da6b-124">You can get this by downloading hello [TelcoGenerator.zip file](http://download.microsoft.com/download/8/B/D/8BD50991-8D54-4F59-AB83-3354B69C8A7E/TelcoGenerator.zip) from hello Microsoft Download Center.</span></span> <span data-ttu-id="2da6b-125">Bontsa ki a csomagot egy mappába a számítógépen.</span><span class="sxs-lookup"><span data-stu-id="2da6b-125">Unzip this package into a folder on your computer.</span></span> <span data-ttu-id="2da6b-126">Ha azt szeretné, toosee hello forráskódját és a hibakereső futtatási hello app, kaphat a hello alkalmazás forráskódjának [GitHub](https://aka.ms/azure-stream-analytics-telcogenerator).</span><span class="sxs-lookup"><span data-stu-id="2da6b-126">If you want toosee hello source code and run hello app in a debugger, you can get hello app source code from [GitHub](https://aka.ms/azure-stream-analytics-telcogenerator).</span></span> 

    >[!NOTE]
    ><span data-ttu-id="2da6b-127">Előfordulhat, hogy a Windows hello letöltött .zip fájl blokkolja.</span><span class="sxs-lookup"><span data-stu-id="2da6b-127">Windows might block hello downloaded .zip file.</span></span> <span data-ttu-id="2da6b-128">Ha Ön nem bontsa ki azt, kattintson a jobb gombbal a hello fájlt, és válassza ki **tulajdonságok**.</span><span class="sxs-lookup"><span data-stu-id="2da6b-128">If you can't unzip it, right-click hello file and select **Properties**.</span></span> <span data-ttu-id="2da6b-129">Ha megjelenik a hello "ezt a fájlt egy másik számítógépről érkezett, és előfordulhat, hogy lehet letiltott toohelp a számítógép védelme" üzenet, jelölje be hello **Unblock** lehetőséget, majd kattintson a **alkalmaz**.</span><span class="sxs-lookup"><span data-stu-id="2da6b-129">If you see hello "This file came from another computer and might be blocked toohelp protect this computer" message, select hello **Unblock** option and then click **Apply**.</span></span>

<span data-ttu-id="2da6b-130">Ha azt szeretné, hogy hello Streaming Analytics-feladat eredményének tooexamine hello, is kell egy eszközt az Azure Blob Storage-tároló hello tartalom megtekintése.</span><span class="sxs-lookup"><span data-stu-id="2da6b-130">If you want tooexamine hello results of hello Streaming Analytics job, you also need a tool for viewing hello contents of a Azure Blob Storage container.</span></span> <span data-ttu-id="2da6b-131">Ha a Visual Studio használata esetén használhatja [Azure Tools for Visual Studio](https://docs.microsoft.com/en-us/azure/vs-azure-tools-storage-resources-server-explorer-browse-manage) vagy [Visual Studio Cloud Explorer](https://docs.microsoft.com/en-us/azure/vs-azure-tools-resources-managing-with-cloud-explorer).</span><span class="sxs-lookup"><span data-stu-id="2da6b-131">If you use Visual Studio, you can use [Azure Tools for Visual Studio](https://docs.microsoft.com/en-us/azure/vs-azure-tools-storage-resources-server-explorer-browse-manage) or [Visual Studio Cloud Explorer](https://docs.microsoft.com/en-us/azure/vs-azure-tools-resources-managing-with-cloud-explorer).</span></span> <span data-ttu-id="2da6b-132">Másik lehetőségként telepítheti önálló eszközök, például a [Azure Tártallózó](http://storageexplorer.com/) vagy [Azure Explorer](http://www.cerebrata.com/products/azure-explorer/introduction).</span><span class="sxs-lookup"><span data-stu-id="2da6b-132">Alternatively, you can install standalone tools like [Azure Storage Explorer](http://storageexplorer.com/) or [Azure Explorer](http://www.cerebrata.com/products/azure-explorer/introduction).</span></span> 

## <a name="create-an-azure-event-hubs-tooingest-events"></a><span data-ttu-id="2da6b-133">Hozzon létre az Azure event hubs tooingest események</span><span class="sxs-lookup"><span data-stu-id="2da6b-133">Create an Azure event hubs tooingest events</span></span>

<span data-ttu-id="2da6b-134">tooanalyze adatfolyam, akkor *betöltési* Azure be azt.</span><span class="sxs-lookup"><span data-stu-id="2da6b-134">tooanalyze a data stream, you *ingest* it into Azure.</span></span> <span data-ttu-id="2da6b-135">A szokásos módon tooingest adata toouse [Azure Event Hubs](../event-hubs/event-hubs-what-is-event-hubs.md), amely lehetővé teszi több millió eseményt másodpercenként és majd feldolgozni, és hello esemény információk tárolására.</span><span class="sxs-lookup"><span data-stu-id="2da6b-135">A typical way tooingest data is toouse [Azure Event Hubs](../event-hubs/event-hubs-what-is-event-hubs.md), which lets you ingest millions of events per second and then process and store hello event information.</span></span> <span data-ttu-id="2da6b-136">Ebben az oktatóanyagban létrehoz egy eseményközpontot, és már rendelkezik a hello hívás-készítő alkalmazás küldési hívás adatok toothat esemény eseményközpont.</span><span class="sxs-lookup"><span data-stu-id="2da6b-136">For this tutorial, you create an event hub and then have hello call-event generator app send call data toothat event hub.</span></span> <span data-ttu-id="2da6b-137">Az event hubs kapcsolatban bővebben lásd: hello [Azure Service Bus-dokumentáció](https://docs.microsoft.com/en-us/azure/service-bus/).</span><span class="sxs-lookup"><span data-stu-id="2da6b-137">For more about event hubs, see hello [Azure Service Bus documentation](https://docs.microsoft.com/en-us/azure/service-bus/).</span></span>

>[!NOTE]
><span data-ttu-id="2da6b-138">Ez az eljárás részletes verziójához, lásd: [az Event Hubs-névtér létrehozása, és az event hub használatával hello Azure-portálon](../event-hubs/event-hubs-create.md).</span><span class="sxs-lookup"><span data-stu-id="2da6b-138">For a more detailed version of this procedure, see [Create an Event Hubs namespace and an event hub using hello Azure portal](../event-hubs/event-hubs-create.md).</span></span> 

### <a name="create-a-namespace-and-event-hub"></a><span data-ttu-id="2da6b-139">A névtér és az event hub létrehozása</span><span class="sxs-lookup"><span data-stu-id="2da6b-139">Create a namespace and event hub</span></span>
<span data-ttu-id="2da6b-140">Ebben az eljárásban először létre kell hoznia egy event hub névtér, és ezután hozzáadhat egy event hub toothat namepsace.</span><span class="sxs-lookup"><span data-stu-id="2da6b-140">In this procedure, you first create an event hub namespace, and then you add an event hub toothat namepsace.</span></span> <span data-ttu-id="2da6b-141">Event hub névterek toologically csoport kapcsolódó esemény bus példányok.</span><span class="sxs-lookup"><span data-stu-id="2da6b-141">Event hub namespaces are used toologically group related event bus instances.</span></span> 

1. <span data-ttu-id="2da6b-142">Jelentkezzen be hello Azure-portálon, majd kattintson a **új** > **az eszközök internetes hálózatát** > **Eseményközpont**.</span><span class="sxs-lookup"><span data-stu-id="2da6b-142">Log  into hello Azure portal and click **New** > **Internet of Things** > **Event Hub**.</span></span> 

2. <span data-ttu-id="2da6b-143">A hello **névtér létrehozása** panelen adja meg például a névtér nevét `<yourname>-eh-ns-demo`.</span><span class="sxs-lookup"><span data-stu-id="2da6b-143">In hello **Create namespace** blade, enter a namespace name such as `<yourname>-eh-ns-demo`.</span></span> <span data-ttu-id="2da6b-144">Bármilyen név hello névtér esetében is használhatja, de hello nevének kell lennie egy URL-cím érvényes, és Azure között egyedinek kell lennie.</span><span class="sxs-lookup"><span data-stu-id="2da6b-144">You can use any name for hello namespace, but hello name must be valid for a URL and it must be unique across Azure.</span></span> 
    
3. <span data-ttu-id="2da6b-145">Válasszon egy előfizetést, és hozzon létre vagy válasszon egy erőforráscsoportot, majd kattintson **létrehozása**.</span><span class="sxs-lookup"><span data-stu-id="2da6b-145">Select a subscription and create or choose a resource group , then click **Create**.</span></span> 

    ![Az event hub névtér létrehozása](./media/stream-analytics-real-time-fraud-detection/stream-analytics-create-eventhub-namespace-new-portal.png)
 
4. <span data-ttu-id="2da6b-147">Hello névtér telepítése befejeződött, található hello event hub névtér elemre az Azure-erőforrások.</span><span class="sxs-lookup"><span data-stu-id="2da6b-147">When hello namespace has finished deploying, find hello event hub namespace in your list of Azure resources.</span></span> 

5. <span data-ttu-id="2da6b-148">Kattintson az új névtér hello, és hello névtér paneljén kattintson  **+ &nbsp;Eseményközpont**.</span><span class="sxs-lookup"><span data-stu-id="2da6b-148">Click hello new namespace, and in hello namespace blade, click **+&nbsp;Event Hub**.</span></span> 

    ![<span data-ttu-id="2da6b-149">hello Eseményközpont hozzáadása gombra egy új eseményközpont létrehozása</span><span class="sxs-lookup"><span data-stu-id="2da6b-149">hello Add Event Hub button for creating a new event hub</span></span> ](./media/stream-analytics-real-time-fraud-detection/stream-analytics-create-eventhub-button-new-portal.png)    
 
6. <span data-ttu-id="2da6b-150">Név hello új eseményközpont `sa-eh-frauddetection-demo`.</span><span class="sxs-lookup"><span data-stu-id="2da6b-150">Name hello new event hub `sa-eh-frauddetection-demo`.</span></span> <span data-ttu-id="2da6b-151">Használhat egy másik nevet.</span><span class="sxs-lookup"><span data-stu-id="2da6b-151">You can use a different name.</span></span> <span data-ttu-id="2da6b-152">Ha így tesz, jegyezze fel, mert később szüksége hello nevét.</span><span class="sxs-lookup"><span data-stu-id="2da6b-152">If you do, make a note of it, because you need hello name later.</span></span> <span data-ttu-id="2da6b-153">Nincs szükség a tooset az egyéb beállításokat hello event hub most.</span><span class="sxs-lookup"><span data-stu-id="2da6b-153">You don't need tooset any other options for hello event hub right now.</span></span>

    ![Egy új eseményközpont létrehozása panel](./media/stream-analytics-real-time-fraud-detection/stream-analytics-create-eventhub-new-portal.png)
    
 
7. <span data-ttu-id="2da6b-155">Kattintson a **Create** (Létrehozás) gombra.</span><span class="sxs-lookup"><span data-stu-id="2da6b-155">Click **Create**.</span></span>
### <a name="grant-access-toohello-event-hub-and-get-a-connection-string"></a><span data-ttu-id="2da6b-156">Engedélyezze a hozzáférést toohello eseményközpont, majd egy kapcsolati karakterlánc beolvasása</span><span class="sxs-lookup"><span data-stu-id="2da6b-156">Grant access toohello event hub and get a connection string</span></span>

<span data-ttu-id="2da6b-157">A folyamat küldhet adatokat tooan eseményközpont, hello eseményközpont olyan házirendet, amely lehetővé teszi, hogy a megfelelő hozzáférési kell rendelkeznie.</span><span class="sxs-lookup"><span data-stu-id="2da6b-157">Before a process can send data tooan event hub, hello event hub must have a policy that allows appropriate access.</span></span> <span data-ttu-id="2da6b-158">hello hozzáférési házirendet hoz létre egy kapcsolati karakterláncot, amely tartalmazza az engedélyezési adatok.</span><span class="sxs-lookup"><span data-stu-id="2da6b-158">hello access policy produces a connection string that includes authorization information.</span></span>

1.  <span data-ttu-id="2da6b-159">Hello esemény névtér paneljén kattintson **Event Hubs** , és kattintson az új eseményközpont hello nevére.</span><span class="sxs-lookup"><span data-stu-id="2da6b-159">In hello event namespace blade, click **Event Hubs** and then click hello name of your new event hub.</span></span>

2.  <span data-ttu-id="2da6b-160">Hello event hub paneljén kattintson **megosztott elérési házirendek** majd  **+ &nbsp;Hozzáadás**.</span><span class="sxs-lookup"><span data-stu-id="2da6b-160">In hello event hub blade, click **Shared access policies** and then click **+&nbsp;Add**.</span></span>

    >[!NOTE]
    ><span data-ttu-id="2da6b-161">Ellenőrizze, hogy hello eseményközpont, nem hello event hub névtér dolgozik.</span><span class="sxs-lookup"><span data-stu-id="2da6b-161">Make sure you're working with hello event hub, not hello event hub namespace.</span></span>

3.  <span data-ttu-id="2da6b-162">Nevű házirend hozzáadása `sa-policy-manage-demo` és **jogcím**, jelölje be **kezelése**.</span><span class="sxs-lookup"><span data-stu-id="2da6b-162">Add a policy named `sa-policy-manage-demo` and for **Claim**, select **Manage**.</span></span>

    ![Az új esemény központi hozzáférési házirend létrehozása panel](./media/stream-analytics-real-time-fraud-detection/stream-analytics-create-shared-access-policy-manage-new-portal.png)
 
4.  <span data-ttu-id="2da6b-164">Kattintson a **Create** (Létrehozás) gombra.</span><span class="sxs-lookup"><span data-stu-id="2da6b-164">Click **Create**.</span></span>

5.  <span data-ttu-id="2da6b-165">Hello házirend központi telepítése után kattintson rá a megosztott elérési házirendek hello listája.</span><span class="sxs-lookup"><span data-stu-id="2da6b-165">After hello policy has been deployed, click it in hello list of shared access policies.</span></span>

6.  <span data-ttu-id="2da6b-166">Keresés hello jelölőnégyzetet **KAPCSOLATI karakterlánc elsődleges kulcs** hello Másolás gombra következő toohello kapcsolati karakterláncot, majd.</span><span class="sxs-lookup"><span data-stu-id="2da6b-166">Find hello box labeled **CONNECTION STRING-PRIMARY KEY** and click hello copy button next toohello connection string.</span></span> 
    
    ![Hello házirend hello elsődleges kapcsolódási karakterlánc kulcs másolása](./media/stream-analytics-real-time-fraud-detection/stream-analytics-shared-access-policy-copy-connection-string-new-portal.png)
 
7.  <span data-ttu-id="2da6b-168">Hello kapcsolati karakterlánc illessze be a szövegszerkesztőben.</span><span class="sxs-lookup"><span data-stu-id="2da6b-168">Paste hello connection string into a text editor.</span></span> <span data-ttu-id="2da6b-169">Szükség van a kapcsolati karakterlánc hello a következő szakaszban néhány kisebb módosításokat tooit elvégzése után.</span><span class="sxs-lookup"><span data-stu-id="2da6b-169">You need this connection string for hello next section, after you make some small edits tooit.</span></span>

    <span data-ttu-id="2da6b-170">hello kapcsolati karakterlánc így néz ki:</span><span class="sxs-lookup"><span data-stu-id="2da6b-170">hello connection string looks like this:</span></span>

        Endpoint=sb://YOURNAME-eh-ns-demo.servicebus.windows.net/;SharedAccessKeyName=sa-policy-manage-demo;SharedAccessKey=Gw2NFZwU1Di+rxA2T+6hJYAtFExKRXaC2oSQa0ZsPkI=;EntityPath=sa-eh-frauddetection-demo

    <span data-ttu-id="2da6b-171">Figyelje meg, hogy hello kapcsolati karakterláncot tartalmaz-e több kulcs-érték párok, pontosvesszővel elválasztva: `Endpoint`, `SharedAccessKeyName`, `SharedAccessKey`, és `EntityPath`.</span><span class="sxs-lookup"><span data-stu-id="2da6b-171">Notice that hello connection string contains multiple key-value pairs, separated with semicolons: `Endpoint`, `SharedAccessKeyName`, `SharedAccessKey`, and `EntityPath`.</span></span>  

## <a name="configure-and-start-hello-event-generator-application"></a><span data-ttu-id="2da6b-172">Konfigurálni és elindítani a hello esemény készítő alkalmazás</span><span class="sxs-lookup"><span data-stu-id="2da6b-172">Configure and start hello event generator application</span></span>

<span data-ttu-id="2da6b-173">A kezdéshez hello TelcoGenerator app, konfigurálja úgy, hogy elküldi hívás rekordok toohello eseményközpont újonnan létrehozott.</span><span class="sxs-lookup"><span data-stu-id="2da6b-173">Before you start hello TelcoGenerator app, you configure it so that it will send call records toohello event hub you just created.</span></span>

### <a name="configure-hello-telcogeneratorapp"></a><span data-ttu-id="2da6b-174">Hello TelcoGeneratorapp konfigurálása</span><span class="sxs-lookup"><span data-stu-id="2da6b-174">Configure hello TelcoGeneratorapp</span></span>

1.  <span data-ttu-id="2da6b-175">Hello szerkesztő másolásakor hello kapcsolati karakterláncot, jegyezze fel a hello `EntityPath` értékét, és távolítsa el a hello `EntityPath` pár (ne feledje azt megelőző tooremove hello pontosvessző).</span><span class="sxs-lookup"><span data-stu-id="2da6b-175">In hello editor where you copied hello connection string, make a note of hello `EntityPath` value, and then remove hello `EntityPath` pair (don't forget tooremove hello semicolon that precedes it).</span></span> 

2.  <span data-ttu-id="2da6b-176">Amennyiben Ön unzipped hello TelcoGenerator.zip fájl hello mappában nyissa meg a hello telcodatagen.exe.config fájlt valamelyik szerkesztőben.</span><span class="sxs-lookup"><span data-stu-id="2da6b-176">In hello folder where you unzipped hello TelcoGenerator.zip file, open hello telcodatagen.exe.config file in an editor.</span></span> <span data-ttu-id="2da6b-177">(Nincs több .config kiterjesztésű fájl, ezért ügyeljen arra, hogy nyissa meg a hello jobbról egy.)</span><span class="sxs-lookup"><span data-stu-id="2da6b-177">(There is more than one .config file, so be sure that you open hello right one.)</span></span>

3.  <span data-ttu-id="2da6b-178">A hello `<appSettings>` elem, ehhez:</span><span class="sxs-lookup"><span data-stu-id="2da6b-178">In hello `<appSettings>` element, do this:</span></span>

    * <span data-ttu-id="2da6b-179">Állítsa be hello hello `EventHubName` kulcs toohello eseményközpont neveként (Ez azt jelenti, hogy toohello értéke hello entitás elérési út).</span><span class="sxs-lookup"><span data-stu-id="2da6b-179">Set hello value of hello `EventHubName` key toohello event hub name (that is, toohello value of hello entity path).</span></span>
    * <span data-ttu-id="2da6b-180">Állítsa be hello hello `Microsoft.ServiceBus.ConnectionString` kulcs toohello kapcsolati karakterláncot.</span><span class="sxs-lookup"><span data-stu-id="2da6b-180">Set hello value of hello `Microsoft.ServiceBus.ConnectionString` key toohello connection string.</span></span> 

    <span data-ttu-id="2da6b-181">Hello `<appSettings>` szakasz a következő példa hello fog megjelenni.</span><span class="sxs-lookup"><span data-stu-id="2da6b-181">hello `<appSettings>` section will look like hello following example.</span></span> <span data-ttu-id="2da6b-182">(Az átláthatóság érdekében a Microsoft hello sorok becsomagolt és néhány karaktert a hello engedélyezési jogkivonat.)</span><span class="sxs-lookup"><span data-stu-id="2da6b-182">(For clarity, we wrapped hello lines and removed some characters from hello authorization token.)</span></span>

    ![TelcoGenerator alkalmazás konfigurációs fájl megjelenítő hello esemény központ nevét és a kapcsolati karakterlánc](./media/stream-analytics-real-time-fraud-detection/stream-analytics-telcogenerator-config-file-app-settings.png)
 
4.  <span data-ttu-id="2da6b-184">Hello fájl mentéséhez.</span><span class="sxs-lookup"><span data-stu-id="2da6b-184">Save hello file.</span></span> 

### <a name="start-hello-app"></a><span data-ttu-id="2da6b-185">Indítsa el hello alkalmazást</span><span class="sxs-lookup"><span data-stu-id="2da6b-185">Start hello app</span></span>
1.  <span data-ttu-id="2da6b-186">Nyisson meg egy parancsablakot, és módosítsa a toohello mappát, ahol hello TelcoGenerator app tömörítetlen.</span><span class="sxs-lookup"><span data-stu-id="2da6b-186">Open a command window and change toohello folder where hello TelcoGenerator app is unzipped.</span></span>
2.  <span data-ttu-id="2da6b-187">Adja meg a következő parancs hello:</span><span class="sxs-lookup"><span data-stu-id="2da6b-187">Enter hello following command:</span></span>

        telcodatagen.exe 1000 .2 2

    <span data-ttu-id="2da6b-188">hello paraméterek a következők:</span><span class="sxs-lookup"><span data-stu-id="2da6b-188">hello parameters are:</span></span> 

    * <span data-ttu-id="2da6b-189">Óránként EK számát.</span><span class="sxs-lookup"><span data-stu-id="2da6b-189">Number of CDRs per hour.</span></span> 
    * <span data-ttu-id="2da6b-190">SIM kártyával csalás valószínűség: Milyen gyakran, minden hívások százalékában hello alkalmazást kell szimulálása csalárd hívásakor.</span><span class="sxs-lookup"><span data-stu-id="2da6b-190">SIM Card Fraud Probability: How often, as a percentage of all calls, that hello app should simulate a fraudulent call.</span></span> <span data-ttu-id="2da6b-191">.2 hello érték azt jelenti, hogy körülbelül 20 %-a hello hívás rekordok csalárd megjelenése.</span><span class="sxs-lookup"><span data-stu-id="2da6b-191">hello value .2 means that about 20% of hello call records will look fraudulent.</span></span>
    * <span data-ttu-id="2da6b-192">Hossza (óra).</span><span class="sxs-lookup"><span data-stu-id="2da6b-192">Duration in hours.</span></span> <span data-ttu-id="2da6b-193">alkalmazás hello órák száma hello kell futtatnia.</span><span class="sxs-lookup"><span data-stu-id="2da6b-193">hello number of hours that hello app should run.</span></span> <span data-ttu-id="2da6b-194">Is leállíthatja hello app bármikor hello parancssorból Ctrl + C billentyűt lenyomásával.</span><span class="sxs-lookup"><span data-stu-id="2da6b-194">You can also stop hello app any time by pressing Ctrl+C at hello command line.</span></span>

    <span data-ttu-id="2da6b-195">Néhány másodperc múlva hello alkalmazás indítása, telefonhívás rekordok megjelenítése az üdvözlő képernyőt, toohello eseményközpont küldi azokat.</span><span class="sxs-lookup"><span data-stu-id="2da6b-195">After a few seconds, hello app starts displaying phone call records on hello screen as it sends them toohello event hub.</span></span>

<span data-ttu-id="2da6b-196">A valós idejű csalások észlelése alkalmazásban használt hello kulcsmezők némelyike hello következő:</span><span class="sxs-lookup"><span data-stu-id="2da6b-196">Some of hello key fields that you will be using in this real-time fraud detection application are hello following:</span></span>

|<span data-ttu-id="2da6b-197">**Rekord**</span><span class="sxs-lookup"><span data-stu-id="2da6b-197">**Record**</span></span>|<span data-ttu-id="2da6b-198">**Meghatározása**</span><span class="sxs-lookup"><span data-stu-id="2da6b-198">**Definition**</span></span>|
|----------|--------------|
|`CallrecTime`|<span data-ttu-id="2da6b-199">hello hívás időbélyegzőjét hello kezdési időpontja.</span><span class="sxs-lookup"><span data-stu-id="2da6b-199">hello timestamp for hello call start time.</span></span> |
|`SwitchNum`|<span data-ttu-id="2da6b-200">hello telefon kapcsoló tooconnect hello hívás.</span><span class="sxs-lookup"><span data-stu-id="2da6b-200">hello telephone switch used tooconnect hello call.</span></span> <span data-ttu-id="2da6b-201">Ebben a példában hello kapcsolók karakterláncok, amelyek megfelelnek a hello származási (Egyesült Államok, Kína, UK, Németország vagy Ausztrália) vonatkoznak.</span><span class="sxs-lookup"><span data-stu-id="2da6b-201">For this example, hello switches are strings that represent hello country of origin (US, China, UK, Germany, or Australia).</span></span> |
|`CallingNum`|<span data-ttu-id="2da6b-202">hello hívó hello telefonszámát.</span><span class="sxs-lookup"><span data-stu-id="2da6b-202">hello phone number of hello caller.</span></span> |
|`CallingIMSI`|<span data-ttu-id="2da6b-203">hello International Mobile Subscriber Identity (IMSI).</span><span class="sxs-lookup"><span data-stu-id="2da6b-203">hello International Mobile Subscriber Identity (IMSI).</span></span> <span data-ttu-id="2da6b-204">Ez az egyedi azonosító hello hello hívó.</span><span class="sxs-lookup"><span data-stu-id="2da6b-204">This is hello Unique identifier of hello caller.</span></span> |
|`CalledNum`|<span data-ttu-id="2da6b-205">hello hello hívás címzett telefonszáma.</span><span class="sxs-lookup"><span data-stu-id="2da6b-205">hello phone number of hello call recipient.</span></span> |
|`CalledIMSI`|<span data-ttu-id="2da6b-206">Nemzetközi mobil előfizető Identity (IMSI).</span><span class="sxs-lookup"><span data-stu-id="2da6b-206">International Mobile Subscriber Identity (IMSI).</span></span> <span data-ttu-id="2da6b-207">Ez az egyedi azonosítója hello hello hívás címzettje.</span><span class="sxs-lookup"><span data-stu-id="2da6b-207">This is hello unique identifier of hello call recipient.</span></span> |


## <a name="create-a-stream-analytics-job-toomanage-streaming-data"></a><span data-ttu-id="2da6b-208">A Stream Analytics-feladat adatfolyam toomanage létrehozása</span><span class="sxs-lookup"><span data-stu-id="2da6b-208">Create a Stream Analytics job toomanage streaming data</span></span>

<span data-ttu-id="2da6b-209">Most, hogy egy az események streamjét a hívást, beállíthat egy Stream Analytics-feladat.</span><span class="sxs-lookup"><span data-stu-id="2da6b-209">Now that you have a stream of call events, you can set up a Stream Analytics job.</span></span> <span data-ttu-id="2da6b-210">hello feladat hello eseményközpont beállított adatok olvasását.</span><span class="sxs-lookup"><span data-stu-id="2da6b-210">hello job will read data from hello event hub that you set up.</span></span> 

### <a name="create-hello-job"></a><span data-ttu-id="2da6b-211">Hello feladat létrehozása</span><span class="sxs-lookup"><span data-stu-id="2da6b-211">Create hello job</span></span> 

1. <span data-ttu-id="2da6b-212">Hello Azure-portálon, kattintson **új** > **az eszközök internetes hálózatát** > **Stream Analytics-feladat**.</span><span class="sxs-lookup"><span data-stu-id="2da6b-212">In hello Azure portal, click **New** > **Internet of Things** > **Stream Analytics job**.</span></span>

2. <span data-ttu-id="2da6b-213">Név hello feladat `sa_frauddetection_job_demo`, adjon meg egy előfizetési, erőforráscsoportot és helyet.</span><span class="sxs-lookup"><span data-stu-id="2da6b-213">Name hello job `sa_frauddetection_job_demo`, specify a subscription, resource group, and location.</span></span>

    <span data-ttu-id="2da6b-214">Egy jó ötlet tooplace hello feladat és hello eseményközpont a hello ugyanabban a régióban a legjobb teljesítmény és, hogy nem kell fizetnie tootransfer adatok régiók között.</span><span class="sxs-lookup"><span data-stu-id="2da6b-214">It's a good idea tooplace hello job and hello event hub in hello same region for best performance and so that you don't pay tootransfer data between regions.</span></span>

    ![Új Stream Analytics-feladat létrehozása](./media/stream-analytics-real-time-fraud-detection/stream-analytics-create-sa-job-new-portal.png)

3. <span data-ttu-id="2da6b-216">Kattintson a **Create** (Létrehozás) gombra.</span><span class="sxs-lookup"><span data-stu-id="2da6b-216">Click **Create**.</span></span>

    <span data-ttu-id="2da6b-217">hello feladat jön létre, és hello portál megjeleníti a feladat részleteit.</span><span class="sxs-lookup"><span data-stu-id="2da6b-217">hello job is created and hello portal displays job details.</span></span> <span data-ttu-id="2da6b-218">Semmi sem fut-e még, azonban – akkor tooconfigure hello feldolgozás előtt indíthatók el.</span><span class="sxs-lookup"><span data-stu-id="2da6b-218">Nothing is running yet, though—you have tooconfigure hello job before it can be started.</span></span>

### <a name="configure-job-input"></a><span data-ttu-id="2da6b-219">Feladat bemeneti konfigurálása</span><span class="sxs-lookup"><span data-stu-id="2da6b-219">Configure job input</span></span>

1. <span data-ttu-id="2da6b-220">Hello irányítópult vagy hello **összes erőforrás** panelen, keresése és kijelölése hello `sa_frauddetection_job_demo` Stream Analytics-feladat.</span><span class="sxs-lookup"><span data-stu-id="2da6b-220">In hello dashboard or hello **All resources** blade, find and select hello `sa_frauddetection_job_demo` Stream Analytics job.</span></span> 
2. <span data-ttu-id="2da6b-221">A hello **feladat topológia** szakasza hello Stream Analytics-feladat paneljén kattintson hello **bemeneti** mezőbe.</span><span class="sxs-lookup"><span data-stu-id="2da6b-221">In hello **Job Topology** section of hello Stream Analytics job blade, click hello **Input** box.</span></span>

    ![A topológia hello Streaming Analytics-feladat panelen beviteli mezőbe](./media/stream-analytics-real-time-fraud-detection/stream-analytics-sa-job-input-box-new-portal.png)
 
3. <span data-ttu-id="2da6b-223">Kattintson a  **+ &nbsp;Hozzáadás** hello panel ezekkel az értékekkel, majd töltse ki:</span><span class="sxs-lookup"><span data-stu-id="2da6b-223">Click **+&nbsp;Add** and then fill out hello blade with these values:</span></span>

    * <span data-ttu-id="2da6b-224">**A bemeneti alias**: hello név használata `CallStream`.</span><span class="sxs-lookup"><span data-stu-id="2da6b-224">**Input alias**: Use hello name `CallStream`.</span></span> <span data-ttu-id="2da6b-225">Ha más nevet használjon, jegyezze fel a, mert később szüksége.</span><span class="sxs-lookup"><span data-stu-id="2da6b-225">If you use a different name, make a note of it because you'll need it later.</span></span>
    * <span data-ttu-id="2da6b-226">**Adatforrás típusa**: válasszon **adatfolyam**.</span><span class="sxs-lookup"><span data-stu-id="2da6b-226">**Source type**: Select **Data stream**.</span></span> <span data-ttu-id="2da6b-227">(**Referenciaadatok** toostatic keresési adatokat, amelyeket az oktatóanyag nem használ hivatkozik.)</span><span class="sxs-lookup"><span data-stu-id="2da6b-227">(**Reference data** refers toostatic lookup data, which you won't use in this tutorial.)</span></span>
    * <span data-ttu-id="2da6b-228">**Forrás**: válasszon **eseményközpont**.</span><span class="sxs-lookup"><span data-stu-id="2da6b-228">**Source**: Select **Event hub**.</span></span>
    * <span data-ttu-id="2da6b-229">**Beállítás importálása**: válasszon **eseményközpont használható a jelenlegi előfizetés**.</span><span class="sxs-lookup"><span data-stu-id="2da6b-229">**Import option**: Select **Use event hub from current subscription**.</span></span> 
    * <span data-ttu-id="2da6b-230">**Service bus-névtér**: Jelölje ki a korábban létrehozott hello esemény hub névteret (`<yourname>-eh-ns-demo`).</span><span class="sxs-lookup"><span data-stu-id="2da6b-230">**Service bus namespace**: Select hello event hub namespace that you created earlier (`<yourname>-eh-ns-demo`).</span></span>
    * <span data-ttu-id="2da6b-231">**Az Event hubs**: korábban létrehozott eseményközpont válassza hello (`sa-eh-frauddetection-demo`).</span><span class="sxs-lookup"><span data-stu-id="2da6b-231">**Event hub**: Select hello event hub that you created earlier (`sa-eh-frauddetection-demo`).</span></span>
    * <span data-ttu-id="2da6b-232">**Eseményközpont házirend neve**: válassza ki a korábban létrehozott hello hozzáférési házirend (`sa-policy-manage-demo`).</span><span class="sxs-lookup"><span data-stu-id="2da6b-232">**Event hub policy name**: Select hello access policy that you created earlier (`sa-policy-manage-demo`).</span></span>

    ![Új bemeneti Streaming Analytics-feladat létrehozása](./media/stream-analytics-real-time-fraud-detection/stream-analytics-create-sa-input-new-portal.png)

4. <span data-ttu-id="2da6b-234">Kattintson a **Create** (Létrehozás) gombra.</span><span class="sxs-lookup"><span data-stu-id="2da6b-234">Click **Create**.</span></span>

## <a name="create-queries-tootransform-real-time-data"></a><span data-ttu-id="2da6b-235">Lekérdezések létrehozása tootransform valós idejű adatok</span><span class="sxs-lookup"><span data-stu-id="2da6b-235">Create queries tootransform real-time data</span></span>

<span data-ttu-id="2da6b-236">Ezen a ponton rendelkezik egy Stream Analytics-feladat bejövő adatfolyam tooread beállítása.</span><span class="sxs-lookup"><span data-stu-id="2da6b-236">At this point, you have a Stream Analytics job set up tooread an incoming data stream.</span></span> <span data-ttu-id="2da6b-237">hello következő lépésre toocreate hello adatok valós idejű átalakítást.</span><span class="sxs-lookup"><span data-stu-id="2da6b-237">hello next step is toocreate a transformation that analyzes hello data in real time.</span></span> <span data-ttu-id="2da6b-238">Ehhez létrehozhat egy lekérdezést.</span><span class="sxs-lookup"><span data-stu-id="2da6b-238">You do this by creating a query.</span></span> <span data-ttu-id="2da6b-239">A Stream Analytics egy egyszerű, deklaratív lekérdezési modellel, amely leírja a valós idejű feldolgozással átalakítások támogatja.</span><span class="sxs-lookup"><span data-stu-id="2da6b-239">Stream Analytics supports a simple, declarative query model that describes transformations for real-time processing.</span></span> <span data-ttu-id="2da6b-240">hello lekérdezések egy SQL-szerű nyelv, amely rendelkezik a egyes kiterjesztések adott toostream analytics használja.</span><span class="sxs-lookup"><span data-stu-id="2da6b-240">hello queries use a SQL-like language that has some extensions specific toostream analytics.</span></span> 

<span data-ttu-id="2da6b-241">Egy nagyon egyszerű lekérdezést egyszerűen előfordulhat, hogy az összes bejövő hello-adatok olvasása.</span><span class="sxs-lookup"><span data-stu-id="2da6b-241">A very simple query might simply read all hello incoming data.</span></span> <span data-ttu-id="2da6b-242">Azonban Ön gyakran lekérdezéseket hozhat létre keresse meg a meghatározott adatok vagy kapcsolatok hello adataiban.</span><span class="sxs-lookup"><span data-stu-id="2da6b-242">However, you often create queries that look for specific data or for relationships in hello data.</span></span> <span data-ttu-id="2da6b-243">Ebben a szakaszban hello oktatóanyag létrehoz és teszteléséhez több lekérdezések toolearn néhány módszer egy bemeneti adatfolyam elemzéshez alakíthatja át.</span><span class="sxs-lookup"><span data-stu-id="2da6b-243">In this section of hello tutorial, you will create and test several queries toolearn a few ways in which you can transform an input stream for analysis.</span></span> 

<span data-ttu-id="2da6b-244">az itt létrehozott hello lekérdezések hello átalakított adatok toohello képernyő csak jeleníti meg.</span><span class="sxs-lookup"><span data-stu-id="2da6b-244">hello queries you create here will just display hello transformed data toohello screen.</span></span> <span data-ttu-id="2da6b-245">Egy későbbi szakasz ismerteti konfigurálhatja a kimeneti fogadóként és a lekérdezés hello átalakított adatok toothat fogadó írja.</span><span class="sxs-lookup"><span data-stu-id="2da6b-245">In a later section, you'll configure an output sink and a query that writes hello transformed data toothat sink.</span></span>

<span data-ttu-id="2da6b-246">toolearn hello nyelvi kapcsolatos további információkért lásd: hello [Azure Stream Analytics Query Language Reference](https://msdn.microsoft.com/library/dn834998.aspx).</span><span class="sxs-lookup"><span data-stu-id="2da6b-246">toolearn more about hello language, see hello [Azure Stream Analytics Query Language Reference](https://msdn.microsoft.com/library/dn834998.aspx).</span></span>

### <a name="get-sample-data-for-testing-queries"></a><span data-ttu-id="2da6b-247">Tesztelési lekérdezések minta-adatok beolvasása</span><span class="sxs-lookup"><span data-stu-id="2da6b-247">Get sample data for testing queries</span></span>

<span data-ttu-id="2da6b-248">hello TelcoGenerator alkalmazása elküldi hívás rekordok toohello eseményközpont, és a Stream Analytics-feladat az eseményközpont hello konfigurált tooread.</span><span class="sxs-lookup"><span data-stu-id="2da6b-248">hello TelcoGenerator app is sending call records toohello event hub, and your Stream Analytics job is configured tooread from hello event hub.</span></span> <span data-ttu-id="2da6b-249">A lekérdezés tootest hello feladat toomake meg arról, hogy helyesen van-e olvasási is használhatja.</span><span class="sxs-lookup"><span data-stu-id="2da6b-249">You can use a query tootest hello job toomake sure that it's reading correctly.</span></span> <span data-ttu-id="2da6b-250">túl a hello Azure-konzolon a lekérdezés tesztelése, mintaadatokat van szüksége.</span><span class="sxs-lookup"><span data-stu-id="2da6b-250">too test a query in hello Azure console, you need sample data.</span></span> <span data-ttu-id="2da6b-251">Ennél a bemutatónál mintaadatok lesz kinyerése hello adatfolyam hello eseményközpont az adatforrásból.</span><span class="sxs-lookup"><span data-stu-id="2da6b-251">For this walkthrough, you'll extract sample data from hello stream that's coming into hello event hub.</span></span>

1. <span data-ttu-id="2da6b-252">Ellenőrizze, hogy hello TelcoGenerator alkalmazást futtató és termelő hívást rögzíti.</span><span class="sxs-lookup"><span data-stu-id="2da6b-252">Make sure that hello TelcoGenerator app is running and producing call records.</span></span>
2. <span data-ttu-id="2da6b-253">Hello portálon vissza toohello Streaming Analytics-feladat panelen.</span><span class="sxs-lookup"><span data-stu-id="2da6b-253">In hello portal, return toohello Streaming Analytics job blade.</span></span> <span data-ttu-id="2da6b-254">(Ha korábban bezárta a hello panelen, keresse meg a `sa_frauddetection_job_demo` a hello **összes erőforrás** panel.)</span><span class="sxs-lookup"><span data-stu-id="2da6b-254">(If you closed hello blade, search for `sa_frauddetection_job_demo` in hello **All resources** blade.)</span></span>
3. <span data-ttu-id="2da6b-255">Kattintson a hello **lekérdezés** mezőbe.</span><span class="sxs-lookup"><span data-stu-id="2da6b-255">Click hello **Query** box.</span></span> <span data-ttu-id="2da6b-256">Azure hello bemenetek sorolja fel, és amelyet hello feladat van konfigurálva, és lehetővé teszi, hogy hozzon létre egy lekérdezést, amely lehetővé teszi hello bemeneti adatfolyam átalakítására, toohello kimeneti keresztül küldött.</span><span class="sxs-lookup"><span data-stu-id="2da6b-256">Azure lists hello inputs and outputs that are configured for hello job, and lets you create a query that lets you transform hello input stream as it is sent toohello output.</span></span>
4. <span data-ttu-id="2da6b-257">A hello **lekérdezés** panelen kattintson hello pontokból következő toohello `CallStream` adja meg, és válassza ki **az adatokat a bemeneti**.</span><span class="sxs-lookup"><span data-stu-id="2da6b-257">In hello **Query** blade, click hello dots next toohello `CallStream` input and then select **Sample data from input**.</span></span>

    ![Menü Beállítások toouse mintaadatainak hello Streaming Analytics-feladat bejegyzést, mintaadatokkal"bemeneti" kijelölve](./media/stream-analytics-real-time-fraud-detection/stream-analytics-create-sample-data-from-input.png)

    <span data-ttu-id="2da6b-259">Ekkor megnyílik egy panel, amely lehetővé teszi, hogy mennyi minta adatok tooget, mennyi ideig tooread hello bemeneti adatfolyam definiált adja meg.</span><span class="sxs-lookup"><span data-stu-id="2da6b-259">This opens a blade that lets you specify how much sample data tooget, defined in terms of how long tooread hello input stream.</span></span>

5. <span data-ttu-id="2da6b-260">Állítsa be **perc** too3 majd **OK**.</span><span class="sxs-lookup"><span data-stu-id="2da6b-260">Set **Minutes** too3 and then click **OK**.</span></span> 
    
    ![Mintavételi hello bemeneti adatfolyam, a "3 perc" kiválasztott beállítások.](./media/stream-analytics-real-time-fraud-detection/stream-analytics-input-create-sample-data.png)

    <span data-ttu-id="2da6b-262">Azure 3 percet értékelésével hello bemeneti adatfolyamból minták, és értesítést küld, amikor készen áll a mintaadatok hello.</span><span class="sxs-lookup"><span data-stu-id="2da6b-262">Azure samples 3 minutes' worth of data from hello input stream and notifies you when hello sample data is ready.</span></span> <span data-ttu-id="2da6b-263">(Ez időt vesz igénybe egy rövid ideig.)</span><span class="sxs-lookup"><span data-stu-id="2da6b-263">(This takes a short while.)</span></span> 

<span data-ttu-id="2da6b-264">hello mintaadatok ideiglenesen tárolja, és áll rendelkezésre, míg a hello lekérdezés ablak megnyitásához.</span><span class="sxs-lookup"><span data-stu-id="2da6b-264">hello sample data is stored temporarily and is available while you have hello query window open.</span></span> <span data-ttu-id="2da6b-265">Ha hello lekérdezési ablak bezárásához hello minta adatait a rendszer törli, és összekapcsolta toocreate mintaadatok új készletét.</span><span class="sxs-lookup"><span data-stu-id="2da6b-265">If you close hello query window, hello sample data is discarded, and you'll have toocreate a new set of sample data.</span></span> 

<span data-ttu-id="2da6b-266">Alternatív megoldásként egy .JSON kiterjesztésű fájlt, amely rendelkezik a mintaadatok azt kaphat [a Githubról](https://github.com/Azure/azure-stream-analytics/blob/master/Sample%20Data/telco.json), majd töltse fel az adott .JSON kiterjesztésű fájl toouse minta adatként történjen a hello `CallStream` bemeneti.</span><span class="sxs-lookup"><span data-stu-id="2da6b-266">As an alternative, you can get a .json file that has sample data in it [from GitHub](https://github.com/Azure/azure-stream-analytics/blob/master/Sample%20Data/telco.json), and then upload that .json file toouse as sample data for hello `CallStream` input .</span></span> 

### <a name="test-using-a-pass-through-query"></a><span data-ttu-id="2da6b-267">Csatlakoztatott lekérdezéssel tesztelése</span><span class="sxs-lookup"><span data-stu-id="2da6b-267">Test using a pass-through query</span></span>

<span data-ttu-id="2da6b-268">Szeretne tooarchive minden eseményt, ha használható a továbbított lekérdezést tooread hello hasznos hello esemény található összes hello mezőhöz.</span><span class="sxs-lookup"><span data-stu-id="2da6b-268">If you want tooarchive every event, you can use a pass-through query tooread all hello fields in hello payload of hello event.</span></span>

1. <span data-ttu-id="2da6b-269">Adja meg a lekérdezés hello lekérdezési ablakban:</span><span class="sxs-lookup"><span data-stu-id="2da6b-269">In hello query window, enter this query:</span></span>

        SELECT 
            *
        FROM 
            CallStream

    >[!NOTE]
    ><span data-ttu-id="2da6b-270">Az SQL kulcsszavak nem kis-és nagybetűket, és szóköz nincs jelentős eltérés.</span><span class="sxs-lookup"><span data-stu-id="2da6b-270">As with SQL, keywords are not case sensitive, and whitespace is not significant.</span></span>

    <span data-ttu-id="2da6b-271">Ebben a lekérdezésben `CallStream` van alias hello, hello bemeneti létrehozásakor megadott.</span><span class="sxs-lookup"><span data-stu-id="2da6b-271">In this query, `CallStream` is hello alias that you specified when you created hello input.</span></span> <span data-ttu-id="2da6b-272">Ha egy másik aliast, használja az ezen a néven.</span><span class="sxs-lookup"><span data-stu-id="2da6b-272">If you used a different alias, use that name instead.</span></span>

2. <span data-ttu-id="2da6b-273">Kattintson a **teszt**.</span><span class="sxs-lookup"><span data-stu-id="2da6b-273">Click **Test**.</span></span>

    <span data-ttu-id="2da6b-274">hello Stream Analytics-feladat hello mintaadatok hello lekérdezés fut, és hello kimenet megjelenítése a hello ablak hello alján.</span><span class="sxs-lookup"><span data-stu-id="2da6b-274">hello Stream Analytics job runs hello query against hello sample data and displays hello output at hello bottom of hello window.</span></span> <span data-ttu-id="2da6b-275">Ez jelzi, hogy a hello eseményközpont és hello Streaming Analytics-feladat helyesen vannak konfigurálva.</span><span class="sxs-lookup"><span data-stu-id="2da6b-275">This tells you that hello event hub and hello Streaming Analytics job are configured correctly.</span></span> <span data-ttu-id="2da6b-276">(Amint azt később hoz létre kimeneti fogadóként adott hello lekérdezés adatokat írhat.)</span><span class="sxs-lookup"><span data-stu-id="2da6b-276">(As noted, later you'll create an output sink that hello query can write data to.)</span></span>

    ![Stream Analytics-feladat kimeneti, előállított 73 rekordok megjelenítése](./media/stream-analytics-real-time-fraud-detection/stream-analytics-sa-job-sample-output.png)

    <span data-ttu-id="2da6b-278">hello pontos látható rekordok számát a rekordok rögzítette a 3 perces minta függ.</span><span class="sxs-lookup"><span data-stu-id="2da6b-278">hello exact number of records you see will depend on how many records were captured in your 3-minute sample.</span></span>
 
### <a name="reduce-hello-number-of-fields-using-a-column-projection"></a><span data-ttu-id="2da6b-279">Csökkentse a mezőket egy oszlop leképezése hello számát</span><span class="sxs-lookup"><span data-stu-id="2da6b-279">Reduce hello number of fields using a column projection</span></span>

<span data-ttu-id="2da6b-280">Sok esetben az elemzési hello bemeneti adatfolyam összes hello oszlopa nem szükséges.</span><span class="sxs-lookup"><span data-stu-id="2da6b-280">In many cases, your analysis doesn't need all hello columns from hello input stream.</span></span> <span data-ttu-id="2da6b-281">A lekérdezés tooproject kevesebb mint mezők hello csatlakoztatott lekérdezés által visszaadott is használhatja.</span><span class="sxs-lookup"><span data-stu-id="2da6b-281">You can use a query tooproject a smaller set of returned fields than in hello pass-through query.</span></span>

1. <span data-ttu-id="2da6b-282">Hello lekérdezés hello kód szerkesztő toohello alábbi módosítása:</span><span class="sxs-lookup"><span data-stu-id="2da6b-282">Change hello query in hello code editor toohello following:</span></span>

        SELECT CallRecTime, SwitchNum, CallingIMSI, CallingNum, CalledNum 
        FROM 
            CallStream

2. <span data-ttu-id="2da6b-283">Kattintson a **teszt** újra.</span><span class="sxs-lookup"><span data-stu-id="2da6b-283">Click **Test** again.</span></span> 

    ![Stream Analytics-feladat kimeneti kivetítéshez, 25 rekordot generált megjelenítő](./media/stream-analytics-real-time-fraud-detection/stream-analytics-sa-job-sample-output-projection.png)
 
### <a name="count-incoming-calls-by-region-tumbling-window-with-aggregation"></a><span data-ttu-id="2da6b-285">Count bejövő hívások régió: az összesítő Átfedésmentes ablak</span><span class="sxs-lookup"><span data-stu-id="2da6b-285">Count incoming calls by region: Tumbling window with aggregation</span></span>

<span data-ttu-id="2da6b-286">Tegyük fel, hogy a bejövő hívások régiónként toocount hello száma.</span><span class="sxs-lookup"><span data-stu-id="2da6b-286">Suppose you want toocount hello number of incoming calls per region.</span></span> <span data-ttu-id="2da6b-287">A streamelési adatok, ha azt szeretné, hogy a számbavételi, például tooperform aggregátumfüggvények kell toosegment hello adatfolyam historikus egységekbe (mivel hello adatfolyam maga gyakorlatilag végtelen).</span><span class="sxs-lookup"><span data-stu-id="2da6b-287">In streaming data, when you want tooperform aggregate functions like counting, you need toosegment hello stream into temporal units (since hello data stream itself is effectively endless).</span></span> <span data-ttu-id="2da6b-288">Ehhez használja a Streaming Analytics [ablak függvény](stream-analytics-window-functions.md).</span><span class="sxs-lookup"><span data-stu-id="2da6b-288">You do this using a Streaming Analytics [window function](stream-analytics-window-functions.md).</span></span> <span data-ttu-id="2da6b-289">Majd dolgozhat hello adatok adott ablakra egységként.</span><span class="sxs-lookup"><span data-stu-id="2da6b-289">You can then work with hello data inside that window as a unit.</span></span>

<span data-ttu-id="2da6b-290">Ez a transzformáció keresi, amely nem fedi át a historikus windows sorozatát – minden ablak adatokat csoportosíthatja, és összesítés diszkrét készlete fog rendelkezni.</span><span class="sxs-lookup"><span data-stu-id="2da6b-290">For this transformation, you want a sequence of temporal windows that don't overlap—each window will have a discrete set of data that you can group and aggregate.</span></span> <span data-ttu-id="2da6b-291">Ez a Windows-típus hivatkozott tooas egy *Átfedésmentes ablak* .</span><span class="sxs-lookup"><span data-stu-id="2da6b-291">This type of window is referred tooas a *Tumbling window* .</span></span> <span data-ttu-id="2da6b-292">Hello Átfedésmentes ablak, belül kaphat a hello szerint csoportosítva beérkező hívások számát `SwitchNum`, amely hello hívás származási helyének hello ország jelenti.</span><span class="sxs-lookup"><span data-stu-id="2da6b-292">Within hello Tumbling window, you can get a count of hello incoming calls grouped by `SwitchNum`, which represents hello country where hello call originated.</span></span> 

1. <span data-ttu-id="2da6b-293">Hello lekérdezés hello kód szerkesztő toohello alábbi módosítása:</span><span class="sxs-lookup"><span data-stu-id="2da6b-293">Change hello query in hello code editor toohello following:</span></span>

        SELECT 
            System.Timestamp as WindowEnd, SwitchNum, COUNT(*) as CallCount 
        FROM
            CallStream TIMESTAMP BY CallRecTime 
        GROUP BY TUMBLINGWINDOW(s, 5), SwitchNum

    <span data-ttu-id="2da6b-294">Ez a lekérdezés használ hello `Timestamp By` hello kulcsszót `FROM` záradék toospecify melyik hello időbélyeg mezője bemeneti adatfolyam toouse toodefine hello Átfedésmentes ablak.</span><span class="sxs-lookup"><span data-stu-id="2da6b-294">This query uses hello `Timestamp By` keyword in hello `FROM` clause toospecify which timestamp field in hello input stream toouse toodefine hello Tumbling window.</span></span> <span data-ttu-id="2da6b-295">Ebben az esetben hello ablak elosztja hello adatok történő hello `CallRecTime` rekordokban levő mező.</span><span class="sxs-lookup"><span data-stu-id="2da6b-295">In this case, hello window divides hello data into segments by hello `CallRecTime` field in each record.</span></span> <span data-ttu-id="2da6b-296">(Ha nincs megadva, hello leképezési művelet használja, amely minden esemény érkezik hello eseményközpont hello idő.</span><span class="sxs-lookup"><span data-stu-id="2da6b-296">(If no field is specified, hello windowing operation uses hello time that each event arrives at hello event hub.</span></span> <span data-ttu-id="2da6b-297">"Érkezési idő Visual Studio alkalmazás idő" című [Stream Analytics Query Language Reference](https://msdn.microsoft.com/library/azure/dn834998.aspx).</span><span class="sxs-lookup"><span data-stu-id="2da6b-297">See "Arrival Time Vs Application Time" in [Stream Analytics Query Language Reference](https://msdn.microsoft.com/library/azure/dn834998.aspx).</span></span> 

    <span data-ttu-id="2da6b-298">hello leképezése tartalmaz `System.Timestamp`, minden Windows hello végén időbélyeg adja vissza, amely.</span><span class="sxs-lookup"><span data-stu-id="2da6b-298">hello projection includes `System.Timestamp`, which returns a timestamp for hello end of each window.</span></span> 

    <span data-ttu-id="2da6b-299">hello használhatja, amelyet az Átfedésmentes ablak toouse toospecify, [TUMBLINGWINDOW](https://msdn.microsoft.com/library/dn835055.aspx) hello függvényt `GROUP BY `záradékban.</span><span class="sxs-lookup"><span data-stu-id="2da6b-299">toospecify that you want toouse a Tumbling window, you use hello [TUMBLINGWINDOW](https://msdn.microsoft.com/library/dn835055.aspx) function in hello `GROUP BY `clause.</span></span> <span data-ttu-id="2da6b-300">Hello függvény egy időegységet (a mikroszekundum tooa naponta) és egy ablak mérete (darabszám) kell megadni.</span><span class="sxs-lookup"><span data-stu-id="2da6b-300">In hello function, you specify a time unit (anywhere from a microsecond tooa day) and a window size (how many units).</span></span> <span data-ttu-id="2da6b-301">Ebben a példában hello Átfedésmentes ablak áll 5 másodperces időközönként, ország száma a hívások minden 5 másodperc alatt érkezett elérhetővé válik.</span><span class="sxs-lookup"><span data-stu-id="2da6b-301">In this example, hello Tumbling window consists of 5-second intervals, so you will get a count by country for every 5 seconds' worth of calls.</span></span>

2. <span data-ttu-id="2da6b-302">Kattintson a **teszt** újra.</span><span class="sxs-lookup"><span data-stu-id="2da6b-302">Click **Test** again.</span></span> <span data-ttu-id="2da6b-303">Hello eredmények között, figyelje meg, hogy a hello időbélyegeket **WindowEnd** 5 másodperces lépésekben vannak.</span><span class="sxs-lookup"><span data-stu-id="2da6b-303">In hello results, notice that hello timestamps under **WindowEnd** are in 5-second increments.</span></span>

    ![Stream Analytics-feladat kimeneti összesítési, előállított 13 rekordok megjelenítése](./media/stream-analytics-real-time-fraud-detection/stream-analytics-sa-job-sample-output-aggregation.png)
 
### <a name="detect-sim-fraud-using-a-self-join"></a><span data-ttu-id="2da6b-305">Önillesztés használatával SIM csalások észlelése</span><span class="sxs-lookup"><span data-stu-id="2da6b-305">Detect SIM fraud using a self-join</span></span>

<span data-ttu-id="2da6b-306">Például azt is fontolóra veheti csalárd használati toobe hívások oly módon hello azonos felhasználói azonban egy másik 5 másodpercen belül különböző helyeken.</span><span class="sxs-lookup"><span data-stu-id="2da6b-306">For this example, we can consider fraudulent usage toobe calls that originate from hello same user but in different locations within 5 seconds of one another.</span></span> <span data-ttu-id="2da6b-307">Például hello ugyanahhoz a felhasználóhoz szabályosan hívás sikertelen hello USA és Ausztrália: hello ugyanannyi időt vesz igénybe.</span><span class="sxs-lookup"><span data-stu-id="2da6b-307">For example, hello same user can't legitimately make a call from hello US and Australia at hello same time.</span></span> 

<span data-ttu-id="2da6b-308">Ezekben az esetekben a toocheck, használhat streaming adatok toojoin hello adatfolyam tooitself hello alapján hello önillesztés `CallRecTime` érték.</span><span class="sxs-lookup"><span data-stu-id="2da6b-308">toocheck for these cases, you can use a self-join of hello streaming data toojoin hello stream tooitself based on hello `CallRecTime` value.</span></span> <span data-ttu-id="2da6b-309">Majd meg a hívás rögzíti, ahol hello `CallingIMSI` érték (szám származó hello) van hello azonos, de hello `SwitchNum` (származási) értéke nem hello azonos.</span><span class="sxs-lookup"><span data-stu-id="2da6b-309">You can then look for call records where hello `CallingIMSI` value (hello originating number) is hello same, but hello `SwitchNum` value (country of origin) is not hello same.</span></span>

<span data-ttu-id="2da6b-310">Használatakor a csatlakozzon a streamelési adatok hello illesztési biztosítania kell a megfelelő sorok milyen távolságban hello néhány korlátot időben választhatók el egymástól.</span><span class="sxs-lookup"><span data-stu-id="2da6b-310">When you use a join with streaming data, hello join must provide some limits on how far hello matching rows can be separated in time.</span></span> <span data-ttu-id="2da6b-311">(Ahogy azt korábban említettük, hello adatfolyam a gyakorlatilag végtelen.) hello idő értéktartományán hello kapcsolat meghatározott hello `ON` hello illesztési, hello záradékában `DATEDIFF` függvény.</span><span class="sxs-lookup"><span data-stu-id="2da6b-311">(As noted earlier, hello streaming data is effectively endless.) hello time bounds for hello relationship are specified inside hello `ON` clause of hello join, using hello `DATEDIFF` function .</span></span> <span data-ttu-id="2da6b-312">Ebben az esetben a hello illesztési hívás adatok 5 másodperces intervallumban alapul.</span><span class="sxs-lookup"><span data-stu-id="2da6b-312">In this case, hello join is based on a 5-second interval of call data .</span></span>

1. <span data-ttu-id="2da6b-313">Hello lekérdezés hello kód szerkesztő toohello alábbi módosítása:</span><span class="sxs-lookup"><span data-stu-id="2da6b-313">Change hello query in hello code editor toohello following:</span></span> 

        SELECT  System.Timestamp as Time, 
            CS1.CallingIMSI, 
            CS1.CallingNum as CallingNum1, 
            CS2.CallingNum as CallingNum2, 
            CS1.SwitchNum as Switch1, 
            CS2.SwitchNum as Switch2 
        FROM CallStream CS1 TIMESTAMP BY CallRecTime 
            JOIN CallStream CS2 TIMESTAMP BY CallRecTime 
            ON CS1.CallingIMSI = CS2.CallingIMSI 
            AND DATEDIFF(ss, CS1, CS2) BETWEEN 1 AND 5 
        WHERE CS1.SwitchNum != CS2.SwitchNum

    <span data-ttu-id="2da6b-314">Ez a lekérdezés olyan, mint bármely SQL illesztési kivételével hello `DATEDIFF` hello illesztési függvényt.</span><span class="sxs-lookup"><span data-stu-id="2da6b-314">This query is like any SQL join except for hello `DATEDIFF` function in hello join.</span></span> <span data-ttu-id="2da6b-315">Egy verziója `DATEDIFF` , amely adott tooStreaming elemzés, és azt meg kell jelenniük hello `ON...BETWEEN` záradékban.</span><span class="sxs-lookup"><span data-stu-id="2da6b-315">This is a version of `DATEDIFF` that's specific tooStreaming Analytics, and it must appear in hello `ON...BETWEEN` clause.</span></span> <span data-ttu-id="2da6b-316">egy időegységet (ebben a példában másodperc) és hello aliasok hello két forrás hello illesztéshez hello paraméterei.</span><span class="sxs-lookup"><span data-stu-id="2da6b-316">hello parameters are a time unit (seconds in this example) and hello aliases of hello two sources for hello join.</span></span> <span data-ttu-id="2da6b-317">(Ez nem azonos a normál SQL hello `DATEDIFF` függvény.)</span><span class="sxs-lookup"><span data-stu-id="2da6b-317">(This is different from hello standard SQL `DATEDIFF` function.)</span></span> 

    <span data-ttu-id="2da6b-318">Hello `WHERE` záradék tartalmaz, amely hello csalárd hívás hello feltétel: vannak hello származó kapcsolók nem hello azonos.</span><span class="sxs-lookup"><span data-stu-id="2da6b-318">hello `WHERE` clause includes hello condition that flags hello fraudulent call: hello originating switches are not hello same.</span></span> 

2. <span data-ttu-id="2da6b-319">Kattintson a **teszt** újra.</span><span class="sxs-lookup"><span data-stu-id="2da6b-319">Click **Test** again.</span></span> 

    ![Stream Analytics-feladat kimeneti generált önillesztés, látható 6 rekordok](./media/stream-analytics-real-time-fraud-detection/stream-analytics-sa-job-sample-output-self-join.png)

3. <span data-ttu-id="2da6b-321">Kattintson a **Save** (Mentés) gombra.</span><span class="sxs-lookup"><span data-stu-id="2da6b-321">Click **Save**.</span></span> <span data-ttu-id="2da6b-322">Ezáltal hello önillesztés lekérdezés hello Streaming Analytics-feladat részeként.</span><span class="sxs-lookup"><span data-stu-id="2da6b-322">This saves hello self-join query as part of hello Streaming Analytics job.</span></span> <span data-ttu-id="2da6b-323">(Hello mintaadatok nem menti azt.)</span><span class="sxs-lookup"><span data-stu-id="2da6b-323">(It doesn't save hello sample data.)</span></span>

    ![A Stream Analytics-feladat mentése](./media/stream-analytics-real-time-fraud-detection/stream-analytics-query-editor-save-button-new-portal.png)

## <a name="create-an-output-sink-toostore-transformed-data"></a><span data-ttu-id="2da6b-325">Hozzon létre egy kimeneti fogadó toostore átalakított adatok</span><span class="sxs-lookup"><span data-stu-id="2da6b-325">Create an output sink toostore transformed data</span></span>

<span data-ttu-id="2da6b-326">Egy esemény-adatfolyam, egy event hub bemeneti tooingest események és a lekérdezés tooperform átalakítás meghatározta hello adatfolyam keresztül.</span><span class="sxs-lookup"><span data-stu-id="2da6b-326">You've defined an event stream, an event hub input tooingest events, and a query tooperform a transformation over hello stream.</span></span> <span data-ttu-id="2da6b-327">hello utolsó lépése toodefine hello feladat kimeneti fogadóként – Ez azt jelenti, hogy a hely toowrite hello átalakítva adatfolyamot.</span><span class="sxs-lookup"><span data-stu-id="2da6b-327">hello last step is toodefine an output sink for hello job—that is, a place toowrite hello transformed stream to.</span></span> 

<span data-ttu-id="2da6b-328">Kimeneti mosdók is használhatja sok erőforrást – SQL Server-adatbázis, a table storage, Data Lake-tároló, a Power BI és még egy másik eseményközpont.</span><span class="sxs-lookup"><span data-stu-id="2da6b-328">You can use many resources as output sinks—a SQL Server database, table storage, Data Lake storage, Power BI, and even another event hub.</span></span> <span data-ttu-id="2da6b-329">Ebben az oktatóanyagban hello adatfolyam tooAzure Blob-tároló, amely jellemző döntés eseményadatok újabb elemzés, mivel így alkalmazkodik a strukturálatlan adatok gyűjtéséhez fog írni.</span><span class="sxs-lookup"><span data-stu-id="2da6b-329">For this tutorial, you'll write hello stream tooAzure Blob Storage, which is a typical choice for collecting event information for later analysis, since it accommodates unstructured data .</span></span>

<span data-ttu-id="2da6b-330">Ha egy meglévő blob storage-fiókot, használhatja, amely.</span><span class="sxs-lookup"><span data-stu-id="2da6b-330">If you have an existing blob storage account, you can use that.</span></span> <span data-ttu-id="2da6b-331">Ebben az oktatóanyagban mutat be, hogyan toocreate egy új tárolási fiók csak a jelen oktatóanyag.</span><span class="sxs-lookup"><span data-stu-id="2da6b-331">For this tutorial, we'll show you how toocreate a new storage account just for this tutorial.</span></span>

### <a name="create-an-azure-blob-storage-account"></a><span data-ttu-id="2da6b-332">Azure Blob Storage-fiók létrehozása</span><span class="sxs-lookup"><span data-stu-id="2da6b-332">Create an Azure Blob Storage account</span></span>

1. <span data-ttu-id="2da6b-333">Hello Azure-portálon, a visszatérési toohello Streaming Analytics-feladat panelen.</span><span class="sxs-lookup"><span data-stu-id="2da6b-333">In hello Azure portal, return toohello Streaming Analytics job blade.</span></span> <span data-ttu-id="2da6b-334">(Ha korábban bezárta a hello panelen, keresse meg a `sa_frauddetection_job_demo` a hello **összes erőforrás** panel.)</span><span class="sxs-lookup"><span data-stu-id="2da6b-334">(If you closed hello blade, search for `sa_frauddetection_job_demo` in hello **All resources** blade.)</span></span>
2. <span data-ttu-id="2da6b-335">A hello **feladat topológia** területen kattintson a hello **kimeneti** mezőbe.</span><span class="sxs-lookup"><span data-stu-id="2da6b-335">In hello **Job Topology** section, click hello **Output** box.</span></span> 
3. <span data-ttu-id="2da6b-336">A hello **kimenetek** panelen kattintson a  **+ &nbsp;Hozzáadás** hello panel ezekkel az értékekkel, majd töltse ki:</span><span class="sxs-lookup"><span data-stu-id="2da6b-336">In hello **Outputs** blade, click **+&nbsp;Add** and then fill out hello blade with these values:</span></span>

    * <span data-ttu-id="2da6b-337">**A kimeneti alias**: hello név használata `CallStream-FraudulentCalls`.</span><span class="sxs-lookup"><span data-stu-id="2da6b-337">**Output alias**: Use hello name `CallStream-FraudulentCalls`.</span></span> 
    * <span data-ttu-id="2da6b-338">**Gyűjtése**: válasszon **Blob-tároló**.</span><span class="sxs-lookup"><span data-stu-id="2da6b-338">**Sink**: Select **Blob storage**.</span></span>
    * <span data-ttu-id="2da6b-339">**Importálási lehetőségeit**: válasszon **használja a jelenlegi előfizetés blob-tároló**.</span><span class="sxs-lookup"><span data-stu-id="2da6b-339">**Import options**: Select **Use blob storage from current subscription**.</span></span>
    * <span data-ttu-id="2da6b-340">**A tárfiók**.</span><span class="sxs-lookup"><span data-stu-id="2da6b-340">**Storage account**.</span></span> <span data-ttu-id="2da6b-341">Válassza ki **hozzon létre új tárfiókot.**</span><span class="sxs-lookup"><span data-stu-id="2da6b-341">Select **Create new storage account.**</span></span>
    * <span data-ttu-id="2da6b-342">**A tárfiók** (második mezőben).</span><span class="sxs-lookup"><span data-stu-id="2da6b-342">**Storage account** (second box).</span></span> <span data-ttu-id="2da6b-343">Adja meg `YOURNAMEsademo`, ahol `YOURNAME` a neve, vagy egy másik egyedi karakterlánc.</span><span class="sxs-lookup"><span data-stu-id="2da6b-343">Enter `YOURNAMEsademo`, where `YOURNAME` is your name or another unique string.</span></span> <span data-ttu-id="2da6b-344">hello neve csak kisbetűket és számokat használhatja, és az Azure között egyedinek kell lennie.</span><span class="sxs-lookup"><span data-stu-id="2da6b-344">hello name can use only lowercase letters and numbers, and it must be unique across Azure.</span></span> 
    * <span data-ttu-id="2da6b-345">**Tároló**.</span><span class="sxs-lookup"><span data-stu-id="2da6b-345">**Container**.</span></span> <span data-ttu-id="2da6b-346">Adja meg `sa-fraudulentcalls-demo`.</span><span class="sxs-lookup"><span data-stu-id="2da6b-346">Enter `sa-fraudulentcalls-demo`.</span></span>
    <span data-ttu-id="2da6b-347">hello tárfiók neve vagy a tároló neve használt együtt tooprovide egy URI-JÁNAK hello blob-tároló, ez például a következők:</span><span class="sxs-lookup"><span data-stu-id="2da6b-347">hello storage account name and container name are used together tooprovide a URI for hello blob storage, like this:</span></span> 

    `http://yournamesademo.blob.core.windows.net/sa-fraudulentcalls-demo/...`
    
    ![Panel "Új kimeneti" Stream Analytics-feladat](./media/stream-analytics-real-time-fraud-detection/stream-analytics-create-output-blob-storage-new-console.png)
    
4. <span data-ttu-id="2da6b-349">Kattintson a **Create** (Létrehozás) gombra.</span><span class="sxs-lookup"><span data-stu-id="2da6b-349">Click **Create**.</span></span> 

    <span data-ttu-id="2da6b-350">Azure hello tárfiókot hoz létre, és automatikusan létrehoz egy kulcsot.</span><span class="sxs-lookup"><span data-stu-id="2da6b-350">Azure creates hello storage account and generates a key automatically.</span></span> 

5. <span data-ttu-id="2da6b-351">Bezárás hello **kimenetek** panelen.</span><span class="sxs-lookup"><span data-stu-id="2da6b-351">Close hello **Outputs** blade.</span></span> 

## <a name="start-hello-streaming-analytics-job"></a><span data-ttu-id="2da6b-352">Hello Streaming Analytics-feladat indítása</span><span class="sxs-lookup"><span data-stu-id="2da6b-352">Start hello Streaming Analytics job</span></span>

<span data-ttu-id="2da6b-353">hello feladat konfigurálva van.</span><span class="sxs-lookup"><span data-stu-id="2da6b-353">hello job is now configured.</span></span> <span data-ttu-id="2da6b-354">A megadott bemeneti (hello eseményközpont), átalakítás (lekérdezés toolook hello csalárd hívások) és egy kimeneti (blob-tároló).</span><span class="sxs-lookup"><span data-stu-id="2da6b-354">You've specified an input (hello event hub), a transformation (hello query toolook for fraudulent calls), and an output (blob storage).</span></span> <span data-ttu-id="2da6b-355">Most elindíthatja hello feladat.</span><span class="sxs-lookup"><span data-stu-id="2da6b-355">You can now start hello job.</span></span> 

1. <span data-ttu-id="2da6b-356">Ellenőrizze, fut-e hello TelcoGenerator alkalmazást.</span><span class="sxs-lookup"><span data-stu-id="2da6b-356">Make sure hello TelcoGenerator app is running.</span></span>

2. <span data-ttu-id="2da6b-357">Hello feladat panelen kattintson **Start**.</span><span class="sxs-lookup"><span data-stu-id="2da6b-357">In hello job blade, click **Start**.</span></span>

    ![Hello Stream Analytics-feladat indítása](./media/stream-analytics-real-time-fraud-detection/stream-analytics-sa-job-start-output.png)

3. <span data-ttu-id="2da6b-359">A hello **indítási feladat** panelen, a feladat kimenete kezdési időpontja, jelölje be a **most**.</span><span class="sxs-lookup"><span data-stu-id="2da6b-359">In hello **Start job** blade, for Job output start time, select **Now**.</span></span> 

4. <span data-ttu-id="2da6b-360">Kattintson a **Start**.</span><span class="sxs-lookup"><span data-stu-id="2da6b-360">Click **Start**.</span></span> 

    !["Indítsa el a feladat" panel hello Stream Analytics-feladat](./media/stream-analytics-real-time-fraud-detection/stream-analytics-sa-job-start-job-blade.png)

    <span data-ttu-id="2da6b-362">Azure értesíti, amikor hello feladat elindult, és hello feladat panelen hello állapot jelenik meg **futtató**.</span><span class="sxs-lookup"><span data-stu-id="2da6b-362">Azure notifies you when hello job has started, and in hello job blade, hello status is displayed as **Running**.</span></span>

    ![Stream Analytics-feladat állapotát, a "Fut" megjelenítése](./media/stream-analytics-real-time-fraud-detection/stream-analytics-sa-job-running-status.png)
    

## <a name="examine-hello-transformed-data"></a><span data-ttu-id="2da6b-364">Vizsgálja meg a hello átalakított adatok</span><span class="sxs-lookup"><span data-stu-id="2da6b-364">Examine hello transformed data</span></span>

<span data-ttu-id="2da6b-365">Most már rendelkezik egy teljes Streaming Analytics-feladathoz.</span><span class="sxs-lookup"><span data-stu-id="2da6b-365">You now have a complete Streaming Analytics job.</span></span> <span data-ttu-id="2da6b-366">hello feladat telefonhívás metaadatok adatfolyam vizsgálata, valós idejű csalárd telefonhívásokat keres, és ezek csalárd hívások toostorage kapcsolatos adatok írásakor.</span><span class="sxs-lookup"><span data-stu-id="2da6b-366">hello job is examining a stream of phone call metadata, looking for fraudulent phone calls in real time, and writing information about those fraudulent calls toostorage.</span></span> 

<span data-ttu-id="2da6b-367">toocomplete ebben az oktatóanyagban érdemes toolook hello adatait hello Streaming Analytics-feladat által.</span><span class="sxs-lookup"><span data-stu-id="2da6b-367">toocomplete this tutorial, you might want toolook at hello data being captured by hello Streaming Analytics job.</span></span> <span data-ttu-id="2da6b-368">hello adatok írása tooAzure Blog tárolási az adattömbök (fájlok).</span><span class="sxs-lookup"><span data-stu-id="2da6b-368">hello data is being written tooAzure Blog Storage in chunks (files).</span></span> <span data-ttu-id="2da6b-369">Bármely Azure Blob Storage olvasó eszközt is használhatja.</span><span class="sxs-lookup"><span data-stu-id="2da6b-369">You can use any tool that reads Azure Blob Storage.</span></span> <span data-ttu-id="2da6b-370">Amint hello Előfeltételek szakaszában, használhatja a Visual Studio Azure-bővítményeket, vagy használhatja egy eszköz, például [Azure Tártallózó](http://storageexplorer.com/) vagy [Azure Explorer](http://www.cerebrata.com/products/azure-explorer/introduction).</span><span class="sxs-lookup"><span data-stu-id="2da6b-370">As noted in hello Prerequisites section, you can use Azure extensions in Visual Studio, or you can use a tool like [Azure Storage Explorer](http://storageexplorer.com/) or [Azure Explorer](http://www.cerebrata.com/products/azure-explorer/introduction).</span></span> 

<span data-ttu-id="2da6b-371">A blob Storage tárolóban fájl tartalmának hello vizsgálja meg, ha valami hasonló hello:</span><span class="sxs-lookup"><span data-stu-id="2da6b-371">When you examine hello contents of a file in blob storage, you see something like hello following :</span></span>

![Az Azure blob storage Streaming Analytics kimenet](./media/stream-analytics-real-time-fraud-detection/stream-analytics-sa-job-blob-storage-view.png)
 

## <a name="clean-up-resources"></a><span data-ttu-id="2da6b-373">Az erőforrások eltávolítása</span><span class="sxs-lookup"><span data-stu-id="2da6b-373">Clean up resources</span></span>

<span data-ttu-id="2da6b-374">További cikkek hello csalás észlelés forgatókönyv folytatásához, és ebben az oktatóanyagban létrehozott hello erőforrásokat használó van.</span><span class="sxs-lookup"><span data-stu-id="2da6b-374">We have additional articles that continue with hello fraud-detection scenario and that use hello resources that you've created in this tutorial.</span></span> <span data-ttu-id="2da6b-375">Ha azt szeretné, hogy toocontinue, lásd: hello javaslatok alapján **további lépések** később.</span><span class="sxs-lookup"><span data-stu-id="2da6b-375">If you want toocontinue, see hello suggestions under **Next steps** later.</span></span>

<span data-ttu-id="2da6b-376">Azonban ha elkészült, és nem kell létrehozott hello erőforrásokat, törölheti őket, hogy a szükségtelen Azure költségek.</span><span class="sxs-lookup"><span data-stu-id="2da6b-376">However, if you're done and you don't need hello resources you've created, you can delete them so that you don't incur unnecessary Azure charges.</span></span> <span data-ttu-id="2da6b-377">Ebben az esetben javasoljuk, hogy Ön hello a következő:</span><span class="sxs-lookup"><span data-stu-id="2da6b-377">In that case, we suggest that you do hello following:</span></span>

1. <span data-ttu-id="2da6b-378">Hello Streaming Analytics-feladat leállítása.</span><span class="sxs-lookup"><span data-stu-id="2da6b-378">Stop hello Streaming Analytics job.</span></span> <span data-ttu-id="2da6b-379">A hello **feladatok** panelen kattintson a **leállítása** hello tetején.</span><span class="sxs-lookup"><span data-stu-id="2da6b-379">In hello **Jobs** blade, click **Stop** at hello top.</span></span>
2. <span data-ttu-id="2da6b-380">Állítsa le a hello Telco készítő alkalmazást.</span><span class="sxs-lookup"><span data-stu-id="2da6b-380">Stop hello Telco Generator app.</span></span> <span data-ttu-id="2da6b-381">Eredeti állapotába hello app hello parancsablakot nyomja le a Ctrl + C.</span><span class="sxs-lookup"><span data-stu-id="2da6b-381">In hello command window where you started hello app, press Ctrl+C.</span></span>
3. <span data-ttu-id="2da6b-382">Ha új blob storage-fiók ebben az oktatóanyagban az imént létrehozott, törölje azt.</span><span class="sxs-lookup"><span data-stu-id="2da6b-382">If you created a new blob storage account just for this tutorial, delete it.</span></span> 
4. <span data-ttu-id="2da6b-383">Törölje a hello Streaming Analytics-feladathoz.</span><span class="sxs-lookup"><span data-stu-id="2da6b-383">Delete hello Streaming Analytics job.</span></span>
5. <span data-ttu-id="2da6b-384">Hello eseményközpont törlése.</span><span class="sxs-lookup"><span data-stu-id="2da6b-384">Delete hello event hub.</span></span>
6. <span data-ttu-id="2da6b-385">Hello event hub névtér törlése.</span><span class="sxs-lookup"><span data-stu-id="2da6b-385">Delete hello event hub namespace.</span></span>

## <a name="get-support"></a><span data-ttu-id="2da6b-386">Támogatás kérése</span><span class="sxs-lookup"><span data-stu-id="2da6b-386">Get support</span></span>

<span data-ttu-id="2da6b-387">Ha további segítségre van szüksége, próbálkozzon a [Azure Stream Analytics-fórumot](https://social.msdn.microsoft.com/Forums/en-US/home?forum=AzureStreamAnalytics).</span><span class="sxs-lookup"><span data-stu-id="2da6b-387">For further assistance, try our [Azure Stream Analytics forum](https://social.msdn.microsoft.com/Forums/en-US/home?forum=AzureStreamAnalytics).</span></span>

## <a name="next-steps"></a><span data-ttu-id="2da6b-388">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="2da6b-388">Next steps</span></span>

<span data-ttu-id="2da6b-389">Ez az oktatóanyag folytatása hello a következő cikkeket:</span><span class="sxs-lookup"><span data-stu-id="2da6b-389">You can continue this tutorial with hello following articles:</span></span>

* <span data-ttu-id="2da6b-390">[A Stream Analytics és a Power BI: az adatfolyamként történő adatok valós idejű elemzési irányítópult](stream-analytics-power-bi-dashboard.md).</span><span class="sxs-lookup"><span data-stu-id="2da6b-390">[Stream Analytics and Power BI: A real-time analytics dashboard for streaming data](stream-analytics-power-bi-dashboard.md).</span></span> <span data-ttu-id="2da6b-391">Ez a cikk bemutatja, hogyan toosend hello hello Stream Analytics TelCo kimenete feladat tooPower BI valós idejű képi megjelenítés és elemzésére.</span><span class="sxs-lookup"><span data-stu-id="2da6b-391">This article shows you how toosend hello TelCo output of hello Stream Analytics job tooPower BI for real-time visualization and analysis.</span></span>
* <span data-ttu-id="2da6b-392">[Hogyan toostore adatait az Azure Redis Cache használata az Azure Functions az Azure Stream Analytics](stream-analytics-functions-redis.md).</span><span class="sxs-lookup"><span data-stu-id="2da6b-392">[How toostore data from Azure Stream Analytics in an Azure Redis Cache using Azure Functions](stream-analytics-functions-redis.md).</span></span> <span data-ttu-id="2da6b-393">Ez a cikk bemutatja, hogyan toouse Azure Functions toowrite csalárd meghívja tooan Azure Redis cache-keresztül a Service Bus-üzenetsorba.</span><span class="sxs-lookup"><span data-stu-id="2da6b-393">This article shows how toouse Azure Functions toowrite fraudulent calls tooan Azure Redis cache via a Service Bus queue.</span></span>

<span data-ttu-id="2da6b-394">További információ a Stream Analytics általában próbálja ki az alábbi cikkek:</span><span class="sxs-lookup"><span data-stu-id="2da6b-394">For more information about Stream Analytics in general, try these articles:</span></span>

* [<span data-ttu-id="2da6b-395">A Stream Analytics bemutatása tooAzure</span><span class="sxs-lookup"><span data-stu-id="2da6b-395">Introduction tooAzure Stream Analytics</span></span>](stream-analytics-introduction.md)
* <span data-ttu-id="2da6b-396">[Scale Azure Stream Analytics jobs](stream-analytics-scale-jobs.md) (Azure Stream Analytics-feladatok méretezése)</span><span class="sxs-lookup"><span data-stu-id="2da6b-396">[Scale Azure Stream Analytics jobs](stream-analytics-scale-jobs.md)</span></span>
* <span data-ttu-id="2da6b-397">[Azure Stream Analytics Query Language Reference](https://msdn.microsoft.com/library/azure/dn834998.aspx) (Referencia az Azure Stream Analytics lekérdezési nyelvhez)</span><span class="sxs-lookup"><span data-stu-id="2da6b-397">[Azure Stream Analytics Query Language Reference](https://msdn.microsoft.com/library/azure/dn834998.aspx)</span></span>
* [<span data-ttu-id="2da6b-398">Az Azure Stream Analytics felügyeleti REST API referenciája</span><span class="sxs-lookup"><span data-stu-id="2da6b-398">Azure Stream Analytics Management REST API Reference</span></span>](https://msdn.microsoft.com/library/azure/dn835031.aspx)
