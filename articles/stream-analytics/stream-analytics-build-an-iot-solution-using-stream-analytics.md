---
title: "Az IoT-megoldás létrehozása a Stream Analytics segítségével |} Microsoft Docs"
description: "A Stream Analytics IoT-megoldás az őrbódét forgatókönyv-bevezető oktatóanyag"
keywords: "IOT-megoldás, ablakban funkciók"
documentationcenter: 
services: stream-analytics
author: samacha
manager: jhubbard
editor: cgronlun
ms.assetid: a473ea0a-3eaa-4e5b-aaa1-fec7e9069f20
ms.service: stream-analytics
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: data-services
ms.date: 03/28/2017
ms.author: samacha
ms.openlocfilehash: a93693ef7d40025fa96846594a8eb525a50b6885
ms.sourcegitcommit: 50e23e8d3b1148ae2d36dad3167936b4e52c8a23
ms.translationtype: MT
ms.contentlocale: hu-HU
ms.lasthandoff: 08/18/2017
---
# <a name="build-an-iot-solution-by-using-stream-analytics"></a><span data-ttu-id="c2ebe-104">Az IoT-megoldás létrehozása a Stream Analytics segítségével</span><span class="sxs-lookup"><span data-stu-id="c2ebe-104">Build an IoT solution by using Stream Analytics</span></span>
## <a name="introduction"></a><span data-ttu-id="c2ebe-105">Bevezetés</span><span class="sxs-lookup"><span data-stu-id="c2ebe-105">Introduction</span></span>
<span data-ttu-id="c2ebe-106">Ebben az oktatóanyagban megtudhatja hogyan Azure Stream Analytics segítségével valós idejű elemzések lekérése az adataiból.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-106">In this tutorial, you will learn how to use Azure Stream Analytics to get real-time insights from your data.</span></span> <span data-ttu-id="c2ebe-107">A fejlesztők könnyedén kombinálhatja adatstreamek, például kattintás-adatfolyamok, a naplókat és az eszköz által létrehozott események előzményrekordjaira vagy üzleti elemzéseket kapcsolattípusokból referenciaadatok.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-107">Developers can easily combine streams of data, such as click-streams, logs, and device-generated events, with historical records or reference data to derive business insights.</span></span> <span data-ttu-id="c2ebe-108">Teljes körűen felügyelt, valós idejű stream számítási szolgáltatás, amely a Microsoft Azure-ban Azure Stream Analytics biztosít, beépített hibatűrési, alacsony késéssel és méretezhetőség terén annak érdekében, hogy másolatot és futtató percben.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-108">As a fully managed, real-time stream computation service that's hosted in Microsoft Azure, Azure Stream Analytics provides built-in resiliency, low latency, and scalability to get you up and running in minutes.</span></span>

<span data-ttu-id="c2ebe-109">Ez az oktatóanyag befejezése után fogja tudni:</span><span class="sxs-lookup"><span data-stu-id="c2ebe-109">After completing this tutorial, you will be able to:</span></span>

* <span data-ttu-id="c2ebe-110">Ismerkedjen meg az Azure Stream Analytics-portálon.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-110">Familiarize yourself with the Azure Stream Analytics portal.</span></span>
* <span data-ttu-id="c2ebe-111">Konfigurálhatja és telepítheti a folyamatos átviteli feladatnak.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-111">Configure and deploy a streaming job.</span></span>
* <span data-ttu-id="c2ebe-112">Fogalmazza meg valós problémákat és azok megoldási a Stream Analytics lekérdezési nyelv használatával.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-112">Articulate real-world problems and solve them by using the Stream Analytics query language.</span></span>
* <span data-ttu-id="c2ebe-113">Hogyan megoldások streaming az ügyfeleknek a Stream Analytics az vetett bizalmat.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-113">Develop streaming solutions for your customers by using Stream Analytics with confidence.</span></span>
* <span data-ttu-id="c2ebe-114">A figyelés és naplózás a felhasználói élmény használja a probléma megoldásához.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-114">Use the monitoring and logging experience to troubleshoot issues.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="c2ebe-115">Előfeltételek</span><span class="sxs-lookup"><span data-stu-id="c2ebe-115">Prerequisites</span></span>
<span data-ttu-id="c2ebe-116">Szüksége lesz az oktatóanyag elvégzéséhez a következő előfeltételek teljesülését:</span><span class="sxs-lookup"><span data-stu-id="c2ebe-116">You will need the following prerequisites to complete this tutorial:</span></span>

* <span data-ttu-id="c2ebe-117">A legújabb [Azure PowerShell](/powershell/azure/overview)</span><span class="sxs-lookup"><span data-stu-id="c2ebe-117">The latest version of [Azure PowerShell](/powershell/azure/overview)</span></span>
* <span data-ttu-id="c2ebe-118">A Visual Studio 2017, 2015, vagy az ingyenes [Visual Studio Community](https://www.visualstudio.com/products/visual-studio-community-vs.aspx)</span><span class="sxs-lookup"><span data-stu-id="c2ebe-118">Visual Studio 2017, 2015, or the free [Visual Studio Community](https://www.visualstudio.com/products/visual-studio-community-vs.aspx)</span></span>
* <span data-ttu-id="c2ebe-119">Egy [Azure-előfizetés](https://azure.microsoft.com/pricing/free-trial/)</span><span class="sxs-lookup"><span data-stu-id="c2ebe-119">An [Azure subscription](https://azure.microsoft.com/pricing/free-trial/)</span></span>
* <span data-ttu-id="c2ebe-120">Rendszergazdai jogosultságokkal azon a számítógépen</span><span class="sxs-lookup"><span data-stu-id="c2ebe-120">Administrative privileges on the computer</span></span>
* <span data-ttu-id="c2ebe-121">Töltse le a [TollApp.zip](https://github.com/Azure/azure-stream-analytics/blob/master/Samples/TollApp/TollApp.zip) a Microsoft letöltőközpontból</span><span class="sxs-lookup"><span data-stu-id="c2ebe-121">Download of [TollApp.zip](https://github.com/Azure/azure-stream-analytics/blob/master/Samples/TollApp/TollApp.zip) from the Microsoft Download Center</span></span>
* <span data-ttu-id="c2ebe-122">Választható lehetőség: Forráskód a TollApp esemény generátor a [GitHub](https://aka.ms/azure-stream-analytics-toll-source)</span><span class="sxs-lookup"><span data-stu-id="c2ebe-122">Optional: Source code for the TollApp event generator in [GitHub](https://aka.ms/azure-stream-analytics-toll-source)</span></span>

## <a name="scenario-introduction-hello-toll"></a><span data-ttu-id="c2ebe-123">A forgatókönyv bevezető: "Hello, téren!"</span><span class="sxs-lookup"><span data-stu-id="c2ebe-123">Scenario introduction: “Hello, Toll!”</span></span>
<span data-ttu-id="c2ebe-124">Téren állomás egy közös jelenség.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-124">A toll station is a common phenomenon.</span></span> <span data-ttu-id="c2ebe-125">Tapasztal őket több gyorsforgalmi, hidak és alagutakon keresztül történik.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-125">You encounter them on many expressways, bridges, and tunnels across the world.</span></span> <span data-ttu-id="c2ebe-126">Minden téren állomás van több téren fülkéit foglalja magában.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-126">Each toll station has multiple toll booths.</span></span> <span data-ttu-id="c2ebe-127">A manuális fülkéit foglalja magában le kell fizetnie a téren egy kísérő.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-127">At manual booths, you stop to pay the toll to an attendant.</span></span> <span data-ttu-id="c2ebe-128">Automatikus fülkéit foglalja magában: felett minden kiállítási érzékelő megvizsgálja egy RFID kártya, amely, ha a téren kiállítási, a vehicle szélvédőkeret rögzítettek.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-128">At automated booths, a sensor on top of each booth scans an RFID card that's affixed to the windshield of your vehicle as you pass the toll booth.</span></span> <span data-ttu-id="c2ebe-129">Akkor is könnyen egy esemény adatfolyamként, amelyben érdekes művelet végrehajtható ezen a téren állomások keresztül járművekről gyűjtött áthaladását megjelenítéséhez.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-129">It is easy to visualize the passage of vehicles through these toll stations as an event stream over which interesting operations can be performed.</span></span>

![Kép autók téren fülkéit foglalja magában:](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image1.jpg)

## <a name="incoming-data"></a><span data-ttu-id="c2ebe-131">Bejövő adatforgalom</span><span class="sxs-lookup"><span data-stu-id="c2ebe-131">Incoming data</span></span>
<span data-ttu-id="c2ebe-132">Ez az oktatóanyag két adatstreamek működik.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-132">This tutorial works with two streams of data.</span></span> <span data-ttu-id="c2ebe-133">Be- és a téren állomások telepített érzékelők az első adatfolyam eredményez.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-133">Sensors installed in the entrance and exit of the toll stations produce the first stream.</span></span> <span data-ttu-id="c2ebe-134">A második adatfolyama statikus keresési adatkészletre mutató vehicle regisztrációs adatokat.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-134">The second stream is a static lookup dataset that has vehicle registration data.</span></span>

### <a name="entry-data-stream"></a><span data-ttu-id="c2ebe-135">Bejegyzés adatfolyam</span><span class="sxs-lookup"><span data-stu-id="c2ebe-135">Entry data stream</span></span>
<span data-ttu-id="c2ebe-136">A bejegyzés adatfolyam autók információkat tartalmaz, téren állomások kapunál.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-136">The entry data stream contains information about cars as they enter toll stations.</span></span>

| <span data-ttu-id="c2ebe-137">TollID</span><span class="sxs-lookup"><span data-stu-id="c2ebe-137">TollID</span></span> | <span data-ttu-id="c2ebe-138">EntryTime</span><span class="sxs-lookup"><span data-stu-id="c2ebe-138">EntryTime</span></span> | <span data-ttu-id="c2ebe-139">LicensePlate</span><span class="sxs-lookup"><span data-stu-id="c2ebe-139">LicensePlate</span></span> | <span data-ttu-id="c2ebe-140">Állapot</span><span class="sxs-lookup"><span data-stu-id="c2ebe-140">State</span></span> | <span data-ttu-id="c2ebe-141">Ellenőrizze</span><span class="sxs-lookup"><span data-stu-id="c2ebe-141">Make</span></span> | <span data-ttu-id="c2ebe-142">Modell</span><span class="sxs-lookup"><span data-stu-id="c2ebe-142">Model</span></span> | <span data-ttu-id="c2ebe-143">VehicleType</span><span class="sxs-lookup"><span data-stu-id="c2ebe-143">VehicleType</span></span> | <span data-ttu-id="c2ebe-144">VehicleWeight</span><span class="sxs-lookup"><span data-stu-id="c2ebe-144">VehicleWeight</span></span> | <span data-ttu-id="c2ebe-145">Téren</span><span class="sxs-lookup"><span data-stu-id="c2ebe-145">Toll</span></span> | <span data-ttu-id="c2ebe-146">Címke</span><span class="sxs-lookup"><span data-stu-id="c2ebe-146">Tag</span></span> |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="c2ebe-147">1</span><span class="sxs-lookup"><span data-stu-id="c2ebe-147">1</span></span> |<span data-ttu-id="c2ebe-148">2014-09-10 12:01:00.000</span><span class="sxs-lookup"><span data-stu-id="c2ebe-148">2014-09-10 12:01:00.000</span></span> |<span data-ttu-id="c2ebe-149">7001 JNB</span><span class="sxs-lookup"><span data-stu-id="c2ebe-149">JNB 7001</span></span> |<span data-ttu-id="c2ebe-150">NY</span><span class="sxs-lookup"><span data-stu-id="c2ebe-150">NY</span></span> |<span data-ttu-id="c2ebe-151">Honda</span><span class="sxs-lookup"><span data-stu-id="c2ebe-151">Honda</span></span> |<span data-ttu-id="c2ebe-152">CRV</span><span class="sxs-lookup"><span data-stu-id="c2ebe-152">CRV</span></span> |<span data-ttu-id="c2ebe-153">1</span><span class="sxs-lookup"><span data-stu-id="c2ebe-153">1</span></span> |<span data-ttu-id="c2ebe-154">0</span><span class="sxs-lookup"><span data-stu-id="c2ebe-154">0</span></span> |<span data-ttu-id="c2ebe-155">7</span><span class="sxs-lookup"><span data-stu-id="c2ebe-155">7</span></span> | |
| <span data-ttu-id="c2ebe-156">1</span><span class="sxs-lookup"><span data-stu-id="c2ebe-156">1</span></span> |<span data-ttu-id="c2ebe-157">2014-09-10 12:02:00.000</span><span class="sxs-lookup"><span data-stu-id="c2ebe-157">2014-09-10 12:02:00.000</span></span> |<span data-ttu-id="c2ebe-158">1001 YXZ</span><span class="sxs-lookup"><span data-stu-id="c2ebe-158">YXZ 1001</span></span> |<span data-ttu-id="c2ebe-159">NY</span><span class="sxs-lookup"><span data-stu-id="c2ebe-159">NY</span></span> |<span data-ttu-id="c2ebe-160">Toyota</span><span class="sxs-lookup"><span data-stu-id="c2ebe-160">Toyota</span></span> |<span data-ttu-id="c2ebe-161">Camry</span><span class="sxs-lookup"><span data-stu-id="c2ebe-161">Camry</span></span> |<span data-ttu-id="c2ebe-162">1</span><span class="sxs-lookup"><span data-stu-id="c2ebe-162">1</span></span> |<span data-ttu-id="c2ebe-163">0</span><span class="sxs-lookup"><span data-stu-id="c2ebe-163">0</span></span> |<span data-ttu-id="c2ebe-164">4</span><span class="sxs-lookup"><span data-stu-id="c2ebe-164">4</span></span> |<span data-ttu-id="c2ebe-165">123456789</span><span class="sxs-lookup"><span data-stu-id="c2ebe-165">123456789</span></span> |
| <span data-ttu-id="c2ebe-166">3</span><span class="sxs-lookup"><span data-stu-id="c2ebe-166">3</span></span> |<span data-ttu-id="c2ebe-167">2014-09-10 12:02:00.000</span><span class="sxs-lookup"><span data-stu-id="c2ebe-167">2014-09-10 12:02:00.000</span></span> |<span data-ttu-id="c2ebe-168">1004 ABC</span><span class="sxs-lookup"><span data-stu-id="c2ebe-168">ABC 1004</span></span> |<span data-ttu-id="c2ebe-169">KI</span><span class="sxs-lookup"><span data-stu-id="c2ebe-169">CT</span></span> |<span data-ttu-id="c2ebe-170">Ford</span><span class="sxs-lookup"><span data-stu-id="c2ebe-170">Ford</span></span> |<span data-ttu-id="c2ebe-171">Taurus</span><span class="sxs-lookup"><span data-stu-id="c2ebe-171">Taurus</span></span> |<span data-ttu-id="c2ebe-172">1</span><span class="sxs-lookup"><span data-stu-id="c2ebe-172">1</span></span> |<span data-ttu-id="c2ebe-173">0</span><span class="sxs-lookup"><span data-stu-id="c2ebe-173">0</span></span> |<span data-ttu-id="c2ebe-174">5</span><span class="sxs-lookup"><span data-stu-id="c2ebe-174">5</span></span> |<span data-ttu-id="c2ebe-175">456789123</span><span class="sxs-lookup"><span data-stu-id="c2ebe-175">456789123</span></span> |
| <span data-ttu-id="c2ebe-176">2</span><span class="sxs-lookup"><span data-stu-id="c2ebe-176">2</span></span> |<span data-ttu-id="c2ebe-177">2014-09-10 12:03:00.000</span><span class="sxs-lookup"><span data-stu-id="c2ebe-177">2014-09-10 12:03:00.000</span></span> |<span data-ttu-id="c2ebe-178">XYZ 1003</span><span class="sxs-lookup"><span data-stu-id="c2ebe-178">XYZ 1003</span></span> |<span data-ttu-id="c2ebe-179">KI</span><span class="sxs-lookup"><span data-stu-id="c2ebe-179">CT</span></span> |<span data-ttu-id="c2ebe-180">Toyota</span><span class="sxs-lookup"><span data-stu-id="c2ebe-180">Toyota</span></span> |<span data-ttu-id="c2ebe-181">Corolla</span><span class="sxs-lookup"><span data-stu-id="c2ebe-181">Corolla</span></span> |<span data-ttu-id="c2ebe-182">1</span><span class="sxs-lookup"><span data-stu-id="c2ebe-182">1</span></span> |<span data-ttu-id="c2ebe-183">0</span><span class="sxs-lookup"><span data-stu-id="c2ebe-183">0</span></span> |<span data-ttu-id="c2ebe-184">4</span><span class="sxs-lookup"><span data-stu-id="c2ebe-184">4</span></span> | |
| <span data-ttu-id="c2ebe-185">1</span><span class="sxs-lookup"><span data-stu-id="c2ebe-185">1</span></span> |<span data-ttu-id="c2ebe-186">2014-09-10 12:03:00.000</span><span class="sxs-lookup"><span data-stu-id="c2ebe-186">2014-09-10 12:03:00.000</span></span> |<span data-ttu-id="c2ebe-187">1007 BNJ</span><span class="sxs-lookup"><span data-stu-id="c2ebe-187">BNJ 1007</span></span> |<span data-ttu-id="c2ebe-188">NY</span><span class="sxs-lookup"><span data-stu-id="c2ebe-188">NY</span></span> |<span data-ttu-id="c2ebe-189">Honda</span><span class="sxs-lookup"><span data-stu-id="c2ebe-189">Honda</span></span> |<span data-ttu-id="c2ebe-190">CRV</span><span class="sxs-lookup"><span data-stu-id="c2ebe-190">CRV</span></span> |<span data-ttu-id="c2ebe-191">1</span><span class="sxs-lookup"><span data-stu-id="c2ebe-191">1</span></span> |<span data-ttu-id="c2ebe-192">0</span><span class="sxs-lookup"><span data-stu-id="c2ebe-192">0</span></span> |<span data-ttu-id="c2ebe-193">5</span><span class="sxs-lookup"><span data-stu-id="c2ebe-193">5</span></span> |<span data-ttu-id="c2ebe-194">789123456</span><span class="sxs-lookup"><span data-stu-id="c2ebe-194">789123456</span></span> |
| <span data-ttu-id="c2ebe-195">2</span><span class="sxs-lookup"><span data-stu-id="c2ebe-195">2</span></span> |<span data-ttu-id="c2ebe-196">2014-09-10 12:05:00.000</span><span class="sxs-lookup"><span data-stu-id="c2ebe-196">2014-09-10 12:05:00.000</span></span> |<span data-ttu-id="c2ebe-197">1007 CDE</span><span class="sxs-lookup"><span data-stu-id="c2ebe-197">CDE 1007</span></span> |<span data-ttu-id="c2ebe-198">NJ</span><span class="sxs-lookup"><span data-stu-id="c2ebe-198">NJ</span></span> |<span data-ttu-id="c2ebe-199">Toyota</span><span class="sxs-lookup"><span data-stu-id="c2ebe-199">Toyota</span></span> |<span data-ttu-id="c2ebe-200">4 x 4</span><span class="sxs-lookup"><span data-stu-id="c2ebe-200">4x4</span></span> |<span data-ttu-id="c2ebe-201">1</span><span class="sxs-lookup"><span data-stu-id="c2ebe-201">1</span></span> |<span data-ttu-id="c2ebe-202">0</span><span class="sxs-lookup"><span data-stu-id="c2ebe-202">0</span></span> |<span data-ttu-id="c2ebe-203">6</span><span class="sxs-lookup"><span data-stu-id="c2ebe-203">6</span></span> |<span data-ttu-id="c2ebe-204">321987654</span><span class="sxs-lookup"><span data-stu-id="c2ebe-204">321987654</span></span> |

<span data-ttu-id="c2ebe-205">Az oszlopok rövid leírása itt található:</span><span class="sxs-lookup"><span data-stu-id="c2ebe-205">Here is a short description of the columns:</span></span>

| <span data-ttu-id="c2ebe-206">Oszlop</span><span class="sxs-lookup"><span data-stu-id="c2ebe-206">Column</span></span> | <span data-ttu-id="c2ebe-207">Leírás</span><span class="sxs-lookup"><span data-stu-id="c2ebe-207">Description</span></span> |
| --- | --- |
| <span data-ttu-id="c2ebe-208">TollID</span><span class="sxs-lookup"><span data-stu-id="c2ebe-208">TollID</span></span> |<span data-ttu-id="c2ebe-209">A téren kiállítási azonosítója, amely egyedileg azonosít egy téren kiállítási</span><span class="sxs-lookup"><span data-stu-id="c2ebe-209">The toll booth ID that uniquely identifies a toll booth</span></span> |
| <span data-ttu-id="c2ebe-210">EntryTime</span><span class="sxs-lookup"><span data-stu-id="c2ebe-210">EntryTime</span></span> |<span data-ttu-id="c2ebe-211">A dátum és idő a téren kiállítási UTC a vehicle-bejegyzés</span><span class="sxs-lookup"><span data-stu-id="c2ebe-211">The date and time of entry of the vehicle to the toll booth in UTC</span></span> |
| <span data-ttu-id="c2ebe-212">LicensePlate</span><span class="sxs-lookup"><span data-stu-id="c2ebe-212">LicensePlate</span></span> |<span data-ttu-id="c2ebe-213">A vehicle licenc lemez számát</span><span class="sxs-lookup"><span data-stu-id="c2ebe-213">The license plate number of the vehicle</span></span> |
| <span data-ttu-id="c2ebe-214">Állapot</span><span class="sxs-lookup"><span data-stu-id="c2ebe-214">State</span></span> |<span data-ttu-id="c2ebe-215">Az Amerikai Egyesült Államokban állapotának</span><span class="sxs-lookup"><span data-stu-id="c2ebe-215">A state in United States</span></span> |
| <span data-ttu-id="c2ebe-216">Ellenőrizze</span><span class="sxs-lookup"><span data-stu-id="c2ebe-216">Make</span></span> |<span data-ttu-id="c2ebe-217">A automobile gyártója</span><span class="sxs-lookup"><span data-stu-id="c2ebe-217">The manufacturer of the automobile</span></span> |
| <span data-ttu-id="c2ebe-218">Modell</span><span class="sxs-lookup"><span data-stu-id="c2ebe-218">Model</span></span> |<span data-ttu-id="c2ebe-219">A automobile modell száma</span><span class="sxs-lookup"><span data-stu-id="c2ebe-219">The model number of the automobile</span></span> |
| <span data-ttu-id="c2ebe-220">VehicleType</span><span class="sxs-lookup"><span data-stu-id="c2ebe-220">VehicleType</span></span> |<span data-ttu-id="c2ebe-221">Utas járművekről gyűjtött vagy a kereskedelmi járművekről gyűjtött 2 vagy 1</span><span class="sxs-lookup"><span data-stu-id="c2ebe-221">Either 1 for passenger vehicles or 2 for commercial vehicles</span></span> |
| <span data-ttu-id="c2ebe-222">WeightType</span><span class="sxs-lookup"><span data-stu-id="c2ebe-222">WeightType</span></span> |<span data-ttu-id="c2ebe-223">Vehicle súly tonna; az utasok járművekről gyűjtött 0</span><span class="sxs-lookup"><span data-stu-id="c2ebe-223">Vehicle weight in tons; 0 for passenger vehicles</span></span> |
| <span data-ttu-id="c2ebe-224">Téren</span><span class="sxs-lookup"><span data-stu-id="c2ebe-224">Toll</span></span> |<span data-ttu-id="c2ebe-225">USD téren értéke</span><span class="sxs-lookup"><span data-stu-id="c2ebe-225">The toll value in USD</span></span> |
| <span data-ttu-id="c2ebe-226">Címke</span><span class="sxs-lookup"><span data-stu-id="c2ebe-226">Tag</span></span> |<span data-ttu-id="c2ebe-227">Az e-címke a autó, amely automatizálja a fizetési; üres, ha a fizetési manuálisan végezhető el</span><span class="sxs-lookup"><span data-stu-id="c2ebe-227">The e-Tag on the automobile that automates payment; blank where the payment was done manually</span></span> |

### <a name="exit-data-stream"></a><span data-ttu-id="c2ebe-228">Kilépés adatfolyam</span><span class="sxs-lookup"><span data-stu-id="c2ebe-228">Exit data stream</span></span>
<span data-ttu-id="c2ebe-229">A kilépési adatfolyam a téren állomás elhagyása autók információkat tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-229">The exit data stream contains information about cars leaving the toll station.</span></span>

| <span data-ttu-id="c2ebe-230">**TollId**</span><span class="sxs-lookup"><span data-stu-id="c2ebe-230">**TollId**</span></span> | <span data-ttu-id="c2ebe-231">**ExitTime**</span><span class="sxs-lookup"><span data-stu-id="c2ebe-231">**ExitTime**</span></span> | <span data-ttu-id="c2ebe-232">**LicensePlate**</span><span class="sxs-lookup"><span data-stu-id="c2ebe-232">**LicensePlate**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="c2ebe-233">1</span><span class="sxs-lookup"><span data-stu-id="c2ebe-233">1</span></span> |<span data-ttu-id="c2ebe-234">2014-09-10T12:03:00.0000000Z</span><span class="sxs-lookup"><span data-stu-id="c2ebe-234">2014-09-10T12:03:00.0000000Z</span></span> |<span data-ttu-id="c2ebe-235">7001 JNB</span><span class="sxs-lookup"><span data-stu-id="c2ebe-235">JNB 7001</span></span> |
| <span data-ttu-id="c2ebe-236">1</span><span class="sxs-lookup"><span data-stu-id="c2ebe-236">1</span></span> |<span data-ttu-id="c2ebe-237">2014-09-10T12:03:00.0000000Z</span><span class="sxs-lookup"><span data-stu-id="c2ebe-237">2014-09-10T12:03:00.0000000Z</span></span> |<span data-ttu-id="c2ebe-238">1001 YXZ</span><span class="sxs-lookup"><span data-stu-id="c2ebe-238">YXZ 1001</span></span> |
| <span data-ttu-id="c2ebe-239">3</span><span class="sxs-lookup"><span data-stu-id="c2ebe-239">3</span></span> |<span data-ttu-id="c2ebe-240">2014-09-10T12:04:00.0000000Z</span><span class="sxs-lookup"><span data-stu-id="c2ebe-240">2014-09-10T12:04:00.0000000Z</span></span> |<span data-ttu-id="c2ebe-241">1004 ABC</span><span class="sxs-lookup"><span data-stu-id="c2ebe-241">ABC 1004</span></span> |
| <span data-ttu-id="c2ebe-242">2</span><span class="sxs-lookup"><span data-stu-id="c2ebe-242">2</span></span> |<span data-ttu-id="c2ebe-243">2014-09-10T12:07:00.0000000Z</span><span class="sxs-lookup"><span data-stu-id="c2ebe-243">2014-09-10T12:07:00.0000000Z</span></span> |<span data-ttu-id="c2ebe-244">XYZ 1003</span><span class="sxs-lookup"><span data-stu-id="c2ebe-244">XYZ 1003</span></span> |
| <span data-ttu-id="c2ebe-245">1</span><span class="sxs-lookup"><span data-stu-id="c2ebe-245">1</span></span> |<span data-ttu-id="c2ebe-246">2014-09-10T12:08:00.0000000Z</span><span class="sxs-lookup"><span data-stu-id="c2ebe-246">2014-09-10T12:08:00.0000000Z</span></span> |<span data-ttu-id="c2ebe-247">1007 BNJ</span><span class="sxs-lookup"><span data-stu-id="c2ebe-247">BNJ 1007</span></span> |
| <span data-ttu-id="c2ebe-248">2</span><span class="sxs-lookup"><span data-stu-id="c2ebe-248">2</span></span> |<span data-ttu-id="c2ebe-249">2014-09-10T12:07:00.0000000Z</span><span class="sxs-lookup"><span data-stu-id="c2ebe-249">2014-09-10T12:07:00.0000000Z</span></span> |<span data-ttu-id="c2ebe-250">1007 CDE</span><span class="sxs-lookup"><span data-stu-id="c2ebe-250">CDE 1007</span></span> |

<span data-ttu-id="c2ebe-251">Az oszlopok rövid leírása itt található:</span><span class="sxs-lookup"><span data-stu-id="c2ebe-251">Here is a short description of the columns:</span></span>

| <span data-ttu-id="c2ebe-252">Oszlop</span><span class="sxs-lookup"><span data-stu-id="c2ebe-252">Column</span></span> | <span data-ttu-id="c2ebe-253">Leírás</span><span class="sxs-lookup"><span data-stu-id="c2ebe-253">Description</span></span> |
| --- | --- |
| <span data-ttu-id="c2ebe-254">TollID</span><span class="sxs-lookup"><span data-stu-id="c2ebe-254">TollID</span></span> |<span data-ttu-id="c2ebe-255">A téren kiállítási azonosítója, amely egyedileg azonosít egy téren kiállítási</span><span class="sxs-lookup"><span data-stu-id="c2ebe-255">The toll booth ID that uniquely identifies a toll booth</span></span> |
| <span data-ttu-id="c2ebe-256">ExitTime</span><span class="sxs-lookup"><span data-stu-id="c2ebe-256">ExitTime</span></span> |<span data-ttu-id="c2ebe-257">A dátum és idő, a vehicle elhagyásakor téren kiállítási UTC szerint</span><span class="sxs-lookup"><span data-stu-id="c2ebe-257">The date and time of exit of the vehicle from toll booth in UTC</span></span> |
| <span data-ttu-id="c2ebe-258">LicensePlate</span><span class="sxs-lookup"><span data-stu-id="c2ebe-258">LicensePlate</span></span> |<span data-ttu-id="c2ebe-259">A vehicle licenc lemez számát</span><span class="sxs-lookup"><span data-stu-id="c2ebe-259">The license plate number of the vehicle</span></span> |

### <a name="commercial-vehicle-registration-data"></a><span data-ttu-id="c2ebe-260">Kereskedelmi vehicle regisztrációs adatok</span><span class="sxs-lookup"><span data-stu-id="c2ebe-260">Commercial vehicle registration data</span></span>
<span data-ttu-id="c2ebe-261">Az oktatóprogram egy kereskedelmi vehicle adatbázist statikus pillanatképet.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-261">The tutorial uses a static snapshot of a commercial vehicle registration database.</span></span>

| <span data-ttu-id="c2ebe-262">LicensePlate</span><span class="sxs-lookup"><span data-stu-id="c2ebe-262">LicensePlate</span></span> | <span data-ttu-id="c2ebe-263">RegistrationId</span><span class="sxs-lookup"><span data-stu-id="c2ebe-263">RegistrationId</span></span> | <span data-ttu-id="c2ebe-264">Lejárt</span><span class="sxs-lookup"><span data-stu-id="c2ebe-264">Expired</span></span> |
| --- | --- | --- |
| <span data-ttu-id="c2ebe-265">SVT 6023</span><span class="sxs-lookup"><span data-stu-id="c2ebe-265">SVT 6023</span></span> |<span data-ttu-id="c2ebe-266">285429838</span><span class="sxs-lookup"><span data-stu-id="c2ebe-266">285429838</span></span> |<span data-ttu-id="c2ebe-267">1</span><span class="sxs-lookup"><span data-stu-id="c2ebe-267">1</span></span> |
| <span data-ttu-id="c2ebe-268">XLZ 3463</span><span class="sxs-lookup"><span data-stu-id="c2ebe-268">XLZ 3463</span></span> |<span data-ttu-id="c2ebe-269">362715656</span><span class="sxs-lookup"><span data-stu-id="c2ebe-269">362715656</span></span> |<span data-ttu-id="c2ebe-270">0</span><span class="sxs-lookup"><span data-stu-id="c2ebe-270">0</span></span> |
| <span data-ttu-id="c2ebe-271">1005 BIZTONSÁGI</span><span class="sxs-lookup"><span data-stu-id="c2ebe-271">BAC 1005</span></span> |<span data-ttu-id="c2ebe-272">876133137</span><span class="sxs-lookup"><span data-stu-id="c2ebe-272">876133137</span></span> |<span data-ttu-id="c2ebe-273">1</span><span class="sxs-lookup"><span data-stu-id="c2ebe-273">1</span></span> |
| <span data-ttu-id="c2ebe-274">RIV 8632</span><span class="sxs-lookup"><span data-stu-id="c2ebe-274">RIV 8632</span></span> |<span data-ttu-id="c2ebe-275">992711956</span><span class="sxs-lookup"><span data-stu-id="c2ebe-275">992711956</span></span> |<span data-ttu-id="c2ebe-276">0</span><span class="sxs-lookup"><span data-stu-id="c2ebe-276">0</span></span> |
| <span data-ttu-id="c2ebe-277">SNY 7188</span><span class="sxs-lookup"><span data-stu-id="c2ebe-277">SNY 7188</span></span> |<span data-ttu-id="c2ebe-278">592133890</span><span class="sxs-lookup"><span data-stu-id="c2ebe-278">592133890</span></span> |<span data-ttu-id="c2ebe-279">0</span><span class="sxs-lookup"><span data-stu-id="c2ebe-279">0</span></span> |
| <span data-ttu-id="c2ebe-280">ELH 9896</span><span class="sxs-lookup"><span data-stu-id="c2ebe-280">ELH 9896</span></span> |<span data-ttu-id="c2ebe-281">678427724</span><span class="sxs-lookup"><span data-stu-id="c2ebe-281">678427724</span></span> |<span data-ttu-id="c2ebe-282">1</span><span class="sxs-lookup"><span data-stu-id="c2ebe-282">1</span></span> |

<span data-ttu-id="c2ebe-283">Az oszlopok rövid leírása itt található:</span><span class="sxs-lookup"><span data-stu-id="c2ebe-283">Here is a short description of the columns:</span></span>

| <span data-ttu-id="c2ebe-284">Oszlop</span><span class="sxs-lookup"><span data-stu-id="c2ebe-284">Column</span></span> | <span data-ttu-id="c2ebe-285">Leírás</span><span class="sxs-lookup"><span data-stu-id="c2ebe-285">Description</span></span> |
| --- | --- |
| <span data-ttu-id="c2ebe-286">LicensePlate</span><span class="sxs-lookup"><span data-stu-id="c2ebe-286">LicensePlate</span></span> |<span data-ttu-id="c2ebe-287">A vehicle licenc lemez számát</span><span class="sxs-lookup"><span data-stu-id="c2ebe-287">The license plate number of the vehicle</span></span> |
| <span data-ttu-id="c2ebe-288">RegistrationId</span><span class="sxs-lookup"><span data-stu-id="c2ebe-288">RegistrationId</span></span> |<span data-ttu-id="c2ebe-289">A vehicle regisztrációs azonosítója</span><span class="sxs-lookup"><span data-stu-id="c2ebe-289">The vehicle's registration ID</span></span> |
| <span data-ttu-id="c2ebe-290">Lejárt</span><span class="sxs-lookup"><span data-stu-id="c2ebe-290">Expired</span></span> |<span data-ttu-id="c2ebe-291">A regisztrációs állapotát a vehicle: 0, ha a vehicle regisztrációs aktív, ha lejárt a regisztrációs 1</span><span class="sxs-lookup"><span data-stu-id="c2ebe-291">The registration status of the vehicle: 0 if vehicle registration is active, 1 if registration is expired</span></span> |

## <a name="set-up-the-environment-for-azure-stream-analytics"></a><span data-ttu-id="c2ebe-292">Az Azure Stream Analytics a környezet beállítása</span><span class="sxs-lookup"><span data-stu-id="c2ebe-292">Set up the environment for Azure Stream Analytics</span></span>
<span data-ttu-id="c2ebe-293">Az oktatóanyag teljesítéséhez szüksége van a Microsoft Azure-előfizetés.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-293">To complete this tutorial, you need a Microsoft Azure subscription.</span></span> <span data-ttu-id="c2ebe-294">A Microsoft biztosít az ingyenes Microsoft Azure-szolgáltatásokhoz.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-294">Microsoft offers free trial for Microsoft Azure services.</span></span>

<span data-ttu-id="c2ebe-295">Ha még nem rendelkezik Azure-fiókot, akkor [ingyenes próbaverzióját kérelem](http://azure.microsoft.com/pricing/free-trial/).</span><span class="sxs-lookup"><span data-stu-id="c2ebe-295">If you do not have an Azure account, you can [request a free trial version](http://azure.microsoft.com/pricing/free-trial/).</span></span>

> [!NOTE]
> <span data-ttu-id="c2ebe-296">Regisztráljon egy ingyenes próbaverziót, mobileszközök, amelyek fogadhat szöveges üzeneteinek és érvényes hitelkártyát kell.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-296">To sign up for a free trial, you need a mobile device that can receive text messages and a valid credit card.</span></span>
> 
> 

<span data-ttu-id="c2ebe-297">Győződjön meg arról, ez a cikk végén a "Az Azure-fiók törlése" című szakaszának lépéseit követni, így biztosíthatja, hogy az Azure-kreditjeinek a lehető legjobb felhasználását.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-297">Be sure to follow the steps in the “Clean up your Azure account” section at the end of this article so that you can make the best use of your Azure credit.</span></span>

## <a name="provision-azure-resources-required-for-the-tutorial"></a><span data-ttu-id="c2ebe-298">Az oktatóanyag szükséges Azure-erőforrások kiépítése</span><span class="sxs-lookup"><span data-stu-id="c2ebe-298">Provision Azure resources required for the tutorial</span></span>
<span data-ttu-id="c2ebe-299">Ez az oktatóanyag két az event hubs fogadásához szükséges *bejegyzés* és *kilépéshez* adatfolyamokat.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-299">This tutorial requires two event hubs to receive *entry* and *exit* data streams.</span></span> <span data-ttu-id="c2ebe-300">Az Azure SQL Database kiírathatja a eredményeket a Stream Analytics-feladatok.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-300">Azure SQL Database outputs the results of the Stream Analytics jobs.</span></span> <span data-ttu-id="c2ebe-301">Az Azure Storage a vehicle regisztrációjával kapcsolatos hivatkozási adatokat tárolja.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-301">Azure Storage stores reference data about vehicle registrations.</span></span>

<span data-ttu-id="c2ebe-302">A Setup.ps1 parancsfájl a TollApp mappában a Githubon hozhat létre az összes szükséges erőforrásokat.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-302">You can use the Setup.ps1 script in the TollApp folder on GitHub to create all required resources.</span></span> <span data-ttu-id="c2ebe-303">Idő érdekében azt javasoljuk, hogy azt.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-303">In the interest of time, we recommend that you run it.</span></span> <span data-ttu-id="c2ebe-304">Ha azt szeretné, további információt ezen erőforrások konfigurálása az Azure portálon, tekintse meg a "Oktatóanyag erőforrások konfigurálása az Azure-portálon a" függelék.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-304">If you would like to learn more about how to configure these resources in the Azure portal, refer to the “Configuring tutorial resources in Azure portal” appendix.</span></span>

<span data-ttu-id="c2ebe-305">Töltse le és mentse a támogató [TollApp](https://github.com/Azure/azure-stream-analytics/blob/master/Samples/TollApp/TollApp.zip) mappa és a fájlokat.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-305">Download and save the supporting [TollApp](https://github.com/Azure/azure-stream-analytics/blob/master/Samples/TollApp/TollApp.zip) folder and files.</span></span>

<span data-ttu-id="c2ebe-306">Nyissa meg a **Microsoft Azure PowerShell** ablak *rendszergazdaként*.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-306">Open a **Microsoft Azure PowerShell** window *as an administrator*.</span></span> <span data-ttu-id="c2ebe-307">Ha még nem rendelkezik Azure PowerShell, kövesse az utasításokat [Azure PowerShell telepítése és konfigurálása](/powershell/azure/overview) a telepítéshez.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-307">If you do not yet have Azure PowerShell, follow the instructions in [Install and configure Azure PowerShell](/powershell/azure/overview) to install it.</span></span>

<span data-ttu-id="c2ebe-308">A Windows automatikusan blokkolja .ps1 .dll vagy .exe fájlok, mert a végrehajtási házirend beállítása, a parancsfájl futtatása előtt kell.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-308">Because Windows automatically blocks .ps1, .dll, and .exe files, you need to set the execution policy before you run the script.</span></span> <span data-ttu-id="c2ebe-309">Győződjön meg arról, hogy az Azure PowerShell ablakban fut *rendszergazdaként*.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-309">Make sure the Azure PowerShell window is running *as an administrator*.</span></span> <span data-ttu-id="c2ebe-310">Futtatás **Set-ExecutionPolicy unrestricted**.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-310">Run **Set-ExecutionPolicy unrestricted**.</span></span> <span data-ttu-id="c2ebe-311">Amikor a rendszer kéri, írja be a **Y**.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-311">When prompted, type **Y**.</span></span>

![Képernyőkép a "Set-ExecutionPolicy unrestricted" Azure PowerShell ablakban fut](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image2.png)

<span data-ttu-id="c2ebe-313">Futtatás **Get-ExecutionPolicy** győződjön meg arról, hogy működőképes-e a parancsot.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-313">Run **Get-ExecutionPolicy** to make sure that the command worked.</span></span>

![Képernyőkép a "Get-ExecutionPolicy" Azure PowerShell ablakban fut](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image3.png)

<span data-ttu-id="c2ebe-315">Nyissa meg azt a könyvtárat, amely rendelkezik a parancsfájlok és készítő alkalmazás.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-315">Go to the directory that has the scripts and generator application.</span></span>

![Képernyőkép a "cd .\TollApp\TollApp" az Azure PowerShell ablakban fut](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image4.png)

<span data-ttu-id="c2ebe-317">Típus **.\\ Setup.ps1** beállítása az Azure-fiókjával, hozzon létre és konfigurálja az összes szükséges erőforrásokat, és a start események generálásához.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-317">Type **.\\Setup.ps1** to set up your Azure account, create and configure all required resources, and start to generate events.</span></span> <span data-ttu-id="c2ebe-318">A parancsfájl véletlenszerűen szerzi be a terület az erőforrások létrehozásához.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-318">The script randomly picks up a region to create your resources.</span></span> <span data-ttu-id="c2ebe-319">Kifejezetten megad egy régiót, továbbítja a **-hely** paraméter a következő példában látható módon:</span><span class="sxs-lookup"><span data-stu-id="c2ebe-319">To explicitly specify a region, you can pass the **-location** parameter as in the following example:</span></span>

<span data-ttu-id="c2ebe-320">**. \\Setup.ps1-helyre "USA középső RÉGIÓJA"**</span><span class="sxs-lookup"><span data-stu-id="c2ebe-320">**.\\Setup.ps1 -location “Central US”**</span></span>

![Az Azure bejelentkezési oldalát bemutató képernyőkép](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image5.png)

<span data-ttu-id="c2ebe-322">A parancsfájl megnyitása a **bejelentkezés** Microsoft Azure oldalán.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-322">The script opens the **Sign In** page for Microsoft Azure.</span></span> <span data-ttu-id="c2ebe-323">Adja meg a fiók hitelesítő adatait.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-323">Enter your account credentials.</span></span>

> [!NOTE]
> <span data-ttu-id="c2ebe-324">A fiókjának van hozzáférési joga több előfizetéssel, ha a rendszer kéri, írja be az oktatóanyag használni kívánt előfizetés nevét.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-324">If your account has access to multiple subscriptions, you will be asked to enter the subscription name that you want to use for the tutorial.</span></span>
> 
> 

<span data-ttu-id="c2ebe-325">A parancsfájl futtatásához több percig is eltarthat.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-325">The script can take several minutes to run.</span></span> <span data-ttu-id="c2ebe-326">Miután befejeződött, a kimeneti az alábbi képernyőfelvételen kell hasonlítania.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-326">After it finishes, the output should look like the following screenshot.</span></span>

![A parancsfájl az Azure PowerShell-ablakban képernyőképe](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image6.PNG)

<span data-ttu-id="c2ebe-328">Ezenkívül megjelenik egy másik ablakban az alábbi képernyőfelvételhez hasonló.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-328">You will also see another window that's similar to the following screenshot.</span></span> <span data-ttu-id="c2ebe-329">Az alkalmazás események küldése az Azure Event Hubs, amely az oktatóanyag futtatásához szükséges.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-329">This application is sending events to Azure Event Hubs, which is required to run the tutorial.</span></span> <span data-ttu-id="c2ebe-330">Igen ne állítsa le az alkalmazást vagy az ablak bezárása, amíg be nem fejeződik az oktatóanyag.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-330">So, do not stop the application or close this window until you finish the tutorial.</span></span>

![Képernyőkép a "Küldő event hub adatok"](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image7.png)

<span data-ttu-id="c2ebe-332">Most már megtekintheti az erőforrások az Azure portálon kell lennie.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-332">You should be able to see your resources in Azure portal now.</span></span> <span data-ttu-id="c2ebe-333">Ugrás a <https://portal.azure.com>, és jelentkezzen be a fiók hitelesítő adataival.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-333">Go to <https://portal.azure.com>, and sign in with your account credentials.</span></span> <span data-ttu-id="c2ebe-334">Vegye figyelembe, hogy jelenleg bizonyos funkciók használja a klasszikus portálon.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-334">Note that currently some functionality utilizes the classic portal.</span></span> <span data-ttu-id="c2ebe-335">Ezeket a lépéseket egyértelműen jelzik.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-335">These steps will be clearly indicated.</span></span>

### <a name="azure-event-hubs"></a><span data-ttu-id="c2ebe-336">Azure Event Hubs</span><span class="sxs-lookup"><span data-stu-id="c2ebe-336">Azure Event Hubs</span></span>
<span data-ttu-id="c2ebe-337">Az Azure portálon kattintson **további szolgáltatások** a bal oldali felügyeleti ablaktábla alján.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-337">In the Azure portal, click **More services** on the bottom of the left management pane.</span></span> <span data-ttu-id="c2ebe-338">Típus **az Event hubs** a mezőben megadott, és kattintson a **az Event hubs**.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-338">Type **Event hubs** in the field provided and click **Event hubs**.</span></span> <span data-ttu-id="c2ebe-339">Megnyílik egy új böngészőablakot megjelenítéséhez a **SERVICE BUS** terület a **klasszikus portál**.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-339">This launches a new browser window to display the **SERVICE BUS** area in the **classic portal**.</span></span> <span data-ttu-id="c2ebe-340">Itt látható az Event Hubs hozta létre a Setup.ps1 parancsfájl.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-340">Here you can see the Event Hub created by the Setup.ps1 script.</span></span>

![Service Bus](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image8.png)

<span data-ttu-id="c2ebe-342">Kattintson a kezdetű *tolldata*.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-342">Click the one that starts with *tolldata*.</span></span> <span data-ttu-id="c2ebe-343">Kattintson a **EVENT HUBS** fülre. Látni fogja a két az event hubs nevű *bejegyzés* és *kilépéshez* létre ebben a névtérben.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-343">Click the **EVENT HUBS** tab. You will see two event hubs named *entry* and *exit* created in this namespace.</span></span>

![Event Hubs lapon a klasszikus portálon](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image9.png)

### <a name="azure-storage-container"></a><span data-ttu-id="c2ebe-345">Az Azure Storage-tároló áttekintése</span><span class="sxs-lookup"><span data-stu-id="c2ebe-345">Azure Storage container</span></span>
1. <span data-ttu-id="c2ebe-346">Lépjen vissza a lap a böngészőben nyissa meg az Azure-portálhoz.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-346">Go back to the tab in your browser open to Azure portal.</span></span> <span data-ttu-id="c2ebe-347">Kattintson a **tárolási** az oktatóanyagban használt Azure tároló megtekintéséhez az Azure portál bal oldalán.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-347">Click **STORAGE** on the left side of the Azure portal to see the Azure Storage container that's used in the tutorial.</span></span>
   
    ![Tárolási menüpont](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image11.png)
2. <span data-ttu-id="c2ebe-349">Kattintson a kezdődő *tolldata*.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-349">Click the one that start with *tolldata*.</span></span> <span data-ttu-id="c2ebe-350">Kattintson a **TÁROLÓK** fülre, és tekintse meg a létrehozott tároló.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-350">Click the **CONTAINERS** tab to see the created container.</span></span>
   
    ![Az Azure portálon tárolók lap](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image10.png)
3. <span data-ttu-id="c2ebe-352">Kattintson a **tolldata** tároló, a feltöltött JSON-fájl, amely rendelkezik a vehicle regisztrációs adatainak megjelenítéséhez.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-352">Click the **tolldata** container to see the uploaded JSON file that has vehicle registration data.</span></span>
   
    ![Képernyőfelvétel a registration.json fájl a tárolóban](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image12.png)

### <a name="azure-sql-database"></a><span data-ttu-id="c2ebe-354">Azure SQL Database</span><span class="sxs-lookup"><span data-stu-id="c2ebe-354">Azure SQL Database</span></span>
1. <span data-ttu-id="c2ebe-355">Az első lapon nyitotta meg a böngészőben lépjen vissza az Azure-portálon.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-355">Go back to the Azure portal on the first tab that was opened in the browser.</span></span> <span data-ttu-id="c2ebe-356">Kattintson a **SQL-ADATBÁZISOK** az Azure portálon, hogy az SQL-adatbázis, amely az oktatóprogram használható, és kattintson a bal oldalán **tolldatadb**.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-356">Click **SQL DATABASES** on the left side of the Azure portal to see the SQL database that will be used in the tutorial and click **tolldatadb**.</span></span>
   
    ![Képernyőfelvétel a kívánt SQL-adatbázis létrehozása](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image15.png)
2. <span data-ttu-id="c2ebe-358">Másolja a kiszolgáló neve nélkül a portszám (*kiszolgálónév*. database.windows.net, például).</span><span class="sxs-lookup"><span data-stu-id="c2ebe-358">Copy the server name without the port number (*servername*.database.windows.net, for example).</span></span>
    <span data-ttu-id="c2ebe-359">![A létrehozott SQL-adatbázis adatbázis képernyőképe](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image15a.png)</span><span class="sxs-lookup"><span data-stu-id="c2ebe-359">![Screenshot of the created SQL database db](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image15a.png)</span></span>

## <a name="connect-to-the-database-from-visual-studio"></a><span data-ttu-id="c2ebe-360">Kapcsolódjon az adatbázishoz a Visual Studio</span><span class="sxs-lookup"><span data-stu-id="c2ebe-360">Connect to the database from Visual Studio</span></span>
<span data-ttu-id="c2ebe-361">Visual Studio lekérdezés eredményeit a kimeneti adatbázis eléréséhez használja.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-361">Use Visual Studio to access query results in the output database.</span></span>

<span data-ttu-id="c2ebe-362">Kapcsolódás az SQL-adatbázis (cél), a Visual Studio eszközből:</span><span class="sxs-lookup"><span data-stu-id="c2ebe-362">Connect to the SQL database (the destination) from Visual Studio:</span></span>

1. <span data-ttu-id="c2ebe-363">Nyissa meg a Visual Studio, és kattintson a **eszközök** > **Kapcsolódás adatbázis**.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-363">Open Visual Studio, and then click **Tools** > **Connect to Database**.</span></span>
2. <span data-ttu-id="c2ebe-364">Kattintson az **Microsoft SQL Server** adatforrásként.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-364">If asked, click **Microsoft SQL Server** as a data source.</span></span>
   
    ![Változás adatforrás párbeszédpanel](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image16.png)
3. <span data-ttu-id="c2ebe-366">Az a **kiszolgálónév** mezőbe illessze be a másolt az előző szakaszban az Azure portálról nevét (Ez azt jelenti, hogy *kiszolgálónév*. database.windows.net).</span><span class="sxs-lookup"><span data-stu-id="c2ebe-366">In the **Server name** field, paste the name that you copied in the previous section from the Azure portal (that is, *servername*.database.windows.net).</span></span>
4. <span data-ttu-id="c2ebe-367">Kattintson a **SQL Server-hitelesítés használható**.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-367">Click **Use SQL Server Authentication**.</span></span>
5. <span data-ttu-id="c2ebe-368">Adja meg **tolladmin** a a **felhasználónév** mező és **123toll!**</span><span class="sxs-lookup"><span data-stu-id="c2ebe-368">Enter **tolladmin** in the **User name** field and **123toll!**</span></span> <span data-ttu-id="c2ebe-369">az a **jelszó** mező.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-369">in the **Password** field.</span></span>
6. <span data-ttu-id="c2ebe-370">Kattintson a **válasszon vagy adjon meg egy adatbázisnevet**, és válassza ki **TollDataDB** -adatbázisként.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-370">Click **Select or enter a database name**, and select **TollDataDB** as the database.</span></span>
   
    ![Kapcsolat párbeszédpanel hozzáadása](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image17.jpg)
7. <span data-ttu-id="c2ebe-372">Kattintson az **OK** gombra.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-372">Click **OK**.</span></span>
8. <span data-ttu-id="c2ebe-373">Nyissa meg a Server Explorer.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-373">Open Server Explorer.</span></span>
   
    ![Server Explorer (Kiszolgálókezelő)](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image18.png)
9. <span data-ttu-id="c2ebe-375">Tekintse meg a TollDataDB adatbázis négy tábláit.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-375">See four tables in the TollDataDB database.</span></span>
   
    ![A TollDataDB adatbázis](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image19.jpg)

## <a name="event-generator-tollapp-sample-project"></a><span data-ttu-id="c2ebe-377">Esemény generátor: TollApp mintaprojektet</span><span class="sxs-lookup"><span data-stu-id="c2ebe-377">Event generator: TollApp sample project</span></span>
<span data-ttu-id="c2ebe-378">A PowerShell parancsfájl automatikusan elindul az események küldése az TollApp minta alkalmazás használatával.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-378">The PowerShell script automatically starts to send events by using the TollApp sample application program.</span></span> <span data-ttu-id="c2ebe-379">Nem kell további lépések végrehajtására.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-379">You don’t need to perform any additional steps.</span></span>

<span data-ttu-id="c2ebe-380">Azonban ha érdekli megvalósítás részletei, megtalálhatja az alkalmazás forráskódját, a TollApp a Githubon [minták/TollApp](https://aka.ms/azure-stream-analytics-toll-source).</span><span class="sxs-lookup"><span data-stu-id="c2ebe-380">However, if you are interested in implementation details, you can find the source code of the TollApp application in GitHub [samples/TollApp](https://aka.ms/azure-stream-analytics-toll-source).</span></span>

![Képernyőkép a jelenik meg a Visual Studio mintakód](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image20.png)

## <a name="create-a-stream-analytics-job"></a><span data-ttu-id="c2ebe-382">Stream Analytics-feladat létrehozása</span><span class="sxs-lookup"><span data-stu-id="c2ebe-382">Create a Stream Analytics job</span></span>
1. <span data-ttu-id="c2ebe-383">Az Azure portálon kattintson a zöld plusz jel új Stream Analytics-feladat létrehozása a lap bal felső sarkában.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-383">In the Azure portal, click the green plus sign in the top-left corner of the page to create a new Stream Analytics job.</span></span> <span data-ttu-id="c2ebe-384">Válassza ki **Eszközintelligencia + analitika** majd **Stream Analytics-feladat**.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-384">Select **Intelligence + Analytics** and then click **Stream Analytics job**.</span></span>
   
    ![Új gomb](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image21.png)
2. <span data-ttu-id="c2ebe-386">Adja meg a feladat nevét, az előfizetés ellenőrzése javítsa ki, és hozzon létre egy új erőforráscsoportot a Event hub tárolóként ugyanabban a régióban (alapértelmezett érték déli középső Régiójában a parancsfájl).</span><span class="sxs-lookup"><span data-stu-id="c2ebe-386">Provide a job name, validate the subscription is correct and then create a new Resource group in the same region as the Event hub storage (default is South Central US for the script).</span></span>
3. <span data-ttu-id="c2ebe-387">Kattintson a **rögzítés az irányítópulton** , majd **létrehozása** az oldal alján.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-387">Click **Pin to dashboard** and then **CREATE** at the bottom of the page.</span></span>
   
    ![A Stream Analytics-feladat beállítás létrehozása](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image22.png)

## <a name="define-input-sources"></a><span data-ttu-id="c2ebe-389">Adja meg a bemeneti források</span><span class="sxs-lookup"><span data-stu-id="c2ebe-389">Define input sources</span></span>
1. <span data-ttu-id="c2ebe-390">A feladat készít, és nyissa meg a feladatok lapot.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-390">The job will create and open the job page.</span></span> <span data-ttu-id="c2ebe-391">Vagy kattintson a portál irányítópultján létrehozott analytics-feladathoz.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-391">Or you can click the created analytics job on the portal dashboard.</span></span>

2. <span data-ttu-id="c2ebe-392">Kattintson a **BEMENETEK** lapon meghatározhatja a forrásadatokban.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-392">Click the **INPUTS** tab to define the source data.</span></span>
   
    ![A bemeneti adatok lap](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image24.png)
3. <span data-ttu-id="c2ebe-394">Kattintson a **vegye fel a bemeneti**.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-394">Click **ADD AN INPUT**.</span></span>
   
    ![A bemeneti beállítás hozzáadása](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image25.png)
4. <span data-ttu-id="c2ebe-396">Adja meg **EntryStream** , **bemeneti ÁLJEL**.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-396">Enter **EntryStream** as **INPUT ALIAS**.</span></span>
5. <span data-ttu-id="c2ebe-397">Forrástípus **adatfolyam**</span><span class="sxs-lookup"><span data-stu-id="c2ebe-397">Source Type is **Data Stream**</span></span>
6. <span data-ttu-id="c2ebe-398">Forrás **eseményközpont**.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-398">Source is **Event hub**.</span></span>
7. <span data-ttu-id="c2ebe-399">**Service bus-névtér** le egy a TollData az vetett a kell lennie.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-399">**Service bus namespace** should be the TollData one in the drop down.</span></span>
8. <span data-ttu-id="c2ebe-400">**Eseményközpont neveként** meg **bejegyzés**.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-400">**Event hub name** should be set to **entry**.</span></span>
9. <span data-ttu-id="c2ebe-401">**Eseményközpont házirend neve*van **RootManageSharedAccessKey** (az alapértelmezett érték).</span><span class="sxs-lookup"><span data-stu-id="c2ebe-401">**Event hub policy name*is **RootManageSharedAccessKey**  (the default value).</span></span>
10. <span data-ttu-id="c2ebe-402">Válassza ki **JSON** a **esemény SZERIALIZÁLÁSI formátum** és **UTF8** a **KÓDOLÁS**.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-402">Select **JSON** for **EVENT SERIALIZATION FORMAT** and **UTF8** for **ENCODING**.</span></span>
   
    <span data-ttu-id="c2ebe-403">A beállítások hasonlóan fog kinézni:</span><span class="sxs-lookup"><span data-stu-id="c2ebe-403">Your settings will look like:</span></span>
   
    ![Eseményközpont-beállítások](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image28.png)

10. <span data-ttu-id="c2ebe-405">Kattintson a **létrehozása** a varázsló befejezéséhez a lap alján.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-405">Click **Create** at the bottom of the page to finish the wizard.</span></span>
    
    <span data-ttu-id="c2ebe-406">Most, hogy létrehozta a bejegyzést adatfolyam, akkor lesz kövesse a lépéseket a kilépési adatfolyam létrehozásához.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-406">Now that you've created the entry stream, you will follow the same steps to create the exit stream.</span></span> <span data-ttu-id="c2ebe-407">Ne adja meg, értékeket az alábbi képernyőfelvételen a.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-407">Be sure to enter values as on the following screenshot.</span></span>
    
    ![A kilépési adatfolyam beállításai](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image31.png)
    
    <span data-ttu-id="c2ebe-409">Két bemeneti adatfolyamok definiált:</span><span class="sxs-lookup"><span data-stu-id="c2ebe-409">You have defined two input streams:</span></span>
    
    ![Az Azure portálon definiált bemeneti adatfolyamok](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image32.png)
    
    <span data-ttu-id="c2ebe-411">A következő adhat a car regisztrációs adatokat tartalmazó blob elérési referenciaadat-bemenetek.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-411">Next, you will add reference data input for the blob file that contains car registration data.</span></span>
11. <span data-ttu-id="c2ebe-412">Kattintson a **hozzáadása**, majd kövesse az adatfolyam bemenetek, de válassza **REFERENCIAADATOK** helyett **adatfolyam** és a **bemeneti Alias** van **regisztrációs**.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-412">Click **ADD**, and then follow the same process for the stream inputs but select **REFERENCE DATA** instead of **Data Stream** and the **Input Alias** is **Registration**.</span></span>

12. <span data-ttu-id="c2ebe-413">tárfiók kezdetű **tolldata**.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-413">storage account that starts with **tolldata**.</span></span> <span data-ttu-id="c2ebe-414">A tároló neve legyen **tolldata**, és a **elérési út mintája** kell **registration.json**.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-414">The container name should be **tolldata**, and the **PATH PATTERN** should be **registration.json**.</span></span> <span data-ttu-id="c2ebe-415">Ezt a fájlnevet és nagybetűk különbözőnek kell lennie **kis**.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-415">This file name is case sensitive and should be **lowercase**.</span></span>
    
    ![Blog tárolási beállításai](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image34.png)
13. <span data-ttu-id="c2ebe-417">Kattintson a **létrehozása** a varázsló befejezéséhez.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-417">Click **Create** to finish the wizard.</span></span>

<span data-ttu-id="c2ebe-418">Most már az összes bemenet vannak definiálva.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-418">Now all inputs are defined.</span></span>

## <a name="define-output"></a><span data-ttu-id="c2ebe-419">Adja meg a kimeneti</span><span class="sxs-lookup"><span data-stu-id="c2ebe-419">Define output</span></span>
1. <span data-ttu-id="c2ebe-420">A Stream Analytics-áttekintés ablaktábláján válassza **KIMENETEK**.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-420">On the Stream Analytics job overview pane, select **OUTPUTS**.</span></span>
   
    ![A kimenet lapon és a "Kimenetnek hozzáadása" lehetőséget](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image37.png)
2. <span data-ttu-id="c2ebe-422">Kattintson az **Add** (Hozzáadás) parancsra.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-422">Click **Add**.</span></span>
3. <span data-ttu-id="c2ebe-423">Állítsa be a **kimeneti alias** "kimeneti", majd **gyűjtése** való **SQL-adatbázis**.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-423">Set the **Output alias** to 'output' and then **Sink** to **SQL database**.</span></span>
3. <span data-ttu-id="c2ebe-424">Válassza ki a kiszolgáló nevét, amely a cikk a "Kapcsolódás az adatbázis a Visual Studio" szakaszában szerepel.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-424">Select the server name that was used in the “Connect to Database from Visual Studio” section of the article.</span></span> <span data-ttu-id="c2ebe-425">Az adatbázisnév **TollDataDB**.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-425">The database name is **TollDataDB**.</span></span>
4. <span data-ttu-id="c2ebe-426">Adja meg **tolladmin** a a **felhasználónév** mezőben **123toll!**</span><span class="sxs-lookup"><span data-stu-id="c2ebe-426">Enter **tolladmin** in the **USERNAME** field, **123toll!**</span></span> <span data-ttu-id="c2ebe-427">az a **jelszó** mező, és **TollDataRefJoin** a a **tábla** mező.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-427">in the **PASSWORD** field, and **TollDataRefJoin** in the **TABLE** field.</span></span>
   
    ![SQL-adatbázis beállításai](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image38.png)
5. <span data-ttu-id="c2ebe-429">Kattintson a **Create** (Létrehozás) gombra.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-429">Click **Create**.</span></span>

## <a name="azure-stream-analytics-query"></a><span data-ttu-id="c2ebe-430">Az Azure Stream analytics-lekérdezés</span><span class="sxs-lookup"><span data-stu-id="c2ebe-430">Azure Stream analytics query</span></span>
<span data-ttu-id="c2ebe-431">A **lekérdezés** lap tartalmaz, amely átalakítja a bejövő adatok SQL-lekérdezést.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-431">The **QUERY** tab contains a SQL query that transforms the incoming data.</span></span>

![A lekérdezés a lekérdezés lap hozzá](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image39.png)

<span data-ttu-id="c2ebe-433">Ez az oktatóanyag kísérli meg több, adatokat és a megoldások, amelyek segítségével az Azure Stream Analytics adjon meg egy megfelelő választ a Stream Analytics lekérdezések toll kapcsolódó üzleti kérdések megválaszolása.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-433">This tutorial attempts to answer several business questions that are related to toll data and constructs Stream Analytics queries that can be used in Azure Stream Analytics to provide a relevant answer.</span></span>

<span data-ttu-id="c2ebe-434">Az első Stream Analytics-feladat indítása előtt most megismerkedhet néhány olyan forgatókönyvet, és a lekérdezés szintaxisa.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-434">Before you start your first Stream Analytics job, let’s explore a few scenarios and the query syntax.</span></span>

## <a name="introduction-to-azure-stream-analytics-query-language"></a><span data-ttu-id="c2ebe-435">Bevezetés az Azure Stream Analytics lekérdezési nyelv</span><span class="sxs-lookup"><span data-stu-id="c2ebe-435">Introduction to Azure Stream Analytics query language</span></span>
- - -
<span data-ttu-id="c2ebe-436">Tegyük fel, hogy szeretné-e, adjon meg egy téren kiállítási gépjárműveket száma.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-436">Let’s say that you need to count the number of vehicles that enter a toll booth.</span></span> <span data-ttu-id="c2ebe-437">Mivel ez egy állandó folyama miatt események, meg kell adnia egy "időn belül."</span><span class="sxs-lookup"><span data-stu-id="c2ebe-437">Because this is a continuous stream of events, you have to define a “period of time.”</span></span> <span data-ttu-id="c2ebe-438">Módosítsa a kérdés, hogy "hogyan különböző adja meg egy téren kiállítási három percenként?".</span><span class="sxs-lookup"><span data-stu-id="c2ebe-438">Let's modify the question to be “How many vehicles enter a toll booth every three minutes?”.</span></span> <span data-ttu-id="c2ebe-439">Ezt gyakran nevezik az átfedésmentes száma.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-439">This is commonly referred to as the tumbling count.</span></span>

<span data-ttu-id="c2ebe-440">Nézzük meg az Azure Stream Analytics-lekérdezés, amely a kérdésre választ:</span><span class="sxs-lookup"><span data-stu-id="c2ebe-440">Let’s look at the Azure Stream Analytics query that answers this question:</span></span>

    SELECT TollId, System.Timestamp AS WindowEnd, COUNT(*) AS Count
    FROM EntryStream TIMESTAMP BY EntryTime
    GROUP BY TUMBLINGWINDOW(minute, 3), TollId

<span data-ttu-id="c2ebe-441">Ahogy látja, az Azure Stream Analytics használ lekérdezésnyelvet, amely például az SQL, és adja meg a lekérdezés idővel kapcsolatos szempontok néhány bővítmények hozzáadása.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-441">As you can see, Azure Stream Analytics uses a query language that's like SQL and adds a few extensions to specify time-related aspects of the query.</span></span>

<span data-ttu-id="c2ebe-442">További részletekért olvassa el [Időkezelést](https://msdn.microsoft.com/library/azure/mt582045.aspx) és [Ablakozó](https://msdn.microsoft.com/library/azure/dn835019.aspx) MSDN a lekérdezésben használt szerkezeteket tartalmaz.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-442">For more details, read about [Time Management](https://msdn.microsoft.com/library/azure/mt582045.aspx) and [Windowing](https://msdn.microsoft.com/library/azure/dn835019.aspx) constructs used in the query from MSDN.</span></span>

## <a name="testing-azure-stream-analytics-queries"></a><span data-ttu-id="c2ebe-443">Tesztelés Azure Stream Analytics-lekérdezések</span><span class="sxs-lookup"><span data-stu-id="c2ebe-443">Testing Azure Stream Analytics queries</span></span>
<span data-ttu-id="c2ebe-444">Most, hogy az első Azure Stream Analytics lekérdezési írt, tesztelheti, akkor a mintaadatfájlok a TollApp mappában található a következő elérési út használatával:</span><span class="sxs-lookup"><span data-stu-id="c2ebe-444">Now that you have written your first Azure Stream Analytics query, it is time to test it by using sample data files located in your TollApp folder in the following path:</span></span>

<span data-ttu-id="c2ebe-445">**.. \\TollApp\\TollApp\\adatok**</span><span class="sxs-lookup"><span data-stu-id="c2ebe-445">**..\\TollApp\\TollApp\\Data**</span></span>

<span data-ttu-id="c2ebe-446">Ez a mappa a következő fájlokat tartalmazza:</span><span class="sxs-lookup"><span data-stu-id="c2ebe-446">This folder contains the following files:</span></span>

* <span data-ttu-id="c2ebe-447">Entry.JSON</span><span class="sxs-lookup"><span data-stu-id="c2ebe-447">Entry.json</span></span>
* <span data-ttu-id="c2ebe-448">Exit.JSON</span><span class="sxs-lookup"><span data-stu-id="c2ebe-448">Exit.json</span></span>
* <span data-ttu-id="c2ebe-449">Registration.JSON</span><span class="sxs-lookup"><span data-stu-id="c2ebe-449">Registration.json</span></span>

## <a name="question-1-number-of-vehicles-entering-a-toll-booth"></a><span data-ttu-id="c2ebe-450">1. kérdés: Sűrítéses egy téren kiállítási száma</span><span class="sxs-lookup"><span data-stu-id="c2ebe-450">Question 1: Number of vehicles entering a toll booth</span></span>
1. <span data-ttu-id="c2ebe-451">Nyissa meg az Azure-portálon, és nyissa meg a létrehozott Azure Stream Analytics-feladathoz.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-451">Open the Azure portal and go to your created Azure Stream Analytics job.</span></span> <span data-ttu-id="c2ebe-452">Kattintson a **lekérdezés** lapra, és illessze be a fenti szakaszban leírt lekérdezést.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-452">Click the **QUERY** tab and paste query from the previous section.</span></span>

2. <span data-ttu-id="c2ebe-453">A mintaadatok lekérdezése ellenőrzéséhez feltölteni az adatokat a EntryStream bemeneti be kattintva a... szimbólum, és kiválasztja **tölthet fel fájlból adatot**.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-453">To validate this query against sample data, upload the data into the EntryStream input by clicking the ... symbol and selecting **Upload sample data from file**.</span></span>

    ![Képernyőfelvétel a Entry.json fájl](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image41.png)
3. <span data-ttu-id="c2ebe-455">A megjelenő panelen válassza ki a fájlt (Entry.json) a helyi számítógépen, és kattintson a **OK**.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-455">In the pane that appears select the file (Entry.json) on your local machine and click **OK**.</span></span> <span data-ttu-id="c2ebe-456">A **teszt** ikon fog most megvilágítására és kattintható lehet.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-456">The **Test** icon will now illuminate and be clickable.</span></span>
   
    ![Képernyőfelvétel a Entry.json fájl](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image42.png)
3. <span data-ttu-id="c2ebe-458">Ellenőrizze, hogy a lekérdezés eredménye a várt módon:</span><span class="sxs-lookup"><span data-stu-id="c2ebe-458">Validate that the output of the query is as expected:</span></span>
   
    ![A vizsgálati eredmények](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image43.png)

## <a name="question-2-report-total-time-for-each-car-to-pass-through-the-toll-booth"></a><span data-ttu-id="c2ebe-460">2. kérdés: Jelentés fordított időt az áthaladás, a téren kiállítási minden autó</span><span class="sxs-lookup"><span data-stu-id="c2ebe-460">Question 2: Report total time for each car to pass through the toll booth</span></span>
<span data-ttu-id="c2ebe-461">Rendelkezik egy autó az áthaladás, a téren szükséges átlagos idő segít a folyamat, és a felhasználói élmény hatékonyságának ellenőrzéséhez.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-461">The average time that's required for a car to pass through the toll helps to assess the efficiency of the process and the customer experience.</span></span>

<span data-ttu-id="c2ebe-462">A teljes időnek megkereséséhez kell csatlakoztatni a EntryTime adatfolyam a ExitTime adatfolyam.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-462">To find the total time, you need to join the EntryTime stream with the ExitTime stream.</span></span> <span data-ttu-id="c2ebe-463">Az adatfolyamok TollId és LicencePlate oszlopokon csatlakozni fog.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-463">You will join the streams on TollId and LicencePlate columns.</span></span> <span data-ttu-id="c2ebe-464">A **csatlakozás** operátor szükséges, amely leírja a csatlakoztatott események elfogadható időeltérése historikus eltérést megadását.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-464">The **JOIN** operator requires you to specify temporal leeway that describes the acceptable time difference between the joined events.</span></span> <span data-ttu-id="c2ebe-465">Használandó **DATEDIFF** működnek, adja meg, hogy legyen-e az események egymástól legfeljebb 15 perc.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-465">You will use **DATEDIFF** function to specify that events should be no more than 15 minutes from each other.</span></span> <span data-ttu-id="c2ebe-466">Akkor is érvényesek a **DATEDIFF** való kilépéshez és az bejegyzés alkalommal kiszámítására, a tényleges idő egy autó a téren állomás futtatásával töltött.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-466">You will also apply the **DATEDIFF** function to exit and entry times to compute the actual time that a car spends in the toll station.</span></span> <span data-ttu-id="c2ebe-467">Vegye figyelembe a különbség az, felhasználásának **DATEDIFF** használat esetén a egy **válasszon** utasítás helyett egy **csatlakozás** feltétel.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-467">Note the difference of the use of **DATEDIFF** when it's used in a **SELECT** statement rather than a **JOIN** condition.</span></span>

    SELECT EntryStream.TollId, EntryStream.EntryTime, ExitStream.ExitTime, EntryStream.LicensePlate, DATEDIFF (minute , EntryStream.EntryTime, ExitStream.ExitTime) AS DurationInMinutes
    FROM EntryStream TIMESTAMP BY EntryTime
    JOIN ExitStream TIMESTAMP BY ExitTime
    ON (EntryStream.TollId= ExitStream.TollId AND EntryStream.LicensePlate = ExitStream.LicensePlate)
    AND DATEDIFF (minute, EntryStream, ExitStream ) BETWEEN 0 AND 15

1. <span data-ttu-id="c2ebe-468">Ez a lekérdezés teszteléséhez frissíteni a lekérdezést a **lekérdezés** a feladathoz.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-468">To test this query, update the query on the **QUERY** for the job.</span></span> <span data-ttu-id="c2ebe-469">Adja hozzá a vizsgálat a **ExitStream** ugyanúgy, mint az **EntryStream** fent lett megadva.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-469">Add the test file for **ExitStream** just like **EntryStream** was entered above.</span></span>
   
2. <span data-ttu-id="c2ebe-470">Kattintson a **teszt**.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-470">Click **Test**.</span></span>

3. <span data-ttu-id="c2ebe-471">Jelölje be a lekérdezés teszteléséhez és a kimeneti megtekintése:</span><span class="sxs-lookup"><span data-stu-id="c2ebe-471">Select the check box to test the query and view the output:</span></span>
   
    ![A vizsgálat eredményének](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image45.png)

## <a name="question-3-report-all-commercial-vehicles-with-expired-registration"></a><span data-ttu-id="c2ebe-473">3. kérdés: Jelentés minden, kereskedelmi járművekről gyűjtött lejárt regisztrálása</span><span class="sxs-lookup"><span data-stu-id="c2ebe-473">Question 3: Report all commercial vehicles with expired registration</span></span>
<span data-ttu-id="c2ebe-474">Az Azure Stream Analytics statikus pillanatképeket készíteni segítségével csatlakozik a historikus adatfolyamokat.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-474">Azure Stream Analytics can use static snapshots of data to join with temporal data streams.</span></span> <span data-ttu-id="c2ebe-475">Ez a funkció bemutatásához, használja a következő minta kérdést.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-475">To demonstrate this capability, use the following sample question.</span></span>

<span data-ttu-id="c2ebe-476">Ha egy kereskedelmi vehicle regisztrálva van a téren vállalatot, azt is haladnak át a téren kiállítási nélkül lett a vizsgálathoz.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-476">If a commercial vehicle is registered with the toll company, it can pass through the toll booth without being stopped for inspection.</span></span> <span data-ttu-id="c2ebe-477">Kereskedelmi Vehicle regisztrációs keresési tábla használandó azonosítsa az összes kereskedelmi járművekről gyűjtött regisztráció lejárt.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-477">You will use Commercial Vehicle Registration lookup table to identify all commercial vehicles that have expired registrations.</span></span>

```
SELECT EntryStream.EntryTime, EntryStream.LicensePlate, EntryStream.TollId, Registration.RegistrationId
FROM EntryStream TIMESTAMP BY EntryTime
JOIN Registration
ON EntryStream.LicensePlate = Registration.LicensePlate
WHERE Registration.Expired = '1'
```

<span data-ttu-id="c2ebe-478">Referenciaadatok a lekérdezés teszteléséhez ját definiálja a hivatkozási adatait, amely már elvégezte a bemeneti forrása.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-478">To test a query by using reference data, you need to define an input source for the reference data, which you have done already.</span></span>

<span data-ttu-id="c2ebe-479">Ez a lekérdezés teszteléséhez illessze be a lekérdezést a **lekérdezés** lapra, majd **tesztelése**, és adja meg a két bemeneti forrás és a regisztráció az adatokat, és kattintson a **tesztelése**.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-479">To test this query, paste the query into the **QUERY** tab, click **Test**, and specify the two input sources and the registration sample data and click **Test**.</span></span>  
   
![A vizsgálat eredményének](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image46.png)

## <a name="start-the-stream-analytics-job"></a><span data-ttu-id="c2ebe-481">A Stream Analytics-feladat indítása</span><span class="sxs-lookup"><span data-stu-id="c2ebe-481">Start the Stream Analytics job</span></span>
<span data-ttu-id="c2ebe-482">Most azt az idő, a konfiguráció befejezését, majd indítsa el a feladatot.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-482">Now it's time to finish the configuration and start the job.</span></span> <span data-ttu-id="c2ebe-483">Mentse a kérdés 3 lekérdezést, amely eredményez, amely megfelel a sémája kimeneti a **TollDataRefJoin** kimeneti táblához.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-483">Save the query from Question 3, which will produce output that matches the schema of the **TollDataRefJoin** output table.</span></span>

<span data-ttu-id="c2ebe-484">Ugrás a feladat **IRÁNYÍTÓPULT**, és kattintson a **START**.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-484">Go to the job **DASHBOARD**, and click **START**.</span></span>

![A Start gombra, a feladat irányítópultjának képernyőképe](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image48.png)

<span data-ttu-id="c2ebe-486">A megnyíló párbeszédpanelen módosítsa a **START kimeneti** beosztásba **egyéni idő**.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-486">In the dialog box that opens, change the **START OUTPUT** time to **CUSTOM TIME**.</span></span> <span data-ttu-id="c2ebe-487">Az aktuális időpont előtt egy óra módosítani.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-487">Change the hour to one hour before the current time.</span></span> <span data-ttu-id="c2ebe-488">Ez a módosítás biztosítja, hogy az eseményközpontból összes esemény dolgoznak fel az eseményeket generálni az oktatóanyag elején indítása óta.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-488">This change ensures that all events from the event hub are processed since you started to generate the events at the beginning of the tutorial.</span></span> <span data-ttu-id="c2ebe-489">Most kattintson a **Start** gombra kattintva indítsa el a feladatot.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-489">Now click the **Start** button to start the job.</span></span>

![Egyéni idő kiválasztása](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image49.png)

<span data-ttu-id="c2ebe-491">A feladat kezdési néhány percet is igénybe vehet.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-491">Starting the job can take a few minutes.</span></span> <span data-ttu-id="c2ebe-492">A legfelső szintű oldalon az állapot látható a Stream Analytics.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-492">You can see the status on the top-level page for Stream Analytics.</span></span>

![A feladat állapotának képernyőképe](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image50.png)

## <a name="check-results-in-visual-studio"></a><span data-ttu-id="c2ebe-494">A Visual Studio ellenőrzésének az eredménye</span><span class="sxs-lookup"><span data-stu-id="c2ebe-494">Check results in Visual Studio</span></span>
1. <span data-ttu-id="c2ebe-495">Nyissa meg a Visual Studio Server Explorer, és kattintson a jobb gombbal a **TollDataRefJoin** tábla.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-495">Open Visual Studio Server Explorer, and right-click the **TollDataRefJoin** table.</span></span>
2. <span data-ttu-id="c2ebe-496">Kattintson a **tábla adatok megjelenítése** a feladat eredményének megtekintéséhez.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-496">Click **Show Table Data** to see the output of your job.</span></span>
   
    !["Tábla adatok megjelenítése" a Server Explorer kiválasztása](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image51.jpg)

## <a name="scale-out-azure-stream-analytics-jobs"></a><span data-ttu-id="c2ebe-498">Horizontális felskálázás az Azure Stream Analytics feladatok</span><span class="sxs-lookup"><span data-stu-id="c2ebe-498">Scale out Azure Stream Analytics jobs</span></span>
<span data-ttu-id="c2ebe-499">Az Azure Stream Analytics célja, hogy rugalmasan méretezési, hogy a nagy mennyiségű adat is képes kezelni.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-499">Azure Stream Analytics is designed to elastically scale so that it can handle a lot of data.</span></span> <span data-ttu-id="c2ebe-500">Az Azure Stream Analytics lekérdezési használhatja egy **PARTITION BY** záradékot, hogy a rendszer, hogy ez a lépés ki lesz skálázva. **PartitionId** különleges oszlop, amely a rendszer hozzáadja a partícióazonosító: a bemeneti (eseményközpont) megfelelően.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-500">The Azure Stream Analytics query can use a **PARTITION BY** clause to tell the system that this step will scale out. **PartitionId** is a special column that the system adds to match the partition ID of the input (event hub).</span></span>

    SELECT TollId, System.Timestamp AS WindowEnd, COUNT(*)AS Count
    FROM EntryStream TIMESTAMP BY EntryTime PARTITION BY PartitionId
    GROUP BY TUMBLINGWINDOW(minute,3), TollId, PartitionId

1. <span data-ttu-id="c2ebe-501">Állítsa le a jelenlegi feladatot, frissítse a lekérdezést a **lekérdezés** lapot, és nyissa meg a **beállítások** áttételi a projekt irányítópultján.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-501">Stop the current job, update the query in the **QUERY** tab, and open the **Settings** gear in the job dashboard.</span></span> <span data-ttu-id="c2ebe-502">Kattintson a **méretezési**.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-502">Click **Scale**.</span></span>
   
    <span data-ttu-id="c2ebe-503">**ADATFOLYAM-egységek** határozzák meg a számítási teljesítményt, amely a feladatok fogadására.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-503">**STREAMING UNITS** define the amount of compute power that the job can receive.</span></span>
2. <span data-ttu-id="c2ebe-504">Módosítsa az vetett 6 1.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-504">Change the drop down from 1 from 6.</span></span>
   
    ![Képernyőkép a 6 adatfolyam-továbbítási egység kiválasztása](media/stream-analytics-build-an-iot-solution-using-stream-analytics/image52.png)
3. <span data-ttu-id="c2ebe-506">Lépjen a **KIMENETEK** lapon, és módosítsa az SQL-tábla neve **TollDataTumblingCountPartitioned**.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-506">Go to the **OUTPUTS** tab and change the name of the SQL table to **TollDataTumblingCountPartitioned**.</span></span>

<span data-ttu-id="c2ebe-507">Ha a feladat indítása, Azure Stream Analytics munkahelyi szét több számítási erőforrással is javítható az átviteli teljesítmény.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-507">If you start the job now, Azure Stream Analytics can distribute work across more compute resources and achieve better throughput.</span></span> <span data-ttu-id="c2ebe-508">Vegye figyelembe, hogy a TollApp alkalmazás is küld-e események által TollId particionálva.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-508">Please note that the TollApp application is also sending events partitioned by TollId.</span></span>

## <a name="monitor"></a><span data-ttu-id="c2ebe-509">Figyelés</span><span class="sxs-lookup"><span data-stu-id="c2ebe-509">Monitor</span></span>
<span data-ttu-id="c2ebe-510">A **FIGYELŐ** terület tartalmazza a futó feladat statisztikája.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-510">The **MONITOR** area contains statistics about the running job.</span></span> <span data-ttu-id="c2ebe-511">Konfigurációra nincs szükség a tárolók használatához először fiók ugyanabban a régióban (name téren Ez a dokumentum többi hasonlóan).</span><span class="sxs-lookup"><span data-stu-id="c2ebe-511">First time configuration is needed to use the storage account in the same region (name toll like the rest of this document).</span></span>   

![A figyelő képernyőképe](media/stream-analytics-build-an-iot-solution-using-stream-analytics/monitoring.png)

<span data-ttu-id="c2ebe-513">Van-e hozzáférési **tevékenységi naplóit** a projekt irányítópultján **beállítások** terület is.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-513">You can access **Activity Logs** from the job dashboard **Settings** area as well.</span></span>


## <a name="conclusion"></a><span data-ttu-id="c2ebe-514">Összegzés</span><span class="sxs-lookup"><span data-stu-id="c2ebe-514">Conclusion</span></span>
<span data-ttu-id="c2ebe-515">Ez az oktatóanyag az Azure Stream Analytics szolgáltatás bevezetett.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-515">This tutorial introduced you to the Azure Stream Analytics service.</span></span> <span data-ttu-id="c2ebe-516">Azt mutatja be- és kimenetekkel a Stream Analytics-feladat konfigurálása.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-516">It demonstrated how to configure inputs and outputs for the Stream Analytics job.</span></span> <span data-ttu-id="c2ebe-517">Az oktatóanyag ismertetése a téren forgatókönyvet használja, a problémák merülhetnek fel az adatok az Azure Stream Analytics egyszerű SQL-szerű lekérdezéseket mozgásérzékelési, és hogyan azok megoldhatók a területen található általános típusú.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-517">Using the Toll Data scenario, the tutorial explained common types of problems that arise in the space of data in motion and how they can be solved with simple SQL-like queries in Azure Stream Analytics.</span></span> <span data-ttu-id="c2ebe-518">Az oktatóanyag ismerteti a SQL bővítmény szerkezetek az ideiglenes adatai.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-518">The tutorial described SQL extension constructs for working with temporal data.</span></span> <span data-ttu-id="c2ebe-519">Bemutatta, hogyan csatlakoztathatók a adatfolyamokat, az adatfolyamot a statikus referenciaadatok kiegészítése, és nagyobb átviteli sebesség eléréséhez lekérdezés horizontális.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-519">It showed how to join data streams, how to enrich the data stream with static reference data, and how to scale out a query to achieve higher throughput.</span></span>

<span data-ttu-id="c2ebe-520">Ez az oktatóanyag egy jó bevezetést tartalmaz, bár nincs kész bármilyen módon.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-520">Although this tutorial provides a good introduction, it is not complete by any means.</span></span> <span data-ttu-id="c2ebe-521">A SAQL nyelvet további lekérdezési mintáinak található [gyakori Stream Analytics használati minták példák lekérdezése](stream-analytics-stream-analytics-query-patterns.md).</span><span class="sxs-lookup"><span data-stu-id="c2ebe-521">You can find more query patterns using the SAQL language at [Query examples for common Stream Analytics usage patterns](stream-analytics-stream-analytics-query-patterns.md).</span></span>
<span data-ttu-id="c2ebe-522">Tekintse meg a [online dokumentáció](https://azure.microsoft.com/documentation/services/stream-analytics/) Azure Stream Analytics tájékozódhat.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-522">Refer to the [online documentation](https://azure.microsoft.com/documentation/services/stream-analytics/) to learn more about Azure Stream Analytics.</span></span>

## <a name="clean-up-your-azure-account"></a><span data-ttu-id="c2ebe-523">Az Azure-fiók törlése</span><span class="sxs-lookup"><span data-stu-id="c2ebe-523">Clean up your Azure account</span></span>
1. <span data-ttu-id="c2ebe-524">Állítsa le a Stream Analytics-feladat az Azure portálon.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-524">Stop the Stream Analytics job in the Azure portal.</span></span>
   
    <span data-ttu-id="c2ebe-525">A Setup.ps1 parancsfájl létrehoz két eseményközpontokhoz és SQL-adatbázis.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-525">The Setup.ps1 script creates two event hubs and a SQL database.</span></span> <span data-ttu-id="c2ebe-526">A következő útmutatók segítenek karbantartása erőforrások az oktatóanyag végén.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-526">The following instructions help you clean up resources at the end of the tutorial.</span></span>
2. <span data-ttu-id="c2ebe-527">A PowerShell ablakban írja be a **.\\ Cleanup.ps1** elindítani a parancsfájlt, amely törli az oktatóanyagban használt erőforrások.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-527">In a PowerShell window, type **.\\Cleanup.ps1** to start the script that deletes resources used in the tutorial.</span></span>
   
   > [!NOTE]
   > <span data-ttu-id="c2ebe-528">Erőforrások neve azonosítja.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-528">Resources are identified by the name.</span></span> <span data-ttu-id="c2ebe-529">Győződjön meg arról, hogy az egyes elemek eltávolításának megerősítése előtt gondosan ellenőrizze.</span><span class="sxs-lookup"><span data-stu-id="c2ebe-529">Make sure you carefully review each item before confirming removal.</span></span>
   > 
   > 


