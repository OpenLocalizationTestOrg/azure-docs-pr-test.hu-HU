## <a name="sample-scenario"></a><span data-ttu-id="c72d6-101">Mintaforgatókönyv</span><span class="sxs-lookup"><span data-stu-id="c72d6-101">Sample Scenario</span></span>
<span data-ttu-id="c72d6-102">Jobb szemléltetéséhez NSG-k kezelése, ez a cikk az alábbi forgatókönyvet használja.</span><span class="sxs-lookup"><span data-stu-id="c72d6-102">To better illustrate how to manage NSGs, this article uses the scenario below.</span></span>

![VNet-forgatókönyv](./media/virtual-networks-create-nsg-scenario-include/figure1.png)

<span data-ttu-id="c72d6-104">Ebben a forgatókönyvben egy NSG-t az egyes alhálózatokon hoz létre a **TestVNet** virtuális hálózatban, folyamata az alábbiakban olvasható:</span><span class="sxs-lookup"><span data-stu-id="c72d6-104">In this scenario you will create an NSG for each subnet in the **TestVNet** virtual network, as described below:</span></span> 

* <span data-ttu-id="c72d6-105">**NSG-előtérbeli**.</span><span class="sxs-lookup"><span data-stu-id="c72d6-105">**NSG-FrontEnd**.</span></span> <span data-ttu-id="c72d6-106">Az NSG alkalmazandó előtér a *előtér* alhálózatot, és két szabályt tartalmaz:</span><span class="sxs-lookup"><span data-stu-id="c72d6-106">The front end NSG will be applied to the *FrontEnd* subnet, and contain two rules:</span></span>    
  * <span data-ttu-id="c72d6-107">**RDP-szabály**.</span><span class="sxs-lookup"><span data-stu-id="c72d6-107">**rdp-rule**.</span></span> <span data-ttu-id="c72d6-108">Ez a szabály lehetővé teszi az RDP-forgalmát a *előtér* alhálózat.</span><span class="sxs-lookup"><span data-stu-id="c72d6-108">This rule will allow RDP traffic to the *FrontEnd* subnet.</span></span>
  * <span data-ttu-id="c72d6-109">**webalkalmazás-szabály**.</span><span class="sxs-lookup"><span data-stu-id="c72d6-109">**web-rule**.</span></span> <span data-ttu-id="c72d6-110">Ez a szabály lehetővé teszi a HTTP-forgalom a *előtér* alhálózat.</span><span class="sxs-lookup"><span data-stu-id="c72d6-110">This rule will allow HTTP traffic to the *FrontEnd* subnet.</span></span>
* <span data-ttu-id="c72d6-111">**NSG-háttérrendszer**.</span><span class="sxs-lookup"><span data-stu-id="c72d6-111">**NSG-BackEnd**.</span></span> <span data-ttu-id="c72d6-112">A háttérben NSG alkalmazandó a *háttér* alhálózatot, és két szabályt tartalmaz:</span><span class="sxs-lookup"><span data-stu-id="c72d6-112">The back end NSG will be applied to the *BackEnd* subnet, and contain two rules:</span></span>    
  * <span data-ttu-id="c72d6-113">**SQL-szabály**.</span><span class="sxs-lookup"><span data-stu-id="c72d6-113">**sql-rule**.</span></span> <span data-ttu-id="c72d6-114">Ez a szabály lehetővé teszi, hogy az SQL-forgalom csak az *előtér* alhálózat.</span><span class="sxs-lookup"><span data-stu-id="c72d6-114">This rule allows SQL traffic only from the *FrontEnd* subnet.</span></span>
  * <span data-ttu-id="c72d6-115">**webalkalmazás-szabály**.</span><span class="sxs-lookup"><span data-stu-id="c72d6-115">**web-rule**.</span></span> <span data-ttu-id="c72d6-116">Ez a szabály letiltja az összes internetes forgalom kötött a *háttér* alhálózat.</span><span class="sxs-lookup"><span data-stu-id="c72d6-116">This rule denies all internet bound traffic from the *BackEnd* subnet.</span></span>

<span data-ttu-id="c72d6-117">Ezek a szabályok kombinációját, hozzon létre egy DMZ-szerű forgatókönyv, ahol a háttérrendszer alhálózati csak fogadhat SQL forgalom a bejövő forgalom az előtér-alhálózatot, és nem fér hozzá az internethez az előtérben lévő alhálózat alhálózat az internettel kommunikál, és fogadni bejövő HTTP-kérelmek csak.</span><span class="sxs-lookup"><span data-stu-id="c72d6-117">The combination of these rules create a DMZ-like scenario, where the back end subnet can only receive incoming traffic for SQL traffic from the front end subnet, and has no access to the Internet, while the front end subnet can communicate with the Internet, and receive incoming HTTP requests only.</span></span>

<span data-ttu-id="c72d6-118">A fent leírt forgatókönyv telepítéséhez kövesse [Ez a hivatkozás](http://github.com/telmosampaio/azure-templates/tree/master/201-IaaS-WebFrontEnd-SQLBackEnd-NSG), kattintson a **az Azure telepítéséhez**, cserélje le az alapértelmezett paraméterértékek, ha szükséges, és kövesse az utasításokat a portálon.</span><span class="sxs-lookup"><span data-stu-id="c72d6-118">To deploy the scenario described above, follow [this link](http://github.com/telmosampaio/azure-templates/tree/master/201-IaaS-WebFrontEnd-SQLBackEnd-NSG), click **Deploy to Azure**, replace the default parameter values if necessary, and follow the instructions in the portal.</span></span> <span data-ttu-id="c72d6-119">Az alábbi minta utasításokat, a sablon telepítése egy erőforráscsoport-nevek használatával **RG-NSG**.</span><span class="sxs-lookup"><span data-stu-id="c72d6-119">In the sample instructions below, the template was used to deploy a resource group names **RG-NSG**.</span></span> 

