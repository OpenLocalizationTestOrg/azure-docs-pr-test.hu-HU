

<span data-ttu-id="5190e-101">A virtuálisgép-bővítmények a következőkben lehetnek a segítségére:</span><span class="sxs-lookup"><span data-stu-id="5190e-101">VM extensions can help you:</span></span>

* <span data-ttu-id="5190e-102">Biztonsági és identitásszolgáltatások (például a fiókértékek visszaállítása vagy a kártevőirtó szoftverek használata) módosítása</span><span class="sxs-lookup"><span data-stu-id="5190e-102">Modify security and identity features, such as resetting account values and using antimalware</span></span>
* <span data-ttu-id="5190e-103">Figyelés és diagnosztika indítása, leállítása és konfigurálása</span><span class="sxs-lookup"><span data-stu-id="5190e-103">Start, stop, or configure monitoring and diagnostics</span></span>
* <span data-ttu-id="5190e-104">Kapcsolati szolgáltatások (például az RDP vagy az SSH) visszaállítása vagy telepítése</span><span class="sxs-lookup"><span data-stu-id="5190e-104">Reset or install connectivity features, such as RDP and SSH</span></span>
* <span data-ttu-id="5190e-105">A virtuális gépek diagnosztizálása, megfigyelése és felügyelete</span><span class="sxs-lookup"><span data-stu-id="5190e-105">Diagnose, monitor, and manage your VMs</span></span>

<span data-ttu-id="5190e-106">Számos egyéb szolgáltatás is elérhető, és</span><span class="sxs-lookup"><span data-stu-id="5190e-106">There are many other features as well.</span></span> <span data-ttu-id="5190e-107">rendszeresen jelennek meg új, virtuálisgép-bővítményekkel kapcsolatos szolgáltatások.</span><span class="sxs-lookup"><span data-stu-id="5190e-107">New VM Extension features are released regularly.</span></span> <span data-ttu-id="5190e-108">Ez a cikk a Windows és Linux rendszerhez való Azure virtuálisgép-ügynököket ismerteti, illetve azt, hogy miként támogatják a virtuálisgép-bővítmények szolgáltatásait.</span><span class="sxs-lookup"><span data-stu-id="5190e-108">This article describes the Azure VM Agents for Windows and Linux, and how they support VM Extension functionality.</span></span> <span data-ttu-id="5190e-109">A virtuálisgép-bővítmények szolgáltatási kategóriák szerint rendezett listájáért tekintse át az [Azure virtuálisgép-bővítményekkel és szolgáltatásaikkal](../articles/virtual-machines/windows/extensions-features.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) foglalkozó témakört.</span><span class="sxs-lookup"><span data-stu-id="5190e-109">For a listing of VM Extensions by feature category, see [Azure VM Extensions and Features](../articles/virtual-machines/windows/extensions-features.md?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

## <a name="azure-vm-agents-for-windows-and-linux"></a><span data-ttu-id="5190e-110">Windows és Linux rendszerhez való Azure virtuálisgép-ügynökök</span><span class="sxs-lookup"><span data-stu-id="5190e-110">Azure VM Agents for Windows and Linux</span></span>
<span data-ttu-id="5190e-111">Az Azure virtuálisgép-ügynök (VM-ügynök) egy olyan biztonságos, egyszerűsített folyamat, amely virtuálisgép-bővítményeket telepít, konfigurál vagy távolít el Azure virtuálisgép-példányokon.</span><span class="sxs-lookup"><span data-stu-id="5190e-111">The Azure Virtual Machines Agent (VM Agent) is a secured, light-weight process that installs, configures, and removes VM extensions on instances of Azure Virtual Machines.</span></span> <span data-ttu-id="5190e-112">A virtuálisgép-ügynök az Azure virtuális gép biztonságos, helyi vezérlési szolgáltatásaként működik.</span><span class="sxs-lookup"><span data-stu-id="5190e-112">The VM Agent acts as the secure local control service for your Azure VM.</span></span> <span data-ttu-id="5190e-113">Az ügynök által betöltött bővítmények az adott példány hatékony használatának elősegítéséhez biztosítanak speciális szolgáltatásokat.</span><span class="sxs-lookup"><span data-stu-id="5190e-113">The extensions that the agent loads provide specific features to increase your productivity using the instance.</span></span>

<span data-ttu-id="5190e-114">Kétféle Azure virtuálisgép-ügynök létezik, egy a Windows, egy pedig a Linux rendszerű virtuális gépek számára.</span><span class="sxs-lookup"><span data-stu-id="5190e-114">Two Azure VM Agents exist, one for Windows VMs and one for Linux VMs.</span></span>

<span data-ttu-id="5190e-115">Ha azt szeretné, hogy az adott virtuálisgép-példány egy vagy több virtuálisgép-bővítményt használjon, a példánynak telepített virtuálisgép-ügynökkel kell rendelkeznie.</span><span class="sxs-lookup"><span data-stu-id="5190e-115">If you want a virtual machine instance to use one or more VM extensions, the instance must have an installed VM Agent.</span></span> <span data-ttu-id="5190e-116">Az Azure Portal és a **Marketplace-ről** származó rendszerkép használatával létrehozott virtuálisgép-rendszerképek a létrehozási folyamat során automatikusan telepítik a virtuálisgép-ügynököt.</span><span class="sxs-lookup"><span data-stu-id="5190e-116">A virtual machine image created by using the Azure portal and an image from the **Marketplace** automatically installs a VM Agent in the creation process.</span></span> <span data-ttu-id="5190e-117">Ha egy virtuális gép nem rendelkezik virtuálisgép-ügynökkel, a virtuálisgép-példány létrehozását követően telepítheti a virtuálisgép-ügynököt.</span><span class="sxs-lookup"><span data-stu-id="5190e-117">If a virtual machine instance lacks a VM Agent, you can install the VM Agent after the virtual machine instance is created.</span></span> <span data-ttu-id="5190e-118">Azt is megteheti, hogy egy egyéni virtuálisgép-rendszerképre telepíti az ügynököt, amelyet aztán feltölt.</span><span class="sxs-lookup"><span data-stu-id="5190e-118">Or, you can install the agent in a custom VM image that you then upload.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="5190e-119">Ezek a virtuálisgép-ügynökök rendkívül leegyszerűsített szolgáltatások, amelyek lehetőséget adnak a virtuálisgép-példányok biztonságos felügyeletére.</span><span class="sxs-lookup"><span data-stu-id="5190e-119">These VM Agents are very light-weight, services that enable secured administration of virtual machine instances.</span></span> <span data-ttu-id="5190e-120">Előfordulhatnak olyan esetek, amikor nincs szükség a virtuálisgép-ügynökre.</span><span class="sxs-lookup"><span data-stu-id="5190e-120">There might be cases in which you do not want the VM Agent.</span></span> <span data-ttu-id="5190e-121">Ilyen esetekben olyan virtuális gépeket hozzon létre az Azure CLI vagy a PowerShell használatával, amelyeken a virtuálisgép-ügynök nincs telepítve.</span><span class="sxs-lookup"><span data-stu-id="5190e-121">If so, be sure to create VMs that do not have the VM Agent installed using the Azure CLI or PowerShell.</span></span> <span data-ttu-id="5190e-122">Bár a virtuálisgép-ügynök fizikailag is eltávolítható, a virtuálisgép-bővítmények viselkedése a példányon nincs meghatározva.</span><span class="sxs-lookup"><span data-stu-id="5190e-122">Although the VM Agent can be removed physically, the behavior of VM Extensions on the instance is undefined.</span></span> <span data-ttu-id="5190e-123">Ennek következtében a telepített virtuálisgép-ügynökök eltávolítása nem támogatott.</span><span class="sxs-lookup"><span data-stu-id="5190e-123">As a result, removing an installed VM Agent is not supported.</span></span>
>

<span data-ttu-id="5190e-124">A virtuálisgép-ügynök a következő helyzetekben van engedélyezve:</span><span class="sxs-lookup"><span data-stu-id="5190e-124">The VM Agent is enabled in the following situations:</span></span>

* <span data-ttu-id="5190e-125">Ha az Azure Portal és egy, a **Marketplace-ről** származó rendszerkép használatával hoz létre egy virtuálisgép-példányt.</span><span class="sxs-lookup"><span data-stu-id="5190e-125">When you create an instance of a VM by using the Azure portal and selecting an image from the **Marketplace**,</span></span>
* <span data-ttu-id="5190e-126">Ha a [New-AzureVM](https://msdn.microsoft.com/library/azure/dn495254.aspx) vagy a [New-AzureQuickVM](https://msdn.microsoft.com/library/azure/dn495183.aspx) parancsmag használatával hoz létre egy virtuálisgép-példányt.</span><span class="sxs-lookup"><span data-stu-id="5190e-126">When you create an instance of a VM by using the [New-AzureVM](https://msdn.microsoft.com/library/azure/dn495254.aspx) or the [New-AzureQuickVM](https://msdn.microsoft.com/library/azure/dn495183.aspx) cmdlet.</span></span> <span data-ttu-id="5190e-127">Ha virtuálisgép-ügynök nélkül szeretne virtuális gépet létrehozni, adja a **–DisableGuestAgent** paramétert az [Add-AzureProvisioningConfig](https://msdn.microsoft.com/library/azure/dn495299.aspx) parancsmaghoz.</span><span class="sxs-lookup"><span data-stu-id="5190e-127">You can create a VM without a VM Agent by adding the **–DisableGuestAgent** parameter to the [Add-AzureProvisioningConfig](https://msdn.microsoft.com/library/azure/dn495299.aspx) cmdlet,</span></span>

* <span data-ttu-id="5190e-128">Ha manuálisan tölti le és telepíti a virtuálisgép-ügynököt egy meglévő VM-példányon, és a **ProvisionGuestAgent** paramétert **true** értékűre állítja.</span><span class="sxs-lookup"><span data-stu-id="5190e-128">When you manually download and install the VM Agent on an existing VM instance, and set the **ProvisionGuestAgent** value to **true**.</span></span> <span data-ttu-id="5190e-129">Ez a módszer Windows- és Linux-ügynökök esetében alkalmazható egy PowerShell-parancs vagy REST-hívás használatával.</span><span class="sxs-lookup"><span data-stu-id="5190e-129">You can use this technique for Windows and Linux agents, by using a PowerShell command or a REST call.</span></span> <span data-ttu-id="5190e-130">(Ha nem állítja be a **ProvisionGuestAgent** értékét a virtuálisgép-ügynök manuális telepítését követően, az ügynök hozzáadását a rendszer nem fogja megfelelően észlelni.) A következő példakód bemutatja, hogy ez hogyan hajtható végre a PowerShell használatával, ha a `$svc` és a `$name` argumentum már meg lett határozva:</span><span class="sxs-lookup"><span data-stu-id="5190e-130">(If you do not set the **ProvisionGuestAgent** value after manually installing the VM Agent, the addition of the VM Agent is not detected properly.) The following code example shows how to do this using PowerShell where the `$svc` and `$name` arguments have already been determined:</span></span>

      $vm = Get-AzureVM –ServiceName $svc –Name $name
      $vm.VM.ProvisionGuestAgent = $TRUE
      Update-AzureVM –Name $name –VM $vm.VM –ServiceName $svc

* <span data-ttu-id="5190e-131">Ha egy olyan virtuálisgép-rendszerképet hoz létre, amely tartalmaz egy telepített virtuálisgép-ügynököt.</span><span class="sxs-lookup"><span data-stu-id="5190e-131">When you create a VM image that includes an installed VM Agent.</span></span> <span data-ttu-id="5190e-132">Amint a virtuálisgép-ügynököt tartalmazó rendszerkép létrejött, feltöltheti az Azure-ba.</span><span class="sxs-lookup"><span data-stu-id="5190e-132">Once the image with the VM Agent exists, you can upload that image to Azure.</span></span> <span data-ttu-id="5190e-133">Windows-alapú virtuális gépek esetében töltse le a [Windows virtuálisgép-ügynök .msi fájlját](http://go.microsoft.com/fwlink/?LinkID=394789), és telepítse a virtuálisgép-ügynököt.</span><span class="sxs-lookup"><span data-stu-id="5190e-133">For a Windows VM, download the [Windows VM Agent .msi file](http://go.microsoft.com/fwlink/?LinkID=394789) and install the VM Agent.</span></span> <span data-ttu-id="5190e-134">Linux-alapú virtuális gépek esetében a virtuálisgép-ügynököt a GitHub-adattárból telepítheti a <https://github.com/Azure/WALinuxAgent> helyről.</span><span class="sxs-lookup"><span data-stu-id="5190e-134">For a Linux VM, install the VM Agent from the GitHub repository located at <https://github.com/Azure/WALinuxAgent>.</span></span> <span data-ttu-id="5190e-135">A virtuálisgép-ügynök Linux rendszeren való telepítésével kapcsolatos további információkért lásd [az Azure Linux virtuálisgép-ügynökökkel kapcsolatos felhasználói kézikönyvet](../articles/virtual-machines/linux/agent-user-guide.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="5190e-135">For more information on how to install the VM Agent on Linux, see the [Azure Linux VM Agent User Guide](../articles/virtual-machines/linux/agent-user-guide.md?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json).</span></span>

> [!NOTE]
> <span data-ttu-id="5190e-136">Szolgáltatásként nyújtott platformok (PaaS) esetében a virtuálisgép-ügynök neve **WindowsAzureGuestAgent**, és mindig elérhető a webes és feldolgozói szerepkörű virtuális gépeken.</span><span class="sxs-lookup"><span data-stu-id="5190e-136">In PaaS, the VM Agent is called **WindowsAzureGuestAgent**, and is always available on Web and Worker Role VMs.</span></span> <span data-ttu-id="5190e-137">(További információ: [Azure szerepkör-architektúra](http://blogs.msdn.com/b/kwill/archive/2011/05/05/windows-azure-role-architecture.aspx).) A szerepkörrel rendelkező virtuális gépek virtuálisgép-ügynöke mostantól ugyanúgy adhat bővítményeket a felhőszolgáltatásbeli virtuális gépekhez, mint a perzisztens virtuális gépekhez.</span><span class="sxs-lookup"><span data-stu-id="5190e-137">(For more information, see [Azure Role Architecture](http://blogs.msdn.com/b/kwill/archive/2011/05/05/windows-azure-role-architecture.aspx).) The VM Agent for Role VMs can now add extensions to the cloud service VMs in the same way that it does for persistent Virtual Machines.</span></span> <span data-ttu-id="5190e-138">A legnagyobb különbség a szerepkörrel rendelkező és a perzisztens virtuális gépek virtuálisgép-bővítményei között a bővítmények hozzáadásában van.</span><span class="sxs-lookup"><span data-stu-id="5190e-138">The biggest difference between VM Extensions on role VMs and persistent VMs is when the VM extensions are added.</span></span> <span data-ttu-id="5190e-139">A szerepkörrel rendelkező virtuális gépek esetében a bővítmények először a felhőszolgáltatáshoz lesznek hozzáadva, majd a felhőszolgáltatásban lévő üzemelő példányokhoz.</span><span class="sxs-lookup"><span data-stu-id="5190e-139">With role VMs, extensions are added first to the cloud service, then to the deployments within that cloud service.</span></span>
>
> <span data-ttu-id="5190e-140">A [Get-AzureServiceAvailableExtension](https://msdn.microsoft.com/library/azure/dn722498.aspx) parancsmaggal megjelenítheti a szerepkörrel rendelkező virtuális gépek összes elérhető bővítményének listáját.</span><span class="sxs-lookup"><span data-stu-id="5190e-140">Use the [Get-AzureServiceAvailableExtension](https://msdn.microsoft.com/library/azure/dn722498.aspx) cmdlet to list all available role VM extensions.</span></span>
>
>

## <a name="find-add-update-and-remove-vm-extensions"></a><span data-ttu-id="5190e-141">Virtuálisgép-bővítmények keresése, hozzáadása, frissítése és eltávolítása</span><span class="sxs-lookup"><span data-stu-id="5190e-141">Find, Add, Update, and Remove VM Extensions</span></span>
<span data-ttu-id="5190e-142">Az ezekkel a feladatokkal kapcsolatos részletekért lásd: [Azure virtuálisgép-bővítmények hozzáadása, keresése, frissítése és eltávolítása](../articles/virtual-machines/windows/classic/manage-extensions.md?toc=%2fazure%2fvirtual-machines%2fwindows%2fclassic%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="5190e-142">For details on these tasks, see [Add, Find, Update, and Remove Azure VM Extensions](../articles/virtual-machines/windows/classic/manage-extensions.md?toc=%2fazure%2fvirtual-machines%2fwindows%2fclassic%2ftoc.json).</span></span>
