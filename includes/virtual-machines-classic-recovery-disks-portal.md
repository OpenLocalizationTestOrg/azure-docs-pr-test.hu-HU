<span data-ttu-id="1b9fe-101">Ha a virtuális gép (VM) az Azure-ban rendszerindító vagy a lemez hibát tapasztal, szükség lehet a tooperform hibaelhárítási hello virtuális merevlemezen magát.</span><span class="sxs-lookup"><span data-stu-id="1b9fe-101">If your virtual machine (VM) in Azure encounters a boot or disk error, you may need tooperform troubleshooting steps on hello virtual hard disk itself.</span></span> <span data-ttu-id="1b9fe-102">Ilyenek például a sikertelen frissítés, amely megakadályozza, hogy a virtuális gép hello sikeresen indítását lenne.</span><span class="sxs-lookup"><span data-stu-id="1b9fe-102">A common example would be a failed application update that prevents hello VM from booting successfully.</span></span> <span data-ttu-id="1b9fe-103">Ez a cikk ismerteti, hogyan toouse az Azure portál tooconnect a virtuális merevlemez tooanother VM toofix ki a hibákat, majd hozza újra létre az eredeti virtuális gép.</span><span class="sxs-lookup"><span data-stu-id="1b9fe-103">This article describes how toouse Azure portal tooconnect your virtual hard disk tooanother VM toofix any errors and then re-create your original VM.</span></span>

## <a name="recovery-process-overview"></a><span data-ttu-id="1b9fe-104">Helyreállítási folyamat áttekintése</span><span class="sxs-lookup"><span data-stu-id="1b9fe-104">Recovery process overview</span></span>
<span data-ttu-id="1b9fe-105">hibaelhárítási folyamatának hello a következőképpen történik:</span><span class="sxs-lookup"><span data-stu-id="1b9fe-105">hello troubleshooting process is as follows:</span></span>

1. <span data-ttu-id="1b9fe-106">Törölje a virtuális Gépet, amely kapcsolatban felmerült problémák hello, de megőrizni hello virtuális merevlemezeket.</span><span class="sxs-lookup"><span data-stu-id="1b9fe-106">Delete hello VM that's encountering issues, but retain hello virtual hard disks.</span></span>
2. <span data-ttu-id="1b9fe-107">Csatolja, és a csatlakoztatási hello virtuális merevlemez tooanother VM hibaelhárításhoz.</span><span class="sxs-lookup"><span data-stu-id="1b9fe-107">Attach and mount hello virtual hard disk tooanother VM for troubleshooting.</span></span>
3. <span data-ttu-id="1b9fe-108">Csatlakoztassa a VM hibaelhárítási toohello.</span><span class="sxs-lookup"><span data-stu-id="1b9fe-108">Connect toohello troubleshooting VM.</span></span> <span data-ttu-id="1b9fe-109">Szerkesztheti a fájlokat, vagy futtassa a eszközöket toofix hibák hello eredeti virtuális merevlemez.</span><span class="sxs-lookup"><span data-stu-id="1b9fe-109">Edit files or run tools toofix errors on hello original virtual hard disk.</span></span>
4. <span data-ttu-id="1b9fe-110">Válassza le a lemezképet, és válassza le hello virtuális merevlemezt a virtuális gép hibakeresési hello.</span><span class="sxs-lookup"><span data-stu-id="1b9fe-110">Unmount and detach hello virtual hard disk from hello troubleshooting VM.</span></span>
5. <span data-ttu-id="1b9fe-111">Hozzon létre egy virtuális Gépet hello eredeti virtuális merevlemez használatával.</span><span class="sxs-lookup"><span data-stu-id="1b9fe-111">Create a VM by using hello original virtual hard disk.</span></span>

## <a name="delete-hello-original-vm"></a><span data-ttu-id="1b9fe-112">Törlés hello az eredeti virtuális gép</span><span class="sxs-lookup"><span data-stu-id="1b9fe-112">Delete hello original VM</span></span>
<span data-ttu-id="1b9fe-113">A virtuális merevlemezek és a virtuális gépek az Azure-erőforrások két különböző típusa.</span><span class="sxs-lookup"><span data-stu-id="1b9fe-113">Virtual hard disks and VMs are two distinct resources in Azure.</span></span> <span data-ttu-id="1b9fe-114">A virtuális merevlemez hello operációs rendszer, alkalmazások és konfigurációk tárolására.</span><span class="sxs-lookup"><span data-stu-id="1b9fe-114">A virtual hard disk is where hello operating system, applications, and configurations are stored.</span></span> <span data-ttu-id="1b9fe-115">virtuális gép hello, amely meghatározza, hogy hello vagy a hely és az erőforrások, például egy virtuális merevlemezt vagy virtuális hálózati kártya (NIC) hivatkozik, amely csak metaadatokat.</span><span class="sxs-lookup"><span data-stu-id="1b9fe-115">hello VM is just metadata that defines hello size or location and that references resources such as a virtual hard disk or virtual network interface card (NIC).</span></span> <span data-ttu-id="1b9fe-116">Mindegyik virtuális merevlemezt lekérdezi a címbérlet létrehozásakor kell, hogy a lemez csatlakoztatott tooa virtuális gép.</span><span class="sxs-lookup"><span data-stu-id="1b9fe-116">Each virtual hard disk gets a lease assigned when that disk is attached tooa VM.</span></span> <span data-ttu-id="1b9fe-117">Bár adatlemezt csatolni, és leválasztott hello virtuális gép futása közben is, hello operációsrendszer-lemez nem választható le, kivéve, ha a virtuális gép erőforrásához hello törlődik.</span><span class="sxs-lookup"><span data-stu-id="1b9fe-117">Although data disks can be attached and detached even while hello VM is running, hello OS disk cannot be detached unless hello VM resource is deleted.</span></span> <span data-ttu-id="1b9fe-118">hello bérleti tooassociate hello OS lemez tooa virtuális gép továbbra is, akkor is, ha ezt a virtuális Gépet felszabadított és leállított állapotban van.</span><span class="sxs-lookup"><span data-stu-id="1b9fe-118">hello lease continues tooassociate hello OS disk tooa VM even when that VM is in a stopped and deallocated state.</span></span>

<span data-ttu-id="1b9fe-119">első lépés toorecovering hello a virtuális gép toodelete hello VM erőforrás magát.</span><span class="sxs-lookup"><span data-stu-id="1b9fe-119">hello first step toorecovering your VM is toodelete hello VM resource itself.</span></span> <span data-ttu-id="1b9fe-120">Virtuális gép törlése hello hello virtuális merevlemezek elhagyja a tárfiókban lévő.</span><span class="sxs-lookup"><span data-stu-id="1b9fe-120">Deleting hello VM leaves hello virtual hard disks in your storage account.</span></span> <span data-ttu-id="1b9fe-121">Hello a virtuális gép törlődik, miután hello virtuális merevlemez tooanother VM tootroubleshoot csatolja, és hello hibák.</span><span class="sxs-lookup"><span data-stu-id="1b9fe-121">After hello VM is deleted, you can attach hello virtual hard disk tooanother VM tootroubleshoot and resolve hello errors.</span></span> 

1. <span data-ttu-id="1b9fe-122">Jelentkezzen be toohello [Azure-portálon](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="1b9fe-122">Sign in toohello [Azure portal](https://portal.azure.com).</span></span> 
2. <span data-ttu-id="1b9fe-123">A hello hello bal oldali menüben kattintson **virtuális gépek (klasszikus)**.</span><span class="sxs-lookup"><span data-stu-id="1b9fe-123">On hello menu on hello left side, click **Virtual Machines (classic)**.</span></span>
3. <span data-ttu-id="1b9fe-124">Jelölje be hello virtuális Gépet, amely hello problémát tapasztal, kattintson a **lemezek**, majd keresse meg hello hello virtuális merevlemez nevét.</span><span class="sxs-lookup"><span data-stu-id="1b9fe-124">Select hello VM that has hello problem, click **Disks**, and then identify hello name of hello virtual hard disk.</span></span> 
4. <span data-ttu-id="1b9fe-125">Válassza ki az operációs rendszer hello virtuális merevlemez, és ellenőrizze a hello **hely** tooidentify hello tárfiókot, amely tartalmazza a virtuális merevlemezt.</span><span class="sxs-lookup"><span data-stu-id="1b9fe-125">Select hello OS virtual hard disk and check hello **Location** tooidentify hello storage account that contains that virtual hard disk.</span></span> <span data-ttu-id="1b9fe-126">A következő példa hello, hello karakterlánc előtt közvetlenül ". blob.core.windows.net" hello tárfiók neve van.</span><span class="sxs-lookup"><span data-stu-id="1b9fe-126">In hello following example, hello string immediately before ".blob.core.windows.net" is hello storage account name.</span></span>

    ```
    https://portalvhds73fmhrw5xkp43.blob.core.windows.net/vhds/SCCM2012-2015-08-28.vhd
    ```

    ![a virtuális gép helyével kapcsolatos hello kép](./media/virtual-machines-classic-recovery-disks-portal/vm-location.png)

5. <span data-ttu-id="1b9fe-128">Kattintson a jobb gombbal a virtuális gép hello, és válassza ki **törlése**.</span><span class="sxs-lookup"><span data-stu-id="1b9fe-128">Right-click hello VM and then select **Delete**.</span></span> <span data-ttu-id="1b9fe-129">Győződjön meg arról, hogy hello lemezek nem választott hello virtuális gép törlésekor.</span><span class="sxs-lookup"><span data-stu-id="1b9fe-129">Make sure that hello disks are not selected when you delete hello VM.</span></span>
6. <span data-ttu-id="1b9fe-130">Hozzon létre egy új helyreállítási virtuális gépet.</span><span class="sxs-lookup"><span data-stu-id="1b9fe-130">Create a new recovery VM.</span></span> <span data-ttu-id="1b9fe-131">A virtuális gép lehet hello azonos régióban és erőforrás csoportban (Felhőszolgáltatás) hello probléma virtuális gép.</span><span class="sxs-lookup"><span data-stu-id="1b9fe-131">This VM must be in hello same region and resource group (Cloud Service) as hello problem VM.</span></span>
7. <span data-ttu-id="1b9fe-132">Hello helyreállítási virtuális Gépet, majd válassza ki és **lemezek** > **meglévő csatolása**.</span><span class="sxs-lookup"><span data-stu-id="1b9fe-132">Select hello recovery VM, and then select **Disks** > **Attach Existing**.</span></span>
8. <span data-ttu-id="1b9fe-133">tooselect a meglévő virtuális merevlemez kattintson **VHD-fájl**:</span><span class="sxs-lookup"><span data-stu-id="1b9fe-133">tooselect your existing virtual hard disk, click **VHD File**:</span></span>

    ![Meglévő VHD keresése](./media/virtual-machines-classic-recovery-disks-portal/select-vhd-location.png)

9. <span data-ttu-id="1b9fe-135">Válassza ki a tárfiók hello > VHD-tároló > hello virtuális merevlemez, kattintson a hello **válasszon** tooconfirm gomb szabadon választott.</span><span class="sxs-lookup"><span data-stu-id="1b9fe-135">Select hello storage account > VHD container > hello virtual hard disk, click hello **Select** button tooconfirm your choice.</span></span>

    ![Meglévő VHD kiválasztása](./media/virtual-machines-classic-recovery-disks-portal/select-vhd.png)

10. <span data-ttu-id="1b9fe-137">Válassza ki a most kijelölt virtuális merevlemez a **OK** tooattach hello létező virtuális merevlemezt.</span><span class="sxs-lookup"><span data-stu-id="1b9fe-137">With your VHD now selected, select **OK** tooattach hello existing virtual hard disk.</span></span>
11. <span data-ttu-id="1b9fe-138">Néhány másodperc múlva hello **lemezek** a virtuális gép ablaktábla a meglévő virtuális merevlemez csatlakoztatva adatlemezt számára:</span><span class="sxs-lookup"><span data-stu-id="1b9fe-138">After a few seconds, hello **Disks** pane for your VM will display your existing virtual hard disk connected as a data disk:</span></span>

    ![Adatlemezként csatlakoztatott meglévő virtuális merevlemez](./media/virtual-machines-classic-recovery-disks-portal/attached-disk.png)

## <a name="fix-issues-on-hello-original-virtual-hard-disk"></a><span data-ttu-id="1b9fe-140">Hello eredeti virtuális merevlemez kapcsolatos problémák megoldása</span><span class="sxs-lookup"><span data-stu-id="1b9fe-140">Fix issues on hello original virtual hard disk</span></span>
<span data-ttu-id="1b9fe-141">Ha hello meglévő virtuálismerevlemez-fájl csatlakoztatva van, minden karbantartási és hibaelhárítási lépéseket, igény szerint most elvégezhet.</span><span class="sxs-lookup"><span data-stu-id="1b9fe-141">When hello existing virtual hard disk is mounted, you can now perform any maintenance and troubleshooting steps as needed.</span></span> <span data-ttu-id="1b9fe-142">Egyszer foglalkoztak hello problémák, folytassa a következő lépéseket hello.</span><span class="sxs-lookup"><span data-stu-id="1b9fe-142">Once you have addressed hello issues, continue with hello following steps.</span></span>

## <a name="unmount-and-detach-hello-original-virtual-hard-disk"></a><span data-ttu-id="1b9fe-143">Válassza le a lemezképet, és válassza le hello eredeti virtuális merevlemezt</span><span class="sxs-lookup"><span data-stu-id="1b9fe-143">Unmount and detach hello original virtual hard disk</span></span>
<span data-ttu-id="1b9fe-144">Amennyiben az esetleges hibákat fakadó problémák megoldásával leválasztása, és válassza le hello meglévő virtuális merevlemezt a hibaelhárítási virtuális gépről.</span><span class="sxs-lookup"><span data-stu-id="1b9fe-144">Once any errors are resolved, unmount and detach hello existing virtual hard disk from your troubleshooting VM.</span></span> <span data-ttu-id="1b9fe-145">A virtuális merevlemez más virtuális gép együtt nem használható, amíg hello bérleti hello virtuális merevlemez toohello VM hibaelhárítási csatlakozó.</span><span class="sxs-lookup"><span data-stu-id="1b9fe-145">You cannot use your virtual hard disk together with any other VM until hello lease that attaches hello virtual hard disk toohello troubleshooting VM is released.</span></span>  

1. <span data-ttu-id="1b9fe-146">Jelentkezzen be toohello [Azure-portálon](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="1b9fe-146">Sign in toohello [Azure portal](https://portal.azure.com).</span></span> 
2. <span data-ttu-id="1b9fe-147">A hello hello bal oldali menüben válassza **virtuális gépek (klasszikus)**.</span><span class="sxs-lookup"><span data-stu-id="1b9fe-147">On hello menu on hello left side, select **Virtual Machines (classic)**.</span></span>
3. <span data-ttu-id="1b9fe-148">Keresse meg a hello helyreállítási virtuális Gépet.</span><span class="sxs-lookup"><span data-stu-id="1b9fe-148">Locate hello recovery VM.</span></span> <span data-ttu-id="1b9fe-149">Válassza ki a lemezt, kattintson a jobb gombbal hello lemezre, majd **leválasztási**.</span><span class="sxs-lookup"><span data-stu-id="1b9fe-149">Select Disks, right-click hello disk, and then select **Detach**.</span></span>

## <a name="create-a-vm-from-hello-original-hard-disk"></a><span data-ttu-id="1b9fe-150">Hozzon létre egy virtuális Gépet hello eredeti merevlemez</span><span class="sxs-lookup"><span data-stu-id="1b9fe-150">Create a VM from hello original hard disk</span></span>

<span data-ttu-id="1b9fe-151">toocreate egy virtuális Gépet az eredeti virtuális merevlemez használata [a klasszikus Azure portálon](https://manage.windowsazure.com).</span><span class="sxs-lookup"><span data-stu-id="1b9fe-151">toocreate a VM from your original virtual hard disk, use [Azure classic portal](https://manage.windowsazure.com).</span></span>

1. <span data-ttu-id="1b9fe-152">Jelentkezzen be a [klasszikus Azure portálra](https://manage.windowsazure.com).</span><span class="sxs-lookup"><span data-stu-id="1b9fe-152">Sign into [Azure classic portal](https://manage.windowsazure.com).</span></span>
2. <span data-ttu-id="1b9fe-153">Hello hello portál alsó részén, jelölje ki a **új** > **számítási** > **virtuális gép** > **a gyűjteménye** .</span><span class="sxs-lookup"><span data-stu-id="1b9fe-153">At hello bottom of hello portal, select **New** > **Compute** > **Virtual Machine** > **From Gallery**.</span></span>
3. <span data-ttu-id="1b9fe-154">A hello **kép kiválasztása** szakaszban jelölje be **a lemezek**, és ezután válasszon hello eredeti virtuális merevlemezt.</span><span class="sxs-lookup"><span data-stu-id="1b9fe-154">In hello **Choose an Image** section, select **My disks**, and then select hello original virtual hard disk.</span></span> <span data-ttu-id="1b9fe-155">Ellenőrizze a hello helyére vonatkozó információkat.</span><span class="sxs-lookup"><span data-stu-id="1b9fe-155">Check hello location information.</span></span> <span data-ttu-id="1b9fe-156">Ez a hello régió, ahol hello VM kell telepíteni.</span><span class="sxs-lookup"><span data-stu-id="1b9fe-156">This is hello region where hello VM must be deployed.</span></span> <span data-ttu-id="1b9fe-157">Válassza ki a hello Tovább gombra.</span><span class="sxs-lookup"><span data-stu-id="1b9fe-157">Select hello next button.</span></span>
4. <span data-ttu-id="1b9fe-158">A hello **virtuálisgép-konfiguráció** szakaszt, írja be a nevet a virtuális gép hello és hello VM kiválasztásához.</span><span class="sxs-lookup"><span data-stu-id="1b9fe-158">In hello **Virtual machine configuration** section, type hello VM name and select a size for hello VM.</span></span>
