

<span data-ttu-id="1d6c8-101">Nincsenek elérhető Azure infrastruktúra-szolgáltatásokat a terheléselosztás két szintje:</span><span class="sxs-lookup"><span data-stu-id="1d6c8-101">There are two levels of load balancing available for Azure infrastructure services:</span></span>

* <span data-ttu-id="1d6c8-102">**DNS-szintű**: más adatok terheléselosztás a forgalom toodifferent felhőszolgáltatások található erőforrások, Azure-webhelyek toodifferent különböző adatközpontokban vagy található tooexternal végpontok.</span><span class="sxs-lookup"><span data-stu-id="1d6c8-102">**DNS Level**:  Load balancing for traffic toodifferent cloud services located in different data centers, toodifferent Azure websites located in different data centers, or tooexternal endpoints.</span></span> <span data-ttu-id="1d6c8-103">Ez történik, az Azure Traffic Manager, és ciklikus multiplexelés hello betölteni a terheléselosztási mód.</span><span class="sxs-lookup"><span data-stu-id="1d6c8-103">This is done with Azure Traffic Manager and hello Round Robin load balancing method.</span></span>
* <span data-ttu-id="1d6c8-104">**Hálózati szintű**: terheléselosztás bejövő internetes forgalom toodifferent virtuális gépek egy felhőalapú szolgáltatás, vagy a felhőszolgáltatás vagy a virtuális hálózaton lévő virtuális gépek közötti forgalom terheléselosztása.</span><span class="sxs-lookup"><span data-stu-id="1d6c8-104">**Network Level**:  Load balancing of incoming Internet traffic toodifferent virtual machines of a cloud service, or load balancing of traffic between virtual machines in a cloud service or virtual network.</span></span> <span data-ttu-id="1d6c8-105">Ez a lépés hello Azure terheléselosztó.</span><span class="sxs-lookup"><span data-stu-id="1d6c8-105">This is done with hello Azure load balancer.</span></span>

## <a name="traffic-manager-load-balancing-for-cloud-services-and-websites"></a><span data-ttu-id="1d6c8-106">A TRAFFIC Manager terheléselosztást felhőszolgáltatások és webhelyek</span><span class="sxs-lookup"><span data-stu-id="1d6c8-106">Traffic Manager load balancing for cloud services and websites</span></span>
<span data-ttu-id="1d6c8-107">A TRAFFIC Manager lehetővé teszi felhasználói forgalom tooendpoints, ami magában foglalhatja a felhőszolgáltatások, a webhelyek, a külső helyek és a más Traffic Manager-profilok toocontrol hello terjesztése.</span><span class="sxs-lookup"><span data-stu-id="1d6c8-107">Traffic Manager allows you toocontrol hello distribution of user traffic tooendpoints, which can include cloud services, websites, external sites, and other Traffic Manager profiles.</span></span> <span data-ttu-id="1d6c8-108">A TRAFFIC Manager működik az intelligens házirend motor tooDomain tartománynévrendszer (DNS) lekérdezések hello tartománynevek az internetes erőforrások alkalmazásával.</span><span class="sxs-lookup"><span data-stu-id="1d6c8-108">Traffic Manager works by applying an intelligent policy engine tooDomain Name System (DNS) queries for hello domain names of your Internet resources.</span></span> <span data-ttu-id="1d6c8-109">A felhőszolgáltatás vagy webhelyek futtathat különböző adatközpontokban hello world között.</span><span class="sxs-lookup"><span data-stu-id="1d6c8-109">Your cloud services or websites can be running in different datacenters across hello world.</span></span>

<span data-ttu-id="1d6c8-110">REST- vagy Windows PowerShell tooconfigure külső végpontok vagy a Traffic Manager-profilok végpontként kell használnia.</span><span class="sxs-lookup"><span data-stu-id="1d6c8-110">You must use either REST or Windows PowerShell tooconfigure external endpoints or Traffic Manager profiles as endpoints.</span></span>

<span data-ttu-id="1d6c8-111">A TRAFFIC Manager által használt három terheléselosztás módszerek toodistribute forgalmat:</span><span class="sxs-lookup"><span data-stu-id="1d6c8-111">Traffic Manager uses three load-balancing methods toodistribute traffic:</span></span>

* <span data-ttu-id="1d6c8-112">**Feladatátvételi**: ezt a módszert használja, elsődleges végpont toouse összes forgalom, de adja meg a biztonsági mentések, abban az esetben, ha elsődleges hello nem érhető el.</span><span class="sxs-lookup"><span data-stu-id="1d6c8-112">**Failover**:  Use this method when you want toouse a primary endpoint for all traffic, but provide backups in case hello primary becomes unavailable.</span></span>
* <span data-ttu-id="1d6c8-113">**Teljesítmény**: ezt a módszert használja a végpontok különböző földrajzi helyeken található, ha azt szeretné, hogy a kérő ügyfelek toouse hello "legközelebbi" végpont hello legkisebb mértékű késleltetést tekintetében.</span><span class="sxs-lookup"><span data-stu-id="1d6c8-113">**Performance**:  Use this method when you have endpoints in different geographic locations and you want requesting clients toouse hello "closest" endpoint in terms of hello lowest latency.</span></span>
* <span data-ttu-id="1d6c8-114">**Ciklikus multiplexelés:** ezt a módszert használja, ha azt szeretné, hogy ugyanaz a hello szolgáltatásai toodistribute betöltése között felhő készlete datacenter vagy a felhőszolgáltatás vagy webhely különböző adatközpontokban.</span><span class="sxs-lookup"><span data-stu-id="1d6c8-114">**Round Robin:**  Use this method when you want toodistribute load across a set of cloud services in hello same datacenter or across cloud services or websites in different datacenters.</span></span>

<span data-ttu-id="1d6c8-115">További információkért lásd: [kapcsolatos Traffic Manager terhelés terheléselosztás módszerek](../articles/traffic-manager/traffic-manager-routing-methods.md).</span><span class="sxs-lookup"><span data-stu-id="1d6c8-115">For more information, see [About Traffic Manager Load Balancing Methods](../articles/traffic-manager/traffic-manager-routing-methods.md).</span></span>

<span data-ttu-id="1d6c8-116">a következő diagram hello hello ciklikus multiplexelés terhelés terheléselosztási mód különböző felhőszolgáltatások közötti forgalom elosztásához példáját mutatja be.</span><span class="sxs-lookup"><span data-stu-id="1d6c8-116">hello following diagram shows an example of hello Round Robin load balancing method for distributing traffic between different cloud services.</span></span>

![terheléselosztás](./media/virtual-machines-common-load-balance/TMSummary.png)

<span data-ttu-id="1d6c8-118">hello folyamat alapvetően a hello következő történik:</span><span class="sxs-lookup"><span data-stu-id="1d6c8-118">hello basic process is hello following:</span></span>

1. <span data-ttu-id="1d6c8-119">Egy internetes ügyfél lekérdezi a tartomány neve megfelelő tooa webes szolgáltatás.</span><span class="sxs-lookup"><span data-stu-id="1d6c8-119">An Internet client queries a domain name corresponding tooa web service.</span></span>
2. <span data-ttu-id="1d6c8-120">DNS hello neve lekérdezés kérelem tooTraffic Manager továbbítja.</span><span class="sxs-lookup"><span data-stu-id="1d6c8-120">DNS forwards hello name query request tooTraffic Manager.</span></span>
3. <span data-ttu-id="1d6c8-121">A TRAFFIC Manager hello tovább a felhőalapú szolgáltatás választ a hello ciklikus multiplexelés lista, és küld vissza hello DNS-nevét.</span><span class="sxs-lookup"><span data-stu-id="1d6c8-121">Traffic Manager chooses hello next cloud service in hello Round Robin list and sends back hello DNS name.</span></span> <span data-ttu-id="1d6c8-122">hello internetes ügyfél DNS-kiszolgáló oldja fel a hello neve tooan IP-címet, és elküldi azt toohello internetes ügyfél.</span><span class="sxs-lookup"><span data-stu-id="1d6c8-122">hello Internet client's DNS server resolves hello name tooan IP address and sends it toohello Internet client.</span></span>
4. <span data-ttu-id="1d6c8-123">Traffic Manager által kiválasztott hello felhőszolgáltatás hello internetes ügyfél kapcsolódik.</span><span class="sxs-lookup"><span data-stu-id="1d6c8-123">hello Internet client connects with hello cloud service chosen by Traffic Manager.</span></span>

<span data-ttu-id="1d6c8-124">További információkért lásd: [Traffic Manager](../articles/traffic-manager/traffic-manager-overview.md).</span><span class="sxs-lookup"><span data-stu-id="1d6c8-124">For more information, see [Traffic Manager](../articles/traffic-manager/traffic-manager-overview.md).</span></span>

## <a name="azure-load-balancing-for-virtual-machines"></a><span data-ttu-id="1d6c8-125">Az Azure virtuális gépek terheléselosztását</span><span class="sxs-lookup"><span data-stu-id="1d6c8-125">Azure load balancing for virtual machines</span></span>
<span data-ttu-id="1d6c8-126">A virtuális gépek hello ugyanazt a felhőalapú szolgáltatás, vagy a virtuális hálózati kommunikálhatnak egymással közvetlenül a saját privát IP-címek használatával.</span><span class="sxs-lookup"><span data-stu-id="1d6c8-126">Virtual machines in hello same cloud service or virtual network can communicate with each other directly using their private IP addresses.</span></span> <span data-ttu-id="1d6c8-127">Számítógépek és szolgáltatások hello kívül a felhőalapú szolgáltatás, vagy a virtuális hálózat csak egy felhőalapú szolgáltatás, vagy a konfigurált kötéssel a következő virtuális hálózaton lévő virtuális gépek kommunikálhatnak.</span><span class="sxs-lookup"><span data-stu-id="1d6c8-127">Computers and services outside hello cloud service or virtual network can only communicate with virtual machines in a cloud service or virtual network with a configured endpoint.</span></span> <span data-ttu-id="1d6c8-128">A végpont egy leképezésnek a nyilvános IP-cím és port toothat magánhálózati IP-cím és port egy virtuális gép vagy a webes szerepkör egy Azure felhőszolgáltatást belül.</span><span class="sxs-lookup"><span data-stu-id="1d6c8-128">An endpoint is a mapping of a public IP address and port toothat private IP address and port of a virtual machine or web role within an Azure cloud service.</span></span>

<span data-ttu-id="1d6c8-129">hello Azure terheléselosztó bejövő forgalmat egy adott típusú véletlenszerűen terjeszti több virtuális gépek vagy szolgáltatások egy elosztott terhelésű készlet néven konfigurációban.</span><span class="sxs-lookup"><span data-stu-id="1d6c8-129">hello Azure Load Balancer randomly distributes a specific type of incoming traffic across multiple virtual machines or services in a configuration known as a load-balanced set.</span></span> <span data-ttu-id="1d6c8-130">Például a webes kérelem forgalom terhelését hello elosztva is több webkiszolgálók vagy webes szerepkörök.</span><span class="sxs-lookup"><span data-stu-id="1d6c8-130">For example, you can spread hello load of web request traffic across multiple web servers or web roles.</span></span>

<span data-ttu-id="1d6c8-131">hello alábbi ábrán látható egy elosztott terhelésű végpont hello nyilvános és titkos TCP-port a 80-as három virtuális gépek által közösen használt szokásos (titkosítatlan) webes forgalom.</span><span class="sxs-lookup"><span data-stu-id="1d6c8-131">hello following diagram shows a load-balanced endpoint for standard (unencrypted) web traffic that is shared among three virtual machines for hello public and private TCP port of 80.</span></span> <span data-ttu-id="1d6c8-132">A három virtuális gépek vannak egy elosztott terhelésű készlet.</span><span class="sxs-lookup"><span data-stu-id="1d6c8-132">These three virtual machines are in a load-balanced set.</span></span>

![terheléselosztás](./media/virtual-machines-common-load-balance/LoadBalancing.png)

<span data-ttu-id="1d6c8-134">További információkért lásd: [Azure Load Balancer](../articles/load-balancer/load-balancer-overview.md).</span><span class="sxs-lookup"><span data-stu-id="1d6c8-134">For more information, see [Azure Load Balancer](../articles/load-balancer/load-balancer-overview.md).</span></span> <span data-ttu-id="1d6c8-135">Hello lépések toocreate egy elosztott terhelésű készlet, lásd: [konfigurálása egy elosztott terhelésű készlet](../articles/load-balancer/load-balancer-get-started-internet-arm-ps.md).</span><span class="sxs-lookup"><span data-stu-id="1d6c8-135">For hello steps toocreate a load-balanced set, see [Configure a load-balanced set](../articles/load-balancer/load-balancer-get-started-internet-arm-ps.md).</span></span>

<span data-ttu-id="1d6c8-136">Azure is be tudják tölteni a felhőalapú szolgáltatás vagy a virtuális hálózaton belül egyenleg.</span><span class="sxs-lookup"><span data-stu-id="1d6c8-136">Azure can also load balance within a cloud service or virtual network.</span></span> <span data-ttu-id="1d6c8-137">Ez a belső terheléselosztás nevezik, és használható a következő módokon hello:</span><span class="sxs-lookup"><span data-stu-id="1d6c8-137">This is known as internal load balancing and can be used in hello following ways:</span></span>

* <span data-ttu-id="1d6c8-138">a többrétegű alkalmazások (például közötti web- és az Adatbázisréteg) külön rétegekhez kiszolgálók közötti egyensúly tooload.</span><span class="sxs-lookup"><span data-stu-id="1d6c8-138">tooload balance between servers in different tiers of a multi-tier application (for example, between web and database tiers).</span></span>
* <span data-ttu-id="1d6c8-139">tooload egyenleg-üzletági (LOB) alkalmazások anélkül, hogy további load balancer hardver- vagy Azure-ban üzemeltetett.</span><span class="sxs-lookup"><span data-stu-id="1d6c8-139">tooload balance line-of-business (LOB) applications hosted in Azure without requiring additional load balancer hardware or software.</span></span>
* <span data-ttu-id="1d6c8-140">tooinclude helyszíni kiszolgálók a számítógépet, amelynek a forgalmát terhelésű hello készletét.</span><span class="sxs-lookup"><span data-stu-id="1d6c8-140">tooinclude on-premises servers in hello set of computers whose traffic is load balanced.</span></span>

<span data-ttu-id="1d6c8-141">Hasonló tooAzure terheléselosztási, belső terheléselosztási megkönnyíthető egy belső elosztott terhelésű készlet konfigurálása.</span><span class="sxs-lookup"><span data-stu-id="1d6c8-141">Similar tooAzure load balancing, internal load balancing is facilitated by configuring an internal load-balanced set.</span></span>

<span data-ttu-id="1d6c8-142">a következő diagram hello belső elosztott terhelésű végpont egy üzletági (LOB) alkalmazás három virtuális gépek között a létesítmények közötti virtuális hálózaton lévő megosztott példáját mutatja be.</span><span class="sxs-lookup"><span data-stu-id="1d6c8-142">hello following diagram shows an example of an internal load-balanced endpoint for a line of business (LOB) application that is shared among three virtual machines in a cross-premises virtual network.</span></span>

![terheléselosztás](./media/virtual-machines-common-load-balance/LOBServers.png)

## <a name="load-balancer-considerations"></a><span data-ttu-id="1d6c8-144">Load balancer kapcsolatos szempontok</span><span class="sxs-lookup"><span data-stu-id="1d6c8-144">Load balancer considerations</span></span>
<span data-ttu-id="1d6c8-145">A terheléselosztó alapértelmezés szerint van konfigurálva az üresjárat 4 percben tootimeout.</span><span class="sxs-lookup"><span data-stu-id="1d6c8-145">A load balancer is configured by default tootimeout an idle session in 4 minutes.</span></span> <span data-ttu-id="1d6c8-146">Ha az alkalmazás egy terheléselosztó mögött elhagyja a kapcsolat üresjáratban 4 percnél hosszabb ideig, és nem rendelkezik egy életben tartási konfigurációs, hello kapcsolatot a rendszer eldobja.</span><span class="sxs-lookup"><span data-stu-id="1d6c8-146">If your application behind a load balancer leaves a connection idle for more than 4 minutes and it doesn't have a Keep-Alive configuration, hello connection will be dropped.</span></span> <span data-ttu-id="1d6c8-147">Módosíthatja a hello load balancer viselkedés tooallow egy [hosszabb időtúllépés beállítása az Azure terheléselosztó](../articles/load-balancer/load-balancer-tcp-idle-timeout.md).</span><span class="sxs-lookup"><span data-stu-id="1d6c8-147">You can change hello load balancer behavior tooallow a [longer timeout setting for Azure load balancer](../articles/load-balancer/load-balancer-tcp-idle-timeout.md).</span></span>

<span data-ttu-id="1d6c8-148">Egyéb szempont, hogy hello típusú Azure terheléselosztó által támogatott terjesztési mód.</span><span class="sxs-lookup"><span data-stu-id="1d6c8-148">Other consideration is hello type of distribution mode supported by Azure Load Balancer.</span></span> <span data-ttu-id="1d6c8-149">Konfigurálhatja a forrás IP-kapcsolat (forrás IP-címe, cél IP-cím) vagy a forrás IP-protokoll (forrás IP-címe, cél IP-címe és protokoll).</span><span class="sxs-lookup"><span data-stu-id="1d6c8-149">You can configure source IP affinity (source IP, destination IP) or source IP protocol (source IP , destination IP and protocol).</span></span> <span data-ttu-id="1d6c8-150">Tekintse meg [Azure Load Balancer módot (forrás IP-kapcsolat)](../articles/load-balancer/load-balancer-distribution-mode.md) további információt.</span><span class="sxs-lookup"><span data-stu-id="1d6c8-150">Check out [Azure Load Balancer distribution mode (source IP affinity)](../articles/load-balancer/load-balancer-distribution-mode.md) for more information.</span></span>

## <a name="next-steps"></a><span data-ttu-id="1d6c8-151">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="1d6c8-151">Next steps</span></span>
<span data-ttu-id="1d6c8-152">Hello lépések toocreate egy elosztott terhelésű készlet, lásd: [konfigurálása egy belső elosztott terhelésű készlet](../articles/load-balancer/load-balancer-get-started-ilb-arm-ps.md).</span><span class="sxs-lookup"><span data-stu-id="1d6c8-152">For hello steps toocreate a load-balanced set, see [Configure an internal load-balanced set](../articles/load-balancer/load-balancer-get-started-ilb-arm-ps.md).</span></span>

<span data-ttu-id="1d6c8-153">Terheléselosztó kapcsolatos további információkért lásd: [belső terheléselosztás](../articles/load-balancer/load-balancer-internal-overview.md).</span><span class="sxs-lookup"><span data-stu-id="1d6c8-153">For more information about load balancer, see [Internal load balancing](../articles/load-balancer/load-balancer-internal-overview.md).</span></span>

