

<span data-ttu-id="83ead-101">Nincsenek elérhető Azure infrastruktúra-szolgáltatásokat a terheléselosztás két szintje:</span><span class="sxs-lookup"><span data-stu-id="83ead-101">There are two levels of load balancing available for Azure infrastructure services:</span></span>

* <span data-ttu-id="83ead-102">**DNS-szintű**: a különböző adatközpontokban vagy külső végpontok száma a terheléselosztást a forgalmat különböző felhőszolgáltatások más adatok mappában lévő csoportosítva, különböző Azure-webhelyek találhatók.</span><span class="sxs-lookup"><span data-stu-id="83ead-102">**DNS Level**:  Load balancing for traffic to different cloud services located in different data centers, to different Azure websites located in different data centers, or to external endpoints.</span></span> <span data-ttu-id="83ead-103">Ez történik, az Azure Traffic Manager és a ciklikus multiplexelés terheléselosztási a betöltési metódust.</span><span class="sxs-lookup"><span data-stu-id="83ead-103">This is done with Azure Traffic Manager and the Round Robin load balancing method.</span></span>
* <span data-ttu-id="83ead-104">**Hálózati szintű**: terheléselosztása bejövő internetes forgalmat különböző virtuális gépek egy felhőalapú szolgáltatás, vagy a felhőszolgáltatás vagy a virtuális hálózaton lévő virtuális gépek közötti forgalom terheléselosztása.</span><span class="sxs-lookup"><span data-stu-id="83ead-104">**Network Level**:  Load balancing of incoming Internet traffic to different virtual machines of a cloud service, or load balancing of traffic between virtual machines in a cloud service or virtual network.</span></span> <span data-ttu-id="83ead-105">Ez a lépés az Azure load balancer.</span><span class="sxs-lookup"><span data-stu-id="83ead-105">This is done with the Azure load balancer.</span></span>

## <a name="traffic-manager-load-balancing-for-cloud-services-and-websites"></a><span data-ttu-id="83ead-106">A TRAFFIC Manager terheléselosztást felhőszolgáltatások és webhelyek</span><span class="sxs-lookup"><span data-stu-id="83ead-106">Traffic Manager load balancing for cloud services and websites</span></span>
<span data-ttu-id="83ead-107">Traffic Manager azonban lehetővé teszik a felhasználói forgalomnak a végpontok, amelyek magukban foglalhatják a felhőszolgáltatások, a webhelyek, a külső helyek és a más Traffic Manager-profilok terjesztése.</span><span class="sxs-lookup"><span data-stu-id="83ead-107">Traffic Manager allows you to control the distribution of user traffic to endpoints, which can include cloud services, websites, external sites, and other Traffic Manager profiles.</span></span> <span data-ttu-id="83ead-108">Traffic Manager úgy működik az intelligens házirendmotor alkalmazása az internetes erőforrások tartománynevének tartománynévrendszer (DNS) lekérdezéseket.</span><span class="sxs-lookup"><span data-stu-id="83ead-108">Traffic Manager works by applying an intelligent policy engine to Domain Name System (DNS) queries for the domain names of your Internet resources.</span></span> <span data-ttu-id="83ead-109">A felhőszolgáltatás vagy webhelyek futtathat különböző adatközpontokban keresztül történik.</span><span class="sxs-lookup"><span data-stu-id="83ead-109">Your cloud services or websites can be running in different datacenters across the world.</span></span>

<span data-ttu-id="83ead-110">Külső végpontok száma vagy a Traffic Manager-profilok beállítása végpontok REST vagy a Windows PowerShell kell használnia.</span><span class="sxs-lookup"><span data-stu-id="83ead-110">You must use either REST or Windows PowerShell to configure external endpoints or Traffic Manager profiles as endpoints.</span></span>

<span data-ttu-id="83ead-111">A TRAFFIC Manager forgalom terjesztésére terheléselosztás megvalósítására három módszert alkalmaz:</span><span class="sxs-lookup"><span data-stu-id="83ead-111">Traffic Manager uses three load-balancing methods to distribute traffic:</span></span>

* <span data-ttu-id="83ead-112">**Feladatátvételi**: ezt a módszert használja, ha meg szeretné az összes forgalom az elsődleges végpont használatára, de adja meg a biztonsági mentések, abban az esetben, ha az elsődleges nem érhető el.</span><span class="sxs-lookup"><span data-stu-id="83ead-112">**Failover**:  Use this method when you want to use a primary endpoint for all traffic, but provide backups in case the primary becomes unavailable.</span></span>
* <span data-ttu-id="83ead-113">**Teljesítmény**: ezt a módszert használja a végpontok különböző földrajzi helyeken található, ha azt szeretné, hogy kérő ügyfelek számára a "legközelebbi" végpont a legkisebb mértékű késleltetést tekintetében.</span><span class="sxs-lookup"><span data-stu-id="83ead-113">**Performance**:  Use this method when you have endpoints in different geographic locations and you want requesting clients to use the "closest" endpoint in terms of the lowest latency.</span></span>
* <span data-ttu-id="83ead-114">**Ciklikus multiplexelés:** ezt a módszert használja, ha meg szeretné osszák szét a felhőalapú szolgáltatások ugyanabban az adatközpontban vagy felhőszolgáltatások vagy különböző adatközpontokban webhelyek között.</span><span class="sxs-lookup"><span data-stu-id="83ead-114">**Round Robin:**  Use this method when you want to distribute load across a set of cloud services in the same datacenter or across cloud services or websites in different datacenters.</span></span>

<span data-ttu-id="83ead-115">További információkért lásd: [kapcsolatos Traffic Manager terhelés terheléselosztás módszerek](../articles/traffic-manager/traffic-manager-routing-methods.md).</span><span class="sxs-lookup"><span data-stu-id="83ead-115">For more information, see [About Traffic Manager Load Balancing Methods](../articles/traffic-manager/traffic-manager-routing-methods.md).</span></span>

<span data-ttu-id="83ead-116">Az alábbi ábrán látható egy példa a ciklikus multiplexelés terheléselosztási módszer különböző felhőszolgáltatások közötti forgalom elosztásához.</span><span class="sxs-lookup"><span data-stu-id="83ead-116">The following diagram shows an example of the Round Robin load balancing method for distributing traffic between different cloud services.</span></span>

![terheléselosztás](./media/virtual-machines-common-load-balance/TMSummary.png)

<span data-ttu-id="83ead-118">A folyamat alapvetően a következő történik:</span><span class="sxs-lookup"><span data-stu-id="83ead-118">The basic process is the following:</span></span>

1. <span data-ttu-id="83ead-119">Egy internetes ügyfél lekérdezi egy webszolgáltatás-bővítmény a tartomány nevével.</span><span class="sxs-lookup"><span data-stu-id="83ead-119">An Internet client queries a domain name corresponding to a web service.</span></span>
2. <span data-ttu-id="83ead-120">DNS továbbítja a név lekérdezés kérelmet felvétele a Traffic Manager.</span><span class="sxs-lookup"><span data-stu-id="83ead-120">DNS forwards the name query request to Traffic Manager.</span></span>
3. <span data-ttu-id="83ead-121">A TRAFFIC Manager úgy dönt, a következő felhőszolgáltatás ciklikus multiplexelés listájában, és küld vissza a DNS-nevét.</span><span class="sxs-lookup"><span data-stu-id="83ead-121">Traffic Manager chooses the next cloud service in the Round Robin list and sends back the DNS name.</span></span> <span data-ttu-id="83ead-122">Az internetes ügyfél DNS-kiszolgáló nevét feloldja egy IP-címre, és elküldi az internetes ügyfél.</span><span class="sxs-lookup"><span data-stu-id="83ead-122">The Internet client's DNS server resolves the name to an IP address and sends it to the Internet client.</span></span>
4. <span data-ttu-id="83ead-123">Az internetes ügyfél kapcsolódik a Traffic Manager által a kiválasztott felhőszolgáltatással.</span><span class="sxs-lookup"><span data-stu-id="83ead-123">The Internet client connects with the cloud service chosen by Traffic Manager.</span></span>

<span data-ttu-id="83ead-124">További információkért lásd: [Traffic Manager](../articles/traffic-manager/traffic-manager-overview.md).</span><span class="sxs-lookup"><span data-stu-id="83ead-124">For more information, see [Traffic Manager](../articles/traffic-manager/traffic-manager-overview.md).</span></span>

## <a name="azure-load-balancing-for-virtual-machines"></a><span data-ttu-id="83ead-125">Az Azure virtuális gépek terheléselosztását</span><span class="sxs-lookup"><span data-stu-id="83ead-125">Azure load balancing for virtual machines</span></span>
<span data-ttu-id="83ead-126">A virtuális gépet felvesz ugyanabba a felhőalapú szolgáltatás, vagy a virtuális hálózati kommunikálhatnak egymással közvetlenül a magánhálózati IP-címek használata.</span><span class="sxs-lookup"><span data-stu-id="83ead-126">Virtual machines in the same cloud service or virtual network can communicate with each other directly using their private IP addresses.</span></span> <span data-ttu-id="83ead-127">Számítógépek és szolgáltatások a felhőalapú szolgáltatás, vagy a virtuális hálózaton kívül csak kommunikálhatnak egy felhőalapú szolgáltatás, vagy a konfigurált kötéssel a következő virtuális hálózaton lévő virtuális gépek.</span><span class="sxs-lookup"><span data-stu-id="83ead-127">Computers and services outside the cloud service or virtual network can only communicate with virtual machines in a cloud service or virtual network with a configured endpoint.</span></span> <span data-ttu-id="83ead-128">A végpont a leképezés egy nyilvános IP-cím és port privát IP-címet, és a virtuális gép vagy egy Azure felhőszolgáltatást belül webes szerepkör port.</span><span class="sxs-lookup"><span data-stu-id="83ead-128">An endpoint is a mapping of a public IP address and port to that private IP address and port of a virtual machine or web role within an Azure cloud service.</span></span>

<span data-ttu-id="83ead-129">Az Azure terheléselosztó bejövő forgalmat egy adott típusú véletlenszerűen több virtuális gépek vagy szolgáltatások egy elosztott terhelésű készlet néven konfigurációban osztja el.</span><span class="sxs-lookup"><span data-stu-id="83ead-129">The Azure Load Balancer randomly distributes a specific type of incoming traffic across multiple virtual machines or services in a configuration known as a load-balanced set.</span></span> <span data-ttu-id="83ead-130">Például a webes kérelem forgalom terhelését elosztva is több webkiszolgálók vagy webes szerepkörök.</span><span class="sxs-lookup"><span data-stu-id="83ead-130">For example, you can spread the load of web request traffic across multiple web servers or web roles.</span></span>

<span data-ttu-id="83ead-131">Az alábbi ábrán egy elosztott terhelésű végpont szabványos (titkosítatlan) webes forgalom, amely a nyilvános és titkos TCP port a 80-as három virtuális gép között meg van osztva.</span><span class="sxs-lookup"><span data-stu-id="83ead-131">The following diagram shows a load-balanced endpoint for standard (unencrypted) web traffic that is shared among three virtual machines for the public and private TCP port of 80.</span></span> <span data-ttu-id="83ead-132">A három virtuális gépek vannak egy elosztott terhelésű készlet.</span><span class="sxs-lookup"><span data-stu-id="83ead-132">These three virtual machines are in a load-balanced set.</span></span>

![terheléselosztás](./media/virtual-machines-common-load-balance/LoadBalancing.png)

<span data-ttu-id="83ead-134">További információkért lásd: [Azure Load Balancer](../articles/load-balancer/load-balancer-overview.md).</span><span class="sxs-lookup"><span data-stu-id="83ead-134">For more information, see [Azure Load Balancer](../articles/load-balancer/load-balancer-overview.md).</span></span> <span data-ttu-id="83ead-135">Hozzon létre egy elosztott terhelésű készletet lépéseiért lásd: [konfigurálása egy elosztott terhelésű készlet](../articles/load-balancer/load-balancer-get-started-internet-arm-ps.md).</span><span class="sxs-lookup"><span data-stu-id="83ead-135">For the steps to create a load-balanced set, see [Configure a load-balanced set](../articles/load-balancer/load-balancer-get-started-internet-arm-ps.md).</span></span>

<span data-ttu-id="83ead-136">Azure is be tudják tölteni a felhőalapú szolgáltatás vagy a virtuális hálózaton belül egyenleg.</span><span class="sxs-lookup"><span data-stu-id="83ead-136">Azure can also load balance within a cloud service or virtual network.</span></span> <span data-ttu-id="83ead-137">Ez az úgynevezett belső terheléselosztás, és a következőképpen használható:</span><span class="sxs-lookup"><span data-stu-id="83ead-137">This is known as internal load balancing and can be used in the following ways:</span></span>

* <span data-ttu-id="83ead-138">A többrétegű alkalmazások (például közötti web- és az Adatbázisréteg) külön rétegekhez kiszolgálója között terheléselosztásához.</span><span class="sxs-lookup"><span data-stu-id="83ead-138">To load balance between servers in different tiers of a multi-tier application (for example, between web and database tiers).</span></span>
* <span data-ttu-id="83ead-139">Egyenleg-üzletági (LOB) alkalmazások anélkül, hogy további load balancer hardver- vagy Azure-ban üzemeltetett betöltése.</span><span class="sxs-lookup"><span data-stu-id="83ead-139">To load balance line-of-business (LOB) applications hosted in Azure without requiring additional load balancer hardware or software.</span></span>
* <span data-ttu-id="83ead-140">A helyszíni kiszolgálók tartalmazza a számítógépet, amelynek a forgalmát terhelés készletében átgondolni.</span><span class="sxs-lookup"><span data-stu-id="83ead-140">To include on-premises servers in the set of computers whose traffic is load balanced.</span></span>

<span data-ttu-id="83ead-141">Az Azure load hasonló terheléselosztási, belső terheléselosztási megkönnyíthető egy belső elosztott terhelésű készlet konfigurálása.</span><span class="sxs-lookup"><span data-stu-id="83ead-141">Similar to Azure load balancing, internal load balancing is facilitated by configuring an internal load-balanced set.</span></span>

<span data-ttu-id="83ead-142">Az alábbi ábrán látható egy példa egy belső elosztott terhelésű végpont üzletági (LOB) alkalmazás három virtuális gépek között a létesítmények közötti virtuális hálózaton lévő megosztott sor.</span><span class="sxs-lookup"><span data-stu-id="83ead-142">The following diagram shows an example of an internal load-balanced endpoint for a line of business (LOB) application that is shared among three virtual machines in a cross-premises virtual network.</span></span>

![terheléselosztás](./media/virtual-machines-common-load-balance/LOBServers.png)

## <a name="load-balancer-considerations"></a><span data-ttu-id="83ead-144">Load balancer kapcsolatos szempontok</span><span class="sxs-lookup"><span data-stu-id="83ead-144">Load balancer considerations</span></span>
<span data-ttu-id="83ead-145">A terheléselosztó egy 4 percben üresjárat időkorlátja alapértelmezés szerint van konfigurálva.</span><span class="sxs-lookup"><span data-stu-id="83ead-145">A load balancer is configured by default to timeout an idle session in 4 minutes.</span></span> <span data-ttu-id="83ead-146">Ha az alkalmazás egy terheléselosztó mögött elhagyja a kapcsolat üresjáratban 4 percnél hosszabb ideig, és nem rendelkezik egy életben tartási konfigurációs, a kapcsolatot a rendszer eldobja.</span><span class="sxs-lookup"><span data-stu-id="83ead-146">If your application behind a load balancer leaves a connection idle for more than 4 minutes and it doesn't have a Keep-Alive configuration, the connection will be dropped.</span></span> <span data-ttu-id="83ead-147">Módosíthatja a terheléselosztó GUID engedélyezi egy [hosszabb időtúllépés beállítása az Azure terheléselosztó](../articles/load-balancer/load-balancer-tcp-idle-timeout.md).</span><span class="sxs-lookup"><span data-stu-id="83ead-147">You can change the load balancer behavior to allow a [longer timeout setting for Azure load balancer](../articles/load-balancer/load-balancer-tcp-idle-timeout.md).</span></span>

<span data-ttu-id="83ead-148">Egyéb szempont, hogy milyen típusú Azure terheléselosztó által támogatott terjesztési mód.</span><span class="sxs-lookup"><span data-stu-id="83ead-148">Other consideration is the type of distribution mode supported by Azure Load Balancer.</span></span> <span data-ttu-id="83ead-149">Konfigurálhatja a forrás IP-kapcsolat (forrás IP-címe, cél IP-cím) vagy a forrás IP-protokoll (forrás IP-címe, cél IP-címe és protokoll).</span><span class="sxs-lookup"><span data-stu-id="83ead-149">You can configure source IP affinity (source IP, destination IP) or source IP protocol (source IP , destination IP and protocol).</span></span> <span data-ttu-id="83ead-150">Tekintse meg [Azure Load Balancer módot (forrás IP-kapcsolat)](../articles/load-balancer/load-balancer-distribution-mode.md) további információt.</span><span class="sxs-lookup"><span data-stu-id="83ead-150">Check out [Azure Load Balancer distribution mode (source IP affinity)](../articles/load-balancer/load-balancer-distribution-mode.md) for more information.</span></span>

## <a name="next-steps"></a><span data-ttu-id="83ead-151">Következő lépések</span><span class="sxs-lookup"><span data-stu-id="83ead-151">Next steps</span></span>
<span data-ttu-id="83ead-152">Hozzon létre egy elosztott terhelésű készletet lépéseiért lásd: [konfigurálása egy belső elosztott terhelésű készlet](../articles/load-balancer/load-balancer-get-started-ilb-arm-ps.md).</span><span class="sxs-lookup"><span data-stu-id="83ead-152">For the steps to create a load-balanced set, see [Configure an internal load-balanced set](../articles/load-balancer/load-balancer-get-started-ilb-arm-ps.md).</span></span>

<span data-ttu-id="83ead-153">Terheléselosztó kapcsolatos további információkért lásd: [belső terheléselosztás](../articles/load-balancer/load-balancer-internal-overview.md).</span><span class="sxs-lookup"><span data-stu-id="83ead-153">For more information about load balancer, see [Internal load balancing](../articles/load-balancer/load-balancer-internal-overview.md).</span></span>

