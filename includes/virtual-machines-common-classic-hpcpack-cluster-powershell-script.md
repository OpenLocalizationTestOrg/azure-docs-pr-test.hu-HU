



<span data-ttu-id="78718-101">Attól függően, hogy a környezet és a választási lehetőségek hello parancsfájl hozhat létre minden hello fürt infrastruktúráról, beleértve a hello Azure-beli virtuális hálózat, storage-fiókok, felhőszolgáltatások, tartományvezérlő, helyi vagy távoli SQL-adatbázisok, átjárócsomópont és további fürt csomópontok.</span><span class="sxs-lookup"><span data-stu-id="78718-101">Depending on your environment and choices, hello script can create all hello cluster infrastructure, including hello Azure virtual network, storage accounts, cloud services, domain controller, remote or local SQL databases, head node, and additional cluster nodes.</span></span> <span data-ttu-id="78718-102">Azt is megteheti hello parancsfájl használja a már meglévő Azure-infrastruktúra és létrehozása csak hello HPC-fürt csomópontja.</span><span class="sxs-lookup"><span data-stu-id="78718-102">Alternatively, hello script can use pre-existing Azure infrastructure and create only hello HPC cluster nodes.</span></span>

<span data-ttu-id="78718-103">Egy HPC Pack fürt tervezésével kapcsolatos háttér-információkat, lásd: hello [a termék próbaváltozata és tervezése](https://technet.microsoft.com/library/jj899596.aspx) és [bevezetés](https://technet.microsoft.com/library/jj899590.aspx) az hello HPC Pack 2012 R2 TechNet könyvtár tartalma.</span><span class="sxs-lookup"><span data-stu-id="78718-103">For background information about planning an HPC Pack cluster, see hello [Product Evaluation and Planning](https://technet.microsoft.com/library/jj899596.aspx) and [Getting Started](https://technet.microsoft.com/library/jj899590.aspx) content in hello HPC Pack 2012 R2 TechNet Library.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="78718-104">Előfeltételek</span><span class="sxs-lookup"><span data-stu-id="78718-104">Prerequisites</span></span>
* <span data-ttu-id="78718-105">**Azure-előfizetés**: előfizetés vagy hello Azure globális vagy Azure Kína szolgáltatás használhatja.</span><span class="sxs-lookup"><span data-stu-id="78718-105">**Azure subscription**: You can use a subscription in either hello Azure Global or Azure China service.</span></span> <span data-ttu-id="78718-106">Az előfizetési korlátozásait hello számát és típusát telepítése fürtcsomópontok hatással.</span><span class="sxs-lookup"><span data-stu-id="78718-106">Your subscription limits affect hello number and type of cluster nodes you can deploy.</span></span> <span data-ttu-id="78718-107">További információ: [Azure-előfizetés és szolgáltatási korlátok, kvóták és megkötések](../articles/azure-subscription-service-limits.md).</span><span class="sxs-lookup"><span data-stu-id="78718-107">For information, see [Azure subscription and service limits, quotas, and constraints](../articles/azure-subscription-service-limits.md).</span></span>
* <span data-ttu-id="78718-108">**Az Azure PowerShell 0.8.10 Windows-ügyfélszámítógéppel, vagy később telepített és konfigurált**: lásd: [Ismerkedés az Azure PowerShell](/powershell/azureps-cmdlets-docs) a telepítési utasításokat és lépéseket tooconnect tooyour Azure-előfizetés.</span><span class="sxs-lookup"><span data-stu-id="78718-108">**Windows client computer with Azure PowerShell 0.8.10 or later installed and configured**: See [Get started with Azure PowerShell](/powershell/azureps-cmdlets-docs) for installation instructions and steps tooconnect tooyour Azure subscription.</span></span>
* <span data-ttu-id="78718-109">**HPC Pack IaaS telepítési parancsfájl**: Töltse le és csomagolja ki a legújabb verziójának hello hello hello parancsfájlt [Microsoft Download Center](https://www.microsoft.com/download/details.aspx?id=44949).</span><span class="sxs-lookup"><span data-stu-id="78718-109">**HPC Pack IaaS deployment script**: Download and unpack hello latest version of hello script from hello [Microsoft Download Center](https://www.microsoft.com/download/details.aspx?id=44949).</span></span> <span data-ttu-id="78718-110">Verzióellenőrzés hello hello parancsfájl futtatásával `New-HPCIaaSCluster.ps1 –Version`.</span><span class="sxs-lookup"><span data-stu-id="78718-110">Check hello version of hello script by running `New-HPCIaaSCluster.ps1 –Version`.</span></span> <span data-ttu-id="78718-111">Ez a cikk hello parancsfájl 4.5.2-es verziójának alapul.</span><span class="sxs-lookup"><span data-stu-id="78718-111">This article is based on version 4.5.2 of hello script.</span></span>
* <span data-ttu-id="78718-112">**Parancsfájl konfigurációs fájlja**: hozzon létre egy XML-fájlt, hogy a parancsfájl hello tooconfigure hello HPC-fürt használja.</span><span class="sxs-lookup"><span data-stu-id="78718-112">**Script configuration file**: Create an XML file that hello script uses tooconfigure hello HPC cluster.</span></span> <span data-ttu-id="78718-113">Ehhez útmutatást és példákat lásd a cikkben később, és a fájl, amely a telepítési parancsfájl hello társul Manual.rtf hello.</span><span class="sxs-lookup"><span data-stu-id="78718-113">For information and examples, see sections later in this article and hello file Manual.rtf that accompanies hello deployment script.</span></span>

## <a name="syntax"></a><span data-ttu-id="78718-114">Szintaxis</span><span class="sxs-lookup"><span data-stu-id="78718-114">Syntax</span></span>
```PowerShell
New-HPCIaaSCluster.ps1 [-ConfigFile] <String> [-AdminUserName]<String> [[-AdminPassword] <String>] [[-HPCImageName] <String>] [[-LogFile] <String>] [-Force] [-NoCleanOnFailure] [-PSSessionSkipCACheck] [<CommonParameters>]
```
> [!NOTE]
> <span data-ttu-id="78718-115">Hello parancsfájl futtatása rendszergazdaként.</span><span class="sxs-lookup"><span data-stu-id="78718-115">Run hello script as an administrator.</span></span>
> 
> 

### <a name="parameters"></a><span data-ttu-id="78718-116">Paraméterek</span><span class="sxs-lookup"><span data-stu-id="78718-116">Parameters</span></span>
* <span data-ttu-id="78718-117">**ConfigFile**: hello konfigurációs fájl toodescribe hello HPC-fürt hello fájl elérési útját adja meg.</span><span class="sxs-lookup"><span data-stu-id="78718-117">**ConfigFile**: Specifies hello file path of hello configuration file toodescribe hello HPC cluster.</span></span> <span data-ttu-id="78718-118">Lásd: hello konfigurációs fájl ebben a témakörben vagy hello parancsfájl tartalmazó hello mappában Manual.rtf hello fájlban olvashat.</span><span class="sxs-lookup"><span data-stu-id="78718-118">See more about hello configuration file in this topic, or in hello file Manual.rtf in hello folder containing hello script.</span></span>
* <span data-ttu-id="78718-119">**AdminUserName**: hello felhasználónevét határozza meg.</span><span class="sxs-lookup"><span data-stu-id="78718-119">**AdminUserName**: Specifies hello user name.</span></span> <span data-ttu-id="78718-120">Hello tartományerdő hello parancsfájl hozta létre, ha ez lesz az összes virtuális gép hello helyi rendszergazdai felhasználónév és hello tartomány-rendszergazdai nevet.</span><span class="sxs-lookup"><span data-stu-id="78718-120">If hello domain forest is created by hello script, this becomes hello local administrator user name for all VMs and hello domain administrator name.</span></span> <span data-ttu-id="78718-121">Ha hello tartomány erdő már létezik, ez adja meg, hello tartományi felhasználó helyi rendszergazdai felhasználói név tooinstall HPC Pack hello.</span><span class="sxs-lookup"><span data-stu-id="78718-121">If hello domain forest already exists, this specifies hello domain user as hello local administrator user name tooinstall HPC Pack.</span></span>
* <span data-ttu-id="78718-122">**AdminPassword**: hello rendszergazdai jelszót ad meg.</span><span class="sxs-lookup"><span data-stu-id="78718-122">**AdminPassword**: Specifies hello administrator’s password.</span></span> <span data-ttu-id="78718-123">Ha nincs megadva a parancssorban hello, hello parancsfájl kéri tooinput hello jelszót.</span><span class="sxs-lookup"><span data-stu-id="78718-123">If not specified in hello command line, hello script prompts you tooinput hello password.</span></span>
* <span data-ttu-id="78718-124">**HPCImageName** (nem kötelező): meghatározza a hello HPC Pack VM lemezképnév használt toodeploy hello HPC-fürtben.</span><span class="sxs-lookup"><span data-stu-id="78718-124">**HPCImageName** (optional): Specifies hello HPC Pack VM image name used toodeploy hello HPC cluster.</span></span> <span data-ttu-id="78718-125">A Microsoft által biztosított HPC Pack lemezkép hello Azure piactér kell lennie.</span><span class="sxs-lookup"><span data-stu-id="78718-125">It must be a Microsoft-provided HPC Pack image from hello Azure Marketplace.</span></span> <span data-ttu-id="78718-126">Ha nincs megadva (ajánlott általában), hello parancsfájl úgy dönt, legújabb közzétett hello [HPC Pack 2012 R2 rendszerképnél](https://azure.microsoft.com/marketplace/partners/microsoft/hpcpack2012r2onwindowsserver2012r2/).</span><span class="sxs-lookup"><span data-stu-id="78718-126">If not specified (recommended usually), hello script chooses hello latest published [HPC Pack 2012 R2 image](https://azure.microsoft.com/marketplace/partners/microsoft/hpcpack2012r2onwindowsserver2012r2/).</span></span> <span data-ttu-id="78718-127">hello legújabb lemezkép a Windows Server 2012 R2 Datacenter HPC Pack 2012 R2 Update 3 telepítve alapul.</span><span class="sxs-lookup"><span data-stu-id="78718-127">hello latest image is based on Windows Server 2012 R2 Datacenter with HPC Pack 2012 R2 Update 3 installed.</span></span>
  
  > [!NOTE]
  > <span data-ttu-id="78718-128">Központi telepítés sikertelen lesz, ha nem adja meg egy érvényes HPC Pack lemezképet.</span><span class="sxs-lookup"><span data-stu-id="78718-128">Deployment fails if you don't specify a valid HPC Pack image.</span></span>
  > 
  > 
* <span data-ttu-id="78718-129">**Naplófájl** (nem kötelező): hello telepítési naplófájl elérési útjának megadása.</span><span class="sxs-lookup"><span data-stu-id="78718-129">**LogFile** (optional): Specifies hello deployment log file path.</span></span> <span data-ttu-id="78718-130">Ha nincs megadva, hello parancsfájl hello temp könyvtárában hello futtató hello parancsfájl létrehoz egy naplófájlt.</span><span class="sxs-lookup"><span data-stu-id="78718-130">If not specified, hello script creates a log file in hello temp directory of hello computer running hello script.</span></span>
* <span data-ttu-id="78718-131">**Kényszerített** (nem kötelező): minden hello megerősítő kérdések.</span><span class="sxs-lookup"><span data-stu-id="78718-131">**Force** (optional): Suppresses all hello confirmation prompts.</span></span>
* <span data-ttu-id="78718-132">**NoCleanOnFailure** (nem kötelező): Adja meg a rendszer nem távolítja el az adott hello Azure virtuális gépeken, amelyek telepítése nem sikerült.</span><span class="sxs-lookup"><span data-stu-id="78718-132">**NoCleanOnFailure** (optional): Specifies that hello Azure VMs that are not successfully deployed are not removed.</span></span> <span data-ttu-id="78718-133">Hello parancsfájl toocontinue hello központi telepítés ismételt futtatása előtt manuálisan távolítsa el a virtuális gépeken, vagy hello telepítés sikertelen lehet.</span><span class="sxs-lookup"><span data-stu-id="78718-133">Remove these VMs manually before rerunning hello script toocontinue hello deployment, or hello deployment may fail.</span></span>
* <span data-ttu-id="78718-134">**PSSessionSkipCACheck** (nem kötelező): minden felhőalapú szolgáltatás, a parancsfájl által központilag telepített virtuális gépek, az Azure által automatikusan generált önaláírt tanúsítványt, és minden hello virtuális gépek hello a felhőszolgáltatásban található tanúsítvány használata alapértelmezett Windows hello A távoli felügyeleti (webszolgáltatások WinRM) tanúsítvány.</span><span class="sxs-lookup"><span data-stu-id="78718-134">**PSSessionSkipCACheck** (optional): For every cloud service with VMs deployed by this script, a self-signed certificate is automatically generated by Azure, and all hello VMs in hello cloud service use this certificate as hello default Windows Remote Management (WinRM) certificate.</span></span> <span data-ttu-id="78718-135">toodeploy HPC-szolgáltatások az Azure virtuális gépeken, alapértelmezés szerint hello parancsfájl átmenetileg telepíti ezeket a tanúsítványokat a helyi számítógép hello\\hello ügyfél számítógép toosuppress megbízható legfelső szintű hitelesítésszolgáltatók tárolójában hello "nem megbízható hitelesítésszolgáltató" biztonsági Hiba történt a parancsfájl végrehajtása közben.</span><span class="sxs-lookup"><span data-stu-id="78718-135">toodeploy HPC features in these Azure VMs, hello script by default temporarily installs these certificates in hello Local Computer\\Trusted Root Certification Authorities store of hello client computer toosuppress hello “not trusted CA” security error during script execution.</span></span> <span data-ttu-id="78718-136">hello tanúsítványok hello parancsfájl befejezése után törlődnek.</span><span class="sxs-lookup"><span data-stu-id="78718-136">hello certificates are removed when hello script finishes.</span></span> <span data-ttu-id="78718-137">Ha ez a paraméter van megadva, hello tanúsítványok hello ügyfélszámítógépen nincs telepítve, és hello biztonsági figyelmeztetés nem jelenik meg.</span><span class="sxs-lookup"><span data-stu-id="78718-137">If this parameter is specified, hello certificates are not installed in hello client computer, and hello security warning is suppressed.</span></span>
  
  > [!IMPORTANT]
  > <span data-ttu-id="78718-138">Ez a paraméter nem ajánlott az üzemi környezetek.</span><span class="sxs-lookup"><span data-stu-id="78718-138">This parameter is not recommended for production deployments.</span></span>
  > 
  > 

### <a name="example"></a><span data-ttu-id="78718-139">Példa</span><span class="sxs-lookup"><span data-stu-id="78718-139">Example</span></span>
<span data-ttu-id="78718-140">hello alábbi példa fürtöt hoz létre egy HPC Pack a konfigurációs fájl használata *MyConfigFile.xml*, és adja meg a rendszergazdai hitelesítő adatok hello fürt telepítéséhez.</span><span class="sxs-lookup"><span data-stu-id="78718-140">hello following example creates an HPC Pack cluster using the configuration file *MyConfigFile.xml*, and specifies administrator credentials for installing hello cluster.</span></span>

```PowerShell
.\New-HPCIaaSCluster.ps1 –ConfigFile MyConfigFile.xml -AdminUserName <username> –AdminPassword <password>
```

### <a name="additional-considerations"></a><span data-ttu-id="78718-141">Néhány fontos megjegyzés</span><span class="sxs-lookup"><span data-stu-id="78718-141">Additional considerations</span></span>
* <span data-ttu-id="78718-142">hello parancsfájl engedélyezheti a feladat elküldése hello HPC Pack webes portál vagy hello HPC Pack REST API-n keresztül.</span><span class="sxs-lookup"><span data-stu-id="78718-142">hello script can optionally enable job submission through hello HPC Pack web portal or hello HPC Pack REST API.</span></span>
* <span data-ttu-id="78718-143">hello opcionálisan parancsfájlt egyéni előtti és utáni konfigurációs parancsfájlok hello átjárócsomópont Ha szeretné, hogy tooinstall további szoftvereket vagy más beállítások konfigurálása.</span><span class="sxs-lookup"><span data-stu-id="78718-143">hello script can optionally run custom pre- and post-configuration scripts on hello head node if you want tooinstall additional software or configure other settings.</span></span>

## <a name="configuration-file"></a><span data-ttu-id="78718-144">Konfigurációs fájl</span><span class="sxs-lookup"><span data-stu-id="78718-144">Configuration file</span></span>
<span data-ttu-id="78718-145">hello konfigurációs hello telepítési parancsfájl fájlja egy XML-fájlt.</span><span class="sxs-lookup"><span data-stu-id="78718-145">hello configuration file for hello deployment script is an XML file.</span></span> <span data-ttu-id="78718-146">hello sémafájl HPCIaaSClusterConfig.xsd hello HPC Pack IaaS telepítési parancsfájl mappában van.</span><span class="sxs-lookup"><span data-stu-id="78718-146">hello schema file HPCIaaSClusterConfig.xsd is in hello HPC Pack IaaS deployment script folder.</span></span> <span data-ttu-id="78718-147">**IaaSClusterConfig** hello fájl hello telepítési parancsfájl mappában Manual.rtf részletes leírását lásd hello gyermekelemet tartalmaz hello konfigurációs fájl gyökérelemének hello van.</span><span class="sxs-lookup"><span data-stu-id="78718-147">**IaaSClusterConfig** is hello root element of hello configuration file, which contains hello child elements described in detail in hello file Manual.rtf in hello deployment script folder.</span></span>

